<html>
<head>
<title>A simple online Publisher using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js的简单在线发布程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-simple-online-publisher-using-node-js-81de6d8f40ee?source=collection_archive---------21-----------------------#2020-05-02">https://medium.com/analytics-vidhya/a-simple-online-publisher-using-node-js-81de6d8f40ee?source=collection_archive---------21-----------------------#2020-05-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="15fa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有没有想过创建像Medium这样的网络发布平台？</p><p id="0fa1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这并不是我们不能做的。让我们使用node构建简单的publisher web应用程序。</p><h2 id="b82e" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">为什么是Node.js？</h2><p id="5d06" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">我们大多数人都熟悉javascript，并在前端使用javascript或类似jQuery的框架为网站添加行为。因此，有了node，我们也可以使用相同的javascript来创建后端。</p><p id="d288" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它允许创建可扩展和快速运行的网站。</p><p id="b9f6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Node js代码可以在服务器上运行，以处理用户查询并向用户发回文件。</p><p id="aec3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将使用一个广泛使用的叫做Express.js的node.js框架，它可以节省大量的编码时间。Express为node添加了许多功能，使其易于使用。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kk"><img src="../Images/d52b6b3382e8055a0d04a99f288d3122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Z8xl9ZqV9UibcexbyMHAA.png"/></div></div></figure><p id="83f0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们开始吧！！</p><h1 id="dbcc" class="kw jl hi bd jm kx ky kz jq la lb lc ju ld le lf jx lg lh li ka lj lk ll kd lm bi translated">初始设置</h1><p id="26fc" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">为我们的网站创建一个新目录。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="492a" class="jk jl hi lo b fi ls lt l lu lv">mkdir publisher</span><span id="63b7" class="jk jl hi lo b fi lw lt l lu lv">cd publisher</span></pre><p id="76f8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建packages.json以包含基本的项目信息。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="1963" class="jk jl hi lo b fi ls lt l lu lv">npm init</span></pre><p id="1161" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安装必要的软件包。使用以下命令。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="39d1" class="jk jl hi lo b fi ls lt l lu lv">npm i express body-parser ejs </span></pre><p id="3d18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">body-parser用于读取用户输入的信息。</p><p id="cf48" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ejs是javascript模板库，用于在html文件中嵌入javascript代码。</p><p id="9968" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将在视图目录中创建必要的ejs文件。由于我们正在制作简单的应用程序，我们只需要主页，撰写和发布页面。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="3c74" class="jk jl hi lo b fi ls lt l lu lv">mkdir views</span><span id="9113" class="jk jl hi lo b fi lw lt l lu lv">cd views</span><span id="4083" class="jk jl hi lo b fi lw lt l lu lv">touch home.ejs compose.ejs post.ejs header.ejs footer.ejs</span><span id="546e" class="jk jl hi lo b fi lw lt l lu lv">cd ..</span></pre><p id="23ef" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建一个自定义的css文件</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="0a4b" class="jk jl hi lo b fi ls lt l lu lv">mkdir public<br/>cd public<br/>touch styles.css</span></pre><p id="695e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在创建重要的文件app.js</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="5b04" class="jk jl hi lo b fi ls lt l lu lv">touch app.js</span></pre><p id="4611" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后看看文件结构</p><figure class="kl km kn ko fd kp er es paragraph-image"><div class="er es lx"><img src="../Images/7e8143a477013acaf354e6d303790d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*AAbBXbISK0HHu1dLDxSXjQ.png"/></div></figure><p id="a58a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安装完成！！</p><p id="ad8e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">开始编码..</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="59ad" class="jk jl hi lo b fi ls lt l lu lv">atom .</span></pre><h1 id="ae91" class="kw jl hi bd jm kx ky kz jq la lb lc ju ld le lf jx lg lh li ka lj lk ll kd lm bi translated">编码app.js</h1><p id="ad17" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">像任何其他编程语言一样，我们将从导入库开始。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="8dda" class="jk jl hi lo b fi ls lt l lu lv">const express = require("express");<br/>const bodyParser = require("body-parser");<br/>const ejs = require("ejs");</span></pre><p id="4470" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">设置快递和ejs。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="9c28" class="jk jl hi lo b fi ls lt l lu lv">app.set('view engine', 'ejs');</span><span id="f9ab" class="jk jl hi lo b fi lw lt l lu lv">app.use(bodyParser.urlencoded({extended: true}));<br/>app.use(express.static("public"));</span></pre><p id="8786" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后一行是包括自定义css。</p><p id="3231" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">设置端口。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="1952" class="jk jl hi lo b fi ls lt l lu lv">app.listen(3000, function() {<br/>  console.log("Server started on port 3000");<br/>});</span></pre><p id="fdf1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这允许我们使用<strong class="io hj"> localhost:3000 </strong>访问我们的网站</p><h2 id="9775" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">处理路线…</h2><p id="2cbb" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">清楚搬运路线很重要。</p><p id="d0c0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将为用户的get和post请求创建回调函数。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="724b" class="jk jl hi lo b fi ls lt l lu lv">app.get(“/”,function(req,res){<br/>             res.send("Hello world");<br/>             }<br/>        );</span></pre><p id="1d18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是一个简单的回调函数，将get请求传递给主页(<strong class="io hj"> localhost:3000 </strong>)。这将简单地向用户显示hello world。</p><p id="e8a4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">同样的，如果你想处理<strong class="io hj"> localhost:3000/compose </strong></p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="eca3" class="jk jl hi lo b fi ls lt l lu lv">app.get("/compose",function(req,res){....});</span></pre><p id="682c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们回到我们的web应用程序。</p><h1 id="29f3" class="kw jl hi bd jm kx ky kz jq la lb lc ju ld le lf jx lg lh li ka lj lk ll kd lm bi translated">在我们的网站中处理路线</h1><p id="c032" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">我们将准备好app.js和ejs文件。</p><p id="f9d3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">页眉和页脚将保留在所有主页、撰写和发布文件中。所以我们将它们分离出来，包含在剩余的文件中。</p><p id="b052" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">header.ejs</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="0986" class="jk jl hi lo b fi ls lt l lu lv">&lt;html lang="en" dir="ltr"&gt;</span><span id="aecb" class="jk jl hi lo b fi lw lt l lu lv">&lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;PUBLISHER&lt;/title&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;link rel="stylesheet"     <br/> href="<a class="ae ly" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css</a>"&gt;<br/>  &lt;link rel="stylesheet" href="/styles.css"&gt;<br/>  &lt;nav class="navbar navbar-default"&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;div class="navbar-header"&gt;<br/>        &lt;p class="navbar-brand"&gt; PUBLISHER&lt;/p&gt;<br/>      &lt;/div&gt;<br/>        &lt;ul class="nav navbar-nav navbar-right"&gt;<br/>          &lt;!-- 6 --&gt;<br/>          &lt;li id="home"&gt;&lt;a href="/"&gt;HOME&lt;/a&gt;&lt;/li&gt;</span><span id="824f" class="jk jl hi lo b fi lw lt l lu lv">          &lt;li id="compose"&gt;&lt;a href="/compose"&gt;WRITE POST&lt;/a&gt;&lt;/li&gt;<br/>        &lt;/ul&gt;<br/>    &lt;/div&gt;<br/>  &lt;/nav&gt;<br/>&lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div class="container"&gt;</span></pre><p id="54b7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">页脚. ejs</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="5ab4" class="jk jl hi lo b fi ls lt l lu lv"><br/>  &lt;div class="footer"&gt;<br/>    &lt;p&gt;Post knowledge not nonsense&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="dd38" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将从主页开始。</p><p id="5701" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">主页将有页眉和页脚。它将显示用户创建的帖子。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lz"><img src="../Images/be8ce957bb121d8ecc8bce0a470140d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MakhYtuaabKukH_HVitwRA.png"/></div></div></figure><p id="edbe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">home.ejs将接收来自app.js的起始内容和帖子。</p><p id="d5e8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我使用了自举卡布局。</p><p id="a5d8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">标签用于显示网站内容。</p><p id="53bb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">标签用于包含文件。</p><p id="5f05" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">标签用于编写java脚本代码。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="0ef5" class="jk jl hi lo b fi ls lt l lu lv">&lt;%- include("header"); -%&gt;</span><span id="c2d0" class="jk jl hi lo b fi lw lt l lu lv">&lt;div class="card text-white bg-light rounded-top rounded-left border-dark "&gt;</span><span id="a901" class="jk jl hi lo b fi lw lt l lu lv">&lt;div class="card-body"&gt;<br/>  &lt;h1 class="card-title"&gt;Artificil Intelligence&lt;/h1&gt;<br/>  &lt;p class="card-text "&gt;&lt;%= startingContent %&gt;&lt;/p&gt;</span><span id="60a1" class="jk jl hi lo b fi lw lt l lu lv">&lt;/div&gt;<br/>&lt;/div&gt;</span><span id="4bae" class="jk jl hi lo b fi lw lt l lu lv">&lt;% posts.forEach(function(post){ %&gt;<br/>  &lt;div class="card text-white bg-light rounded-top border-dark "&gt;</span><span id="c238" class="jk jl hi lo b fi lw lt l lu lv">&lt;div class="card-body"&gt;<br/>    &lt;h1 class="card-title"&gt; &lt;%= post.title %&gt;&lt;/h1&gt;<br/>    &lt;p class="card-text"&gt;&lt;%= post.content.substring(0,50)+"..." %&gt;&lt;/p&gt;<br/>    &lt;a href="/posts/&lt;%= post.title %&gt;" class="btn btn-primary"&gt;Read complete post &lt;/a&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/>&lt;% }) %&gt;</span><span id="1bc9" class="jk jl hi lo b fi lw lt l lu lv">&lt;%- include("footer"); -%&gt;</span></pre><p id="d29f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在app.js中，包含以下代码</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="33e2" class="jk jl hi lo b fi ls lt l lu lv">const content = " Artificial intelligence (AI) refers to the simulation of human intelligence in machines that are programmed to think like humans and mimic their actions. The term may also be applied to any machine that exhibits traits associated with a human mind such as learning and problem-solving";</span><span id="520e" class="jk jl hi lo b fi lw lt l lu lv">let posts=[]</span><span id="a580" class="jk jl hi lo b fi lw lt l lu lv">app.get("/",function(req,res)<br/>{<br/>res.render("home",{startingContent: content, posts : posts});<br/>}<br/>);</span></pre><p id="4f18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">主页已完成。</p><p id="0cea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">内容是静态的，文章数组仍然是空的。文章数组将被用户写的文章填充。</p><p id="e11d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我们接下来将构建我们的compose.ejs。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ma"><img src="../Images/a5e7e7c0537a3d94bdffc6e99cbe3e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7netN0q5WIyy-0o2qpUNA.png"/></div></div></figure><p id="0ad3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">compose.ejs还将包含页眉和页脚。我们需要从用户这里输入，并张贴到“/撰写”</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="8bdd" class="jk jl hi lo b fi ls lt l lu lv">&lt;%- include("header"); -%&gt;</span><span id="1c0e" class="jk jl hi lo b fi lw lt l lu lv">&lt;h1&gt;Compose&lt;/h1&gt;<br/>&lt;form class="" action="/compose" method="post"&gt;<br/>  &lt;div class="form-group"&gt;<br/>    &lt;h3&gt;Title&lt;/h3&gt;<br/>    &lt;input type="text" name="title" placeholder="enter title" class="form-control" &gt;<br/>    &lt;h3&gt;Post&lt;/h3&gt;<br/>    &lt;textarea name="post" rows="7" cols="60" class="form-control" placeholder="enter content"&gt;&lt;/textarea&gt;</span><span id="f69c" class="jk jl hi lo b fi lw lt l lu lv">&lt;/div&gt;</span><span id="6ed9" class="jk jl hi lo b fi lw lt l lu lv">&lt;button type="submit" name="button" class="btn btn-primary"&gt;publish&lt;/button&gt;</span><span id="e239" class="jk jl hi lo b fi lw lt l lu lv">&lt;/form&gt;</span><span id="b74f" class="jk jl hi lo b fi lw lt l lu lv">&lt;%- include("footer"); -%&gt;</span></pre><p id="e375" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从用户那里获得输入后，我们将把它添加到posts数组中。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="3dde" class="jk jl hi lo b fi ls lt l lu lv">app.post(“/compose”,function(req,res){<br/>let post = {<br/>    title : req.body.title,<br/>    postc : req.body.post<br/>  };<br/>  posts.push(post);</span><span id="ec2e" class="jk jl hi lo b fi lw lt l lu lv">res.redirect("/");</span><span id="d691" class="jk jl hi lo b fi lw lt l lu lv">});</span></pre><p id="1b8d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">也完成了我们的撰写页面。</p><p id="ac01" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，当用户点击“阅读完整文章”时，我们需要向用户显示文章</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es mb"><img src="../Images/2fe89b19310300f0fe6e9d72c80428dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_KnG6o-QhHnwbdmXJEXb5A.png"/></div></div></figure><p id="224d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">post.ejs还将包含页眉和页脚。它将显示特定的邮件。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es mc"><img src="../Images/ff14ac84532b94fd6c8e75070e8b8a4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GlG9qPEUEbaLmB0alnqOPA.png"/></div></div></figure><p id="6e97" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">post.ejs的代码是</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="f246" class="jk jl hi lo b fi ls lt l lu lv">&lt;%- include("partials/header"); -%&gt;</span><span id="4008" class="jk jl hi lo b fi lw lt l lu lv">&lt;h2&gt; &lt;%= title %&gt; &lt;/h2&gt;<br/>  &lt;p&gt; &lt;%= content %&gt; &lt;/p&gt;</span><span id="2b18" class="jk jl hi lo b fi lw lt l lu lv">&lt;%- include("partials/footer"); -%&gt;</span></pre><p id="b01c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们需要在app.js中包含以下内容</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="79f4" class="jk jl hi lo b fi ls lt l lu lv">app.get("/posts/:postname",function(req,res){<br/>posts.forEach(function(post){<br/>if(req.params.postname === post.title)<br/>res.render("post",{title : post.title, postc : post.postc});<br/>}<br/>);</span></pre><p id="789f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当用户点击主页中的“阅读完整文章”时，这个回调函数被触发。</p><pre class="kl km kn ko fd ln lo lp lq aw lr bi"><span id="4057" class="jk jl hi lo b fi ls lt l lu lv">&lt;a href="/posts/&lt;%= post.title %&gt;" class="btn btn-primary"&gt;Read complete post &lt;/a&gt;</span></pre><p id="0c21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">就是这样！！！</p><h1 id="b7a7" class="kw jl hi bd jm kx ky kz jq la lb lc ju ld le lf jx lg lh li ka lj lk ll kd lm bi translated">下一个想法</h1><p id="025f" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">我们有我们简单的出版商网站，显示用户写的内容。</p><p id="fb33" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是这里的信息不是永久的。当用户重启服务器时，一切都将消失。因此，我们的下一个想法是包括数据库来存储用户发布的内容。</p><p id="94a6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">包含在下一篇<a class="ae ly" rel="noopener" href="/@maheshsai252/adding-mongo-db-to-a-simple-web-application-created-with-node-b50d1d41f854">文章</a>中！！</p><h1 id="ea61" class="kw jl hi bd jm kx ky kz jq la lb lc ju ld le lf jx lg lh li ka lj lk ll kd lm bi translated">结论</h1><p id="d906" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">我们已经创建了简单的出版商网站，用户可以发布一些内容。</p><p id="07e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">全部代码可在<a class="ae ly" href="https://github.com/maheshsai252/publisher" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><p id="60e3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">感谢阅读！！！</p></div></div>    
</body>
</html>