<html>
<head>
<title>Understanding ZMAP+ File Format</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解ZMAP+文件格式</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-zmap-file-format-e33032a6bd7a?source=collection_archive---------23-----------------------#2020-07-10">https://medium.com/analytics-vidhya/understanding-zmap-file-format-e33032a6bd7a?source=collection_archive---------23-----------------------#2020-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0cf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我想分享我对如何解释ZMAP文件格式的发现。</p><h1 id="dc9b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">ZMAP+ plus文件格式到底是什么</h1><p id="e08c" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">ZMapPlus是一种旧格式，用于以ASCII行格式存储网格数据，以便于传输和存储。它是石油和天然气勘探领域的应用程序中常用的读写格式。</p><p id="f299" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它适用于网格数据。该格式还支持点和面数据，但每个文件中只允许一种数据类型。有一组特定的标题行，它们定义了数据在文件中的写入方式以及标题后面的实际数据。</p><p id="21cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是示例zmap+文件。</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="3b2a" class="kp je hi kl b fi kq kr l ks kt">!<br/>! File created by DMBTools2.GridFileFormats.ZmapPlusFile<br/>!<br/>@GRID FILE, GRID, 4<br/>20, -9999.0000000, , 7, 1<br/>6, 4, 0, 200, 0, 300<br/>0.0, 0.0, 0.0<br/>@<br/>       -9999.0000000       -9999.0000000           3.0000000          32.0000000<br/>          88.0000000          13.0000000<br/>       -9999.0000000          20.0000000           8.0000000          42.0000000<br/>          75.0000000           5.0000000<br/>           5.0000000         100.0000000          35.0000000          50.0000000<br/>          27.0000000           1.0000000<br/>           2.0000000          36.0000000          10.0000000           6.0000000<br/>           9.0000000       -9999.0000000</span></pre><p id="7497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文件中的注释用“！”表示在行首。因此，如果第一个字符是“！”这一行是注释。</p><p id="87a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ZMAP+中有两个部分，头部分和数据部分。让我们逐一解码。</p><p id="5260" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">标题部分从带有“@”符号的第一行开始。数据从最后一个“@”符号后的第一行开始，可能只有两个。</p><p id="c5a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是上面样品的标题。标题字段用逗号分隔。让我们逐行查看字段。</p><ul class=""><li id="f5fe" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc kz la lb lc bi translated">在第1行，有三个字段:</li></ul><ol class=""><li id="b9fb" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc ld la lb lc bi translated">第一个是用户定义的，但很多时候只是“网格文件”。</li><li id="acb3" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第二，对于网格文件，必须是“grid”。</li><li id="4805" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第三个是一个整数，表示每条物理线上网格节点的数量。</li></ol><ul class=""><li id="944d" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc kz la lb lc bi translated">在第2行，有五个字段:</li></ul><ol class=""><li id="9a08" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc ld la lb lc bi translated">第一个字段是每个网格节点的字段宽度，存储在最后一个“@”下面的数据部分中(在标题部分下面)</li><li id="dafb" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第二个字段是缺失或空数据值，因为它将在数据节中找到。</li><li id="142c" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第三个字段是用户定义的文本值，用于指示缺失值或空值。在我们的案例中是空白的。只有当字段编号2为空/缺失时，才会使用该值。</li><li id="025a" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第四个字段指示在数据节点中找不到小数点时要使用的小数位数。</li><li id="0b25" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第五个字段指示文件数据部分中每行第一个网格节点的起始列。</li></ol><ul class=""><li id="4bc8" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc kz la lb lc bi translated">在第3行，有六个字段:</li></ul><ol class=""><li id="e5e1" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc ld la lb lc bi translated">第一个字段是网格中的行数。</li><li id="b8b7" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第二个字段是网格中的列数。(因此，数据部分中值的总数必须等于行*列)</li><li id="1e5a" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第三个是最小网格X节点值。(x分钟)</li><li id="4fc9" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第四个是最大网格X节点值。(x-max)</li><li id="117f" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第五个是最小网格Y节点值。(y分钟)</li><li id="f512" class="ku kv hi ih b ii le im lf iq lg iu lh iy li jc ld la lb lc bi translated">第六个是最大网格Y节点值。(y轴最大值)</li></ol><ul class=""><li id="4f6d" class="ku kv hi ih b ii ij im in iq kw iu kx iy ky jc kz la lb lc bi translated">在第4行，有三个字段，它们总是“0，0，0.0，0.0”。(我不知道这样做的真正原因，但如果你知道，请在下面的评论区写下)</li></ul><h1 id="8d8b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">解码数据段</h1><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="371a" class="kp je hi kl b fi kq kr l ks kt">@<br/>       -9999.0000000       -9999.0000000           3.0000000          32.0000000<br/>          88.0000000          13.0000000<br/>       -9999.0000000          20.0000000           8.0000000          42.0000000<br/>          75.0000000           5.0000000<br/>           5.0000000         100.0000000          35.0000000          50.0000000<br/>          27.0000000           1.0000000<br/>           2.0000000          36.0000000          10.0000000           6.0000000<br/>           9.0000000       -9999.0000000</span></pre><p id="a64e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在最后一个标题行之后，有一个带有单个“@”的单行，其后的行是文件的数据段中的第一行数据。数据部分有固定的字段宽度，每个字段是一个网格节点，通常是右对齐的。</p><p id="e386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了第一个标题行的第三个字段中定义的节点之外，任何物理行上都不会有更多的节点。(行号1，字段号3)</p><p id="6eaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据字段可能有也可能没有小数点。如果没有找到，则意味着小数位数是在第四个字段的第二个标题行中定义的。(行号2，字段号4)</p><p id="086a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据节中的网格节点按列主顺序存储。即首先写入第一列数据，从网格的左上角开始。</p><p id="d4c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，如果网格有7行3列，每行的节点数为4，则数据部分的第一行将有4个节点，前四个网格节点从左上方向下。第二行将有三个节点，即第一列的最后三个节点。然后写下一列，四个节点然后三个。然后最后一列用同样的模式写。</p><h1 id="fc59" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">谢谢大家！</h1><p id="2895" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我不得不绞尽脑汁来理解这种文件格式，所以我想我应该把这些都放在一个帖子里来分享我的发现。我希望这篇文章已经帮助您熟悉了ZMAP+文件格式。欢迎批评！</p></div></div>    
</body>
</html>