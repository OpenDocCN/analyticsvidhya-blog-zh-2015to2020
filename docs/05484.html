<html>
<head>
<title>Using AWS CloudFormation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自动气象站云形成</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-aws-cloudformation-a3546a3035e2?source=collection_archive---------29-----------------------#2020-04-22">https://medium.com/analytics-vidhya/using-aws-cloudformation-a3546a3035e2?source=collection_archive---------29-----------------------#2020-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5bd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于云形成的入门级信息</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3e2a97c410df7728ebcf8501d5d4f677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VA06a44Tw3Wtqkkp"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">伊恩·施耐德在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="abfc" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">免责声明:</h2><p id="9c5e" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">这是关于亚马逊网络服务(AWS)系列的第一篇文章，我将为<a class="ae jt" href="https://aws.amazon.com/certification/certified-developer-associate/" rel="noopener ugc nofollow" target="_blank">认证开发者考试助理</a>写这篇文章。</p><h2 id="11ab" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">什么是云形成？</h2><p id="aca8" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">正如它在<a class="ae jt" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html" rel="noopener ugc nofollow" target="_blank">文档</a>中所写的:AWS CloudFormation是一种帮助你建模和设置亚马逊Web服务资源的服务，这样你就可以花更少的时间来管理这些资源，而把更多的时间放在你在AWS中运行的应用上。您可以创建一个模板来描述您想要的所有AWS资源(如Amazon EC2实例或Amazon RDS DB实例)，AWS CloudFormation会为您提供和配置这些资源。您不需要单独创建和配置AWS资源，也不需要弄清楚什么依赖于什么；AWS CloudFormation处理所有这些。</p><h2 id="55ad" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">这是什么意思？</h2><p id="c1d0" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">CloudFormation在AWS中执行创建和修改基础设施的工作。</p><p id="a328" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CloudFormation使用的主要工具是模板，这个文件包含了关于你的结构的完整解释。模板可以使用JSON或YAML格式存储。<a class="ae jt" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/sample-templates-services-eu-central-1.html" rel="noopener ugc nofollow" target="_blank">在这里</a>你可以下载一些基本模板(针对欧盟-中欧1地区)</p><h2 id="b803" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">模板剖析:</h2><p id="a261" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">模板包含以下部分:</p><p id="a789" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">" AWSTemplateFormatVersion "</strong>:" 2010–09–09 "</p><p id="743a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模板格式的版本—始终为“2010–09–09”，这是目前唯一允许的格式。</p><p id="12c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">【描述】</strong>:“AWS云信息样本模板…”</p><p id="bd7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模板的简短描述。</p><p id="5648" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">"参数"</strong>:"实例类型":{</p><p id="718c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参数列表，作为输入参数传递给模板。</p><p id="bee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">" Mappings "</strong>:" T2 . nano ":{ " Arch ":" hvm 64 " }</p><p id="b45d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">存储参数集的便捷方式，取决于某个变量。</p><p id="ffe6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">"资源"</strong>:" ec2实例":{</p><p id="41ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模板中使用的资源列表</p><p id="700c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">"输出"</strong>:"实例Id" : {</p><p id="1a47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出参数，例如新创建的EC2实例的IP地址，它在流程结束后可见。</p><p id="3086" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模板的两个主要部分是<strong class="ih hj">“参数</strong>和<strong class="ih hj">“资源】</strong></p><h2 id="002f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">描述资源和参数</h2><p id="3359" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated"><strong class="ih hj">资源</strong>对象包含一个资源对象列表。资源必须有一个Type属性，它定义了您想要创建的AWS资源的种类。类型属性具有特殊的格式:</p><blockquote class="ku kv kw"><p id="0487" class="if ig kx ih b ii ij ik il im in io ip ky ir is it kz iv iw ix la iz ja jb jc hb bi translated"><strong class="ih hj">AWS::product identifier::resource Type</strong>——“Type”:“AWS::EC2::Instance”</p></blockquote><p id="c1a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个资源也可以包含属性—值列表。</p><p id="4450" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参数:</strong>指定可以在运行时传递给模板的值。例如环境或EC2图像的类型。</p><h2 id="611d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">什么是堆栈？</h2><p id="beb2" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">栈是一个单独的单元，它包含了CloudFormation模板和所有的资源。</p><h2 id="204e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">简短演示</h2><ol class=""><li id="eaca" class="lb lc hi ih b ii kp im kq iq ld iu le iy lf jc lg lh li lj bi translated">转到AWS控制台中的CloudFormation页面</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/4c9dd63f5627d6b3cd0ca9bb5f1b3174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YxT-TIi4bwcN-rj1VNcUgg.png"/></div></div></figure><p id="c926" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.点击“创建堆栈”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/00c32f09bc7e21120c9fef6801f5c7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsG4eIws1LT_7J5vdT7tXg.png"/></div></div></figure><p id="73f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以从三个选项中选择一个</p><ul class=""><li id="d05b" class="lb lc hi ih b ii ij im in iq lm iu ln iy lo jc lp lh li lj bi translated"><strong class="ih hj">模板准备就绪— </strong>如果您已经准备好模板。</li><li id="7790" class="lb lc hi ih b ii lq im lr iq ls iu lt iy lu jc lp lh li lj bi translated"><strong class="ih hj">使用样本模板— </strong>从模板库中选择一个模板。</li><li id="d440" class="lb lc hi ih b ii lq im lr iq ls iu lt iy lu jc lp lh li lj bi translated"><strong class="ih hj">在设计器中创建模板— </strong>使用图形工具创建新模板。</li></ul><p id="a70e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我使用亚马逊文档<a class="ae jt" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/sample-templates-applications-eu-central-1.html" rel="noopener ugc nofollow" target="_blank">中的模板</a>时，这意味着我已经有了模板(选项一)。</p><p id="178e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.在<strong class="ih hj">【指定模板】</strong>窗格中选择<strong class="ih hj">【上传模板文件】</strong>并上传模板。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/90eff0be7cecfca8a0e5748b6a6d485a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_4aMoblmIejWjhbAQuA4g.png"/></div></div></figure><p id="6f7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在designer中查看您的模板，或者点击<strong class="ih hj">“下一步”</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/a4b32e49e78f9db5791233c84104e456.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ARNuN48un60RXL1wtYhoQ.png"/></div></div></figure><p id="f781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个屏幕上，你可以给栈一个名字，改变参数，并进一步。该屏幕上的所有参数均取自模板的<strong class="ih hj">“参数”</strong>部分。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/8c20d619822557c711fe8db17e7d82ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rxq7Or10-prEg_EOr-j_BA.png"/></div></div></figure><p id="5b49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此屏幕上，您可以添加或更改堆栈的更多参数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/3b990b4b3763af761c70bc22da0d2113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-elZzvTVydJo0BurWiYpWw.png"/></div></div></figure><p id="cd37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是创建堆栈之前的最后一个屏幕，您可以在其中查看和更改选项。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/ae7e678a3b08e7d790113e724b986a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OEi3LAmPflHLaiTjScFFOQ.png"/></div></div></figure><p id="d3a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里你可以看到你的堆栈是如何创建的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ma"><img src="../Images/1fbddefe683a9cd41e1c32983926568d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6KsL1VOecXULldVqbKeMQ.png"/></div></div></figure><p id="b5ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“事件”窗格中，您将看到创建进度。</p><p id="9726" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了确保创建了EC2实例，让我们转到EC2控制台</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/04baef247c9a94e4d7460c116ce51844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZGinWzq-t4HEI5rCijIlA.png"/></div></div></figure><p id="3df0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很好！我们看到新的虚拟机已经创建。</p><p id="a2b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们尝试删除堆栈。回到CloudFormation，选择你的堆栈并点击“删除”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/73b1861c832c29a7ae3d1183652eca1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gXyCx42318jArNLQJgzfrw.png"/></div></div></figure><p id="3490" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以在这里看到删除进度。</p><p id="20bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">过了一会儿，堆栈删除了。</p><h2 id="0c8a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">结论:</h2><p id="b45b" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">我们学习了什么是云结构，模板是什么样子，模板的主要部分是什么。我们还部署和删除创建安全组和EC2实例简单模板。</p></div></div>    
</body>
</html>