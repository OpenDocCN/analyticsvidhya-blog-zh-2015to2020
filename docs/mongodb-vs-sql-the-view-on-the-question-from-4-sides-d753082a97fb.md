# MongoDB vs SQL:从四个方面看问题

> 原文：<https://medium.com/analytics-vidhya/mongodb-vs-sql-the-view-on-the-question-from-4-sides-d753082a97fb?source=collection_archive---------33----------------------->

## 后端、前端、数据科学以及使用每种技术的管理后果

![](img/e2b2cc184bf0a1c8f173c89708a22ffa.png)

假设您正在为一家快餐连锁店的内部系统开发数据模型设计。显然，您需要解决“NoSQL vs SQL”困境中的一个子问题。

**通常这是一个“MongoDB vs MySQL”的问题:**

1.  MongoDB 是最流行的 NoSQL 数据库
2.  MySQL 是最流行的 SQL 数据库

**这是一个非常复杂的问题。下面是我们将如何解决它:**

1.  列出将使用这些数据的部门
2.  列出每个部门的 SQL 和 NoSQL 的所有显著和负面时刻。在[-3，3]的范围内，给每个时刻一个“重要性”的值。负值表示“适用于 SQL”，正值表示“适用于 NoSQL”，0 表示平局。
3.  将每个部门的值相加，然后得出总和。
4.  我们也可以为每一个提出一些折衷方案

# 部门列表

1.  **后端:** API，数据库等等。您需要以某种方式存储数据，并在前端获取它们。
2.  **前端:**通常包括移动应用和网站。没有它，99%的服务都无法盈利。
3.  **数据科学:**比如你要预测周一披萨上周五订单的数量来订购产品。
4.  **管理和财务:**很明显，每项业务之所以能存活下来，要么是因为得到了投资者的资助，要么是因为获得了自身的利润。

# 1.后端

## 可读性

NoSQL 是人类可读的。如果您看到一些复杂的 SQL 查询，那么您应该坐下来等待，直到您最终得到它做什么。在几十行的巨大查询的情况下，这开始变得非常长。 **+3 到 MongoDB**

## 排除故障

NoSQL 是开发人员友好的，易于调试。如果您在 SQL 上编写一些复杂的查询，那么当您遇到一些奇怪的错误时，没有办法像使用 MongoDB 那样容易地调试它。但是如果您没有太多的连接操作，那么调试起来并不困难。

**+2 到 MongoDB**

## 数据库的复杂性和规范化

存在许多连接操作的问题把我们带到了“规范化还是不规范化”的问题上。如果你的表过于规范化，那么会有很多连接操作，代价太大，而且无法用简单的方法调试。

1.  规范化通常会减小数据库的大小
2.  调试规范化数据库非常困难，因为有许多连接操作
3.  就性能而言，连接操作代价很大，这就是为什么规范化有时不太好的原因

有一个专门的术语叫做反规范化:通过向表中添加一些额外的数据来简化数据库以使 I/O 操作更快。

在 SQL 的情况下，我更喜欢折衷和中等规范化，这也会导致调试延迟增加。

Mongo 可能会出现同样的问题，因为它的文档存储在集合中。要请求一些附加信息，我们应该请求另一个集合。但是在 Mongo 的情况下，开发人员通常使用规范化集合。

**所以正好是 0**

## 脆弱点

NoSQL 不允许 SQL 注入通过，SQL 注入非常非常危险:这是“为什么我的网站被破解”上最受欢迎的答案之一。

我举个例子:你这边有一个搜索字段。当用户在那里输入内容时，您将获得该输入的内容并将其发送到服务器，在服务器上执行以下 SQL 查询:

```
const query = `SELECT * FROM database WHERE name=${input};`;
```

现在假设“输入”是下面这个:

```
const input = "'; DELETE * FROM database"
```

你看到了吗？你的数据库现在是空的！

NoSQL 不允许这种事情发生，因为它根本就不存在这样的问题。您不必在每次执行查询时都检查用户是否希望删除您的数据库。 **+3 到 MongoDB**

## 实施新功能

很难在 SQL 上实现新的特性和改变数据的类型和模式。您应该进行迁移，然后执行迁移测试，这是非常令人头痛的。

使用 MongoDB，您可以毫无问题地做到这一点，因为它甚至不需要编写迁移。

**3 到 MongoDB**

# 2.前端

我们通过 JSON 格式的 API 从服务器获取数据。 **+3 到 MongoDB** ，因为它以 JSON 格式存储数据，并且在实现新功能时将会有零延迟:Mongo scheme 与输出有大约一对一的对应关系。

聊天或社交网络等一些应用程序希望使用本地存储。使用一些本地存储，我们可以减少用户打开我们的应用程序和显示内容之间的延迟:我们可以显示缓存的结果，然后只需等待服务器响应来更新内容。

在 Android 上，它通常使用 Room 来实现[，Room](https://developer.android.com/topic/libraries/architecture/room)是一个基于谷歌 SQLite 的现代库。在服务器上使用 SQL 可能有助于实现这种设备上的存储，因为数据处理之间会有一些更深层次的对应关系。

但是，正如我以前说过的，我们以 JSON 格式获取数据。这意味着数据可能不会以存储在数据库中的方式发送给我们。所以 SQL 只有 **-1。**

# 3.数据科学

## 使用数据

通常数据科学家[使用 pandas](https://pandas.pydata.org/) ，一个对表格数据执行操作的库，所以你和他们将数据存储在 SQL 中会更容易。

但是使用 MongoDB 也相对容易:您可以只使用`pymongo`库和如下所示的小代码:

```
import pymongo
import pandas as pd
from pymongo import MongoClientclient = MongoClient()
db = client.database
collection = db.collectiondata = pd.DataFrame(list(collection.find()))
```

**所以它只是 0:如果你不玩大数据，你用什么就没问题。**

## 使用大数据

数据科学家的工作有时涉及到处理万亿字节的数据。有专门的数据库:例如，[一个点击屋](https://clickhouse.tech/docs/en)。这些大数据数据库通常使用 SQL。

**对 SQL 肯定是-3**

# 4.管理

## 薪水

根据这些资源，MongoDB developer 的价格高于 SQL developer:

[为什么 NoSQL 技能对于在大数据领域开创辉煌的职业生涯至关重要？](https://www.simplilearn.com/why-nosql-skills-are-crucial-for-big-data-career-article)

**-3 为 SQL**

## 其他要点

这些只是后端的一个副本:

1.  我们可以轻松部署新功能
2.  我们可以迅速满足客户的需求
3.  更少的错误，更少的调试→更低的开发成本

+ **3 用于 MongoDB**

# 结论

对于现代应用程序，我会选择 MongoDB，因为新功能存在不确定性，并且希望尽快部署新功能。

如果你不打算扩展新特性的列表，那么你可以考虑使用 SQL。

# 关于我的经历

这个问题是在我的名为 [Facel](http://facel.tech/) 的项目开发过程中出现的。

我们开发了一种设备，用于监控健康参数(机体疲劳、眼睛疲劳、压力、有效性和注意力水平)，并根据耳后 2 个点的信号控制小工具(例如，眨眼 3 次并停止音乐)。

我们以 98%的准确率检测 12 种面部表情(眨眼、动眉毛等)。

我们已经展示了 2020 年人工智能之旅的项目，这是世界上最大的人工智能会议之一，来自脸书和其他大型技术的人在这里发表了演讲。

我们在迪拜设计周的主要节目之一 [GlobalGradShow](https://globalgradshow.com/?project=facel) 上展出。全世界毕业生的 100 个最具创新性的项目在那里展示，所以很酷。

我们还赢得了阿里巴巴全球创业挑战赛的俄罗斯赛段，并参加了[詹姆斯·戴森奖](https://www.jamesdysonaward.org/)(世界主要工业设计竞赛之一)的世界赛段。

请随时通过 [LinkedIn](https://www.linkedin.com/in/mixeden) 、 [Email](mailto:mixeden@facel.tech) 或[电报](http://t.me/mixedenn):)联系我