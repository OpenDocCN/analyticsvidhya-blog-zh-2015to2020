<html>
<head>
<title>Python: Console Application Structure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python:控制台应用程序结构</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-console-application-structure-ab337c5e94d7?source=collection_archive---------11-----------------------#2020-03-03">https://medium.com/analytics-vidhya/python-console-application-structure-ab337c5e94d7?source=collection_archive---------11-----------------------#2020-03-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/80632e43b517c6e49bfc6d80d4135c2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oOiEK6uwLEXvn9H87dd1TQ.jpeg"/></div></figure><p id="bb39" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本文中，我将借助高级Python语言讨论控制台应用程序的结构及其实现的一些技术特性。</p><p id="c41c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们看看应用程序的一般文件系统结构:</p><ul class=""><li id="02c7" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">如果你的项目叫做<strong class="io hj"> Flower </strong>，那么你的项目的根目录应该叫做<strong class="io hj"> Flower </strong>而不是别的。当您发布一个项目时，您必须添加版本号(大约。<strong class="io hj">花-1.0 </strong>)。</li><li id="7e83" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">如果你有可执行文件，你应该创建一个单独的<strong class="io hj"> bin </strong>文件夹。不应该指定这些文件的扩展名，即使它们是<strong class="io hj"> Python </strong>可执行文件，而这违背了语言本身的规则。除了导入和调用main函数之外，它们不应该包含任何代码。</li><li id="9550" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">如果您的项目包含一个单独的可执行文件，那么它应该放在根目录中，并用您的项目的相关名称(大约。<strong class="io hj"> flower.py </strong>)。如果你的项目涉及多个源文件，你应该创建一个包(<strong class="io hj"> Flower/flower/__init__)。py </strong>其中<strong class="io hj"> __init__。py </strong>空文件)并将这个包所有必需的源文件放入其中。</li><li id="3320" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">这个包的所有必要的单元测试都放在一个子包中。比如<strong class="io hj">花/花/考</strong>。</li><li id="2272" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">还需要在根目录<strong class="io hj">、</strong>下添加<strong class="io hj"> setup.py </strong>和<strong class="io hj"> README.md </strong>来描述和安装你的软件。</li></ul><p id="d2d7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">项目结构通常如下所示:</p><blockquote class="jy jz ka"><p id="15a0" class="im in kb io b ip iq ir is it iu iv iw kc iy iz ja kd jc jd je ke jg jh ji jj hb bi translated"><strong class="io hj">Flower/<br/>|—bin/<br/>|—|—Flower/<br/>|—Flower/<br/>|—|—test/<br/>|—|—docs/<br/>|—|—_ _ init _ _。py<br/>|—|—main . py<br/>|—|—flower . py</strong></p></blockquote><p id="a990" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我还将强调项目文件结构中的一些可能的错误。</p><ul class=""><li id="44e8" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">您不能将测试放在您的包之外。这可能会使它们难以启动。</li><li id="1f04" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">你不能创建一个只有一个空的<strong class="io hj"> __init__的包。py </strong>或者你所有的源代码都在这个文件里。</li></ul><p id="0c1f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，我将研究实现控制台应用程序的几个技术方面。</p><p id="80f6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了开始开发任何<strong class="io hj"> Python </strong>软件，有必要(甚至强制)为每个项目创建自己的虚拟环境。这样做是为了避免您安装的软件包版本冲突。</p><p id="383d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要安装，使用<strong class="io hj"> pip </strong>:</p><blockquote class="jy jz ka"><p id="0646" class="im in kb io b ip iq ir is it iu iv iw kc iy iz ja kd jc jd je ke jg jh ji jj hb bi translated">pip安装虚拟设备</p></blockquote><p id="9cfe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们在初始阶段需要两个主要命令:</p><blockquote class="jy jz ka"><p id="3fce" class="im in kb io b ip iq ir is it iu iv iw kc iy iz ja kd jc jd je ke jg jh ji jj hb bi translated">virtualenv我的项目</p><p id="b821" class="im in kb io b ip iq ir is it iu iv iw kc iy iz ja kd jc jd je ke jg jh ji jj hb bi translated">源myproject/bin/activate</p></blockquote><p id="3045" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">第一个命令将在当前目录中创建一个虚拟环境，该环境来自默认情况下安装在您的系统<strong class="io hj">上的解释器版本</strong>。</p><p id="0fd3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">第二个命令激活控制台中的虚拟环境，以便您可以开始使用它。</p><p id="0cee" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我们的例子中，虚拟环境将允许我们快速测试我们的控制台应用程序，我们将在这个环境中安装它。</p><p id="a252" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我们现在需要正确编写<strong class="io hj"> setup.py </strong>并在一个简单的脚本上测试我们的应用程序。</p><figure class="kf kg kh ki fd ij"><div class="bz dy l di"><div class="kj kk l"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated">setup.py</figcaption></figure><p id="6615" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了安装应用程序，我们将使用<strong class="io hj"> setuptools </strong>，它已经预先安装在解释器中。</p><p id="a8f5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">写<strong class="io hj"> setup.py </strong>的时候，值得一提的是<strong class="io hj"> __version__ </strong>位于<strong class="io hj"> __init__。py </strong>花<strong class="io hj">包。</strong></p><p id="a672" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在<strong class="io hj">入口点</strong>中，我们为我们的软件设置控制台入口点。在这种情况下，当在控制台中写入<strong class="io hj"> flower </strong>时，我们将引用<strong class="io hj"> flower </strong>包，即<strong class="io hj"> flower.py </strong>文件，以调用主函数。对于测试，您可以写print(“Hello world！”)，在编写命令时，会向控制台发出适当的消息。</p><blockquote class="jy jz ka"><p id="dc36" class="im in kb io b ip iq ir is it iu iv iw kc iy iz ja kd jc jd je ke jg jh ji jj hb bi translated">为了测试我们的项目，用上面描述的命令激活我们的虚拟环境并在项目目录中运行下面的命令就足够了。python setup . py install——在这个虚拟环境中安装我们的软件。<br/>flower——让我们测试一下这个例子。</p></blockquote><p id="49f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">感谢阅读！</p></div></div>    
</body>
</html>