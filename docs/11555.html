<html>
<head>
<title>Exploring Chicago’s Demand for Uber &amp; Lyft</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索芝加哥对优步&amp; Lyft的需求</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploring-chicago-uber-lyft-demand-geospatial-analysis-in-python-and-geoda-af30f45e830?source=collection_archive---------12-----------------------#2020-12-08">https://medium.com/analytics-vidhya/exploring-chicago-uber-lyft-demand-geospatial-analysis-in-python-and-geoda-af30f45e830?source=collection_archive---------12-----------------------#2020-12-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="13aa" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Python和GeoDa中的地理空间分析</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/bc15c3f2662f2d68d8cc08a8cffc2b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oLRA9AvhTothoigEGUgvIw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">芝加哥的乘车需求(使用<a class="ae jn" href="https://kepler.gl/" rel="noopener ugc nofollow" target="_blank">https://kepler.gl/</a>绘制的图表)</figcaption></figure><p id="fca5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">优步和Lyft等私人交通网络公司(TNC)的快速增长从根本上改变了人们在城市地区的通勤方式。不断增长的需求有几个影响，包括但不限于个体效率的提高和整体拥堵的增加。我觉得深入挖掘这个话题会很有趣。我主要想回答以下几个问题:</p><ul class=""><li id="75dd" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj kp kq kr ks bi translated"><em class="kt">需求在哪里？</em></li><li id="fa14" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj kp kq kr ks bi translated"><em class="kt">什么时候需求量最大？</em></li><li id="dc94" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj kp kq kr ks bi translated">哪些因素会影响我们与陌生人共乘的决定？</li></ul><p id="a6dd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">芝加哥数据门户网站发布了自2018年11月以来芝加哥市所有跨国公司提供的<a class="ae jn" href="https://data.cityofchicago.org/Transportation/Transportation-Network-Providers-Trips/m6dm-c72p" rel="noopener ugc nofollow" target="_blank">数据</a>。虽然一些敏感信息已被删除(例如，上车地点和下车地点被四舍五入到最近的人口普查区域)，但这些数据仍然为我们提供了大量信息来探讨所提出的问题。</p><p id="c28c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">大多数分析都是用python完成的。鉴于数据的巨大规模(我使用了2018年11月至2019年10月的数据，其中包括约1亿次旅行)，Dask被用于执行并行计算。最终的k-means分析是在名为GeoDa的开源软件工具中进行的。对于任何对探索地理空间分析感兴趣的人来说，这可能是一个有趣的项目！</p><p id="16f9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">需求在哪里？</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kz"><img src="../Images/846f07a94b9243476e1e2718f4b6c548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LtzDHefd9kKOkMI0cZ_mRQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">简单的计数图:按人口普查区域划分的出行次数</figcaption></figure><p id="ffc5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">使用Python中的“geopandas”包，我绘制了一个计数地图，以可视化芝加哥的乘车需求。我们可以看到芝加哥市中心的需求最高。两个异常值:一个在左上角，一个在芝加哥西侧，分别代表奥黑尔国际机场和中途国际机场。</p><p id="d5fe" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">什么时候需求量最高？</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es la"><img src="../Images/79502cc96e87101e0e1585365d214d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KtiTnbaB-hySB_e3Pzgkxg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">按日期和时间划分的乘车需求</figcaption></figure><p id="efde" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然后，我按照一天中的小时，然后是一周中的天，绘制了打车服务的平均需求。从上图中我们可以看到，需求遵循一个良好的循环模式:在工作日(周一至周四)，出行数量在高峰时段(早上8:00和下午6:00)达到峰值。</p><p id="0826" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">周五和周六的打车需求最高，周日最低。在周五和周六，出行数量在下午6:00左右达到高峰，然后在晚上10:00左右再次达到高峰。</p><p id="0164" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">是什么影响了我们拼车的决定？</strong></p><p id="058b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">虽然打车对应用程序用户来说是一个方便且可能节省成本的选择，但它也可能带来一些问题。例如，研究表明，跨国公司增加了旧金山的拥挤程度和纽约车辆行驶的总距离。这个问题的一个潜在解决方案是与他人共乘，这就是为什么我想研究一下可能影响我们共乘决定的因素。</p><p id="7ff2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据CMAP(芝加哥都市规划局)的说法，经济隔离区是“低收入居民集中的地区”。将这些数据添加到我的分析中，我绘制了下图。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lb"><img src="../Images/08adf409f1609c4371422591f367618e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fDwRVbyG39jr5cC7oiMIJA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">按地理区域和一天中的小时划分的拼车平均需求。</figcaption></figure><p id="b553" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该图以灰色条显示每小时的平均需求(由右侧y轴标记)。同时，它显示了EDAs共享出行的百分比(由左侧y轴标记)。在我的分析中，共享乘车被定义为一种授权的共享乘车，最终可能会或可能不会成为实际的共享乘车。从上图我们可以看出:</p><ol class=""><li id="f462" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj lc kq kr ks bi translated">平均不到1/3的出行是授权共享乘车。</li><li id="0d75" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj lc kq kr ks bi translated">在所有四个类别中，非EDA的共享乘车授权比例最低。</li><li id="c638" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj lc kq kr ks bi translated">北部EDA的共乘比例倒数第二，考虑到芝加哥的收入分布，这是合理的(北部的平均收入普遍较高)。</li><li id="fb00" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj lc kq kr ks bi translated">南方和北方之间的差异相当大:授权共享乘车的百分比差异超过10%。</li></ol><p id="0eb4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">上述结果似乎表明，社会经济因素可以显著影响一个人与陌生人共乘的决定。这在直觉上是合理的，因为共享乘车比普通乘车便宜。为了进一步验证这一结论，我将TNC数据与<a class="ae jn" href="https://data.cityofchicago.org/Health-Human-Services/hardship-index/792q-4jtu" rel="noopener ugc nofollow" target="_blank">困苦数据</a>和<a class="ae jn" href="https://data.cityofchicago.org/Public-Safety/Crimes-2020/qzdf-xmn8" rel="noopener ugc nofollow" target="_blank">犯罪数据</a>(也可以从芝加哥数据门户获得)合并，然后使用GeoDa进行了<a class="ae jn" href="https://geodacenter.github.io/workbook/7b_clusters_2/lab7b.html#:~:text=K%2Dmeans%20is%20a%20so,groups%2C%20with%20k%20determined%20beforehand.&amp;text=GeoDa%20implements%20the%20cluster%20algorithms,Arthur%20and%20Vassilvitskii%20(2007)." rel="noopener ugc nofollow" target="_blank"> k均值分析</a>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ld"><img src="../Images/de5ef484395c3481ed5b81085825c73a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tgXfk_eqZT9G1f3iQjEFAA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">k-均值聚类图基于犯罪、困难和授权共享乘车的百分比</figcaption></figure><p id="2fbc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如所料，上面的k-means聚类图显示了一个明显的南北分界线。我在这个分析中没有应用空间约束，这解释了为什么一些蓝色区域被绿色区域包围。有趣的是，上图中圈出的两个蓝色区域代表海德公园，这也是芝加哥大学的所在地。这个地区的居民大多是教授、医生和学生，这可能解释了它与周围街区在犯罪率和艰苦程度方面的差异。</p><p id="83e3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kt">结论</em>:</p><p id="d936" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从上述分析中我们看到，市中心和两个机场的乘车需求最高。高峰时段以及周五和周六也是需求高峰。</p><p id="45f0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">推广拼车有可能减少因对打车服务的需求不断增长而造成的拥堵。上述分析还表明，收入仍然是影响我们拼车决定的主要因素之一。</p><p id="8827" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这个项目很容易复制。数据可以在上述文章和下面的链接中找到。虽然原始数据可能太大，但是如果您感兴趣，您总是可以先下载一部分数据，然后从那里开始:)。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="83fb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="kt">参考文献:</em></p><ul class=""><li id="a87e" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj kp kq kr ks bi translated">以上分析的代码可以在这里找到:【https://github.com/tianyueniu/urbanmobility】T4。</li><li id="e973" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj kp kq kr ks bi translated">本项目的部分分析参考了CMAP的一份报告(<a class="ae jn" href="https://www.cmap.illinois.gov/updates/all/-/asset_publisher/UIMfSLnFfMB6/content/new-data-allows-an-initial-look-at-ride-hailing-in-chicago" rel="noopener ugc nofollow" target="_blank"><em class="kt">https://www . cmap . Illinois . gov/updates/all/-/asset _ publisher/uimfslnffmb 6/content/new-data-allows-an-initial-look-at-ride-hailing-in-Chicago</em></a><em class="kt">)。CMAP分析最初是在R. </em>中完成的</li><li id="7aef" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj kp kq kr ks bi translated">在这里可以找到一个用Python讲解地理空间分析的很棒的课程:<a class="ae jn" href="https://automating-gis-processes.github.io/site/" rel="noopener ugc nofollow" target="_blank">https://automating-gis-processes.github.io/site/</a>。</li><li id="759a" class="kk kl hi jq b jr ku ju kv jx kw kb kx kf ky kj kp kq kr ks bi translated">对于那些对地理空间分析感兴趣的人来说，地理数据是一个很好的入门工具。它的文档可以在这里找到:<a class="ae jn" href="https://geodacenter.github.io/" rel="noopener ugc nofollow" target="_blank">https://geodacenter.github.io/</a>。</li></ul><p id="c9b4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">欢迎任何问题和评论！谢谢！</p></div></div>    
</body>
</html>