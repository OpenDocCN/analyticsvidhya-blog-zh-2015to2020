<html>
<head>
<title>Principal Component Analysis(PCA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">主成分分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/principal-component-analysis-pca-8a0fcba2e30c?source=collection_archive---------1-----------------------#2020-03-08">https://medium.com/analytics-vidhya/principal-component-analysis-pca-8a0fcba2e30c?source=collection_archive---------1-----------------------#2020-03-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b8df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主成分分析(PCA)是一种降维过程，它允许将给定数据集中的变量数量减少到可用于数据分析的更小的变量集。主成分分析可以正式定义为一种统计过程，用于将一组相关变量映射为一组较小的线性不相关变量，同时尽可能保留原始数据集中的方差。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/fc9e87c64df7f924901e52de5034b858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*T3Jijdtg0lcS3pP4ZFaMkw.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/ee70d5d090ab115e6f1306f05c9238ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*l4dpGlvuZO-b15FG8q0Y_w.png"/></div></figure><p id="dd98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">减少的变量集试图保留原始数据集中存在的最大方差。这在机器学习中非常有用，因为训练所需的数据量与建模中使用的变量数量有关。移除的变量是那些本质上相似或者可以从其他未移除的变量中推导出来的变量，因此它们不会给数据集增加新的值。</p><p id="8784" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在一个简单的例子中，给定三个维度的测量值，即杯子的体积、杯子中的茶的体积和可以装满茶的体积，PCA可以将它们简化为一个变量，该变量包括随着茶水平的变化而变化的信息。</p><h1 id="155c" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">PCA的应用:</strong></h1><h1 id="c4e3" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">1.量化金融</h1><p id="4e81" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">假设我们被要求建立一个股票表现的预测模型。为了精确建模，我们将考虑与股票表现相关的所有测量维度。</p><p id="3cd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些变量可以包括不同类别的财务比率、劳动力市场、住房变量、情绪测量、GDP测量、通货膨胀、失业率以及收盘价、开盘价、日内高点、日内低点、alpha、beta和个股基本面。</p><p id="1b37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">某大股票经纪公司提供的用于选股的变量快速分析，提供了30多个变量供分析。</p><p id="4d54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有些变量可能是相互关联的，有些甚至可能没有为分析增加任何额外的信息。即使对懂金融的人来说，直观地评估所有变量之间的相关性可能也不明显。</p><p id="6ef6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PCA可以应用于这些大的变量集，并提取代表原始数据中接近全部方差的备选变量的精简集。较小的集合可以用来评估股票表现的不同模型。</p><p id="d9d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用简化的主成分的性能模型然后可以用于规划容量需求、性能瓶颈检测和性能预测。</p><h1 id="7ca3" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">2.神经系统科学</h1><h1 id="b46f" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak"> 3。图像压缩</strong></h1><p id="5479" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">图像压缩是使用降维技术的PCA的常见应用。</p><h1 id="6354" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak"> 4。数据可视化</strong></h1><p id="bc07" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">包含大量变量的数据集通常有一个较小的变量子集，这些变量可以捕获变量所代表的大部分方差。</p><p id="5174" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理解PCA应用的一种方式是整理出在不同子空间中表示数据的变量子集，同时保留原始数据集的大部分方差。</p><h1 id="c69e" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">用于计算PCA的术语:</strong></h1><p id="7803" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">使用线性代数导出主分量的简单解决方案是基于协方差矩阵。可以使用奇异值分解(SVD)方法导出PCA的一般版本。</p><h2 id="4d5e" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">协方差矩阵:</strong></h2><p id="7d0b" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">计算变量之间的相对关系可以通过使用协方差计算来完成。如果变量之间没有关系，那么协方差将为0，如果变量之间相关性很高，那么协方差值在正相关时接近1，在负相关时接近-1。</p><h2 id="4ee1" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">对角矩阵:</strong></h2><p id="dc65" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">如果一个矩阵的所有元素都为0，除了</p><p id="b15f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对角线元素。<em class="ld">对角矩阵</em>沿不同坐标轴缩放数据。特征值的<em class="ld">对角矩阵</em>给出了沿不同主分量轴的数据方差(它们的标度)的度量。</p><h2 id="7eeb" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">特征向量:</strong></h2><p id="8a5c" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">特征向量是这样一个向量，当它应用于一个方阵M时，将只改变矩阵的标量部分，而保持方向不变。</p><h2 id="14e7" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">对称矩阵:</strong></h2><p id="2405" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">对称矩阵具有转置矩阵等于原始矩阵的性质。</p><h2 id="c6bf" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">奇异值分解(SVD): </strong></h2><p id="58c0" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">在线性代数中，奇异值分解(SVD)是实矩阵或复矩阵的因式分解，其通过极坐标分解的扩展将标准方阵的特征分解推广到任何m×n矩阵。</p><p id="3b0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">奇异值分解的数学应用包括计算伪逆、矩阵近似，以及确定矩阵的秩、值域和零空间。SVD在科学、工程和统计的所有领域都非常有用，例如信号处理、数据的最小二乘拟合和过程控制。</p><h1 id="bd43" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">计算主成分分析:</strong></h1><h2 id="c514" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">数据特征</strong></h2><p id="e241" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">主成分可以表示为观察度量的线性方程。有一种处理变量关系非线性的研究叫做核PCA。我们关注线性PCA。</p><p id="c537" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用PCA导出的主成分说明了原始数据集在具有较少数量变量的计算PC的方差中的总体方差。</p><p id="2e2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一个隐含的假设，即均值和方差描述了被观察变量的整个分布。这些可以用方差来描述的零均值分布只在高斯或正态分布中成立。</p><p id="512b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">观察变量中的大方差将对计算的主成分的总体方差贡献最大。如果变量的观察值具有非常不同的范围，那么数据需要被标准化/缩放。当对主成分计算应用相关性分析时。</p><h2 id="eda1" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">数据预处理:</strong></h2><p id="89bd" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">考虑距离和时间这两个测量变量的例子。如果距离以厘米为单位，时间以小时为单位，那么合成的主分量就偏向距离轴。</p><p id="e747" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，如果距离以公里为单位，时间以秒为单位，那么计算出的主分量将偏向时间轴，而不是距离。</p><p id="c41d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了克服由于变量值的缩放而导致的倾斜问题，通过标准化进行特征缩放，作为对数据的预处理步骤。标准化也称为z均值归一化，将数据转换为均值0和标准差1。</p><h2 id="80e7" class="kp jn hi bd jo kq kr ks js kt ku kv jw iq kw kx ka iu ky kz ke iy la lb ki lc bi translated"><strong class="ak">选择主成分:</strong></h2><p id="0dee" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">通过计算协方差矩阵并对结果矩阵执行SVD来计算主分量。</p><p id="527a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常，您希望捕获的方差误差小于0.01 /1%，并且选择的分量使主分量捕获数据集中99%的原始方差。</p><p id="8895" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过简单地计算总方差的比例，可以容易地计算出误差。</p><h1 id="212b" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">PCA的缺点:</strong></h1><p id="6840" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated"><strong class="ih hj">自变量变得更难解释:</strong></p><p id="3a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对数据集实施PCA后，原始要素将变成主成分。主成分是原始特征的线性组合。主要成分不像原始特征那样可读和可解释。</p><p id="b8f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">PCA前必须进行数据标准化:</strong></p><p id="9a81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您必须在实现PCA之前标准化您的数据，否则PCA将无法找到最佳的主成分。<br/> <br/>例如，如果一个特征集有以千克、光年或百万为单位表示的数据，那么在训练集中，方差规模是巨大的。如果对这样的特征集应用PCA，那么具有高方差的特征的合成负载也将很大。因此，主成分将偏向于具有高方差的特征，导致错误的结果。<br/> <br/>此外，为了标准化，在可以应用PCA之前，需要将所有的分类特征转换成数字特征。<br/> <br/> PCA受到比例的影响，因此在应用PCA之前，需要对数据中的要素进行比例缩放。使用<strong class="ih hj"> Scikit Learn </strong>中的<strong class="ih hj"> StandardScaler </strong>将数据集特征标准化为单位尺度(均值= 0，标准差= 1)，这是许多机器学习算法实现最佳性能的要求。</p><p id="bd7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">信息丢失:</strong></p><p id="658a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管主成分试图覆盖数据集中各要素之间的最大差异，但如果我们不仔细选择主成分的数量，与原始要素列表相比，它可能会丢失一些信息。</p><p id="1ed2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">过度拟合:</strong></p><p id="8f65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当特征的数量很大并且没有足够的数据时，会发生模型构造过拟合。为了减少特征的数量，有时在假设减少的特征数量将避免过度拟合的情况下使用PCA。</p><p id="323e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用PCA来避免过度拟合会导致不好的结果。使用正则化技术和更好的数据集可以更好地解决过拟合问题。</p><p id="dbee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">模型生成:</strong></p><p id="40a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PCA用于生成主成分(PCs)作为降维集。计算降维数据，然后使用逻辑回归来训练模型，以对系统建模。</p><p id="2dab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用PCs来构建模型会在预测新输入数据时产生较大误差。</p><p id="2841" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一种替代方法是从数据中提取原始因子。公因子分析是一种识别原始变量组合的方法，它可以使观察变量的方差最大化。</p><p id="6e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这不同于使原始变量的总方差最大化的PCA。这些也被称为潜在因素或隐藏变量，封装了观察变量的组合方差。</p><p id="aaf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当相关矩阵不仅在对角线上而且在矩阵的其他部分都具有高值时，这种计算因子的方法是有用的。潜在因素在建模中往往比个人计算机表现得更好。</p><p id="2001" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于原始变量的建模应该是首选，只有当尺寸比例出现问题时，才应该考虑基于PCs的模型生成。</p><p id="03b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">模式解读:</strong></p><p id="4c1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主成分负荷代表变量的相关因子。我们可以根据负载的大小和符号来推断变量是正相关还是负相关。</p><p id="ce63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，我们不能过度解释加载大小和方向，因为主成分1中低加载值的变量可能在其他主成分中具有较高的值。</p><p id="cd76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当试图解释模型时，使用公共因子(CF)分析将提供更好的解释。</p></div></div>    
</body>
</html>