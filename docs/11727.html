<html>
<head>
<title>Web Scraping and Login using Python Selenium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python Selenium 进行 Web 抓取和登录</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-scraping-using-selenium-79a2fcc77215?source=collection_archive---------4-----------------------#2020-12-16">https://medium.com/analytics-vidhya/web-scraping-using-selenium-79a2fcc77215?source=collection_archive---------4-----------------------#2020-12-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/683d07a5a41520ad99c172a47cddf6be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JxjbysaQHi7-vJ5eQFbiJA.jpeg"/></div></div></figure><p id="794d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有一个网页抓取问题，当网站必须先登录？</p><p id="e926" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用硒来解决这个问题。基本上，selenium 用于自动测试 web 验证，但也可以用于抓取，因为它可以由脚本自动控制，可以轻松地处理 javascript、DOM 或复杂的 html 标签</p><p id="ebb6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，我们试图从需要先登录的网站上删除新闻，如 www.wsj.com 的<a class="ae jo" href="https://www.barrons.com/real-time?mod=hp_LATEST&amp;mod=hp_LATEST" rel="noopener ugc nofollow" target="_blank">或 www.barrons.com 的</a><a class="ae jo" href="https://www.barrons.com/real-time?mod=hp_LATEST&amp;mod=hp_LATEST" rel="noopener ugc nofollow" target="_blank">的</a></p><p id="6404" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们做的第一件事是<strong class="is hj">安装库，</strong>包括<strong class="is hj"> </strong> <em class="jp"> selenium python </em>库，<em class="jp"> webdriver manager </em>库并在你的文件中导入几个 selenium 函数</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ju jv l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">图书馆</figcaption></figure><p id="30c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">为登录</strong>创建您的函数/类 <strong class="is hj">，代码包括:</strong></p><ul class=""><li id="e21c" class="ka kb hi is b it iu ix iy jb kc jf kd jj ke jn kf kg kh ki bi translated">放上网址</li><li id="b5f7" class="ka kb hi is b it kj ix kk jb kl jf km jj kn jn kf kg kh ki bi translated">设置 web 驱动程序选项(例如，窗口大小、headless 等。)和</li><li id="61e5" class="ka kb hi is b it kj ix kk jb kl jf km jj kn jn kf kg kh ki bi translated">使用您的用户名和密码登录</li></ul><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ju jv l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">通过 Selenium 登录网站</figcaption></figure><p id="c69f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">成功登录后，我们可以<strong class="is hj">继续代码获取新闻</strong>。我们可以选择我们需要的信息(如标题、文章、日期等)并<strong class="is hj">存储到 csv </strong></p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ju jv l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">使用 Selenium 的网页抓取</figcaption></figure></div><div class="ab cl ko kp gp kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hb hc hd he hf"><p id="ea7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有时，我们仍然无法从网站上获取数据，因为<em class="jp">验证码</em>或其他原因。因此，如果发生这种情况，我们可以通过一些方法来防止它，如用户代理或减缓脚本的执行</p><p id="194c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于用户代理，我们可以使用<strong class="is hj"> <em class="jp"> fake_useragent 库</em> </strong>并在 web 驱动选项中添加一个随机代理。而为了减缓脚本的执行速度，我们可以使用<strong class="is hj"><em class="jp">【time . sleep(秒)</em> </strong></p><p id="6c32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，使用 selenium 进行 web 抓取仍然很棘手，但至少这是另一种从网站获取数据的工具，并且可以很容易地登录到网站。</p><p id="9fe6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jp">* *此代码改编自</em> <a class="ae jo" href="https://github.com/philippe-heitzmann/WSJ_Web_Scraping_Project-NYCDSA-Project2" rel="noopener ugc nofollow" target="_blank"> <em class="jp">此处</em> </a> <em class="jp">，更多信息请查看</em> <a class="ae jo" href="https://nycdatascience.com/blog/student-works/scraping-wall-street-journal-article-data-to-measure-online-reader-engagement-an-nlp-analysis/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">此处</em> </a></p></div></div>    
</body>
</html>