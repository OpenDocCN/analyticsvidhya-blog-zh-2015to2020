<html>
<head>
<title>Porto Seguro’s Safe Driver Prediction : An Ensemble Approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Porto Seguro的安全驾驶员预测:综合方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/porto-seguros-safe-driver-prediction-an-ensemble-approach-cec32eaad218?source=collection_archive---------17-----------------------#2020-04-07">https://medium.com/analytics-vidhya/porto-seguros-safe-driver-prediction-an-ensemble-approach-cec32eaad218?source=collection_archive---------17-----------------------#2020-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5dbb1586643fffc6bf4872bb445de966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qxt7i6mPDmVyltXd6vlebQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图一个演奏小提琴的音乐合奏</figcaption></figure><blockquote class="iu iv iw"><p id="040c" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">没有人能吹奏交响乐。演奏它需要整个管弦乐队。</p><p id="64ae" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> —勒科克阁下</strong></p></blockquote><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/ee675981e25e54dd74e59f9c21372bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*lLBPc5JHYWhSR1JR3_5guQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">雾。本博客包含的目录</figcaption></figure></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="e72c" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">1 -问题陈述:</h1><p id="1fb4" class="pw-post-body-paragraph ix iy hi ja b jb lg jd je jf lh jh ji li lj jl jm lk ll jp jq lm ln jt ju jv hb bi translated">✦<a class="ae lo" href="https://www.portoseguro.com.br/" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz">p</em></strong></a><strong class="ja hj"><em class="iz">or to seguro</em></strong>是巴西最大的汽车和房主保险公司之一。在这场比赛中，挑战是建立一个模型，预测司机在接下来的一年中发起汽车保险索赔的概率。</p><p id="38a6" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦的完整项目可以在这里找到<a class="ae lo" href="https://github.com/HardikVagadia1997/Porto-Seguro-s-Safe-Driver-Prediction" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz"/></strong></a>。</p><p id="59f8" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦你也可以在<a class="ae lo" href="https://www.linkedin.com/in/hardik-vagadia/" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz">LinkedIn</em></strong></a>上和我联系。</p><blockquote class="iu iv iw"><p id="163b" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">汽车保险公司索赔预测的不准确性提高了好司机的保险成本，降低了坏司机的保险价格</p></blockquote><p id="bb2d" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj">数据来源:</strong>训练和测试数据集可以从这个<a class="ae lo" href="https://www.kaggle.com/c/porto-seguro-safe-driver-prediction/data" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hj"> <em class="iz"> Kaggle链接</em> </strong>下载。</a></p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="f581" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">2 -目标和限制:</h1><ol class=""><li id="d2a2" class="lp lq hi ja b jb lg jf lh li lr lk ls lm lt jv lu lv lw lx bi translated"><strong class="ja hj"> <em class="iz">基尼系数</em> </strong>递增。是主办方在Kaggle上指定的评价指标。基尼系数的范围从随机猜测的大约0到满分的大约0.5。有关基尼系数的更多信息，请参考此<a class="ae lo" href="https://towardsdatascience.com/using-the-gini-coefficient-to-evaluate-the-performance-of-credit-score-models-59fe13ef420" rel="noopener" target="_blank">链接</a>。</li><li id="f933" class="lp lq hi ja b jb ly jf lz li ma lk mb lm mc jv lu lv lw lx bi translated">在这个案例研究中，时间不是一个限制因素。</li></ol></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="9c2c" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">3 -探索性数据分析:</h1><blockquote class="iu iv iw"><p id="e241" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">一幅画的最大价值在于它迫使我们注意到我们从未预料到会看到的东西。</strong></p><p id="8873" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">约翰·图基</p></blockquote><p id="dcf9" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦我们有两个。csv文件。train.csv有595212个数据点及其实际的类标签。test.csv有892816个数据点。每个数据点都是57维的。</p><p id="f1dc" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦功能分为3类。名称中带有<strong class="ja hj"><em class="iz">【ind】</em></strong>的特征为个性特征。这些是包含个人数据的特征。带有<strong class="ja hj"> <em class="iz">【汽车】</em> </strong>和<strong class="ja hj"><em class="iz">【reg】</em></strong>的特征分别是与汽车和地区相关的特征。</p><p id="9bb5" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦这些特征是经过预处理的<strong class="ja hj"><em class="iz"/></strong>，所以我们无法分辨出这些特征。</p><p id="aa88" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦进一步指出，二元特征的名称中有<strong class="ja hj"> <em class="iz">【宾】</em> </strong>，分类特征的名称中有<strong class="ja hj"> <em class="iz">【猫】</em> </strong>。其余特征是连续的。</p><p id="50e0" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦还有一组以<strong class="ja hj"><em class="iz">【calc】</em></strong>命名的特征。这些特征是根据现有特征计算的。</p><p id="842d" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj">检查类别不平衡:</strong></p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/1cdb9306c88f336d34e8703c2c1c9d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FzuwvWRN-KQhF6ZwJm0WoQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图+ve和-ve点的数量</figcaption></figure><p id="81e6" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦的情况非常不均衡，很明显只有很少一部分人真正提出索赔。</p><p id="1620" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 1 -可视化单个二元特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/acdc717204e0b11321eab2ec95f13130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jusO3xHcP5xoZoMh-s7G4w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">第二行中的特征具有非常高的不平衡性，并且几乎所有数据点都包含相同的值。这样的功能用处不大。第一排的功能比第二排更平衡，因此更有用。</strong></figcaption></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/de5a3df9249830fa79bb3af5fe8ba774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_D3COfE0AJMMVCopnZX0og.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">“PS _ ind _ 16 _ bin”比其他两个显示出更多的平衡性。</strong></figcaption></figure><p id="ab26" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 2 -可视化个体分类特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/ad117dbc4342e91dfa2199e0d15b265b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zB1ot1VNiedkVRVjouVeNg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">个体范畴特征中的层次数非常低。在前两个中，几个特征占主导地位，而在第三个中，只有一个特征占主导地位。这使得它用处不大。</strong></figcaption></figure><p id="6a5e" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 3 -可视化个体连续/顺序特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/1a2bae28fc1681d419e748534fe456ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FImj_8qMcTwO_95WbIdQwQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">连续特征的表现或多或少类似于分类特征。除了“ps_ind_14”之外，其他都相当均衡。</strong></figcaption></figure><p id="1460" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 4 -可视化个体区域特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/09aff90ac1a821c0e6927e000935027f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9MfitqifNi_WzvPuSEpy7w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">“ps_reg_01”表现为具有10个类别的分类特征，而其他两个表现得更像连续特征。</figcaption></figure><p id="5f17" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 5 -可视化分类汽车特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/3f687be90d716fbe0fe9ce1a4e9c5c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tto1yla7fF9zvX8fhFJqdQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">有些功能表现出严重的不平衡。</strong></figcaption></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/d3658e3caeea23ca2668e6ba4b9af5e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6yGGt7nJ3DxXotQ0KSlXmQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">‘PS _ car _ 10 _ cat’显示高度不平衡。</strong></figcaption></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/c77785fdb3815eaf4d9d654c79ddb579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1b6UA_xSSwYcB0j9rPpAIA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">‘PS _ car _ 11 _ cat’是等级数最多的汽车分类特征(104)。除了“ps_car_10_cat”严重失衡之外，大多数功能都表现出一定的平衡。</strong></figcaption></figure><p id="2a3a" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 6 -可视化连续汽车特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/dd3111ed9ded564179cc461711cdb252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TyIya8MbVelg7lxj9eTAwA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">“ps_car_11”更像是一个分类特征。其余的是连续的。</figcaption></figure><p id="accd" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 7 -可视化计算出的连续特征:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/68794234dae7e98c50d7014a9f3e47c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BF4UOjwUbcQ2dDAgcI85vg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">前3个特征用处不大，因为它们在每个类别中的值几乎相同。其余特征遵循正态分布。</strong></figcaption></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/e6771ea58819e9ed2c04dfd95efd5fb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ac-KNSn9ABoDgNFV17UOeg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">所计算的连续/有序特征本质上都不是连续/有序的。“ps_calc_01”、“ps_calc_02”和“ps_calc_03”显示平衡的行为。其余呈正态分布。</strong></figcaption></figure><p id="bef3" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 8 -可视化计算的二元特征:</strong></p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/91a424f92b4c3210ef878883a9b23c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RKWon1Rf7cAI3Bh6-qOtlw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">上述特征无严重失衡。</strong></figcaption></figure><p id="ed5d" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 9 -多特征比较:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/58097603d4c631efc9d33a929d1c0e56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zRbwPwgyGr5aO_-0TZ6Reg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd kk">大多数特征没有表现出任何显著的相关性。我们可以有把握地得出结论，我们的特征是独立的。</strong></figcaption></figure><p id="c670" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><em class="iz">EDA到此为止。现在，让我们讨论本案例研究中最关键的部分，即特征工程。</em></p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="78be" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">4 -特征工程:数据科学家的秘方！</h1><blockquote class="iu iv iw"><p id="7677" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">“最终，一些机器学习项目会成功，一些会失败。有什么区别？最重要的因素无疑是所使用的功能。”</p><p id="25d3" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">佩德罗·多明戈斯教授</p></blockquote><p id="bb47" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 1 -每行缺失值的数量:</strong>该特征代表每一数据点的<strong class="ja hj"><em class="iz"/></strong>行缺失值的数量。下面是计算这个特性的函数的代码片段。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="ab fe cl mn"><img src="../Images/aa45663907703de210b82ea04da31a5a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wxuG3ab4y3nzPFtZ5ew68A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图“缺失值”特征概述。</figcaption></figure><p id="335a" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦此功能将采用0到8之间的离散值。</p><p id="599d" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦不需要在编码上对这个特征进行任何排序。</p><p id="43c4" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 2 -乘除特征:</strong>我们将两个已有的特征相互乘除，作为新的特征相加。下面是代码片段。我们使用连续特征来获得这个特定特征。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="02a6" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦这些特征是连续值，因此可以被视为数字特征。</p><p id="a6ea" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦:最好在这个特征上应用<a class="ae lo" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz">standard scaler</em></strong></a>，然后再输入到我们的模型中。</p><p id="83b5" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj">三串特征:</strong>我们将数据点中的所有分类特征用下划线<strong class="ja hj"> <em class="iz"> '_' </em> </strong>连接起来，并创建一串离散值作为特征。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="cee2" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦我们将需要在这个字符串特征上应用<a class="ae lo" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hj"> <em class="iz">普通编码</em> </strong> </a>，然后将它们输入到模型中。</p><p id="5809" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 4 -分类计数特征:</strong>该特征统计每个分类值在每个特征的数据集中出现的次数。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="6a27" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦此功能将占用数值。我们将在它上面应用<a class="ae lo" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hj"> <em class="iz">标准缩放器</em> </strong> </a>。</p><p id="0478" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 5 -二进制和特征:</strong>该特征是该行中所有二进制特征的和。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="ab fe cl mn"><img src="../Images/7567c43064f131e69587242260d7dd45.png" data-original-src="https://miro.medium.com/v2/format:webp/1*4QzUVf1i-502nb_bhOnAAg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图“sum_all_bin”功能概述。</figcaption></figure><p id="5431" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦此特征包含0到6之间的离散值。</p><p id="9cc0" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦不需要任何形式的编码。</p><p id="0dfa" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 6 -绝对二进制差特征:</strong>在这个特征中，我们创建一个参考行，它类似于所有行的中值。然后，我们计算每一行与参考行的绝对差的和。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="ab fe cl mn"><img src="../Images/fb3bf225bc8f98c67c9d4e50d02235e2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*GKs9wNCcxm9S1DFvA0RsVA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图“bin_diff”功能概述。</figcaption></figure><p id="4973" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦离散值特征。值介于1和7之间。</p><p id="f22c" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦不需要任何形式的编码。</p><p id="3cb7" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 7组统计特征:</strong>我们通过对一些特征上的数据点进行分组来获得一些统计数据，如最大值、最小值、中值、平均值和标准差。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="07f7" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦这些也是离散的数值。不需要应用任何类型的编码。</p><p id="30b0" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><strong class="ja hj"> 8 -基于模型的功能:</strong></p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="d14b" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">即使在谷歌的云平台<a class="ae lo" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz">Google colab</em></strong></a>或<a class="ae lo" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hj"> <em class="iz">上，✦生成这些功能也需要30多个小时。</em></strong></a></p><p id="c0b8" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦:我在谷歌的云平台上使用了Python中的多处理技术，在大约六个小时内获得了这些功能。诀窍是将所有的特性分成三类，即<strong class="ja hj"><em class="iz">【ind】</em></strong><strong class="ja hj"><em class="iz">【car】</em></strong>和<strong class="ja hj"><em class="iz">【reg】</em></strong>，然后将它们分别馈送给函数，并行运行3个进程。下面是修改后的函数的代码:</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="5adc" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦和现在运行并行进程的代码:</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="5ba4" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦你还可以进一步划分这些功能，并根据需要修改功能。如果您使用GCP，至少有8个CPU可供您使用。所以你可以进一步加快速度。</p><p id="0d65" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦除了上面讨论的特征，还有一些包含'-1 '值的分类特征。</p><p id="6a2f" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦我们将对它们应用<a class="ae lo" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hj"> <em class="iz">普通编码</em> </strong> </a>。我们还将在连续特征上应用<a class="ae lo" href="https://cscikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj"><em class="iz"/></strong></a>。</p><p id="1619" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated"><em class="iz">这就是特性工程的全部内容。现在我们来讨论这个问题的系综模型解。</em></p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="208b" class="ki kj hi bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">5 -系综模型解:</h1><p id="f8fa" class="pw-post-body-paragraph ix iy hi ja b jb lg jd je jf lh jh ji li lj jl jm lk ll jp jq lm ln jt ju jv hb bi translated">✦现在，既然我们有了我们需要的功能，我们也执行了EDA，让我们现在继续这个博客的最后一部分:最终解决方案的集合模型。</p><blockquote class="iu iv iw"><p id="d3d1" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">合奏很难做。就像三维象棋。</p><p id="4870" class="ix iy iz ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">—埃里克·博高西安</p></blockquote><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="b32c" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦上面的代码片段是针对将基础模型对象作为输入的<strong class="ja hj"><em class="iz">create _ ensemble</em></strong>类的。还有一种<strong class="ja hj"> <em class="iz">预测</em> </strong>的方法，即<strong class="ja hj"> <em class="iz">根据训练数据训练</em> </strong>模型，<strong class="ja hj"> <em class="iz">预测</em> </strong>输出测试数据。</p><figure class="jx jy jz ka fd ij"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="96df" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">我们可以在这个<a class="ae lo" href="https://www.kaggle.com/c/porto-seguro-safe-driver-prediction/submit" rel="noopener ugc nofollow" target="_blank">K<strong class="ja hj">T32】aggle页面 </strong> </a>上传Submission.csv文件，得到分数。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/ec48e6f45fc4797c1b407788b823cd98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MaikG-yzq7oWtZfo29990Q.png"/></div></div></figure><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ffb9493a5fefab348bce447a9ba2f231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DizaV0Va6IDdAB1Pwofo0g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1 .司机驾驶汽车</figcaption></figure><p id="27b5" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦未来作品:</p><p id="3d2b" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">为了进一步提高分数，可以尝试一些深度学习模型。我们可以尝试从简单的多层神经网络到深度卷积神经网络。我们可以将从集成解决方案获得的结果与深度学习解决方案相结合，并提高最终的kaggle分数。</p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><p id="0d75" class="pw-post-body-paragraph ix iy hi ja b jb jc jd je jf jg jh ji li jk jl jm lk jo jp jq lm js jt ju jv hb bi translated">✦参考:</p><ol class=""><li id="19ee" class="lp lq hi ja b jb jc jf jg li mp lk mq lm mr jv lu lv lw lx bi translated"><a class="ae lo" href="https://www.kaggle.com/headsortails/steering-wheel-of-fortune-porto-seguro-eda" rel="noopener ugc nofollow" target="_blank">命运的方向盘:波尔图Seguro EDA </a></li><li id="121e" class="lp lq hi ja b jb ly jf lz li ma lk mb lm mc jv lu lv lw lx bi translated"><a class="ae lo" href="https://www.youtube.com/watch?v=mbxZ_zqHV9c" rel="noopener ugc nofollow" target="_blank">Dmitry Altukhov获得第三名。</a></li><li id="6d8b" class="lp lq hi ja b jb ly jf lz li ma lk mb lm mc jv lu lv lw lx bi translated"><a class="ae lo" href="https://www.kaggle.com/ogrellier/noise-analysis-of-porto-seguro-s-features" rel="noopener ugc nofollow" target="_blank">塞古罗港特征的噪声分析。</a></li><li id="6b2b" class="lp lq hi ja b jb ly jf lz li ma lk mb lm mc jv lu lv lw lx bi translated"><a class="ae lo" href="https://github.com/pklauke/Kaggle-PortoSeguroSafeDriverPrediction" rel="noopener ugc nofollow" target="_blank">https://github . com/PK lauke/ka ggle-PortoSeguroSafeDriverPrediction</a></li></ol></div></div>    
</body>
</html>