<html>
<head>
<title>Simulate an Infectious Disease with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python模拟一种传染病</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simulate-an-infectious-disease-with-python-22ca556a77d8?source=collection_archive---------18-----------------------#2020-04-19">https://medium.com/analytics-vidhya/simulate-an-infectious-disease-with-python-22ca556a77d8?source=collection_archive---------18-----------------------#2020-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e380" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">我将用Python展示一个简单而强大的传染病模拟器。然后，我将分析输出数据，并讨论如何将其用于更好地制定抗击流行病的决策</h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es iy"><img src="../Images/fc264f511726a99ee46dde2d90ef4a93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ueOg--gTqhTuS3yXS60E6Q.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">图片来源:blog.equinix.com</figcaption></figure><p id="edbc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如今，由于冠状病毒，围绕传染病的数学建模有很多炒作。最广为人知的是<a class="ae kk" href="https://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology#The_SIR_model" rel="noopener ugc nofollow" target="_blank">爵士模型</a>。尽管对现实的描述过于简单，但结果确实“表现”得像一个真正的疫情。在这篇文章中，我不会讨论任何现有的数学模型，但建议另一种方法来模拟传染病的人口。政府可以使用这种工具来研究处理疾病的不同策略，此外，还可以尝试预测疾病本身的特性(我将在文章结尾讨论这一重要部分)。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="95f1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">我们开始吧。</strong>模拟器的目的是模拟传染病在人群中的行为。类似于预测传染病传播的数学模型，它是现实的简化模型。正如你将看到的，我认为它包含了一个更复杂的行为。</p><h1 id="12f3" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">模拟器的基本假设</h1><p id="faa7" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated"><em class="lp">时间</em> <strong class="jq hj"> <em class="lp">步</em></strong>——你可以把它想成一个小时、一天、一个月——只要是一个时间单位都没关系。模拟正在逐步进行。</p><p id="ab48" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> <em class="lp">随机性</em> </strong> —这是很重要的一部分。正如您将看到的，模拟器中有一些部分是随机的(您可以确定正态分布的<em class="lp"> mu </em>属性。当然也欢迎你选择其他发行版)。这一点很重要，因为正如现实本身一样，存在随机事件。</p><p id="c57e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">一个生病的公民<strong class="jq hj"> <em class="lp">移除</em> </strong>(被感染的公民要么被治愈要么死亡)不会再生病——这是大多数模型中的基本假设。</p><p id="7b0f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">公民之间的<strong class="jq hj"> <em class="lp">联系</em> </strong>的含义是他们身体接触，因此可以相互传染。每两个模拟实体(或公民)之间的连接是两者之一——它们要么没有连接(不会在物理上看到彼此)，要么连接。如果他们连接在一起，有两种选择:<br/>他们属于同一个<em class="lp">集团</em>——意味着他们是同一个公民群体的一部分，这个群体中每个个体的所有物理连接只与群体中的其他个体相连(你可以把这想象成一种隔离),或者他们以“常规”的方式连接(即在我们的模拟器中随机形成的连接，每一方都可以连接到其他公民)</p><p id="c190" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您可以在代码中找到更多的假设(或硬编码的概率)。</p><h1 id="7e98" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">传染病</h1><p id="4a87" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">在我们的模拟中，人们正在与传染病作斗争。我们模拟器中的疾病有4个参数:</p><p id="c857" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="lp"> infection_prob </em>:健康公民因身体接触而被患病公民感染的概率<br/> <em class="lp"> average_life_span </em>:移除<br/> <em class="lp"> is_sick </em>前疾病具有传染性的平均时间(步数):默认情况下，公民未被感染<br/> <em class="lp">计数器</em>:计数步数(时间)</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h1 id="f783" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">社区中的公民</h1><p id="4c8d" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">我们需要在模拟社区中模拟一个公民。我们公民的主要参数是:</p><p id="0281" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="lp">社区</em>:该公民所属的社区<br/> <em class="lp"> _id </em>:该公民的id <br/> <em class="lp">疾病</em>:该公民可能患有或未患有<br/> <em class="lp">的疾病</em>:如果为真，则表示该公民要么治愈，要么死亡</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h1 id="710b" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">社区</h1><p id="a4e8" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">在我们的模拟器中，社区基本上旨在描述公民之间的联系。参数:<br/> num_of_citizens:社区中的公民数量<br/>average _ physical _ connections:社区中一个公民的平均物理连接(疾病只能通过<br/>被感染的公民与另一个公民的物理连接来传播)<br/>disease:The disease<br/>num _ of _ infected:社区中被感染的公民的初始数量<br/> cliqe_prob:社区中一个公民<br/>的物理连接在一个封闭团体中的概率</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h1 id="984d" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">模拟器</h1><p id="a27e" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">模拟器类非常简单，它主要是一组社区的持有者:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="451a" class="ks kt hi bd ku kv ls kx ky kz lt lb lc io lu ip le ir lv is lg iu lw iv li lj bi translated">个案研究</h1><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es lx"><img src="../Images/af15dfb73d97face346c6e0acff79274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*58kNML8ooB098ZQjItYnow.png"/></div></div></figure><p id="7b1c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们检查一个具有以下参数的示例:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="4d39" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输出:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es ly"><img src="../Images/a899fbf18c8fa5f4565b794f70f5be10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15avE9bUBg84za2x8gia0Q.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">橙色:活动案例数，蓝色:总案例数</figcaption></figure><p id="1478" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">总病例数为5502例，占总病例数的27.51%。</p><h1 id="59eb" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">差别小——影响大！</h1><p id="4abe" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">让我们看看当我们只调整一个参数时会发生什么——<em class="lp">clique _ prob</em>。提醒一下——<em class="lp">clique _ prob</em>等同于“隔离人口的百分比”。所以，<em class="lp"> clique_prob </em> = 0.9，leets把它改成<em class="lp"> clique_prob </em> = 0.8 (80%而不是90%)，看看会发生什么:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="25cc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">输出:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es lz"><img src="../Images/781e8623efce0222c40e433b2ea87453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xl7uaYP2sj8eDSrY6SjXBg.png"/></div></div></figure><p id="7b07" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">乍一看，曲线的一般形状可能与前者相似，但是，两者有很大的区别。绝对数字要高得多:被隔离人群的10%变化，80%而不是90%，导致<strong class="jq hj"> 51.26% </strong>的人群被感染(！).</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="297a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这只是一个例子，说明如何使用这个模拟器来研究特定参数(或“行为”)对抗击疾病传播有多重要。世界各地的政府可以利用这种能力来规划更好的疾病防治策略。</p><h1 id="c6d5" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated">下一步是什么？</h1><p id="1a33" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">如前所述，模拟器可用于创建合成数据。在我的下一篇文章中，我将尝试利用模拟器生成的合成数据，以便使用神经网络并尝试预测模拟器的参数—更具体地说是<strong class="jq hj"><em class="lp">infection _ prob</em></strong>(多少人口是卫生的)和<strong class="jq hj"> <em class="lp"> clique_prod </em> </strong>(多少人口遵守隔离)。</p></div></div>    
</body>
</html>