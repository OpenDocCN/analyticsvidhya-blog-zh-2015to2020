<html>
<head>
<title>9 steps to set up a Python script and its package as an Amazon Lambda function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Python脚本及其包设置为Amazon Lambda函数的9个步骤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/setting-up-python-script-and-its-package-as-an-amazon-lambda-function-16f14d11d365?source=collection_archive---------12-----------------------#2019-12-18">https://medium.com/analytics-vidhya/setting-up-python-script-and-its-package-as-an-amazon-lambda-function-16f14d11d365?source=collection_archive---------12-----------------------#2019-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a5ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个关于如何将Python脚本及其相关包设置为Amazon Lambda函数的文档。改编自<em class="jd">派尔宁</em>在【https://youtu.be/rDbxCeTzw_k】T2的清晰解说。</p><p id="07ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我有什么？</strong> <br/> - MacBook OS的终端</p><p id="7ee7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在努力实现什么？我只想建立一个可行的Python脚本，它使用一个特定的包作为Amazon Lambda函数。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jf"><img src="../Images/e92d91c0e19a159ab04ad120349da392.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*531Meo8CO6ZBP_DqXvuWnw.png"/></div><figcaption class="jn jo et er es jp jq bd b be z dx translated">这是使用AWS Lambda中的函数完成的。</figcaption></figure><p id="5647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:<br/> </strong>在自己的机器上创建一个文件夹。在这种情况下，我在我的MacBook Pro中创建了一个名为“AWS_Deployment”的应用程序。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/07506ac76d90e50d23cd96698bbd578a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2QC9JsUb6Hl0Iyy8ffj55A.png"/></div></div><figcaption class="jn jo et er es jp jq bd b be z dx translated">在您的机器上创建一个文件夹。</figcaption></figure><p id="132c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤2: </strong> <br/>导航到终端中的AWS_Deployment文件夹，运行以下代码安装python包<em class="jd">请求</em>。“requests”只是一个例子，你可以用你想要的包名替换单词<em class="jd"> requests </em>来安装其他的包。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jw"><img src="../Images/fcd4e1996921d73c5d99b5176b5ebbd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*ghY9B9HGemY1rGPOs5lR-w.png"/></div></div></figure><p id="3f7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后它会自动下载必要的文件。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jx"><img src="../Images/c2cca12706e3a16541857daaf2810fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-841TY_zpi8zDPtMlqrWAg.png"/></div></div></figure><p id="4971" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查您自己计算机上的AWS_Deployment文件夹。曾经空的文件夹现在有了一些新的文件夹，里面有必要的文件。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jy"><img src="../Images/3e3136e30832e5a3f9f260cdafe2fe50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8uOBIHbHaW_cmnPdNfHlJw.png"/></div></div></figure><p id="d666" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:压缩文件夹<br/> </strong>选择AWS_Deployment文件夹中的所有内容，创建归档Zip文件。Archive.zip是我们用来上传到Amazon Lambda的。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jz"><img src="../Images/29fbce4bf71040a81e2122d8dc8249ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwg8a1oduk1nbDKJcgZ7Xw.png"/></div></div></figure><p id="485b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:在AWS创建亚马逊Lambda功能<br/> </strong>此时我们打开AWS账户，进入亚马逊Lambda功能页面。创建一个函数，并给它命名。选择<em class="jd"> Python </em>，因为我们正致力于Python微服务。<br/>这里的函数名是Function_deployment。<br/>点击<em class="jd">创建功能</em>并等待其被创建。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ka"><img src="../Images/07c93098fba7cfa4f612cbd09d4ebf91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vm_ZCch6aY2uVXloqDJ4lA.png"/></div></div></figure><p id="e18a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五步:上传zip文件<br/> </strong>页面重新加载后，选择<em class="jd">代码录入类型</em>下的上传zip文件选项，上传刚刚创建的<em class="jd"> Archive.zip </em>。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es kb"><img src="../Images/d892c57cd511d40f931d25bea0b85a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*is_wc-aVawPxe8Be5wYbLw.png"/></div></figure><p id="eff6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<em class="jd">保存</em>后，您应该会看到下面的文件夹视图。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kc"><img src="../Images/2665fc1876c7e851264adcc6ba9a4f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rka46Rlf1guD_KskRYCC6A.png"/></div></div></figure><p id="42dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第六步:创建要使用的Python函数</strong> <br/>接下来，创建保存要使用的函数的Python脚本。显然，这个函数将使用我们刚刚加载为zip文件的<em class="jd">请求</em>包。</p><p id="9e86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">改编来自PyLenin的代码，我要求代码执行对GitHub网站的get请求。</p><blockquote class="kd ke kf"><p id="e4fa" class="if ig jd ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">导入请求</p><p id="5800" class="if ig jd ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">def call_github(event=None，context = None):<br/>r = requests . get("<a class="ae je" href="https://www.github.com" rel="noopener ugc nofollow" target="_blank">https://www.github.com</a>")<br/>如果r.status_code == 200: <br/>返回"成功"</p></blockquote><p id="9abb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将把它保存为<em class="jd"> test.py </em>(作为Functional_deployment文件夹中的一个文件)，应该如下所示:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kj"><img src="../Images/4ca82d37c0dffe79d664b1d8721b30ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BMjGhCVYmsOJzvOyNZanZg.png"/></div></div></figure><p id="3557" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第7步:更改右上角的处理程序信息<br/> </strong>，将处理程序信息(下图右上角)更改为<em class="jd"> test.call_github。<br/> test </em>来自<em class="jd"> test.py </em>，call_github是<em class="jd"> test.py </em>内的函数(在<em class="jd"> test.py </em>文件中寻找。)</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kk"><img src="../Images/719729a6ee4431d9817b9de21ace72b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H2s85nddzN-P0nZjqF7HPg.png"/></div></div></figure><p id="e33a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤8:配置测试事件<br/> </strong>保存后点击<em class="jd"> Test，</em>需要创建测试事件，我称之为<em class="jd"> myTest </em>。内容简单{}如下图。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kl"><img src="../Images/b1dc55288f22f1c3adb23bdc21e23e74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aFxnLLuYTpyfLuB0R3D1Fg.png"/></div></div></figure><p id="19f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在您点击<em class="jd"> Create </em>之后，我们准备好测试代码，看看<em class="jd">请求</em>包是否被成功调用和使用。</p><p id="75fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第九阶段:测试它！ <br/>点击<em class="jd">测试。</em>确保<em class="jd"> myTest </em>被选中。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es km"><img src="../Images/45ae543a39c140718155c3488e234151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zr2LmGeqahKpBRR2I4H9Hw.png"/></div></div></figure><p id="1ea4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们应该看到绿色！和文本“它是成功的”。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kn"><img src="../Images/c3b61f082dbef6cf7cc38c0344011074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EN7DrmNyebFbu823MrbjHA.png"/></div></div></figure><p id="05ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样。尝试使用您需要使用的其他软件包。</p></div></div>    
</body>
</html>