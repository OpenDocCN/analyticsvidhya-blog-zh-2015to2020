<html>
<head>
<title>Understanding Spark UI — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解Spark UI —第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/spark-ui-c7f2ca9ef97f?source=collection_archive---------3-----------------------#2020-01-05">https://medium.com/analytics-vidhya/spark-ui-c7f2ca9ef97f?source=collection_archive---------3-----------------------#2020-01-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/12434358ec3c6a2c586ffac210ebaf99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dTzLQjp9kB5PuWaO"/></div></div></figure><p id="ee8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Spark用户界面中的基本元素是<br/> 1。乔布斯<br/> 2。阶段<br/> 3。任务<br/> 4。存储<br/> 5。环境<br/> 6。遗嘱执行人<br/> 7。结构化查询语言</p><p id="ddbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">乔布斯</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/85929fcbb4803184abe60dd0ed507114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*90nJBdl1m-wkz_EP-iau8g.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">作业快照</figcaption></figure><p id="f830" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作业可以被认为是您的ETL代码的一个物理部分。您希望了解的作业部分的详细信息是它所包含的阶段数。在上图中，它是4。<br/>第二个需要注意的细节是你工作中运行任务的数量。在这种情况下，它是97。这是群集中核心的直接计数。</p><p id="5352" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">阶段</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/60ecf4680dc7be694e7386db0e148fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_19_kLDpsIzVE86W2xumDA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">阶段快照</figcaption></figure><p id="6a58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要导航到“阶段”页面，请单击相应作业中的描述。您在“阶段”页面中看到的所有阶段都与您正在处理的特定作业相关。</p><p id="d825" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们假设你的工作有两个阶段，这意味着你的工作中发生了一次洗牌。如果你的工作有5个阶段，那么就有4次洗牌。洗牌的次数总是比级数少1。在一个理想的工作中，你应该在你的工作中有一个阶段，这意味着没有混乱，你的工作中的每个任务都是并行运行的。<br/>您可以在每个阶段看到的任务数量是spark将要处理的分区数量，阶段中的每个任务都是spark将要完成的相同工作，但处理的是不同的数据段。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/53d0016262e08f17dca190a747f7890b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8JcZ2yGVZYpcG2JWhq9k5w.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">相同的工作在不同的数据分区上完成</figcaption></figure><p id="c6c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">任务</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/9baa9a22ce4a7f4766e1e5f1f8fdfb88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anFeqHfQLrmHUUp0OB-Fuw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">任务快照</figcaption></figure><p id="af8b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要导航到“任务”页面，请单击相应阶段中的描述。<br/>在任务页面中要查找的关键内容有:<br/> 1 .输入大小—阶段的输入。</p><ul class=""><li id="82c0" class="ka kb hi is b it iu ix iy jb kc jf kd jj ke jn kf kg kh ki bi translated">期望输入大小的最小值、第25个百分位数、中值、第75个百分位数和最大值应该几乎相同，并且必须介于128和256MB之间。</li><li id="aeaa" class="ka kb hi is b it kj ix kk jb kl jf km jj kn jn kf kg kh ki bi translated">期望不同组的任务大小相同的原因是，在我们为该作业分配的内核上放置等量的数据或等量的数据。</li><li id="4ce1" class="ka kb hi is b it kj ix kk jb kl jf km jj kn jn kf kg kh ki bi translated">在上面的例子中，最小输入大小是0，第25个百分位数是27.1 MB，这意味着我们有一些核心将在0数据量上运行。所以我们没有充分利用内核。</li><li id="7baa" class="ka kb hi is b it kj ix kk jb kl jf km jj kn jn kf kg kh ki bi translated">在某些情况下，输入大小可能从1GB开始，这意味着我们过度利用了内核，我们应该对数据进行分区。</li></ul><p id="e51d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.随机写入—写入本地装载的磁盘的阶段输出。在下一阶段，这将是输入，它将再次从磁盘中读取。</p><blockquote class="ko kp kq"><p id="e0af" class="iq ir kr is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated">要了解spark内存管理，请参考本<a class="ae kv" rel="noopener" href="/@tharun026/spark-hierarchy-953c1eb56a81"> <em class="hi">篇</em> </a></p></blockquote><p id="467d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">汇总指标是Spark UI最重要的部分之一。它提供了关于数据如何在分区间分布的信息。</p><p id="698c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">储存</strong></p><p id="c095" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“存储”选项卡是我们查看持久数据详细信息的地方。</p><p id="5bd0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">环境</strong></p><p id="8124" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该页面为您提供关于spark配置的信息。</p><p id="9801" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">遗嘱执行人</strong></p><p id="7a5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该选项卡帮助您识别节点级问题。</p><p id="9f53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> SQL </strong></p><p id="6810" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这类似于SQL中的执行计划。如果你想优化你的代码，这是一个很好的起点。</p><p id="3d5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">想要了解更多关于Spark UI中SQL的内容，可以参考这篇<a class="ae kv" rel="noopener" href="/analytics-vidhya/understanding-spark-ui-51585e5e72c2"> <em class="kr">文章</em> </a>。</p></div></div>    
</body>
</html>