<html>
<head>
<title>Investigating Spotify Top of Year playlists using Python: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python研究Spotify年度最佳播放列表:第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/investigating-spotify-top-of-year-playlists-using-python-part-1-c9525ca8abb6?source=collection_archive---------13-----------------------#2020-03-20">https://medium.com/analytics-vidhya/investigating-spotify-top-of-year-playlists-using-python-part-1-c9525ca8abb6?source=collection_archive---------13-----------------------#2020-03-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/36e6b308567a8a689b1eb858ef6a1f76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UOVuPLBWXIeZFdmeZ2ugdg.png"/></div></div></figure><p id="39a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今年早些时候，Spotify根据用户的收听习惯，在2019年播放列表中重新列出了用户的年度最佳100首歌曲。他们还策划了十大播放列表来标志2020年的开始。</p><p id="2d7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想与普通用户相比探索我的热门歌曲，所以我从这些播放列表中提取了歌曲数据，并将其与Spotify根据用户群发布的一般“年度最佳”播放列表进行比较。</p><p id="2050" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我使用Spotify API提取播放列表数据，并使用python进行一些简单的数据探索。在这篇文章中，我将概述我的工作，并向你展示你如何可以拉你自己的播放列表，比较你自己的音乐品味，或建立自己的分析。代码可以在<a class="ae jo" href="https://github.com/emondvin/Spotify_Data_Analysis" rel="noopener ugc nofollow" target="_blank">我的GitHub库</a>中找到。</p><h2 id="b3d8" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">要访问Spotify API，您需要:</h2><ul class=""><li id="8e53" class="kk kl hi is b it km ix kn jb ko jf kp jj kq jn kr ks kt ku bi translated"><a class="ae jo" href="https://spotipy.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> spotipy </a> python模块</li><li id="2088" class="kk kl hi is b it kv ix kw jb kx jf ky jj kz jn kr ks kt ku bi translated">访问Spotify API:为自己申请一个<a class="ae jo" href="https://developer.spotify.com/" rel="noopener ugc nofollow" target="_blank">开发人员potify</a>账户，并获得所需的权限</li></ul><p id="ce80" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我发现这些帖子在学习抓取Spotify API进行数据分析时很有用。</p><ul class=""><li id="7c38" class="kk kl hi is b it iu ix iy jb la jf lb jj lc jn kr ks kt ku bi translated"><a class="ae jo" rel="noopener" href="/deep-learning-turkey/build-your-own-spotify-playlist-of-best-playlist-recommendations-fc9ebe92826a">https://medium . com/deep-learning-turkey/build-your-own-Spotify-playlist-of-best-playlist-recommendations-fc 9 ebe 92826 a</a></li><li id="9eab" class="kk kl hi is b it kv ix kw jb kx jf ky jj kz jn kr ks kt ku bi translated"><a class="ae jo" rel="noopener" href="/@RareLoot/extracting-spotify-data-on-your-favourite-artist-via-python-d58bc92a4330">https://medium . com/@ rare loot/extracting-Spotify-data-on-your-favorite-artist-via-python-d 58 BC 92 a 4330</a></li></ul><h2 id="de2c" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">使用Spotify访问Spotify API</h2><p id="8777" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">首先，你需要授权自己访问Spotify API。使用spotipy很容易做到这一点。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="6db6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的代码中，您需要输入自己的客户端ID、密码、用户名和基于您的Spotify for developers帐户的重定向URL。Spotify为您的项目提供了其他有趣的范围，其中一些允许您阅读自己的播放列表或与您的帐户互动。</p><p id="490f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">找到你的Spotify用户名可能会很烦人，尤其是当它与你的facebook账户绑定在一起的时候。我在Spotify网站上找到了我的帐户，检查了网页元素，搜索了“appid”，这是从你的facebook帐户生成的变量名。</p><p id="31f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦你有了这个授权设置，你就可以开始探索Spotify的API了！</p><h2 id="daeb" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">提取播放列表数据</h2><p id="509b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">我使用<a class="ae jo" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a>，这是一个强大的python数据分析和操作工具，目的是创建数据帧并将数据导出到csv。探索<a class="ae jo" href="https://developer.spotify.com/documentation/web-api/reference/object-model/" rel="noopener ugc nofollow" target="_blank"> Spotify的API文档</a>可能有助于理解数据是如何嵌套的，以及如何在代码中访问它。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="5fd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意，上面的代码依赖于本文中出现的第一个代码块中的授权流。</p><p id="7e20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我创建了一个函数来编译播放列表数据和我感兴趣的特性。首先，我从播放列表中提取歌曲，并根据曲目id (URI用于识别Spotify API中的歌曲)、名称和各自的艺术家将它们分开。</p><p id="a845" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用曲目id，我编译了Spotify用来将曲目描述成熊猫数据图的<a class="ae jo" href="https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/" rel="noopener ugc nofollow" target="_blank">特性</a>。此外，我还添加了该曲目的流行度，以及与该曲目艺术家相关的流派。Spotify不按流派分类，只按艺术家分类，所以流派必须单独提取，并根据艺术家追加到曲目中。一旦所有数据都排列在数据帧中，就可以很容易地导出为. csv格式，以供进一步分析。</p><p id="5466" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，获取播放列表数据只需对您选择的播放列表使用get_playlist_feats函数。我选择从我的个人资料和Spotify的普通用户群中调出“201X排行榜”和“十年排行榜”。导出。csv文件，数据已准备好进行分析。</p><p id="47be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是Spotify 2019年加拿大播放列表的数据:</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="573a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在第二部分中，我将探索这些数据，通过比较我自己的精选播放列表和Spotify的播放列表，来看看我的品味与Spotify的有何不同。</p><p id="f953" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有任何问题，请随时联系我们！</p></div></div>    
</body>
</html>