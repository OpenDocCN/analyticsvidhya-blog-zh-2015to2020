<html>
<head>
<title>Useful Pandas Tricks Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的熊猫把戏第二部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/useful-pandas-tricks-part-2-1cdeca72ee9a?source=collection_archive---------13-----------------------#2020-04-09">https://medium.com/analytics-vidhya/useful-pandas-tricks-part-2-1cdeca72ee9a?source=collection_archive---------13-----------------------#2020-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/d38a32225a5b50830a91623bf0dd55dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*GAVS0P0csGanU6mGegJtbQ.jpeg"/></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">Python熊猫——一个强大的库</figcaption></figure><div class=""/><p id="97fc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将了解更多可用于数据操作和分析的技能。所以，这篇文章是我上一篇<a class="ae jo" rel="noopener" href="/@kumar.brar/useful-pandas-tricks-part-1-c29292a7053a">文章</a>的延续。</p><p id="ed1d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要导入<em class="jp"> numpy </em>和<em class="jp"> pandas </em>库和一些数据集(可以免费使用和学习)，如下所示:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="d8de" class="jz ka ht jv b fi kb kc l kd ke">import pandas as pd<br/>import numpy as np</span><span id="b11b" class="jz ka ht jv b fi kf kc l kd ke">drinks = pd.read_csv('<a class="ae jo" href="http://bit.ly/drinksbycountry'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/drinksbycountry'</a>)<br/>movies = pd.read_csv('<a class="ae jo" href="http://bit.ly/imdbratings'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/imdbratings'</a>)<br/>orders = pd.read_csv('<a class="ae jo" href="http://bit.ly/chiporders'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/chiporders'</a>, sep = '\t')<br/>orders['item_price'] = orders.item_price.str.replace('$', '').astype('float')<br/>stocks = pd.read_csv('<a class="ae jo" href="http://bit.ly/smallstocks'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/smallstocks'</a>, parse_dates=['Date'])<br/>titanic = pd.read_csv('<a class="ae jo" href="http://bit.ly/kaggletrain'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/kaggletrain'</a>)<br/>ufo = pd.read_csv('<a class="ae jo" href="http://bit.ly/uforeports'" rel="noopener ugc nofollow" target="_blank">http://bit.ly/uforeports'</a>, parse_dates=['Time'])</span></pre><p id="b4b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以借助<strong class="is hu"> head </strong>命令检查数据集的基本结构。</p><p id="17b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:默认情况下，head命令显示5行，带有列标题。但是如果您需要查看更多的数据，那么您可以在head命令中传递行数，即df.head(15)表示15行，依此类推。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/91d24a344a416e01dfe54f6473d4e336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YyopYaZo6-xPFDxjpXhEoA.png"/></div></div></figure><p id="7c5e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，假设您想要反转数据集的顺序，即从最后一行开始向第一行移动，并且您还想要反转行的索引，请使用如下所示的命令:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kl"><img src="../Images/c9bfa78edad0a5ce0cc73726b145421f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oUv8ZIcFEEey4qJXFwsKXw.png"/></div></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">反转数据集的顺序并反转行的索引</figcaption></figure><p id="4f6a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，反转列顺序的命令及其说明如下所示:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="1147" class="jz ka ht jv b fi kb kc l kd ke">drinks.loc[:,::-1].head()  ## Used to reverse the order of columns (The 1st colon before comma means select all rows and the double colon with -1 means to reverse the column order)</span></pre><p id="df99" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，知道不同列的数据类型的命令:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="f853" class="jz ka ht jv b fi kb kc l kd ke">drinks.dtypes  ## Shows us the datatype of different columns</span></pre><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es km"><img src="../Images/7107f6dd9d9469d6d17a0a42b28847be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iffdSRAhN9b2w1AdnfRNdw.png"/></div></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">列和列数据类型详细信息的逆序</figcaption></figure><p id="88d7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">命令显示只有数字数据类型的列。在这里，我们利用<em class="jp">包含</em>的方法:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="31d8" class="jz ka ht jv b fi kb kc l kd ke">drinks.select_dtypes(include='number').head()  ## Shows only columns with number or int datatype(Note: It also shows the float datatype as well)</span></pre><p id="aa4c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">显示具有对象数据类型的列的命令:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="378c" class="jz ka ht jv b fi kb kc l kd ke">drinks.select_dtypes(include='object').head()  ## Shows only columns with 'object' datatype</span></pre><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/3ad7c2030fb310c399ee3008f8952948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bezJmIsp6IeNBtzam02AeQ.png"/></div></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">数字和对象数据类型</figcaption></figure><p id="5680" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，如果我们不想在结果中包含特定的数据类型，我们可以使用"<em class="jp"> exclude </em>"方法，如下所示:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="34cc" class="jz ka ht jv b fi kb kc l kd ke">drinks.select_dtypes(exclude='number').head()  ## Here exclude method is used to not show a particular datatype columns</span></pre><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ko"><img src="../Images/36d6489c57546ef8f699a44bbd8b21a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tw18bH7xSVUjJ6kTwBW1lw.png"/></div></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">排除方法</figcaption></figure><p id="ded4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，如果我们想在结果中包含一组数据类型，我们可以使用下面的命令:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="93ac" class="jz ka ht jv b fi kb kc l kd ke">drinks.select_dtypes(include=['number','object', 'category', 'datetime']).head()  ## Used to define which all datatype columns to include and showcase</span></pre><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kp"><img src="../Images/507c26c48c67810d70ecc2fe5745acba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BHhw4nIP7Nf9pK3pGU3pyg.png"/></div></div><figcaption class="hn ho et er es hp hq bd b be z dx translated">包括方法</figcaption></figure><p id="84b0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们学习了一套有用的方法，这些方法在我们的日常分析和报告任务中非常有用。在下一篇文章中，我们将继续学习熊猫的其他技巧和窍门。</p></div></div>    
</body>
</html>