<html>
<head>
<title>SQL FOR DATA SCIENCE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于数据科学的SQL</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sql-for-data-science-3d9b7b888802?source=collection_archive---------21-----------------------#2020-08-08">https://medium.com/analytics-vidhya/sql-for-data-science-3d9b7b888802?source=collection_archive---------21-----------------------#2020-08-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fe5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了R、Python之外，对于所有在数据科学领域工作/寻找工作的人来说，掌握SQL知识现在需要一个小时。到2025年，全球每天生成的数据量预计将达到463。为了存储如此大量的数据，掌握数据库知识是绝对必要的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/eb8c426eaacd61e04c248ffefe88c3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/0*lUf93oaRzURjtUy0"/></div></figure><p id="a351" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“数据是新的石油”也许是最受欢迎的流行语之一，它可以描述使我们日益互联的世界运转的燃料。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/34e20916de1ebe25aaebe450de2ccb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ISRYISo-JGPUQrBCZINtug.png"/></div></figure><p id="b803" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看SQL的一些基础知识。</p><p id="ac78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">简介</strong></p><p id="c3b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SQL代表结构化查询语言。SQL用于与关系数据库通信。一个<em class="jm">关系数据库</em>是一个<a class="ae jn" href="https://www.oracle.com/in/database/what-is-database.html" rel="noopener ugc nofollow" target="_blank">数据库</a>，它存储并提供对彼此相关的数据点的访问。这是用表格表示数据的一种方式。表格的列包含数据的属性，这使得在数据点之间建立关系变得很容易。</p><p id="3b3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据库通常包含一个或多个表。表格是相关数据条目的集合，由列和行组成。</p><p id="8f74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个表都由一个名称标识(例如“客户”或“订单”)。表格包含带有数据的记录(行)。</p><p id="9caa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">表中的每一列都称为一个字段。例如，对于客户表:CustomerID、CustomerName、ContactName、Address、City、PostalCode和Country是这里的字段。</p><p id="8bb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记录也称为行，是表中存在的每个单独的条目。例如，在上面的Customers表中有91条记录。</p><p id="1e3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">存在许多不同的SQL数据库，如:SQLite、MySQL、Postgres、Oracle和Microsoft SQL Server。</p><p id="bb75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> SQL不是区分大小写的语言</strong></p><p id="5f3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SQL表由主键组成，主键是唯一标识符，不能包含空值。该键在其他表中用作外键，SQL连接可以基于这些键完成，这在SQL中称为<a class="ae jn" href="https://www.google.com/search?sxsrf=ALeKk03vMVrx7hCF_ZqKe2j9bqPHQpHn6g:1596885167554&amp;q=referential+integrity&amp;spell=1&amp;sa=X&amp;ved=2ahUKEwi_waLpvIvrAhU8ILcAHXZ_AZEQkeECKAB6BAgUECg" rel="noopener ugc nofollow" target="_blank"> <em class="jm">引用</em>完整性</a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jo"><img src="../Images/931c258a12a181bd8a7fa7a755f0b2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*VY04A2aA9cdus6BcFSQyMg.png"/></div></figure><p id="96d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">开始吧</strong></p><p id="ccb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将向您介绍一些基本的SQL命令。</p><p id="e607" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> DDL(数据定义语言)命令:</strong> DDL或数据定义语言实际上由可用于定义数据库模式的SQL命令组成。它用于在数据库中创建和修改数据库对象的结构。</p><p id="c46b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建</strong> —用于创建数据库或其对象(如表、索引、函数、视图、存储过程和触发器)。</p><p id="53bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建表TableName(列1数据类型，列2数据类型，…);</p><p id="7139" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> DROP </strong> —用于从数据库中删除表格。</p><p id="8047" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">删除表TableName</p><p id="2120" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">ALTER</strong>-用于改变数据库的结构。</p><p id="7f4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更改表<em class="jm">表名</em> <br/>增加<em class="jm">列名数据类型</em>；</p><p id="f5dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">TRUNCATE</strong>-用于从一个表中删除所有记录，包括所有分配给这些记录的空间都被删除。</p><p id="d822" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">截断表TableName</p><p id="4cb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">重命名</strong>-用于重命名数据库中存在的对象。</p><p id="dc97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将表名重命名为新名；</p><p id="c348" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> DQL(数据查询语言):</strong></p><p id="5458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DML语句用于对数据执行查询。</p><p id="7d33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">选择</strong> —用于从数据库中检索数据。</p><p id="ea7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">select */column list from tablename；</p><p id="9bdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(*用于从表中选择所有列。为了选择一些列，列的名称用逗号(，)隔开</p><p id="ef37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> DML(数据操作语言):</strong>这些SQL命令处理数据库中的数据操作</p><p id="a63d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">插入</strong> —用于将数据插入表格。</p><p id="790b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新</strong> —用于更新表格内的现有数据。</p><p id="e7ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">删除</strong> —用于从数据库表中删除记录。</p><p id="95b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<em class="jm">表名</em>中删除<em class="jm">条件</em>；</p><p id="fad9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> DCL(数据控制语言):</strong> DCL包括GRANT、REVOKE等命令，主要处理数据库系统的权限、许可等控制。</p><p id="0881" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">授予</strong>-授予用户对数据库的访问权限。</p><p id="1541" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">撤销</strong>-撤销使用授权命令授予的用户访问权限。</p><p id="9cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> SQL连接</strong></p><p id="67a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SQL联接用于根据两个或多个表之间的相关列来组合它们的行。</p><h1 id="d4ee" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">不同类型的SQL连接</h1><ul class=""><li id="8238" class="kn ko hi ih b ii kp im kq iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj">内部连接</strong>:返回在两个表中都有匹配值的记录</li></ul><p id="51f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<em class="jm">表1 . column _ name</em>=<em class="jm">table 2 . column _ name</em>上从<em class="jm">表1 </em> <br/>表2<em class="jm">表2 <br/> </em>中选择*/<em class="jm">column _ name【s】</em><br/>；</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ky"><img src="../Images/63bbb2393334f8ce5c88596c89974102.png" data-original-src="https://miro.medium.com/v2/resize:fit:274/format:webp/1*n8vMmnfagMFN8Jf8ZVQHxg.png"/></div></figure><ul class=""><li id="2463" class="kn ko hi ih b ii ij im in iq kz iu la iy lb jc ku kv kw kx bi translated"><strong class="ih hj">左连接</strong>:返回左表所有记录，右表匹配记录</li></ul><p id="b155" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SELECT */<em class="jm">column _ name(s)</em><br/>从<em class="jm"> table1 </em> <br/>左连接<em class="jm"> table2 <br/> </em>上<em class="jm">table 1 . column _ name</em>=<em class="jm">table 2 . column _ name</em>；</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lc"><img src="../Images/c8401659998b7125765d04962aef7355.png" data-original-src="https://miro.medium.com/v2/resize:fit:292/format:webp/1*CRMrrd0o3lm6Dp7kjtavlA.png"/></div></figure><ul class=""><li id="71e9" class="kn ko hi ih b ii ij im in iq kz iu la iy lb jc ku kv kw kx bi translated"><strong class="ih hj">右连接</strong>:返回右表中的所有记录，以及左表中匹配的记录</li></ul><p id="27d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SELECT */<em class="jm">column _ name(s)</em><br/>从<em class="jm"> table1 </em> <br/>右连接<em class="jm">table 2<br/></em>ON<em class="jm">table 1 . column _ name</em>=<em class="jm">table 2 . column _ name；</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ld"><img src="../Images/c47fd8292ae723c29429909bf257037e.png" data-original-src="https://miro.medium.com/v2/resize:fit:254/format:webp/1*eJYlzGKeyHij31jmziGifg.png"/></div></figure><p id="e2ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> FULL JOIN </strong>:当左(表1)或右(表2)表记录中有匹配时，FULL OUTER JOIN关键字返回所有记录。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es le"><img src="../Images/037a26b7805da887d70f5f946053b496.png" data-original-src="https://miro.medium.com/v2/resize:fit:280/format:webp/1*h9zkkSx679kvp-IzdHbAng.png"/></div></figure><p id="fa35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">一些需要知道的要点</strong></p><p id="e8e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">联合运算符</strong></p><ul class=""><li id="06df" class="kn ko hi ih b ii ij im in iq kz iu la iy lb jc ku kv kw kx bi translated">UNION中的每个SELECT语句必须具有相同的列数和相似的数据类型</li><li id="767e" class="kn ko hi ih b ii lf im lg iq lh iu li iy lj jc ku kv kw kx bi translated">每个SELECT语句中的列顺序也必须相同。</li><li id="7221" class="kn ko hi ih b ii lf im lg iq lh iu li iy lj jc ku kv kw kx bi translated">UNION运算符将消除输出结果中的重复项。</li></ul><p id="ae04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<em class="jm">表1 </em>中选择<em class="jm">列名</em>，从<em class="jm">表2 </em>中选择<em class="jm">列名</em>；</p><p id="7f18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">UNION ALL运算符:</strong></p><p id="4f9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，UNION运算符只选择不同的值。若要允许重复值，请使用UNION ALL。</p><p id="d9ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<em class="jm">表1 </em>中选择<em class="jm">列名</em>并全部<br/>从<em class="jm">表2 </em>中选择<em class="jm">列名</em>；</p><p id="9002" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">按关键字排序:</strong></p><p id="a65f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ORDER BY关键字用于按升序或降序对结果集进行排序。默认情况下，ORDER BY关键字按升序对记录进行排序。要按降序排列记录，请使用DESC关键字。</p><p id="6f68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<em class="jm"> table_name </em> <br/>中选择<em class="jm"> column1 </em>、<em class="jm"> column2、… </em>、<br/>ORDER BY<em class="jm">column 1、column2、…</em>ASC | desc；</p><h1 id="568e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">SQL GROUP BY语句</h1><p id="d510" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq lk is it iu ll iw ix iy lm ja jb jc hb bi translated">GROUP BY语句将具有相同值的行分组到汇总行中。GROUP BY语句通常与聚合函数(COUNT、MAX、MIN、SUM、AVG)一起使用，按一列或多列对结果集进行分组。</p><p id="d8a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<em class="jm">表名</em> <br/>中选择<em class="jm">列名</em> <br/>其中<em class="jm">条件</em> <br/>分组依据<em class="jm">列名<br/> </em>排序依据<em class="jm">列名；</em></p><p id="017e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">HAVING子句:</strong>HAVING子句被添加到SQL中，因为WHERE关键字不能与聚合函数一起使用。</p><p id="c5d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是关于如何开始使用SQL解决数据相关问题的简单介绍。在下一篇文章中，我将发布一篇关于如何使用Python中的数据库连接器将CSV文件插入SQL数据库的简短文章。</p><p id="9049" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="b3a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GROUP BY语句将具有相同值的行分组到汇总行中。GROUP BY语句通常与聚合函数(COUNT、MAX、MIN、SUM、AVG)一起使用，按一列或多列对结果集进行分组。</p><p id="4a23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jm">希望这对你有帮助，感谢阅读！</em></p></div></div>    
</body>
</html>