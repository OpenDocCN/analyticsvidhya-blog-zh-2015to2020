<html>
<head>
<title>Analyse neighbourhood data in Hyderabad</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析海得拉巴的街区数据</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analyse-neighbourhood-data-in-hyderabad-654df8cbd839?source=collection_archive---------25-----------------------#2020-03-17">https://medium.com/analytics-vidhya/analyse-neighbourhood-data-in-hyderabad-654df8cbd839?source=collection_archive---------25-----------------------#2020-03-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="b26d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">简介/业务问题</h1><p id="255c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">位置是餐馆成功的最重要的方面。位置不当会导致客流量和收入减少，最终导致餐馆倒闭，从而导致投资者损失。因此，对于投资者来说，在选择地点时采用数据驱动的方法是非常有价值的。</p><p id="cfe3" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">此处的问题陈述旨在确定Hyderabad的位置特征，这些特征可用于判断开设餐厅的位置是否合适。</p><h1 id="b08d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">数据</h1><p id="83d4" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">作为解决问题的一部分，海得拉巴市将以市中心为中心点划分成正方形。从市中心开始，海得拉巴向两边延伸了15公里。因此，我们将它分成30x30的正方形，每个块的大小为1x1平方公里。我将使用geopy库查找海得拉巴中心的坐标(海得拉巴中心地址将是蓝毗尼公园)。基于中心坐标，我会用算法把城市分成几块。并将确定每个区块的经纬度。我将使用<strong class="jf hj"> geopy </strong>库来查找每个街区的邻居名称。一旦附近的信息可用，我将使用<strong class="jf hj"> foursquare </strong> venue API获取附近受欢迎的场地。</p><p id="eef1" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">一旦我准备好了所有数据(即街区名称、纬度、经度、场馆名称、场馆类别等)，我将研究这些数据，应用ML模型，评估该模型，并最终展示结果和结论。</p><h1 id="01c9" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">方法学</h1><p id="49fc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们将确定在海德拉巴开设餐厅的最佳地点。让我们首先确定海得拉巴市中心蓝毗尼公园的坐标。</p><p id="cac8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">接下来我们把我们市中心每个方向15公里的正方形区块划分成1x1网格。请注意，使用square并不是最佳选择，因为我们在使用Foursquare venue API时会错过角落的场地。我们将在未来的版本中解决这个问题。现在让我们只使用正方形，因为生成正方形块的算法相对来说比较容易。我们将创建一个区块中心重叠在海得拉巴市中心使用叶。</p><p id="6dc8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">由于我们的城市中心在地理坐标中，我们需要将其转换为笛卡尔坐标。一旦我们有了市中心的笛卡尔坐标，我们就可以使用该信息来计算1x1街区的笛卡尔坐标。1x1区块的笛卡尔坐标将转换回地理坐标。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/79199fe0e2ae2466ed0bbce0089c34ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uI0TBXtdSE9MKyV8"/></div></div></figure><p id="3bbf" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">现在我们已经有了带有中心坐标的块，我们将使用geopy库找到块中心的邻域名称。我们将使用区块的经度和纬度信息。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ks"><img src="../Images/590d825cbf8e6f8812e74514dda69050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/0*vzvD93LPm5hHZhcK"/></div></figure><p id="d5ca" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">现在我们有了街区的地理坐标，让我们为每个街区找出半径为500米的前100个场馆。为此，我将使用Foursquare API。Foursquare API有时没有场地的类别信息，我们会在事后丢弃这样的记录。</p><p id="53cc" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">我们有1517个分门别类的场馆。现在，让我们来看一个直方图分布，看看场馆附近的分布情况。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kt"><img src="../Images/f8637774cbecd6a28c4e592043894784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/0*4sOfCcTEdV9mcUea"/></div></figure><p id="17d3" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">从上面的直方图可以明显看出，大部分街区只有10个或更少的场馆。这表明缺乏这种邻域的数据，因此现在让我们丢弃它们。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ku"><img src="../Images/cab131748337e61a5a8a0080779cd5aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cdUxoEe9YY689mwV"/></div></div></figure><p id="234a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">我们现在可能有37个社区可供选择。让我们看看这些街区的场地分布。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kv"><img src="../Images/cd94942585e9c5d6d211163ca36357d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/0*t1hxHV5m1pdaIInY"/></div></figure><p id="e578" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">块名</p><p id="b59a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">从上图可以看出，Kondapur和Madhapur的场地较多，记者殖民地和Serilingampally的场地相对较少。</p><p id="6eb7" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">现在我们有了完整的数据，我们需要决定我们的模型。我们数据中最重要的特征是场馆的类别及其邻近地区。我们需要标记我们的邻居数据。分类和聚类是标记这些数据的两种方法。分类是一种监督算法，需要我们没有的训练数据。因此，我们将采用聚类方法。我们将尝试k均值聚类算法，并使用肘方法选择最佳k。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kw"><img src="../Images/65b7b18adb89dc8a01800d90d611912a.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/0*7lc439ikvNd26vqz"/></div></figure><p id="7747" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">肘点在k=12时可见。我们将用k=12对我们的邻居进行聚类。然后，将通过创建跨集群的第一个最常见场馆的条形图来分析每个集群。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kx"><img src="../Images/1009f2a59c6099ce57651e9990ab18bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hKEeznTVwAyLEmDN"/></div></div></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ku"><img src="../Images/d8510038f095f27c3590b6ef4f2859d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W7GNFTXvO3qRAHD6"/></div></div></figure><h1 id="dea7" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结果</h1><p id="5276" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">投资者希望在服务水平不高的地方或吸引大量人群的地方开设餐馆。根据我们的分析，酒店和影城是吸引大量人群的场所。让我们来看看这两类集群的数据。</p><p id="2f11" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">酒店</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ky"><img src="../Images/390a97590ecf5570852aed91963b9e31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JY9aCcyJ3gqQUg4B"/></div></div></figure><p id="ea95" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">多样的</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kz"><img src="../Images/574c064f1e206778ba82aaf9df882d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MkRy8vi5TglamJRF"/></div></div></figure><p id="ee20" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">从上面两个</p><p id="ead4" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">1.酒店集群大多是混合类型的场馆，位于热门场馆的第二至第十位。</p><p id="2f99" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">2.多厅集群在第5点还有一个电影院，在第7点有一个酒店。</p><p id="5a8e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">因此，在第5区附近开一家餐馆更有意义</p><p id="22af" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">那就是<strong class="jf hj">秘书处，海德拉巴海尔塔巴德</strong>。</p><h1 id="6b6e" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结论</h1><p id="d561" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们根据十大热门场馆对海德拉巴的街区进行了分析，并对最热门的场馆进行了加权，以确定合适的街区。</p><p id="5a37" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">虽然我们找到了答案，但仍有很大的改进空间。今后，我们将重点关注以下改进，以得出更准确的结果。</p><ol class=""><li id="77fa" class="la lb hi jf b jg kb jk kc jo lc js ld jw le ka lf lg lh li bi translated">把积木换成六边形是比较接近圆形的一种。这样我们将避免错过广场角落的场地。</li><li id="969a" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated">在决定是否适合在附近开餐馆时，引入餐馆得分。餐厅的分数也应该考虑到场地的受欢迎程度。</li><li id="4592" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated">引入DBSCAN聚类算法，该算法可以创建任意形状的聚类以提供更好的结果。</li></ol><p id="e5a9" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请随时提供进一步改进的建议。</p><p id="17ac" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">谢谢，</p></div></div>    
</body>
</html>