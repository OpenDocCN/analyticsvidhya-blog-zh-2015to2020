<html>
<head>
<title>How Regression With Decision Trees works?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">决策树回归是如何工作的？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-regression-with-decision-trees-works-ba8b523097cf?source=collection_archive---------9-----------------------#2019-12-19">https://medium.com/analytics-vidhya/how-regression-with-decision-trees-works-ba8b523097cf?source=collection_archive---------9-----------------------#2019-12-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/070a346772b40938d5340f8dfa987aaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cBd5oqMYjOvUPwjv"/></div></div></figure><p id="a5a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇博客中，我将讨论我们如何从头开始构建回归决策树。因此，我们将使用一个小数据集，针对该数据集，我们将针对数据集中每个个体的各种特征计算标准差。* <strong class="is hj">注意* </strong> : <em class="jo">由于博客很长，请耐心浏览，如果你不理解任何部分，请发表评论，以便我可以帮助你理解你被阻止的部分</em>。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/670ab0886d52344cb10ffc1559f96c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wUSQ7pV1CloUwCt_AZ0dQ.png"/></div></div></figure><p id="15c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">随着我们逐步计算数据集中要素的工资，我们将逐步了解如何计算新要素的工资，以及如何在回归决策树的每个渐进步骤中做出决策:</p><p id="8626" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第1步→我们将逐个逐列研究每个特性，并决定如何将每个特性放置在回归树的每个级别。首先我们将从<strong class="is hj">列开始</strong>列为:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/47efa69f49b4a3b0fe53218cf5a0e3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*kkl_7TePQTkwopZ2O9_IUA.png"/></div></figure><p id="4751" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第2步→由于这是一个分类列，我们将根据等级划分工资，计算两者的平均值，并计算残差平方和，如下所示:</p><p id="5284" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">asst prof Mean</strong>=(79750+77500+82379+78000+80225)/5 = 79570.8</p><p id="5b53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">Prof Mean</strong>=(101000+124750+137000+144651+109646)/5 = 123409.4</p><p id="9161" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">列</em><strong class="is hj"/>=<strong class="is hj"/>(79750–79570.8)+(77500–79570.8)+(82379–79570.8)+(78000–79570.8)+(80225–79570.8)+(1000)</p><p id="9315" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将对每一列继续这一过程，结束后，具有最小<strong class="is hj">残差平方和的列将是回归真的第一个节点。</strong></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/baa38df110262f2ccd7fee1c06d97736.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RkJkwzRqLWUXJAB16Rlm3Q.png"/></div></div></figure><p id="86b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">一个平均值</strong>=(77500+124750+137000+109646)/4 = 112224</p><p id="42d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> B表示</strong>=(79750+82379+78000+80225+101000+144651)/6 = 94334.16</p><p id="8aa1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">残差平方和为</em> <strong class="is hj">秩</strong> <em class="jo">列</em><strong class="is hj"/>=<strong class="is hj"/>(77500–112224)+(124750–112224)+(137000–112224)+(109646–112224)+(79750–94334.16)+(8224)</p><p id="de70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第3步→对于像yrs.since.phd和yrs.service这样的数字列，我们将首先按升序对列进行排序，并在该列的每个数据项旁边保留各自的薪金值。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/513314d06848205672a8b4bc60c92f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0m3bC1ATC1uYj9zBW-tBww.png"/></div></div></figure><p id="a42b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们将遍历列中的每个数据点，计算每个连续数据点的平均值，并计算残差平方和的最小值，如下所示:→</p><p id="b228" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于，2和4 →平均值为3</p><p id="c761" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，对于3，残差平方和为:</p><p id="890d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">平均工资78000英镑是78000英镑</p><p id="8958" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其余为:(77500+79750+80225+82379+101000+109646+144651+124750+137000)/9 = 104100.11</p><p id="c727" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此， <strong class="is hj"> 3 </strong> <em class="jo">的<em class="jo">残差平方和为</em>=(78000-78000)+(77500-104100.11)+(79750-104100.11)+(80225-104100.11)+(82379-104100.11)+(101000-104100</em></p><p id="c832" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这之后，我们可以看到有3个连续的4(<strong class="is hj">4</strong>)。因此，我们可以跳过连续数字，然后取下一个数据点，进行与前面相同的平均和步骤:</p><p id="c5e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于4和5 →平均值为4.5</p><p id="62e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，对于4.5的平方和残差为:</p><p id="d0e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">薪金78000、77500、79750和80225的平均值为(78000+77500+79750+80225)/4 = 78868.75</p><p id="e4ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并且，对于休息(82379+101000+109646+144651+124750+137000)/6 = 116571</p><p id="5c8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，<em class="jo">值</em> 4.5 <strong class="is hj"> </strong> <em class="jo">的残差平方和为</em>=(78000–78868.75)+(77500-78868.75)+(79750-78868.75)+(80225-78868.75)+(82379–116571)+(101000-1000)</p><p id="35aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，我们将为其他人继续努力，</p><p id="9305" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于5和19 →平均值为12</p><p id="9245" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">薪金78000、77500、79750、80225和82379的平均值为(78000+77500+79750+80225+82379)/5 = 79570.8</p><p id="4b34" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并且，对于休息(101000+109646+144651+124750+137000)/5 = 123409.4</p><p id="44f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，<em class="jo">值</em><strong class="is hj"/><em class="jo">的残差平方和为</em>=(78000–79570.8)+(77500-79570.8)+(79750-79570.8)+(80225-79570.8)+(82379–79570.8)+(101000-123400</p><p id="b527" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 21的残差平方和(</strong>为19和23→平均值为<strong class="is hj"> 21) </strong> <em class="jo">为</em>=(78000–83142.33)+(77500-83142.33)+(79750-83142.33)+(80225-83142.33)+(82377</p><p id="9f14" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为29.5 ( </strong>为23和36 →平均值为29.5 <strong class="is hj"> ) </strong> <em class="jo">为</em>=(78000–86928.57)+(77500-86928.57)+(79750-86928.57)+(80225-86928.57)+(886927)</p><p id="537b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值的残差平方和</em><strong class="is hj">36.5(</strong>36和37 →平均值为36.5 <strong class="is hj"> ) </strong> <em class="jo">为</em>=(78000–94143.875)+(77500–94143.875)+(79750–94143.875)+(80225–94143.875)+(823775)</p><p id="f44d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 38的残差平方和(</strong>37和39 →平均值为38 <strong class="is hj"> ) </strong> <em class="jo">为</em>=(78000–97544.55)+(77500–97544.55)+(79750–97544.55)+(80225–97544.55)+(823775)</p><p id="3340" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">由此，我们看到对于</em> <strong class="is hj"> <em class="jo"> 21 </em> </strong> <em class="jo">的值，它具有最小的残差平方和</em> <strong class="is hj"> <em class="jo"> 1099370278.08。</em> </strong> <em class="jo">因此，该值将被考虑用于与其他列的平方残差的比较。</em></p><p id="3f24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将再次重复计算“<strong class="is hj">yers . service”</strong>的最小残差平方和的相同过程，就像我们对“<strong class="is hj">yers . since . PhD”</strong>列所做的那样。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/c8deba23e0e833b69666524c84036769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5mPJTy99aBtQZ6H6REJuBg.png"/></div></div></figure><p id="2ffc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">先对数据值进行排序，然后，</em></p><p id="1ce5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 1的残差平方和(</strong>表示0和2 →平均值为<strong class="is hj"> 1) </strong> <em class="jo">为</em>=(78000–78000)+(77500–104100.11)+(80225–104100.11)+(79750–104100.11)+(82379–1047)</p><p id="a0e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为1.5 ( </strong>为23和26 →平均值为<strong class="is hj"> 1.5) </strong> <em class="jo">为</em>=(78000–78575)+(77500–78575)+(80225–78575)+(79750–111310.85)+(82379–111337)</p><p id="49f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 9的残差平方和(</strong>为3和15→平均值为<strong class="is hj"> 9) </strong> <em class="jo">为</em>=(78000–79570.8)+(77500–79570.8)+(80225–79570.8)+(79750–79570.8)+(82333</p><p id="d9d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为17.5 ( </strong>为15和20→平均值为<strong class="is hj"> 17.5) </strong> <em class="jo">为</em>=(78000–84583.33)+(77500–84583.33)+(80225–84583.33)+(79750–84583.33)+(82379–8479</p><p id="8147" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为21.5 ( </strong>为20和23→平均值为<strong class="is hj"> 21.5) </strong> <em class="jo">为</em>=(78000–86928.57)+(77500–86928.57)+(80225–86928.57)+(79750–86928.57)+(7957)</p><p id="2d84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为24.5 ( </strong>为23和26→平均值为<strong class="is hj"> 24.5) </strong> <em class="jo">为</em>=(78000–91656.25)+(77500–91656.25)+(80225–91656.25)+(79750–91656.25)+(8975)</p><p id="bf76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 31的残差平方和(</strong>为26和36→平均值为<strong class="is hj"> 31) </strong> <em class="jo">为</em>=(78000–81472.22)+(77500–81472.22)+(80225–81472.22)+(79750–81472.22)+(823772)</p><p id="77da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">由此，我们看到对于</em> <strong class="is hj">的值21.5 <em class="jo"> </em> </strong> <em class="jo">它具有最小的残差平方和</em><strong class="is hj"><em class="jo"/>1201422401.71<em class="jo">。</em> </strong> <em class="jo">因此，该值将被考虑用于与其他列的残差平方进行比较。</em></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/acf363b8cb8f5d0b46716c74b80bd209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mj-vr5NXloZoXeOy3sMCow.png"/></div></div></figure><p id="b5cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">男平均值</strong>=(78000+80225+79750+109646+101000)/5 = 89724.2</p><p id="875f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">Prof Mean</strong>=(77500+80225+124750+144651+137000)/5 = 112825.2</p><p id="ef91" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">残差平方和为</em><strong class="is hj"/><em class="jo">列</em><strong class="is hj"/>=<strong class="is hj"/>(78000–89724.2)+(80225–89724.2)+(79750–89724.2)+(109646–89724.2)+(101000–1000</p><p id="006f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，在所有因素中，平方和残差:</p><p id="6bc7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于"<strong class="is hj">排名</strong>列= <strong class="is hj"> 1344421278 </strong></p><p id="972a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<strong class="is hj">学科</strong>栏目= <strong class="is hj"> 16657363674.8 </strong></p><p id="6738" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">年</strong>。<strong class="is hj">自</strong>起。<strong class="is hj">博士</strong>专栏= <strong class="is hj"> 1099370278.08 </strong></p><p id="7348" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于“<strong class="is hj">年服务</strong>列= <strong class="is hj"> 1201422401.71 </strong></p><p id="b1ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于"<strong class="is hj">性</strong>"列= <strong class="is hj"> 4901344263.6 </strong></p><p id="4f78" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，“<strong class="is hj">yers . since . PhD</strong>列成为残差平方和最小的列，从而成为回归树的第一个节点。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/20e20fbcf5d2838dced63207018e8355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WPzr_2zWjLN8y7OUo8FqA.png"/></div></div></figure><p id="001a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将对图中给出的其他数据集节点执行相同的过程，并继续在树的每个级别形成这些类型的节点。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/38cea9bc599ada2e67da6d5c31bd3f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*j4ttNkNVeoWaLg68Ev5xOg.png"/></div></figure><p id="80a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">"<strong class="is hj">等级</strong>"列的残差平方和:(79750–79570.8)+(77500–79570.8)+(82379–79570.8)+(78000–79570.8)+(80225–79570.8)+(101000-101000)=<strong class="is hj">15101702.8</strong></p><p id="6fd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“<strong class="is hj">学科</strong>列的残差平方和:(79750–84270.8)+(77500–77500)+(82379–84270.8)+(78000–84270.8)+(80225–84270.8)+(101000–84270.8)=<strong class="is hj">359574102.8</strong></p><p id="833a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“<strong class="is hj">性别</strong>”列的残差平方和:(79750–85282.25)+(77500–78862.5)+(82379–85282.25)+(78000–85282.25)+(80225–78862.5)+(101000–85282.25)=<strong class="is hj"/></p><p id="f4b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，对于“<strong class="is hj">年服务</strong>”:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/0415dc5b7170593d7dfbf351e394e7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*npSh0JwDm1guzC6vU59ODw.png"/></div></div></figure><p id="bf32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先根据“<strong class="is hj">年服务</strong>中的数据对列进行排序</p><p id="c1af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 1的残差平方和(</strong>表示0和2→平均值为<strong class="is hj"> 1) </strong> <em class="jo">为</em>=(78000–78000)+(77500–84170.8)+(80225–84170.8)+(79750–84170.8)+(82379–84170.8)</p><p id="651c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为1.5 ( </strong>为2和3→平均值为<strong class="is hj"> 1.5) </strong> <em class="jo">为</em>=(78000–78575)+(77500–78575)+(80225–78575)+(79750–87709.66)+(82379–87709.609)</p><p id="ec26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 11.5的残差平方和(3和20的</strong>→平均值为<strong class="is hj"> 11.5 </strong> ) <em class="jo">为</em>=(78000–79570.8)+(77500–79570.8)+(80225–79570.8)+(79750–79570.8)+(828)</p><p id="566c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">由此，我们看到对于</em><strong class="is hj"/><em class="jo">的值11.5，它具有最小的残差平方和</em> <strong class="is hj"> <em class="jo"> </em> 15101702.8。</strong> <em class="jo">因此，该值将被考虑用于残差平方与其他列的比较。</em></p><p id="c285" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，如果我们比较所有其他残差平方和值，我们将看到“<strong class="is hj">排名</strong>”和“<strong class="is hj">年服务</strong>”11.5将具有残差平方和的最低值。因此，我们树的下一个节点将是这样的:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/7f2153d2b92fbf4dc258de4c3dfd798b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9FkYlq3drLEo0jg0FrDag.png"/></div></div></figure><p id="fc42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将处理根节点的右边子节点:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/c0eeeb5743138af7df6ec41374d92af6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uE4SRHYpihLIXyJY80y4GQ.png"/></div></div></figure><p id="6c67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">*对于“<strong class="is hj">排名</strong>”列，所有值都相同，因此我们将跳过它。</p><p id="ab88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“<strong class="is hj">学科</strong>”的残差平方和=(124750–123798.66)+(137000–123798.66)+(144651–144651)+(109646-123798.66)=<strong class="is hj">375478210.66</strong></p><p id="4eb6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">"<strong class="is hj">性别</strong>" =(124750–124750)+(137000–118764)+(144651–118764)+(109646–118764)=<strong class="is hj">1085826389</strong></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/967e17fb12ad5b6935feca7b64059692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RXY-QJ2XTwSAjPCoGTKodA.png"/></div></div></figure><p id="f5da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj"> 19的残差平方和(</strong>为15和23→平均值为<strong class="is hj"> 19 </strong> ) <em class="jo">为</em>=(109646–109646)+(124750–135467)+(144651–135467)+(137000–135467)=<strong class="is hj">2015500</strong></p><p id="1679" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为24.5( </strong>为23和236的平均值为<strong class="is hj"> 24.5 </strong> ) <em class="jo">为</em>=(109646–117198)+(124750–117198)+(144651–140825.5)+(137000–140825.5)=【中</p><p id="5397" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">值</em> <strong class="is hj">的残差平方和为24.5( </strong>为23和236的平均值为<strong class="is hj"> 24.5 </strong> ) <em class="jo">为</em>=(109646–126349)+(124750–126349)+(144651–126349)+(137000–137000)=<strong class="is hj">611</strong></p><p id="1aef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">因此，正如我们看到的</em> <strong class="is hj"> 24.5 </strong> <em class="jo">的值，它具有最小的残差平方和</em> <strong class="is hj"> <em class="jo"> </em> 143334308.5。</strong> <em class="jo">因此，该值将被考虑用于将平方残差与其他列进行比较，这些列是</em><strong class="is hj">375478210.66(</strong><em class="jo">表示“</em> <strong class="is hj">学科</strong> <em class="jo">”列</em> <strong class="is hj">)和1085826389 ( </strong> <em class="jo">表示“</em> <strong class="is hj">性</strong> <em class="jo">)</em></p><p id="9000" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，<strong class="is hj"> 143334308.5 </strong>是所有列<strong class="is hj">中残差平方和的最小值。因此，我们的回归树看起来像这样:</strong></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/ad99c3675a2c4ef42f91af986229d8cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APtOQb3IWTUdxB-QJs6l4Q.png"/></div></div></figure><p id="2797" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，对于最左边的孩子；</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/f11f79d29f663b3dce2a3bb7928455c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/0*mfRgwkri7W8OP2BR"/></div></figure><p id="de2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于，"<strong class="is hj">学科</strong>"栏:</p><p id="fa3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">一个平均值</strong> = 77500 / 1 =</p><p id="a792" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> B表示</strong>=(79750+82379+78000+80225)/5 = 80088.5</p><p id="96e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo"/><strong class="is hj">秩</strong> <em class="jo">列</em><strong class="is hj"/>=<strong class="is hj"/>(79750–80088.5)+(77500–77500)+(82379–80088.5)+(78000–80088.5)+(80225–80088.5)=<strong class="is hj">9741437</strong></p><p id="d911" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于，"<strong class="is hj">性</strong>"栏:</p><p id="ca32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">男性平均数</strong>=(79750+82379+78000)/3 = 80043</p><p id="6f28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">女性均值</strong> = (77500 + 80225)/2 = 78862.5</p><p id="59e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">残差平方和为</em><strong class="is hj"/><em class="jo">列</em><strong class="is hj"/>=<strong class="is hj"/>(79750–80043)+(77500–78862.5)+(82379–80043)+(78000–80043)+(80225–78862.5)=<strong class="is hj">13429400</strong></p><p id="95d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为<strong class="is hj">学科</strong>列的平方和小于<strong class="is hj">性别</strong>列。因此，下一个节点将用于<strong class="is hj">专业</strong>列。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/82e9232c9e8b231413a3acbd2bd8cd31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIMF_RZ4QiZV8-TpGmvnVw.png"/></div></div></figure><p id="ac87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们将继续构建回归树的不同节点。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/2fcbef17cd348ffd88cde17a935aec86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aBk1y_G8Jyp9G7kg9gZtUw.png"/></div></div></figure><p id="6dfe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在这里跳过了几个步骤，因为我们可以清楚地理解如何对下一个节点进行分类，最终我们的回归树在到达最后一步时将看起来像<strong class="is hj">下一张图</strong>。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/8de4b0ef2fa7ab434535738bd24cf24a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOvSMftYIW3yi3ScgFM-hA.png"/></div></div></figure><p id="6d4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到，从左侧开始的第三个叶节点有三个值，因此我们可以用它们的平均值替换这三个值，从而像回归树中存在的每个其他叶节点一样，为该叶节点获得一个值。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/c3e0176ec29b07a727d5194fd9528c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zk3_4VUKBXTAGWtR9ndS9A.png"/></div></div></figure><p id="397d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是如何从数据集构建回归树，我们现在准备好用新数据进行预测。所以如果我们必须对一个有特征的数据进行预测:→</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/ef35f8c667daf650d4053882ef936003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6GZX71Jzq1qnJ8RidIgMhQ.png"/></div></div></figure><p id="5d03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kj"><img src="../Images/a3010f1003c4e73355d4092c9b4b375a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vc83I1Q5YWr5a9hdTx-s3Q.png"/></div></div></figure><p id="621a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以清楚地预测，具有这些特征的个人(<strong class="is hj">教授，25岁，40岁，女性</strong>)的平均工资是<strong class="is hj"> 137000英镑。</strong></p><p id="b612" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你已经很好地理解了这个博客，如果没有，请在评论区提出你的问题，评论和担忧，直到那时享受学习。</p></div></div>    
</body>
</html>