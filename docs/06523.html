<html>
<head>
<title>The Complete Guide To Npm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Npm完全指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-complete-guide-to-npm-ac52fbc43f6c?source=collection_archive---------8-----------------------#2020-05-25">https://medium.com/analytics-vidhya/the-complete-guide-to-npm-ac52fbc43f6c?source=collection_archive---------8-----------------------#2020-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0c7eac642d77b66272eabfe43a4e0fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6UYEOgkekbzX3yaXCzmO5g.jpeg"/></div></div></figure><p id="1403" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> Npm </a>(节点包管理器)是<a class="ae jo" rel="noopener" href="/swlh/node-js-explained-dad7b23d027d"> Node.js </a>生态系统的标准包管理器。它是最大的在线软件包库，包含超过一百万个软件包。此外，它还是一个命令行界面工具，开发人员使用它来管理他们的Node.js项目。全世界的开发者都使用npm来共享他们的软件。React、Vue、Express和Angular都是很好的例子。</p><h1 id="5c34" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">假人的Npm</h1><p id="e759" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><em class="ks">本节使用类比来解释npm。如果你理解软件包的概念，你可以跳过。</em></p><p id="5d98" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设您想要制造一台笔记本电脑。你会自己创造CPU、内存、屏幕、软件、摄像头吗？不。您可能会从不同的制造商(骁龙、AMD、英特尔等)订购大部分部件。).你不用从头开始创造一切，而是使用由不同实体组成的各种组件。这本质上是软件包的目标。不需要每个后端开发者都创建一个框架来处理HTTP请求；事实上，大多数开发人员使用现有的框架，如Express、Fastify、Meteor等。</p><h2 id="929f" class="kt jq hi bd jr ku kv kw jv kx ky kz jz jb la lb kd jf lc ld kh jj le lf kl lg bi translated">现实生活中的例子</h2><p id="f3f9" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Gatsby(静态反应站点生成器)依赖于Express。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/e2c9c67916c4678a987748a3cbef6385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1R99HSgqnCOgUn65GsHpHA.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx translated"><a class="ae jo" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/</a></figcaption></figure><p id="0f0a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快递靠曲奇。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/39003c249a0332a9e1cd8fd66ca3857c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wxaA7SKv5PLfbOt0ztjHGQ.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx translated"><a class="ae jo" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/</a></figcaption></figure><p id="ba5a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Cookie不依赖于任何库(使用普通javascript)。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/6ce54f3575555061025902680cdd6ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8MAOohFgHQIVss9PUn2gw.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx translated"><a class="ae jo" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/</a></figcaption></figure></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="9c17" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">统计数据</h1><p id="1537" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Npm被社区广泛使用。下图描绘了过去<strong class="is hj"> </strong>两年<strong class="is hj"> </strong>最流行的web框架每天的下载量。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/1f89f5fa98bb5db443e0bad7178ecb84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U9AaTS3zkQKDgxP9pzLIEw.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx translated">h<a class="ae jo" href="https://www.npmtrends.com/" rel="noopener ugc nofollow" target="_blank">ttps://www . NPM trends . com/</a></figcaption></figure></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="e313" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">package.json</h1><p id="c7e1" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">一个标准的Node.js项目包含一个名为package.json的文件。它是一个json清单文件，包含应用程序的所有相关数据。就像餐馆的经理，他掌握着餐馆、工人和不同供应商的信息。</p><p id="4da7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是一个简短的basic package.json的样子:</p><pre class="li lj lk ll fd mf mg mh mi aw mj bi"><span id="6430" class="kt jq hi mg b fi mk ml l mm mn">"name": "vreangular", // see what I did there?<br/>"version": "0.0.1",<br/>"description": "",<br/>"author": "Evan Boo",<br/>"license": "MIT",<br/>"dependencies: {...},<br/>"devDependencies: {...},<br/>"scripts": {...},</span></pre><p id="6208" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">名称、作者、许可证、描述—如果您想要发布存储库，这很重要。</p><p id="fd1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">版本 —如果你正在维护一个开源的npm包，你应该根据语义约定更新它。3 . 7 . 2–3是主要版本，7是次要版本，2是修补程序。</p><p id="2b47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">脚本</strong></p><p id="6ce9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们展示了项目的脚本:构建、测试、林挺、部署等。每个项目都可以定制适合独特用例的脚本。开发人员可以添加和使用自定义脚本来增强开发能力。例如，在特定目录中执行端到端测试。</p><pre class="li lj lk ll fd mf mg mh mi aw mj bi"><span id="1cbe" class="kt jq hi mg b fi mk ml l mm mn">"scripts": {<br/>  "prebuild": "rimraf dist",<br/>  "build": "nest build",<br/>  "start": "nest start",<br/>  "lint": "tslint -p tsconfig.json -c tslint.json",<br/>  "test": "jest",<br/>}</span></pre><p id="37d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">依赖关系</strong></p><p id="b775" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">构建项目所需的。它们是在一个简单的对象中指定的，该对象将包名映射到一个版本范围。版本范围是符合特定语法的字符串。</p><pre class="li lj lk ll fd mf mg mh mi aw mj bi"><span id="bfe3" class="kt jq hi mg b fi mk ml l mm mn">"dependencies": {<br/>  "@hapi/joi": "^17.1.1",<br/>  "@nestjs/common": "^7.0.7",<br/>  "@nestjs/config": "^0.4.0",<br/>  "@nestjs/core": "^7.0.7"<br/>}</span></pre><p id="ba9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">依赖关系</strong></p><p id="72d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">开发项目而不是构建项目所需的依赖项。例如，测试框架没有捆绑到最终的代码构建中，而是只在开发中使用。</p><pre class="li lj lk ll fd mf mg mh mi aw mj bi"><span id="16fc" class="kt jq hi mg b fi mk ml l mm mn">"devDependencies": {<br/>  "@nestjs/cli": "^7.1.2",<br/>  "@nestjs/schematics": "^7.0.0",<br/>  "@nestjs/testing": "^7.0.7",<br/>  "@types/express": "^4.17.4"<br/>}</span></pre></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="4cf8" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">包锁. json</h1><p id="3e3f" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">对于npm修改<code class="du mo mp mq mg b"><strong class="is hj">node_modules</strong></code>树或<code class="du mo mp mq mg b"><strong class="is hj">package.json</strong></code>的任何操作，都会自动生成<code class="du mo mp mq mg b"><strong class="is hj">package-lock.json</strong></code>。它描述了生成的确切树，以便后续安装可以生成相同的树。这用于保存包的<strong class="is hj">精确</strong>副本，以确保程序在不同的机器上运行相同。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/ee9d84fe17ab76b59dc83392691f3839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRKb-1WB5S2mqQxhjJCA2w.png"/></div></div></figure><p id="4748" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该文件旨在提交到源存储库中，有多种用途:</p><ul class=""><li id="f730" class="ms mt hi is b it iu ix iy jb mu jf mv jj mw jn mx my mz na bi translated">描述依赖关系树的单一表示，这样可以保证队友、部署和持续集成安装相同的依赖关系。</li><li id="d13b" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn mx my mz na bi translated">保持项目中node_modules的确切状态，而无需将整个node_modules文件夹提交到源代码控制中。</li></ul></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="6f25" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">节点_模块</h1><p id="b1f9" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">当您运行npm install时，npm会将所需的包安装到项目根目录下一个名为<code class="du mo mp mq mg b">node_modules</code>的文件夹中。对于大型项目来说，文件夹的大小通常在150Mb以上，对于拥有许多项目的开发人员来说，这是一个非常头疼的问题。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es ng"><img src="../Images/242865a6a30a45fb9043fe42b8318d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*jttYIBMLaux2iuPxFz_xuQ.png"/></div><figcaption class="lm ln et er es lo lp bd b be z dx translated">node_modules中的目录</figcaption></figure><p id="29e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm可以在本地或全局模式下安装软件包。如果使用了标志-g，npm会将软件包安装到当前用户的根目录中。要在windows中查找全局安装的npm模块，请打开windows搜索，然后键入%appdata%。有一个名为npm的文件夹—全局软件包位于其中。</p><p id="30e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当全局安装软件包时，我们按用户安装，而不是按项目安装。有些情况下不建议这样做，例如使用同一个包的不同版本处理多个项目，例如使用Angular 5和Angular 9。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/9e929b8ed4a0bd3df58fa341e0ee2e4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iFqABR0dOPGP02nT.jpeg"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx translated">它确实是一个大文件夹</figcaption></figure></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="ab64" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">Npm命令</h1><h2 id="a14c" class="kt jq hi bd jr ku kv kw jv kx ky kz jz jb la lb kd jf lc ld kh jj le lf kl lg bi translated">安装项目依赖项</h2><p id="7e11" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">npm可以在一个命令中安装一个项目的所有依赖项。这个命令通常在我们克隆一个新项目时使用。</p><p id="5a9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du mo mp mq mg b">npm install</code></p><p id="e2d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该脚本将始终根据当前package.json安装依赖项。如果规范发生变化，并且您再次运行该命令，它将根据新规范安装软件包。</p><h2 id="0c7d" class="kt jq hi bd jr ku kv kw jv kx ky kz jz jb la lb kd jf lc ld kh jj le lf kl lg bi translated">执行脚本</h2><p id="b8a5" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><code class="du mo mp mq mg b">npm run script_name</code>其中脚本名定义在package.json ( <em class="ks"> build，test:e2e等。).</em></p><h2 id="d023" class="kt jq hi bd jr ku kv kw jv kx ky kz jz jb la lb kd jf lc ld kh jj le lf kl lg bi translated">安装开发依赖项</h2><p id="1f4b" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><code class="du mo mp mq mg b">npm install jest -D</code> -D将包保存为一个开发依赖项，并且不在构建中捆绑它。</p><h2 id="7a39" class="kt jq hi bd jr ku kv kw jv kx ky kz jz jb la lb kd jf lc ld kh jj le lf kl lg bi translated">列出全局包</h2><p id="0c4d" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">向我们显示当前用户的所有全局包。<br/> <code class="du mo mp mq mg b">npm list --global</code></p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="4908" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">故事</h1><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es ni"><img src="../Images/dce5650e639aab2d888c0f6e0928df35.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*kNFANIfHZWUrGBLSrCP47Q.png"/></div><figcaption class="lm ln et er es lo lp bd b be z dx translated"><a class="ae jo" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">https://yarnpkg.com/</a></figcaption></figure><p id="a3d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谈npm不能不提纱。Yarn是脸书工程师创造的一个替代客户。值得注意的是，Yarn并不是存储节点包的不同存储库，而是处理存储库工作的不同客户端。</p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="9aa3" class="jp jq hi bd jr js lz ju jv jw ma jy jz ka mb kc kd ke mc kg kh ki md kk kl km bi translated">结论</h1><p id="2e88" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">喔！我们今天讨论了许多概念。快速回顾:</p><ol class=""><li id="bedc" class="ms mt hi is b it iu ix iy jb mu jf mv jj mw jn nj my mz na bi translated">Npm主要是一个包含Node.js项目的存储库。</li><li id="cda4" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn nj my mz na bi translated">包对于构建可重用代码和共享代码非常有用。</li><li id="2500" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn nj my mz na bi translated">package.json是node.js项目的清单。</li><li id="cafe" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn nj my mz na bi translated">package-lock.json存储确切的包版本。</li><li id="0c66" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn nj my mz na bi translated">node_modules是包含项目所有依赖项的文件夹</li><li id="afb9" class="ms mt hi is b it nb ix nc jb nd jf ne jj nf jn nj my mz na bi translated">Yarn是一个由脸书工程师构建的替代客户端，用于处理Node.js包。</li></ol><p id="c684" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>