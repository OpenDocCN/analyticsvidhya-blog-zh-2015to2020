<html>
<head>
<title>NoSQL databases — An Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NoSQL数据库介绍</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/no-sql-databases-an-introduction-eb9706fbe3?source=collection_archive---------2-----------------------#2019-09-21">https://medium.com/analytics-vidhya/no-sql-databases-an-introduction-eb9706fbe3?source=collection_archive---------2-----------------------#2019-09-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1d3fa34bbc48130ec1173d094256b097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrcuEEK_ipsUQO0G2U5BHQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">NoSQL数据库</figcaption></figure><h1 id="4c96" class="iv iw hi bd iu ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">NoSQL一词的由来</h1><p id="4489" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">在互联网时代，企业使用传统的关系数据库。21世纪中期，随着互联网的普及，亚马逊和谷歌等公司的流量和数据激增。诸如MySql、Postgres、Oracle等关系数据库不能很好地扩展。Amazon提出了SimpleDB，Google引入了BigTable来克服RDBMS的局限性。这两个非关系数据库的进入引发了技术社区的兴趣。2009年，Johan Oskarsson组织了一次讨论分布式非关系数据库的会议。为了推广这个聚会，他在推特上使用了标签<strong class="ju hj"> #NoSQL </strong>，这催生了NoSQL数据库。在本文中，让我们浏览一下RDBMS的局限性，NoSQL数据库的工作原理、功能和误解。</p><h1 id="bce1" class="iv iw hi bd iu ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">扩展关系数据库</h1><p id="f736" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">让我们想象一下，我们在2005年左右开始了一项互联网业务。我们的业务有所起色，我们见证了网站流量的指数级增长。我们的客户抱怨网页加载速度慢。我们下一步做什么？我们要求聪明的数据库管理员优化数据库查询，并使用索引来提高网站性能。几个月后，我们又开始收到投诉。垂直扩展现在来拯救我们了。多投资几美元购买更大的服务器确实解决了我们的问题。</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/65a3489c482a5d0e307aeb7bc4a8ca94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSf3YbOpCM-9gxz1UaqNNg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">垂直缩放</strong></figcaption></figure><p id="35fa" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">对于我们数据库的垂直扩展，我们能走多远是有实际限制的。如果我们的网站想要进入一个新的业务，并存储视频，图像，聊天和所有形式的其他数据怎么办？</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/485800e1c30d3ce7dcaf23a30823aa58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OsSdeCpIM2iGBIA5YNtsZw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">水平缩放</strong></figcaption></figure><p id="87a3" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">答案很简单。由于单个机器可以存储有限的数据量，我们不得不求助于水平扩展。我们购买了数百台大型服务器，并在这些机器上分配数据和流量。</p><p id="b05c" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">SQL数据库不是为水平伸缩而设计的。将来自多台机器的数据集和数据聚合连接起来会给我们的设计带来复杂性。</p><p id="013c" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">传统的关系数据库如MySQL、PostgreSQL等支持A.C.I.D(原子性、一致性、隔离性和持久性)事务。否-SQL数据库符合B.A.S.E(基本上可用且最终一致)。让我们浏览一下NoSQL数据库的特性。</p><h1 id="c924" class="iv iw hi bd iu ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak">NoSQL数据库的特点</strong></h1><h2 id="6b0d" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated"><strong class="ak"> 1 —无模式</strong></h2><p id="7a2e" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">关系数据库有一个严格的模式。用户必须经历多次迭代才能对数据建模。改变属性的数据类型对于开发人员、主管和DBA来说是一场噩梦。</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/57ac98209aee6852b96195c5d2698320.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*rY23U6Icx5CPmYszjeAFeg.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">修改数据库模式</strong></figcaption></figure><p id="544d" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">NoSQL通过提供灵活的模式克服了这一限制。这些数据库从用户那里抽象出数据存储和内部工作。它们支持存储用户定义的数据结构。数据可以以JSON对象的形式存储。用户可以灵活地添加、替换或删除数据中的属性。</p><p id="926e" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">SQL和NoSQL类似于静态类型和动态类型的编程语言。SQL数据库就像C、C++一样，首先定义数据，然后存储值。NoSQL提供了类似python的能力，你可以给一个变量赋值，这很有效。</p><figure class="kq kr ks kt fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="ak"> SQL类似于C、C++、Java </strong></figcaption></figure><figure class="kq kr ks kt fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="ak"> NoSQL类似于Python </strong></figcaption></figure><p id="b75d" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">由于与模式无关，NoSQL数据库也被称为读取模式数据库。你只需要在读取数据的同时知道数据是如何存储的。</p><p id="dfce" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">灵活的模式缩短了开发时间。您不再需要经历数据建模和设计的多次迭代。开发人员可以存储和检索他们想要的任何东西。无模式设计的唯一缺点是由于缺乏控制而增加了风险。如果开发人员绕过开发过程修改生产系统，这只是一种威胁。</p><p id="520a" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">SQL数据库支持列的空值。例如:-银行应用程序网页有许多可选字段，如街道名称、昵称等。如果用户没有填充可选字段，数据库仍然会为这些列保留空间，以防用户将来更新它们。在NoSQL数据库中，不传递空条目，因此存储得到了优化。</p><p id="98fa" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">无模式并不意味着数据库中可以存储任何随机垃圾。例如，如果数据库列支持JSON数据类型，那么JSON必须是格式良好的。如果应用程序试图存储一个格式错误的JSON对象，它将得到一个错误。</p><h2 id="eb10" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">2 —非相关</h2><p id="0965" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">关系数据库将数据组织成行和列。您可以在许多表中存储数据，并且这些表可以有不同的关系。要获取数据，可以根据属性值连接表。当要连接的表的数量达到两位数或更高时，应用程序的性能会下降。如果应用程序连接存储在不同数据库服务器上的表，速度会显著下降。</p><p id="ff80" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">NoSQL数据库被反规范化了。NoSQL数据库中的记录之间没有关系的概念。这意味着您只需要将聚合数据存储在一个表中，而不是分散在不同的表中。</p><p id="5024" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">以下是上述方法的主要优点</p><ul class=""><li id="50d1" class="lq lr hi ju b jv ku jz kv kd ls kh lt kl lu kp lv lw lx ly bi translated"><strong class="ju hj">查询速度</strong>——速度显著提高，因为只需要对关键属性进行查找，而不需要连接许多表</li><li id="8261" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated"><strong class="ju hj">存储&amp;检索</strong> -简单地保存并获得一条记录</li></ul><p id="1451" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">例如，当您使用RDBMS设计一个食品配送应用程序时，您将创建多个表——一个用于用户、餐馆、订单。在NoSQL数据库中，一个订单表可以有一个餐馆，用户数据在许多行中重复。上述好处克服了数据重复的缺点。</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/82d234a6665d68dc481a7861148b2dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A-jkIR0X3gmrR72lMoIVhg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">复杂ER图</strong></figcaption></figure><p id="7b03" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">您可以避免创建复杂的ER图和编写复杂的SQL查询。有了NoSQL数据库，您可以加快开发速度，专注于完成工作。</p><h2 id="bec7" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">3 —高可扩展性和可用性</h2><p id="b826" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">当Google发布其BigTable论文时，它将BigTable定义为“一个用于管理结构化数据的分布式存储系统，旨在扩展到非常大的规模”。NoSQL数据库可以在许多计算机上存储数十亿字节的数据。</p><p id="2653" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">随着非结构化数据量的指数级增长，在单台机器上存储数据变得越来越困难。关系数据库需要专门的硬件来处理负载而不影响性能。因此，为了扩大规模，设计一个在计算机集群上存储数据并有效检索数据的系统变得至关重要。</p><p id="95f8" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">NoSQL数据库使用比高性能服务器便宜的商用服务器。随着数据存储需求的增加，可以添加更多的商用服务器。NoSQL数据库使用一致的哈希算法将数据均匀地分布在一个服务器集群中。</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/53f939203222938730ec03710ec18f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zkJ0yvgB2ya4KEAKjP3pZw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">一致哈希</strong></figcaption></figure><p id="294c" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">NoSQL数据库可以在许多机器上复制数据。如果任何一台服务器死机或崩溃，数据仍然可以访问。因此，NoSQL数据库的可用性很高。</p><figure class="kq kr ks kt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/772e7712abf7f34da5e38339556412ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-U6N8pHi1UkwGiypxsgVw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">数据复制</strong></figcaption></figure><h2 id="0f60" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">4 —开源</h2><p id="d086" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">开源开发使NoSQL软件独一无二。很少有开源厂商发布开源产品并销售企业附加功能。这些公司有一个类似红帽的商业模式。</p><p id="beed" class="pw-post-body-paragraph js jt hi ju b jv ku jx jy jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp hb bi translated">以下是一些开源NoSQL数据库的列表</p><ul class=""><li id="59cd" class="lq lr hi ju b jv ku jz kv kd ls kh lt kl lu kp lv lw lx ly bi translated">MongoDB</li><li id="0db6" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">卡桑德拉</li><li id="8e5f" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">雷迪斯</li><li id="e1f0" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">伏地魔</li><li id="7139" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">超表格</li><li id="e123" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">Neo4j</li></ul><h1 id="02ec" class="iv iw hi bd iu ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">对NoSQL数据库的常见误解</h1><h2 id="f1f1" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">1-NoSQL是单一类型的数据库</h2><p id="36b1" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">NoSQL数据库是根据数据类型及其内部工作方式进行分类的。以下是不同类型的NoSQL数据库</p><ul class=""><li id="ca1d" class="lq lr hi ju b jv ku jz kv kd ls kh lt kl lu kp lv lw lx ly bi translated">key-Value——这些数据库像HashMap一样工作，可以存储任何类型的值。几个例子是雷迪斯，伏地魔和气塞</li><li id="81e4" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">宽列存储-列的名称和格式可以根据行的不同而不同。Cassandra、BigTable和Hypertable是宽列存储</li><li id="ccc0" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">文档存储CouchDB、MongoDB和DocumentDB等数据库能够以JSON、XML文档的形式存储数据</li><li id="1077" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated">图形数据库——像Neo4j这样的数据库内部模型实体是图形节点，实体之间的关系由节点之间的边来表示</li></ul><h2 id="be19" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">2 —使用NoSQL会有数据丢失的风险</h2><p id="bea1" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">由于NoSQL数据库牺牲了一致性而不是可用性，因此可能会出现每次读取都不遵循最近一次写入的情况。然而，这些数据库最终是一致的，因此保证了数据的持久性。</p><h2 id="358f" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">3——NoSQL只是一个时髦词</h2><p id="6b2b" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">亚马逊、谷歌、微软、IBM和甲骨文以及许多其他大公司已经建立了NoSQL数据库，并在生产系统中利用它们的能力。大型软件公司只有在看到利润时才会投资技术，因此NoSQL不再是炒作。</p><h2 id="2631" class="kz iw hi bd iu la lb lc ja ld le lf je kd lg lh ji kh li lj jm kl lk ll jq lm bi translated">4 —增强型RDBMS将取代NoSQL</h2><p id="6260" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">NoSQL的高度分布式特性正在与RDBMS技术集成，这导致了许多NewSQL数据库的出现。NewSQL数据库克服了大多数与RDBMS技术有关的批评。然而，NoSQL数据库是为使用不同的数据结构解决不同的数据问题而建立的。</p><h1 id="ae2e" class="iv iw hi bd iu ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">参考</h1><ul class=""><li id="e871" class="lq lr hi ju b jv jw jz ka kd mh kh mi kl mj kp lv lw lx ly bi translated"><a class="ae mk" href="https://www.google.com/aclk?sa=L&amp;ai=DChcSEwjqzNzFzuLkAhWMgHAKHfjqAVcYABAHGgJzYg&amp;sig=AOD64_3WUYDqMdzgPbh4uXupHmzMAoRGvw&amp;ctype=5&amp;q=&amp;ved=0ahUKEwjg8NbFzuLkAhW28HMBHdabAlcQ9aACCNYB&amp;adurl=" rel="noopener ugc nofollow" target="_blank"> NoSQL的假人</a></li><li id="69b1" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated"><a class="ae mk" href="https://www.amazon.in/NoSQL-Distilled-Emerging-Polyglot-Persistence/dp/8131775690/ref=sr_1_2?keywords=nosql&amp;qid=1569092948&amp;s=books&amp;sr=1-2" rel="noopener ugc nofollow" target="_blank"> NoSQL蒸馏</a></li><li id="4a71" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated"><a class="ae mk" href="https://www.amazon.in/Cassandra-Eben-Hewitt-Jeff-Carpenter/dp/9352134184/ref=sr_1_1?keywords=cassandra&amp;qid=1569092992&amp;s=books&amp;sr=1-1" rel="noopener ugc nofollow" target="_blank">卡珊德拉</a></li><li id="9732" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated"><a class="ae mk" href="https://www.wikipedia.org/" rel="noopener ugc nofollow" target="_blank">维基百科</a></li><li id="fd6c" class="lq lr hi ju b jv lz jz ma kd mb kh mc kl md kp lv lw lx ly bi translated"><a class="ae mk" href="https://www.attunity.com/solutions/database/enterprise-data-replication/" rel="noopener ugc nofollow" target="_blank">企业数据复制</a></li></ul></div></div>    
</body>
</html>