<html>
<head>
<title>How to setup a GPU compute instance (Virtual Server) on IBM cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在IBM cloud上设置GPU计算实例(虚拟服务器)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-setup-a-gpu-compute-instance-virtual-server-on-ibm-cloud-478948b94718?source=collection_archive---------8-----------------------#2020-10-12">https://medium.com/analytics-vidhya/how-to-setup-a-gpu-compute-instance-virtual-server-on-ibm-cloud-478948b94718?source=collection_archive---------8-----------------------#2020-10-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e4dcab55a461bf1a43a0537314fb68b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wqdKFn4A0Umleg90p3PzsQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">pic信用@服务主页</figcaption></figure><p id="beaf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">图形处理单元或GPU现在是启动你的人工智能之旅的绝对必要条件。没有GPU，许多最先进的深度学习网络都不可能实现。感谢像“亚马逊Aws”、“谷歌云”和“IBM云”这样的云公司的支持，现在访问GPU相对容易得多。</p><p id="7a2d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你是一家初创公司，正在开发基于下一代人工智能的产品，你可以申请不同云巨头的启动程序，如“亚马逊AWS”、“IBM cloud”或“谷歌云”。您可以从亚马逊AWS获得高达5000美元的云积分，从“IBM cloud”获得每月10，000美元的云积分，或者从“Google cloud”获得3000美元的云积分。“IBM cloud”每月10，000美元的信用证明是我们深度学习实验的福音。</p><p id="3b5d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这篇文章是我向“IBM cloud”团队说声“非常感谢”的方式😊。</p><p id="ab80" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这里，我列出了开始使用IBM cloud GPU的细节。IBM Cloud以按小时和按月计费的方式提供以下两种Nvidia GPU:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="933c" class="kb kc hi jx b fi kd ke l kf kg"><strong class="jx hj">GPU TYPE 1:</strong></span><span id="0eb8" class="kb kc hi jx b fi kh ke l kf kg"><strong class="jx hj">NVIDIA Tesla V100</strong></span><span id="0ed8" class="kb kc hi jx b fi kh ke l kf kg">GPU: 1 x Volta V100<br/>Memory: 16 GB HBM2<br/>NVIDIA Tensor Cores: 640<br/>NVIDIA CUDA Cores: 5120<br/>Memory bandwidth: 9000 GB/sec</span><span id="8f06" class="kb kc hi jx b fi kh ke l kf kg"><strong class="jx hj">GPU TYPE 2:</strong></span><span id="bae7" class="kb kc hi jx b fi kh ke l kf kg"><strong class="jx hj">NVIDIA Tesla P100</strong></span><span id="5e11" class="kb kc hi jx b fi kh ke l kf kg">GPU: 1 x Pascal GP100<br/>Memory: 16 GB HBM2<br/>NVIDIA CUDA Cores: 3584<br/>Memory bandwidth: 720 GB/sec</span></pre><p id="7bf2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这些GPU1或“英伟达特斯拉V100”中，深度学习是值得推荐的。</p><p id="e386" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">设置GPU的过程包括下面列出的3个主要步骤:</p><ol class=""><li id="e428" class="ki kj hi iw b ix iy jb jc jf kk jj kl jn km jr kn ko kp kq bi translated"><strong class="iw hj">从IBM Cloud获得/订购“NVIDIA Tesla V100”</strong></li><li id="10f5" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">登录到创建的GPU实例</strong></li><li id="8b82" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">分区并挂载额外请求的磁盘空间</strong></li></ol></div><div class="ab cl kw kx gp ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="hb hc hd he hf"><h1 id="0913" class="ld kc hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak"> 1。从IBM Cloud获得/订购“NVIDIA Tesla V100”:</strong></h1><p id="b759" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">下面列出了必要的步骤:</p><p id="df5a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">步骤1:使用您的登录凭证登录IBM Cloud】</strong></p><p id="3ac3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">前往链接<a class="ae mf" href="https://cloud.ibm.com/login" rel="noopener ugc nofollow" target="_blank">https://cloud.ibm.com/login</a>并登录您的IBM cloud帐户。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/806404abf27cd8f17a7c3f20b5d26527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6y32tNPoBtDs6ag1oUzoog.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">IBM cloud登录页面</figcaption></figure><p id="51c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">步骤2:在仪表板上点击右上角的“创建资源”:</strong></p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/0993543c9048a729124963cd784a930f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g4YpHCuBFnQkjKv92k3Fdw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">“创建资源”按钮占位符</figcaption></figure><p id="352e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">第三步:点击“经典虚拟服务器”:</strong></p><p id="c5cb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果默认情况下不可见，您可能需要在“搜索目录”部分进行搜索。也可以从“裸机服务器”订购“GPU实例”,但在本文中，我们将讨论“经典虚拟服务器”。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/b53cf0a345d2c0b961ab9f8a54895595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ml39a1_Dbn8UGy3Fv5A9-Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">“经典版的虚拟服务器”占位符</figcaption></figure><p id="267f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">步骤4:输入所需的配置以请求GPU，如下所示:</strong></p><p id="3805" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">变量和属性的值:</p><ul class=""><li id="cfdf" class="ki kj hi iw b ix iy jb jc jf kk jj kl jn km jr mj ko kp kq bi translated">虚拟服务器类型:<strong class="iw hj">公共</strong>【保留默认值】</li><li id="c047" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">数量:<strong class="iw hj"> 1个或更多</strong>【根据您的喜好】</li><li id="d6c2" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">计费:<strong class="iw hj">小时/月</strong>【根据您的喜好】</li><li id="70b4" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">主机名:<strong class="iw hj"> gpu-demo </strong>【根据您的喜好】</li><li id="f912" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">放置组:<strong class="iw hj">无</strong>【或者你可以分配一个组。分组将帮助您组织实例]</li><li id="ad88" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">地点:<strong class="iw hj">那东</strong>【wdc 07华盛顿】。仅在数据中心dal10、dal12、dal13、lon04、lon06、wdc07、tok02、syd04和fra02中允许GPU配置。</li><li id="62a4" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">配置文件:<strong class="iw hj">所有配置文件→ GPU - &gt;选择您想要的GPU配置。</strong>在本次演示中，我选择了2个120GB内存的V100</li><li id="5151" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">SSH密钥:<strong class="iw hj">如果已经有SSH密钥，请选择一个，或者创建一个新的SSH密钥。</strong>出于安全考虑，建议使用SSH密钥。您可以单独创建一个SSH私有-公共密钥对，并在此部分粘贴公共密钥。另外保存相应的私钥以备后用。稍后将使用该私钥登录GPU机器。</li><li id="d0db" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">图像<strong class="iw hj">:选择您想要的操作系统图像。为了这个演示，我使用了Ubuntu 18.04</strong></li><li id="5198" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">附存储盘:<strong class="iw hj">默认情况下，IBM提供了一些GB的引导盘</strong>。<strong class="iw hj">总是建议为您的项目创建额外的磁盘空间</strong>。对于本演示，我将创建一个50 GB的额外磁盘空间。应该注意的是，这个磁盘需要在以后进行分区和挂载。本文稍后将讨论执行相同操作的步骤。</li><li id="7add" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">网络接口:<strong class="iw hj">网络接口和下面其他字段可以保留默认值。</strong></li></ul><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/f7422f19a8023ece722dfd61d9342438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7IjQRpZV1xa2PWqUCafOQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">gpu配置1</figcaption></figure><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/ce8b1b4bd54aa65b3a03cc0babc212ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3F4BVK4cbVC9gqn4PfzjUQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">gpu配置2</figcaption></figure><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/c9616395b873a443d5d886ae80512dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVJ0MJKhYnoe0mbD3WTCAQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">gpu配置2</figcaption></figure><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/c9616395b873a443d5d886ae80512dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVJ0MJKhYnoe0mbD3WTCAQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">gpu配置3</figcaption></figure><p id="d436" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">步骤5:同意条款和条件后，继续创建计算实例:</strong></p><figure class="js jt ju jv fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/abbfa3ca47f3b16b7c75d965583737c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*qoGTNl1pyotY_u51Kgoc8Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">条件</figcaption></figure><p id="483a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">几分钟后，GPU服务器在仪表板上变得可用。</p></div><div class="ab cl kw kx gp ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="hb hc hd he hf"><h1 id="c9fa" class="ld kc hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">2.登录到创建的GPU实例:</h1><p id="480e" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">您可以使用任何终端模拟器，如“Putty”、“Git Bash”或“标准linux终端”来使用SSH访问请求的服务器。有两种方法登录到所请求的机器，如下所述:</p><h2 id="d692" class="kb kc hi bd le mo mp mq li mr ms mt lm jf mu mv lq jj mw mx lu jn my mz ly na bi translated"><strong class="ak">使用密码登录:</strong></h2><p id="1438" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">在分配了“带有GPU的linux虚拟服务器”之后，它在仪表板上变得可见。该视图的快照如下所示:</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/c44e56f5be7361278265dc8674db04b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EbJj72oteX3MblB3xwiHQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">显示请求的服务器的IBM cloud Dashboard</figcaption></figure><p id="89c9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">如何获取机器/服务器的ip地址？</strong></p><p id="8738" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">点击机器名称进入详细信息页面。如果你向下滚动一点，你将能够找到它的ip地址(私有和公有)。请参考下面的快照:</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/8aead3ffa7899f935e60d08c8cefb42b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONt9ZGPho-i6Xp4qga5jUQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">获取服务器的ip地址</figcaption></figure><p id="7209" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">如何获取访问机器/服务器的密码？</strong></p><p id="71be" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如前所述，单击机器的名称进入其详细信息页面。在详细信息页面上，单击左侧名为“密码”的菜单项以获取密码详细信息，如下所示:</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/1e8cfdf31b8e3fd183b254d9ee934673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6WDZF8MVKF84dHOt18TFQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">获取密码详细信息</figcaption></figure><p id="226a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">使用ip地址和密码访问服务器:</strong></p><p id="d5bb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">打开你最喜欢的终端，在命令行输入命令“ssh root@ <your public="" ip="" address="">”。接下来，它会提示输入密码。输入我们在上一步中获得的密码。</your></p><p id="b7d7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您应该能够成功登录到机器。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="c997" class="kb kc hi jx b fi kd ke l kf kg">(base) [SELLZMART\shabnam@a-1bzp0de4onvjj ~]$ ssh root@&lt;ip adddress&gt;<br/>root@&lt;ip address&gt;'s password: <br/>Welcome to Ubuntu 18.04.4 LTS (GNU/Linux 4.15.0-88-generic x86_64)</span></pre><h2 id="dbb6" class="kb kc hi bd le mo mp mq li mr ms mt lm jf mu mv lq jj mw mx lu jn my mz ly na bi translated">使用ssh-key登录:</h2><p id="b835" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">除了上面讨论的使用密码的登录方法之外，IBM cloud还允许使用ssh-keys登录。如果您还记得，在请求GPU服务器时，我们有一个提供SSH-key的选项。在这一阶段，必须提供“公共SSH-key”才能使用“私有SSH-key”登录到GPU机器。</p><p id="d13c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用“ssh-key”登录的命令行如下所示:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="1cfc" class="kb kc hi jx b fi kd ke l kf kg">ssh -i key root@&lt;public ip address&gt; </span></pre><p id="4545" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">其中“key”是本地计算机上包含“私有ssh-key”的文件的名称。</p><p id="34a4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">应该注意的是,“使用ssh-key登录”是登录任何远程服务器的一种安全且推荐的方式。</p></div><div class="ab cl kw kx gp ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="hb hc hd he hf"><h1 id="ba63" class="ld kc hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">3.分区并安装额外请求的磁盘空间:</h1><p id="277d" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">我们已经走了很长的路。我们已经成功地请求了一个安装了GPU的Linux服务器，并且能够访问它。</p><p id="cb15" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">登录后，您会注意到您只能访问25 GB的可用引导磁盘，而不能访问我们请求的额外磁盘空间“50GB的disk1”。通过执行下面给出的命令，可以很容易地检查可用磁盘空间:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="9da4" class="kb kc hi jx b fi kd ke l kf kg"><a class="ae mf" href="http://twitter.com/gpu" rel="noopener ugc nofollow" target="_blank">@gpu</a>-demo:/# df -h . <br/>Filesystem      Size  Used Avail Use% Mounted on<br/>/dev/xvda2       25G  1.4G   22G   6% /</span></pre><p id="a613" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上面的命令中，“df”命令代表“磁盘空闲”，而“-h”代表“人类可读”。简而言之，上述命令为您提供了可用的空闲磁盘空间。</p><p id="0d00" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那么，我们请求的额外50GB磁盘空间在哪里呢？它以未分区的状态驻留在设备“/dev/xvdc”中。</p><p id="1d5c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">创建分区:</strong></p><p id="b1cf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们使用“fdisk”命令对磁盘进行分区。</p><p id="7ab5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们继续进行磁盘分区之前，让我们看一下当前可用的分区和设备:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="0d0e" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:~# ls -la /dev/xvd*<br/>brw-rw---- 1 root disk 202,   0 Oct 11 14:58 /dev/xvda<br/>brw-rw---- 1 root disk 202,   1 Oct 11 14:58 /dev/xvda1<br/>brw-rw---- 1 root disk 202,   2 Oct 11 14:58 /dev/xvda2<br/>brw-rw---- 1 root disk 202,  16 Oct 11 14:58 /dev/xvdb<br/>brw-rw---- 1 root disk 202,  17 Oct 11 14:58 /dev/xvdb1<br/>brw-rw---- 1 root disk 202,  32 Oct 11 14:58 /dev/xvdc<br/>brw-rw---- 1 root disk 202, 112 Oct 11 14:58 /dev/xvdh</span></pre><p id="f862" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下命令显示了在“/dev/xvdc”中创建新分区的步骤。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="f280" class="kb kc hi jx b fi kd ke l kf kg">o   fdisk /dev/xvdc  -&gt; manipulating the disk partition table</span><span id="01c9" class="kb kc hi jx b fi kh ke l kf kg">§  Hit m -&gt; to see the help page</span><span id="9c76" class="kb kc hi jx b fi kh ke l kf kg">§  Hit n -&gt; to create a new partition as seen in the help message</span><span id="e40a" class="kb kc hi jx b fi kh ke l kf kg">§  Hit &lt; enter &gt; -&gt; to go with the default option</span><span id="70dd" class="kb kc hi jx b fi kh ke l kf kg">§  Hit &lt; enter &gt; -&gt; to go with the default option</span><span id="f9f1" class="kb kc hi jx b fi kh ke l kf kg">§  Hit &lt; enter &gt; -&gt; to go with the default option</span><span id="36cf" class="kb kc hi jx b fi kh ke l kf kg">§  Hit &lt; enter &gt; -&gt; to go with the default option</span><span id="4f86" class="kb kc hi jx b fi kh ke l kf kg">§  Hit w -&gt; to write table to disk and exit</span></pre><p id="5c0a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这些命令的执行快照如下所示:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="132a" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:/# fdisk /dev/xvdc</span><span id="a3d9" class="kb kc hi jx b fi kh ke l kf kg">Welcome to fdisk (util-linux 2.31.1).<br/>Changes will remain in memory only, until you decide to write them.<br/>Be careful before using the write command.</span><span id="73a9" class="kb kc hi jx b fi kh ke l kf kg">Device does not contain a recognized partition table.<br/>Created a new DOS disklabel with disk identifier 0x7b6a0c6e.</span><span id="5966" class="kb kc hi jx b fi kh ke l kf kg">Command (m for help): m</span><span id="7b30" class="kb kc hi jx b fi kh ke l kf kg">Help:</span><span id="086c" class="kb kc hi jx b fi kh ke l kf kg">DOS (MBR)<br/>   a   toggle a bootable flag<br/>   b   edit nested BSD disklabel<br/>   c   toggle the dos compatibility flag</span><span id="ff89" class="kb kc hi jx b fi kh ke l kf kg">Generic<br/>   d   delete a partition<br/>   F   list free unpartitioned space<br/>   l   list known partition types<br/>   n   add a new partition<br/>   p   print the partition table<br/>   t   change a partition type<br/>   v   verify the partition table<br/>   i   print information about a partition</span><span id="d451" class="kb kc hi jx b fi kh ke l kf kg">Misc<br/>   m   print this menu<br/>   u   change display/entry units<br/>   x   extra functionality (experts only)</span><span id="ec0d" class="kb kc hi jx b fi kh ke l kf kg">Script<br/>   I   load disk layout from sfdisk script file<br/>   O   dump disk layout to sfdisk script file</span><span id="f61a" class="kb kc hi jx b fi kh ke l kf kg">Save &amp; Exit<br/>   w   write table to disk and exit<br/>   q   quit without saving changes</span><span id="e92f" class="kb kc hi jx b fi kh ke l kf kg">Create a new label<br/>   g   create a new empty GPT partition table<br/>   G   create a new empty SGI (IRIX) partition table<br/>   o   create a new empty DOS partition table<br/>   s   create a new empty Sun partition table</span><span id="d323" class="kb kc hi jx b fi kh ke l kf kg">Command (m for help): n<br/>Partition type<br/>   p   primary (0 primary, 0 extended, 4 free)<br/>   e   extended (container for logical partitions)<br/>Select (default p):</span><span id="7476" class="kb kc hi jx b fi kh ke l kf kg">Using default response p.<br/>Partition number (1-4, default 1): <br/>First sector (2048-104857599, default 2048): <br/>Last sector, +sectors or +size{K,M,G,T,P} (2048-104857599, default 104857599):</span><span id="6375" class="kb kc hi jx b fi kh ke l kf kg">Created a new partition 1 of type 'Linux' and of size 50 GiB.</span><span id="ad21" class="kb kc hi jx b fi kh ke l kf kg">Command (m for help): w<br/>The partition table has been altered.<br/>Calling ioctl() to re-read partition table.<br/>Syncing disks.</span><span id="8250" class="kb kc hi jx b fi kh ke l kf kg">root@gpu-demo:/#</span></pre><p id="d55c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，让我们检查分区是否被创建。是的，创建它是因为我能够看到“/dev/xvdc1”。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="f923" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:/# ls -la /dev/xvd*<br/>brw-rw---- 1 root disk 202,   0 Oct 11 14:58 /dev/xvda<br/>brw-rw---- 1 root disk 202,   1 Oct 11 14:58 /dev/xvda1<br/>brw-rw---- 1 root disk 202,   2 Oct 11 14:58 /dev/xvda2<br/>brw-rw---- 1 root disk 202,  16 Oct 11 14:58 /dev/xvdb<br/>brw-rw---- 1 root disk 202,  17 Oct 11 14:58 /dev/xvdb1<br/>brw-rw---- 1 root disk 202,  32 Oct 12 18:02 /dev/xvdc<br/>brw-rw---- 1 root disk 202,  33 Oct 12 18:02 /dev/xvdc1<br/>brw-rw---- 1 root disk 202, 112 Oct 11 14:58 /dev/xvdh</span></pre><p id="41ff" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">在已创建的分区上创建文件系统:</strong></p><p id="3307" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有两种主要类型linux文件系统可用。</p><ul class=""><li id="1126" class="ki kj hi iw b ix iy jb jc jf kk jj kl jn km jr mj ko kp kq bi translated">ext4:目前最新的Linux文件系统类型。</li><li id="2f48" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr mj ko kp kq bi translated">ext3:这是几年前使用的最常见的Linux文件系统类型。</li></ul><p id="9910" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在大部分机器都包含ext4文件系统，包括IBM云服务器。</p><p id="29af" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用下面显示的命令在我们在上一步中分区的磁盘上创建一个ext4文件系统。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="a1a1" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:/# mkfs.ext4 /dev/xvdc<br/>mke2fs 1.44.1 (24-Mar-2018)<br/>Found a dos partition table in /dev/xvdc<br/>Proceed anyway? (y,N) y<br/>Creating filesystem with 13107200 4k blocks and 3276800 inodes<br/>Filesystem UUID: ddd57e1b-1ea4-4cce-a024-99eb3a66d8c1<br/>Superblock backups stored on blocks: <br/> 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, <br/> 4096000, 7962624, 11239424</span><span id="d493" class="kb kc hi jx b fi kh ke l kf kg">Allocating group tables: done                            <br/>Writing inode tables: done                            <br/>Creating journal (65536 blocks): done<br/>Writing superblocks and filesystem accounting information: done</span></pre><h2 id="8dac" class="kb kc hi bd le mo mp mq li mr ms mt lm jf mu mv lq jj mw mx lu jn my mz ly na bi translated">挂载文件系统:</h2><p id="6535" class="pw-post-body-paragraph iu iv hi iw b ix ma iz ja jb mb jd je jf mc jh ji jj md jl jm jn me jp jq jr hb bi translated">要装载设备，您需要创建要装载设备的目录。在本演示中，我将创建名为/temp的目录。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="02e7" class="kb kc hi jx b fi kd ke l kf kg">mkdir /temp</span></pre><p id="6958" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们已经创建了文件夹，让我们继续安装设备。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="f496" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:/# mount /dev/xvdc /temp</span><span id="847c" class="kb kc hi jx b fi kh ke l kf kg">root@gpu-demo:/# df -h<br/>Filesystem      Size  Used Avail Use% Mounted on<br/>udev             59G     0   59G   0% /dev<br/>tmpfs            12G  792K   12G   1% /run<br/>/dev/xvda2       25G  1.4G   22G   6% /<br/>tmpfs            60G     0   60G   0% /dev/shm<br/>tmpfs           5.0M     0  5.0M   0% /run/lock<br/>tmpfs            60G     0   60G   0% /sys/fs/cgroup<br/>/dev/xvda1      240M   72M  156M  32% /boot<br/>tmpfs            12G     0   12G   0% /run/user/0<br/>/dev/xvdc        49G   53M   47G   1% /temp</span></pre><p id="5b5e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">在/etc/fstab中输入磁盘挂载映射:</strong></p><p id="47b2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">磁盘安装完成后，我们需要完成最后一步，告诉操作系统设备-文件夹映射。使用“nano”编辑器编辑文件“/etc/fstab ”,在文件末尾添加一行“/dev/xvdc /temp ext4 defaults，relatime 0 0”。步骤如下所示:</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="4ff0" class="kb kc hi jx b fi kd ke l kf kg">root@gpu-demo:/# nano /etc/fstab<br/>GNU nano 2.9.3                                                                   /etc/fstab</span><span id="3502" class="kb kc hi jx b fi kh ke l kf kg">LABEL=cloudimg-rootfs   /        ext4   defaults,relatime       0 0<br/># CLOUD_IMG: This file was created/modified by the Cloud Image build process<br/>LABEL=cloudimg-bootfs   /boot   ext3    defaults,relatime    0 0<br/>LABEL=SWAP-xvdb1        none    swap    sw,comment=cloudconfig  0       2<br/>/dev/xvdc /temp ext4 defaults, relatime 0  0</span></pre><p id="36e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后保存文件并使用^X.退出，我们就完成了:)！！！</p><p id="f225" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这使我们结束了在IBM cloud上请求、访问和设置GPU计算实例所需的步骤。</p><p id="32df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为预防措施，退出并重新登录到服务器，以确保一切顺利进行。</p><p id="07f5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢您花时间阅读我的文章。我希望它对你有用。如果你喜欢我的文章，欣赏我的努力，请给我一个❤，让我通过你的评论知道你的建议。</p><p id="52ca" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我的下一篇文章中，我将讨论安装所有必要的驱动程序和设置，使GPU对人工智能软件平台可见，如' tensorflow '，' keras '等。</p><p id="a865" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请继续关注我即将发布的更新。</p><p id="fc03" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">干杯，</p><p id="dc77" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">莎安娜米黄</p></div></div>    
</body>
</html>