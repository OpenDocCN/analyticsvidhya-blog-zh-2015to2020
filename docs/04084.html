<html>
<head>
<title>System Design Basics 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">系统设计基础101</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/system-design-101-3905a69cbc55?source=collection_archive---------9-----------------------#2020-03-04">https://medium.com/analytics-vidhya/system-design-101-3905a69cbc55?source=collection_archive---------9-----------------------#2020-03-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><ol class=""><li id="e091" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">负载平衡</li><li id="7c9f" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">反向代理服务器</li><li id="906d" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">内容交付网络</li><li id="2457" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">贮藏</li><li id="9485" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">数据库分片/分区</li></ol><h2 id="750c" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">负载平衡:</h2><p id="e3e7" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated">负载平衡是在多台服务器之间分配网络流量的过程。这确保了没有一台服务器承担过多的需求。</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ko"><img src="../Images/016d444f0f188b10363d89723786e789.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*If4a38SOTgfqonO-.png"/></div></div></figure><p id="333e" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">负载平衡器的类型:</strong></p><p id="8f60" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><em class="ld">硬件负载均衡器</em>:作为负载均衡器工作的硬件。非常昂贵，大多数应用程序仅将它们作为第一接触点。</p><p id="51c2" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><em class="ld">软件负载均衡器</em>:混合方法，HaProxy是一款开源软件负载均衡器。Nginx和Linux虚拟服务器是其他的例子。</p><p id="c864" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">负载均衡算法:</strong></p><ul class=""><li id="69a5" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">一系列</li><li id="e976" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">带加权服务器的圆形罗冰</li><li id="a241" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">最少连接</li><li id="3c60" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">最短响应时间</li><li id="2d3b" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">源IP哈希</li><li id="e573" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">URL哈希</li></ul><h2 id="3c13" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">反向代理服务器</h2><p id="3a10" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated"><strong class="ih hj">反向代理服务器</strong>是一种代理服务器，通常位于私有网络的防火墙之后，将客户端请求定向到适当的后端服务器。</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div class="er es lf"><img src="../Images/6251356f5239b044c7effbbaa851b31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/0*634Mc_tEVNFB1sx7"/></div></figure><p id="8c61" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">好处:</strong></p><ul class=""><li id="6aa1" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">缓存:直接返回缓存请求的响应。</li><li id="090c" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">SSL终止:解密传入的请求并加密响应。(无需在后端服务器上安装X.509证书)</li><li id="ec0d" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">安全:IP黑名单，过滤等。</li><li id="5a52" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">静态内容:直接服务器静态Html、js、CSS、图片等。</li></ul><p id="b46f" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">负载平衡器vs反向代理</strong></p><ul class=""><li id="89ad" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">如果您有多个web服务器，请使用负载平衡器。</li><li id="2293" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">由于其他好处，反向代理甚至在一个web服务器上也很有用。</li><li id="64a1" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">HaProxy和Nginx都提供了反向代理功能。</li></ul><h2 id="4df0" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">内容交付网络</h2><p id="67b0" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated">内容交付网络(CDN)是指地理上分布的一组服务器，它们协同工作，从离用户较近的位置快速交付互联网内容。通常，HTML/CSS/JS、照片和视频等静态文件是由CDN提供的，尽管一些CDN(如亚马逊的CloudFront)支持动态内容。</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div class="er es lg"><img src="../Images/9d2f359a1171dd4627c13e570b0f6912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/0*PyEhPBTsLH2ErDt5.png"/></div></figure><p id="8384" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">好处</strong></p><ul class=""><li id="08c2" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">用户在离他们很近的数据中心接收内容</li><li id="8d2d" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">您的服务器不必服务于CDN满足的请求</li></ul><p id="322a" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">类型</strong></p><p id="6695" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><em class="ld">拉CDN </em>:当第一个用户请求内容时，拉CDN从您的服务器获取新内容。您将内容保留在服务器上，并重写URL以指向CDN。这导致请求速度较慢，直到内容缓存在CDN上。</p><p id="6fa7" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><em class="ld">推送CDN: </em>每当你的服务器发生变化，推送CDN就会接收新的内容。你全权负责提供内容，直接上传到CDN和重写URL指向CDN。您可以配置内容何时过期以及何时更新。只有当内容是新的或发生变化时，才上传内容，从而最小化流量，但最大化存储。</p><h2 id="7578" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">贮藏</h2><p id="4cb9" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated">参考位置原则:最近被请求的数据可能会被再次请求。</p><p id="fa6a" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated">缓存是存储数据的硬件或软件组件，以便将来对该数据的请求可以得到更快的服务；存储在缓存中的数据可能是早期计算的结果，或者是存储在其他地方的数据的副本</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lh"><img src="../Images/7810e0c3ea9b0880a45e336adcbcf24c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q1s4A5VAaeS4pOIz.png"/></div></div></figure><p id="bf66" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">类型:</strong></p><ul class=""><li id="6a4a" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">进程内缓存:诸如Guava、JCF、Ehcache之类的内存缓存充当应用程序和数据源之间的快速对象存储。</li><li id="fcb3" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">分布式缓存:应用程序外部。使用一致散列分布在多个节点上。例如:Hazelcast，Memcached，Redis，Cassandra，Elasticache(由亚马逊提供)。</li><li id="8209" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">CDN:可以直接缓存和服务静态内容。</li></ul><p id="d589" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">缓存更新策略</strong></p><ul class=""><li id="a5c5" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">读/写通过:应用程序使用缓存作为主要的数据存储，读取和写入数据，而缓存负责读取和写入数据库。</li><li id="8e8f" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">后写:在后写中，应用程序在缓存中添加/更新条目，并将条目异步写入数据存储，从而提高写入性能</li><li id="8850" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">提前刷新:在任何最近访问的缓存条目过期之前自动刷新。</li></ul><p id="82d0" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">缓存驱逐策略</strong></p><ul class=""><li id="0de8" class="if ig hi ih b ii ij ik il im in io ip iq ir is le iu iv iw bi translated">LRU:最近最少使用</li><li id="1e7d" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">LFU:最不常用</li><li id="dd3b" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">MRU:最近使用的</li><li id="34a9" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is le iu iv iw bi translated">先进先出</li></ul><h2 id="d03d" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">数据库分片</h2><p id="3ab4" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated">分片将数据分布在不同的数据库中，因此每个数据库只能管理数据的一个子集。分片= =数据分区</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es li"><img src="../Images/8376a0ca89737893d0131d36419c5a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F_ScYja4boO0DA3k.png"/></div></div></figure><p id="32af" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated"><strong class="ih hj">分片方法</strong></p><p id="ce81" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated">水平分区:基于范围的分片例如:根据用户的字母名称或id范围，将不同的行放在不同的数据库中。</p><p id="4a8e" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated">垂直分区:基于特性，将表分成多个特性，并将一个特性存储在一个分片上。例如:一个分片上的用户数据，第二个分片上的图像数据，等等。</p><p id="533b" class="pw-post-body-paragraph jx jy hi ih b ii ij ka kb ik il kd ke im la kg kh io lb kj kk iq lc km kn is hb bi translated">基于目录的分区:查询目录服务器，它保存每个元组键和它的shard DB服务器之间的映射。</p><h2 id="019d" class="jc jd hi bd je jf jg jh ji jj jk jl jm im jn jo jp io jq jr js iq jt ju jv jw bi translated">向前</h2><p id="f832" class="pw-post-body-paragraph jx jy hi ih b ii jz ka kb ik kc kd ke im kf kg kh io ki kj kk iq kl km kn is hb bi translated">在第2部分中，我们将探讨可伸缩性、可用性、一致性、网络分区和CAP定理等主题。查看第二部分<a class="ae lj" rel="noopener" href="/@rajagoyal815/system-design-basics-101-2-453c9fd7fa64">这里</a>。</p></div></div>    
</body>
</html>