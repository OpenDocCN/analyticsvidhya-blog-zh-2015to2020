<html>
<head>
<title>Object Detection with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行对象检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/object-detection-with-python-42272ca27ef4?source=collection_archive---------5-----------------------#2020-08-07">https://medium.com/analytics-vidhya/object-detection-with-python-42272ca27ef4?source=collection_archive---------5-----------------------#2020-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7f5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章将介绍一个使用 opencv 的物体检测模型。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/2f16dcbe8b6cbe67268fc723c9e8400c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*t7IpOoCavwYAi5FxmZeG_g.jpeg"/></div></figure><p id="96a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个想法是创建一个模型，能够检测不同车道上的车辆，并将数据存储为 csv 格式。使用该模型，我们可以监控本地的交通流模式，并构建一个深度学习模型来根据实时情况调节交通流。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="1734" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">要求</h1><ul class=""><li id="2a5d" class="kq kr hi ih b ii ks im kt iq ku iu kv iy kw jc kx ky kz la bi translated">Python 3.8</li><li id="d595" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">PyQt5</li><li id="f3b6" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">[计]系统复制命令（system 的简写）</li><li id="c156" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">操作系统（Operating System）</li><li id="d7ef" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">时间</li><li id="c50d" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">Opencv</li><li id="2290" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">Numpy</li><li id="71b9" class="kq kr hi ih b ii lb im lc iq ld iu le iy lf jc kx ky kz la bi translated">熊猫</li></ul><p id="09b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以将这些库安装在单独的 env 中，或者直接安装到系统中。</p><h1 id="878a" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">装置</h1><p id="bca9" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">通过<a class="ae lo" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank">点击这里</a>安装 python。</p><p id="afc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该安装将照顾基本库，如 pip 等，其他库需要手动安装。</p><p id="107f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以管理员身份打开 cmd 并键入以下内容</p><pre class="je jf jg jh fd lp lq lr ls aw lt bi"><span id="a0fa" class="lu jt hi lq b fi lv lw l lx ly">pip install PyQt5</span></pre><p id="c947" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">等待它完成安装，现在开始安装到操作系统和系统。</p><pre class="je jf jg jh fd lp lq lr ls aw lt bi"><span id="6318" class="lu jt hi lq b fi lv lw l lx ly">pip install os-sys</span></pre><p id="3a3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在按照相同的说明完成安装上面列出的所有库。安装需要时间，请耐心等待。</p><h1 id="74fd" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">流程图</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es lz"><img src="../Images/0ce1b5b1e919f471d5b11b36058d2de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c5MJ3vQ4rH3axr3g8jlIBg.jpeg"/></div></div></figure><h1 id="cb30" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">源代码</h1><p id="6ee1" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">现在我为这个项目创建了 5 个不同的模块，让我们从 GUI 开始。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="13e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码代表了 gui，现在把它保存为 python 文件。</p><p id="3f68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">复制下面的代码，并做类似的过程</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="e750" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是上传一个视频文件(交通镜头)作为模型的输入。</p><p id="d732" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的代码是正常化和本地化的视频镜头中的车辆。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="8dfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在下面的代码是实际的后端，我们使用 opencv 创建一个算法来计算两条不同车道上的车辆数量。更简单地说，我指定两个变量，每次检测到车辆时迭代。第一个变量是指靠近摄像机的车辆，另一个变量是指远离摄像机的车辆。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="d2f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在单个域中访问所有这些功能，我创建了一个 python 文件，它调用所有这些模块，并在最后给出车辆的数量。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="d5ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:将所有这些文件保存在一个文件夹下。</p><h1 id="e1ca" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">工作</h1><p id="eeac" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">打开 cmd 下的文件夹和下面的命令。</p><pre class="je jf jg jh fd lp lq lr ls aw lt bi"><span id="c404" class="lu jt hi lq b fi lv lw l lx ly">python myapp.py</span></pre><p id="df14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“myapp.py”是连接所有模块的主要 python 文件。运行此命令后，将弹出下图(等待几分钟，模型编译需要一些时间)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mg"><img src="../Images/402c65671f65c8d25d283195f10abc38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*WgYzVsBLdy-S1yqDomM4Cg.jpeg"/></div></figure><p id="ed4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，浏览您想要分析的特定交通录像，并等待它进行分析。现在你会意识到这个项目已经完成了。</p><p id="c9c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的视频展示了如何运行模型的最后几个步骤。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mh mf l"/></div></figure><h1 id="2bfd" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">将来的</h1><p id="7ff4" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">计数以 csv 文件的形式存储在 excel 表格中。现在我们可以使用 matlab 创建一个交通模拟器，根据计数来调节交通灯(信号)控制。</p><p id="136d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lo" href="https://github.com/king-of-nerds/traffic-light-control" rel="noopener ugc nofollow" target="_blank">源代码</a></p><p id="f0f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lo" href="https://www.accentsjournals.org/PaperDirectory/Journal/TIPCV/2019/11/1.pdf" rel="noopener ugc nofollow" target="_blank">论文</a></p><p id="d25f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你喜欢这篇文章。</p></div></div>    
</body>
</html>