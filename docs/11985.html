<html>
<head>
<title>Setting up Google Cloud Vision API with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js设置Google Cloud Vision API</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/setting-up-google-cloud-vision-api-with-node-js-db29d1b6fbe2?source=collection_archive---------2-----------------------#2020-12-27">https://medium.com/analytics-vidhya/setting-up-google-cloud-vision-api-with-node-js-db29d1b6fbe2?source=collection_archive---------2-----------------------#2020-12-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f10ffe850835952fa33943a8cbd017a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6aRzQfVhVuL9vJvrBUQAxA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">大卫·特拉维斯的照片</figcaption></figure><p id="5047" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关于设置身份验证以及如何使用Node.js中的Google Cloud Vision API构建简单应用程序的分步指南。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><blockquote class="ka kb kc"><p id="5c97" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">什么是<a class="ae iu" href="https://cloud.google.com/vision/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">谷歌云视觉API </strong> </a> <strong class="ix hj">？</strong></p></blockquote><p id="0190" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它允许开发人员轻松地将<strong class="ix hj">视觉</strong>检测功能集成到应用程序中，包括图像标记、面部和地标检测、光学字符识别(OCR)和明确内容的标记。</p><p id="a2c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基本上，它让你上传一张图片并提取大量基于机器学习的信息。在这里试试<a class="ae iu" href="https://cloud.google.com/vision" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"/></a><strong class="ix hj">——</strong>只需拖拽自己的图像。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="dffa" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">设置和认证</h1><blockquote class="ka kb kc"><p id="166e" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 1。</em> <strong class="ix hj"> <em class="hi"> </em> </strong> <em class="hi">创建新的谷歌云平台项目</em> <a class="ae iu" href="https://console.cloud.google.com/project" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="hi">此处</em> </strong> </a> <strong class="ix hj"> <em class="hi">。</em> </strong></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/0b2928de33c6a2d31299380606292ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cPwYCyQijzueE2Wb7EKe8w.png"/></div></div></figure><blockquote class="ka kb kc"><p id="791a" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 2。启用</em><a class="ae iu" href="https://support.google.com/cloud/answer/6293499#enable-billing" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="hi"/></strong></a><em class="hi">。</em></p><p id="b912" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 3。启用谷歌云视觉API </em> <a class="ae iu" href="https://console.cloud.google.com/flows/enableapi?apiid=vision.googleapis.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="hi">此处</em> </strong> </a> <em class="hi">。</em></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/783ac062da2c05cc586ca8d01ad81359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z9LV0E6LvZmmWvtMAiXXFA.png"/></div></div></figure><blockquote class="ka kb kc"><p id="35df" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 4。在这里设置认证</em><a class="ae iu" href="https://cloud.google.com/docs/authentication/getting-started" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="hi"/></strong></a><em class="hi">。</em></p><p id="79cf" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 5。从项目控制台生成一个google-services.json密钥文件。</em></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/05012b39e697ea22eeb0a27ca3f23940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aiXE1MiCeyuK9D_i0rNIkA.png"/></div></div></figure><blockquote class="ka kb kc"><p id="2694" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 6。从下拉菜单中选择“创建新密钥”。</em></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/54cc1d0a5e5cbc06fd8f77928e3d0432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPEPmwrVmTmYiQWW5lLZUA.png"/></div></div></figure><blockquote class="ka kb kc"><p id="6f97" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated"><em class="hi"> 7。确保选择了</em><strong class="ix hj"><em class="hi">JSON</em></strong><em class="hi">，然后点击创建。</em></p><p id="5230" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">这将生成json文件，并注入到你的项目目录的根目录中。</p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/dd2e2a98877b24e767228c6d371f2513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YiI4cLQH8xt50pJF990XnA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">确保选择JSON，然后单击CREATE</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="9a6a" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">现在，让我们开始编码吧！</h1><ul class=""><li id="2359" class="lo lp hi ix b iy lq jc lr jg ls jk lt jo lu js lv lw lx ly bi translated">在您的终端中，创建一个新项目并安装依赖项。</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/aafc2b3e339b7253e2daa9227d787801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQxOd6Ng3TbOGAV6ww2C7w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">初始化新的npm项目</figcaption></figure><ul class=""><li id="85a6" class="lo lp hi ix b iy iz jc jd jg ma jk mb jo mc js lv lw lx ly bi translated">将您的密钥json文件插入到您的根目录中。如果您愿意，可以缩短文件名。</li><li id="c911" class="lo lp hi ix b iy md jc me jg mf jk mg jo mh js lv lw lx ly bi translated">在我们之前创建的<strong class="ix hj"> main.js </strong>中设置<a class="ae iu" href="https://github.com/googleapis/nodejs-vision" rel="noopener ugc nofollow" target="_blank"> @google-cloud/vision </a>包。</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/4bf5fb297747dd5eb97e95c8834cb54f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OQqj1GVGvg3gGPe7_rNwbA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">设置google cloud vision并在main.js中创建一个客户端</figcaption></figure><ul class=""><li id="f9be" class="lo lp hi ix b iy iz jc jd jg ma jk mb jo mc js lv lw lx ly bi translated">用您自己的密钥json文件路径替换keyFilename。作为参考，我的是<strong class="ix hj"> <em class="kd">。/APIKey.json </em> </strong>”。</li><li id="7657" class="lo lp hi ix b iy md jc me jg mf jk mg jo mh js lv lw lx ly bi translated">接下来，我们用名为<strong class="ix hj"> labelDetection </strong>的方法调用客户端，设置我们想要处理和获取数据的图像。</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/4780b1082ef429d2d261297af0fcc89b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*tAyBMAyEGF78uLzRCkq-gw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图像文件标签检测方法</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="f87e" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">测试一下！</h1><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/438c0572cab947295421dce2ef47e7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7jYE1-Za4AzaJdru"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@jackward?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰克沃德</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><ul class=""><li id="5b00" class="lo lp hi ix b iy iz jc jd jg ma jk mb jo mc js lv lw lx ly bi translated">选择您最喜欢的图像</li><li id="026e" class="lo lp hi ix b iy md jc me jg mf jk mg jo mh js lv lw lx ly bi translated">传递图像路径("。/cinqueTerre ")放入labelDetection并运行它</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/a4c080a44617343b762c65410df7a9fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0XcyDbKcJ0mWB8xktrzbew.gif"/></div></div></figure><ul class=""><li id="294b" class="lo lp hi ix b iy iz jc jd jg ma jk mb jo mc js lv lw lx ly bi translated">瞧啊。恭喜你。运行代码给了我们预期的结果🎉</li></ul></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="fd0f" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">谁在使用谷歌视觉API？</h1><p id="6862" class="pw-post-body-paragraph iv iw hi ix b iy lq ja jb jc lr je jf jg ml ji jj jk mm jm jn jo mn jq jr js hb bi translated">好吧，对你的宠物照片进行分类和识别地标是很有趣的，但是有人在生产中真正使用谷歌视觉吗？是啊！以下是一些现实生活中的例子:</p><ul class=""><li id="bc2a" class="lo lp hi ix b iy iz jc jd jg ma jk mb jo mc js lv lw lx ly bi translated"><a class="ae iu" href="https://cloud.google.com/blog/products/gcp/finding-petes-dragon-with-google-cloud-vision-api" rel="noopener ugc nofollow" target="_blank">迪士尼</a>:寻宝游戏中的标签检测</li><li id="45a9" class="lo lp hi ix b iy md jc me jg mf jk mg jo mh js lv lw lx ly bi translated"><a class="ae iu" href="https://cloud.google.com/blog/products/gcp/announcing-google-cloud-video-intelligence-api-and-more-cloud-machine-learning-updates" rel="noopener ugc nofollow" target="_blank">Realtor.com</a>:视觉API对“待售”标牌的OCR</li><li id="2662" class="lo lp hi ix b iy md jc me jg mf jk mg jo mh js lv lw lx ly bi translated"><a class="ae iu" href="https://cloud.google.com/blog/products/gcp/google-cloud-machine-learning-now-open-to-all-with-new-professional-services-and-education-programs" rel="noopener ugc nofollow" target="_blank">空中客车</a>:使用机器学习来自动检测和纠正卫星图像的过程，这些图像包含瑕疵，例如云的形成</li></ul></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="cf31" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">结论</h1><p id="614e" class="pw-post-body-paragraph iv iw hi ix b iy lq ja jb jc lr je jf jg ml ji jj jk mm jm jn jo mn jq jr js hb bi translated">到目前为止，我们只触及了<a class="ae iu" href="https://github.com/googleapis/nodejs-vision" rel="noopener ugc nofollow" target="_blank"> @google-cloud/vision </a>的表面。我希望这有助于指导您完成繁琐的设置和验证阶段。现在，您已经准备好探索Google Vision的有趣部分了！</p></div></div>    
</body>
</html>