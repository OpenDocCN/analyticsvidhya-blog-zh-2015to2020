<html>
<head>
<title>Cartoonization with Python Script</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python脚本卡通化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cartoonization-with-python-script-8881fcce6ddc?source=collection_archive---------16-----------------------#2020-09-04">https://medium.com/analytics-vidhya/cartoonization-with-python-script-8881fcce6ddc?source=collection_archive---------16-----------------------#2020-09-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="47dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">机器学习或者我应该称之为“神奇的学习”？每天我都能感受到人工智能和人工智能在我们日常生活中的本质。ML正在到处传播它的存在，无论是教育行业，虚拟机器人，甚至是图像编辑，因为我昨天发现了一个惊人的项目，其动机是在没有任何编辑工具(沉重和昂贵)的情况下将图像卡通化，而不是使用小python脚本(简单和免费)。</p><p id="ed93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将阐述如何用python的两个库，即<strong class="ih hj"> cv2 </strong>和<strong class="ih hj"> numpy </strong>，对一幅图像进行基本的卡通化。为了获得卡通效果，使用了两个函数:</p><ol class=""><li id="6a3e" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><strong class="ih hj">双边滤波器:</strong>用于平滑图像和减少噪声，从而减少要卡通化的图像的调色板。</li><li id="2c7d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><strong class="ih hj">边缘检测:</strong>该功能应用于结果图像，生成粗体轮廓。</li></ol><p id="b752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们按照循序渐进的编码方式，为您最喜爱的图像增添一些乐趣:</p><ol class=""><li id="04db" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><strong class="ih hj">导入必要的库:</strong>要导入的第一个库是cv2，然后是numpy。</li></ol><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es jr"><img src="../Images/5c3ffa179362cef07dcc92de6d656145.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/format:webp/1*WjT3ldMRUl1MSRMXVC1-HQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">导入库的代码</figcaption></figure><p id="8082" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。读取图像进行操作:</strong>在cv2.imread()函数的帮助下，我们将从本地目录中读取图像。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kd"><img src="../Images/8821e8c01bbb99bcbae2bf2653dc4014.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*5bu7TDUofa7yWtQbKwwk0A.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">读取图像以进行卡通化</figcaption></figure><p id="5992" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。调整图像大小:</strong>由于bilateralFilter()函数具有高计算成本的缺点，我们将调整图像大小，通过减小其宽度和高度将其转换为低分辨率图像。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ke"><img src="../Images/738530c0962a680c4894aa933a6ffaf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*zldybeU8rHScCHim-vjeDg.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">调整大小</figcaption></figure><p id="79a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。应用双边过滤器:</strong>调整大小可能会导致图像像素的混叠，所以我们将使用高斯金字塔来缩小缩小的图像。但是在此之后，双边滤波器可能处理缓慢，另一个技巧是对图像迭代小的双边滤波器，而不是一次使用大的双边滤波器。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/8356ba81d2f61190b454e6fff6035189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJa6pO4l90iqUVQU4hIZ7w.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">双边功能</figcaption></figure><p id="355d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此函数中使用的参数有:</p><ul class=""><li id="1e89" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc kk jj jk jl bi translated"><strong class="ih hj"> d: </strong>每个像素邻域的直径。</li><li id="5c84" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kk jj jk jl bi translated"><strong class="ih hj"> sigmaColor: </strong>色彩空间中西格玛的值。值越大，混合更远颜色的机会就越大。</li><li id="0c7d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kk jj jk jl bi translated"><strong class="ih hj">西格玛空间:</strong>坐标空间中西格玛的值。该值越大，如果更远的像素的颜色在sigmaColor范围内，它们混合的机会就越大。</li></ul><p id="f705" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过放大将图像恢复到原始大小。</p><p id="09e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.<strong class="ih hj">将图像转换为灰度图像:</strong>在此步骤中，RGB图像被转换为其灰度版本。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kl"><img src="../Images/e34556f7590029af4f999d61a1761768.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*e9boymgC0X7TGx447sWdfg.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">灰度图像</figcaption></figure><p id="7885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 6。</strong> <strong class="ih hj">对灰度图像应用中值模糊:</strong>中值模糊用于设置灰度图像中每个像素的中值，以减少噪声并有效地执行自适应阈值处理。中值模糊应用于七个像素的邻域。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es km"><img src="../Images/268ba5210961e6af7270423642f9ca7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*pvWW6W5pKR9Q4wiIx9Y_uQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">中值模糊</figcaption></figure><p id="6ed2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.<strong class="ih hj">使用自适应阈值:</strong> adaptiveThreshold()函数类似于用于将灰度图像转换为二值图像的阈值函数，因为卡通图像带有很少的颜色。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kn"><img src="../Images/1d9475f46729b89c684646640773964f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfVVj7tasS8ump955RDRuA.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">自适应阈值</figcaption></figure><p id="47bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 8。将彩色图像与最终边缘图像结合:</strong>到目前为止，每一步之后，这里是最后一步，通过将双边滤波器生成的原始RGB图像与使用bitwise_and的边缘掩蔽结合起来，得到最终输出。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ko"><img src="../Images/39e1dbc86cb6ea3c24351638fe5d6de4.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*q9MDTAAOTO24ZHRo6xu0zA.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">按位与</figcaption></figure><p id="2c65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最后使用imshow()函数来查看输出。</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kp"><img src="../Images/e64b4635f81189d2f21d9a22dab5e7c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*wyaNYXfhFP35VpoXqIlRXA.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">图像输出</figcaption></figure><p id="ae9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我尝试使用这个脚本的几个图像是:</p><div class="js jt ju jv fd ab cb"><figure class="kq jw kr ks kt ku kv paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/e88cee322d9bdd535f3691334cb8358b.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*QaSsbSpBZC3FW2gpUC1HiA.png"/></div></figure><figure class="kq jw kw ks kt ku kv paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/a1cf9809092fb2444c84b86ff96f39d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*5q0bnfbsc20Q7IDlbhCF4g.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx kx di ky kz translated">决赛成绩</figcaption></figure></div><div class="ab cb"><figure class="kq jw la ks kt ku kv paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/5793aacfe1769d18d21fe51a0f56c6c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*HyQPrpYF7Ya9C4P6GRcZNQ.png"/></div></figure><figure class="kq jw lb ks kt ku kv paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/b46c06e51c6ac2bac202dabd838d5b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*3Z_IShhu7lRxRLtcLE7dHw.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx lc di ld kz translated">输出</figcaption></figure></div><p id="fba0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你仔细地遵循了每一步，如果你错过了一些步骤或者在某个地方卡住了，这里是github repo的链接:<a class="ae le" href="https://github.com/tanviagwl98/ImageCartoonization_OpenCV" rel="noopener ugc nofollow" target="_blank">https://github.com/tanviagwl98/ImageCartoonization_OpenCV</a></p><p id="d91c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><ul class=""><li id="d8cf" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc kk jj jk jl bi translated"><a class="ae le" href="https://www.instagram.com/p/CErJrqZAD7Y/" rel="noopener ugc nofollow" target="_blank">https://www.instagram.com/p/CErJrqZAD7Y/</a></li><li id="f211" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kk jj jk jl bi translated"><a class="ae le" href="https://www.geeksforgeeks.org/python-bilateral-filtering/" rel="noopener ugc nofollow" target="_blank">https://www.geeksforgeeks.org/python-bilateral-filtering/</a></li></ul></div></div>    
</body>
</html>