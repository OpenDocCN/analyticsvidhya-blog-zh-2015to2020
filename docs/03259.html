<html>
<head>
<title>The journey from Development to Production Part 1: Building with ‘The Right Approach’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从开发到生产的旅程第1部分:用“正确的方法”构建</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-journey-from-development-to-production-part-1-building-with-the-right-approach-4ad5f67ce0de?source=collection_archive---------9-----------------------#2020-01-22">https://medium.com/analytics-vidhya/the-journey-from-development-to-production-part-1-building-with-the-right-approach-4ad5f67ce0de?source=collection_archive---------9-----------------------#2020-01-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="988a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这是一个关于如何快速开发ML系统的系列，也是最大化生产准备的系列。这将是一个三部分系列。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/2a0e3cd641606cf12531543a517d8210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0h4pj4HftFUQwAxszhpLKQ.png"/></div></div></figure><h1 id="a19a" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">为什么是这个系列？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kb"><img src="../Images/984b9ab5cb433b8e949c1c2568da217b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*_oNv7Ge00P977dUuU4xsnw.jpeg"/></div></figure><p id="72f4" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">构建一个ML系统/应用不仅仅是开发一个“伟大”的模型，它只是很小的一部分。上图很好的解释了这一点。尽管我强烈建议你阅读这篇文章，但我还是避免了解释它的诱惑。</p><p id="d9ad" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">所以回到问题。“伟大的”ML系统/应用不一定是“伟大的模型”，而是“良好的支持生态系统”。如果支持生态系统也是好的，那么即使一个平庸的表演模型也可以转变成一个好的系统。因此，在这个过程中，我们将讨论如何建立这样一个生态系统。</p></div><div class="ab cl ky kz gp la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hb hc hd he hf"><h1 id="f919" class="jj jk hi bd jl jm lf jo jp jq lg js jt io lh ip jv ir li is jx iu lj iv jz ka bi translated">第一部分:用“正确的方法”建造</h1><h2 id="dbf6" class="lk jk hi bd jl ll lm ln jp lo lp lq jt kl lr ls jv kp lt lu jx kt lv lw jz lx bi translated">让我们谈谈所谓的“正确的方法”，好吗？</h2><p id="fd71" class="pw-post-body-paragraph kc kd hi ke b kf ly ij kh ki lz im kk kl ma kn ko kp mb kr ks kt mc kv kw kx hb bi translated">在继续之前，我建议你浏览一下杰瑞米·霍华德的这篇文章</p><p id="beee" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated"><strong class="ke hj">我们将讨论两个主要概念</strong></p><ol class=""><li id="7cc0" class="me mf hi ke b kf kg ki kj kl mg kp mh kt mi kx mj mk ml mm bi translated"><em class="md">微服务</em></li><li id="df4a" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mj mk ml mm bi translated"><em class="md">包装</em></li></ol><h1 id="abe0" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">微服务</h1><p id="efb7" class="pw-post-body-paragraph kc kd hi ke b kf ly ij kh ki lz im kk kl ma kn ko kp mb kr ks kt mc kv kw kx hb bi translated">微服务不需要介绍，因为它已经证明了它在遗留软件开发中的巨大潜力(尽管如果你不知道它，那么先简单了解一下)。</p><h1 id="c4b7" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">微服务架构优势</h1><ul class=""><li id="d04c" class="me mf hi ke b kf ly ki lz kl ms kp mt kt mu kx mv mk ml mm bi translated">作为微服务构建的软件可以分解为多个组件服务，这样每个服务都可以独立部署和重新部署，而不会影响应用程序的完整性。这意味着微服务架构为开发人员提供了独立开发和部署服务的自由。</li><li id="6de0" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">更好的故障隔离；如果一个微服务失败，其他微服务将继续工作。</li><li id="2b42" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">微服务架构支持持续交付。</li><li id="f5ed" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">易于理解，因为它们代表一小部分功能，对于开发人员来说易于修改，因此它们可以帮助新的团队成员快速提高工作效率。</li><li id="4a87" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">代码是围绕业务功能组织的。</li><li id="bf25" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">可伸缩性、可重用性以及效率是它迄今为止最大的优势。</li><li id="cf5c" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">很好地使用容器，例如Docker。</li><li id="e5c6" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">微服务简化了安全监控，因为应用程序的各个部分是隔离的。安全问题可能发生在一个部分，而不会影响到项目的其他部分。</li><li id="02dd" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">增加组织内各个开发团队的自主性，因为想法可以被实现和部署，而不必与更广泛的IT交付功能协调。</li></ul><p id="87f9" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">这个列表还会继续下去，但是你一定已经明白了它的意思。</p><h2 id="ef0d" class="lk jk hi bd jl ll lm ln jp lo lp lq jt kl lr ls jv kp lt lu jx kt lv lw jz lx bi translated">微服务将如何帮助ML开发？</h2><p id="5ee6" class="pw-post-body-paragraph kc kd hi ke b kf ly ij kh ki lz im kk kl ma kn ko kp mb kr ks kt mc kv kw kx hb bi translated">所有上述观点在ML开发中都是有效的。</p><p id="c5ff" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">让我们讨论两个通用场景(这是我在公司看到的两个最常见的场景)</p><ol class=""><li id="6ce2" class="me mf hi ke b kf kg ki kj kl mg kp mh kt mi kx mj mk ml mm bi translated"><strong class="ke hj">构建可重用的端到端管道:</strong></li></ol><p id="78e3" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">对任何开发人员来说，最糟糕的诅咒就是通过重写来复制某些东西。为什么使用必须要求重写而不是老派的<em class="md">ctrl+c</em>&amp;<em class="md">ctrl+v .</em>所以如果旧代码是单片的，那么它可能与“其他定制的”或“特定的”过程紧密耦合，我们不能从中破坏一些东西&amp;以<em class="md">普通的形式使用它。</em></p><p id="ba75" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">请看下图，除了模型训练和超参数调整之外，所有其他流程都可以重复用于其他管道。所以通过隔离所有的进程&amp;然后开发将使它们高度可移植&amp;非常容易重用。</p><h2 id="71c8" class="lk jk hi bd jl ll lm ln jp lo lp lq jt kl lr ls jv kp lt lu jx kt lv lw jz lx bi translated">重要提示:</h2><ul class=""><li id="c00e" class="me mf hi ke b kf ly ki lz kl ms kp mt kt mu kx mv mk ml mm bi translated">每一个流程或服务都必须是通用的和参数化的，否则它将违背微服务的宗旨。</li><li id="103a" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated">例如，相对路径的使用，共同的一致性，共同的设计语言等等</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/83c9c2db037eeab37f92734d9e787bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kiOsRXwCtKFX5VVESeJSpQ.gif"/></div></div><figcaption class="mx my et er es mz na bd b be z dx translated">通用ML管道</figcaption></figure><p id="f48e" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated"><strong class="ke hj"> 2。协作:</strong></p><p id="bb64" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">微服务有效实现协作。在一个由多个开发人员组成的团队中，我们可以将过程彼此分开和隔离，然后在有限的时间内设计它们。</p><p id="2751" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">例如，一个人从事训练逻辑，另一个人从事推理逻辑；多人在同一管道的多个流程上工作(如图所示)；可以有无限多的场景。</p><p id="e064" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">Git是一个非常重要的工具，我将在下一部分介绍它。</p><h1 id="bd58" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">包装</h1><p id="9a39" class="pw-post-body-paragraph kc kd hi ke b kf ly ij kh ki lz im kk kl ma kn ko kp mb kr ks kt mc kv kw kx hb bi translated">是微服务的直接应用。对于包装，我们可以像docker一样使用容器技术(如果你不使用Docker，我会坚持把所有东西都放下&amp;首先学习Docker)。对我来说，Docker是2010年代最重要的发明之一。包装和码头携手并进。</p><h1 id="178f" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">包装优势</h1><ul class=""><li id="b509" class="me mf hi ke b kf ly ki lz kl ms kp mt kt mu kx mv mk ml mm bi translated"><strong class="ke hj"> ROI: </strong>打包的本质是运行相同的应用程序需要更少的资源。Docker允许工程团队规模更小，效率更高。</li><li id="f359" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj">标准化和生产效率:</strong>包装容器确保多个开发和发布周期的一致性，标准化您的环境。打包提供了可重复的开发、构建、测试和生产环境。跨整个管道的标准化服务基础设施允许每个团队成员在生产对等环境中工作。</li><li id="926e" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj"> CI效率:</strong>打包使您能够构建容器映像，并在部署过程的每个步骤中使用相同的映像。这样做的一个巨大好处是能够分离不相关的步骤并并行运行它们。从构建到生产的时间长度可以显著加快。</li><li id="d606" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj">兼容性和可维护性:</strong>一劳永逸地消除“它在我的机器上工作”的问题。就Docker而言，奇偶校验意味着无论您的映像在哪个服务器或哪个笔记本电脑上运行，它们都是相同的。对于您的开发人员来说，这意味着花在设置环境、调试特定于环境的问题上的时间更少，并且代码库更易于移植和设置。奇偶校验还意味着您的生产基础设施将更加可靠，更易于维护。</li><li id="357a" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj">快速部署:</strong> Docker设法将部署时间减少到几秒钟。这是因为它为每个进程创建一个容器，而不是引导操作系统。数据可以被创建和销毁，而不用担心重新创建数据的成本会高于可承受的水平。</li><li id="8f45" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj">多云平台:</strong>Docker最大的好处之一就是可移植性。所有主要的云计算提供商，如AWS、GCP等。接受Docker的可用性并增加个人支持。Docker容器可以在任何云中运行。</li><li id="223f" class="me mf hi ke b kf mn ki mo kl mp kp mq kt mr kx mv mk ml mm bi translated"><strong class="ke hj">隔离:</strong>打包确保您的应用程序和资源被隔离。Docker确保每个容器都有自己的资源，这些资源与其他容器相隔离。您可以为运行完全不同堆栈的独立进程设置不同的容器。</li></ul><p id="c305" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">除了这些好处，Docker还确保每个应用程序只使用分配给它们的资源。某个特定的应用程序不会使用您所有的可用资源，这通常会导致其他应用程序的性能下降或完全停机。</p><p id="9879" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">因此，当我们将微服务和打包结合起来时，我们得到了高度可移植、模块化、可重用的代码。</p><p id="6b45" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">我甚至为它准备了一句俏皮话:<em class="md">打破它→打包它→继续前进。</em></p></div><div class="ab cl ky kz gp la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hb hc hd he hf"><p id="8967" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">这是第一部分的结尾。在下一部分，我们将看到<em class="md">项目治理</em></p><div class="nb nc ez fb nd ne"><a rel="noopener follow" target="_blank" href="/@desardaakash/the-journey-from-development-to-production-part-2-project-governance-822daf922b15"><div class="nf ab dw"><div class="ng ab nh cl cj ni"><h2 class="bd hj fi z dy nj ea eb nk ed ef hh bi translated">从开发到生产的旅程第2部分:项目治理</h2><div class="nl l"><h3 class="bd b fi z dy nj ea eb nk ed ef dx translated">项目治理&amp;合规性是开发任何解决问题的ML系统中最重要的因素。在这里我将…</h3></div><div class="nm l"><p class="bd b fp z dy nj ea eb nk ed ef dx translated">medium.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns jh ne"/></div></div></a></div><p id="a1cc" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">感谢<a class="nt nu ge" href="https://medium.com/u/34ab754f8c5e?source=post_page-----4ad5f67ce0de--------------------------------" rel="noopener" target="_blank">杰瑞米·霍华德</a>牛逼的创业指南。</p></div></div>    
</body>
</html>