<html>
<head>
<title>Implement a Linked List in Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Ruby中实现一个链表</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/implement-a-linked-list-in-ruby-2aae925acd9c?source=collection_archive---------2-----------------------#2020-03-26">https://medium.com/analytics-vidhya/implement-a-linked-list-in-ruby-2aae925acd9c?source=collection_archive---------2-----------------------#2020-03-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1a35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在技术面试中，你可能会经常遇到一种叫做“链表”的数据结构。如果你不熟悉这种数据结构，这个博客将帮助你理解:</p><ol class=""><li id="d6cc" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">什么是链表？</li><li id="5f29" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">为什么我们需要链表？</li><li id="0fb4" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">如何在Ruby中实现链表？</li></ol></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="be59" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是链表？</h1><p id="2fd4" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">链表是存储和管理数据的基本数据结构。顾名思义，链表是元素的线性集合。链表以一种特定的方式存储数据:它由<strong class="ih hj">个节点</strong>链接。每个节点由两部分组成:T2数据部分T3和T4指针部分T5。显然，数据段是存储数据的地方，指针段会指向下一个节点。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/9a9727243b775a33b06f70f3a8e38039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_LYD-SKYyv5EezuvO2trsw.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">简单节点</figcaption></figure><p id="c2ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以有大量的节点来存储各种类型的数据，比如整型、浮点型、散列表，甚至是类实例！</p><p id="7ecf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，在我们熟悉了节点之后，让我们把它们链接在一起，建立一个链表！</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es ls"><img src="../Images/8bfda4614b08a74acdbfe624b0c3e564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*odWkeLstU8KPEQ_wZDJd-A.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">一个链表</figcaption></figure><p id="f17e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面是一个简单的单链表的格式。每个链表都是由节点链接的。而且它必须有一个起点，指向开头的<strong class="ih hj">头</strong> <strong class="ih hj">节点</strong>。随着每个后续节点指向下一个节点，我们已经建立了一个链表！那很简单！</p><h1 id="fe9f" class="jy jz hi bd ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv bi translated"><strong class="ak">我们为什么需要链表？</strong></h1><p id="8256" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我们已经使用<strong class="ih hj">数组</strong>数千次了。数组在存储和管理数据方面有很好的性能。为什么我们仍然需要一个链表？好吧，继续读！</p><p id="972b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们创建一个数组时，内存会给它一个特定的空间。当一个数组被初始化时，这个内存空间是固定的。这一特点限制了阵列在管理数据方面的性能。</p><p id="4dbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">举个例子，如果我们想在一个数组中插入一个新元素，那么处理的时间是O(n)次(n是这个数组的长度)。相同的运行时间适用于删除、合并等。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es ly"><img src="../Images/bff34834c1e8dbd5b2da3278ed81b95f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s1gaKXt5WgytLaY-VWa9aw.jpeg"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">在数组前面插入元素的示例</figcaption></figure><p id="cea7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">链表</strong>在管理数据方面有更好的表现。由于它是动态存储在内存中的，链表可以重组，合并，插入很容易与O(1)运行时间！</p><h1 id="1bb3" class="jy jz hi bd ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv bi translated">如何在Ruby中实现链表？</h1><p id="4b2f" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">为了实现一个链表，我们需要首先创建节点类。</p><p id="38b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是我编写的实现node类的代码:</p><figure class="lc ld le lf fd lg"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="f72c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记住<strong class="ih hj">节点有两个部分:数据和下一个。</strong>当我们用传入数据构建一个节点时，该节点将被初始化为:</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="a22a" class="mg jz hi mc b fi mh mi l mj mk">@data = data  <br/>@next = nil  </span></pre><p id="d3f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">🥳 🥳 🥳现在，我们准备建立一个🥳 🥳 🥳链表</p><p id="d475" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哦，等等🤔</p><p id="7bb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始编码之前，我们先做一些设计:链表需要的功能有哪些？</p><p id="c97b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，如果我们把链表当作一个数组，那么我们可能要做以下任务:</p><ol class=""><li id="ad7d" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">在链表的前端/末端添加新数据</li><li id="4136" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">从链表的前端/末端移除元素</li><li id="aeb2" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">计算链表的大小</li><li id="297a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">打印链接列表</li><li id="4a95" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">清除整个链表</li></ol><p id="f973" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👩‍💻酷！让我们编码👩‍💻</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="c1d0" class="mg jz hi mc b fi mh mi l mj mk">class LinkedList</span><span id="5e4c" class="mg jz hi mc b fi ml mi l mj mk">    #is_empty?: return true if the linked list is empty<br/>    def is_empty?<br/>        if @head == nil<br/>            return true<br/>        else<br/>            return false<br/>        end<br/>    end</span><span id="9f5a" class="mg jz hi mc b fi ml mi l mj mk">    #push: given a data, add a new node in the end<br/>    def push(data)<br/>        if self.is_empty?<br/>            @head = Node.new(data)<br/>        else<br/>            current_node = @head<br/>            new_node = Node.new(data)<br/>            while current_node.next != nil<br/>                current_node = current_node.next<br/>            end<br/>            current_node.next = new_node<br/>        end<br/>    end</span><span id="a825" class="mg jz hi mc b fi ml mi l mj mk">    #unshift: add a new node in the front<br/>    def unshift(data)<br/>        if self.is_empty?<br/>            @head = Node.new(data)<br/>        else<br/>            curr_head = Node.new(data)<br/>            curr_head.next = @head<br/>            @head = curr_head<br/>        end<br/>    end</span><span id="05f5" class="mg jz hi mc b fi ml mi l mj mk">    #pop: remove the last node and return it<br/>    def pop<br/>        if self.is_empty?<br/>            return "This list is currently empty"<br/>        else<br/>            current_node = @head<br/>            while current_node.next.next != nil<br/>                current_node = current_node.next<br/>            end<br/>            last_node = current_node.next<br/>            current_node.next = nil<br/>        end<br/>        last_node<br/>    end</span><span id="e4c2" class="mg jz hi mc b fi ml mi l mj mk">    #shift: remove the first node and return it<br/>    def shift<br/>        if self.is_empty?<br/>            return "This list is currently empty"<br/>        else<br/>            curr_head = @head<br/>            new_head = @head.next<br/>            @head.next = nil<br/>            @head = new_head<br/>        end<br/>        curr_head<br/>    end</span><span id="a5f3" class="mg jz hi mc b fi ml mi l mj mk">    #size: return the length of linked list<br/>    def size<br/>        if self.is_empty?<br/>            count = 0<br/>        else<br/>            count = 1<br/>            current_node = @head<br/>            while current_node.next != nil<br/>                current_node = current_node.next<br/>                count += 1<br/>            end<br/>        end<br/>        count<br/>    end</span><span id="a7e5" class="mg jz hi mc b fi ml mi l mj mk">    #pretty_print: print the current linked list as an array<br/>    def pretty_print<br/>        array = []<br/>        current_node = @head<br/>        if self.is_empty?<br/>            return array<br/>        else<br/>            while current_node.next != nil<br/>                array &lt;&lt; current_node.data<br/>                current_node = current_node.next<br/>            end<br/>            array &lt;&lt; current_node.data<br/>       end<br/>       array<br/>    end</span><span id="4339" class="mg jz hi mc b fi ml mi l mj mk">    #clear: clear the whole linked list<br/>    def clear<br/>        @head = nil<br/>    end<br/>end</span></pre><p id="6aaa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上是我实现的一个链表。您可以通过创建几个节点和列表来玩它，看看当您对它们应用方法时会发生什么！</p><p id="c5db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看GitHub上的代码！</p><h2 id="f645" class="mg jz hi bd ka mn mo mp ke mq mr ms ki iq mt mu km iu mv mw kq iy mx my ku mz bi translated">我们来做些测试吧！</h2><p id="b746" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">让我们首先创建一个新的链表实例:</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="c62e" class="mg jz hi mc b fi mh mi l mj mk">list = LinkedList.new<br/>=&gt; #&lt;LinkedList:0x00007fcd4c2fc6e8&gt;</span></pre><p id="fada" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来不错！我们的列表现在是空的，让我们添加一些项目:</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="69de" class="mg jz hi mc b fi mh mi l mj mk">&gt; list.push(1)<br/>=&gt; #&lt;Node:0x00007fcd4d013cf0 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=1, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;</span><span id="33cc" class="mg jz hi mc b fi ml mi l mj mk">&gt; list.push(2)<br/>=&gt; #&lt;Node:0x00007fcd4c99c340 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=2, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;</span><span id="dfd5" class="mg jz hi mc b fi ml mi l mj mk">&gt; list.push(3)<br/>=&gt; #&lt;Node:0x00007fcd4c9ac718 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=3, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;</span><span id="c0c9" class="mg jz hi mc b fi ml mi l mj mk">&gt; list.push(4)<br/>=&gt; #&lt;Node:0x00007fcd4c1157f8 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=4, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;</span><span id="12fb" class="mg jz hi mc b fi ml mi l mj mk">&gt; list<br/>=&gt; #&lt;LinkedList:0x00007fcd4c2fc6e8 <a class="ae mm" href="http://twitter.com/head" rel="noopener ugc nofollow" target="_blank">@head</a>=#&lt;Node:0x00007fcd4d013cf0 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=1, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c99c340 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=2, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c9ac718 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=3, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c1157f8 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=4, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;&gt;&gt;&gt;&gt;</span></pre><p id="e5e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以在开头加上一项:</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="c139" class="mg jz hi mc b fi mh mi l mj mk">&gt; list.unshift(0)<br/>=&gt; #&lt;Node:0x00007fcd4c2857c8<br/> <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=0,<br/> <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=<br/>  #&lt;Node:0x00007fcd4d013cf0<br/>   <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=1,<br/>   <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=<br/>    #&lt;Node:0x00007fcd4c99c340<br/>     <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=2,<br/>     <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=<br/>      #&lt;Node:0x00007fcd4c9ac718<br/>       <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=3,<br/>       <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c1157f8 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=4, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;&gt;&gt;&gt;&gt;</span><span id="f8a3" class="mg jz hi mc b fi ml mi l mj mk">&gt; list<br/>=&gt; #&lt;LinkedList:0x00007fcd4c2fc6e8 <a class="ae mm" href="http://twitter.com/head" rel="noopener ugc nofollow" target="_blank">@head</a>=#&lt;Node:0x00007fcd4c2857c8 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=0, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4d013cf0 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=1, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c99c340 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=2, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c9ac718 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=3, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=#&lt;Node:0x00007fcd4c1157f8 <a class="ae mm" href="http://twitter.com/data" rel="noopener ugc nofollow" target="_blank">@data</a>=4, <a class="ae mm" href="http://twitter.com/next" rel="noopener ugc nofollow" target="_blank">@next</a>=nil&gt;&gt;&gt;&gt;&gt;&gt;</span></pre><p id="bfcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太复杂了，无法理解我们列表里面的内容。我们可以利用<strong class="ih hj"><em class="lr">#漂亮_打印</em> </strong>的方法来看看:</p><pre class="lc ld le lf fd mb mc md me aw mf bi"><span id="5e40" class="mg jz hi mc b fi mh mi l mj mk">&gt; list.pretty_print<br/>=&gt; [0, 1, 2, 3, 4]</span><span id="9244" class="mg jz hi mc b fi ml mi l mj mk">&gt; list.size<br/>=&gt; 5</span></pre><p id="c0d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在更清楚了！</p><p id="5f73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以尝试其他方法来更好地理解链表🤓</p></div></div>    
</body>
</html>