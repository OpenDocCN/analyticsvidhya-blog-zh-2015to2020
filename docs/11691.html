<html>
<head>
<title>Traditional Image semantic segmentation for Core Samples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">核心样本的传统图像语义分割</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/traditional-image-semantic-segmentation-for-core-samples-f315157913e8?source=collection_archive---------16-----------------------#2020-12-14">https://medium.com/analytics-vidhya/traditional-image-semantic-segmentation-for-core-samples-f315157913e8?source=collection_archive---------16-----------------------#2020-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="42d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我有生以来第一次写博客，所以我们今天要讨论的是如何用传统的方法分割图像。</p><p id="4e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客中，我们将使用岩心样本作为例子，如果你不知道岩心样本是什么，它是从油井或矿区取得的圆柱形样本，我们用它来查看那里的地质情况。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/07040a227e7bdcdb9a58a26dec48f0e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*zIKraTZhMlXz9yC1F_lGKw.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">具有两种不同纹理的岩心样本，在分割之前</figcaption></figure><p id="7da4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们在这里的任务是尝试编写一个代码，可以区分岩心样本中的暗纹理和亮纹理，这可能会帮助地质学家节省一些时间，并为他的工作引入一些自动化。</p><p id="3607" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步:</p><p id="dfdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要找到一种算法，可以找到两种不同纹理之间的差异，如果你用传统方法搜索语义分割，你会发现很多现成的库过滤器，如Skimage，Scipy和OpenCV。在我们的例子中，我们将使用Skimage，因为我喜欢它。</p><p id="5907" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在Skimage中，我们可以找到很多过滤器来完成这项任务，但唯一一个能给我们一个好的最终结果的过滤器是熵分割过滤器。</p><p id="8341" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要为这个任务导入必要的库</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/de86f1cdd007cf9634932d93f1903584.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*QXP8H3EudW4cKPp0o2AO2Q.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">导入库</figcaption></figure><p id="598f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要导入Matplotlib来显示我们的最终结果，进行熵分割和阈值处理(第二步)，并导入Numpy来完成我们的导入鸡尾酒。</p><p id="2269" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了首先在python中打开我们的图像，我们将使用下面的代码行</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/ed76c83bfc7964fed082faf7c0283372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_TgcX7pTY1IUlxObQeqZA.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">如何在python中导入图像</figcaption></figure><p id="fe06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来谈谈熵过滤器，熵过滤器可以检测局部灰度分布的细微变化，下一张图将向您展示它是如何工作的</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jv"><img src="../Images/32984bcf95501f7fff194a11fdb04be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZgQlI_Mk268Bnm7zUvUgw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">提供:<a class="ae jw" href="https://scikit-image.org/docs/dev/auto_examples/filters/plot_entropy.html" rel="noopener ugc nofollow" target="_blank">https://scikit-image . org/docs/dev/auto _ examples/filters/plot _ entropy . html</a></figcaption></figure><p id="24a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在我们的核心样本图像上应用这个过滤器，我们将使用下面的代码行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/2c4a08a4ec44f8d0dde1a5a9301c71aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*uxbaSmzs5FCo0QxUBsPwuw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">对岩心样本应用熵过滤器，半径为8</figcaption></figure><p id="96bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了显示此过滤器的结果，我们将使用Matplotlib来绘制这些新值，使用接下来的代码行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jy"><img src="../Images/61900cb1390c74f621a623b9f3304612.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*ErLr3-MpkILLd_eIJ_6uEQ.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">使用matplotlib显示绘图</figcaption></figure><p id="3fa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们可以看到核心样本的熵分割结果。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/50ee0510391fb6f44e71921a8e457a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*WDsYG6ukzvGtUi7Z3BrinA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">对我们的核心样本进行熵分割过滤的结果</figcaption></figure><p id="373f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以看到，熵过滤导致原始图片中较暗的纹理为黄绿色，而另一个纹理为正常的绿色，但从这个结果中，我们无法精确区分两个纹理，我们需要较暗和较亮的纹理之间的边界线，为此，我们将使用Otsu阈值过滤器，它将产生估计较暗纹理像素值和其他纹理像素值之间的边界线的值，我们可以使用下面的代码行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ka"><img src="../Images/72cd30c6cadb1b351c2b69de311218fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*kJYGTWOCYZ1Y2wo8LtpOQw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">两个纹理之间的阈值</figcaption></figure><p id="16de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用前面的代码，我们在两个纹理之间做了一条线，我们只需要把这条线放在动作中，这就是为什么我们要使用这个阈值，使用下面的代码行来做一个布尔蒙版。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kb"><img src="../Images/1bc168067e06427acbb642834ad82926.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*_qkgJHDexdkGVZrkzfutwQ.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">二进制是由真值和假值组成的图像</figcaption></figure><p id="59ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前一行代码构建了一个图像，由真值和假值或0和1组成，真值用于小于或等于阈值的像素值，假值用于其余像素</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/887f1902f7883ad2c7c649ac9a9cab56.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*r-cxj9VjYcFaBIaLnBJtdw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">二进制图像，黄色=1，紫色= 0</figcaption></figure><p id="0107" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们在输出图像中只有两个不同的纹理，我们可以使用布尔遮罩轻松计算这两个纹理之间的面积比。</p><p id="0685" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要计算面积比，您需要使用下面几行代码</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kc"><img src="../Images/20750c02fe28d6b53952621baff75899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIJ63wTi1jLg_PSfHgHt3w.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">每个纹理的布尔遮罩，然后在饼图中绘制比率</figcaption></figure><p id="0b64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终结果是这个饼图，显示黄色区域到紫色区域。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kd"><img src="../Images/1e0bbaf9f0087f87c26b44b53972b3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*GxeFZoSDSkRjICBwdcNKxg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">黄色和紫色区域饼图</figcaption></figure><p id="6e9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本分割教程的灵感来自rg Benndorf教授和DigitalSreeni YouTube频道</p><div class="ke kf ez fb kg kh"><a href="https://www.youtube.com/channel/UC34rW-HtPJulxr5wp2Xa04w" rel="noopener  ugc nofollow" target="_blank"><div class="ki ab dw"><div class="kj ab kk cl cj kl"><h2 class="bd hj fi z dy km ea eb kn ed ef hh bi translated">数字时代</h2><div class="ko l"><h3 class="bd b fi z dy km ea eb kn ed ef dx translated">本频道将带您了解学习Python编码的整个过程；从基础到高级…</h3></div><div class="kp l"><p class="bd b fp z dy km ea eb kn ed ef dx translated">www.youtube.com</p></div></div><div class="kq l"><div class="kr l ks kt ku kq kv jj kh"/></div></div></a></div></div></div>    
</body>
</html>