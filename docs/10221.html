<html>
<head>
<title>Ensemble model : Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é›†æˆæ¨¡å‹:æ•°æ®å¯è§†åŒ–</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/ensemble-model-data-visualization-2f4cb06859c1?source=collection_archive---------23-----------------------#2020-10-09">https://medium.com/analytics-vidhya/ensemble-model-data-visualization-2f4cb06859c1?source=collection_archive---------23-----------------------#2020-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a2afcfeb28f7f9df3a651c12be4c2ffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OjnVJAGrA4IelZZb"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">å¨å»‰Â·è‰¾æ–‡åœ¨<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><p id="c764" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™æ˜¯æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« çš„ç¬¬2éƒ¨åˆ†(æ•´ä½“å»ºæ¨¡â€”â€”å¦‚ä½•åœ¨pythonä¸­æ‰§è¡Œ)ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ç¯‡æ–‡ç« ï¼Œè¯·æŸ¥é˜…æˆ‘ä»¥å‰çš„æ–‡ç« ã€‚è°¢è°¢ä½ ğŸ˜Šã€‚</p><div class="jt ju ez fb jv jw"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/ensemble-modelling-in-a-simple-way-386b6cbaf913"><div class="jx ab dw"><div class="jy ab jz cl cj ka"><h2 class="bd hj fi z dy kb ea eb kc ed ef hh bi translated">ä»¥ç®€å•çš„æ–¹å¼é›†åˆå»ºæ¨¡ã€‚</h2><div class="kd l"><h3 class="bd b fi z dy kb ea eb kc ed ef dx translated">å˜¿å¤§å®¶å¥½ï¼è¿™æ˜¯Shivani Parekhã€‚æˆ‘å°†å‘ä½ è§£é‡Šå¦‚ä½•ä½¿ç”¨é›†åˆæ¨¡å‹æ¥é¢„æµ‹æ›´å¤šâ€¦</h3></div><div class="ke l"><p class="bd b fp z dy kb ea eb kc ed ef dx translated">medium.com</p></div></div><div class="kf l"><div class="kg l kh ki kj kf kk io jw"/></div></div></a></div><p id="15fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»å¯è§†åŒ–ä¸åŒæ¨¡å‹å¹¶æ¯”è¾ƒå…¶å‡†ç¡®æ€§çš„æ•™ç¨‹å¼€å§‹ã€‚è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨äº†<strong class="ix hj"> KNNã€å†³ç­–æ ‘å’ŒSVMæ¨¡å‹ã€‚</strong></p><p id="95ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è®©æˆ‘ä»¬å›å¿†ä¸€ä¸‹ï¼Œåœ¨ä»¥å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨â€œaccuracysâ€å‘½ååˆ—è¡¨æ¥åˆ†åˆ«å­˜å‚¨ä¸Šè¿°æ¨¡å‹çš„ç²¾åº¦ã€‚</p><p id="6b21" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å®ƒåŒ…å«äº†ä»€ä¹ˆã€‚</p><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/5af4adc03b2ed3721fc5881548b251b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*v1P_7G-4PZjdpjuACwIslw.png"/></div></figure><blockquote class="kq kr ks"><p id="1fbb" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated">æ³¨æ„:æˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰å•ç‹¬ä½¿ç”¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œæˆ‘ä»¬ä½¿ç”¨train_test_split()ï¼Œè¿™æ˜¯å› ä¸ºæ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªsplitå‡½æ•°æ—¶ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†éƒ½ä¼šåœ¨ä¸€ä¸ªéšæœºç‚¹è¢«æ‹†åˆ†ã€‚å› æ­¤å‡†ç¡®æ€§å°†æ ¹æ®è®­ç»ƒå’Œæµ‹è¯•é›†å€¼ä¸æ–­å˜åŒ–ã€‚</p></blockquote><p id="44c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨model_namesæ˜¯å¦ä¸€ä¸ªç©ºçš„ï¼Œå®ƒå°†åŒ…å«æ¨¡å‹çš„åç§°ã€‚è¿™ä¸ªåˆ—è¡¨å°†å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç»˜å›¾ã€‚</p><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="8ca2" class="lc ld hi ky b fi le lf l lg lh">model_names=[] <em class="kt">#empty list</em><br/>for name, model in estimators:<br/>    model_names.append(name)</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es li"><img src="../Images/00c15f4a016e2976f5ea3c3a96e7918f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*q5Gfbd1TQ_tLcFf4Om4Ibg.png"/></div></figure><h1 id="ef3a" class="lj ld hi bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">æ ‡å›¾æ¡æ ‡å›¾</strong></h1><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="f788" class="lc ld hi ky b fi le lf l lg lh">import matplotlib.pyplot as plt<br/>fig = plt.figure()<br/>ax = fig.add_axes([0,0,1,1])<br/>ax.bar(model_names,accuracies)<br/>plt.yticks(np.arange(0, 1, .10))<br/>plt.show()</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/b9afe2546afa4be229145e6d785ea325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*CCr_InGpHT37BLbrrXtM7g.png"/></div></figure><p id="473b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">line ax.bar()å‡½æ•°åˆ›å»ºæ¡å½¢å›¾ï¼Œè¿™é‡Œæˆ‘ä»¬å°†æ¨¡å‹åç§°æŒ‡å®šä¸ºXï¼Œç²¾åº¦æŒ‡å®šä¸ºé«˜åº¦ã€‚è¿˜å¯ä»¥æåŠå„ç§å…¶ä»–å‚æ•°ï¼Œä¾‹å¦‚å®½åº¦ã€åº•éƒ¨ã€å¯¹é½ã€‚</p><p id="15d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘ä»¬ç”šè‡³å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸‹é¢çš„ä»£ç å°†é›†åˆæ¨¡å‹å„è‡ªçš„åç§°å’Œå‡†ç¡®åº¦æ·»åŠ åˆ°model_nameså’Œaccuracyåˆ—è¡¨æ¥æ¯”è¾ƒé›†åˆæ¨¡å‹çš„å‡†ç¡®åº¦ï¼Œå¹¶å†æ¬¡è¿è¡Œä¸Šé¢çš„ä»£ç ã€‚</p><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="6b15" class="lc ld hi ky b fi le lf l lg lh">#adding accuracy of ensemble for comparison</span><span id="bd30" class="lc ld hi ky b fi mh lf l lg lh">if â€œEnsembleâ€ not in model_names:<br/> model_names.append(â€œEnsembleâ€)<br/>if ensem_acc not in accuracys:<br/> accuracys.append(ensem_acc)</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/8c443ac7084d69eb3eeecb85fc88be83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*HsvBS5kRy7s68ULB1ktAIw.png"/></div></div></figure><p id="5e05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ­£å¦‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹åˆ°ï¼Œç³»ç»¼å…·æœ‰æœ€é«˜çš„å‡†ç¡®æ€§ï¼Œå¦‚æœæˆ‘ä»¬æ›´ä»”ç»†åœ°æ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒSVMæ¨¡å‹ç»™å‡ºäº†æœ€ä½çš„å‡†ç¡®æ€§ã€‚</p><p id="f956" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªç›’çŠ¶å›¾ã€‚</p><p id="f4c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨kfoldäº¤å‰éªŒè¯æ¥æ‹†åˆ†æ•°æ®å¹¶æµ‹è¯•æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚æˆ‘ä»¬å°†è·å¾—æ¯ä¸ªæ¨¡å‹çš„å¤šé‡ç²¾åº¦ã€‚</p><p id="9a7a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ•°æ®åˆ†æˆ15ä»½ï¼Œå› æ­¤å®ƒå°†æ•°æ®åˆ†æˆ15ç»„ï¼Œå¹¶æµ‹è¯•æ¨¡å‹15æ¬¡ï¼Œå› æ­¤å°†è·å¾—15ç§ä¸åŒçš„ç²¾åº¦ã€‚æœ€åï¼Œæˆ‘ä»¬å–è¿™ä¸ªç²¾åº¦çš„å¹³å‡å€¼ï¼ŒçŸ¥é“æ¨¡å‹çš„å¹³å‡ç²¾åº¦æ˜¯å¤šå°‘ã€‚</p><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="02bc" class="lc ld hi ky b fi le lf l lg lh">acc=[] #empty list<br/>names1=[]<br/>scoring = â€˜accuracyâ€™</span><span id="042d" class="lc ld hi ky b fi mh lf l lg lh">#here creating a list "acc" for storing multiple accuracies of each model.<br/>for name, model in estimators:<br/> kfold=model_selection.KFold(n_splits=15)<br/> res=model_selection.cross_val_score(model,X,target,cv=kfold,scoring=scoring)<br/> acc.append(res)<br/> names1.append(name)<br/> model_accuracy = â€œ%s: %fâ€ % (name,res.mean())<br/> print(model_accuracy)</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/7f3709dcbefcaaa3e9cbce96b1fe3713.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*FZAsMRp6t0q5zGQO2HmBKg.png"/></div></figure><p id="0bd9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸ºäº†é˜æ˜æˆ‘çš„è§‚ç‚¹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹â€œaccâ€åˆ—è¡¨æœ‰ä»€ä¹ˆï¼</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/0b7080123f9a218d376e9edc5c2ebbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEij2MnoSb5hAGp9r-VsCQ.png"/></div></div></figure><h1 id="873a" class="lj ld hi bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">æ ‡ç»˜æ¡†æ ‡ç»˜</strong></h1><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="2416" class="lc ld hi ky b fi le lf l lg lh">blue_outlier = dict(markerfacecolor=â€™bâ€™, marker=â€™Dâ€™)<br/>fig = plt.figure()<br/>fig.suptitle(â€˜Algorithm Comparisonâ€™)<br/>ax = fig.add_subplot(111)<br/>plt.boxplot(acc,flierprops=blue_outlier)<br/>ax.set_xticklabels(names1)<br/>plt.show()</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/ec8672c1a53b08999e9eadbb07c4756c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*XMn6BK1dP-nOpDIrjBdb6A.png"/></div></figure><p id="1a69" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™äº›è“è‰²çš„ç‚¹æ˜¯å¼‚å¸¸å€¼ã€‚å»¶ä¼¸æ–¹æ¡†çš„çº¿æ˜¯èƒ¡é¡»ï¼Œæ°´å¹³çš„æ©™è‰²çº¿æ˜¯ä¸­çº¿ã€‚</p><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="dea9" class="lc ld hi ky b fi le lf l lg lh">k_folds = model_selection.KFold(n_splits=15, random_state=12)<br/>ensemb_acc = model_selection.cross_val_score(ensemble, X_train, target_train, cv=k_folds)<br/>print(ensemb_acc.mean())</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/767bf6e2a8263549bb71ea4cb20cbc1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*U5UhxnPkeokFT6Li7gJdwQ.png"/></div></figure><pre class="km kn ko kp fd kx ky kz la aw lb bi"><span id="e22d" class="lc ld hi ky b fi le lf l lg lh">if â€œEnsembleâ€ not in names1:<br/> names1.append(â€œEnsembleâ€)</span><span id="74f8" class="lc ld hi ky b fi mh lf l lg lh">from numpy import array, array_equal, allclose<br/> <br/>def arr(myarr, list_arrays):<br/> return next((True for item in list_arrays if item.size == myarr.size and allclose(item, myarr)), False)</span><span id="ffa3" class="lc ld hi ky b fi mh lf l lg lh">print(arr(ensemb_acc, acc))</span><span id="702d" class="lc ld hi ky b fi mh lf l lg lh">if arr(ensemb_acc, acc)==False:<br/> acc.append(ensemb_acc)<br/>acc</span></pre><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/da3472e779b61c30f5af848f29104aef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4EFJLVqAuTXuCN-SfX4qAg.png"/></div></div></figure><p id="3c29" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨ï¼Œé€šè¿‡å†æ¬¡è¿è¡Œä¸Šé¢çš„ä»£ç æ¥ç»˜åˆ¶ç®±çº¿å›¾ï¼Œæˆ‘ä»¬å¾—åˆ°</p><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/cbcd31b97cc73ed3aa01eaba4f4e9dec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*9___ePA4TmQzR-sXDGlC6A.png"/></div></figure><p id="469a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ‚¨ç”šè‡³å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‚æ•°å®šåˆ¶æ‚¨çš„ç®±çº¿å›¾ï¼Œä¾‹å¦‚patch_artist= Trueå°†æ˜¾ç¤ºå¸¦æœ‰é¢œè‰²çš„ç®±çº¿å›¾ï¼Œnotch=Trueå°†æ˜¾ç¤ºç®±çº¿å›¾çš„å‡¹å£æ ¼å¼ï¼Œvert=0å°†æ˜¾ç¤ºæ°´å¹³ç®±çº¿å›¾ã€‚</p><p id="3fa9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä»¥ä¸‹æ˜¯å®Œæ•´çš„ä»£ç :</p><blockquote class="kq kr ks"><p id="dfed" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated">ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä»£ç çš„é“¾æ¥:</p><p id="9a2d" class="iv iw kt ix b iy iz ja jb jc jd je jf ku jh ji jj kv jl jm jn kw jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/analytics-vidhya/ensemble-modelling-in-a-simple-way-386b6cbaf913">https://medium . com/analytics-vid hya/ensemble-modeling-in-a-simple-way-386 B6 cbaf 913</a></p></blockquote><figure class="km kn ko kp fd ij"><div class="bz dy l di"><div class="mp mq l"/></div></figure><p id="895f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘å¸Œæœ›ä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ğŸ˜ƒã€‚å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰å¸®åŠ©ï¼Œé‚£ä¹ˆçœ‹åˆ°ä½ ä¸ºæˆ‘é¼“æŒæ¥æ„Ÿè°¢æˆ‘çš„åŠªåŠ›å·¥ä½œå°†ä¼šéå¸¸å¥½ğŸ‘ğŸ‘ã€‚è°¢è°¢ä½ ã€‚</p></div></div>    
</body>
</html>