<html>
<head>
<title>Black–Litterman Model for Asset Allocation for Top 20 Indian Companies by Market Capitalization and Backtesting — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">black–little man按市值和回溯测试对前20名印度公司进行资产配置的模型—第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/black-litterman-model-for-asset-allocation-for-top-20-indian-companies-by-market-capitalization-c9fcbd362d72?source=collection_archive---------3-----------------------#2020-06-19">https://medium.com/analytics-vidhya/black-litterman-model-for-asset-allocation-for-top-20-indian-companies-by-market-capitalization-c9fcbd362d72?source=collection_archive---------3-----------------------#2020-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="ad81" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">资产配置是投资管理过程中最重要的一步。承担风险的能力和意愿、回报目标、投资者的约束以及资本市场预期是资产配置的关键输入。Harry Markowitz首先介绍了<a class="ae jk" href="https://en.wikipedia.org/wiki/Modern_portfolio_theory" rel="noopener ugc nofollow" target="_blank">均值-方差优化(MVO) </a>，这可能是实践中开发和设定资产分配政策最常用的方法。然而，对MVO也有一些批评，特别是不稳定、集中和投资组合表现不佳。</p><p id="7aab" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">解决这些问题的方法之一是由费希尔·布莱克和罗伯特·里特曼创建的<a class="ae jk" href="https://en.wikipedia.org/wiki/Black%E2%80%93Litterman_model" rel="noopener ugc nofollow" target="_blank">黑人-里特曼模型</a> (BL)。Black-little man模型从反向优化开始，根据资产的市值计算起始权重和隐含回报，随后允许容纳分析师的替代预测。Black-little man模型的数学细节对于非数学界人士来说可能很无聊，超出了本文的范围。BL模型与均值-方差优化一起，通过提高每个资产类别的预期回报与其对系统风险的贡献之间的一致性，通常会导致非常多样化的资产配置。</p><p id="8704" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我们将研究这个模型的应用，以得出按市值排名的前20家印度公司的可选权重。我举了一个股票的例子，但是，它可以是任何资产类别。在本文第二部分的<a class="ae jk" rel="noopener" href="/@sabirh.jana/black-litterman-model-for-asset-allocation-for-top-20-indian-companies-by-market-capitalization-e22e1450dc39?sk=4aa40d8d84979bd22928c9de4ec34b96">中，我们将使用Quantopian zipline或Backtrader对模型得出的权重进行回溯测试。这不是一个神奇的公式，因此不要认为在这篇文章结束时，你会对这20只股票拥有神奇的权重，让你立刻成为超级富豪。目标是帮助你理解和学习过程和代码。我已经使用了python </a><a class="ae jk" href="https://github.com/robertmartin8/PyPortfolioOpt" rel="noopener ugc nofollow" target="_blank"> PyPortfolioOpt </a>开源库，它提供了这个模型的python实现，因此我强烈推荐你去探索它。我必须感谢<a class="ae jk" href="https://reasonabledeviations.com/about/" rel="noopener ugc nofollow" target="_blank"> Robert Martin </a>在开发PyPortfolioOpt方面的出色工作。本文的代码和数据可以在我的<a class="ae jk" href="https://github.com/sabirjana/blog/tree/master/Black%E2%80%93Litterman" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj"> Github </strong> </a>资源库中找到。</p><p id="7387" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">总体方法如下:</p><ol class=""><li id="3cac" class="jl jm hi io b ip iq it iu ix jn jb jo jf jp jj jq jr js jt bi translated">印度前20大公司的数据收集。</li><li id="412d" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">之前的计算和分析师对回报的看法。</li><li id="46a9" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">收益和协方差矩阵的BL后验估计。</li><li id="7f1a" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">分析师观点的置信矩阵和有效前沿。</li></ol></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="b6d5" class="jz ka hi bd kb kc kd ke kf kg kh ki kj ix kk kl km jb kn ko kp jf kq kr ks kt bi translated">20家印度公司的数据收集</h2><p id="7654" class="pw-post-body-paragraph im in hi io b ip ku ir is it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj hb bi translated">首先，我们需要按市值排列的前20家印度公司的名单。这些信息是公开的，应该不难获得。我从<a class="ae jk" href="https://www.moneyworks4me.com/best-index/nse-stocks/top-nifty50-companies-list/" rel="noopener ugc nofollow" target="_blank">https://www . money works 4 me . com/best-index/NSE-stocks/top-nifty 50-companies-list/</a>中提取了这些详细信息，并将其保存在<em class="kz"> mcap.csv </em>文件中。</p><p id="6a4d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，我们需要这些公司的每日历史收盘价细节。我已经从我在本地机器上维护的数据库中获取了这些细节。但是，为了便于您快速参考，在<em class="kz"> prices.csv. </em>中提供了一份定价数据集</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="1dc9" class="jz ka hi bd kb kc kd ke kf kg kh ki kj ix kk kl km jb kn ko kp jf kq kr ks kt bi translated">先前的计算和分析师对退货的看法</h2><p id="59c7" class="pw-post-body-paragraph im in hi io b ip ku ir is it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj hb bi translated">为了构建隐含在资产市值中的市场隐含回报先验，我们需要一个市场隐含风险溢价。这被称为delta，可以通过将市场的超额收益除以其方差来计算。一旦我们有了delta，就可以通过将delta乘以市值权重来计算先验。PyPortfolioOpt使所有这些计算变得非常容易。</p><p id="feb1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们看看执行以下任务的代码:</p><ol class=""><li id="3d35" class="jl jm hi io b ip iq it iu ix jn jb jo jf jp jj jq jr js jt bi translated">阅读<em class="kz"> mcap.csv </em>为熊猫数据帧。</li><li id="8663" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">根据步骤1中创建的数据帧创建报价机列表。</li><li id="32e7" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">从<em class="kz"> prices.csv. </em>中读取每日收盘价</li><li id="d14f" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">从步骤1中创建的数据框架创建ticker的市值字典。</li><li id="90dc" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">下载BSE-500收盘价代表市场价格。我们需要这个来计算市场超额收益。我已经使用<a class="ae jk" href="https://github.com/ranaroussi/yfinance" rel="noopener ugc nofollow" target="_blank"> yfinance </a> python库从雅虎财经下载了每日价格数据。</li><li id="d01e" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">计算资产协方差和delta。为了计算资产协方差，我使用了PyPortfolioOpt中提供的收缩估计器实现。如果你有兴趣了解更多，你可以查看PyPortfolioOpt文档。我用10年期印度债券收益率5.796%作为无风险利率。</li><li id="b227" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">Plot <a class="ae jk" href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient" rel="noopener ugc nofollow" target="_blank"> Spearman相关性</a>日收益矩阵。</li><li id="6b62" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">使用市值字典、delta和资产协方差矩阵计算市场隐含回报。</li><li id="8037" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">纳入分析师对回报的看法。我们为此创建了<em class="kz"> views.csv </em>文件。读取文件<em class="kz"> </em>并为视图创建一个字典。</li></ol><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="bdd9" class="jz ka hi lf b fi lj lk l ll lm"># necessary imports<br/>import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import pypfopt as pyp<br/>import seaborn as sns<br/>import datetime<br/>import yfinance as yf<br/>idx = pd.IndexSlice<br/><br/><br/>%matplotlib inline<br/>%config InlineBackend.figure_format = 'retina'<br/><br/># read market capitalization and ticker details<br/>mcap = pd.read_csv('data/mcap.csv')<br/>mcap.head(2)<br/><br/># create the tickers list<br/>tickers = [ticker[:-3] for ticker in mcap.Tickers]<br/>print(tickers)<br/><br/># Read daily prices from csv<br/>prices = pd.read_csv('data/prices.csv', index_col=[0], parse_dates=[0])<br/>prices.head(2)<br/><br/># create market cap dict<br/>mcap_dict = {ticker[:-3] : cap for ticker, cap in zip(mcap['Tickers'].values, mcap['Market Cap'].values)}<br/>print(mcap_dict)<br/><br/># get market daily prices - BSE-500<br/>market_prices = yf.download("BSE-500.BO", period="max")["Adj Close"]<br/>market_prices.head(2)<br/><br/># calculate asset covariance and delta<br/># market-implied risk premium, which is the market’s excess return divided by its variance<br/>S = pyp.risk_models.CovarianceShrinkage(prices).ledoit_wolf()<br/>delta = pyp.black_litterman.market_implied_risk_aversion(market_prices, risk_free_rate=0.05796)<br/>print(delta)<br/><br/>fig, ax = plt.subplots(figsize=(10,8))<br/>sns.heatmap(prices.pct_change().corr(method ='spearman'), ax=ax, cmap='coolwarm', annot=True, fmt=".2f")<br/>ax.set_title('Assets Correlation Matrix')<br/>plt.savefig('images/chart1', dpi=300) <br/><br/># calculate prior - market implied retunrs<br/>market_prior = pyp.black_litterman.market_implied_prior_returns(mcap_dict, delta, S)<br/>market_prior.name = 'Prior'<br/>print(market_prior)<br/><br/># plot prior<br/>market_prior.plot.barh(figsize=(12,6), title = 'Market Iimplied Retunrs',grid=True);<br/>plt.savefig('images/chart2', dpi=300)<br/><br/># provide absolute views - read csv<br/>view_confidence = pd.read_csv('data/views.csv', index_col=[0])<br/>view_confidence.head(20)<br/><br/># create view dict<br/>views_dict = {ind : view_confidence['View'][ind] for ind in view_confidence.index}<br/>print(views_dict)</span></pre><figure class="la lb lc ld fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es ln"><img src="../Images/f9959a3a60b1b16ed34cc5223a92a045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SKH02PRPPfaBRUEQ4kxqTA.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">资产关联矩阵</figcaption></figure><figure class="la lb lc ld fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lz"><img src="../Images/e765ba0fa9ce617ae09f359d6c74239b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLYgjWRRXltkv-SJ5Fe3hg.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">先验——市场隐含回报</figcaption></figure><p id="8cd4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">资产相关性矩阵显示了这20只股票之间的相关性，在第二张图中，您可以看到市场隐含回报率的条形图。相关系数的范围从+1到-1，其中+1表示强正相关，而-1表示强负相关。类似业务的公司之间的相关性更高，这并不奇怪，例如ICICI银行和Axis银行的相关性为0.61。资产类别之间的回报、风险和相关性是投资组合构建的关键。相关性越低，多元化收益越高。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="9534" class="jz ka hi bd kb kc kd ke kf kg kh ki kj ix kk kl km jb kn ko kp jf kq kr ks kt bi translated">收益和协方差矩阵的BL后验估计</h2><p id="3dd4" class="pw-post-body-paragraph im in hi io b ip ku ir is it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj hb bi translated">在本节中，我们将运行Black-litter man模型，将历史协方差、市场先验和分析师观点作为输入。我们还可以选择在视图上指定置信度矩阵，这将在下一节中介绍。在缺乏信心矩阵的情况下，PyPortfolioOpt考虑与市场先验方差成比例的观点的不确定性。BL模型输出后验估计收益和协方差矩阵。</p><p id="9eaf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们动手执行以下任务:</p><ol class=""><li id="c8da" class="jl jm hi io b ip iq it iu ix jn jb jo jf jp jj jq jr js jt bi translated">运行BL模型，将历史协方差、市场先验和分析师观点作为输入。</li><li id="48c8" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">提取后验收益并创建一个由<em class="kz">、【先前】、【历史】、【后验】、【视图】</em>收益组成的数据框架，并绘制成图，以便快速比较。</li><li id="63eb" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">将退货数据帧保存为csv文件，以备将来参考。</li><li id="0e06" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">提取协方差矩阵，保存为csv文件，以备将来参考。</li></ol><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="51dd" class="jz ka hi lf b fi lj lk l ll lm"># run the Bl model<br/>bl = pyp.BlackLittermanModel(S, pi=market_prior, absolute_views=views_dict)<br/><br/># Posterior estimate of returns<br/>bl_return = bl.bl_returns()<br/>bl_return.name = 'Posterior'<br/><br/># get historical returns<br/>mu = pyp.expected_returns.mean_historical_return(prices)<br/>mu.name = 'Historical'<br/># print(mu)<br/><br/># create returns dataframe<br/>returns_df = pd.DataFrame([market_prior, mu, bl_return, pd.Series(views_dict)], <br/>             index=['Prior', 'Historical','Posterior', 'Views']).T<br/>print(returns_df)<br/><br/># write it for future reference<br/>returns_df.to_csv('data/returns.csv', header=True, )<br/>returns_df = pd.read_csv('data/returns.csv', index_col=[0], )<br/><br/># plot the returns<br/>returns_df.plot.bar(figsize=(14,6), title = 'Returns Estimates - Prior, Historical, Posterior, Views', grid=True);<br/>plt.savefig('images/chart3', dpi=300)<br/><br/># get the covariance matrix<br/>S_bl = bl.bl_cov()<br/>S_bl.to_csv('data/S_bl.csv')<br/>S_bl = pd.read_csv('data/S_bl.csv',  index_col=[0])</span></pre><figure class="la lb lc ld fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es ma"><img src="../Images/e7d499979b584728af1495d98decc807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SV_h_IV1bvPYMYMvNq2NjA.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">返回估计值—先验、历史、后验、视图</figcaption></figure><p id="be53" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">各种回报的图示看起来非常有趣，因为各种估计之间有很大的差异。历史回报率相当高，我们认为在预测期内实现类似的表现是不可行的。我们的估计反映在“视图”中。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="62ee" class="jz ka hi bd kb kc kd ke kf kg kh ki kj ix kk kl km jb kn ko kp jf kq kr ks kt bi translated">分析师观点和有效前沿的置信矩阵</h2><p id="a7e7" class="pw-post-body-paragraph im in hi io b ip ku ir is it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj hb bi translated">现在，让我们在模型中添加一个我们想要指定的扭曲——我们对自己的回报观点有多有信心？Idzorek的方法在PyPortfolioOpt中的实现允许我们将有关分析师观点的不确定性指定为百分比。这意味着1表示100%有信心，0表示完全没有信心。我们将选择输入参数omega="idzorek "来使用这个特性，并将一个置信度列表(在0到1之间)传递给BlackLittermanModel类初始化的view_confidences参数。要了解Idzorek方法的更多信息，请参考<a class="ae jk" href="https://pyportfolioopt.readthedocs.io/en/latest/BlackLitterman.html#id8" rel="noopener ugc nofollow" target="_blank"> PyPortfolioOpt文档。</a></p><p id="e239" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们对以下内容进行编码:</p><ol class=""><li id="08d5" class="jl jm hi io b ip iq it iu ix jn jb jo jf jp jj jq jr js jt bi translated">为所有20只股票创建一个信心输入列表。</li><li id="f1ed" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">初始化BlackLittermanModel类，输入为协方差矩阵、市场先验、视图字典和置信度列表，其中omega等于“idzorek”。</li><li id="88ce" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">提取收益并创建pandas数据框架，其中包含到目前为止的所有估计收益。这包括<em class="kz">、【先验】、【历史】、【后验】、【观点】、【后验信心】、</em>，并把它们画出来以便快速比较。</li><li id="484f" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">提取协方差矩阵，保存为csv文件，以备将来参考。</li><li id="eae9" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">以BL模型生成的后验收益和后验协方差矩阵作为输入，运行有效边界。我保留了一个约束，任何特定股票的最大权重不超过10%，并选择了最小波动率优化。</li></ol><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="ba58" class="jz ka hi lf b fi lj lk l ll lm"># create confidences vector<br/>confidences = list(view_confidence.Confidences)<br/><br/>print(confidences)<br/><br/># use Idzorek's method and run the model<br/>bl_confi = pyp.BlackLittermanModel(S, pi=market_prior, <br/>                                   absolute_views=views_dict, <br/>                                   omega="idzorek", view_confidences=confidences)<br/><br/># Posterior estimate of returns<br/>bl_return_confi = bl_confi.bl_returns()<br/>bl_return_confi.name = 'Posterior_confidence'<br/><br/>returns_df = pd.DataFrame([market_prior, mu, bl_return, pd.Series(views_dict), bl_return_confi], <br/>             index=['Prior', 'Historical','Posterior', 'Views', 'Posterior_confidence']).T<br/>print(returns_df)<br/><br/># write it for future reference<br/>returns_df.to_csv('data/returns.csv', header=True,)<br/>returns_df = pd.read_csv('data/returns.csv', index_col=[0],)<br/><br/>returns_df.plot.bar(figsize=(14,6), <br/>                    title = 'Returns Estimates - Prior, Historical, Posterior, Views, Posterior-confidence', grid=True);<br/>plt.savefig('images/chart4', dpi=300)<br/><br/># get the covariance matrix<br/>S_bl_confi = bl_confi.bl_cov()<br/>S_bl_confi.to_csv('data/S_bl_confi.csv')<br/>S_bl_confi = pd.read_csv('data/S_bl_confi.csv',  index_col=[0])<br/>S_bl_confi<br/><br/># Long-only minimum volatility portfolio, with a weight cap of 10% and regularisation<br/>ef = pyp.EfficientFrontier(bl_return_confi, S_bl_confi, weight_bounds=(0, 0.1), gamma=0)<br/>ef.add_objective(pyp.objective_functions.L2_reg, gamma=0.1)<br/>weights = ef.min_volatility()<br/>ef.portfolio_performance(verbose=True), print('\n')<br/>wt_min_vola = pd.DataFrame([weights],columns=weights.keys()).T * 100<br/><br/><br/># write it to csv for part 2<br/>wt_min_vola.to_csv('data/wt_min_vola_wts.csv')<br/>wt_min_vola = pd.read_csv('data/wt_min_vola_wts.csv',  index_col=[0])<br/><br/><br/>print ('Weights in Percentage ********************')<br/>print(wt_min_vola.round(4))<br/><br/># plot the weights<br/>wt_min_vola.plot.bar(figsize=(14,6), <br/>                    title = 'Asset Allocation Based on BL with Confidence Matrix', grid=True,legend=False);<br/>plt.ylabel('Percentage')<br/>plt.savefig('images/chart5', dpi=300)</span></pre><figure class="la lb lc ld fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es ma"><img src="../Images/4e525d8ffae30374fa1e0987ba4fbc29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1M-8AodkhMUG8Co8Re3qA.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">返回估计值—先验、历史、后验、视图、后验置信度</figcaption></figure><figure class="la lb lc ld fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es mb"><img src="../Images/7d78fb99cc59179266e66229d73be6dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tk0haxaavNv1ovd_jsvdwg.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">基于置信矩阵的商业智能资产配置</figcaption></figure><p id="c8c7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">同样有趣的是，在作为输入的置信度列表之后，比较各种回报估计。我们可以看到，由于我们考虑的不确定性，“后验”和“有信心的后验”都小于“视图”。很明显，根据我们自己的预测,“浏览量”低于历史回报率。</p><p id="227a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当我们运行输入为后验回报、从BL模型生成的后验协方差矩阵、权重和最小波动率约束的有效前沿优化器时，我们得到了按市值排列的前20家印度公司的多元化投资组合。预期年回报率约为8%，年波动率为9.8%，夏普比率为0.61。详情请参考GitHub上的Jupyter笔记本。</p><p id="7488" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我想提醒你，我们已经选择了最小波动性，因此它将是一个关键参数，与我们选择的任何基准进行比较。在本文的第2部分，我们将采用这些权重，并对超过10年的历史数据进行定期再平衡，对投资组合进行回溯测试。</p><p id="3adb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在此之前，享受投资，并为文章留下评论。</p><p id="1053" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">谢谢！</p><p id="7179" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">请注意:此分析仅用于教育目的，作者不对您的任何投资决策负责。</p></div></div>    
</body>
</html>