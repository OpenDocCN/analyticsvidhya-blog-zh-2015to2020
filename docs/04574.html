<html>
<head>
<title>Google Colab — Deep learning/Keras with HDF5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Colab —采用HDF5的深度学习/Keras</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/google-collab-deep-learning-keras-with-hdf5-must-know-for-those-who-use-collab-for-building-img-e5aa2f6ef4fd?source=collection_archive---------0-----------------------#2020-03-25">https://medium.com/analytics-vidhya/google-collab-deep-learning-keras-with-hdf5-must-know-for-those-who-use-collab-for-building-img-e5aa2f6ef4fd?source=collection_archive---------0-----------------------#2020-03-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6c25" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">对于那些使用Colab构建基于图像的神经网络解决方案的人来说，必须知道</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/c9081ea4b917dab241e406a0e59fe589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fzls2zM188e58IVmwZM7_A.jpeg"/></div></div></figure><p id="6d0e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你们大多数人都知道Google提供的Google Colab，它为数据科学从业者提供了基于Jupyter笔记本的GPU/TPU环境。有了这个产品，我们将能够利用GPU环境进行模型构建活动。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kf"><img src="../Images/5923a9b6ca31e23f871e9af47c1548bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MExospy6yQ98IPNJh5dZaA.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">src—<a class="ae kk" href="https://www.howtogeek.com/341538/why-is-my-internet-so-slow/" rel="noopener ugc nofollow" target="_blank">https://www . how togeek . com/341538/why-is-my-internet-so-slow/</a></figcaption></figure><p id="bd4f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">但我们每个人都会面临的一个主要问题是，当我们用google drive上的图像数据训练模型时，执行速度会有所提高。由于IO操作，即使使用GPU，Colab笔记本也需要花费非常长的时间来访问驱动器上的数据，而每当我们使用keras默认数据集的数据时，它都会以极快的速度进行处理。</p><p id="8bbb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为了克服这一挑战，最佳方法是将数据集转换为HDF5文件，并用HDF5文件中的数据训练网络。</p><p id="0a6e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这篇博客中，我将解释如何从给定的数据集生成HDF5文件，并在训练过程中使用Keras的DataAug模块生成的HDF5文件。你可以从<a class="ae kk" href="https://github.com/VVasanth/MachineLearning/tree/master/HDF5DataAug" rel="noopener ugc nofollow" target="_blank">这里</a>获得上述过程的python笔记本。</p><p id="6ebb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">好，让我们从图像目录生成HDF5文件。</p><p id="8811" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">首先定义图像目录的位置。我已经提供了较少图像的目录，但是hdf5文件创建过程非常快，即使有25K图像。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kl"><img src="../Images/2c9dd7f7eea9ec5c5e1eb9a1ecda7a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S4p-giZpXPYTmgi2n7V9Zg.png"/></div></div></figure><p id="40d9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后创建hdf5对象。HDF5支持创建数据集和组。我们现在关注数据集，注意我们在创建时提到了数据集的形状，这就是HDF5的工作方式。另外，请注意，您正在创建模式为“写入”的HDF5。有关HDF5的详细信息，请参考参考部分的链接。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es km"><img src="../Images/7d2358c0570c6f797bfa2db680a16239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PyuWcamHGGNglszLlmRNPQ.png"/></div></div></figure><p id="1d9f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后，您需要遍历这些图像，并将它们添加到您的HDF5数据集。完成后，关闭文件，我们就完成了HDF5文件的创建。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kn"><img src="../Images/c0275c486c169f6a92b810023e7d1a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q149Hcs87zOqDZCFiFhqWA.png"/></div></div></figure><p id="8684" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，让我们继续看看如何在我们的网络中利用数据增强来使用HDF5文件中的数据。将HDF5文件复制到您的google drive中，并将其加载到您的Colab笔记本中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ko"><img src="../Images/f2887108cb3e2f30d075585541a4343f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBBa-kUgJsk27fLg1pXh5w.png"/></div></div></figure><p id="fb75" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后从文件中的数据集中获取数据和标签。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kp"><img src="../Images/e4113142cced2cb389e098bc87a11c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9JoqLMfyjDMvmRhnd235-Q.png"/></div></div></figure><p id="264f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">创建如下的“动态”增强，并将其提供给你的网络。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kq"><img src="../Images/1f87b873fcb04781aca5b2e413f030b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9WmzCNj6CM4SqUbid6bPg.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kr"><img src="../Images/104ee03be5eee31dc371e945306eb404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjjUSxBnwTYgM73XF-OQ1A.png"/></div></div></figure><p id="d15c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这一举措将极大地加快你在Google Collab中的培训过程，并让你充分利用GPU架构。</p><p id="96a7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">快乐训练！</p><p id="91fd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">参考资料:</p><div class="ks kt ez fb ku kv"><a href="https://github.com/feiyuhuahuo/create-a-hdf5-data-set-for-deep-learning" rel="noopener  ugc nofollow" target="_blank"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hj fi z dy la ea eb lb ed ef hh bi translated">飞鱼花火/create-a-HD F5-深度学习数据集</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">使用Python库h5py和一个简单的图像分类示例创建自己的数据集。1.著名的数据集…</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">github.com</p></div></div><div class="le l"><div class="lf l lg lh li le lj jh kv"/></div></div></a></div><div class="ks kt ez fb ku kv"><a href="https://www.pyimagesearch.com/2019/07/08/keras-imagedatagenerator-and-data-augmentation/" rel="noopener  ugc nofollow" target="_blank"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hj fi z dy la ea eb lb ed ef hh bi translated">Keras图像数据生成器和数据扩充- PyImageSearch</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">在今天的教程中，您将学习如何使用Keras的ImageDataGenerator类来执行数据扩充。我也会…</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">www.pyimagesearch.com</p></div></div><div class="le l"><div class="lk l lg lh li le lj jh kv"/></div></div></a></div><div class="ks kt ez fb ku kv"><a rel="noopener follow" target="_blank" href="/@oribarel/getting-the-most-out-of-your-google-colab-2b0585f82403"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hj fi z dy la ea eb lb ed ef hh bi translated">充分利用您的Google Colab</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">背景</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">medium.com</p></div></div><div class="le l"><div class="ll l lg lh li le lj jh kv"/></div></div></a></div></div></div>    
</body>
</html>