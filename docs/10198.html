<html>
<head>
<title>Importing data from a MySQL database into Pandas data frame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将 MySQL 数据库中的数据导入 Pandas 数据框</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/importing-data-from-a-mysql-database-into-pandas-data-frame-a06e392d27d7?source=collection_archive---------0-----------------------#2020-10-09">https://medium.com/analytics-vidhya/importing-data-from-a-mysql-database-into-pandas-data-frame-a06e392d27d7?source=collection_archive---------0-----------------------#2020-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文说明了如何从表中导入数据集的基本操作。数据库取为 MySQL。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/61dee61ddcdb9dcf9dfd05ef7e6b0684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*URS4Vhidw2jcZ7r5.png"/></div></div></figure><p id="7d3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据库是数据科学的必备工具吗？</p><p id="0adf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，这是必不可少的东西。没有数据，数据分析和预测就做不起来。对！。数据可以是任何一种格式，可以在 CSV，XLS。考虑销售过去 5 年多种产品的零售组织。公司决定预测未来两年的销售额。</p><p id="6f6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我明白你在想什么？基本上，尝试将数据导出到 CSV 文件。这在熊猫数据框中很容易处理。但是事情并不是这样进行的，因为预测并不依赖于单一的表格。它取决于多个表，如交易、销售、客户评论、5 年产品收入，这些都需要查看以确定预测。最佳方法是将表直接导入到数据框中。这将更容易从各个角度分析数据。</p><p id="f623" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用 pandas 连接 MySQL，需要按照下面的命令安装包' mysql-connector-python'。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="477b" class="ju jv hi jq b fi jw jx l jy jz"><strong class="jq hj">pip</strong> install mysql-connector-python</span></pre><p id="38eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于<a class="ae ka" href="https://pypi.org/project/mysql-connector-python/" rel="noopener ugc nofollow" target="_blank">参考</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/cade5baadddbea60426bf385ee502692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OikAEmRQ84GxUAe-.png"/></div></div></figure><p id="c992" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">软件包安装控制台</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="6855" class="ju jv hi jq b fi jw jx l jy jz"><strong class="jq hj">import</strong> mysql.connector <strong class="jq hj">as</strong> connection<br/><strong class="jq hj">import</strong> pandas <strong class="jq hj">as</strong> pd</span><span id="fe38" class="ju jv hi jq b fi kc jx l jy jz"><strong class="jq hj">try</strong>:<br/>    mydb = connection.connect(host="localhost", database = 'Student',user="root", passwd="root",use_pure=True)<br/>    query = "Select * from studentdetails;"<br/>    result_dataFrame = pd.read_sql(query,mydb)<br/>    mydb.close() #close the connection</span><span id="2c1c" class="ju jv hi jq b fi kc jx l jy jz"><strong class="jq hj">except</strong> Exception <strong class="jq hj">as</strong> e:<br/>    mydb.close()<br/>    print(str(e))</span></pre><p id="440d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> mysql.connector </strong>使用 python 提供所有的数据库操作。让我们更深入地了解代码逻辑实现。</p><p id="4e3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kd"> connection.connect(主机，数据库，用户，密码，use_pure) </em> </strong></p><p id="3b28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主机—提供 MySQL 服务器的主机名。通常，如果我们在本地安装我们的机器，那么它被称为“本地主机”。像云/专用第三方服务器这样的情况在那里提供 IP 地址。</p><p id="2f90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">database-提供要操作的数据库的名称。</p><p id="e667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用户名和密码——访问数据库的凭证。通常，所有数据库都设置了凭证，以确保安全访问。</p><p id="222a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">use _ pure 符号化 Python 实现</p><p id="481a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kd"> pandas.read_sql(sql，con) </em> </strong></p><p id="9d6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将 SQL 查询或数据库表读入数据帧。</p><p id="3831" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">sql-要执行的 SQL 查询或表名。</p><p id="f736" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">con——使用 SQLAlchemy 可以使用该库支持的任何数据库。如果是 DBAPI2 对象，则仅支持 sqlite3。用户负责 SQLAlchemy connectable 的发动机处理和连接关闭。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="6e95" class="ju jv hi jq b fi jw jx l jy jz">result_dataFrame = pd.read_sql(query, mydb)</span></pre><p id="2cb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据框参考保存 SQL 查询的结果。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="d9f5" class="ju jv hi jq b fi jw jx l jy jz"><strong class="jq hj">result_dataFrame</strong>.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ke"><img src="../Images/12e0bbdfb501741346ffd71b68877dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/0*K-AgCe6k-PPO2H2M.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">学生表的数据框</figcaption></figure><p id="99b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将数据集导出到 CSV </strong></p><p id="089f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也将表格数据导出为 CSV 格式</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="197f" class="ju jv hi jq b fi jw jx l jy jz"><strong class="jq hj">result_dataFrame</strong>.to_csv('<strong class="jq hj">Test</strong>.csv')</span></pre><p id="ef39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行该命令后，生成如下 CSV 文件，</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kj"><img src="../Images/76acb5302061b8a42e4491f2ceca48d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GeqyvWubqm2AsDLh.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">导出到 csv 文件</figcaption></figure><p id="91d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将帮助您基本了解如何使用 Pandas 将表导入到数据框中。</p><p id="ebd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码:)</p></div></div>    
</body>
</html>