# 利用机器学习检测虚假政治推文

> 原文：<https://medium.com/analytics-vidhya/detecting-fake-political-tweets-with-machine-learning-d5d95ff6430?source=collection_archive---------10----------------------->

![](img/3705b8dab1951791d7e58e93576c998a.png)

康·卡拉姆佩拉斯在 [Unsplash](https://unsplash.com/search/photos/twitter?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

在所有关于俄罗斯在 2016 年美国大选中勾结和阻挠的谈论中，选举中被忽视的一个方面是俄罗斯如何试图利用社交媒体影响这次选举。俄罗斯这样做的一种方式是通过“巨魔工厂”，在 Twitter 上发布煽动性的推文，以分化美国国内的公众情绪。

当我看到 [FiveThirtyEight 写了关于](https://fivethirtyeight.com/features/why-were-sharing-3-million-russian-troll-tweets/)和[汇编了一个数据集](https://www.kaggle.com/fivethirtyeight/russian-troll-tweets)这些虚假的俄罗斯推文时，我很好奇去探究这些。正如你将在单词云中看到的，这些推文的一些特征似乎让人想起了特朗普的推文。因此，我决定比较这两者！对于这个项目，我使用了[这个 200，000 troll 俄罗斯推文数据集](https://www.kaggle.com/vikasg/russian-troll-tweets)和[这个特朗普在 2015 年年中和 2016 年选举日之间的推文数据集](https://www.kaggle.com/kingburrito666/better-donald-trump-tweets)，这两个数据集都来自 Kaggle。​

为了比较特朗普和俄罗斯的推文，我希望回答以下问题:

*   特朗普和俄罗斯的推文是关于什么的？他们最常用什么词？
*   在整个选举周期中，双方的情绪如何变化？
*   哪些词最“特朗普化”，哪些词最不“特朗普化”？
*   我们能有多可靠地区分一条特朗普的推文和一条虚假的俄罗斯推文？

## 清理数据

我们的第一项任务是清理数据，以获得有意义的文本进行分析。对于每个数据集，我首先选择与分析相关的列，即发推的日期、标签、发推的时间和推文文本。

从那里，我注意到 tweet 文本中需要清理的两个关键元素:俄语 tweet 中出现的损坏或非英语字符，以及链接。我认为链接中的文本与这个分析没有密切关系，所以我删除了两个“https://...”和“t.co/…”网址。​

从这里，我开始特征提取——将时间戳转换成有意义的日期，并提取情感和推文长度。​

然后，我使用 syuzhet 包获得每条推文情感的数字“分数”,并使用 stringr 获得每条推文的长度。这些列中的每一列都被附加到数据集上，然后这两个数据集被合并以创建我们可以分析的数据框架。

## 这些推文都在说什么？

那么这些推文到底在说什么呢？

正如你将看到的，从表面上看，两者中使用的单词非常相似。事实上，你能分辨出哪个是哪个吗？

滚动寻找答案！

![](img/5d2435c73b940d9f1f3b5a62c016d2b5.png)![](img/bb9b04a594680dead21fdb73db5998fb.png)

仔细一看才发现，第一个 wordcloud 是川普的。

然而，我们在他们谈论的话题中发现了一些共性。例如，除了对特朗普的明显关注，我们还看到“希拉里”在他们两人中占据显著位置。然而，我们看到川普的关注点往往更广泛，谈论的话题包括新闻(福克斯新闻频道和 CNN)、民调以及他标志性的“让美国再次伟大”的竞选口号。相反，在俄罗斯的词云上，我们注意到奥巴马比特朗普的词云更受重视。有趣的是，俄罗斯的版本似乎也更强调种族，像“黑人”和“白人”这样的词都出现在里面，而不是特朗普的版本。

## 推文感悟

有了我们获得的情绪分数，我们现在绘制出特朗普和俄罗斯推特几个月来的分数。

![](img/ee9193010df62bbd2117bde176b53d53.png)

不出所料，正如 wordclouds 中提到的那样，俄罗斯的推文往往比特朗普的负面得多。事实上，尽管特朗普的几乎所有月份都有净正面情绪得分，但只有少数几个月的俄罗斯推文是净正面的。

我在这个数字中发现有趣的是，特朗普的情绪在 2016 年 4 月左右的飙升与俄罗斯在 2016 年 5 月的飙升大致一致，以及它们在随后的几个月中如何急剧下降。虽然很难找出这些飙升的确切原因，但 2016 年 4 月，特朗普在共和党初选中大幅领先。或许，他在初选中的成功和最终被确认为候选人，促成了人气的飙升。类似地，伯尼·桑德斯 7 月支持希拉里以及民主党全国代表大会等事件也可能导致川普的语气明显更加强硬。

## 标签会影响推文内容吗？

这个数据集的一个有趣的方面是 hashtags 的使用。特朗普推特上最有特色的部分之一是丰富的# MakeAmericaGreatAgain 标签。我很好奇俄罗斯的推文是如何使用标签的，标签的出现是否会影响推文的内容。下图显示了标签的使用是如何随着时间而变化的。

![](img/21c64f9e4dde7f982041d10c5dfa44a6.png)

虽然特朗普的标签更具标志性，但似乎俄罗斯推特几乎每个月都使用更多的标签！特朗普对标签的使用在 2016 年 5 月从推文的 40%下降到略高于 20%，而俄罗斯对标签的使用在所有推文的 40%至 60%之间波动。那么，标签的存在会影响推文的内容吗？

![](img/82c5b212386d479908389ff33acab0ba.png)

上图显示了情绪是如何根据推特和标签的存在而变化的。根据图表，在大多数情况下，带有标签的俄罗斯推文的月与月之间的情绪没有实质性的差异。然而，引人注目的是，特朗普的情况并非如此！特朗普带有标签的推文压倒性地积极，平均情绪得分约为 0.5。然而，如果没有标签，它们会持续走低，甚至在一个月内低于俄罗斯推文的情绪！

至于为什么会这样，一个可能的解释是特朗普的#MAGA 推文包含了对未来的乐观和希望，导致了积极的情绪得分。

## 我们如何区分特朗普的推文和假推文？

在探索了情绪、长度和标签等推文的特征后，我们现在到达了核心问题，我们如何区分特朗普的推文和虚假的俄罗斯推文，以及我们使用文本分析能有多可靠？​

为了做到这一点，我们首先将我们的推文分成测试和训练数据集。

*   我创建了一个分类器来标记一条推文是特朗普的还是非特朗普的，然后
*   我建立了一个文档术语矩阵，记录了推文中每个词的出现频率。
*   在这里，我使用了一个套索模型来选择预测一条推文是否是特朗普的最重要的术语。
*   有了这些变量，我创建了一个逻辑回归模型，对一条推文是否是特朗普的进行了概率估计。

从这个模型中，我们可以得出结论，一个高度积极的系数意味着一个词非常“特朗普化”，或者是特朗普特有的，一个非常消极的词非常“非特朗普化”，或者是非特朗普的推文特有的。这是因为一个高度积极的词的出现会增加一个词被归类为特朗普的概率。​

那么，哪些词最“特朗普式”呢？下面是最“特朗普式”和“非特朗普式”的词汇云。

![](img/8881a1e521344c6df6229fe7b65c8b74.png)

这些话是最“特朗普式”的

![](img/7ffbee0f1531eacd87ac488bf127c31a.png)

…这些词是虚假俄罗斯推文的最佳指示器

上面的数字分别显示了哪些单词是特朗普式的，哪些是特朗普式的。不出所料，我们看到，我们通常与特朗普的话语联系在一起的积极、宏伟的词语，如“伟大”和“大”，似乎是衡量一条推文是否出自特朗普的最佳指标。他似乎也更关注投票，而这一点在很大程度上被俄罗斯巨魔忽略了。

转到非特朗普式的词语，我们看到#tcot 这个术语跳了出来。一点谷歌告诉我们，这是“Twitter 上的顶级保守派”的缩写，这是保守派 Twitter 用户识别自己的一种方式。更能说明问题的是，“黑”字也很突出。根据 FiveThirtyEight 关于这些推文的文章，这些推文很多都是假的黑人的命也是命帖子，旨在挑起争议，促进种族分裂。因此，这一特点如此突出是有道理的。

## 这个模型能多好地识别虚假推文？

很简单，真的很好！

为了衡量这个模型的效果，我们将它应用于我们的测试数据集。我们有大约 15%的错误分类率，这表明该模型在 85%的时间里对一条推文进行了正确分类。为了更稳健地衡量我们的模型的有效性，我们使用了 ROC 曲线，它衡量了模型的假阳性率和真阴性率。我们使用测试数据的 ROC 曲线如下所示。

![](img/9c1f7e20d2b2fc1515e9ef7c418205a2.png)

我们的模型给出了 0.855 的曲线下面积，或 AUC，这远远好于 0.50 的基线。总的来说，这告诉我们，这个模型在预测一条推文是否是特朗普的方面非常有效。

## 结论

这个项目探索了围绕 troll 俄罗斯推文的一系列主题，以及它们与特朗普总统在大选前一年的推文相比有何不同。以下是我的发现:

*   俄罗斯推文的数量超过了特朗普的多倍，俄罗斯推文的数量在 2016 年选举日之前激增
*   特朗普的推文比俄罗斯的更积极，情绪也有类似的波峰和波谷
*   特朗普的推文比俄罗斯的长，但随着选举日的临近，变短了。俄罗斯的推特变长了。
*   标签对特朗普很重要！尽管不管有没有标签，俄罗斯推文的情绪变化都不大，但有标签的特朗普推文要积极得多
*   使用套索和逻辑回归，我们可以可靠地将特朗普的推文与一条虚假的俄罗斯推文区分开来
*   一些最“特朗普化”的词是“伟大”、“巨大”和“非常”，而最不特朗普化的词是#tcot，代表 Twitter 上的顶级保守派，这是保守派使用的一个常见标签。
*   我们的模型能够以 85%的准确率成功地对特朗普的推文进行分类，并在测试数据的 ROC 曲线下具有 0.855 的 AUC。

*此处原创发布:*[*【https://arjungovind55.wixsite.com/trolltweetsandtrump】*](https://arjungovind55.wixsite.com/trolltweetsandtrump)