<html>
<head>
<title>Best Practice for using Poetry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用诗歌的最佳实践</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/best-practice-for-using-poetry-608ab6feaaf?source=collection_archive---------2-----------------------#2020-08-21">https://medium.com/analytics-vidhya/best-practice-for-using-poetry-608ab6feaaf?source=collection_archive---------2-----------------------#2020-08-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f5cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于 python 库开发，强烈推荐使用<code class="du jd je jf jg b"><a class="ae jh" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">poetry</a></code>,因为它为依赖性管理、构建和分发提供了一站式解决方案</p><p id="88da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近迷上了它，真的希望它能成为默认的 python 打包和依赖管理系统。</p><p id="f8dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于基本的诗歌设置，请参考<a class="ae jh" href="https://poetry.eustace.io/docs/pyproject/" rel="noopener ugc nofollow" target="_blank">诗歌文档</a>。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="8491" class="jq jr hi jg b fi js jt l ju jv">curl -sSL https://raw.githubusercontent.com/sdispater/poetry/master/get-poetry.py | python</span></pre><p id="a58b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我想谈谈我是如何解决诗歌的一些问题的。</p><h1 id="b27e" class="jw jr hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">兼容其他传统项目。</h1><h2 id="7f2c" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">可编辑模式</h2><p id="4c99" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">很多人问的一个问题是如何在 pip 中保持可编辑模式:</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="306a" class="jq jr hi jg b fi js jt l ju jv">pip install -e /path/to/your/project</span></pre><p id="ac24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，您的代码更改将立即反映出来，而无需重新打包。</p><p id="2b22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jh" href="https://github.com/python-poetry/poetry/issues/34#issuecomment-378673938" rel="noopener ugc nofollow" target="_blank">这个问题</a>说明没有原生支持这样做。</p><p id="db39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据响应，我使用下面的语句来生成设置:</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="050f" class="jq jr hi jg b fi js jt l ju jv">export ARTIFACT=$(poetry version | sed "s/ /-/g") &amp;&amp; tar xvOf "dist/$ARTIFACT.tar.gz" "$ARTIFACT/setup.py" &gt; setup.py</span></pre><p id="e006" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，你可以在其他任何地方做同样的<code class="du jd je jf jg b">pip install -e /path/to/your/project</code>。但是请记住，如果您对 pyproject.toml/poetry.lock,做了任何更改，您需要再次重新生成 setup.py。这包括依赖项、入口点等。</p><p id="8688" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，如果你是在诗歌项目本身开发，就不需要这个。<code class="du jd je jf jg b">poetry install</code>已经为你但当前项目处于可编辑模式。</p><h2 id="04c7" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">要求</h2><p id="8b83" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">同样，有时无论出于什么原因，人们都需要使用 requirements.txt。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="d1b4" class="jq jr hi jg b fi js jt l ju jv">poetry export --without-hashes -f requirements.txt -o requirements.txt</span></pre><p id="bdf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了 hashes，它是确定性的，所以如果你的库做了一些讨厌的事情，你不会有问题，它几乎就像你的 poetry.lock。但是它的可读性较差。</p><h1 id="8927" class="jw jr hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用 direnv 管理 VirtualEnv</h1><p id="2562" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">我一直在强调为你的每一个项目设立单独的<code class="du jd je jf jg b">virtualenv</code>的重要性。有了诗，那是轻而易举的事。诗歌安装将总是安装一个新的<code class="du jd je jf jg b">virtualenv</code>，除非你定义</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="f6fd" class="jq jr hi jg b fi js jt l ju jv">poetry config virtualenvs.create false</span></pre><p id="f6a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这在 docker 设置中非常有用</p><p id="d7ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是您如何确保每次在目录中使用正确的<code class="du jd je jf jg b">virtualenv</code>？诗已提供<code class="du jd je jf jg b">poetry shell</code>。但是如果你忘记使用它了呢？如果你觉得每次都打出来太麻烦了怎么办？为此我强烈推荐<code class="du jd je jf jg b"><a class="ae jh" href="https://direnv.net/" rel="noopener ugc nofollow" target="_blank">direnv</a></code>。</p><p id="0725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于<code class="du jd je jf jg b">direnv</code>我不打算一一赘述，请自行查看链接。</p><p id="dd5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是怎么用在诗词上呢？我正在跟随<a class="ae jh" href="https://github.com/direnv/direnv/wiki/Python#poetry" rel="noopener ugc nofollow" target="_blank">这个链接</a>并添加我自己的快捷方式来创建一个新的诗歌项目。</p><h2 id="d537" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">自定义<code class="du jd je jf jg b">direnv</code>命令</h2><p id="3cbd" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">首先，您需要将以下内容添加到<code class="du jd je jf jg b">$HOME/.direnvrc</code>中。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="7242" class="jq jr hi jg b fi js jt l ju jv">layout_poetry() {<br/>  if [[ ! -f pyproject.toml ]]; then<br/>    log_status 'No pyproject.toml found. Will initialize poetry in no-interactive mode'<br/>    poetry init -n -q<br/>    poetry run pip install -U pip wheel setuptools<br/>  fi</span><span id="87b9" class="jq jr hi jg b fi ll jt l ju jv">  poetry run echo &gt;&gt; /dev/null<br/>  local VENV=$(dirname $(poetry run which python))<br/>  export VIRTUAL_ENV=$(echo "$VENV" | rev | cut -d'/' -f2- | rev)<br/>  export POETRY_ACTIVE=1<br/>  PATH_add "$VENV"<br/>  if [ ! -L .venv ]; then<br/>    ln -ns $VIRTUAL_ENV .venv<br/>  fi<br/>}</span></pre><p id="3e4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，我总是确保<code class="du jd je jf jg b">wheel</code>在适当的位置，并且<code class="du jd je jf jg b">pip</code>是最新的。对于一些 IDE 来说，符号链接“<code class="du jd je jf jg b">.venv</code>”使得设置你的环境变得容易。</p><h2 id="f521" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">快速将文件夹变成诗歌的捷径</h2><p id="4d8f" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">其次，将下面的脚本放在路径中的某个位置，并使其可执行。对我来说是<code class="du jd je jf jg b">~/.local/bin/poetry-here</code>。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="5fe9" class="jq jr hi jg b fi js jt l ju jv">#!/usr/bin/env bash<br/>echo "layout poetry" &gt;.envrc<br/>direnv allow .<br/>direnv exec . echo</span></pre><p id="0ae7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后运行<code class="du jd je jf jg b">poetry-here</code>到任何你想设置诗歌的地方。即使你还没有<a class="ae jh" href="https://poetry.eustace.io/docs/basic-usage/" rel="noopener ugc nofollow" target="_blank">用诗歌建立一个新的项目</a>。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="d40c" class="jq jr hi jg b fi js jt l ju jv">&gt; poetry-env<br/>direnv: loading ~/repos/test/.envrc<br/>direnv: No pyproject.toml found.  Will initialize poetry in no-interactive mode<br/>Looking in indexes: <a class="ae jh" href="https://pypi.org/simple" rel="noopener ugc nofollow" target="_blank">https://pypi.org/simple</a><br/>direnv: ([direnv export fish]) is taking a while to execute. Use CTRL-C to give up.<br/>Requirement already up-to-date: pip in /Users/leonmax/Library/Caches/pypoetry/virtualenvs/test-3nDJeJY5-py3.8/lib/python3.8/site-packages (20.2.2)<br/>Requirement already up-to-date: wheel in /Users/leonmax/Library/Caches/pypoetry/virtualenvs/test-3nDJeJY5-py3.8/lib/python3.8/site-packages (0.35.1)<br/>Requirement already up-to-date: setuptools in /Users/leonmax/Library/Caches/pypoetry/virtualenvs/test-3nDJeJY5-py3.8/lib/python3.8/site-packages (49.6.0)<br/>Requirement already up-to-date: keyring in /Users/leonmax/Library/Caches/pypoetry/virtualenvs/test-3nDJeJY5-py3.8/lib/python3.8/site-packages (21.3.0)<br/>direnv: export +POETRY_ACTIVE +VIRTUAL_ENV ~PATH</span></pre><p id="0c67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从现在开始，无论你什么时候进入这个目录，你都要使用<code class="du jd je jf jg b">virtualvenv</code>。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="b30c" class="jq jr hi jg b fi js jt l ju jv">&gt; cd ~/repos/test<br/>direnv: loading ~/repos/test/.envrc<br/>cdirenv: export +POETRY_ACTIVE +VIRTUAL_ENV ~PATH</span></pre><h1 id="118a" class="jw jr hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">和你的私人 PyPI 一起使用</h1><p id="f00d" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">下面我将以 artifactory 版本的 PyPI 为例指导你使用。</p><h2 id="bd66" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">先决条件</h2><p id="8b74" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">升级<code class="du jd je jf jg b">pip ≥ 20.0.0</code>现在需要安装大部分软件包，强烈推荐升级你的<code class="du jd je jf jg b">wheel</code>和<code class="du jd je jf jg b">setuptools</code>，正如我在<code class="du jd je jf jg b">direnv</code>部分提到的。到今天为止，最新的 pip 版本是<code class="du jd je jf jg b">20.2.2.</code></p><h2 id="9e2e" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">安装软件包</h2><p id="eb59" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">将下面几行添加到您的<code class="du jd je jf jg b">pyproject.toml</code>文件中，以访问 artifactory private <code class="du jd je jf jg b">PyPI</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="b876" class="jq jr hi jg b fi js jt l ju jv">[[tool.poetry.source]]<br/>name = 'myrepo'<br/>url = '<a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi/simple'" rel="noopener ugc nofollow" target="_blank">https://MY_PRIVATE_PYPI_SERVER/</a><a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi-local" rel="noopener ugc nofollow" target="_blank">artifactory/api/pypi/pypi</a>/<a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi/simple'" rel="noopener ugc nofollow" target="_blank">simple'</a></span></pre><p id="499f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另外，不要忘记添加您的凭证:</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="1438" class="jq jr hi jg b fi js jt l ju jv">poetry config http-basic.myrepo &lt;ARTIFACTORY_USERNAME&gt; &lt;ARTIFACTORY_API_KEYS&gt;</span></pre><p id="0fda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个完整的例子</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="06fc" class="jq jr hi jg b fi js jt l ju jv">[tool.poetry]<br/>name = "my-project"<br/>version = "0.1.0"<br/>description = ""<br/>authors = ["Your Name &lt;youremail&gt;"]</span><span id="ab7c" class="jq jr hi jg b fi ll jt l ju jv">[tool.poetry.dependencies]<br/>python = "^3.6"<br/>pyyaml = "^5.1"<br/>click = "^7.1.2"</span><span id="bf65" class="jq jr hi jg b fi ll jt l ju jv">[tool.poetry.dev-dependencies]<br/>pytest = "^5.4.3"<br/>pytest-cov = "^2.10.0"<br/>mock = "^4.0.2"</span><span id="31cf" class="jq jr hi jg b fi ll jt l ju jv">[[tool.poetry.source]]<br/>name = 'myrepo'<br/>url = '<a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi/simple'" rel="noopener ugc nofollow" target="_blank">https://MY_PRIVATE_PYPI_SERVER/</a><a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi-local" rel="noopener ugc nofollow" target="_blank">artifactory/api/pypi/pypi</a>/<a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi/simple'" rel="noopener ugc nofollow" target="_blank">simple'</a></span><span id="e7f7" class="jq jr hi jg b fi ll jt l ju jv">[build-system]<br/>requires = ["poetry&gt;=0.12"]<br/>build-backend = "poetry.masonry.api"</span></pre><p id="7153" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，你可以做你典型的<code class="du jd je jf jg b">poetry install</code></p><h2 id="2899" class="jq jr hi bd jx kt ku kv kb kw kx ky kf iq kz la kj iu lb lc kn iy ld le kr lf bi translated">上传包</h2><p id="2179" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">对于第三方包(在<a class="ae jh" href="http://pypi.org/" rel="noopener ugc nofollow" target="_blank">pypi.org</a>中不可用)，您也可以使用<code class="du jd je jf jg b">poetry</code>上传到 artifactory。</p><p id="b36a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，您需要像下面这样添加存储库配置。注意它与源代码的<code class="du jd je jf jg b">index-ur</code>不同，存储库 URL 不应该在末尾包含<strong class="ih hj"> /simple </strong>。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="44a8" class="jq jr hi jg b fi js jt l ju jv">poetry config repositories.myrepo <a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi-local" rel="noopener ugc nofollow" target="_blank">https://</a><a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi/simple'" rel="noopener ugc nofollow" target="_blank">MY_PRIVATE_PYPI_SERVER</a><a class="ae jh" href="https://artifact.rd.inceptioglobal.ai/artifactory/api/pypi/pypi-local" rel="noopener ugc nofollow" target="_blank">/artifactory/api/pypi/pypi-local</a></span></pre><p id="e791" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">凭证部分与安装包相同，因此您可以跳过。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="7738" class="jq jr hi jg b fi js jt l ju jv">poetry config http-basic.myrepo &lt;ARTIFACTORY_USERNAME&gt; &lt;ARTIFACTORY_API_KEYS&gt;</span></pre><p id="8ae9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在您的回购中，只需发布:</p><p id="948c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">poetry publish -r myrepo</code></p><h1 id="57be" class="jw jr hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">在 Gitlab 的 CI/CD 中发布</h1><p id="c52a" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">下面我有一个 gitlab 中 CI/CD 的例子</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="f88f" class="jq jr hi jg b fi js jt l ju jv">image: python:3.6-slim</span><span id="2315" class="jq jr hi jg b fi ll jt l ju jv">.test:<br/>  stage: test<br/>  before_script:<br/>    - pip install poetry<br/>    - poetry config virtualenvs.create false<br/>    - poetry install --no-interaction --no-ansi<br/>  script:<br/>    - pytest tests</span><span id="92b8" class="jq jr hi jg b fi ll jt l ju jv">.3.6-slim: { extends: .test, image: 'python:3.6-slim' }<br/>.3.7-slim: { extends: .test, image: 'python:3.7-slim' }</span><span id="8c01" class="jq jr hi jg b fi ll jt l ju jv">.publish-pypi:<br/>  stage: deploy<br/>  script:<br/>    - pip install poetry<br/>    - poetry config virtualenvs.create false<br/>    - export PRERELEASE=$(poetry version prerelease | sed -r "s/^.*to (.*)\.[0-9]+\$/\1/g")<br/>    - export VERSION=${CI_COMMIT_TAG:-"$PRERELEASE.`date +%y%m%d%H%M%S`"} &amp;&amp; echo $VERSION<br/>    - poetry version $VERSION<br/>    - poetry config repositories.<!-- -->myrepo<!-- --> $PYPI_REPOSITORY<br/>    - poetry build -f wheel<br/>    - poetry publish -n -r <!-- -->myrepo<!-- --> -u $PYPI_USER -p $PYPI_PASSWORD</span><span id="3525" class="jq jr hi jg b fi ll jt l ju jv">publish-pypi:<br/>  environment:<br/>    name: release<br/>  extends:<br/>    - .publish-pypi<br/>  only:<br/>    - tags</span><span id="1d24" class="jq jr hi jg b fi ll jt l ju jv">publish-pypi-prerelease:<br/>  environment:<br/>    name: prerelease<br/>  extends:<br/>    - .publish-pypi<br/>  only:<br/>    - master</span></pre><p id="f0da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我有两个环境，<code class="du jd je jf jg b">release</code>和<code class="du jd je jf jg b">prerelease</code>，这两个环境的<code class="du jd je jf jg b">$PYPI_REPOSITORY</code>、<code class="du jd je jf jg b">$PYPI_USER</code>和<code class="du jd je jf jg b">$PYPI_PASSWORD</code>变量是不同的。</p><p id="d060" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，我们有两个不同的 python 版本要测试，所以您的<code class="du jd je jf jg b">python = "^3.6"</code>真正适用于 3.6 以后的所有版本</p><p id="c432" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您标记了您的版本，<code class="du jd je jf jg b">$CI_COMMIT_TAG</code>将出现，否则，预发行版将在最后给出一个日期。</p><p id="7f95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天到此为止。如果你有任何想法，请让我知道。快乐的诗！</p></div></div>    
</body>
</html>