<html>
<head>
<title>Testing patches- A quick and easy way to contribute to our community ‘ The Drupal community</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试补丁——为我们的社区“Drupal社区”做贡献的一种快速简单的方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/testing-patches-a-quick-and-easy-way-to-contribute-to-our-community-the-drupal-community-eb939f968289?source=collection_archive---------26-----------------------#2020-04-08">https://medium.com/analytics-vidhya/testing-patches-a-quick-and-easy-way-to-contribute-to-our-community-the-drupal-community-eb939f968289?source=collection_archive---------26-----------------------#2020-04-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="2e28" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">简介；</h1><p id="4c58" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在本教程中，我们将看看如何测试由Drupal社区的其他成员提交给<a class="ae kb" href="https://www.drupal.org/project/issues/drupal" rel="noopener ugc nofollow" target="_blank">发布队列</a>的补丁。</p><p id="d5ab" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在进入主题的核心之前，让我们快速了解一下补丁到底是什么</p><p id="e998" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kh">什么是补丁？</em></p><p id="3488" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">简而言之，一个补丁就是一个由<em class="kh">添加</em>、<em class="kh">删除</em>或<em class="kh">修改</em>组成的文件，这些修改或者被带到<strong class="jf hj"> Drupal核心</strong>或者各种<strong class="jf hj">贡献的模块/主题</strong>。</p><p id="1567" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">既然你们已经基本了解了补丁是什么，让我们跳到测试问题队列中提交的补丁所涉及的步骤。</p><h1 id="3635" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">台阶；</h1><p id="6a75" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">所有步骤的详细说明可以从<a class="ae kb" href="http://drupalladder.org/lesson/93887717-c398-2434-394c-cf10851b4f1c" rel="noopener ugc nofollow" target="_blank">这里</a>获得。在这篇博文中，我将只解释每个必要步骤的要点，并附上截图，以帮助你轻松掌握整个概念。</p><blockquote class="ki kj kk"><p id="9dea" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">第一步；为Drupal阶梯安装沙箱</em> </strong></p></blockquote><p id="89ee" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">尽管我已经安装了沙盒很长时间了，我还是要简单地介绍一下安装它的步骤。</p><p id="c3dd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">首先，进入终端(我在ubuntu上),通过运行以下命令在本地web服务器(var/www/html)的根目录下克隆Drupal ladder的沙箱</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="dc99" class="kx ig hi kt b fi ky kz l la lb">git clone --branch 8.x https://git.drupal.org/sandbox/bhirsch/1388780.git drupal_8_sandbox_for_drupal_ladder</span></pre><p id="fdd2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">克隆完成后，您可以通过在浏览器上托管来继续安装。一旦进入安装页面，你将被提示语言设置、<strong class="jf hj">数据库基本配置</strong>等</p><p id="2ad8" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">页（page的缩写）s；一定要记得为你的沙箱创建一个数据库。否则它不会工作。</p><p id="e3cb" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这是我的网络服务器根目录下Drupal梯形文件夹的<em class="kh">沙箱的截图</em></p><figure class="ko kp kq kr fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lc"><img src="../Images/e6de1921cab2392f93bd319ad4678833.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y9YoTuG9qqgSob1o_n8UFQ.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">Drupal 8 sandbox for Drupal ladder在var/www/html下载</figcaption></figure><p id="aba1" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一旦沙盒安装完毕，您就可以进入下一步了</p><blockquote class="ki kj kk"><p id="3d92" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">步骤2’命令使git更加易读</em> </strong></p></blockquote><p id="d6d7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我想明确指出，这一步是可选的，只应执行一次，因为选项将保存在您的。gitconfig文件。</p><p id="effd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在终端上运行的命令如下</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="e1e3" class="kx ig hi kt b fi ky kz l la lb">git config --global color.status auto <br/>git config --global color.branch auto <br/>git config --global color.interactive auto <br/>git config --global color.diff auto</span></pre><p id="7088" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">下面是一张截图</p><figure class="ko kp kq kr fd ld er es paragraph-image"><div class="er es lo"><img src="../Images/a436c1ddba1964cc915bac1998adb816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*xt_S18rn8_pu3KGe9_1JOQ.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">在终端上运行命令</figcaption></figure><blockquote class="ki kj kk"><p id="2080" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">第3步“在本地安装的沙盒上找到问题</em> </strong></p></blockquote><p id="f37d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在下载基本上是修复问题的补丁之前，必须确保我们能够重现最初的<a class="ae kb" href="http://drupalladder.org/lesson/93887717-c398-2434-394c-cf10851b4f1c" rel="noopener ugc nofollow" target="_blank">课</a>中给出的问题。默认情况下，<a class="ae kb" href="http://git config --global color.status auto  git config --global color.branch auto  git config --global color.interactive auto  git config --global color.diff auto" rel="noopener ugc nofollow" target="_blank">问题</a>已经包含在沙箱中</p><p id="0814" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">要检查这个问题，请访问您的Drupal沙盒</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="788f" class="kx ig hi kt b fi ky kz l la lb">localhost/name of your sandbox</span></pre><p id="80e4" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">从那里点击(1) <strong class="jf hj">添加内容</strong> (2) <strong class="jf hj">添加文章</strong> (3) <strong class="jf hj"> URL路径设置</strong>，并确保您看到我在下面的截图中用红色圈出的内容。</p><figure class="ko kp kq kr fd ld er es paragraph-image"><div class="er es lp"><img src="../Images/83faa1983e568c11a532c64a68aeba9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*RKDMlwIrR65bYbZ_666NkQ.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">找到错误</figcaption></figure><p id="817d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">如你所见，我们在drupalsandbox中，我找到的问题在上面用红色圈出</p><p id="b713" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们将要测试的补丁已经被设计成将特定的测试改变成更容易理解的东西。</p><blockquote class="ki kj kk"><p id="a31d" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">步骤4‘下载补丁</em> </strong></p></blockquote><p id="34ce" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">根据本课，要求下载注释2中的<a class="ae kb" href="https://www.drupal.org/node/1388832#comment-5948668" rel="noopener ugc nofollow" target="_blank">补丁。</a></p><p id="047a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这里是补丁本身的截图</p><figure class="ko kp kq kr fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lq"><img src="../Images/29bd3863c2d8aba70884e5a17b4b2930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FvabULMTptW9aLUV7WKVQQ.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">注释2中的补丁</figcaption></figure><p id="7849" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">下载它并将其放在本地web服务器的根目录下</p><p id="64d1" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">完成后，按照步骤5中的说明继续应用补丁。</p><blockquote class="ki kj kk"><p id="cb58" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">第五步‘应用补丁</em> </strong></p></blockquote><p id="2ecd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一旦下载，我们必须应用补丁，看看它是否工作，并执行所需的任务，即改变上面用红色圈出的文本。</p><p id="cbd7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">要应用补丁，请在终端上运行</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="8568" class="kx ig hi kt b fi ky kz l la lb">git apply 1326088-rewrite-desription-for-url-alias.patch</span></pre><p id="b36f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">注；“</strong><em class="kh">1326088-rewrite-description-for-URL-alias . patch”是补丁的名称。你应该在你的系统上用这个名字保存它</em></p><p id="2400" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这是我应用补丁时的截图</p><figure class="ko kp kq kr fd ld er es paragraph-image"><div class="er es lr"><img src="../Images/76ce93f4c96302f6e011df6992ee3db8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*gExUT59oGp1MXmeq2ODPew.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">应用补丁</figcaption></figure><p id="b877" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">正如你所看到的，补丁已经应用干净。</p><blockquote class="ki kj kk"><p id="7240" class="jd je kh jf b jg kc ji jj jk kd jm jn kl ke jq jr km kf ju jv kn kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="hi">第六步‘测试补丁</em> </strong></p></blockquote><p id="438e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">最后，回到您在localhost上的沙盒项目。</p><p id="ca65" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">从那里点击(1) <strong class="jf hj">添加内容</strong> (2) <strong class="jf hj">添加文章</strong> (3) <strong class="jf hj"> URL路径设置。</strong></p><p id="42ac" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">检查文本是否已更改为修补程序中指定的文本</p><p id="a6e7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">下面是截图。(变化用绿色圈出)</p><figure class="ko kp kq kr fd ld er es paragraph-image"><div class="er es ls"><img src="../Images/debffee99efc57933a5b5607178cf742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*Hc1dGY6qsD8bMJwUQ1sSqQ.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">文本已更改</figcaption></figure><p id="377f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">如您所见，文本已经更改，这意味着补丁已经成功应用。变化用绿色圈出(将它与上面用红色圈出的变化进行比较，以查看不同之处。</p><p id="a120" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">如果您想在完成测试后撤销应用的更改，只需在终端上运行</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="dc62" class="kx ig hi kt b fi ky kz l la lb">git reset --hard</span></pre><p id="da72" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">就是这样…就像测试补丁一样简单。如果这是一个真正的问题，您将不得不在该特定项目的<strong class="jf hj">问题页面</strong>上报告该补丁已正确应用。如果失败，您必须在问题页面上报告该补丁没有按预期工作。</p><h1 id="e841" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">综上所述；</h1><p id="3a30" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这是一个美好而丰富的任务，让我可以开始测试补丁</p><p id="4612" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我已经开始审查补丁的问题队列今天本身，并将继续这样做，从现在开始</p><p id="1b88" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我希望获得越来越多的知识，以便能够编写补丁来帮助Drupal社区的其他成员解决他们的问题</p><p id="01c1" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">也就是说，谢谢你的阅读，祝你旅途愉快…</p></div></div>    
</body>
</html>