<html>
<head>
<title>TIME SERIES FORECASTING AND ANALYSIS : ARIMA AND SEASONAL-ARIMA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列预测和分析:ARIMA和季节性ARIMA</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/time-series-forecasting-and-analysis-arima-and-seasonal-arima-cacaf61ae863?source=collection_archive---------3-----------------------#2020-04-04">https://medium.com/analytics-vidhya/time-series-forecasting-and-analysis-arima-and-seasonal-arima-cacaf61ae863?source=collection_archive---------3-----------------------#2020-04-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/990c36ed7183292fd5776ada8fbc799f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8f224aUuj_sZqIYx6KEymw.jpeg"/></div></div></figure><div class=""/><p id="d7f8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">时间序列</strong>不同于更传统的分类和回归预测建模问题。</p><p id="f899" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">时间</strong>性质给观察增加了秩序。这种强加的顺序意味着关于这些观察一致性的重要假设需要特别处理。</p><p id="4097" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">T4根据历史观察做出预测的能力创造了竞争优势。例如，如果一个组织有能力更好地预测一种产品的销售量，它将在优化库存水平方面处于更有利的地位。这可以增加组织现金储备的流动性，减少营运资本，并通过减少积压订单来提高客户满意度。</p><p id="90ef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在机器学习领域，有一组特定的方法和技术特别适合于根据时间预测因变量的值。在前面的文章中，我们将讨论<strong class="is hu">自回归综合移动平均线(ARIMA) </strong>。</p><p id="5822" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将按时间顺序索引(或绘制)的一系列数据点称为<strong class="is hu">时间序列</strong>。时间序列可以分解成3个部分。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es jo"><img src="../Images/66753a6d2773e54f0cf540c41bc6139d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*UMlS6KhMrtdnhQ8FJ-xZRQ.png"/></div></figure><ul class=""><li id="1967" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">趋势:</strong>向上&amp;数据在很长一段时间内随时间的向下移动(即房屋升值)</li><li id="b15f" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu">季节性:</strong>季节性差异(即夏季对冰淇淋的需求增加)</li><li id="cf68" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu">噪声:</strong>尖峰&amp;低谷随机间隔。</li></ul><h1 id="d72f" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><span class="l lf lg lh bm li lj lk ll lm di"> T </span>时间序列类型:</h1><h2 id="0705" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated"><strong class="ak">平稳时间序列:</strong></h2><ul class=""><li id="b30d" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">平稳时间序列中的观测值不依赖于时间。</li><li id="b90b" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">如果时间序列<strong class="is hu">没有趋势或季节效应</strong>，那么它们就是<strong class="is hu">平稳的</strong>。根据时间序列计算的汇总统计数据在一段时间内是一致的，比如观察值的<strong class="is hu">均值或方差。</strong></li><li id="a507" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">当一个时间序列是稳定的，它可以更容易建模。统计建模方法假设或要求时间序列是平稳的才有效。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mg"><img src="../Images/15c65ffdec8753cd1608e872295005a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*Ina2arhw59D0jMudpgc1tA.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx translated"><strong class="bd kj">平稳时间序列</strong></figcaption></figure><h2 id="6333" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">非平稳时间序列:</h2><ul class=""><li id="ebf7" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">对非平稳时间序列<strong class="is hu">的观察显示了季节效应、趋势和其他依赖于时间指数</strong>的结构。</li><li id="0bb5" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">像<strong class="is hu">均值和方差这样的汇总统计数据确实会随时间变化</strong>，提供模型可能试图捕捉的概念的漂移。</li><li id="775b" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">经典的时间序列分析和预测方法<strong class="is hu">关注的是通过识别和去除趋势以及去除季节性影响</strong>来使非平稳时间序列数据平稳。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ml"><img src="../Images/c1e9d2c9b5b16f6ecd155b51df888783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*Y-ivzKP3i9zKLaygUaFUuA.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx translated"><strong class="bd kj">非平稳时间序列</strong></figcaption></figure><p id="bb64" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在对时间序列应用任何统计模型之前，我们希望确保它是平稳的。</p><h2 id="5229" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">对于平稳的时间序列，它必须满足以下条件:</h2><ul class=""><li id="8f7f" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">序列的<strong class="is hu">表示</strong>应该<strong class="is hu">不是时间</strong>的函数。下面的红色图形是<strong class="is hu">而非稳定的</strong> <strong class="is hu">，因为平均值随时间增加</strong>。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mm"><img src="../Images/0dde98c7010d9838f3f5bf16c8e5b4b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*kk1bM3dA4AaSGG19uNtABg.png"/></div></figure><ul class=""><li id="2f3f" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">序列的<strong class="is hu">方差</strong>应该<strong class="is hu">不是时间</strong>的函数。这个性质也被称为<strong class="is hu">同质性</strong>。下面的红色图表是<strong class="is hu">不稳定的，因为数据随时间变化</strong>。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mn"><img src="../Images/5ec31a642a7a438eced14595a7dd7ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*IUZRuRt2rrnQiSYvCqOmCQ.png"/></div></figure><ul class=""><li id="e75e" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">最后，第I项和第(i+m)项的<strong class="is hu">协方差不应是时间</strong>的函数，即它只是间隙的<strong class="is hu">函数。在红色图表中，您可以注意到，随着时间的增加，传播变得更近。因此<strong class="is hu">协方差不随时间变化</strong>。</strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mo"><img src="../Images/a40649fca08bc5cc45f49980b536cbf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*FjoQc-mEwe839yFeww4g8g.png"/></div></figure><h1 id="2fb4" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">现在让我们讨论一下ARIMA模型:</h1><h2 id="465e" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">自回归模型</h2><ul class=""><li id="df58" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">自回归模型在过去的值对当前值有影响的前提下运行。AR模型通常用于分析自然、经济和其他时变过程。只要假设成立，我们就可以建立一个线性回归模型，根据前几天的值，尝试预测因变量今天的值。<strong class="is hu"> <em class="mp"> p是要取多少滞后观测值的参数。</em> </strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mq"><img src="../Images/88a72f77bb999c8b386f5feff319b037.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*UF5EPEztsYqz8GP9J0g17g.png"/></div></figure><p id="e2a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">AR模型的阶数对应于公式中包含的天数。</p><h2 id="ff33" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated"><strong class="ak">综合(一)</strong>:</h2><ul class=""><li id="0b11" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">使用原始观测值的<strong class="is hu">差值</strong>的模型(例如，从之前的时间步长中减去一个观测值)。<strong class="is hu">统计学中的</strong>差分是应用于时间序列数据的一种变换，目的是使其平稳。这使得属性不依赖于观测时间，消除了趋势性和季节性，稳定了时间序列的均值。</li><li id="2813" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">例如，一阶差分处理线性趋势，并采用转换<code class="du mr ms mt mu b">zi = yi — yi-1</code>。二阶差分处理二次趋势，并采用一阶差分的一阶差分，即<code class="du mr ms mt mu b">zi = (yi — yi-1) — (yi-1 — yi-2)</code>，等等。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mv"><img src="../Images/68a7ce189c80546b352b38830cbb6811.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*B6V0012stTEOOxPlB8lseg.png"/></div></figure><h2 id="d04b" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">移动平均模型</h2><ul class=""><li id="7352" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">假设当天因变量的值取决于前一天的误差项。该公式可以表示为:</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mw"><img src="../Images/7cebf82562f35c46a0497942364a41f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*hy4E92kHoCmW3VAxXb3mnQ.png"/></div></figure><p id="eabd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中μ是级数的平均值，<strong class="is hu"> <em class="mp"> θ </em> 1，…, <em class="mp"> θq </em> </strong>是模型的参数，<strong class="is hu"> <em class="mp"> εt </em>，<em class="mp">εt</em>—1，…,<em class="mp">εt</em>—q</strong>是白噪声误差项。<strong class="is hu"> <em class="mp"> q </em> </strong>的值称为MA模型的<strong class="is hu">阶</strong>。</p><h2 id="2c1a" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">自回归综合移动平均线(ARIMA):</h2><p id="92bd" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb mx jd je jf my jh ji jj mz jl jm jn hb bi translated">ARIMA(又名Box-Jenkins)模型增加了ARMA模型的差异。差分从以前的值中减去当前值，可用于将时间序列转换为静态时间序列。例如，一阶差分处理线性趋势，并采用转换<code class="du mr ms mt mu b">zi = yi — yi-1</code>。二阶差分处理二次趋势，并采用一阶差分的一阶差分，即<code class="du mr ms mt mu b">zi = (yi — yi-1) — (yi-1 — yi-2)</code>，等等。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es na"><img src="../Images/4b2b4fc4c8151d9196d6562e9fe6885f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*9kS0oYx68s-4bl5wQCB4gQ.png"/></div></figure><p id="f610" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">三个整数<strong class="is hu"> (p，d，q) </strong>通常用于参数化ARIMA模型。</p><ul class=""><li id="8869" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu"><em class="mp">p:</em><em class="mp">自回归</em>项数(AR顺序)</strong></li><li id="83f3" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"><em class="mp">d:</em><em class="mp">非季节性差异数(差异顺序)</em> </strong></li><li id="dc31" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"> <em class="mp">问:</em><em class="mp">移动平均线</em>项数(MA顺序)</strong></li></ul><h1 id="51c9" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">让我们浏览一些代码，更好地理解时间序列和ARIMA模型:</h1><p id="acad" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb mx jd je jf my jh ji jj mz jl jm jn hb bi translated"><strong class="is hu">ARIMA模型的一般流程如下:</strong></p><ul class=""><li id="b3aa" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">可视化时间序列数据</li><li id="cc8a" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">使时间序列数据平稳</li><li id="19c2" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">绘制相关和自相关图表</li><li id="6905" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">根据数据构建ARIMA模型或季节性ARIMA</li><li id="889e" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">使用模型进行预测</li></ul><h2 id="7073" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated"><strong class="ak">让我们来完成这些步骤吧！</strong></h2><ul class=""><li id="16e1" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated"><strong class="is hu">将数据加载到数据帧中。</strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nb"><img src="../Images/a1e0d13d9013e831654f937cd83cd07b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*O_eQQCzVxyJWeuzmiGT6VA.png"/></div></figure><ul class=""><li id="155d" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">清除销售列NaN条目的数据</strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nc"><img src="../Images/3324d0a7f832e8d378eb0f161970768a.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*Qa3Iue260_z7EwGd-x1-1g.png"/></div></figure><ul class=""><li id="f7f5" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">因为，我们可以看到月份列不是正确的python日期时间格式，所以我们需要首先转换它。</strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nd"><img src="../Images/3ce12a180db1b745c35910cdfbf6de6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*TRUuUYRP3_5g0NMWVZTxhw.png"/></div></figure><ul class=""><li id="d4ba" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">让我们把数据可视化:</strong></li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ne"><img src="../Images/975ab70a069a816f712a6a3edebc9249.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*y0ZRBOXYuM793qAKGTH2Eg.png"/></div></figure><p id="841e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi nf translated"><span class="l lf lg lh bm li lj lk ll lm di">正如前面提到的</span> <strong class="is hu">，在我们建立模型之前，我们必须确保时间序列是平稳的。有两种主要方法来确定给定的时间序列是否是平稳的:</strong></p><ul class=""><li id="dd8e" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">滚动统计</strong>:绘制滚动平均值和滚动标准差。如果时间序列随时间保持不变，则时间序列是静止的(用肉眼观察这些线是否是直的并且平行于x轴)。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ng"><img src="../Images/efd9bc393709fd4a02b1089c5f4ed815.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*jZVcGiefv5awng1NUcGKpQ.png"/></div></figure><ul class=""><li id="9582" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hu">增广的Dickey-Fuller检验</strong>:如果p值较低(根据零假设)，且1%、5%、10%置信区间的临界值尽可能接近ADF统计值，则认为时间序列是平稳的。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nh"><img src="../Images/40609185ec915f54ada2f1a4bdffcded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xpoS7gZoVWe3WhACagYow.png"/></div></div><figcaption class="mh mi et er es mj mk bd b be z dx translated"><strong class="bd kj">这里，由于p值大于显著性水平</strong>，所以接受零假设</figcaption></figure><ul class=""><li id="ea9d" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">ADF统计值远离临界值，p值大于阈值(0.05)。由此，我们可以得出结论，该时间序列是<strong class="is hu">非平稳的</strong>。</li></ul><h2 id="fae2" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">为了使其稳定，我们将使用差分法:</h2><ul class=""><li id="9c3a" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated"><strong class="is hu">统计学中的</strong>差分是一种应用于时间序列数据的变换，目的是使其平稳。这使得属性不依赖于观测时间，消除了趋势性和季节性，稳定了时间序列的均值。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mv"><img src="../Images/68a7ce189c80546b352b38830cbb6811.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*B6V0012stTEOOxPlB8lseg.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx translated">注释</figcaption></figure><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ni"><img src="../Images/5d2bff20b1ab02250219cd156eb315f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*WLXaRtGKkJLqTggNrzSSOA.png"/></div><figcaption class="mh mi et er es mj mk bd b be z dx translated">应用差异后</figcaption></figure><ul class=""><li id="dd37" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">让我们再次执行<strong class="is hu">扩展的Dickey-Fuller测试</strong>来测试序列是否是平稳的或者不是差分后的。</li></ul><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/fb292475e465eed8c9808abe6cf769f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpxRsiS4nstRAh5XsicaPQ.png"/></div></div></figure><ul class=""><li id="6709" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">现在，我们可以看到p值小于0.05的显著性水平。因此，<strong class="is hu">零假设被拒绝</strong>，时间序列为<strong class="is hu">平稳</strong>。</li></ul><h2 id="7ace" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated"><em class="nk">自相关函数图(ACF): </em></h2><ul class=""><li id="3669" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated"><strong class="is hu">自相关</strong>指的是时间序列与其过去值的相关程度，而ACF是用于查看点之间相关性的图，包括滞后单位。在ACF中，相关系数在x轴上，而滞后数在y轴上显示。</li><li id="a11d" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">自相关函数图将让您了解给定的时间序列如何与其自身相关。</li><li id="5277" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu">MA模型的识别通常最好使用ACF，而不是PACF。</strong></li><li id="bee2" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">对于MA模型，理论上的PACF不会关闭，而是以某种方式逐渐变小至0。ACF中有一个更清晰的MA模式。ACF将仅在模型中涉及的滞后处具有非零自相关。</li></ul><h2 id="a129" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">部分自相关函数(PACF)</h2><ul class=""><li id="9ae9" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">顾名思义，PACF是ACF的一个子集。PACF表示在<strong class="is hu">两个时间点</strong>进行的观察之间的相关性，同时考虑来自其他数据点的任何影响。我们可以使用PACF来确定在AR模型中使用的最佳项数。术语的数量决定了模型的顺序。</li><li id="8af8" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">AR模型的识别通常最好用PACF来完成。</li><li id="3476" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">对于AR模型，理论上的PACF会“关闭”模型的阶次。短语“切断”意味着理论上部分自相关在该点之后等于0。换句话说，非零部分自相关的数量给出了AR模型的阶数。通过“模型的顺序”,我们指的是用作预测的x的最极端的滞后。</li></ul><h2 id="3b7a" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">让我们在数据集上绘制ACF和PACF:</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nl"><img src="../Images/043f5689dee72c455f3b6b94c3febf3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTbADxZ6_o9d8qypF5DoZQ.png"/></div></div></figure><h2 id="8146" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">让我们用ARIMA来预测:</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nm"><img src="../Images/cf7ad17ef9154526a13fa20a79343812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UidP9hk1miFBT1MxOM16DA.png"/></div></div></figure><h2 id="f51e" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">让我们来看看使用ARIMA的预测:</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nn"><img src="../Images/299dd0323aa860e13e6d57b5759720b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*WS8VloWEnLd6lNd1naCHsQ.png"/></div></figure><h2 id="b729" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">观察:</h2><ul class=""><li id="85a6" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">这里我们可以看到，由于时间序列表现出季节性，使用ARIMA进行预测并不好。</li></ul><p id="7a1d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，现在我们将实施季节性ARIMA</p><h1 id="1b71" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">季节性-ARIMA(萨里玛):</h1><ul class=""><li id="63d0" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">顾名思义，当时间序列表现出季节性时，就使用这种模型。这个模型类似于ARIMA模型，我们只需要添加一些参数来解释季节。</li></ul><h2 id="8223" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">我们把萨里玛写成</h2><ul class=""><li id="b3ec" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated"><strong class="is hu"> ARIMA(p，D，Q)</strong>，</li><li id="5078" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu">p</strong>——自回归的次数</li><li id="d0b2" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"> d </strong> —差异程度</li><li id="d30f" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"> q </strong> —移动平均项数</li><li id="29c6" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"> m </strong> —指每个季节的周期数</li><li id="8caa" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hu"> (P，D，Q)</strong>-表示时间序列的季节性部分的<strong class="is hu"> (p，D，q) </strong></li></ul><p id="cc5e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">季节差异</strong>考虑季节和当前值与上一个季节值的差异，例如:5月的差异将是2018年5月的值-2017年5月的值。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es no"><img src="../Images/54ecd1b414cb500bf7cf08bce6b31b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*-7R2ehEC1--u552YqVB1EQ.png"/></div></figure><h2 id="4199" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">观察:</h2><ul class=""><li id="b270" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">在这里，我们可以看到使用SARIMA的预测给出了令人惊叹的结果，因为数据显示了季节性。</li></ul><p id="22b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi nf translated">现在，让我们向原始数据集中综合添加一些数据点，以便可以观察未来的预测。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es np"><img src="../Images/8df189250d0b0ed2d2784c0a30272046.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*qXTY0RIRMkwTIa4cZ_C7sg.png"/></div></figure><h2 id="b0d2" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">让我们描绘一下未来的预测:</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nn"><img src="../Images/e94134a072a03813e27d96179fb32405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*xiZkreVqqyeNSlgwGH8uuQ.png"/></div></figure><h2 id="0df8" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">观察:</h2><ul class=""><li id="6482" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated">这产生了漂亮的结果。</li></ul><p id="9883" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="mp">感谢阅读本博客。如果你喜欢它，请鼓掌，关注并分享。</em> </strong></p><h2 id="d28f" class="ln ki ht bd kj lo lp lq kn lr ls lt kr jb lu lv kv jf lw lx kz jj ly lz ld ma bi translated">在哪里可以找到我的代码？</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nq"><img src="../Images/5e556095853cc80701983400b5c5460d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6B7ZKCzJCJcMsw8mNs_n6A.jpeg"/></div></div></figure><p id="ff3c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">Github</strong>:<a class="ae nr" href="https://github.com/SubhamIO/TimeSeriesForecasting-ARIMA-SARIMA" rel="noopener ugc nofollow" target="_blank">https://Github . com/SubhamIO/TimeSeriesForecasting-ARIMA-萨里玛</a></p><h1 id="7f3b" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">结论:</h1><p id="9d07" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb mx jd je jf my jh ji jj mz jl jm jn hb bi translated">我们学到了什么？</p><ul class=""><li id="d26c" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">与<strong class="is hu">统计建模方法</strong>甚至某些<strong class="is hu">现代机器学习方法</strong>一起使用时，时间序列数据保持稳定的重要性。</li><li id="915e" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">如何使用线图和基本汇总统计来检查一个时间序列是否为<strong class="is hu">平稳</strong>。</li><li id="a56e" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">如何<strong class="is hu">计算和解释统计显著性检验，以检查时间序列是否平稳</strong>。</li><li id="509d" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">如何使用<strong class="is hu"> ARIMA </strong>和<strong class="is hu">萨里玛</strong>模型进行预测？</li><li id="5643" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">在机器学习的领域中，有一套操作和解释依赖于时间的变量的技术。其中包括<strong class="is hu"> ARIMA </strong>，它可以去除趋势成分，以便准确预测未来值。</li></ul><h1 id="92fe" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">参考资料:</h1><ul class=""><li id="8685" class="jt ju ht is b it mb ix mc jb md jf me jj mf jn jy jz ka kb bi translated"><strong class="is hu">申请课程</strong></li><li id="bddd" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">https://www.youtube.com/watch?v=2XGSIlgUBDI&amp;list = llovcixqsyfpitee 2 bdqzrbw&amp;index = 17&amp;t = 2s</li><li id="3737" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><a class="ae nr" href="https://machinelearningmastery.com/time-series-data-stationary-python/" rel="noopener ugc nofollow" target="_blank">https://machine learning mastery . com/time-series-data-stationary-python/</a></li><li id="e52e" class="jt ju ht is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><a class="ae nr" rel="noopener" href="/@kangeugine/time-series-arima-model-11140bc08c6">https://medium . com/@ kang eugine/time-series-ARIMA-model-11140 BC 08 c 6</a></li></ul></div></div>    
</body>
</html>