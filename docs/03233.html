<html>
<head>
<title>Using Local Storage in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中使用本地存储</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-local-storage-in-javascript-5cced3fd888d?source=collection_archive---------15-----------------------#2020-01-21">https://medium.com/analytics-vidhya/using-local-storage-in-javascript-5cced3fd888d?source=collection_archive---------15-----------------------#2020-01-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们被要求开发一个单页应用程序(SPA)作为我们在新兵训练营的第三个项目。在这个项目中，我们被告知不要构建用户认证，因为我们还没有学习使用JavaScript进行认证。会话存储和本地存储是在用户浏览器中本地存储数据的两种主要方法，由于密码的限制，我决定使用本地存储。</p><p id="0934" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的应用程序有一个用户模型，我实现了“注册”和“登录”功能，只有用户名字段，没有密码字段。我的设计看起来是这样的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7ba9fa739238fb9b8c555d6fcca98b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lgCB8ahYRsRZPWkH4_-usw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">请注意，它不要求用户输入密码。</figcaption></figure><p id="2596" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jt ju jv jw b">localStorage</code> object是一种在web浏览器中本地存储信息的键/值对的方法。它允许我们存储没有过期的数据，而会话存储只存储一个会话的数据。这意味着即使在用户刷新页面或关闭浏览器后，数据仍然存在。</p><p id="b0f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的应用程序中，我使用了<code class="du jt ju jv jw b">localStorage</code>来存储用户和书籍的id。让我们在JavaScript控制台中键入<code class="du jt ju jv jw b">localStorage</code>,在任何用户登录之前检查我们当前在本地存储中有什么:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/8a845994bbfaf2526a0d33b4cbf8f50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wX2p8OYKefSHsGz-JnFN5A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">键入<code class="du jt ju jv jw b">localStorage</code>或“console.log(localStorage)”将显示控制台中存储对象的详细信息。</figcaption></figure><p id="1d0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，存储项目的数量(<code class="du jt ju jv jw b">length</code>)为“0”，如果您展开“<code class="du jt ju jv jw b">proto</code>”，您可以很容易地找到该存储对象中提供的方法:</p><ol class=""><li id="16e4" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated">setItem(键，值)</li><li id="b0a4" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">getItem(键)</li><li id="3dd4" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">removeItem(键)</li><li id="a647" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">清除()</li><li id="38f7" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">关键字(索引)</li></ol><p id="0bed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在项目中使用了下面列出的三种方法来创建、读取和删除用户id和图书id:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es km"><img src="../Images/33320c730d2b8dcd01f38a60b838e18f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgW1zDz8alqapwnbx-Ld5g.png"/></div></div></figure><p id="c872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们在控制台中再次测试<code class="du jt ju jv jw b">localStorage</code>，我们可以在用户登录后找到分配的键和值:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kn"><img src="../Images/0adce2cb9887fd989486d68a576cea54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5c5pGmjcq7NFaeiDqQt6ZA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">注意，存储对象的长度从零变为二；user_id和bookId。</figcaption></figure><p id="a43c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">访问<code class="du jt ju jv jw b">localStorage</code>的另一种方法是打开<strong class="ih hj">开发者工具</strong>，点击<strong class="ih hj">应用</strong>选项卡，然后在<strong class="ih hj">存储</strong>部分展开<strong class="ih hj">本地存储</strong>以查看浏览器的本地存储内容:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ko"><img src="../Images/43fdac972aeca657e550b3991582fa07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JwHmmHJcK7CCRfo_FM-oow.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">开发者工具-&gt;应用-&gt;存储-&gt;本地存储</figcaption></figure><p id="e277" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可用方法:</p><ol class=""><li id="a78f" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated"><code class="du jt ju jv jw b">localStorage.setItem(“key”, “value”)</code>:需要两个参数；键和值对，用于存储与键关联的值。数据必须以普通的字符串形式存储，这意味着我们需要将对象字符串化，然后将其存储在<code class="du jt ju jv jw b">localStorage</code>中:</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kp"><img src="../Images/38f0b4c93bfeaf86766f44c0f00deb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4j8jLD7wa7xnBILNurUuAA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">JSON.stringify()将数据数组转换为字符串，JSON.parse()将<code class="du jt ju jv jw b">localStorage</code>内容转换回对象。</figcaption></figure><p id="ac04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<code class="du jt ju jv jw b">localStorage.getItem(“key”)</code>:当我们传入key时，它允许我们访问存储在<code class="du jt ju jv jw b">localStorage</code>中的数据(值)，这是唯一需要的参数。</p><p id="f2c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<code class="du jt ju jv jw b">localStorage.removeItem(“key”)</code>:该方法在接收到一个密钥时，从存储器中删除该密钥及其值。</p><p id="dc8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.<code class="du jt ju jv jw b">localStorage.clear()</code>:您不需要传递任何参数，这个方法会删除所有内容，并清空本地存储中的整个键/值对。</p><p id="2324" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.<code class="du jt ju jv jw b">localStorage.key(“index”)</code>:检索给定位置的按键名称。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/8aa2f6bbfe57f9769b5ef377e9b57517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wNlfIhvBAwEOGyvowpPRQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">您可以使用提供的方法轻松访问存储的键和值。</figcaption></figure><p id="f8ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只读的<code class="du jt ju jv jw b">localStorage</code>是一个web存储对象，它允许我们在浏览器中将键/值对存储为字符串。存储的数据不会过期，并且在具有相同来源的所有选项卡和窗口之间共享。对数据保护和存储容量的限制、同步以及只允许存储字符串数据可以被列为使用<code class="du jt ju jv jw b">localStorage</code>的一些限制。虽然有一些限制，但它提供了我的应用程序跟踪用户和图书id所需的一切。我希望您现在可以轻松地将本地存储集成到您的应用程序中。</p><p id="7d5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请随意访问<a class="ae kr" href="https://www.w3schools.com/jsref/prop_win_localstorage.asp" rel="noopener ugc nofollow" target="_blank"> W3Schools </a>、<a class="ae kr" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="noopener ugc nofollow" target="_blank"> MDN </a>、<a class="ae kr" href="https://javascript.info/localstorage" rel="noopener ugc nofollow" target="_blank"> Javascript.info </a>和<a class="ae kr" href="https://www.youtube.com/watch?v=k8yJCeuP6I8" rel="noopener ugc nofollow" target="_blank"> dcode </a>来了解关于这个主题的更多信息。</p></div></div>    
</body>
</html>