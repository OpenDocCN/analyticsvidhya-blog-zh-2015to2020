<html>
<head>
<title>Using logistic regression to predict whether a property can be sold</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用逻辑回归预测一个物业是否可以出售</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-logistic-regression-to-predict-whether-a-property-can-be-sold-b06c43154930?source=collection_archive---------3-----------------------#2020-06-12">https://medium.com/analytics-vidhya/using-logistic-regression-to-predict-whether-a-property-can-be-sold-b06c43154930?source=collection_archive---------3-----------------------#2020-06-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b0e2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">我的房子可以卖吗？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/f7b0dae82d57e0d7ef49f164647e1e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xLKi7r8nb6ciGAD-"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">佩德罗·拉斯特拉在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="db77" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Logistic回归</strong>是我在数据科学学的最早的学科。当我们遇到一个因变量(Y)为二元的类别变量时，logistic回归是一种适合进行回归分析的方法。逻辑回归是一种预测性分析，用于描述数据并解释因变量、二元变量和一个或多个自变量之间的关系。</p><p id="e3f8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">什么时候可以用logistic回归？<br/> </strong>例如:毒品、酒精、失业、婚姻破裂、长期健康问题和身体残疾是否会增加自杀率？(是对否)？</p><p id="0f30" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这篇文章中，我将解释如何使用逻辑回归来预测房子是否可以出售。在开始之前，我们将通过数据科学生命周期来了解应该发生什么。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kk"><img src="../Images/1fc4e42d37cbfe23f019d2df3086650c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZZK9xvJzWM5h4pBMZK7HQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由Srinivas Rao在Quora上提供</figcaption></figure><p id="ec60" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">用数据科学生命周期解决业务问题的步骤:</strong> <br/> 1。商业理解<br/> 2。数据收集<br/> 3。数据准备<br/> 4。探索性数据分析<br/> 5。造型<br/> 6。车型评测<br/> 7。模型部署</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="f386" class="ks kt hi bd ku kv kw kx ky kz la lb lc io ld ip le ir lf is lg iu lh iv li lj bi translated"><strong class="ak"> #1 ~业务理解</strong></h1><p id="4b26" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">任何项目，无论大小，都需要对业务的了解，这是有效解决业务问题的基础。</p><p id="0669" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我想解决的问题是什么？</p><p id="ad8d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这个阶段，我需要从业务角度定义问题、项目目标和解决方案。这是用数据科学方法解决问题的第一步。在这篇文章中，我是一家房地产公司的经理。我需要找出这些楼盘的销售潜力，而这些销售潜力基本上都是以往房产交易的数据。所以，我想预测一下房产会不会卖出去。</p><p id="cc5d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因此，这是一个<strong class="jq hj">主管学习</strong> ~我会用<strong class="jq hj">分类</strong>的方法。</p><h1 id="3fcd" class="ks kt hi bd ku kv lp kx ky kz lq lb lc io lr ip le ir ls is lg iu lt iv li lj bi translated"><strong class="ak"> #2 ~数据采集</strong></h1><p id="8fd4" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">数据是整个机器学习最关键的部分。所以我需要考虑以下几点:</p><ul class=""><li id="2477" class="lu lv hi jq b jr js ju jv jx lw kb lx kf ly kj lz ma mb mc bi translated">我有数据吗？</li><li id="ee74" class="lu lv hi jq b jr md ju me jx mf kb mg kf mh kj lz ma mb mc bi translated">数据从哪里来？</li><li id="fb89" class="lu lv hi jq b jr md ju me jx mf kb mg kf mh kj lz ma mb mc bi translated">我们信任数据源吗？</li><li id="6c04" class="lu lv hi jq b jr md ju me jx mf kb mg kf mh kj lz ma mb mc bi translated">我有领域知识吗？</li></ul><p id="48a6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这些数据来自于我的在线课程</p><h1 id="82d2" class="ks kt hi bd ku kv lp kx ky kz lq lb lc io lr ip le ir ls is lg iu lt iv li lj bi translated">#3 ~数据准备&amp; #4 ~探索性数据分析</h1><p id="afce" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">现在，我们将尝试将房屋数据集加载到jupyter笔记本中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/8367fe9f99c81fcea271ec973fa52b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5WfKbanknsIW6oFw9HMHQ.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/92895f6031e6fc7c7945a2f2d395616d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L-rjrPEeTg6CUCMaNGhbhA.png"/></div></div></figure><p id="b638" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，让我们来看看数据集。数据集包含506行和19列。因变量是<strong class="jq hj">已售</strong>和公园价格是自变量。有三个分类变量，即机场、水体和公共汽车，其余为数值变量。在下图中，我们可以看到<strong class="jq hj"> n_hos_beds </strong>中有缺失值。在运行逻辑回归或任何其他类型的机器之前，我们需要处理这些缺失值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/bd6cf168b6dfcf1c21b004a31ee47032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WP4IjX8C0JzBmZCvUk90g.png"/></div></div></figure><p id="2e25" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以看到，所有的数字变量都列在顶部，我们有计数、均值、标准差、最小值、最大值、25%和50%以及75%等值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/e6bf1a9b1195bb745b5b61f8a1b51536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBKB0QRyWRnSRqcPaF0hFA.png"/></div></div></figure><p id="cba2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，我们将检查这些变量的值是否是我们想要的。缺失值和带有异常值的变量表示不遵循变量模式的值，这将极大地影响模型的准确性。通过使用箱线图和联合图，我们看到在<strong class="jq hj"> n_hot_rooms </strong>和<strong class="jq hj">rain</strong>列上有一个异常值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/bfd861ca4daf4b1220d9d97b3f0b94ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dm8PJQMw-CNwQRAcF4xmYA.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/1a5492239bcb5c611d38c63e24d22434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ORr19BhIHBITk08YT8yv_g.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/7a8168c85644d5516d48d563d3876067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GC_jMIr_2c0kUte-JaWvbg.png"/></div></div></figure><p id="468a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在我们从数字数据中得到了三个观察结果。首先，<strong class="jq hj"> n_hos_beds </strong>变量中存在缺失值，第二个问题是<strong class="jq hj"> n_hot_room </strong>变量<strong class="jq hj">高端的异常值。</strong>第三个问题是<strong class="jq hj">降雨量</strong>变量下端的一个异常值。现在让我们看看分类变量。我们将绘制所有分类变量的计数栏。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/20e226f8e9bfc843094af6190ba65fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9BabDS48tr4DbEW5fYLBw.png"/></div></div></figure><p id="a6f7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在分类变量中，您可以看到<strong class="jq hj"> bus_ter </strong>变量只有一个值，yes。所以在某种意义上这不是一个变量。这是一个常数。因此，我们可以从我们的数据中删除这个变量，因为它不提供任何额外的信息或对结果有任何影响。</p><p id="9622" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在我们可以开始处理有问题的数据了。第一个是<strong class="jq hj"> n_hos_beds </strong>变量的缺失值。缺失值的处理一般分为删除缺失值或填充缺失值。由于缺失值数量较少，我们将通过<strong class="jq hj">平均</strong>值来填充缺失值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/c2cb827841c56cf2493847d3fc068864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QgjhyX-nm5aa9JueJJWYxw.png"/></div></div></figure><p id="f735" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来要处理的是<strong class="jq hj"> n_hot_room </strong>变量的上限异常值和<strong class="jq hj">雨量</strong>变量的下限异常值。我们将使用上限和下限方法，用3* P99和0.3*P1估算异常值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/a4ae8c1821fa747badb7a5547e5c47a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJMCdDOA2EWySMa7qWBtow.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/92159d6beb80043759460d2ea3bc7a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uyf0gBlC-0XLeJ2Rip-fyg.png"/></div></div></figure><p id="548f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">最后，我们将执行一个数据转换，我们将首先删除<strong class="jq hj"> bus_ter </strong>变量，因为所有的<strong class="jq hj"> bus_ter </strong>变量都是YES，它不提供任何额外的信息或对结果有任何影响。然后我们将创建<strong class="jq hj"> avg-dist </strong>变量，使用<strong class="jq hj"> dist1 </strong>、<strong class="jq hj"> dist2 </strong>、<strong class="jq hj"> dist3 </strong>和<strong class="jq hj"> dist4 </strong>变量获得到就业中心的平均距离。之后，我们将使用Scikit-learn LabelEncoder来转换<strong class="jq hj"> airport </strong>变量，并使用一键编码器来转换<strong class="jq hj"> waterbody </strong>变量。最后，我们将放弃水体变量。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/db541a0c6aa5b1a0557762e3fd584802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y2Hh_r-I3YcXJtDx1e-KEA.png"/></div></div></figure><h1 id="a3e0" class="ks kt hi bd ku kv lp kx ky kz lq lb lc io lr ip le ir ls is lg iu lt iv li lj bi translated"># 5～建模</h1><p id="ebdf" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">标准化训练数据和测试数据非常重要，因为如果元素的比例相同，大多数机器学习模型会收敛得更快。进行标准化会将特征的平均值集中在0到1之间。数据将服从正态分布。为了计算这些特征的平均值和标准偏差，并将上述公式应用于每个观察值/数值，将使用sklearn的标准标度:</p><p id="8299" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在训练我们的模型之前要做的最后一件事是分割数据集。我将这些数据随机分为80/20的训练集和测试集。我们需要这样做，以便我们可以通过预测测试集数据(看不见的数据)来估计我们的模型的预测结果。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/6af0994d1a31c5e0992309447dbb85b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mzb1Us6bzXKtIxo1Ona7RQ.png"/></div></div></figure><p id="d2c5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们已经训练了一个模型，并检查系数和截距。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/6ffaa4b9d29762d970c8ee452cc97d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5oHlcFNUOrP0zn_sA6fggA.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/19f2c7e4b7532447a0a3d0cfad85efbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WXi_2geowfcIYh1izPCg0A.png"/></div></div></figure><h1 id="0de7" class="ks kt hi bd ku kv lp kx ky kz lq lb lc io lr ip le ir ls is lg iu lt iv li lj bi translated"># 6～模型评估</h1><p id="7726" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">在这一步，我们将评估机器学习模型的性能和准确性。分类问题常用的指标叫做混淆矩阵。混淆矩阵是分类问题的常用指标。它派生出许多不同的指标，并标记出一些更重要的派生指标。根据预测，我们可以得出结论，对于66.6%的测试数据，预测一个房产是否可以出售是准确的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/f4cfebb575214b07c726edfa09c4c4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0bGUWFK0fnUshtdwWFTC-A.png"/></div></div></figure><h1 id="75eb" class="ks kt hi bd ku kv lp kx ky kz lq lb lc io lr ip le ir ls is lg iu lt iv li lj bi translated">#7 ~模型部署</h1><p id="8901" class="pw-post-body-paragraph jo jp hi jq b jr lk ij jt ju ll im jw jx lm jz ka kb ln kd ke kf lo kh ki kj hb bi translated">这是一个相对简单的项目，通常我们还需要迭代和函数选择或与其他算法进行比较。通过收集实现模型的结果，您还需要接收关于模型的性能及其对实现环境的影响的反馈。通过分析这些信息，数据科学家可以改进模型，提高其准确性，从而提高其实用性。一旦开发出令人满意的模型，就会在生产环境中实施。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="a6c0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">感谢阅读！如果你喜欢这篇文章，请通过鼓掌来感谢你的支持(👏🏼)按钮，或者通过共享这篇文章让其他人可以找到它。</p><p id="0119" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">希望你对数据科学生命周期有一个基本的了解。如何在每个阶段进行思考，以帮助指导您完成一个成功的数据科学项目的方法。最后，我希望你能学会如何使用逻辑回归技术。您还可以在<a class="ae jn" href="https://github.com/kindersham/100DaysDS/tree/master/House_Prediction" rel="noopener ugc nofollow" target="_blank"> GitHub </a>资源库中找到完整的项目。</p></div></div>    
</body>
</html>