# 用 C++和本地平台语言从头开始构建游戏引擎(第一部分)

> 原文：<https://medium.com/analytics-vidhya/building-a-game-engine-from-scratch-with-c-and-native-platform-languages-part-one-6ea4456ed178?source=collection_archive---------4----------------------->

![](img/6ec8db9194e4f124478d5c0c0ea3bf1e.png)

欢迎来到这个史诗系列的第一篇文章，在这里，我将深入探讨在不依赖庞大的第三方库的情况下编写专业游戏/游戏引擎的所有细节。

我们将着眼于使用 CMake 来处理我们的游戏引擎库的构建，包括让它在移动平台和控制台上工作的所有小细节和障碍。我们将学习所有的图形 API，包括 OpenGL，Metal，Direct3D 和 Vulkan。我们将查看各个平台，包括 MacOS、iOS、tvOS、Windows、Linux、Android 和各种控制台，并让我们的引擎在所有这些平台上运行。我们将学习音频编程、集成脚本语言、从压缩数据文件中读取资源等等。

这个系列将会非常庞大，我建议按顺序通读，因为我将采用迭代方法。例如，如果第 16 部分最后都是关于 Android 平台的，而你对此不感兴趣，那么你仍然应该通读，因为我可能会对 Android 之外的系统进行重要的修改。

在这个系列中，我不会使用任何第三方库，比如 SDL 或 GLFW，我将向你展示如何从头开始，这样你就可以完全理解正在发生的事情，而不必依赖 SDL 来修复任何错误。几个月前，所有用 SDL 制作的游戏和应用程序在 MacOS 上都显示黑屏，直到窗口被调整大小。每个人都只能坐在那里，等待 SDL 的人来解决问题(或者浏览 SDL 的源代码，自己解决)。难道你不想拥有立即处理这些问题的权力吗？

我希望你对开始感到兴奋。前几篇文章是关于设置我们的开发环境，安装各种需要的工具，并让我们的引擎的桌面版本运行起来。

就这样，让我们开始！

我们要做的第一件事是创建一个组织良好的文件夹结构。

![](img/0f59f8d398430ba84997f6c59462e6aa.png)

暂时就这样了。让我快速解释一下…

一旦我们安装了 CMake,“cmakelists . txt”文件将变得更有意义，但现在，这个文件将包含构建我们的引擎代码所需的所有信息。

“include”文件夹可能最终只有一个 C++头文件。现在不要担心这个，一切都会变得清楚的。

“项目”文件夹将最终存放我们单独的平台项目。例如，我们将使用 XCode 创建一个 iOS 项目，它将驻留在那里。Windows 上的 Visual Studio 也是如此。(我们不会将 CMake 用于这些项目，它们将非常简单，只需链接到我们的引擎库)。

最后，“src”文件夹将包含我们所有的引擎源代码，你猜对了。所有的 C++文件和任何特定于平台的代码文件，比如苹果平台的 Objective-C，安卓平台的 Java 等等。

下一步是设置我们的开发环境。我在 Mac 上工作，我喜欢使用 VSCode，但是你可以使用任何你想要的操作系统和文本编辑器，但是我推荐 VSCode。如果你想使用 VIM，那就请便，但我认为你这样做并不酷。

如果你像我一样在 MacOS 上开发，那对你有好处！你只需要从 Mac App store 下载并安装 Xcode，你就(几乎)可以开始了！

如果您使用的是 Windows，请下载并安装 Visual Studio，并确保使用 C++工具包安装它。

如果你在 Linux 上，那么我想你知道你在做什么，但是要确保你已经安装了 c++编译器。

![](img/212f559e502a344cf527a4ab9898da75.png)

无论你在哪个平台上工作，你都需要安装 [CMake](https://cmake.org) 。CMake 是一个构建系统生成器。这是什么意思？嗯，这是一个软件，将产生…..构建系统…..例如，使用我们在项目的根目录中创建的“CMakeLists.txt”文件，我们可以准确地定义我们希望如何构建我们的引擎。我们可以指定我们想要构建的源代码文件，编译器在哪里查找，使用哪个编译器，链接什么库等等。另一种选择是为每个平台编写和维护一个构建系统，考虑到我们想要支持世界上几乎每个平台，这是不可行的。

在以后的文章中，我会对构建系统和 C++做一个简单的介绍，所以如果这些看起来太多，请不要担心！然而，我不会深究 C++因为已经有成千上万的教程和书籍了。我在这里向您展示如何在现实世界中实际使用它。

一旦你都设置好了，继续[第二集](/@petergilmour1987/building-a-game-engine-from-scratch-with-c-and-native-platform-languages-part-two-991618781c33)，在那里我们将看一下我们的 CMakeLists.txt 文件，甚至可能写一些代码！