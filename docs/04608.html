<html>
<head>
<title>The very fundamentals of Docker images management (2/2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker图像管理的基础知识(2/2)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-very-fundamentals-of-docker-images-management-2-2-f2a7ce3ae546?source=collection_archive---------34-----------------------#2020-03-25">https://medium.com/analytics-vidhya/the-very-fundamentals-of-docker-images-management-2-2-f2a7ce3ae546?source=collection_archive---------34-----------------------#2020-03-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b348" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本系列的这一部分，我将讨论<code class="du jd je jf jg b">Docker Registries</code>，它是如何工作的，pull和push命令，以及一些关于运行容器的内容。</p><p id="6aea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“T1”是一个无状态的、高度可伸缩的应用程序，它存储并允许你分发“T2”。这个注册中心是开源的，但是您可以找到各种其他实体作为注册中心工作。</p><p id="b135" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个简单的列表</p><ol class=""><li id="7d02" class="jh ji hi ih b ii ij im in iq jj iu jk iy jl jc jm jn jo jp bi translated"><code class="du jd je jf jg b">Docker Registry</code>(默认)，本地开源注册表。</li><li id="2cee" class="jh ji hi ih b ii jq im jr iq js iu jt iy ju jc jm jn jo jp bi translated"><code class="du jd je jf jg b">Docker Trusted Registry</code> (DTR)，Docker企业版的一部分，高端全功能可信注册中心</li><li id="9e8f" class="jh ji hi ih b ii jq im jr iq js iu jt iy ju jc jm jn jo jp bi translated"><code class="du jd je jf jg b">Docker Hub</code>，一个基于云的注册中心</li><li id="2fb4" class="jh ji hi ih b ii jq im jr iq js iu jt iy ju jc jm jn jo jp bi translated">第三方注册中心w/ <code class="du jd je jf jg b">VMWare</code>(我认为它集成了<code class="du jd je jf jg b">VSphere</code>和<code class="du jd je jf jg b">Google Cloud</code>中的<code class="du jd je jf jg b">Container-Registry</code></li></ol><p id="8beb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我确信还有更多，但实际上，大多数人使用Docker Hub，因为它是不属于EE计划的普通开发人员的Docker默认设置。</p><p id="9c04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请转到Docker hub链接并创建一个帐户。</p><h2 id="c9d3" class="jv jw hi bd jx jy jz ka kb kc kd ke kf iq kg kh ki iu kj kk kl iy km kn ko kp bi translated">部署Docker注册中心</h2><p id="f4dd" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">我将尝试解释从运行容器开始到推拉过程的整个过程，所以我们开始吧。</p><ol class=""><li id="b62b" class="jh ji hi ih b ii ij im in iq jj iu jk iy jl jc jm jn jo jp bi translated">让我们运行一个容器，一个像这样的样本容器</li></ol><p id="3e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">docker run -d -p 5000:5000 --restart=always --name registry registry:2</code></p><p id="1b44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">-d</code>标志用于将容器作为<code class="du jd je jf jg b">daemon</code>运行，<code class="du jd je jf jg b">-p</code>用于生成<code class="du jd je jf jg b">port forwarding</code>，<code class="du jd je jf jg b">--restart</code>标志(实际上非常具有描述性)，用于命名容器的<code class="du jd je jf jg b">--name</code>和<code class="du jd je jf jg b">registry:2</code>是基本图像及其标签的模拟名称(或可能使用的版本)。</p><p id="81b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.如果你愿意，你可以给图像加标签</p><p id="5b22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.一旦我们证明一切正常，就让我们将我们的映像推送到本地注册中心</p><p id="d17c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">docker push &lt;d_hub_username&gt;/registry:2</code></p><p id="981d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能需要对<code class="du jd je jf jg b">Docker registry</code>做一个<code class="du jd je jf jg b">CLI login</code>，然后过程将正常开始。这是在<code class="du jd je jf jg b">docker login</code>的帮助下完成的，设置用户和密码仅此而已。</p><p id="3d90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您需要来自<code class="du jd je jf jg b">Hub</code>的推送映像，您将需要使用<code class="du jd je jf jg b">pull</code>命令将其下载到本地注册表。</p><p id="7ba1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">docker pull &lt;d_hub_username&gt;/registry:2</code></p><p id="6f1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您是<code class="du jd je jf jg b">Docker Hub</code>的<code class="du jd je jf jg b">DTR registry</code>(商业付费选项)用户，您可以访问更多功能，如用户私人注册、组织和群组创建、安全扫描等。</p><p id="7774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成后，您可以使用<code class="du jd je jf jg b">docker logout</code>注销</p><p id="dd33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">小贴士:</p><ol class=""><li id="7e85" class="jh ji hi ih b ii ij im in iq jj iu jk iy jl jc jm jn jo jp bi translated"><code class="du jd je jf jg b">pull</code>和<code class="du jd je jf jg b">push</code>是否登录</li><li id="e6b4" class="jh ji hi ih b ii jq im jr iq js iu jt iy ju jc jm jn jo jp bi translated">如果你想要更多的隐私，付费使用DTR服务。</li><li id="e1e8" class="jh ji hi ih b ii jq im jr iq js iu jt iy ju jc jm jn jo jp bi translated">其他指定的注册服务有自己的方式来拉和推docker图像，你需要检查他们的文件。</li></ol><p id="941c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一种叫做<code class="du jd je jf jg b">Docker Content Trust</code>的服务，这种类型的服务让你用私钥对图像进行数字签名，用于图像所有者验证，但这在Docker EE版本上可用。这是Docker公证人的开源版本，请随意查看。</p><p id="b934" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这部分很短，很抱歉让你失望了。但这是Docker图像管理的最基本的基础。容器、网络、卷、服务、部署等有一个完整的整体。</p><p id="6202" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这对您有所帮助。如果你发现任何错误，请随时改正。这是我的亲身经历。</p><p id="456d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码:)</p></div></div>    
</body>
</html>