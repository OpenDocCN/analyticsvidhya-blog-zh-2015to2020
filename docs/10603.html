<html>
<head>
<title>Scraping Amazon Prime Video Using Selenium &amp; Beautiful Soup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用硒和美丽的汤刮亚马逊总理视频</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/scraping-amazon-prime-video-using-selenium-beautiful-soup-cfb9164f6dcd?source=collection_archive---------6-----------------------#2020-10-26">https://medium.com/analytics-vidhya/scraping-amazon-prime-video-using-selenium-beautiful-soup-cfb9164f6dcd?source=collection_archive---------6-----------------------#2020-10-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a5e9a0d8fd4cd82e88ecc3155728465f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WFaezk1SqtErFBYu"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@glenncarstenspeters?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">格伦·卡斯滕斯-彼得斯</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5b1e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Selenium是一个用于web抓取的强大工具，但它也有缺陷，这是公平的，因为它主要是为测试web应用程序而开发的。另一方面，Beautiful Soup是专门为网络抓取开发的，确实非常强大。</p><p id="c813" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，即使是漂亮的汤也有它的弱点，如果需要抓取的数据在“墙”后面，它也不是很有用，因为需要用户登录才能访问这些数据，或者需要用户执行一些操作。</p><p id="db8e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这就是我们可以使用Selenium来自动化用户与网站的交互的地方，我们将在进入“墙”后使用Beautiful Soup来收集数据。</p><p id="3f35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将硒与美汤整合在一起，创造了一个强大的网页抓取工具。</p><p id="ddf6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然您可以只使用Selenium来自动化用户交互和收集数据，但是Beautiful Soup在收集数据方面效率更高。</p><p id="dedb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用Selenium和Beautiful Soup从亚马逊Prime Video的喜剧类型中收集电影细节，如名称、描述和评级，我们将根据其IMDB评级过滤电影。</p><p id="a407" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以让我们开始吧，</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="812a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，让我们导入所需的模块；</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="3a68" class="kj kk hi kf b fi kl km l kn ko">from selenium import webdriver<br/>from selenium.webdriver.common.keys import Keys<br/>from bs4 import BeautifulSoup as soup<br/>from time import sleep<br/>from selenium.common.exceptions import NoSuchElementException<br/>import pandas as pd</span></pre><p id="eae2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们启动三个空列表来保存电影细节，</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="8f78" class="kj kk hi kf b fi kl km l kn ko">movie_names = []<br/>movie_descriptions = []<br/>movie_ratings = []</span></pre><p id="3dfa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要运行该程序，您需要安装Chrome Web驱动程序。你可以在这里<strong class="ix hj"/>获得Chrome驱动<a class="ae iu" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">，确保你下载的驱动与你的Chrome浏览器版本匹配。</strong></a></p><p id="87c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们创建一个函数<code class="du kp kq kr kf b">open_site()</code>，它将打开Amazon Prime登录页面，</p><figure class="ka kb kc kd fd ij"><div class="bz dy l di"><div class="ks kt l"/></div></figure><p id="f822" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们定义一个<code class="du kp kq kr kf b">search()</code>函数来搜索我们指定的流派，</p><figure class="ka kb kc kd fd ij"><div class="bz dy l di"><div class="ks kt l"/></div></figure><p id="5deb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个函数搜索流派并向下滚动到页面的末尾，因为主要视频有无限滚动，我们使用JavaScript executor滚动到末尾，然后通过调用<code class="du kp kq kr kf b">driver.page_source</code>获得页面源，我们使用这个源并将其传递到Beautiful Soup。</p><p id="b45f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kp kq kr kf b">if</code>声明是为了得到评分大于8.0小于10.0的电影，只是为了确认一下。</p><p id="c0f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们创建一个熊猫数据帧，来存储我们所有的电影数据，</p><figure class="ka kb kc kd fd ij"><div class="bz dy l di"><div class="ks kt l"/></div></figure><p id="4baa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们调用函数，</p><pre class="ka kb kc kd fd ke kf kg kh aw ki bi"><span id="fab3" class="kj kk hi kf b fi kl km l kn ko">open_site()</span></pre><h2 id="f137" class="kj kk hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">输出:</h2><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/b3c0507ad797911b0e9e6cd5cd1f0452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ayNruVDEBQwJzVOfxNoYGA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片:Comedy.csv文件</figcaption></figure><blockquote class="lo lp lq"><p id="7cd8" class="iv iw lr ix b iy iz ja jb jc jd je jf ls jh ji jj lt jl jm jn lu jp jq jr js hb bi translated">您的输出看起来不会完全像这样，我已经格式化了一点，像调整列宽，我已经包装了文本，除此之外，它应该像这样。</p></blockquote><h1 id="1fd1" class="lv kk hi bd ku lw lx ly ky lz ma mb lc mc md me lf mf mg mh li mi mj mk ll ml bi translated">结论</h1><p id="1e41" class="pw-post-body-paragraph iv iw hi ix b iy mm ja jb jc mn je jf jg mo ji jj jk mp jm jn jo mq jq jr js hb bi translated">虽然硒和美丽的汤一起工作，可以提供良好的效果，还有一些其他模块也同样强大，如Scrapy。</p><p id="ecb6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以在这里找到完整的代码。</p><div class="mr ms ez fb mt mu"><a href="https://github.com/sectrumsempra/prime_video.py/blob/main/Sel_Beaut.py" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">sectrumsempra/prime_video.py</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">一个程序来抓取亚马逊主要视频，以获得特定类型的电影列表，并根据它们的…</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">github.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni io mu"/></div></div></a></div><p id="cf46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你喜欢用Python实现自动化，那么你可能也会喜欢这个，</p><div class="mr ms ez fb mt mu"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/building-a-reddit-bot-with-selenium-web-driver-87ece50c7d5"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">用Selenium Web驱动程序构建Reddit机器人</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">厌倦了自己分享帖子？阅读以了解更多信息…</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">medium.com</p></div></div><div class="nd l"><div class="nj l nf ng nh nd ni io mu"/></div></div></a></div></div></div>    
</body>
</html>