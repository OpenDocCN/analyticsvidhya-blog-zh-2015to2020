<html>
<head>
<title>Get Latest Business Information via Your Own Channel in a Messenger</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Messenger中通过您自己的渠道获取最新的商业信息</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/get-latest-business-information-via-your-own-channel-in-a-messenger-dbd905521a3?source=collection_archive---------30-----------------------#2020-06-16">https://medium.com/analytics-vidhya/get-latest-business-information-via-your-own-channel-in-a-messenger-dbd905521a3?source=collection_archive---------30-----------------------#2020-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/f8577f89212838520cfb4c55e61ca9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYFhJgi2O-7siAZvPSOwWw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由伊戈尔·沙巴林拍摄</figcaption></figure><div class=""/><p id="e172" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">手动在互联网上查找必要信息的过程可能非常耗时。本文讨论了如何在messenger中调整您自己的频道，以自动获取您感兴趣的主题的最新信息。想法如下:您创建一个将为您的通道收集信息的机器人，然后将这个机器人连接到通道。你需要让每个人都可以使用机器人，这样机器人用户的请求结果就会到达你的渠道。</p><p id="19a2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这种方法允许您发现最新的趋势，因为您将收到用户感兴趣的信息。例如，如果你注意到许多用户最近对特斯拉股票感兴趣，它可能会鼓励你仔细看看它。由于你的渠道，你会以股票分析师就此话题撰写的最新文章的形式获得这些信息。</p><h1 id="09bb" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">它通常是如何工作的</h1><p id="8dfc" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">创建新闻频道的过程非常简单。一般步骤可描述如下:</p><ol class=""><li id="2722" class="kv kw hx iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">使用新闻搜索API</li><li id="11f5" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">在messenger中创建机器人</li><li id="ae98" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">将机器人连接到频道</li></ol><p id="9ed0" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为一个新闻搜索API，您可以使用新闻API:<a class="ae lj" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">https://newsapi.org/</a>，允许您以编程方式从广泛的新闻来源和博客中搜索感兴趣主题的最新文章。要使用API，您需要一个密钥。开发者密钥是免费的。如果你想看一个如何用新闻API从Python发出请求的例子，请参考我以前的文章:<a class="ae lj" rel="noopener" href="/swlh/getting-straight-to-the-point-with-scraping-and-natural-language-processing-1a62aba65586">用抓取和自然语言处理开门见山</a></p><p id="cd96" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">至于创建一个机器人，这可以在Telegram bot平台上轻松完成。Telegram是一款基于云的信使，也是世界上最顶尖的信使应用之一。在下一节中，您将看到这种机器人的实现框架。一些进一步的细节可以在我前面提到的文章中找到。关于如何部署电报机器人的详细信息，请访问https://core.telegram.org/bots<a class="ae lj" href="https://core.telegram.org/bots" rel="noopener ugc nofollow" target="_blank">的机器人:开发者介绍页面。</a></p><p id="d04e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Telegram允许将内容从机器人直接发送到任何聊天、群组或频道。如<a class="ae lj" href="https://telegram.org/tour/channels" rel="noopener ugc nofollow" target="_blank">https://telegram.org/tour/channels</a>的电报通道页面所述，您只需点击几下鼠标即可创建一个电报通道。你可能也想在<a class="ae lj" href="https://telegram.org/faq_channels" rel="noopener ugc nofollow" target="_blank">https://telegram.org/faq_channels</a>查看频道常见问题。</p><p id="caf2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一旦你有了一个渠道，你可以把它作为一种向许多人传递信息的方式，这些人会想要加入你的渠道。</p><h1 id="1b2d" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">实现机器人</h1><p id="b3c2" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">正如您可能猜到的，实现一个bot是这里最复杂的部分，因为您需要编写一些编程代码并将其部署到Telegram开发平台。特别是，您需要实现一个使用新闻搜索API来获取指定主题的最新文章的机器人。此外，机器人应该使用一些自然语言处理(NLP)技术来过滤文章，选择最相关的文章。下面是这样一个机器人的骨架:</p><pre class="lk ll lm ln fd lo lp lq lr aw ls bi"><span id="c9e8" class="lt jt hx lp b fi lu lv l lw lx">from telegram.ext import Updater, MessageHandler, Filters<br/>def input_handler(update, context):<br/> inpt = update.message.text<br/> keywrd = inpt + ' ' + 'stock' <br/> keywrd_syn = inpt + ' ' + 'shares' <br/> answers_stock = []<br/> #Sending a request to News API<br/> …<br/> #Filtering the results of the request<br/> …<br/> for ent in doc.ents:<br/> if (ent.label_ == 'MONEY') or (ent.label_ == 'PERCENT'):<br/> answers_stock.append(sent.text.strip() + '| '+ article['publishedAt'] + '| '+ article['url'])<br/> break<br/> …<br/> #Sending the filtered results of the request to the channel<br/> context.bot.send_message(chat_id=********, text=output)<br/> …<br/>def main():<br/> updater = Updater(‘TOKEN’, use_context=True)<br/> updater.dispatcher.add_handler(MessageHandler(Filters.text, input_handler))<br/> updater.start_polling()<br/> updater.idle()<br/>if __name__ == ‘__main__’:<br/> main()</span></pre><h1 id="05a1" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Bot/Channel实现的工作示例</h1><p id="5959" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我已经实现了一个机器人，它可以检索关于公司股票的最新文章的链接。你可以在https://t.me/stocknewstip_bot找到这个机器人。在你尝试之前，你需要注册一个电报账户。登录Telegram后，点击Telegram搜索，输入<a class="ae lj" href="http://twitter.com/stocknewstip_bot" rel="noopener ugc nofollow" target="_blank"> @stocknewstip_bot </a>，找到bot。要开始与机器人对话，请键入/start。之后，您可以输入公司的名称，如下图所示:</p><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es ly"><img src="../Images/7a221051364d26ec11643b67c92f1804.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*osxzeijiWRZwPHk6LReVDg.jpeg"/></div></figure><p id="64d3" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，将输出三篇最相关的文章:</p><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es ly"><img src="../Images/b45b5f4f337544b30b5ffd63b3d521e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*5e0QPfmX--wOU6N_51tN-A.jpeg"/></div></figure><p id="6b4b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">机器人中显示的文章然后也可以出现在与机器人连接的【https://t.me/stocknewstip】频道的<a class="ae lj" href="https://t.me/stocknewstip" rel="noopener ugc nofollow" target="_blank">中。但是，请注意，系统不允许同一篇文章出现在频道中。所以，你在机器人中看到的一些链接不一定会出现在频道中。</a></p></div></div>    
</body>
</html>