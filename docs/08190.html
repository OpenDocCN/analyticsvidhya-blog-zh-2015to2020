<html>
<head>
<title>Linear regression-An intuitive approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归——一种直观的方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/linear-regression-an-intuitive-approach-ded05ed39a87?source=collection_archive---------21-----------------------#2020-07-20">https://medium.com/analytics-vidhya/linear-regression-an-intuitive-approach-ded05ed39a87?source=collection_archive---------21-----------------------#2020-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ec21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从最基本但最有用的算法之一“线性回归”开始。线性回归假设对输入变量(x)和输出变量(y)之间的线性关系进行建模。</p><p id="12e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">线性回归线具有形式为<strong class="ih hj"> <em class="jd"> Y = a + bX </em> </strong>的方程，其中<strong class="ih hj"> <em class="jd"> X </em> </strong>是输入/解释变量，<strong class="ih hj"> <em class="jd"> Y </em> </strong>是因变量/输出。直线的斜率为<strong class="ih hj"> <em class="jd"> b </em> </strong>，<strong class="ih hj"> <em class="jd"> a </em> </strong>为截距(当<strong class="ih hj"> <em class="jd"> x </em> </strong> = 0时<strong class="ih hj"> <em class="jd"> y </em> </strong>的值)。</p><p id="44c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="http://www.stat.yale.edu/Courses/1997-98/101/scatter.htm" rel="noopener ugc nofollow" target="_blank">散点图</a>是确定两个变量之间关系强度的有用工具。如果散点图没有显示增加或减少的趋势，那么线性回归模型可能是无效的。在演唱会上座率和以日照(小时数)衡量的天气散点图中可以看到，随着日照小时数的增加，我们可以直观地观察到有增加的趋势。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/e12e3a2cf8342d6dbb32daee1e32aa27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sbfUs2vAXFsaj_QhtZ_m0w.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">E</figcaption></figure><p id="1947" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单线性回归</p><p id="1706" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">简单线性回归</strong>是具有单一输入/解释变量的<a class="ae je" href="https://en.wikipedia.org/wiki/Linear_regression" rel="noopener ugc nofollow" target="_blank">线性回归</a>模型。</p><p id="c386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的示例中，显示了一条直线，它以最恰当的方式描述了这种关系。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/7aae39e81d287d18d29fb10269168e58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ZLKwGIYCUUp3mZdenD4lQ.png"/></div></div></figure><p id="bd6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很明显，单条线不可能穿过该图的所有点。因此，在两个变量x和y之间不存在完美的函数关系。然而，散点图表明，可以画一条线，使所有点分散在它的周围</p><p id="bca3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">x和Y之间的关系可以表示为</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jv"><img src="../Images/d8e876cf04a8b4cc6dfa608d8bebd9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/0*3q3B_Qid3qlFwzG8.png"/></div></figure><p id="c814" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的方程就是线性回归模型。它被称为简单线性回归，因为只有一个因变量x</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jw"><img src="../Images/2fec13ef03ade7bfd2b497e85f89c17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:294/format:webp/0*QS_5tXrIkJCUx6kf.png"/></div></figure><p id="0aba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在回归模型中，自变量也称为回归变量或预测变量。因变量Y也称为响应。斜率β1和截距β0也称为回归系数。假设随机误差项<strong class="ih hj"> ε </strong>遵循均值为0、方差为σ的正态分布，因为Y是该随机误差项与均值E(Y)之和，E(Y)是一个常数，因此，在x的任何给定值下，Y的方差都遵循均值为E(Y)、标准差为σ的正态分布。如下图所示。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jx"><img src="../Images/344ba65879b8e7932dfa52bb78ddc8d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/0*0GSzozxH_iLa0ZqG.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">很明显，找不到一条线能穿过图中所有的点。因此，这两个变量之间不存在函数关系</figcaption></figure><h1 id="d8f4" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">拟合回归线</h1><p id="fcca" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">通过找到最小化残差平方和(RSS)的系数来获得拟合线。RSS是一种统计技术，用于测量回归模型无法解释的方差。因此，非常直观地，如果方差最小化，我们的模型将相应地更加准确。如下所示，残差是预测值和实际值之间的距离</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lb"><img src="../Images/b970eabc4b3b40448d963c34e2740761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/0*66_s9b9YANR5P884.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">残留的；剩余的</figcaption></figure><p id="af91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如下所示，RSS是所有残差的平方和，“因此残差平方和”已经使用微积分最小化。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lc"><img src="../Images/f47e5439e2559ba015bfde84e328b93b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fX1GbmefDLHnTgJS.png"/></div></div></figure><p id="30df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://image1.slideserve.com/1607401/total-explained-and-residual-sum-of-squares-l.jpg" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">、总解释和残差平方和</strong> </a></p><ul class=""><li id="fda2" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">解释的平方和:预测的Y和Y的平均值之间的平方差的和，或者，</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lm"><img src="../Images/1721696eb6947c76fdac12ba316c35ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:286/format:webp/0*vwEWviDKcNmxwYvg.png"/></div></figure><p id="751f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">直觉:ESS告诉我们因变量的变化有多少已经被我们的模型解释了</strong></p><ul class=""><li id="c510" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">残差平方和:实际Y和预测Y的平方差之和，或者，</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jw"><img src="../Images/4f5d8a0d43046c20ae8ccd1166558147.png" data-original-src="https://miro.medium.com/v2/resize:fit:294/format:webp/0*nI7Ysboplp-8bbC8.png"/></div></figure><p id="c002" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直觉:RSS告诉我们有多少因变量的变化是我们的模型没有解释的。</p><ul class=""><li id="ed34" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">总平方和:实际Y和Y平均值之间的平方差之和，或者，</li></ul><p id="6b8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给定这些定义，情况必然是…TSS = ESS + RSS </p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ln"><img src="../Images/871b7c0f2f6cc7f106474f921e395c7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/0*vjTQuML3cVPtvvnW.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">TSS=ESS + RSS</figcaption></figure><p id="68cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://image1.slideserve.com/1607401/the-coefficient-of-determination-or-r-squared-l.jpg" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">决定系数或R平方</strong> </a>我们如何知道我们的方程有多精确？R-squared告诉我们方差的多大比例已经被我们的模型解释了，它是一个介于0和1之间的值，值越高，拟合越好。</p><p id="7678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">决定系数或R平方:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lo"><img src="../Images/3eb10933679c9878bf9a572ed1520b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/0*KKy2mf_JI13OAp9M.png"/></div></figure><p id="5d65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">RSS的缺点</strong></p><p id="45b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是实际y和预测y之间的绝对差值。现在，如果实际y和预测y的单位改变，RSS也会改变。因此，我们使用相对项R，即1-RSS/TSS。</p><h1 id="4e41" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">线性回归模型的假设</h1><h2 id="71e2" class="lp jz hi bd ka lq lr ls ke lt lu lv ki iq lw lx km iu ly lz kq iy ma mb ku mc bi translated">以下是与线性回归模型相关的四个假设:</h2><ol class=""><li id="c5d4" class="ld le hi ih b ii kw im kx iq md iu me iy mf jc mg lj lk ll bi translated"><strong class="ih hj">线性</strong>:X和Y的均值成线性关系。</li><li id="4d32" class="ld le hi ih b ii mh im mi iq mj iu mk iy ml jc mg lj lk ll bi translated"><strong class="ih hj">同方差</strong>:残差的方差对于x的任意值都是相同的。</li><li id="d1c1" class="ld le hi ih b ii mh im mi iq mj iu mk iy ml jc mg lj lk ll bi translated">独立性:观测值是相互独立的。</li><li id="8d3f" class="ld le hi ih b ii mh im mi iq mj iu mk iy ml jc mg lj lk ll bi translated"><strong class="ih hj">正态性</strong>:对于X的任意固定值，Y是正态分布的。</li></ol><h1 id="efb0" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">模型解释</strong></h1><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mm"><img src="../Images/0329aa9c421a2d4f23450e1f0c16f035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0t5m7etWJJ7QwCeMDO5wew.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mn"><img src="../Images/f09292fe807b9f6cd1b835ae1333c8f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*jIOTwX4ExZSOKjlNW3BQWg.png"/></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mo"><img src="../Images/73f306d52754321fa664a497d594b991.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*auL1gdkroN8tUNQ-rMUPCA.png"/></div></figure><p id="685c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">释义</strong></p><p id="af71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个模型，它预测了时薪净额($)与巨无霸价格($)之间的关系</p><p id="2ace" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该模型估计参数:</p><ul class=""><li id="1753" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">β0估计为-4.154</li><li id="eae7" class="ld le hi ih b ii mh im mi iq mj iu mk iy ml jc li lj lk ll bi translated">β1估计为3.5474</li></ul><p id="5159" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">线性方程估计为:</p><p id="4dac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每小时净工资($)<strong class="ih hj">=</strong>-4.154<strong class="ih hj">+</strong>3.5474 *巨无霸价格($)</p><p id="7d0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用假设检验评估模型的稳健性。</p><p id="f079" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要定义H0和Ha。它们的定义如下:</p><ul class=""><li id="d765" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">H0(零假设):x和y之间没有关系，也就是说，时薪净额和巨无霸价格之间没有关系</li><li id="5a3d" class="ld le hi ih b ii mh im mi iq mj iu mk iy ml jc li lj lk ll bi translated">Ha(另一个假设):x和y之间有某种关系，也就是说，净时薪($)和巨无霸价格($)之间有某种关系。</li></ul><p id="5855" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">β1:</strong>β1的值决定了净时薪($)与巨无霸价格($)之间的关系。如果β1 = 0，则没有关系。在这种情况下，β1为正。这意味着净时薪(美元)和巨无霸价格(美元)之间存在某种关系。</p><p id="3aa4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">t-stat:</strong>t-stat值是系数估计值(β1)远离零的“多少标准差”的度量。小时工资净额(美元)与巨无霸价格(美元)之间的关系越密切，或者换句话说，该系数越显著。在这种情况下，t-stat为5.143。离零足够远了。</p><p id="1ea1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> p值:</strong> p值是一个概率值。它表示在假设零假设为真的情况下，看到给定t统计量的机会。如果p值很小，例如&lt; 0.0001或小于显著性水平(α)，这意味着这是偶然的且没有关系的概率很低。在这种情况下，p值很小。这意味着价格和引擎之间的关系不是偶然的。</p><p id="b667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关系就建立了。准确性怎么样？模型有多精确？为了感受模型的<strong class="ih hj">准确性，一个名为R平方或决定系数的度量是很重要的。</strong></p><p id="3749" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> R平方或决定系数:</strong></p><p id="6f4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> R </strong> - <strong class="ih hj">平方</strong>衡量线性回归模型中自变量(X)解释的因变量(Y)变化的比例，在这种情况下，它是0.52或52 %，这不是最好的，而是中等拟合，0到1之间的分数越高越好。</p><p id="2892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标准误差:</strong>标准误差系数用于计算置信区间，并对因变量和自变量之间存在关系的假设进行统计检验。在我们的例子中，两个系数值都位于置信区间的上下界之间。</p><p id="97ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上限和下限计算如下。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mp"><img src="../Images/3b7774c9d7a306787dbf643efe3afaad.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*p9LtckRajj6FSsrlMkL1Vg.png"/></div></figure></div></div>    
</body>
</html>