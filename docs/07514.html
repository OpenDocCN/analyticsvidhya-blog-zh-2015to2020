<html>
<head>
<title>Visualising COVID19</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可视化COVID19</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/visualising-covid19-d3577ebee496?source=collection_archive---------16-----------------------#2020-06-28">https://medium.com/analytics-vidhya/visualising-covid19-d3577ebee496?source=collection_archive---------16-----------------------#2020-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a4c9" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">疫情一起冠状病毒疫情分析</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/218761e7f845df164476afab2e62220c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PqaTzOiT9H0dG3Vn"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">马库斯·斯皮斯克在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="c574" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi kk translated"><span class="l kl km kn bm ko kp kq kr ks di">C</span>2019年12月，中国武汉地区首次发现了冠状病毒，2020年3月11日，世界卫生组织(世卫组织)将新冠肺炎疫情归类为疫情。在这之间的几个月里发生了很多事情，在伊朗、印度、美国、韩国、意大利和许多其他国家爆发了大规模疫情。</p><p id="6e95" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们知道新冠肺炎通过呼吸道飞沫传播，如通过咳嗽、打喷嚏或说话。但这是一种可视化的方法，可以显示病毒在全球传播的速度有多快，以及它是如何从中国的爆发中以大规模疫情的形式出现的！</p><p id="b293" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是一个尝试，以可视化的新冠肺炎数据，从爆发的前几个星期，看看在什么时候，这种病毒成为一个全球性的疫情，并最终可视化其数字在一些严重受灾国家。</p><p id="6e81" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">用于可视化的数据是从约翰·霍普金斯大学系统科学与工程中心创建的<a class="ae jn" href="https://github.com/RamiKrispin/coronavirus" rel="noopener ugc nofollow" target="_blank">公开数据库</a>中收集的。首先，我们使用截至2020年3月17日的数据，在疫情爆发的前几周，看看这种病毒在什么时候成为全球疫情。</p><p id="903e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> A .导入数据集和所需的库</strong></p><ol class=""><li id="bda7" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">在r中加载readr、ggplot2和dplyr包。</li><li id="59b3" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">使用read_csv函数从datasets/confirmed _ cases _ world wide . CSV中读取确诊病例的数据并进行分配。它以变量confirmed_cases_worldwide。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lj"><img src="../Images/8d6e07f9e3f712a130892e0e5e4ea51b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0q6W95FAz6qh-CMdyR_ZNA.png"/></div></div></figure><p id="1df3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> B .通过绘制全球确诊病例来浏览数据</strong></p><p id="a537" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">上述数据显示了迄今为止全球累计确诊的新冠肺炎病例。仅仅阅读表格中的数字很难了解疫情的规模和增长情况。因此，绘制一个线图来显示全球确诊病例。</p><ol class=""><li id="9e32" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">使用confirmed_cases_worldwide，绘制美学累积案例(y轴)对日期(x轴)的ggplot，并通过添加线几何确保它是一个线图。</li><li id="b3e1" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">将y轴标签设置为“累计确诊病例”</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/3cf98abe1904788c720961a667c19fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsshYoWDdjkgqRNeurFLHg.png"/></div></div></figure><p id="9d2e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> C .将中国与世界其他国家进行比较</strong></p><p id="9540" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该图中的y轴表示非常陡峭的上升，到2020年3月17日，全球确诊病例总数达到约等于200，000例。</p><p id="3afa" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">除此之外，还可以得出其他一些结论:在二月中旬有一个奇怪的上升，然后新病例的速度放缓一段时间，然后在三月再次加速。在疫情爆发初期，新冠肺炎病例主要集中在中国。因此，分别绘制中国和世界其他地区的新冠肺炎确诊病例，看看是否能给我们一些启示。</p><ol class=""><li id="f4af" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">从datasets/confirmed_cases_china_vs_world . CSV中读取中国和世界其他地区确诊病例的数据集，分配给confirmed _ cases _ China _ vs _ world。</li><li id="fa5a" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">用惊鸿一瞥()探索确诊病例_中国_ vs _世界的结构。</li><li id="6f6a" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">画一个确诊病例中国vs世界的ggplot，赋给plt累计确诊病例中国vs世界。</li><li id="550e" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">添加线图层。在这个图层内添加美学:x轴上是date，y轴上是cum_cases，然后用is_china对线条进行分组和着色。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ll"><img src="../Images/5d9ceb0fa183721caeea7400a5dc65ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHxs6VifL4E1_u9nK-SxYQ.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/70cf513d8dd458b9684e8d9ea1374dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NqtPwUtdf_305-SMHNJJgA.png"/></div></div></figure><p id="43c6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> D .注释</strong></p><p id="67bf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以观察到这两条线有非常不同的形状。2月份，大多数病例发生在中国。这种情况在3月份发生了变化，当时它真正成为了一场全球疫情:大约在3月14日，中国境外的病例总数超过了中国境内的病例。这是世卫组织宣布疫情的几天后。</p><p id="d654" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在疫情爆发期间，还发生了几起具有里程碑意义的事件。例如，2020年2月13日中国线的巨大跳跃，不仅仅是疾病爆发的糟糕一天；中国当天改变了报告数据的方式(CT扫描被接受为新冠肺炎的证据，而不仅仅是实验室测试)。</p><p id="6e21" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通过像这样注释事件，我们可以更好地解释情节中的变化，因此修改PLT _ cum _ confirmed _ cases _ China _ vs _ world如下:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/82a4e52d521cf059162ea010cde2fa22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGgutniap-wUnXnvwaGpuA.png"/></div></div></figure><p id="49e7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> E .为中国病例添加趋势线</strong></p><p id="20a4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了衡量中国病例数增长的速度，我们需要在中国病例图上添加一条趋势线。一个很好的起点是观察病例增长是比线性增长快还是慢。</p><p id="b835" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以看到，随着中国报告情况的变化，2020年2月13日左右，病例明显激增。然而，几天后，中国的病例增长放缓，为了描述2020年2月15日后新冠肺炎在中国的增长，我们添加了这条趋势线。</p><ol class=""><li id="6712" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">为日期大于或等于“2020–02–15”的中国观察筛选confirmed_cases_china_vs_world行，并将其分配给china_after_feb15。</li><li id="b878" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">使用china_after_feb15，绘制累计案例与日期的线图。</li><li id="f4ff" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">添加使用线性回归方法计算的平滑趋势线，不使用标准误差带。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/7b11eff028f16ec3668708f6f39b09ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKs_b3G2iijaWWfxA_UA2Q.png"/></div></div></figure><p id="7fe0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> F .为世界其他地区的案例添加趋势线</strong></p><p id="b696" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从上面的图来看，中国的增长率低于线性增长。这表明中国在2月底和3月初至少在一定程度上控制了病毒。现在，类似地比较全球病例的增长。</p><ol class=""><li id="f4cd" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">为非中国的观察结果过滤confirmed_cases_china_vs_world行，并将它们分配给非中国。</li><li id="09dd" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">使用not_china，绘制cum_cases对日期的折线图，并将其分配给plt_not_china_trend_lin。</li><li id="51a8" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">添加使用线性回归方法计算的平滑趋势线，不使用标准误差带。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/9b0a2e0715bf62c0ae5d75f29ebe46d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSnnbnGv8JspSKNBmP7HqQ.png"/></div></div></figure><p id="1a86" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> G .为世界其他地区的趋势添加对数标度</strong></p><p id="f536" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从上面的图中，我们可以看到一条直线根本不适合，世界上其他地方的病例增长比线性增长快得多。因此，尝试在y轴上添加一个对数标度来检查上升是否是指数的。</p><ol class=""><li id="6fa7" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">修改plt_not_china_trend_lin图，以在y轴上使用对数刻度。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/d3525730db8532992aa4550933eccae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rByOj-WqeaOAaDX6SUBjQ.png"/></div></div></figure><p id="4add" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> H .中国以外受COVID19 </strong>影响最严重的国家</p><p id="63a2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">使用对数标度，我们可以更好地拟合数据。从数据科学的角度来看，一个好的契合是一个好消息。但不幸的是，从公共卫生的角度来看，这意味着世界其他地区的新冠肺炎病例以指数速度增长，这在今天非常明显。</p><p id="12cf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">并非所有国家都同样受到新冠肺炎的影响，了解世界上哪些地方的问题最严重将会有所帮助。因此，要找到中国以外在我们的数据集中确诊病例最多的国家；按国家输入了确诊病例的数据。中国的数据被排除在外，以关注世界其他地区。</p><ol class=""><li id="9cd4" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">查看glimpse()的输出以查看confirmed_cases_by_country的结构并使用confirmed_cases_by_country，我们按国家分组。</li><li id="5847" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">汇总以将total_cases计算为cum_cases的最大值。并按total_cases获取前七行。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lm"><img src="../Images/51fdb65e70cc7d616f5acb04d09d4712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJx7AtCO1gqoMqTf9SXibQ.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ln"><img src="../Images/b5e5ff61e985ffd7845eabd8568c83e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*4TkLqNiC1S8z3-jkiXRbrQ.png"/></div></figure><p id="d89d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">一、绘制截至2020年3月中旬的重灾区国家</strong></p><p id="263e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">尽管疫情首次在中国发现，但上表中只有一个东亚国家(韩国)。列出的国家中有四个(法国、德国、意大利和西班牙)位于欧洲，拥有共同的边界。为了获得更多背景信息，我们可以绘制这些国家一段时间内的确诊病例。</p><ol class=""><li id="1b8a" class="kt ku hi jq b jr js ju jv jx kv kb kw kf kx kj ky kz la lb bi translated">从datasets/confirmed _ cases _ top 7 _ outside _ China . CSV中读入中国和世界其他地区确诊病例的数据集，将其赋给confirmed _ cases _ top 7 _ outside _ China，并使用glimpse()浏览confirmed _ cases _ top 7 _ outside _ China的结构。</li><li id="d04d" class="kt ku hi jq b jr lc ju ld jx le kb lf kf lg kj ky kz la lb bi translated">使用Confirmed _ Cases _ top 7 _ outside _ China，绘制cum_cases对日期的折线图，按国家分组和着色，并将y轴标签设置为“累计确诊病例”。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/ae110eedfbee5d76c6c18a0beb284a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u2xtSNLZBXQ1lp0otS-12A.png"/></div></div></figure><p id="32cb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> J .绘制截至今日受灾最严重的国家</strong></p><p id="5bc7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在为了分析受打击最严重的国家。从今天起，我们将不得不导入更新到今天(即2020年6月28日)的新数据，因此我们使用每天更新的Github (Dev)版本的冠状病毒库。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lo"><img src="../Images/10048a89771c5f8bf63829a4a2ffbd2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6MG6dbOp65RJW8RBh3rE4w.png"/></div></div></figure><blockquote class="lp lq lr"><p id="8094" class="jo jp ls jq b jr js ij jt ju jv im jw lt jy jz ka lu kc kd ke lv kg kh ki kj hb bi translated">结论</p></blockquote><p id="1932" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从上面的分析中，我们可以得出该病毒从中国武汉的一场流行病转变为疫情的一场世界危机的时间和转变。我们还可以观察到。中国病例的增加。2月中旬后，由于测试的改进，也考虑将CT扫描作为冠状病毒的测试。此外，使用回归趋势，我们可以清楚地看到世界各地病例的指数增长，我们可以看到当今受到病毒严重打击的国家。这是一种通过使用read、gig-lot和dplyr库在R中可视化来研究世界各地尤其是中国病例数量增长的有效方法。</p><p id="e067" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">具体来看印度，它目前在确诊病例数中排名第四，可以非常正确地说，病例数每天都在增加，尽管政府疏忽大意并取消了封锁，但人们必须记住，病毒尚未根除，他/她应该极其重视个人卫生，以此来维持社会距离规范。</p></div></div>    
</body>
</html>