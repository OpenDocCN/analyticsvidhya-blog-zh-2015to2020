<html>
<head>
<title>Custom Functions to Improve Pitcher Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进投手分析的自定义函数</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/custom-functions-to-improve-pitcher-analysis-d2bbe5043e7d?source=collection_archive---------19-----------------------#2020-07-24">https://medium.com/analytics-vidhya/custom-functions-to-improve-pitcher-analysis-d2bbe5043e7d?source=collection_archive---------19-----------------------#2020-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="00c5" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">对于Statcast数据，一个按日期的音高编号和休息日计数器</h2></div><p id="e94e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">2019年至2020年的棒球休赛期是我或任何人一生中最长的一个赛季，从世界职业棒球大赛结束到常规赛开始，过去了近9个月。在缺乏游戏动作的情况下，作为一个注重数据的棒球迷，我解决问题的一个方法是熟悉Baseball Savant的搜索页面功能的细节，Baseball Savant是MLB stat cast的总部。</p><p id="ffa4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">美国职业棒球大联盟在2015年引入了Statcast。对于那些可能不熟悉Statcast的人来说，它是一个跟踪系统，可以收集以前无法测量的关于棒球比赛中发生的几乎每一种事件的信息。用<a class="ae kc" href="https://www.mlb.com/news/statcast-primer-baseball-will-never-be-the-same/c-119234412" rel="noopener ugc nofollow" target="_blank"> MLB的话说</a>，Statcast收集数据“使用一系列高分辨率的光学摄像机以及安装在所有30个大联盟棒球场的雷达设备”。这项技术可以在任何给定时间精确跟踪球的位置和运动，以及场上的每个球员。”由于与投球有关(这是我最关注的领域)，Statcast开辟了一个全新的信息分析生态系统，提供了垂直释放点、水平释放点、释放范围、速度和加速度(三维)、释放旋转速率等指标。</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es kd"><img src="../Images/68e4c5f16121f81623f7b3eaa79d67b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MftdSqj15yZX3Qkwuy9UCg.jpeg"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx translated">来自<a class="ae kc" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1149153" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae kc" href="https://pixabay.com/photos/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1149153" rel="noopener ugc nofollow" target="_blank">免费图片</a></figcaption></figure><p id="0490" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di"> F </span>对于最近的一个项目，我用Statcast <a class="ae kc" href="https://baseballsavant.mlb.com/statcast_search" rel="noopener ugc nofollow" target="_blank">搜索功能</a>查询了Chris Sale自2017年以来的每一次投球。尽管我对我可以获得的信息印象深刻(自从我主要通过棒球卡或晨报获取统计数据以来，事情显然已经发生了很大变化)，但有几个功能我希望是内置的，但没有。例如，生成的CSV文件在标记每场比赛的投球数方面没有提供任何信息(例如，Sale的第5次投球日期<em class="kt"> x </em>，或者Sale的第87次投球日期<em class="kt"> y </em>)。</p><p id="4aef" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我的数据探索中，当我想根据开始之间的休息天数对Sale的投球历史进行分组时，这里的<code class="du ku kv kw kx b">4</code>表示给定的投球是在连续休息四天之后的比赛中投掷的；或者，在因雨、受伤或停赛的情况下，这个数字可能高达<code class="du ku kv kw kx b">6</code>或<code class="du ku kv kw kx b">15</code>或<code class="du ku kv kw kx b">29</code>。</p><p id="83e0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果不能从Baseball Savant直接获得这些数据点，就要由我来编写自定义函数来计算它们，然后相应地填充我的数据框架。我很高兴在这里分享这些功能，从<code class="du ku kv kw kx b">pitch_counter()</code>开始:</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="c90c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果我愿意，我可以查看Sale每场比赛的所有第20次投球、第50次投球或第100次投球的汇总统计数据，或者轻松地对某场比赛的后期投球和早期投球进行比较。</p><p id="e40a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的函数创建并填充的<code class="du ku kv kw kx b">Pitch_Per_Game</code>列的基础上，我可以稍后继续使用下一个函数—<code class="du ku kv kw kx b">rest_days()</code>—来跟踪每场比赛之前收到的休息日销售额:</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="6d59" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这样，我写了一个名为<code class="du ku kv kw kx b">Days_Between_Starts</code>的专栏。现在，我可以做有趣的可视化，比如这个华夫饼干图:</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es la"><img src="../Images/3945ae6184c0a2fadce7b3c2255461a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_RT3eV_ZgaPjpFzwDyGetA.png"/></div></div></figure><p id="e012" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看起来他习惯了在芝加哥获得更长的休息时间-他在那里度过了2016年-比他自2019年以来在波士顿获得的休息时间更长！如果我在分析Sale的受伤倾向(这是我曾经涉足过的)，那么我会对那些从10到29天不等的惊人的长休息时间非常感兴趣。<em class="kt">如何解释它们？</em></p><p id="7290" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以你有它。几个自定义函数可以很容易地应用于Baseball Savant的任何查询，这可能会打开一些新见解的大门。至少，他们希望这些门更容易打开。</p></div></div>    
</body>
</html>