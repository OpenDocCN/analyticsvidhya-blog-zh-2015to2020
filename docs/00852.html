<html>
<head>
<title>APS Failure at Scania Trucks Data Set: Predicting if a Truck needs Servicing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">斯堪尼亚卡车数据集的APS故障:预测卡车是否需要维修</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/aps-failure-at-scania-trucks-data-set-1eb97b12812?source=collection_archive---------5-----------------------#2019-09-13">https://medium.com/analytics-vidhya/aps-failure-at-scania-trucks-data-set-1eb97b12812?source=collection_archive---------5-----------------------#2019-09-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e8ae98315ae976e9dc737c4d04a34705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjW3HBHh14hmdYTz0cSWVg.jpeg"/></div></div></figure><p id="5b81" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将建立一个分类器，从斯堪尼亚卡车数据集的APS故障中检测斯堪尼亚卡车是否需要维修。</p><blockquote class="jo jp jq"><p id="4fce" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">概要:</strong></p><p id="77f3" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">该数据集包括从日常使用的重型斯堪尼亚卡车上收集的数据。重点介绍的系统是空气压力系统(APS ),它产生压缩空气，用于卡车的各种功能，如制动和换档。数据集的正类由APS系统特定组件的组件故障组成。负类包括与APS无关的部件出现故障的卡车。这些数据由专家选择的所有可用数据的子集组成。</p><p id="51e9" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">我们的目标是最大限度地降低以下相关成本:</p><p id="9916" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">1)机械师进行不必要的检查。(10$)</p><p id="29ad" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">2)遗漏故障货车，可能导致故障。(500$)</p></blockquote><p id="b77e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">目标:-我们的主要目标是正确预测卡车是否需要维修，并将维修成本降至最低。</strong></p><p id="79a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数据集详情:</strong></p><p id="f126" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">训练集总共包含60000个样本，其中<br/> 59000个属于负类，1000个属于正类。测试集包含16000个例子。</p><ul class=""><li id="2ec7" class="jv jw hi is b it iu ix iy jb jx jf jy jj jz jn ka kb kc kd bi translated">属性数量:171</li><li id="8ee7" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">属性信息:出于专有原因，数据的属性名称已被匿名化。它由单个数字计数器和直方图组成，直方图由不同条件的仓组成。通常，直方图在每一端都有开放式条件。例如，如果我们测量环境温度‘T ’,那么直方图可以用4个箱来定义，其中:</li><li id="3c17" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">bin 1收集温度值T &lt; -20</li><li id="297d" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">bin 2 collect values for temperature T &gt; = -20和T &lt; 0</li><li id="d103" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">bin 3 collect values for temperature T &gt; = 0和T&lt; 20</li><li id="98dc" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">bin 4 collect values for temper</li><li id="1381" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">The attributes are as follows: class, then anonymized operational data. The operational data have an identifier and a bin id, like ‘Identifier_Bin’. In total there are 171 attributes, of which 7 are histogram variables. Missing values are denoted by ‘na’.</li></ul><p id="2db4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">GitHub Repo:</strong><a class="ae kj" href="https://github.com/subhande/APS-Failure-at-Scania-Trucks-Data-Set" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">https://GitHub . com/subhande/APS-Failure-at-Scania-Trucks-Data-Set</strong></a></p><p id="7d37" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">项目概述:</strong></p><p id="188e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们将构建一个分类器，它将最小化服务成本。在第一步中，我们将使用平均值、中值和众数估算法估算缺失值。在第二步中，我们将应用逻辑回归、线性回归、随机森林、GBDT来最小化成本。在第三步中，我们将使用过采样数据，并应用随机森林和GBDT来最小化服务成本。</p><p id="c72c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个二元分类问题。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/7586db0d154afbb2a3f8ad81a2dfa5ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XdurdJlOJvUvCniL6C2ukA.png"/></div></div></figure><p id="a993" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">为模型准备数据:</strong></p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="4803" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从EDA分析，我们知道这是一个非常高度不平衡的数据。该数据集有许多缺失值。几乎每一列都有一些缺失值。我们将估算缺失的值。各种技术可用于估算缺失值。</p><p id="33a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我们将使用三种最常见的估算技术，即均值、中值和最频繁(模式)。我们将使用<a class="ae kj" href="https://scikit-learn.org/stable/modules/generated/sklearn.impute.SimpleImputer.html" rel="noopener ugc nofollow" target="_blank"> sklearn SimpleImpute </a>来估算缺失值。</p><p id="6410" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们将使用标准化数据进行逻辑回归。SVM和非标准化随机森林和XGBoost(基于树的方法取决于相对顺序)。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><p id="88b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> ML车型:</strong></p><p id="88d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将训练逻辑回归，线性SVM，随机森林和XGBoost的平均，中位数，模式估算数据。我们将对均值、中值、模式数据进行过采样，并对过采样数据训练随机森林和XGBoost，即总计我们将总共训练4*3 + 2*3 = 18个模型。我们将使用以下三条管道来训练模型。我们将训练数据分为两部分:训练、cv部分。我们将使用cv零件数据进行概率校准。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/ba934e14ea8266ee52b06bd777fff444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OL6KQTrdYx0rD8lwhEI45A.png"/></div></div></figure><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/671e8bffb2999182dfe9d56a58d4d029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WO0GPe95lCBeh3E3b3qdLg.png"/></div></div></figure><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/7f87a7dcd3a32c2ad5442f771899c8aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a6vac2sKGMdEMFblZWggsQ.png"/></div></div></figure><p id="e42c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们使用了逻辑回归、线性SVM、随机森林和XGBoost。我们观察到基于树的方法工作得更好(我们知道对于表格数据，随机森林和XGBoost ),如随机森林和XGBoost。</p><p id="e485" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">中值估算数据的XG boost:-</strong></p><p id="1106" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们使用中位数估算数据，因为我们有很多缺失值。我们正在使用RandomSearchCV和10倍交叉验证进行超参数训练。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/cee7d5fcebdf9c789c3934f53a44ff78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xVgbFBhRGwqC1EQzzny_g.png"/></div></div></figure><h2 id="81a2" class="kv kw hi bd kx ky kz la lb lc ld le lf jb lg lh li jf lj lk ll jj lm ln lo lp bi translated"><strong class="ak">训练费用:25000 ||测试费用:52680 </strong></h2><p id="8011" class="pw-post-body-paragraph iq ir hi is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hb bi translated">现在，我们将使用验证数据校准概率得分，以进一步最小化成本。这里，我们将使用precision_recall_curve来获取阈值，并使用不同的阈值来最小化成本。我们将选择成本最低的阈值。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/c5425af25407a5830810795194d79e0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PuHTHt_yMZ8DPC-jhjwexQ.png"/></div></div></figure><h2 id="0cff" class="kv kw hi bd kx ky kz la lb lc ld le lf jb lg lh li jf lj lk ll jj lm ln lo lp bi translated">培训费用:15570 ||测试费用:11140</h2><p id="0d05" class="pw-post-body-paragraph iq ir hi is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hb bi translated">经过概率校准后，我们已经大大降低了成本。</p><p id="aeaa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> XGBoost对过采样中值估算数据:- </strong></p><p id="9d1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们使用中位数估算数据，因为我们有很多缺失值。我们使用SMOTE对中位数估算数据进行了过采样。我们正在使用RandomSearchCV和10倍交叉验证进行超参数训练。</p><figure class="kl km kn ko fd ij"><div class="bz dy l di"><div class="kp kq l"/></div></figure><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/5e320b1246ae4475bba9934ff4c87cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dzs4176NTUjAbXeNoHj4fA.png"/></div></div></figure><h2 id="99ca" class="kv kw hi bd kx ky kz la lb lc ld le lf jb lg lh li jf lj lk ll jj lm ln lo lp bi translated">训练费用:19420 ||测试费用:27860</h2><p id="9e19" class="pw-post-body-paragraph iq ir hi is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hb bi translated">现在，我们将使用验证数据校准概率得分，以进一步最小化成本。这里，我们将使用precision_recall_curve来获取阈值，并使用不同的阈值来最小化成本。我们将选择成本最低的阈值。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/e11cc8a65da5019f0619afdc33fee34f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Di5Oy33esDVfVRxkoxHvg.png"/></div></div></figure><h2 id="677f" class="kv kw hi bd kx ky kz la lb lc ld le lf jb lg lh li jf lj lk ll jj lm ln lo lp bi translated">培训费用:13740 ||测试费用:8660</h2><p id="239b" class="pw-post-body-paragraph iq ir hi is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hb bi translated">经过概率校准后，我们已经大大降低了成本。</p><h1 id="9d8d" class="lv kw hi bd kx lw lx ly lb lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated"><strong class="ak">所有车型的性能对比</strong></h1><p id="e4fe" class="pw-post-body-paragraph iq ir hi is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hb bi translated"><strong class="is hj">不平衡数据:- </strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/68409b0135872859e05376631fd110db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*993mntEBBtX9zjkmEKM8Cg.jpeg"/></div></figure><p id="85d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">平衡数据(过采样):- </strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/97cda4c8b176ab9cd9bd639c347fa70e.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*ZOQU-waAy0bdCVpewI2y6Q.jpeg"/></div></figure><ul class=""><li id="4165" class="jv jw hi is b it iu ix iy jb jx jf jy jj jz jn ka kb kc kd bi translated">使用SMOTE的中值估算和过采样数据的XGBoost模型表现最佳。</li><li id="d2e4" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">比其他估算执行的中位数估算数据。</li><li id="033c" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">XGBoost和Random Forest的表现优于其他模型。</li><li id="0bf7" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">测试数据的最低成本现在是8660美元，这是一个巨大的进步。</li><li id="62e2" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">详细代码参见<a class="ae kj" href="https://github.com/subhande/APS-Failure-at-Scania-Trucks-Data-Set" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>。</li></ul><h1 id="c4e2" class="lv kw hi bd kx lw lx ly lb lz ma mb lf mc md me li mf mg mh ll mi mj mk lo ml bi translated">鸣谢:-</h1><ol class=""><li id="2b55" class="jv jw hi is b it lq ix lr jb mo jf mp jj mq jn mr kb kc kd bi translated"><a class="ae kj" href="https://www.kaggle.com/uciml/aps-failure-at-scania-trucks-data-set" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/UC IML/APS-failure-at-Scania-trucks-data-set</a></li><li id="2b18" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn mr kb kc kd bi translated"><a class="ae kj" href="https://ida2016.blogs.dsv.su.se/?page_id=1387" rel="noopener ugc nofollow" target="_blank">https://ida2016.blogs.dsv.su.se/?page_id=1387</a></li><li id="75b7" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn mr kb kc kd bi translated"><a class="ae kj" href="https://www.appliedaicourse.com/" rel="noopener ugc nofollow" target="_blank">https://www.appliedaicourse.com/</a></li><li id="e561" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn mr kb kc kd bi translated"><a class="ae kj" href="https://wallpapercave.com/scania-trucks-wallpapers" rel="noopener ugc nofollow" target="_blank">https://wallpapercave.com/scania-trucks-wallpapers</a></li></ol></div></div>    
</body>
</html>