<html>
<head>
<title>CONNECTING AMAZON RELATIONAL DATABASE WITH R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R连接AMAZON关系数据库</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/connecting-amazon-relational-database-with-r-d9b800e5efb0?source=collection_archive---------5-----------------------#2020-01-09">https://medium.com/analytics-vidhya/connecting-amazon-relational-database-with-r-d9b800e5efb0?source=collection_archive---------5-----------------------#2020-01-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/18490a78b743fc942640d8469ca92725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*32HjaYca33QASNfI"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">托拜厄斯·菲舍尔在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="5a31" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很明显，在过去的十年中，Python和R在任何地方都被广泛地用作工具和开源编程。r被认为是统计实现的最佳选择，而Python则是数据分析和构建生产就绪模型的首选。以本机格式存储数据的最简单方法，但在现实世界的实现中，很少从CSV文件中读取数据。它要么来自数据湖，要么从数据库的数据流中获取。</p><p id="e00a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当需要处理和存储大量数据时，云就出现了。凭借可扩展性和容错性的额外优势，使用云基础设施来处理和存储数据非常经济和安全。AWS是全球广泛采用的云平台。它提供了许多数据分析师/科学家可以使用的服务(sagemaker、AWS机器学习、Athena、S3)。</p><p id="f5d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然这些服务是付费的，但是AWS提供了一个免费的使用层，每个人都可以使用——学生、企业家、小企业等等。人们可以免费探索和体验AWS服务。</p><p id="af50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个简单的教程中，我们将尝试在运行MySql服务器的Amazon数据库实例(Amazon RDS)上存储和检索分析所需的数据。</p><p id="c0fa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要用R或Python创建AWS-RDS之间的连接，我们首先需要设置关系数据库实例来连接。</p><p id="082b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Amazon RDS有各种数据库，如Amazon Aurora、MySQL、MariaDB、PostgreSQL、Oracle、Microsoft SQL Server。在这篇博客中，我们将用MySQL连接R和Python，将数据传输到数据库，查询它并做一些进一步的分析。</p><p id="fdb4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在AMAZON RDS中启动MySQL数据库的步骤:</p><blockquote class="jt ju jv"><p id="bc7d" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">1.【https://aws.amazon.com/console/】<strong class="ix hj"/>访问创建一个AWS账户。</p></blockquote><p id="820e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.登录后，点击“服务”并选择“数据库-&gt;RDS”</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/9b1e02fb315c4d2fad1148c6c4ea6453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*3RiV26UiyV14YFSHjLMtIQ.png"/></div></figure><p id="0caa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.在“选择引擎-&gt;选择MySQL”下，点击选择“创建数据库”。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/a291be0418c13b93fa69353efa5a748f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*M5ZF7_aEDPyoZXyN-nktrQ.png"/></div></figure><p id="43c4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.在底部，就在“下一步”的上方，单击“仅启用符合RDS免费使用层条件的选项”复选框，然后单击“下一步”(尽管不是必需的，因为MySql属于免费使用层)</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/a28dad6e419fe4454e5e54176ce6f514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*zn0wbS09WM7_a49455nUXA.png"/></div></figure><p id="7067" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.在“指定数据库详细信息”下，指定如下所示的详细信息</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/bc6e9ae2a89f10b3674e572f106d5b42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*_rN6kQZ3etKZfK6fu71k_g.png"/></div></figure><p id="83b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.在实例规范下，选择数据库引擎版本、数据库实例、数据库存储作为给定的20GB类(可以增加数据库存储，但必须小心，因为您可能会超出可用限制)</p><p id="416a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.接下来转到设置，然后定义您的数据库实例标识符，指定您的主用户名并填写您的数据库密码(连接数据库时需要)。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/e2091f28cd2202fe1c506e1511f0a68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*4k1yOy8uIR49eM081o429g.png"/></div></figure><p id="a5fb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">8.继续配置高级设置，在这里您需要小心指定您的网络和安全配置，数据库名称和端口。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/d612c3132123066bdf35b499094c9931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*3HrGepgm8-vE0gXHIN4EQA.png"/></div></figure><p id="7b5b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">9.给出您的数据库名称，并将端口指定为3306</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/61fa3608cb615d63bf75356cf2b70007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*1XvoPIQgceucE9CGvGqHzw.png"/></div></figure><p id="a65c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">10.检查高级设置中的默认设置，然后继续</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/6b74a8f9ffa94cf873149ce782ec4623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*JAHC-bZO2EpTlJeQYxLP2w.png"/></div></figure><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/9fbb5e3bab5c3ada1840cb4bdd9f2977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*7sbYlbnxOAB_5E9cDL2uig.png"/></div></figure><p id="90fb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">11.单击以创建数据库。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es km"><img src="../Images/8b1571e8df595acc6ed1c13a987dba80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*3p2lwvKK6QWvd_tK99fA8A.png"/></div></figure><p id="fa32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">12.创建数据库实例后，您将获得<strong class="ix hj">端点</strong>(主机)，也就是说，在与数据库实例建立R连接时，我们将需要它。</p><p id="6777" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">13.与R的连接:</p><p id="df78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，您需要安装某些库。</p><p id="b23e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><br/>库(dplyr)【RMySQL】<br/>库(RMySQL)</p><p id="d4b0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><br/>库(db connect)【RMySQL】库<br/>库(odbc)</p><p id="88a6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">host = " END-POINT "<br/>port = 3306<br/>DBNAME = " Your DBNAME "<br/>USER = " USER "<br/>PASSWORD = " PASSWORD "</p><p id="1968" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">14.要连接AWS:</p><p id="ccf1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">my_db=dbConnect(RMySQL::MySQL()，dbname=dbname，host=host，port=port，user=user，password=password)</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kn"><img src="../Images/59db4715bbf0b9eabb0a67da5f425785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*eicIMZSmHWRiFEuzEZdlHw.png"/></div></figure><pre class="kb kc kd ke fd ko kp kq kr aw ks bi"><span id="725a" class="kt ku hi kp b fi kv kw l kx ky">dbListTables(my_db)</span><span id="7468" class="kt ku hi kp b fi kz kw l kx ky">[1] “no table will be shown”</span><span id="441f" class="kt ku hi kp b fi kz kw l kx ky">Murder Assault UrbanPop Rape</span><span id="338a" class="kt ku hi kp b fi kz kw l kx ky">Alabama          13.2     236       58 21.2</span><span id="beac" class="kt ku hi kp b fi kz kw l kx ky">Alaska           10.0     263       48 44.5</span><span id="96cb" class="kt ku hi kp b fi kz kw l kx ky">Arizona           8.1     294       80 31.0</span><span id="83eb" class="kt ku hi kp b fi kz kw l kx ky">Arkansas          8.8     190       50 19.5</span><span id="4b66" class="kt ku hi kp b fi kz kw l kx ky">California        9.0     276       91 40.6</span><span id="84e8" class="kt ku hi kp b fi kz kw l kx ky">Colorado          7.9     204       78 38.7</span><span id="2bc2" class="kt ku hi kp b fi kz kw l kx ky">Connecticut       3.3     110       77 11.1</span><span id="f288" class="kt ku hi kp b fi kz kw l kx ky">Delaware          5.9     238       72 15.8</span><span id="fd20" class="kt ku hi kp b fi kz kw l kx ky">Florida          15.4     335       80 31.9</span><span id="c814" class="kt ku hi kp b fi kz kw l kx ky">Georgia          17.4     211       60 25.8</span><span id="520b" class="kt ku hi kp b fi kz kw l kx ky">Hawaii            5.3      46       83 20.2</span><span id="3f6b" class="kt ku hi kp b fi kz kw l kx ky">Idaho             2.6     120       54 14.2</span><span id="d756" class="kt ku hi kp b fi kz kw l kx ky">Illinois         10.4     249       83 24.0</span><span id="bd50" class="kt ku hi kp b fi kz kw l kx ky">Indiana           7.2     113       65 21.0</span><span id="3e84" class="kt ku hi kp b fi kz kw l kx ky">Iowa              2.2      56       57 11.3</span><span id="7a47" class="kt ku hi kp b fi kz kw l kx ky">Kansas            6.0     115       66 18.0</span><span id="eb6f" class="kt ku hi kp b fi kz kw l kx ky">Kentucky          9.7     109       52 16.3</span><span id="197b" class="kt ku hi kp b fi kz kw l kx ky">Louisiana        15.4     249       66 22.2</span><span id="3a00" class="kt ku hi kp b fi kz kw l kx ky">[1] "Murder"   "Assault"  "UrbanPop" "Rape"</span><span id="91cf" class="kt ku hi kp b fi kz kw l kx ky">dbListTables(my_db)</span><span id="53a5" class="kt ku hi kp b fi kz kw l kx ky">[1] "US"  "tab"</span><span id="018d" class="kt ku hi kp b fi kz kw l kx ky">&gt; US_DB = tbl(my_db,"US")</span><span id="d1c3" class="kt ku hi kp b fi kz kw l kx ky">&gt; class(US_DB)</span><span id="9878" class="kt ku hi kp b fi kz kw l kx ky">[1] "tbl_MySQLConnection" "tbl_dbi"             "tbl_sql"             "tbl_lazy"            "tbl"</span></pre></div></div>    
</body>
</html>