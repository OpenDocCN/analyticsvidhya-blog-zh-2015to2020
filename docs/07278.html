<html>
<head>
<title>Visualisation of COVID19 in India</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">印度COVID19的可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/visualisation-of-covid19-in-india-4121e64947f8?source=collection_archive---------21-----------------------#2020-06-19">https://medium.com/analytics-vidhya/visualisation-of-covid19-in-india-4121e64947f8?source=collection_archive---------21-----------------------#2020-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f05c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这次封锁期间，数据科学家从上传到Kaggle上的各种数据集开始可视化COVID19的情况，所以我决定跟随潮流。我没有从世界各地获取数据，而是将我的分析指定给印度，因为我能够将结果与我在周围看到的联系起来。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/909ba9f66c92b325f557dedb6adbc70f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y5OBszlGMz0f9_7njTimxw.png"/></div></div></figure><p id="ecd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用来自Kaggle和plotly的<a class="ae jp" href="https://www.kaggle.com/sudalairajkumar/covid19-in-india?select=IndividualDetails.csv" rel="noopener ugc nofollow" target="_blank">新冠肺炎</a>数据集，这是我的可视化。</p><p id="853b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据集包含7个文件，其中我使用了以下文件:</p><ul class=""><li id="ab85" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">年龄组详细信息</li><li id="74fe" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">新冠肺炎的细节</li></ul><p id="ec1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除此之外，我使用了<a class="ae jp" href="https://www.mohfw.gov.in" rel="noopener ugc nofollow" target="_blank">卫生和家庭福利部</a>(2020年6月23日)上传的最新数据来进行全州范围的统计。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="38ae" class="kj kk hi kf b fi kl km l kn ko">ag= pd.read_csv('AgeGroupDetails.csv')<br/>sw = pd.read_csv("23.csv")<br/>sw_date = pd.read_csv("covid_19_india.csv")</span></pre></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><h2 id="37b5" class="kj kk hi bd kw kx ky kz la lb lc ld le iq lf lg lh iu li lj lk iy ll lm ln lo bi translated">一段时间内记录的确诊、康复和死亡病例</h2><p id="abe2" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">2020年1月30日，也就是疫情病毒在中国传播的消息传出后近一个月，印度出现了首例阳性病例。患者有武汉外游史，可以在下面的截图中注意到。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="8d45" class="kj kk hi kf b fi kl km l kn ko">sw_date = pd.read_csv("covid_19_india.csv")<br/>sw_date.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/68a0a1569709b03719ee485099401df1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ccc4ct2PljbeFRtpUhOmPQ.png"/></div></div></figure><p id="a6e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用同一个csv文件，我删除了不需要的列，并合并了每个诊断日期的结果。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="0e78" class="kj kk hi kf b fi kl km l kn ko">sw_date = sw_date.drop(columns = ['Sno','Time','State/UnionTerritory','ConfirmedIndianNational','ConfirmedForeignNational'])<br/>sw_date["Date"] = pd.to_datetime(sw_date["Date"]).dt.strftime('%d-%m-%y')<br/>sw_date["Date"] = pd.to_datetime(sw_date["Date"])<br/>sw_date = sw_date.groupby('Date', as_index=False).sum()<br/>sw_date</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lv"><img src="../Images/7aa2c950cff17ba2d3a78d664a63a864.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*-b82MxE4c1QZ5JSL21KxfQ.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">软件日期</figcaption></figure><p id="beb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，为了制作一个显示疾病进展的对比线图，我使用了以下代码</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="886b" class="kj kk hi kf b fi kl km l kn ko">sw_date = sw_date.melt(id_vars='Date', <br/>                 value_vars=['Confirmed', <br/>                             'Cured', <br/>                             'Deaths'], <br/>                 var_name='Ratio', <br/>                 value_name='Value')</span><span id="6cb1" class="kj kk hi kf b fi ma km l kn ko">fig = px.line(sw_date, x="Date", y="Value", color='Ratio')<br/>fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/9e7e5ead707b3b399e93a51f51603faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRecbGBiIw0F8cF80vcdOQ.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">COVID19在印度的进展</figcaption></figure><p id="2a1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从图表中可以看出，截至2020年4月，即全国范围封锁的第一阶段结束时，确诊病例数量急剧增加。在此之后，随着病例继续增加，某些州承诺进一步延长封锁期。尽管如此，可以注意到确诊病例曲线有一个巨大的陡坡，并且没有减缓的迹象。</p><p id="a8a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">治愈患者的曲线显示了类似的趋势。需要考虑的一件事是，在5月29日至30日之间，治愈病例的数量出现了急剧下降——11，264个记录。</p><p id="1ce0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着确诊病例的增加，死亡率也呈上升趋势。</p><h2 id="eb1e" class="kj kk hi bd kw kx ky kz la lb lc ld le iq lf lg lh iu li lj lk iy ll lm ln lo bi translated">状态数据</h2><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="a823" class="kj kk hi kf b fi kl km l kn ko">sw['Cured_Percentage'] = (sw['Cured']/sw['TotalConfirmed'])*100<br/>sw['Death_Percentage'] = (sw['Death']/sw['TotalConfirmed'])*100<br/>sw['Active_Percentage'] = (sw['Active']/sw['TotalConfirmed'])*100</span><span id="abf0" class="kj kk hi kf b fi ma km l kn ko">sw.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/dabb299e7686fd2643fcfc0abd243ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dj3X3Mf8o6a-yoWOpQPrJQ.png"/></div></div></figure><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="b078" class="kj kk hi kf b fi kl km l kn ko">fig = px.treemap(sw, path=['State'], values='TotalConfirmed', height=600, width=1000, title = 'State Wise Display Based on Total Number of Positive Cases')<br/>fig.update_layout(<br/>    title_x = 0.5,<br/>    geo=dict(<br/>        showframe = True,<br/>        showcoastlines = True,<br/>    ))</span><span id="9c68" class="kj kk hi kf b fi ma km l kn ko">fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/b97ec8b26f3c73a72a738a7450cc4f72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x2MxILAoWCKls7yQbqslyQ.png"/></div></div></figure><p id="fed8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">树形图是一种基于数据层次显示数据的好方法。该图中的矩形框根据记录的阳性病例数按降序排列。为了更清楚地了解相同条件下的前10个州，我使用了散点图。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="2be3" class="kj kk hi kf b fi kl km l kn ko">fig = px.scatter(sw1, x="TotalConfirmed", y="Active", size="Active", color="State",<br/>                 hover_name="State", log_x=True, size_max=60, title ="Top 10 States Based on Total Number of Positive Cases Recorded against Currently Active Cases")<br/>fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/0eeb139c1f7b7404feff6a356fcfd87f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXxtaxSjmpgAWHCD1yiS2A.png"/></div></div></figure><p id="0921" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看出，马哈拉施特拉邦记录的病例和样本总数最高，其次是德里。为了更清楚地了解总确诊病例数、死亡人数、活跃病例数之间的关系，我为相同的州创建了一个条形图。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="177b" class="kj kk hi kf b fi kl km l kn ko">x = sw1.State<br/>y1 = sw1.TotalConfirmed<br/>y2 = sw1.Active<br/>y3 = sw1.Death<br/>fig = go.Figure(data=[<br/>    go.Bar(name='Total Positive Cases Reported', x=x, y=y1),<br/>    go.Bar(name='Active', x=x, y=y2),<br/>    go.Bar(name='Death', x=x, y=y3)<br/>    ])<br/>#Change the bar mode<br/>fig.update_layout(barmode='group', title ="Top 10 States Based on Number of Positive Cases Recorded")<br/>fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/1769872dcee2d0215f85688a9f6ab79f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZlsN2RyyiPQRAEag_ZNguw.png"/></div></div></figure><p id="a82b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然这确实提供了充足的信息，但我想检查活动病例百分比与记录的死亡百分比之间的关系。</p><p id="529e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了做到这一点，我必须根据死亡百分比的降序排列数据。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="2999" class="kj kk hi kf b fi kl km l kn ko">x = sw2.State<br/>y2 = sw2.Active_Percentage<br/>y3 = sw2.Death_Percentage<br/>fig = go.Figure(data=[<br/>    go.Bar(name='Active', x=x, y=y2),<br/>    go.Bar(name='Death', x=x, y=y3)<br/>    ])<br/>#Change the bar mode<br/>fig.update_layout(barmode='group', title ="Percentage of Active and Death Cases as of 23/06/2020")<br/>ylable='Percentage'<br/>fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/086ee44b77b6b5687df43bdc97575e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oWmVotJbPGVIYJ3lPMg6Ag.png"/></div></div></figure><p id="51f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里可以看出，尽管马哈拉施特拉邦记录的活跃病例数量较高，但死亡百分比在古吉拉特邦更高。</p><h2 id="6920" class="kj kk hi bd kw kx ky kz la lb lc ld le iq lf lg lh iu li lj lk iy ll lm ln lo bi translated">受COVID影响的年龄组</h2><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="8125" class="kj kk hi kf b fi kl km l kn ko">ag= pd.read_csv('AgeGroupDetails.csv')<br/>fig = px.pie(ag, values='TotalCases', names='AgeGroup', title ="Age Groups Affected by COVID19 in Percentage")<br/>fig.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/1f16bba15de99e602b9078ca17517cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZC9x-h0b7B29ggFzZpU9fw.png"/></div></div></figure><p id="1fec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据显示，被诊断患有该疾病的患者年龄在20-39岁之间，这与最初的说法相矛盾，即COVID19更容易影响新生儿或老年人。</p><h2 id="8ef4" class="kj kk hi bd kw kx ky kz la lb lc ld le iq lf lg lh iu li lj lk iy ll lm ln lo bi translated">结论</h2><p id="101d" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">正如我的图表所示，COVID19在印度的传播没有显示出放缓的迹象。现在封锁已经解除，确诊病例的数量呈指数增长，死亡率也在上升，因此采取必要的预防措施和保持社会距离至关重要。</p><ul class=""><li id="dc83" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">*顶部显示的<a class="ae jp" href="https://www.igismap.com/download-india-boundary-shapefile-free-states-boundary-assembly-constituencies-village-boundaries/" rel="noopener ugc nofollow" target="_blank">地图</a>的代码*</li></ul><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="c86d" class="kj kk hi kf b fi kl km l kn ko">map = gpd.read_file("Igismap/Indian_States.shp")<br/>map.rename(columns = {"st_nm":"State"}, inplace = True)<br/>map["State"] = map["State"].str.replace("&amp;","and")<br/>map["State"].replace("Arunanchal Pradesh",<br/>                              "Arunanchal Pradesh", inplace = True)<br/>map["State"].replace("Telangana", <br/>                              "Telangana", inplace = True)<br/>map["State"].replace("Andaman and Nicobar Island", <br/>                              "Andaman and Nicobar Island", <br/>                               inplace = True)<br/>map_data</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es me"><img src="../Images/4313b8a666716b3f5037fe41c352e64d.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*V9jHmuE2txwM8e_yOJ1imQ.png"/></div></figure><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="899c" class="kj kk hi kf b fi kl km l kn ko">sw["State"] = sw_state["State"].str.replace("&amp;","and")<br/>sw_top = pd.DataFrame({"State" : ["Dadara and Nagar Havelli"],"Pos":["0"], "Neg":["0"]})<br/>sw = pd.concat([sw_top, sw_state]).reset_index(drop = True)<br/>sw["State"].replace("Dadra and Nagar Haveli and Daman and Diu", <br/>                              "Daman &amp; Diu", <br/>                               inplace = True)<br/>sw = sw_state.groupby("State", as_index = False).sum()<br/>sw.fillna(0, inplace = True)<br/>sw.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mf"><img src="../Images/48007daa8caf04e33ec2c61b45866b16.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*p81gWip9XzSMSAhEiVS2QQ.png"/></div></figure><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="3654" class="kj kk hi kf b fi kl km l kn ko">merged_data = pd.merge(map, sw, <br/>                       how = "left", on = "State")<br/>merged_data.fillna(0, inplace = True)<br/>merged_data = merged_data.sort_values(by = ['Pos'],ascending= False)<br/>merged_data.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mg"><img src="../Images/ee5dd781271374b1f5e8d702dd9c24f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*t4kp5Bpq8MV4czGotMduHA.png"/></div></figure><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="5c50" class="kj kk hi kf b fi kl km l kn ko">fig, ax = plt.subplots(1, figsize=(20, 12))<br/>ax.axis("off")<br/>ax.set_title("Covid-19 Statewise Data — Percentage of Confirmed Cases", <br/>             fontdict =  {"fontsize": "25", "fontweight" : "3"})<br/>merged_data.plot(column = "Pos", cmap="BuPu", <br/>                 linewidth=0.8, ax=ax, edgecolor="0.8", <br/>                 legend = True)<br/>plt.show()</span></pre><p id="d4f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">*瞧</p></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="beb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我第一次做数据集的可视化，所以我真的很感谢任何反馈:)</p></div></div>    
</body>
</html>