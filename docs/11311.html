<html>
<head>
<title>Predictive Repurchase Model Approach with Azure ML Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Azure ML Studio的预测性回购模型方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predictive-repurchase-model-approach-with-azure-ml-studio-2d63cc067e22?source=collection_archive---------19-----------------------#2020-11-28">https://medium.com/analytics-vidhya/predictive-repurchase-model-approach-with-azure-ml-studio-2d63cc067e22?source=collection_archive---------19-----------------------#2020-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/348001ce6558da61e1ffa3212baa4f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xuV3oLJTfAIUJw9220PDVA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片:Unsplash.com</figcaption></figure><p id="6bc2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我将尝试解释一种方法，如何评估客户购买消费品或汽车等的意向。在Azure ML Studio中。</p><p id="1e73" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，我们应该检查我们的数据质量，并决定我们将在预测模型中使用的时间间隔。我们可以使用过去5年的销售和客户数据来完成数据收集任务。我们可以根据所有客户的交易、发票金额、活动响应以及他们的RFM(近期、频率、货币)数据点收集他们4年的数据。然后，我们可以将去年再次购买的客户标记为我们的目标客户。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/a13bcb7b1751914959c5be94835e6f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*SJvHPrrNUzuL9dko_0IJYg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">建模过程—<a class="ae jx" href="https://www.dataiku.com/stories/models/" rel="noopener ugc nofollow" target="_blank">https://www.dataiku.com/stories/models/</a></figcaption></figure><p id="1508" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有一些重要的数据点你应该计算和设计。例如，每种发票类型的发票金额、品牌所有权、每种类型的商品数量以及您可以在建模中使用的客户接触点数据。呼叫中心呼叫NPS得分和失去的销售机会计数也是建模的重要输入。客户的数字足迹也是提高模型准确性的非常重要的数据点。我还为每个客户添加了每个产品类型的产品计数。我更喜欢收集数字格式的必要数据。这就是为什么我们应该将一些数据点格式化为数字格式，例如，我将商业帐户设置为“1 ”,将个人帐户设置为“2 ”,以便在模型中使用。能够从不同的系统收集数据并为这种工作创建客户的整体视图是很重要的。</p><p id="4be0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我认为另一个重要而棘手的部分是了解你公司所在行业的商业和市场动态。您应该知道哪些数据会对您的建模成功产生影响。此外，你应该从销售、营销甚至财务部门获得足够的信息，以了解什么驱动着忠诚的客户，什么驱动着持久的客户关系。它将减轻你解释你的洞察力和你的模型结果的工作。</p><p id="432b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">收集数据后，我做了一些数据测试，以确保数据是正确的。之后我用Python进行了EDA(探索性数据分析)部分。我在EDA部分使用了<strong class="iw hj">熊猫简介报告</strong>包，我发现它非常有用。安装数据后，您可以编写pp.profilereport (df ),您将获得有关数据的所有详细信息，如一般数据集信息、变量类型、每个数据点的警告，以及每个变量的详细信息，如最小值、最大值、平均值、不同计数、缺失数据和零百分比。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/e7a4b302061cb7bfeda4b5726a921348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*j_ASBwYe09wRBZ7nMQMbCQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Python EDA</figcaption></figure><p id="fac2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这也给出了Spearman和Pearson指标中数据点之间的相关性。我们可以看到与我们的目标点最相关的数据点，这是显示客户去年再次购买的标志字段。我在这里标记了20个最相关的数据点，以便在建模阶段尝试。</p><p id="a644" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我将数据上传到Azure ML Studio来执行建模阶段。它易于使用，是一个创建预测模型的拖放工具。因此，我们收集了数据，执行了EDA，现在我们更好地了解了我们的数据。由于我们将目标数据字段创建为一个标志(1或0)，我们的建模问题现在是一个两类问题，我将使用Azure ML Studio中的所有两类算法来获得最佳结果。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/40f21199362d8c71d129194787f2bfaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*M_ocAwB_ElIzK_FRspKj2w.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Azure ML工作室</figcaption></figure><p id="0ae3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上传数据后，我意识到我的目标数据太少，无法创建一个好的模型。我的意思是回购客户对我们的模式来说太少了。这就是我使用过采样方法的原因。在ML Studio中它被称为SMOTE。您可以在此功能中指定增加目标字段的百分比。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/b06cc1569e18f8199cfa19b428a9e92e.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*eRRNDHGKf8uDb3SdljnOOQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">重击</figcaption></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/8dbc45fa27b87dcd60222611d996671d.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*izqsQhZO9lI1B0LsjHBkfg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Azure ML工作室</figcaption></figure><p id="2df5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之后，我们准备设置模型并比较结果。我尝试了所有的两类算法来寻找最准确的结果，如SVM，神经网络，决策树，提升决策树等…</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/153204748e03a303432a2f57491e9cf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*uFiT6t2uIwpdmYNTtvW4IQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">SVM结果</figcaption></figure><p id="94d7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上面你可以看到一个SVM模型的示例结果分数。对于我们的问题，检查F1的分数很重要。准确度一般保持在0.95–0.98水平。在我们的问题中，这是正常的，因为我们的目标数据字段中有许多零。我正在比较结果页面上的F1分数。在两类神经网络算法中，我们得到了最好的结果。我们得到了0.73的F1分数。</p><p id="971a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kd">在一个</em><a class="ae jx" href="https://en.wikipedia.org/wiki/Statistics" rel="noopener ugc nofollow" target="_blank"><em class="kd"/></a><em class="kd">的统计</em> <a class="ae jx" href="https://en.wikipedia.org/wiki/Binary_classification" rel="noopener ugc nofollow" target="_blank"> <em class="kd">的二元分类</em></a><em class="kd"/><strong class="iw hj"><em class="kd"/></strong><em class="kd"/><strong class="iw hj"><em class="kd">F-score</em></strong><em class="kd">或</em><strong class="iw hj"><em class="kd">F-measure</em></strong><em class="kd">是衡量一个测验的准确性。它考虑测试的</em> <a class="ae jx" href="https://en.wikipedia.org/wiki/Precision_(information_retrieval)" rel="noopener ugc nofollow" target="_blank"> <em class="kd">精度</em> </a> <em class="kd"> p和</em> <a class="ae jx" href="https://en.wikipedia.org/wiki/Recall_(information_retrieval)" rel="noopener ugc nofollow" target="_blank"> <em class="kd">召回</em> </a> <em class="kd"> r来计算分数:p是正确阳性结果的数量除以分类器返回的所有阳性结果的数量，r是正确阳性结果的数量除以所有相关样本(所有本应被识别为阳性的样本)的数量。F1分数是</em><a class="ae jx" href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener ugc nofollow" target="_blank"><em class="kd"/></a><em class="kd">的</em><em class="kd">调和平均值</em>  <em class="kd">，其中F1分数在1处达到最佳值(完美的精度和召回)，在0处达到最差值。</em> <strong class="iw hj"> <em class="kd">(维基)</em> </strong></p><p id="347e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，我们可以获得CSV形式的客户分数，并为这些客户计划特殊行动/活动。通过这项工作，您可以提高营销活动的销售线索和发票转化率。如果您正在构建一个实时分析结构，那么您可以在您的业务系统中将您的模型与Web服务结合使用。</p></div></div>    
</body>
</html>