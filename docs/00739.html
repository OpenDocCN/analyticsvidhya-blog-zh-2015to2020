<html>
<head>
<title>Movie Review Analysis using Twitter API and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Twitter API和Python进行电影评论分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/movie-review-using-twitter-api-and-python-6258782869e0?source=collection_archive---------10-----------------------#2019-09-02">https://medium.com/analytics-vidhya/movie-review-using-twitter-api-and-python-6258782869e0?source=collection_archive---------10-----------------------#2019-09-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c385" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twitter API和几个Python库可以用来检索和分析关于特定电影的公共tweets，以确定观众对它的感受。这是一篇关于我如何做到的短文。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/01a76226c4d5e0f16b2c009db8492ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*knT__rjcqV7Yy6X0njbfKA.jpeg"/></div></div></figure><p id="b943" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章是为那些想使用Twitter API并做一些简单但对人们有用的事情的初学者写的。如果你对API非常陌生，你必须首先阅读更多关于API的一般知识(<a class="ae jp" href="https://www.upwork.com/hiring/development/intro-to-apis-what-is-an-api/" rel="noopener ugc nofollow" target="_blank">点击这里</a>)或者如果你知道什么是API，你可以阅读关于<a class="ae jp" href="https://developer.twitter.com/en/docs/basics/getting-started" rel="noopener ugc nofollow" target="_blank"> Twitter API </a>的特性。简而言之，Twitter APIs允许所有Twitter用户访问公共推文、转发、时间表、列表、收藏等，还允许发布、更新或删除推文。我在这篇文章中介绍了使用Python连接和访问Twitter API的先决条件和基础知识。</p><p id="1573" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twitter APIs可以使用ruby、php、.net，perl，asp，java，python等。我使用Python来访问和分析使用API的推文，因为我发现Python更容易编码，它为我们提供了大量的库和包可供使用，还因为Python的庞大而活跃的用户社区随时准备在你需要时提供帮助。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h1 id="cc8a" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">入门指南</h1><p id="c985" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">首先，这些是先决条件:</p><h2 id="cd1e" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">创建一个Twitter应用</h2><p id="2544" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">Twitter API可以通过Twitter应用程序访问。如果你有一个Twitter帐户，你可以很容易地创建自己的应用程序。首先，使用你的twitter证书在<a class="ae jp" href="https://developer.twitter.com/en/apply-for-access" rel="noopener ugc nofollow" target="_blank"> Twitter开发者门户</a>上申请开发者权限。其次，在他们的<a class="ae jp" href="https://developer.twitter.com/en/apps" rel="noopener ugc nofollow" target="_blank">创建应用程序页面</a>上创建一个应用程序，在应用程序提交页面填写您的详细信息。如果你没有自己的网站，你可以使用https://www.twitter.com。同样，在注册应用程序时，您也可以使用Twitter条款页面和政策页面。应用程序激活几乎是在你给出所有细节后立即发生的，包括应用程序的用途、示例用例、商业用途等。创建应用程序后，您将在密钥和令牌部分找到API密钥和其他令牌。这些是使用您编写的程序访问Twitter API所需要的，所以请将它们放在手边。</p><h2 id="5034" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">安装Python 3.7或任何最新版本</h2><p id="f013" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">安装Python相当简单。你可以简单的按照他们<a class="ae jp" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">官方页面</a>上的安装步骤。</p><h1 id="320f" class="jx jy hi bd jz ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku bi translated">主程序</h1><p id="059f" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">你可以在这里找到我的Python代码。该计划细分如下:</p><h2 id="c162" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">图书馆</h2><p id="d3cd" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我使用了两个Python库:tweepy和textblob。Tweepy是Python的Twitter库，专门用于使用Python访问Twitter API。Textblob是一个用于处理文本数据的库，它提供了执行NLP(自然语言处理)任务的方法，如词性标注、情感分析、翻译等。</p><p id="a254" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为这两个不是Python中的默认库，所以您必须安装它们。您只需在cmd中输入下面几行就可以简单地安装这两个库</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="7504" class="la jy hi lu b fi ly lz l ma mb">pip install tweepy</span></pre><p id="a05f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">cmd将自动在您的系统上安装tweepy。同样的，</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="58ae" class="la jy hi lu b fi ly lz l ma mb">pip install textblob</span></pre><p id="5516" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将在您的系统上安装textblob库。</p><h2 id="291d" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">证明</h2><p id="c53c" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">如前所述，您将需要您的消费者密钥、消费者机密、访问密钥和访问机密，以便为您的代码提供与Twitter API进行交互、整理数据和运行分析所需的权限。如果您遵循第6行到第13行的代码，您会注意到</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="ae01" class="la jy hi lu b fi ly lz l ma mb">api=tweepy.API(auth)</span></pre><p id="a834" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将成为你所有Twitter呼叫的处理者。这个“api”拥有授权和认证，可以像您一样访问Twitter API。</p><h2 id="0ab3" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">搜索推文</h2><p id="c814" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我使用GET方法调用Twitter搜索API。这在Python代码中没有显式显示，因为我使用tweepy库来访问Twitter API。Tweepy图书馆给你。search('#searchterm ')方法，它负责使用GET方法，您只需要担心如何给它提供正确的参数。</p><p id="d96d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twitter标准搜索API在一个请求中最多只返回100条推文。因此，如果您想要分析100多条推文(大多数情况下都会这样)，您必须多次调用搜索API，收集推文，将它们存储在本地，然后进行分析。为此，我编写了一个小循环，运行多次来收集所需数量的tweets，并将它们存储在本地的Python字典中。在这个程序中，我要求用户输入一个搜索词，通常是电影标签(例如#saahoreview)，使用这个标签搜索推文，并存储它们以供进一步分析。</p><h2 id="bf42" class="la jy hi bd jz lb lc ld kd le lf lg kh iq lh li kl iu lj lk kp iy ll lm kt ln bi translated">情感分析</h2><p id="61e7" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">TextBlob库是一个非常强大的库，有许多工具和方法来对“文本”进行大量分析。我在这个库中使用了一个小方法来运行我的分析，这相当容易。有了本地存储的推文列表，你现在可以分别对每条推文进行情感分析。下面是如何进行情感分析的总结:</p><pre class="je jf jg jh fd lt lu lv lw aw lx bi"><span id="b312" class="la jy hi lu b fi ly lz l ma mb">analysis=TextBlob(tweet)<br/>tweet_sentiment = analysis.sentiment.polarity</span></pre><p id="8751" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果Tweet情绪不好，analysis . perspective . polarity返回负值，如果Tweet情绪好，返回正值，如果情绪中性，返回0。</p><p id="9d28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以用这个来获得每条推文的情绪，如果情绪好，正面情绪加1，如果情绪不好，负面情绪加1，否则，如果情绪是中性的，中性情绪加1。在对所有的推文运行这个之后，你将得到带有积极、消极和中性情绪的推文的总数。</p><p id="7954" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你现在可以计算正面、负面和中性推文的百分比——这给出了认为这部电影好、坏和一般的观众的百分比。因此，你知道观众的感受。</p><p id="3a45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用的这个方法是进行情感分析的一个非常基本的方法，还有很多其他的方法，包括训练序列法——我还在学习。虽然这种方法不是理解在线评论的最佳方式，但如果你分析更多的推文，比如说10000条推文，这就给出了他们感觉的近乎正确的图片。</p><p id="bdf2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读！👍</p></div></div>    
</body>
</html>