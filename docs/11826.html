<html>
<head>
<title>AB testing in the game with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 在游戏中进行 AB 测试</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/ab-testing-in-game-analyze-using-pty-cb82927d8422?source=collection_archive---------10-----------------------#2020-12-20">https://medium.com/analytics-vidhya/ab-testing-in-game-analyze-using-pty-cb82927d8422?source=collection_archive---------10-----------------------#2020-12-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="39aa" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">分析一款手机游戏 AB 测试结果，并提供建议。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/560be4a6bc48d21aace120b388009e77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JzfrTY46fhRNOrM9K6u7OQ.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">资料来源:www.weidert.com</figcaption></figure><p id="385c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">AB 测试是试验网站、游戏等变化的一种流行方式。我们可以在短时间内看到结果，并据此做出决定。</p><p id="5f33" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我最近参加了几个使用 Python 的统计学思考课程和一个关于设计和分析 AB 测试的课程。因此，我想把我的知识应用到这个项目中。</p><h2 id="9107" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">背景和问题陈述</h2><p id="fecb" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">数据集是关于手机游戏曲奇猫 pops 的。起初，玩家免费下载游戏。随着玩家在游戏中的进展，他们会遇到要求他们等待一段时间才能进入下一个游戏或进行购买以避免等待的关卡。因此，放置浇口的时机是一个重要的决策。</p><h2 id="2a68" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">目标</h2><p id="5ece" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">目前，第一扇门在 30 层。公司想知道 30 级和 40 级第一道门的效果。这一变化会影响玩家的忠诚度吗？</p><h2 id="bf36" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">过程</h2><p id="7f94" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">1.了解数据集<br/> 2。EDA 和数据可视化<br/> 3。假设检验——自举<br/> 4。结果和业务建议</p><p id="3680" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">下面，我将简要介绍该项目的主要发现和收获。你可以在这里获得完整的项目代码<a class="ae lj" href="https://github.com/thejasmine/ABtesting_game" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="558e" class="lk kk hi bd kl ll lm ln kp lo lp lq kt io lr ip kw ir ls is kz iu lt iv lc lu bi translated">探索性数据分析</h1><p id="46fc" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">该数据集包含 90189 名球员的数据。有两个版本:gate_30、gate_40、玩家玩过的游戏总数，以及玩家是否在第 1 天和第 7 天之后重新登录游戏。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lv"><img src="../Images/08dfce262f8d4ed3b849dc0b5698c378.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*9Xn2eEGUUYVrp-DNbBHaeQ.png"/></div></figure><p id="c904" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">用户数与游戏回合数</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/217920c78d36afe76b23911d24cc1c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*5VQ_27zPVOw64e000wWwwg.png"/></div></figure><p id="bfbc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">很明显，大多数用户玩 1-100 个游戏。有趣的是，有大约 4000 人只是下载游戏，从来不玩。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lx"><img src="../Images/09c11af141cd4a50985ac66ceb2bedd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*OcldVOVdSrJz8h3g_56BnQ.png"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ly"><img src="../Images/00e6acf70788da25e34984c87f1e4ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*G10cceENA2CC8ZTbi0adQQ.png"/></div></figure><p id="7273" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Gate 30 版和 gate 40 版的游戏回合分布看起来差不多，两组留存率 Gate 30 分别为 44.8%和 19%，gate 40 分别为 44.2%和 18.2%。看起来很相似，我们对这种差异有信心吗？让我们从统计学的角度深入探讨一下。</p><h1 id="3041" class="lk kk hi bd kl ll lm ln kp lo lp lq kt io lr ip kw ir ls is kz iu lt iv lc lu bi translated">AB 测试</h1><p id="9ce8" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">执行 AB 测试，查看两个版本之间是否有差异。</p><blockquote class="lz ma mb"><p id="033d" class="jn jo mc jp b jq jr ij js jt ju im jv md jx jy jz me kb kc kd mf kf kg kh ki hb bi translated">假设</p><p id="4bed" class="jn jo mc jp b jq jr ij js jt ju im jv md jx jy jz me kb kc kd mf kf kg kh ki hb bi translated">H0:30 号门和 40 号门的版本没有区别。</p><p id="fcc4" class="jn jo mc jp b jq jr ij js jt ju im jv md jx jy jz me kb kc kd mf kf kg kh ki hb bi translated">H1:这两个版本是有区别的。</p><p id="aaca" class="jn jo mc jp b jq jr ij js jt ju im jv md jx jy jz me kb kc kd mf kf kg kh ki hb bi translated">使用保留意味着测试统计。</p></blockquote><p id="04a3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我想使用 bootstrapping 对数据重复重采样 10000 次，并获得样本的 1 天和 7 天保留率。</p><p id="7b6b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在此之前，我想分享一些我从 DataCamp 课程中学到的创建引导复制的有用函数。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="3afc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第一个功能是从列表中随机选择值并重新采样。第二个是使用 for 循环创建复制并添加到 bs_rep 列表中。您可以指定要用测试统计函数替换 func 的随机样本数。</p><h2 id="ec69" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">估计两组之间保留率的差异，并报告 95%的置信区间。</h2><p id="0ead" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">下面是代码片段，我会在最后分享结果。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mg mh l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lv"><img src="../Images/6000cfef0cbf47b7f3ee41a030fedebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*abPPFKYqgTRWN5chifYfTw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">boostrap 差异重复的直方图</figcaption></figure><h2 id="fb29" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">结果呢</h2><p id="89eb" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">Day1 的差异均值为 0.6%，差异概率为 96%。</p><p id="16a4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第 7 天的差异均值为 0.8%，差异概率为 99%。</p><h2 id="457f" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">假设检验</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="bf04" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">第 1 天的 p 值为 0.0065，第 7 天为 0.0069。结果，我否定了零假设。</p><h1 id="7c63" class="lk kk hi bd kl ll lm ln kp lo lp lq kt io lr ip kw ir ls is kz iu lt iv lc lu bi translated">结果</h1><p id="abb3" class="pw-post-body-paragraph jn jo hi jp b jq le ij js jt lf im jv jw lg jy jz ka lh kc kd ke li kg kh ki hb bi translated">基于假设检验的结果，两组之间存在显著差异。在第一天和第七天，门 30 的保留率高于门 40。结果表明，我们有理由相信 gate 30 版本的第一天和第七天保留率高于 gate 40 版本。总之公司<strong class="jp hj">不应该</strong>把星门等级改成 40。</p><h2 id="0daf" class="kj kk hi bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">要点和建议</h2><ul class=""><li id="f274" class="mi mj hi jp b jq le jt lf jw mk ka ml ke mm ki mn mo mp mq bi translated">公司不应该转移到第 40 级，因为当第 30 级时，7 天保留时间更长。</li><li id="b6e1" class="mi mj hi jp b jq mr jt ms jw mt ka mu ke mv ki mn mo mp mq bi translated">六天内留存率从 44%下降到 18%。公司应该想办法维持他们的玩家基础。可能是玩家在第三天或第四天感到无聊，决定离开游戏。为了提高第一周的保留率，公司可以提供一些激励措施，如免费赠品、增加有趣的挑战等。</li></ul><p id="07cb" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我希望你喜欢阅读这篇文章！</p></div></div>    
</body>
</html>