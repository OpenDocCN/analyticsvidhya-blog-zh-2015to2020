<html>
<head>
<title>Useful Pandas Tricks — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有用的熊猫把戏——第一部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/useful-pandas-tricks-part-1-c29292a7053a?source=collection_archive---------30-----------------------#2020-03-31">https://medium.com/analytics-vidhya/useful-pandas-tricks-part-1-c29292a7053a?source=collection_archive---------30-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9d138319aba56c2cf25b7b0683d1f722.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*PlWVwltypvoSsS6SBnlGzQ.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">蟒蛇-熊猫的把戏</figcaption></figure><p id="3cf4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在计算机编程中，<strong class="is hj"> pandas </strong>是一个为<strong class="is hj"> Python </strong>编程语言编写的开源软件库，用于数据操作和分析。特别是，它提供了数据结构和操作来操作数字表和时间序列。</p><p id="1d6f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将了解一些在数据操作和分析过程中可以使用的有用技巧。在我的软件生涯中，作为我们日常分析和操作的一部分，我已经学会了这些技巧和诀窍。但主要功劳归于“<a class="ae jo" href="https://www.youtube.com/user/dataschool/about" rel="noopener ugc nofollow" target="_blank">数据学院</a>”YouTube频道创始人<strong class="is hj">凯文·马卡姆</strong>。</p><p id="0316" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天，在这篇文章中，我们将学习一些基本的技巧和诀窍，然后我们将在接下来的文章中学习更多。</p><p id="7d12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，要检查存储在您系统上的<strong class="is hj"> pandas </strong>的版本和pandas依赖项的版本，我们可以使用下面两个命令:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="b330" class="jy jz hi ju b fi ka kb l kc kd">pd.__version__ ## Used to know the version of Pandas</span><span id="f17d" class="jy jz hi ju b fi ke kb l kc kd">Output : '0.24.2'</span><span id="d091" class="jy jz hi ju b fi ke kb l kc kd">pd.show_versions()  ## Used to know the version of Pandas dependencies as well</span><span id="3577" class="jy jz hi ju b fi ke kb l kc kd">Output :<br/>INSTALLED VERSIONS<br/>------------------<br/>commit: None<br/>python: 3.6.7.final.0<br/>python-bits: 64<br/>OS: Windows<br/>OS-release: 10<br/>machine: AMD64<br/>processor: Intel64 Family 6 Model 142 Stepping 10, GenuineIntel<br/>byteorder: little<br/>LC_ALL: None<br/>LANG: None<br/>LOCALE: None.None<br/><br/>pandas: 0.24.2<br/>pytest: None<br/>pip: 10.0.1<br/>setuptools: 39.0.1<br/>Cython: None<br/>numpy: 1.16.4<br/>scipy: 1.3.0<br/>pyarrow: None<br/>xarray: None<br/>IPython: 7.6.1<br/>sphinx: None<br/>patsy: None<br/>dateutil: 2.8.0<br/>pytz: 2019.1<br/>blosc: None<br/>bottleneck: None<br/>tables: None<br/>numexpr: None<br/>feather: None<br/>matplotlib: 3.1.0<br/>openpyxl: None<br/>xlrd: None<br/>xlwt: None<br/>xlsxwriter: None<br/>lxml.etree: None<br/>bs4: None<br/>html5lib: None<br/>sqlalchemy: None<br/>pymysql: None<br/>psycopg2: None<br/>jinja2: 2.10.1<br/>s3fs: None<br/>fastparquet: None<br/>pandas_gbq: None<br/>pandas_datareader: None<br/>gcsfs: None</span></pre><p id="2187" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以创建如下所示的数据帧:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/68271afc7be1d619576226d8c5f1a7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNo530XQRgO9QywrfeNrfw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">数据帧—图1</figcaption></figure><p id="137e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们也可以创建一个随机的数据帧，包含任意多的行和列。在下图中，我创建了一个4行8列的数据框。</p><p id="317c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样的命令是:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="ecab" class="jy jz hi ju b fi ka kb l kc kd">pd.DataFrame(np.random.rand(4,8))  ## This helps to create a random dataframe with 4 rows and 8 columns</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kk"><img src="../Images/4a844daf25860013aee678296f08c148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCJxDMQ1lGLHNTP1Ed0x_Q.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">列标题从0到7的随机数据帧(4x 8)</figcaption></figure><p id="9b23" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在上面的代码片段中，dataframe具有从0到7的列名。但是，如果我们想要提供我们自己的特定列名，那么我们可以使用下面的代码片段。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="76be" class="jy jz hi ju b fi ka kb l kc kd">pd.DataFrame(np.random.rand(4,8), columns = list('abcdefgh'))  ## This is used to provide name to the columns</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kl"><img src="../Images/5c41b7c8b482dc9fb59f65ef7a5d5011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gvk0qIZrMT3iYa-vT8u-Yg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">带有随机数和指定列标题的数据帧(4乘8)</figcaption></figure><p id="f290" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们可以重命名上面创建的图1的数据帧的列标题，如下所示:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="a275" class="jy jz hi ju b fi ka kb l kc kd">df = df.rename({'col one':'col_one', 'col two':'col_two'}, axis = 'columns')  ##Used to rename columns one by one</span><span id="a4e6" class="jy jz hi ju b fi ke kb l kc kd">df.columns = ['col-one','col_two']  ## Another way of renaming columns<br/></span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es km"><img src="../Images/8d73a6e8b839e7faddda4e4521bb286b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*440kGgw-H6Tx0u9eVo3hKg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">重命名列标题</figcaption></figure><p id="7904" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，我们可以向列标题添加前缀/后缀，如下所示:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="3bd8" class="jy jz hi ju b fi ka kb l kc kd">df.add_prefix('X_')  ##To add a Prefix to a column name</span><span id="7238" class="jy jz hi ju b fi ke kb l kc kd">df.add_suffix('_Y')  ## To add a suffix to a column name</span></pre><p id="5a06" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面两个代码片段的输出:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kn"><img src="../Images/d2f0600c27d8d59a2cb18ba13641a681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_D76bl3JP7zA6RpcDEM7AA.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">添加到列名的前缀和后缀</figcaption></figure><p id="f1c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">检查并运行这些命令，以便理解它们，然后在自己的工作中使用它们。在下一篇文章中，我会想出更多熊猫的把戏。</p></div></div>    
</body>
</html>