<html>
<head>
<title>Convolutional Neural Network : Basic Concepts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卷积神经网络:基本概念</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/convolutional-neural-network-basis-concepts-e059a76d9161?source=collection_archive---------23-----------------------#2020-03-31">https://medium.com/analytics-vidhya/convolutional-neural-network-basis-concepts-e059a76d9161?source=collection_archive---------23-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a3b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们将基于神经网络的背景知识，探索什么是CNN。在继续之前，我建议您学习一些神经网络的基本术语以及它们是如何工作的。</p><p id="0611" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我会试着用通俗的语言解释这些概念。我们会慢慢建立我们的知识库。相信我，如果你对计算机视觉感兴趣，你不会想只是一个工程师，拿着预定义的代码，运行模型，然后就完事了。我们是深度学习工程师。</p><blockquote class="jd je jf"><p id="8ca1" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">如果你在火箭飞船上得到一个座位，不要问是什么座位！上车吧。</p></blockquote><p id="4ca0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">准备好了吗？让我们跳进来。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/b2008898728074ce29cd2bd5b91b706c.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/0*qG9A7LxL8Kqcp8N5.gif"/></div></figure><p id="855e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">卷积神经网络与普通神经网络非常相似。</p><p id="7269" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.神经元接收一些输入</p><p id="4369" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.执行点积</p><p id="f20f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.以非线性跟随它</p><p id="af9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整的网络表达了一个单一的可微得分函数。</p><p id="d378" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">那么为什么不使用普通的神经网络呢？</strong></p><p id="7596" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这类问题中使用的图像通常是224x224或更大的尺寸。想象一下，建立一个神经网络来处理224x224彩色图像。那将是</p><p id="c038" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">224 * 224 * 3 = 150528个输入特征。</p><p id="5727" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3这里是图像中的颜色通道(RGB)。</p><p id="0912" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设在下一个隐藏层中有1024个神经元，那么我们可能需要训练</p><p id="70e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">150528 * 1024 = 154M+</p><p id="9575" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅第一层就有超过1.5亿个参数。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es js"><img src="../Images/8ed68e5a44d07b86bec1bc4dcae4af35.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*ubmpAVyyNgJ0oTyP.gif"/></div></figure><p id="1ce9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个原因是位置可以改变。您希望您的网络能够检测图像中的狗，而不管它在哪里。我的意思是，一只狗可以在一个角落的形象或小狗或无论是特写镜头。<br/>这种图像不会激活完全连接的神经网络中的相同神经元，因此网络会做出不同的反应。</p><p id="e4a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于图像重要的一点是<strong class="ih hj">像素在其邻居</strong>的上下文中是最有用的特征。</p><p id="2b4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ConvNet架构明确假设输入是镜像。这使得转发功能更有效地实现，并大大减少了网络中的参数数量。</p><h2 id="3cea" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">你的大脑可能在愚弄你！！！</h2><p id="b211" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">来，看看这张照片。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es kt"><img src="../Images/c4f15f5b5592f436cc48a372aa26e050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AKlXbhh9pHrev_gO.png"/></div></div></figure><p id="1c85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的图像是黑白图像，上面有彩色网格。缩小和放大来看魔术。</p><blockquote class="jd je jf"><p id="2cc1" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">在CNN中，颜色不是一个可靠的特征。</p></blockquote><h1 id="7bfb" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">术语</strong></h1><p id="25e1" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">每幅图像都可以表示为像素值的矩阵。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lp"><img src="../Images/28be231af10a96a5cf230fb35785bd7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/0*vsYDU61SblVmw7gz.gif"/></div></figure><h1 id="d2c7" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">什么是渠道？</strong></h1><p id="294d" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">通道是一个卷积术语，用于表示图像的某些特征。实际上，来自标准数码相机的图像将具有3个通道(RGB(红、绿、蓝))。印刷在报纸上的图像有4个通道(CMYK)。您可以想象三个2d矩阵相互重叠，每个矩阵的像素值都在[0，255]的范围内。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lq"><img src="../Images/4c89327bf600ecf90d6b14893b974023.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/0*o2f_MzcnzNZtukVB.png"/></div></figure><p id="ce98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">灰度图像只有一个通道。矩阵中每个像素的值范围从0到255，0表示黑色，255表示白色。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lr"><img src="../Images/546fb02c8bc14ce07fb414b752d1c19d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*elNgYzkHuMEaFnclOui8gg.png"/></div></div></figure><p id="54b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的图像中，红色通道中的红色服装比其他两个通道中的要亮得多，而图片的绿色部分在绿色通道中显示得更亮。</p><p id="1901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您不应该担心RGB或CMYK特定通道。它们就像定义图像的矩阵。这里的主要概念是“T0”通道“T1”。一幅图像可以分成任意数量的通道，例如幻灯机。你可以把每张幻灯片想象成一个通道，这些幻灯片的重叠将形成一个图像，投影到屏幕上。</p><p id="3571" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你向网络提出一个问题时，例如，给我找一朵全是黄色的花，处理一个特定的颜色特征可能是有用的。</p><blockquote class="jd je jf"><p id="3336" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi"/><strong class="ih hj"><em class="hi">通道</em> </strong> <em class="hi">是可关联特征的集合。</em></p><p id="18c2" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">频道；同义词:</em></p><p id="c898" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">特征映射、卷积特征、激活映射</em></p></blockquote><p id="7796" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们以这张图片为例来解释一下渠道可以是什么。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ls"><img src="../Images/f9e9f82f8d230cc8e627518d73bc53df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tyl9aIB6DUhibpjm.png"/></div></div></figure><p id="c5c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在想象一下，对于给定的图像，我们有26个通道。假设我们的频道是A-Z，因为有26个字母，所以有26个频道。</p><ul class=""><li id="9d7e" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">通道A:从图像中过滤掉所有的<em class="jg"> a </em>(无论它们在哪里，无论它们在哪里，只是<em class="jg"> a </em></li><li id="ef59" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">通道B:从图像中过滤掉所有的<em class="jg"> b </em>。</li><li id="82df" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">以此类推，直到通道z。</li></ul><p id="c758" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来谈谈通道a。现在，该通道中的一个特定的<em class="jg"> a </em>被称为`<strong class="ih hj"> <em class="jg">特征</em> </strong>`,它可以是大的、小的、倾斜的，但不是相同的特征。</p><p id="0bd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我让你从图像中过滤掉一个或提取一个字母来创建一个通道时，你可能需要一个提取器来完成。这个提取器被称为`<strong class="ih hj"> <em class="jg">内核</em> </strong>`。如果你需要提取比如说<em class="jg"> c </em>，你需要这个<em class="jg"> c </em>过滤器。</p><blockquote class="jd je jf"><p id="56d4" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">内核；同义词:</em></p><p id="9cd2" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">特征提取器，n×n矩阵，过滤器，权重</em></p><p id="34fb" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">每个滤镜给我们一个通道。</em></p></blockquote><h1 id="a827" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">卷积神经网络的构建模块</strong></h1><p id="3bf4" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">卷积的主要目的是从输入图像中提取特征。正如我们所了解的，如何说一个单词首先要学习什么是字母表，类似地，CNN也有积木。</p><p id="3cec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像英语一样，我们可以将积木定义为:</p><blockquote class="jd je jf"><p id="2920" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">字母组合= &gt;单词组合= &gt;句子组合= &gt;段落组合= &gt;故事组合</em></p></blockquote><p id="fa57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样在视觉上，</p><blockquote class="jd je jf"><p id="3f90" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi"> &gt;渐变和边缘组合= &gt;纹理和图案组合= &gt;部分对象组合= &gt;完整对象= &gt;场景</em></p></blockquote><p id="04b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请看下图，网络是如何一步步学会识别上面提到的每个块的。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es mh"><img src="../Images/192606639878d53c31e61eba7d31ac23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tZSNdpsH6TNnHgGj.png"/></div></div></figure><h1 id="6cb3" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">什么是渐变和边缘？</strong></h1><p id="1f4b" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我们将梯度 称为一系列像素的亮度变化。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ls"><img src="../Images/7662c040a8545cf80f91032b84621571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBCO36uxkY5vBIfqbxRM9g.jpeg"/></div></div></figure><p id="283e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图是从黑到白的线性渐变。这个渐变是平滑的，我们不会说这个图像有边缘。上图中的边缘有点模糊。在真实物体中，那些“T4”<em class="jg">边缘</em> 可以通过观察尖锐的过渡来发现。你可以在下图中找到边缘</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mi"><img src="../Images/ba78d0eed2e89f5ce1cbbea325e00030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*28rd1eAib_TqIQzv.png"/></div></figure><h1 id="7468" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">什么是卷积？</strong></h1><p id="af85" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">卷积通过从输入图像中学习特征来处理像素之间的空间关系。</p><p id="3c0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看，当看一幅图像时，人眼看到的是什么，机器看到的是什么。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es mj"><img src="../Images/9a1ed6f6a76aca79cb109961e6dbebd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*f_tpp1LRAn_vvTMg.png"/></div></div></figure><ul class=""><li id="d822" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">第一个图像是你所看到的；</li><li id="7b57" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">第二个图像是解释图像的方式(像素值矩阵)；</li><li id="7b4a" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">第三个图像是机器看到的(n x n数字矩阵)。</li></ul><p id="4781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">卷积如何保持空间关系？</strong></p><p id="e280" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑一个像素值只有0和1的5x5图像。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mk"><img src="../Images/b0595fe3443b790fb8f6ed583b31dcbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*02y2JjS6l2_lja6M4Bah6A.png"/></div></figure><p id="9282" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且还考虑如下所示的3×3矩阵</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ml"><img src="../Images/72b78a9a9bd1f7136d5fc0f05aac60c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*tKUxIuv3g7302-lhiIPijA.png"/></div></figure><p id="fb6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，可以如下所示计算5×5图像和3×3图像的卷积:</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mm"><img src="../Images/142be5f666fcc50fa9d39fad325b6531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/0*03oD-DFcoQ2Iq5Tq.gif"/></div></figure><p id="b530" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">让我们了解发生了什么？计算是如何进行的？</strong></p><p id="8c16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将黄色矩阵在绿色图像上滑动1个像素，对于每个位置，我们计算元素乘法(两个矩阵之间),并将乘法输出相加，以获得最终的整数，该整数形成粉红色卷积特征矩阵中的元素。</p><p id="3b7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面发生的每一步都有一些术语。</p><p id="2ee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们有蓝色的盒子作为我们的图像，深色的小块作为我们的黄色矩阵，白色的盒子作为我们的卷积特征矩阵。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="ab fe cl mn"><img src="../Images/e3c727adc501ddd57cffdf83e6377f97.png" data-original-src="https://miro.medium.com/v2/1*Fw-ehcNBR9byHtho-Rxbtw.gif"/></div></figure><p id="10d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">蓝色的物体是你的大小为(5x5)的图像(5是你的宽度和高度)，你看到的深色的补丁是我们的`<strong class="ih hj"> <em class="jg">内核</em> </strong>`，它是用随机值初始化的。</p><p id="01bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图像的3x3滤镜和3x3补片之间存在点积。此滤镜一次在图像上滑动一步。</p><p id="d9c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个<em class="jg">步骤</em>被称为`<strong class="ih hj"> <em class="jg">步距</em> </strong>`(这里步距=1 ),点积的结果是创建我们的输出通道。</p><blockquote class="jd je jf"><p id="7a6e" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">这种n×n滤镜在图像上滚动，逐步计算点积的过程，称为</em> <strong class="ih hj"> <em class="hi">卷积</em> </strong> <em class="hi">。</em></p></blockquote><p id="62eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些内核在开始时用随机值初始化。这些值将在模型训练中改变。我说的模型是指，当你训练你的深度学习模型时。滤波器矩阵的不同值将为相同的输入图像产生不同的特征图。</p><p id="265c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑另一个图像，</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mo"><img src="../Images/6d8a6a90a7120d87ccc7e6741405153c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*NrPF8WA7J73vYoZSLFDqkQ.png"/></div></figure><p id="3ff1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看上面的图像不同的过滤器的效果，</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es et"><img src="../Images/c0b866775b7108b1546daa7d0e68ab72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tgeXnYIT1NNTcvAiEScKtQ.png"/></div></div></figure><p id="cc89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实际上，CNN在训练过程中学习这些滤波器的值。</p><p id="d505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看到发生了什么吗？</p><p id="8816" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">垂直边缘滤波器检测垂直边缘，水平边缘滤波器检测水平边缘。输出图像中的亮像素表示原始图像中有强边缘。</p><h1 id="f588" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">输出通道</strong></h1><p id="5012" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">当我们在6×6图像上卷积3×3滤波器时，我们得到4×4对象矩阵。</p><p id="5bee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无论我们得到的结果是什么，我们都要对它应用其他过滤器来得到下一组对象。(我说的是神经网络的层次)。</p><p id="983b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出通道的大小可以使用下面的公式来计算，</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es mp"><img src="../Images/16f5d2c7ae75fcd70803631c2184f114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lB-0BThJaoh3I9WOsN_Vsw.png"/></div></div></figure><p id="179c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我稍后会解释什么是填充以及我们为什么使用它。</p><h1 id="5bef" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">内核参数</strong></h1><p id="0c90" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">这些内核具有被称为<strong class="ih hj"> <em class="jg">参数</em> </strong>的值。我们可以说一个3x3内核有9个参数。</p><p id="0f69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在来看一些数学概念。</p><ul class=""><li id="81be" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">如果我们在5x5图像上使用5x5内核进行卷积，我们将得到大小为1x1的输出对象。</li><li id="b87e" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">如果我们在5x5图像上使用3x3内核进行卷积，我们将得到大小为3x3的输出对象，再次用3x3内核卷积输出将得到大小为1x1的输出对象。</li></ul><p id="e639" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我可以说，用5x5内核卷积和用3x3内核卷积是一样的(两次)。</p><p id="a1da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在问题来了，<strong class="ih hj">用什么尺寸的内核？</strong></p><p id="7e75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述问题的答案存在于另一个问题中，</p><p id="aa92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如果使用3x3或5x5内核，我们需要训练多少个参数？</strong></p><p id="6dc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看下面的表格，如果我们使用n×n大小的内核，它会告诉你需要训练的参数总数。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es mq"><img src="../Images/5b54ea4238f2eb9d8953e100b0abd690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6TRhQh74kN9Ytlj_JtQH6g.png"/></div></div></figure><p id="aacd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上表告诉我们为什么使用3x3内核比其他大小的内核更好。</p><p id="08b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参数越少，模型训练的时间就越少。会更快。我们需要建立一个CNN架构，用更少的参数，给我们最好的结果。</p><p id="5f70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参数和结果之间会有权衡。但是我们需要提出一个优雅的架构，因此我们将选择我们的内核大小。</p><p id="a79d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在许多其他博客或研究论文中，你可能会看到研究人员使用奇形怪状的内核。</p><p id="21e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">有必要只用奇数形核吗？</strong></p><p id="cb8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">把我们的内核做成奇数形状是有道理的，因为它有对称轴。</p><p id="ebe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在一张纸上画一条黑线。如果我想让我的机器学习白线和黑线的区别。我需要告诉它，线的左边是白色的，右边也是白色的，中间一列是黑色的。机器需要区分黑色像素和非直线像素，即白色像素。我们需要提供这两种信息。机器需要知道特征的开始和结束。</p><p id="9018" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以查看上面的边缘检测表，我们的内核是由什么值组成的？产量是多少。</p><h1 id="bd5a" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">感受野</strong></h1><p id="3996" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">这是CNN中最重要的概念之一。</p><blockquote class="jd je jf"><p id="b9d3" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">感受野被定义为特定中枢神经网络特征所关注的输入区域。</em></p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es mr"><img src="../Images/2f3b9ea8bdadbd61a95ce460a2dac17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*t2SzWM_B3Hhw9bkW.png"/></div></div></figure><p id="8ad7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设层1是你的5x5大小的图像，绿色矩阵是你的3x3大小的内核。</p><p id="eb35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你在图像上卷积内核，你将得到3x3的对象，这是你的第二层，在第二层上再次卷积，你将得到大小为1x1的对象，这是你的第三层。</p><p id="38fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从第二层拿绿色细胞。</p><p id="b60a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它在第一层能看到多少个细胞？答案是9。</p><p id="11b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，那个细胞的`<strong class="ih hj"> <em class="jg">局部感受野</em> </strong>为3。</p><ul class=""><li id="eb89" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">如果我问第一层的(25，25)单元格中有什么？<br/>回答:“我不知道”。</li><li id="87f5" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">现在如果我问第三层的黄色细胞，它能看到多少个细胞？回答:“我看过整幅图像”。</li></ul><p id="5627" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">想知道如何？</strong></p><p id="8fcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个5x5内核可能已经看到了整个映像，正如前面所解释的，使用3x3内核(两次)类似于使用5x5内核。因此，来自层3的那个黄色细胞的“全局感受野<strong class="ih hj"><em class="jg"/></strong>”将是完整的5x5图像，并且细胞的局部感受野将总是内核大小。</p><p id="c58c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以最后一个细胞应该看到了整个图像，否则它不会知道猫是否在图像中。</p><p id="45c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果我们必须为401x401图像建立一个网络，</p><p id="8b21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">仅使用3x3内核，我们需要多少层？</strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es et"><img src="../Images/114c16bc43df9c48a53fe213781f2fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F1lPfH_UJdjH4lWX-zg4Yw.png"/></div></div></figure><p id="bbdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">答案会是，200层。</p><p id="5e23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这不是训练模特的好方法。加200层简直是噩梦。因此，我们必须在层间进行下采样，也称为“最大池”。我们将在下一篇文章中讨论这个概念。</p><h1 id="e612" class="ky ju hi bd jv kz la lb jz lc ld le kd lf lg lh kg li lj lk kj ll lm ln km lo bi translated"><strong class="ak">初始化内核值</strong></h1><p id="4197" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">神经网络的值必须初始化为随机数。</p><p id="db5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理解这两个概念:</p><p id="4cf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">确定性算法vs非确定性算法</strong></p><p id="eba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给定一个无序的数字数组，冒泡排序算法将总是以相同的方式执行，以给出相同的有序结果。</p><p id="ca5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是由于数据的复杂性，这种方法不能有效地解决一些问题。该算法可能运行，但可能永远不会给你所需的解决方案，或者可能无限运行。</p><p id="b86b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解决这样的问题，我们使用非确定性算法。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ms"><img src="../Images/0be08542f7b7b5679da51eb72d5860db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S85747rsC6J1ktfA.png"/></div></div></figure><p id="5205" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行f(n)步的确定性算法总是以f(n)步结束，并且总是返回相同的结果。具有f(n)级的非确定性算法在不同的运行中可能不会返回相同的结果。由于固定高度树的潜在无限大小，非确定性算法可能永远不会完成。</p><p id="8d4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些非确定性算法将达到近似解，但是会很快。这些解决方案对于这样问题通常是令人满意的。</p><p id="4235" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种算法利用了随机性。你可能学过梯度下降算法，这些被称为<a class="ae mt" href="https://en.wikipedia.org/wiki/Stochastic_optimization" rel="noopener ugc nofollow" target="_blank">随机算法</a>。</p><p id="38fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">寻找解决方案的过程是递增的，从可能的解决方案空间中的一点开始，到足够好的解决方案。由于我们对空间一无所知，我们从随机选择的点开始。</p><p id="2bd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">神经网络是用这种算法训练的。</p><blockquote class="jd je jf"><p id="9180" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">深度学习模型的训练算法通常本质上是迭代的，因此需要用户指定一些初始点，从这些点开始迭代。此外，训练深度模型是一项非常困难的任务，大多数算法都受到初始化选择的强烈影响。</p><p id="8624" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><em class="hi">也许唯一完全确定的性质是，初始参数需要在diﬀerent单位之间</em>【打破对称性】<em class="hi">。如果具有相同激活函数的两个隐藏单元连接到相同的输入，那么这些单元必须具有diﬀerent初始参数。如果它们具有相同的初始参数，那么应用于确定性常数模型的确定性学习算法将以相同的方式不断更新这两个单元。</em></p><p id="f2be" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">——第296、297页，<a class="ae mt" href="https://www.deeplearningbook.org/contents/optimization.html" rel="noopener ugc nofollow" target="_blank">深度学习书籍</a></p></blockquote><p id="071b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仔细初始化网络可以加快学习过程。</p><p id="6c91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下一篇文章中，我们将浏览pytorch笔记本，我们将在MNIST数据集上训练一个网络，并了解我们的网络正在学习什么。</p><p id="8329" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">敬请期待！！！</p><p id="cf35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你觉得我能为你提供价值，我鼓励你联系我，关注我，把我加入你的圈子等等。</p></div></div>    
</body>
</html>