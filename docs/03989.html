<html>
<head>
<title>The first step for becoming a Docker Expert!!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">成为码头专家的第一步！！！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-first-step-to-becoming-a-docker-expert-53c8d76cf909?source=collection_archive---------6-----------------------#2020-02-29">https://medium.com/analytics-vidhya/the-first-step-to-becoming-a-docker-expert-53c8d76cf909?source=collection_archive---------6-----------------------#2020-02-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9ac0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近，我有一种奇怪的倾向，想在GitHub上搜索一些很酷的项目，并了解它们是如何工作的。所以，在这个过程中，我发现每三个项目中，我就碰到使用Docker。就像每个人都会做的那样，我也去我最好的朋友<strong class="ih hj"> <em class="jd">谷歌</em> </strong>了解了这件事。通过搜索，我感觉Docker最近很热门。所以，在这里，让我们用非常简单的话来讨论Docker是什么和它做什么，而不要深入内部技术。让我们开始吧。</p><h2 id="4394" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">Docker到底是什么？？</h2><blockquote class="jz"><p id="6d78" class="ka kb hi bd kc kd ke kf kg kh ki jc dx translated">“Docker是一个开源项目，它通过在Linux上提供一个额外的抽象层和操作系统级虚拟化自动化，来自动化容器中的软件应用程序的部署。”</p></blockquote><p id="1707" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">这是谷歌给我们的，作为对我们问题的回答。让我们简化上面的定义。简单地说，Docker是一个工具，它允许开发人员、系统管理员、运营经理等。尽可能在一致的环境中轻松部署他们的应用程序。Docker承诺一个简单而简化的<strong class="ih hj"> <em class="jd">构建、发布和运行</em> </strong>工作流程。仍然困惑docker到底是做什么的？？？没问题，我保证，在这篇文章结束时你会明白的。</p><h2 id="40e0" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">Docker解决什么问题？？</h2><ul class=""><li id="ea0c" class="ko kp hi ih b ii kq im kr iq ks iu kt iy ku jc kv kw kx ky bi translated">假设您正在自己的机器上开发一个应用程序。你的一个朋友想为你的申请做贡献。因此，他克隆了你的源代码，试图在他的机器上运行它，结果遇到了许多依赖不匹配的问题(也称为依赖矩阵)，包不支持的问题等等。你们大多数人都很熟悉这种情况，对吧😖 😖？？。这就是<strong class="ih hj"> <em class="jd">环境不一致的问题。</em> </strong>这里的<em class="jd">环境</em>是指应用程序在机器上运行的空间，它考虑了操作系统、应用程序使用的软件及其版本等。在很大程度上，开发人员面临这个问题是因为开发服务器和生产服务器之间的环境不同。</li><li id="dbc8" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">假设您必须使用两个不同版本的Node.js运行两个web应用程序。您有一个使用Node.js 12.x版本的app-1和一个使用Node.js 10.x版本的app-2。在同一台机器上运行这两个应用程序很可能会导致冲突，从共享资源到使用相同的端口。</li></ul><p id="8427" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有其他一些问题，docker解决了！！！但这些是其中最重要的。</p><h2 id="1f28" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">Docker是如何解决这些问题的？？</h2><p id="d0ec" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">在讨论docker如何从技术上解决这个问题之前，让我们以一种非常简化的方式来讨论那些方法。</p><ul class=""><li id="f4ec" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated">在第一个问题的情况下，我们主要关心的是<strong class="ih hj"> <em class="jd">环境中的不一致性。</em> </strong>因此，作为一个解决方案，<em class="jd">我们可以制作一个文件，列出所有步骤(包括使用什么操作系统，使用什么版本的软件，应用程序的入口点是什么，等等。)并将其与源代码一起传递，以便目标机器可以重新创建确切的环境，并且会出现</em> <strong class="ih hj"> <em class="jd">无不一致</em> </strong> <em class="jd">。</em></li><li id="c242" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">在第二个问题的情况下，我们主要关心的是<strong class="ih hj"> <em class="jd">共享资源中的冲突。</em> </strong>对于这个问题，作为一个解决方案，<em class="jd">我们需要对我们的应用程序运行的环境进行某种隔离，与整个剩余系统隔离。这样在共享资源时就不会有冲突。</em></li></ul><p id="7ffa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们讨论docker是如何实现上述方法的</p><p id="7322" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">第一步:Docker文件</em> </strong></p><p id="4095" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Dockerfile是一个普通的文本文件，它包含了<em class="jd">重新创建</em>应用程序构建的精确环境的所有命令。Dockerfile就像一个菜谱，包含了准备一道菜所需的所有配料和步骤。</p><p id="48c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是docker文件的样子</p><figure class="ll lm ln lo fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lk"><img src="../Images/5bc92e9731a8fea9f26479d1a1491eeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LxMBnAEgf-RLjmlDzlSsUw.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">用于创建Flask应用程序的Docker文件。</figcaption></figure><p id="8d56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上Dockerfile的意思是</p><ul class=""><li id="149f" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated">用Ubuntu OS。</li><li id="d742" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">安装python(如果要安装特定版本的python，我们可以提一下)。</li><li id="1b8f" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">安装烧瓶-MySQL。</li><li id="736f" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">将源代码复制到工作目录(将在最后的<em class="jd">延伸阅读</em>部分提到关于工作目录)。</li><li id="8e88" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">应用程序的入口点和运行flask应用程序。</li></ul><p id="c19f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，<strong class="ih hj"> <em class="jd"> Docker文件包含一系列命令，当执行这些命令时，会重新创建预期的环境</em> </strong>。</p><p id="42f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">第二步:Docker图像</em> </strong></p><p id="2406" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当上面的Docker文件作为<code class="du ma mb mc md b">docker build dockerfileName</code>命令构建时，我们得到一个Docker映像。执行Docker文件中的所有命令，安装所需的软件包&amp;软件，完成打包。这是预期环境的快照，传递给所有希望运行该应用程序的目标机器。请记住，Docker映像只是预期环境的快照。它不是机器上正在运行的实例。docker Image<em class="jd">像OOPS </em>里的一个类，只是一个蓝图，只有实例化一个对象才能运行。</p><p id="d9b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">第三步:Docker容器</em> </strong></p><p id="c8f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当run命令作为<code class="du ma mb mc md b">docker run dockerImageName</code>在Docker映像上执行时，这就是真正神奇的地方。创建一个Docker容器，它是Docker映像的运行实例，使用机器资源。应用程序运行在这个具有预期环境的容器中。因此，不会有环境不一致的问题。这解决了第一个问题，即环境中的<em class="jd">不一致性。喔喔喔🎉 🎉</em></p><p id="42c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">docker的基本工作流程是</p><figure class="ll lm ln lo fd lp er es paragraph-image"><div class="er es me"><img src="../Images/e8b25cab23ce4ac829a163e80f8e7edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*20dNwtOpecwPe03m2Nbzvg.jpeg"/></div></figure><p id="ae39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你有没有想过为什么预期环境被称为容器？？<br/>在回答上述问题之前，先试试这个……..<br/>看到这张照片，你想到了什么？</p><figure class="ll lm ln lo fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mf"><img src="../Images/65696b5565dbb25fea37a832ea6c6b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*amL_EEQZ734pBqkKiBl4Og.jpeg"/></div></div></figure><p id="a353" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想到的一些事情是:</p><ul class=""><li id="069b" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated">一艘载有许多集装箱的船。不管有多少集装箱，全部重量都必须由船来支撑。</li><li id="e7ad" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">一个容器中的内容独立于另一个容器中的内容。</li><li id="6014" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">船上集装箱的数量取决于船的基础面积。</li></ul><p id="8c49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上几点都很琐碎，很明显，对吗？？</p><p id="8b51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是码头工人使用的想法。从上面的<strong class="ih hj">船<em class="jd">比喻</em>船</strong></p><ul class=""><li id="207f" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated">发货→目标机器及其资源</li><li id="b372" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">集装箱→码头集装箱</li><li id="ae74" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">发货基础区域→目标机器的存储/资源容量。</li></ul><p id="056f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，基本上，一台目标机器上可以运行多个Docker容器(运行的容器数量受到可用存储/资源容量的限制)，这些容器必须共享同一台目标机器的资源，并且一个容器内发生的事情独立于其他容器内发生的事情，这为每个容器提供了隔离。</p><figure class="ll lm ln lo fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mg"><img src="../Images/e7583f3ac3f7a4746a1b16549b42352d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S5jW-UtPnnU0-P7fMQwoBg.jpeg"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">目标机器上的容器化。</figcaption></figure><p id="0bf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在目标机器的操作系统之上有一个Docker主机，它有效地处理不同容器之间的资源共享。因此，Docker可以提供隔离，并可以防止共享资源的冲突。这也解决了我们的第二个问题…🎉<em class="jd">🎉</em>！！</p><p id="56b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是开始学习docker必须知道的基本概念和信息。</p><p id="201d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">进一步阅读可在:- </em> </strong></p><ul class=""><li id="b60c" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated"><em class="jd">虚拟环境与容器隔离的区别:</em>简单来说，虚拟环境在主机上创建一个全新的guest OS(每个虚拟环境都有自己的内核)，而在docker的情况下，多个容器使用相同的主机底层OS(所有容器使用相同的主机内核)。</li></ul><figure class="ll lm ln lo fd lp er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mh"><img src="../Images/0a8573edcfb52b3fe30f35d612711bc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X4YvxtvPoUFNk7Ylk76gnQ.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">虚拟机虚拟服务器容器</figcaption></figure><ul class=""><li id="e349" class="ko kp hi ih b ii ij im in iq lh iu li iy lj jc kv kw kx ky bi translated"><em class="jd">Docker的文件系统:</em>它是关于容器的目录结构，什么都存储在工作目录中。</li><li id="b6c9" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated"><em class="jd"> Docker Compose: </em>在某个时间点，我们希望在多个容器中运行的多个应用程序一起运行，以提供所需的功能。我们使用Docker Compose来链接多个容器并定义它们之间的依赖关系。</li></ul><p id="6e89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您花时间阅读本文&amp;我希望这篇文章能帮助您理解Docker的基础知识。</p><p id="d85b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我知道你对这篇文章的想法&amp;任何疑问，建议，纠正都是受欢迎的。😃</p><pre class="ll lm ln lo fd mi md mj mk aw ml bi"><span id="5e96" class="je jf hi md b fi mm mn l mo mp">if you like this article:<br/>    clap it :))<br/>else:<br/>    feel free to suggest improvements &amp; ask questions</span></pre><p id="0436" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">图片来源</strong> <em class="jd"> : </em>我最好的朋友谷歌🙃 🙃</p><p id="f121" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐学习！！！</p></div></div>    
</body>
</html>