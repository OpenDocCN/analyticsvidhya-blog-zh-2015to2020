<html>
<head>
<title>How to Generalize a Multi-Class Confusion Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何推广多类混淆矩阵</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-generalize-a-multi-class-confusion-matrix-912e29284553?source=collection_archive---------7-----------------------#2020-02-03">https://medium.com/analytics-vidhya/how-to-generalize-a-multi-class-confusion-matrix-912e29284553?source=collection_archive---------7-----------------------#2020-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a36a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">python中任意多类混淆矩阵泛化的应用</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/96395b4770df568528588820fb644703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtfwFHKLZ6u7plwqi0vkAA.png"/></div></div></figure><h2 id="4a2c" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">1.介绍</h2><p id="a730" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp ju kq kr ks jy kt ku kv kc kw kx ky kz hb bi translated">有时候，在机器学习项目中，我们需要<em class="la">处理</em>和<strong class="kj hj">多个类</strong> ( <em class="la">标签</em>)，我们需要<strong class="kj hj">为这些<em class="la">多个类绘制混淆矩阵</em></strong>。</p><p id="ca94" class="pw-post-body-paragraph kh ki hi kj b kk lb ij km kn lc im kp ju ld kr ks jy le ku kv kc lf kx ky kz hb bi translated">不幸的是，随着<strong class="kj hj">类数量的增加</strong>，混淆矩阵变得<em class="la"> </em> <strong class="kj hj">难以察觉</strong>，如下例所示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lg"><img src="../Images/821319b01753bde5ff0a6af04266d197.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*kRBkWE5vAs0P9r3eETL35Q.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx translated">原始混淆矩阵</figcaption></figure></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h2 id="cf3a" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">2.想法</h2><p id="19d7" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp ju kq kr ks jy kt ku kv kc kw kx ky kz hb bi translated">如果我们通过<strong class="kj hj">分组</strong>来推广混淆矩阵，我们将有一个更容易 <strong class="kj hj">感知</strong>的混淆矩阵<strong class="kj hj">，如下图所示:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ls"><img src="../Images/c7241e8132e9110bde243a1fabfb9d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*yCwSKzSFDFVePp7BtB511Q.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx translated">广义混淆矩阵</figcaption></figure></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h2 id="ae55" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">3.重要事实</h2><p id="9a90" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp ju kq kr ks jy kt ku kv kc kw kx ky kz hb bi translated">混淆矩阵概化算法应该<strong class="kj hj">对来自<em class="la">原始混淆矩阵</em>的</strong> ( <em class="la">值</em>)的<strong class="kj hj">唯一真单元进行求和，并且应该<em class="la"> </em>将结果写入<strong class="kj hj"/><strong class="kj hj"/><em class="la">相关</em> <strong class="kj hj">真单元</strong>中的<em class="la">广义混淆矩阵</em> <strong class="kj hj"> : </strong></strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/3977cbb0dd8bed2b569073574d705409.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/1*dATrZSFXDI3O8p_UWXLtVA.gif"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/4e22609c1b9a52f236fce5d2eef1b7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/1*kyyQrFlHbtyl3DyrJFYYoA.gif"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/4bd7b483c4e8d3695b40bd2822610071.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/1*3h7KTVr55dDrsbzXjaKBDg.gif"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/0c30ca3be3c263294310a091c6512454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zf_ys-R52O1oEYTrLqplVg.png"/></div></div></figure><p id="bfff" class="pw-post-body-paragraph kh ki hi kj b kk lb ij km kn lc im kp ju ld kr ks jy le ku kv kc lf kx ky kz hb bi translated">该算法还需要<strong class="kj hj">将</strong><em class="la"/><strong class="kj hj"/><em class="la">假值</em>分配到<em class="la">广义混淆矩阵</em> <strong class="kj hj"> </strong>中的<strong class="kj hj">邻居行</strong>中，以保持实际精度。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b45a8d65f82310a95a743a6edb88acb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7pgCLTlOmbqslpqaXMh5KA.png"/></div></div></figure><p id="485d" class="pw-post-body-paragraph kh ki hi kj b kk lb ij km kn lc im kp ju ld kr ks jy le ku kv kc lf kx ky kz hb bi translated">注意:<strong class="kj hj"/><strong class="kj hj">广义混淆矩阵</strong> <em class="la">自然</em> <strong class="kj hj">有错误</strong>，因为将错误值分配给相邻行，但是这个操作<strong class="kj hj">保留了实际的准确性。</strong></p><p id="6db4" class="pw-post-body-paragraph kh ki hi kj b kk lb ij km kn lc im kp ju ld kr ks jy le ku kv kc lf kx ky kz hb bi translated">注意:我们可以使用<strong class="kj hj">质因数分解</strong>来找出<em class="la">我们可以将类分成多少组</em>。</p><ul class=""><li id="7483" class="lv lw hi kj b kk lb kn lc ju lx jy ly kc lz kz ma mb mc md bi translated">例如:如果我们有一个<strong class="kj hj"> 51x51混淆矩阵</strong>，我们可以将类分成<strong class="kj hj"> 3 </strong>或<strong class="kj hj"> 17 </strong>组和<strong class="kj hj"/><strong class="kj hj">广义混淆矩阵</strong>将是<strong class="kj hj"> 3x3 </strong> <em class="la">(组大小为17) </em>或<strong class="kj hj"> 17x17 </strong> <em class="la">(组大小为3)<em class="la"/></em></li></ul></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h2 id="3212" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">4.代码</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="me mf l"/></div></figure><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="fb03" class="jj jk hi mh b fi ml mm l mn mo"># original confusion matrix<br/>[[5 1 0 0 0 0]<br/> [0 5 0 0 0 0]<br/> [0 1 5 1 0 0]<br/> [0 0 0 5 0 0]<br/> [0 0 0 0 5 0]<br/> [0 0 1 0 0 5]]</span><span id="e0a4" class="jj jk hi mh b fi mp mm l mn mo"># generalized confusion matrix with 3 groups<br/>[[10.  1.  0.]<br/> [ 1. 10.  1.]<br/> [ 0.  1. 10.]]</span></pre></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h2 id="5747" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">5.参考</h2><p id="0d77" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp ju kq kr ks jy kt ku kv kc kw kx ky kz hb bi translated"><a class="ae mq" href="https://www.researchgate.net/publication/310799885_Generalized_Confusion_Matrix_for_Multiple_Classes" rel="noopener ugc nofollow" target="_blank">https://www . research gate . net/publication/310799885 _ Generalized _ Confusion _ Matrix _ for _ Multiple _ Classes</a></p></div></div>    
</body>
</html>