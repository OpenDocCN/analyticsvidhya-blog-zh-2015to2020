<html>
<head>
<title>Appropriate ways to Treat Missing Values</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理缺失值的适当方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/appropriate-ways-to-treat-missing-values-f82f00edd9be?source=collection_archive---------13-----------------------#2020-05-02">https://medium.com/analytics-vidhya/appropriate-ways-to-treat-missing-values-f82f00edd9be?source=collection_archive---------13-----------------------#2020-05-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="40d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">众所周知，面向数据的行业大部分时间都花在数据准备和数据清理上。在某些情况下，数据专业人员准备数据的时间消耗可能高达90%。处理缺失数据是数据准备阶段最困难的部分之一。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/d7b33b2d4c396be1c8f5df6968728f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*FA3e5V4J7N8A0Ry8zmgEhw.png"/></div></figure><p id="7e1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们通常在数据中表示为NaNs、空格或0。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/a45843168889024dd821ddf40b81a367.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*fcKjuMj-_vQabcmYuzyiHg.png"/></div></figure><p id="7fe1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果缺失值处理不当，结果可能会导致对数据的推断不准确，并产生有偏差的估计值。</p><p id="300c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以使用以下命令计算每列中缺失的值:</p><p id="3f84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jm jn jo jp b">data.isnull().sum()</code></p><p id="d13b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据中如何出现缺失值？</strong></p><p id="7404" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">缺失数据可以是缺失序列、不完整特征、文件缺失、信息不完整、数据输入错误、数据收集问题等。</p><p id="22c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缺失值类型:</strong></p><p id="27f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> MCAR </strong>:完全随机失踪</p><p id="bb99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">缺失值随机分布在所有观测值中。</p><p id="1f96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例子:</strong>一份血液样本在实验室中被损坏。</p><p id="686c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标记</strong>:随机缺失</p><p id="df1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">缺失值不是随机分布在观测值中，而是分布在一个或多个子样本中。</p><p id="9aac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个孩子因为生病而没有去接受检查。</p><p id="5abb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> NMAR: </strong>没有随意失踪</p><p id="4b6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当数据不是随机丢失时，丢失与丢失的内容特别相关。</p><p id="43c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个人没有参加英语水平测试，因为他的英语语言能力很差。</p><p id="2416" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">以下是处理缺失数据最常见的方法:</strong></p><p id="726c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。</strong> <strong class="ih hj">丢弃数据- </strong></p><p id="0fec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是最直观简单的方法之一。如果大型数据集中的缺失值计数不够大，则可以使用以下命令删除这些行:</p><p id="5926" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jm jn jo jp b">df.dropna()</code></p><p id="c001" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一个变量中有大量的观察值缺失，那么在这种情况下，该变量应该被删除。</p><p id="5073" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这不是推荐的方法，因为它可能会导致样本量的显著减少。</p><p id="a1f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。</strong> <strong class="ih hj">均值，模式插补- </strong></p><p id="1478" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">插补是用缺失值的统计估计值替换缺失数据的行为。</p><p id="6991" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应在考虑数据分布后决定插补方法:正态分布和偏斜分布(无论是右偏斜还是左偏斜)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/94169136eca7bb1c726202a9218fc68e.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*mjnqGOlgRnc5jwqf8vKM9w.png"/></div></figure><p id="ac2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果分布为正态分布或高斯分布，均值插补效果更好，而对于偏斜分布(无论是右还是左)，中位数插补更好。</p><p id="c2f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据插补完全取决于数据类型。</strong></p><p id="5c0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果列的数据类型是数值型，则在正态分布的情况下用平均值替换这些值，在偏态分布的情况下用中值插补替换这些值。如果列的数据类型是分类的，那么模式插补方法是合适的方法。</p><p id="fdaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">K-最近邻插补(KNN)- </strong></p><p id="d791" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法使用k-最近邻算法来估计和替换缺失数据。使用某种距离度量来选择k个邻居，并且将它们的平均值用作插补估计。应该使用不同的距离度量来尝试不同的k值，以找到最佳匹配。使用KNN的优点是易于实现。但是它遭受了维数灾难。它对于少量的变量很有效，但是当变量数量很大时，计算效率就变得很低。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/b149f62a1bd2b41a3f03fef3eafd7f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*kC3UsUd3uJeyr5Z247Zjeg.png"/></div></figure><p id="9459" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。</strong> <strong class="ih hj">回归插补</strong></p><p id="167b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种方法用基于回归线的预测值替换缺失值。</p><p id="25f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回归是一种显示因变量和自变量之间关系的统计方法。它表示为<br/> <code class="du jm jn jo jp b"> y = mx + b</code></p><p id="8606" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jm jn jo jp b">For Example: </code>三头肌皮褶厚度是我们发现一些缺失值的变量之一。该变量中的缺失值可以通过使用所有其他变量信息作为预测值来估算。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/9b6868ed7f69261634549cf39b474167.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*dNJim_H2nyCjXEBvtnv48w.png"/></div></figure><p id="5191" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。</strong> <strong class="ih hj">填充缺失值</strong></p><p id="4b6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">填充缺失值的方法之一是通过以下方法用标量值替换NA:</p><p id="cb7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jm jn jo jp b">df.fillna(0)</code></p><p id="7e34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用与<a class="ae jt" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/basics.html#basics-reindexing" rel="noopener ugc nofollow" target="_blank">重新索引</a>相同的填充参数，我们可以向前或向后传播非NA值:</p><p id="ebe8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jm jn jo jp b">df.fillna(method=’pad’)</code></p><p id="0697" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="e569" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有不同的方法来处理缺失值，这在很大程度上取决于数据的性质。因此，在训练模型后，您对缺失值处理得越仔细，预期的准确度就越高。</p></div></div>    
</body>
</html>