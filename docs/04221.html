<html>
<head>
<title>To sharp your visualization: The wide and long format of data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你的视觉更清晰:数据的宽长格式</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/to-sharp-your-visualization-the-wide-and-long-format-of-data-2dad6a06bb75?source=collection_archive---------9-----------------------#2020-03-10">https://medium.com/analytics-vidhya/to-sharp-your-visualization-the-wide-and-long-format-of-data-2dad6a06bb75?source=collection_archive---------9-----------------------#2020-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d9ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你将如何开始你的可视化项目？这是每个数据分析师在项目开始时都应该问的问题。在本文中，我将从通过两种表格格式准备整齐的数据这一点开始，并比较它们的优缺点。</p><h1 id="a974" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">宽大的桌子</h1><p id="1148" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">每个人都有使用excel中数据透视表功能的经历，数据透视表向我们展示了表格的宽度。使用宽表呈现数据的优点是，它为用户提供了清晰的可视化效果，尤其是当用户使用它和筛选功能时。在控制面板中使用矩阵或表格功能与Power BI中的功能非常相似。然而，当分析师收到这种数据时(例如来自利益相关者的月度报告)，不仅在可视化工具中，而且在python或r中直接使用这种数据都是极其困难的。作为一名分析师，您有几种方法来解决这个问题:</p><ol class=""><li id="3545" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">如果您有数据库的授权，请转到数据库获取原始数据</li><li id="dc46" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">向数据工程师寻求帮助</li><li id="b403" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">请你的利益相关者向你提供他们收集的原始数据</li><li id="944a" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">恭喜，是时候提高你的python或者R技能了</li></ol><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es ku"><img src="../Images/b267558b068fffc4969b27f48a7a2cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*WXIni4nhwHaTg5Z1aHBaLA.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">宽表的格式</figcaption></figure><h1 id="9335" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">长桌</h1><p id="9c3a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在构建ML模型或显示仪表板之前，分析师通常会清理来自各种来源的不同数据，该阶段的目的是整合长表格中显示的整齐数据。长表的优点是可以通过给列添加限制或条件来对数据进行切片(比如限制2010年的索引，那么就可以在整齐的数据中得到满足条件的所有信息)。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es lg"><img src="../Images/986a9758b7152b766421cd39ba168d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*Yvv6pM0KtzD4wvhcXbIShg.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">宽而长的桌子</figcaption></figure><p id="a68f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，我们该如何转换表格格式呢？</p><p id="b0be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lh">在python中，</em></p><ol class=""><li id="5c4d" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">使用pandas和pivot()、groupby()逐个添加列，将长表转换为宽表。</li><li id="3029" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">使用pandas wide_to_long()将宽表格转换为长表格</li></ol><p id="6c1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lh">在R，</em></p><ol class=""><li id="11e7" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">使用gather()进行单列转换</li><li id="734e" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">使用gather_()进行一系列列转换</li></ol><p id="bab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分析师应该熟悉这两种格式，并考虑在面对不同情况时正确使用它们。</p></div></div>    
</body>
</html>