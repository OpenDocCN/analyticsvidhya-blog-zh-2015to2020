<html>
<head>
<title>Data Visualization through Tabulation on India’s COVID-19 Daily Case Count</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过印度新冠肺炎每日病例数制表实现数据可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-visualization-through-tabulation-on-indias-covid-19-daily-case-count-573c37e3d5e3?source=collection_archive---------23-----------------------#2020-07-30">https://medium.com/analytics-vidhya/data-visualization-through-tabulation-on-indias-covid-19-daily-case-count-573c37e3d5e3?source=collection_archive---------23-----------------------#2020-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/4432eb0a42117eded2ad30097e8c41f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/1*le2fROKaCP-xg8fDR5dKAQ.gif"/></div><figcaption class="im in et er es io ip bd b be z dx translated">可视化改变世界的疫情的最新趋势。永远。</figcaption></figure><p id="270b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据科学是以下步骤的融合:<strong class="is hj">收集数据</strong>，<strong class="is hj">存储数据</strong>，<strong class="is hj">处理数据</strong>，<strong class="is hj">描述数据</strong>和<strong class="is hj">建模数据</strong>。<strong class="is hj">数据可视化</strong>处理<strong class="is hj">描述数据</strong>。</p><p id="7227" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">获取整个数据集，并缩小我们的关注范围，只关注我们想要处理的那部分数据，这就是描述数据的内容。有两种<strong class="is hj">方法</strong>来处理它:<strong class="is hj">计算统计数据</strong>(均值、中值、众数和标准差等)和<strong class="is hj">绘制图表</strong>来获得对数据的直观洞察。</p><p id="3ce7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">压缩数据并使用有意义的符号进行交流的能力不仅是对人类智能的一种衡量，也是对人工智能代理的一种衡量。</p><blockquote class="jo jp jq"><p id="03a5" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">数据可视化的目标</p></blockquote><p id="7422" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">减少感知错误:视觉编码信息</p><p id="8c65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">发现真知灼见</strong>:关键信息通常是从图表中提取出来的，否则即使从统计推断中也是隐藏的</p><p id="72f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">传达见解</strong>:通过图形和图表的帮助，将发现的见解有效地传达给天真的用户</p><blockquote class="jo jp jq"><p id="9303" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">数据可视化包</p></blockquote><p id="c87b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> matplotlib </strong>:灵感来自MATLAB的绘图工具</p><p id="31e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">seaborn :构建在matplotlib之上的Python数据可视化库</p><p id="2734" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">pandas集成了上述绘图库，从而使<strong class="is hj">计算</strong>和<strong class="is hj">绘图</strong>能够齐头并进。</p><p id="8232" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们导入必要的包:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/e23ea75a804e5d431a478b9ff3572456.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*JabQcnKRLve_EkCKDQHZ7g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">适当导入和重命名的包</figcaption></figure><blockquote class="jo jp jq"><p id="ac54" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">收集数据</p></blockquote><p id="8685" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了能够可视化并获得洞察力，我们首先需要获得<a class="ae ka" href="https://api.covid19india.org/states_daily.json" rel="noopener ugc nofollow" target="_blank">数据</a>。从最初的检查中，我们发现每个州的每日案例数被存储在一个JSON文件中，该文件被组织成一个字典，只有一个键“<strong class="is hj"> states_daily </strong>”。从2020年3月14日开始的<strong class="is hj">每日报告存储为三个字典的集合，以州/联邦领地名称的缩写作为关键字，以感染、康复和死亡患者的数量作为值。获取这些数据的过程从定义包含该文件的网页的URL开始:</strong></p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/cb3d9d1a208242f4f08db518216d831d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*UjSy75ns0Jf1WTkp8ZOlyw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">将URL存储为字符串对象</figcaption></figure><p id="3134" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们需要合并来自<strong class="is hj"> urllib </strong>库的<strong class="is hj">请求</strong>包:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/ee25e5f1e9ffb5c1c5dc83dbeaec6b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*G5RyzHNIxQzanXlUjwrfrA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">帮助检索web数据</figcaption></figure><p id="e625" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用下面的代码行，我们不仅能够获取所需的数据，还能够将其存储在一个文件中以供将来可视化:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/cea4674c2c884cf5d57511efbcd3515e.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*rExdjDPbgll7WXEHwGhsXQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">从在字符串<strong class="bd ke"> url </strong>中找到链接的网页中获取所有数据，并存储在<strong class="bd ke"> data.json </strong>中</figcaption></figure><p id="7633" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面显示的语句末尾的分号隐藏了不需要的警告语句。</p><blockquote class="jo jp jq"><p id="a31c" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">存储数据</p></blockquote><p id="4394" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在可以使用下面的一行程序来读取JSON文件:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/a991e4424d11c830724e71b23592832a.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*dkodSfziIooo7IaSyExzhg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">read_json()来自熊猫图书馆</figcaption></figure><p id="615d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了确保数据已被成功读取，并且我们对其结构的所有观察都是正确的，明智的做法是打印内容:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/9e6fda6495511d82453cf985e07b400f.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*jQ5QNEwAMd5rNPTHb59ruA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">事实上，如前所述，这是一本字典集</figcaption></figure><blockquote class="jo jp jq"><p id="29b5" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">预处理数据</p></blockquote><p id="5724" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如上所示的数据格式很难掌握和使用。我们提出了一种替代方法，使用<strong class="is hj"> json </strong>库来加载获取的数据:</p><pre class="jw jx jy jz fd kh ki kj kk aw kl bi"><span id="bba7" class="km kn hi ki b fi ko kp l kq kr">import json</span></pre><p id="fe29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要以读取模式打开JSON文件:</p><pre class="jw jx jy jz fd kh ki kj kk aw kl bi"><span id="75f1" class="km kn hi ki b fi ko kp l kq kr">fh = open("data.json", mode = "r")    # fh is the file handler</span></pre><p id="3a08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们链接文件处理程序以从文件中加载数据:</p><pre class="jw jx jy jz fd kh ki kj kk aw kl bi"><span id="9129" class="km kn hi ki b fi ko kp l kq kr">data = json.load(fh)</span></pre><p id="6dbe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">已加载数据的快照如下所示:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ks"><img src="../Images/bbd7333f222ba267db9044f82dca24d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jr1Ur7kEBZUtUTRqcGykmQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:嵌套字典</figcaption></figure><p id="147b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">可以引用“<strong class="is hj">States _ daily”</strong>键属性，以便将内容提取为单级字典:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/0b4c06812a9982ee7f087f437870a00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*v58OoaW31d2bSa1YjVr6Vg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:单级字典</figcaption></figure><p id="29ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如上所示，使用字典数据很麻烦。一个可行的替代方法是将JSON字典转换成pandas DataFrame:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/4381eb63bc0be5c6b29ff45435eea3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*f5e01-GaLIfLSQp-_zMTzA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">通过展平存储在<strong class="bd ke">数据</strong>中的JSON文件创建的DataFrame对象<strong class="bd ke"> covid_data </strong></figcaption></figure><blockquote class="jo jp jq"><p id="bdb4" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">检查数据</p></blockquote><p id="f5dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">理解数据的途径可以从找到行数和列数开始。对于每个日期，我们有3个条目，分别对应于<strong class="is hj">确诊</strong>、<strong class="is hj">死亡</strong>和<strong class="is hj">康复</strong>患者:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/c7a3266fe58daadc4e1636fceaa5c761.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*WOWdDUhKVLG_Usg3a6O0fA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke"> shape </strong>属性返回<strong class="bd ke"> 414行</strong>和<strong class="bd ke"> 41列</strong></figcaption></figure><p id="6d1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">414个条目相当于138天的数据(414 / 3 = 138)。对于印度的每个邦和中央直辖区，都有一个缩写的列名。为了拓宽我们对数据本质的认识，我们来看看以下几栏:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es la"><img src="../Images/46d92584fff9e1c99c222556cbda256f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*Hrr7puF5zDzbVg-xNP_2ww.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke">列</strong>属性返回列名列表</figcaption></figure><p id="d2cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过少量的研究，我们可以建立一个表，将地区缩写映射到相应的名称:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/29648fb6f37739a1fa2c781beaa07995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*0pyGvXAzTb0m7vz8GCEiWw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">印度各邦和中央直辖区</figcaption></figure><p id="c6b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上表包含37个地区的名称。其余四列是:<br/> <strong class="is hj">状态</strong> —定义一行的标签(已确认、已死亡、已康复)</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/896bc5060a86e0fb08730da8e05399de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*KEYvaeVNvD8K1GnWkbYYyw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">分类变量<strong class="bd ke">状态</strong>及其唯一的一组3个值</figcaption></figure><p id="5bec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">日期</strong> —表示特定报告日期的字符串</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/d784166c86ec66f947f55acf2053f14b.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*qXQgXEheS6Gq8djedOVHFw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">138天数据</figcaption></figure><p id="ef93" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> tt </strong> —确诊/死亡/康复患者总数</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es le"><img src="../Images/22156a8bed983ae6b76fff10689b2786.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*XViuX5MOu9hvDqqGYOa1lA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">分类数据，以后会转换为数字数据</figcaption></figure><p id="766b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> un </strong> —似乎包含异常数据点，需要删除:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/bf8c3dec72bdc4f4a3e6eb7b9816009b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*RviX4rx2bnDqexkQL7c0YA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">案例数不能为负！</figcaption></figure><p id="cd9c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于列<strong class="is hj"> un </strong>包含虚假值，我们将它完全删除:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/bec1d995e858f5ff088800275db03f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*-xGyoX8IqKItGYynXhs7Xg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">drop方法删除了<strong class="bd ke"> un </strong>列(轴= 1 ),这一变化反映在<strong class="bd ke"> covid_data </strong>中，因为inplace设置为True</figcaption></figure><p id="c735" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了更加确定这种变化，我们查询了<strong class="is hj"> covid_data </strong>的形状:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/19733d83fdbafeab10129f0bb3977a84.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*GrYObK2HumLWIC1zOhE-4Q.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">我们现在只剩下40列了！</figcaption></figure><p id="3e63" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将<strong class="is hj">日期</strong>属性从字符串转换为时间戳有助于更好地处理数据:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lh"><img src="../Images/53bbcfaa7f3791edf1e4a5f1db379bad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aq1BLvOUsIzy9WqKOSNIRA.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke"> to_datetime( ) </strong>有助于此过程</figcaption></figure><p id="18e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们希望<strong class="is hj">只关注被感染患者的集合</strong>。因此，我们在<strong class="is hj">状态</strong>属性为“<strong class="is hj">已确认</strong>”的条件下对整个数据帧进行子集化:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es li"><img src="../Images/bba6549aaee6be89aa7e57b4790d01c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*nVwVjfy5VY0zn_WskVcJYw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">缩小我们的焦点是什么构成了<strong class="bd ke">描述数据</strong></figcaption></figure><p id="5c5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们确保上述操作正确执行:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/9d4a794174783a263017ff870b8db41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*bNyfeodLKfnK1QWB2KlgMw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">仅包含138行的原始数据集的三分之一</figcaption></figure><p id="1f47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们已经设法提取了仅与受感染患者相关的信息，所以我们没有使用<strong class="is hj">状态</strong>列。所有138行都具有相同的状态值:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/e9b213cc211287bc568b5af872c25cd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*oKColCONysNHWxpbmWcweA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">上述声明通过<strong class="bd ke">状态</strong>重新声明，仅返回一个唯一值:<strong class="bd ke">确认</strong></figcaption></figure><p id="9854" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在可以放弃了:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ll"><img src="../Images/8709f71c6049946b6fa533b57902a30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2i16SHX_M7k3xk_xHmPl-g.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">已尝试使用分号隐藏警告(粉红色)</figcaption></figure><p id="1fca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">证实我们的主张总是好的:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/f15472f5c34af798722ca25daf3b7e94.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*HkAIaDFqIqDfBawtncZO7g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">去掉<strong class="bd ke">状态</strong>属性后剩下39列</figcaption></figure><p id="16bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过检查前五行获得手头数据的概述:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/99963d806af168c73883dba28a3cf40b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*-M7Y3bn2d5V_Y-XthcSSlQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">默认情况下，<strong class="bd ke"> head( ) </strong>返回前五行</figcaption></figure><p id="1e43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">很明显，我们正在处理<strong class="is hj">日常数据</strong>。因此，明智的做法是<strong class="is hj">基于日期列</strong>对行进行索引:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lo"><img src="../Images/0e865bcea7cf4114d49aaf109ca6246a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*Jlbtjo7mM5z4p68hTRJs1A.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke">日期</strong>列作为<strong class="bd ke"> covid_data </strong>的索引</figcaption></figure><p id="566b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从表面上看，事例计数是正整数。然而，每一列的数据类型都与我们的预期相反:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/c5f224768b6a8f444896e4c5f038af68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*5R1zNQn7lBoA5ZGH_5GOgA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">由<strong class="bd ke"> info( ) </strong>生成的输出快照</figcaption></figure><p id="77fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了能够应用可视化工具，我们的数据值必须是数字:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/4b2015e0d4674547a0a44b22308e71ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*xy6ZsHxG95Wk10iV8G0xNg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">将<strong class="bd ke"> to_numeric( ) </strong>方法传递给<strong class="bd ke"> apply( ) </strong>方法，从而将每个属性的数据类型更改为int</figcaption></figure><p id="65e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于门外汉来说，最好从小规模层面开始可视化数据。我们将<strong class="is hj">焦点</strong>缩小到最近一周的<strong class="is hj">数据(7月23日至7月29日)</strong>:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lr"><img src="../Images/9cdd8abab019312ccb39f0e18fb3f44d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AoNRm4eYeY5f6C8Y7KWfAw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke"> tail(7) </strong>方法返回最近7天的数据</figcaption></figure><p id="73b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在继续进行<strong class="is hj">样式列表</strong>之前，让我们删除总案例栏:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/dfd622e34c7cf3f61b166047fb18ed4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*oH2qUUDQThHcCGPU3M5bgg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">表示总数的tt被废除了</figcaption></figure><blockquote class="jo jp jq"><p id="6943" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">样式列表</p></blockquote><p id="9d3e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们编写了一个函数，将计数为<strong class="is hj"> 0的单元格着色为绿色</strong>，将计数为<strong class="is hj">的单元格着色为红色</strong>:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/6c0dd8aab89ca0044b757e49ead7b197.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*BRQWRq5snhpx9n3h4vYaOw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">请注意是<strong class="bd ke">色</strong>和<strong class="bd ke">色</strong></figcaption></figure><p id="cc5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> style.applymap( ) </strong>帮助将上述函数应用于每个单元格，并相应地对它们进行颜色编码:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lu"><img src="../Images/3505e61f81ad422fdf8d062caaf77f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ozISpKTGNZS4svf_T3wvNQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照显示<strong class="bd ke">达曼和迪乌(dd) </strong>和<strong class="bd ke">拉克沙德威</strong> <strong class="bd ke"> (ld) </strong>上周报告零病例</figcaption></figure><p id="f487" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以继续删除这些列:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lv"><img src="../Images/8df3fa4caa306c496ad350b2fd138019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*KDlwfua48mxWlsQ4K9gYRQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">截至7月29日，已知37个地区中有35个报告了新病例</figcaption></figure><p id="bf3c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们能够对<strong class="is hj">最大病例数</strong>进行颜色编码，我们就可以了解最近<strong class="is hj">报告较低病例数</strong>并因此处于<strong class="is hj">恢复过程中</strong>的州的情况。还发现了关于最近报告<strong class="is hj">较高计数</strong>并需要<strong class="is hj">特别关注</strong>的州的洞察:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/e3e8d965baa79f5094f0d28e883e1d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*SR3lkpe3YyNzeMHpwZypqA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">highlight_max()为我们完成了这个任务</figcaption></figure><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lx"><img src="../Images/20b1a21fce4e2efb96df2e9f613b534c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UVVRa9pmIAdJ7jxHsozFrg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:最大值以红色显示</figcaption></figure><p id="ebde" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安得拉邦(<strong class="is hj"> an </strong>)、阿鲁纳恰尔邦(<strong class="is hj"> ap </strong>)、中央邦(<strong class="is hj"> mp </strong>)和其他一些邦最近报告了更高的计数，而查谟和克什米尔(<strong class="is hj"> jk </strong>)、奥里萨邦(<strong class="is hj">或</strong>)、那加兰邦(<strong class="is hj"> nl </strong>)和其他一些邦似乎处于<strong class="is hj">恢复模式</strong></p><p id="77ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">最小箱数</strong>也可以高亮显示:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/1ab2ab693ab977368f098660c8dade8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*FwyLSle7GNYZsytwgIX8kQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:晚报告最小值是一个好迹象</figcaption></figure><p id="5750" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以同时突出显示最小<strong class="is hj">和最大</strong>值:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ly"><img src="../Images/1f36da37e26983364482716f9bae1a5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R71mGlRcsoTsXycbhX6nbQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:绿色表示最小值，红色表示最大值</figcaption></figure><p id="5fe1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以粗体显示<strong class="is hj">最大值的功能</strong>:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/2693dffd4aeb65307bd132901d633ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*pzORQ0MJ9AVyzUm70drPkw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><strong class="bd ke">对于列中的最大值，font-weight </strong>属性设置为粗体，对于其他值，保持不变</figcaption></figure><p id="c610" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们用红色粗体突出显示最大值，用绿色突出显示最小值:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ma"><img src="../Images/61ceef14a7aca488e99bfa569ae5f4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ccpuKDjRgKKqSN-tN5Sf0Q.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:<strong class="bd ke">最大值</strong>为<strong class="bd ke">粗体</strong>和<strong class="bd ke">红色</strong>，而<strong class="bd ke">最小值</strong>为<strong class="bd ke">绿色</strong></figcaption></figure><p id="be82" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">了解哪个地区每天报告的病例数最高变得非常重要:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mb"><img src="../Images/b7ea6b68145884e4eddf63a1e523da47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ktXtudOFcIZDKwmza5Sfbg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">马哈拉施特拉邦(mh)的情况似乎令人担忧——每天报告的病例数最高</figcaption></figure><p id="3f5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以根据数据给背景涂上渐变颜色，而不是两种颜色编码——阴影越深，数值越高，情况越危险:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/ce652c52c415ea646028d4652c81e183.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*GodWBWMB7tgGPg421Sadkw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:根据区域的阴影分布</figcaption></figure><p id="3069" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">沿着<strong class="is hj">行(按日期)</strong>也可以有不同的颜色:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es md"><img src="../Images/44859dc57c67eb1b00b12200f2182d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cawbVJGU3PHVjW7KWetQfA.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快照:马哈拉施特拉邦(mh)、安得拉邦(ap)和泰米尔纳德邦(TN)[如下所示]每天都有大量病例报告</figcaption></figure><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es me"><img src="../Images/92c0fd1c9dfce021b71518d923382ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:166/format:webp/1*4Zkk1nbbsfMdA2YO-XGIzQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">泰米尔纳德邦也不甘落后</figcaption></figure><p id="6715" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于<strong class="is hj"> mh </strong>、<strong class="is hj"> ap </strong>和<strong class="is hj"> tn </strong>似乎是covid热点，我们使用<strong class="is hj">柱状图</strong>关注这三个地区，其中<strong class="is hj">柱状图的长度与病例数量的大小成比例</strong>:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/78558b9920ce17bb620cf806a1908aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*UIHpDlKrMZVp58cdf6UImg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">条形越长，当天记录的病例数就越高</figcaption></figure><p id="519c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们使用三种不同的颜色——每种颜色代表一种状态，视觉效果会更好:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/51bb9f84423572ca420d7d8127d949d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*eYpKDgpYzXWrufXMEogO2g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">区分三个受影响最严重地区的清晰图片</figcaption></figure><p id="2663" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这篇文章对你有所帮助。请随时留下您的评论、反馈、批评、想法和其他一切。回头见！</p></div></div>    
</body>
</html>