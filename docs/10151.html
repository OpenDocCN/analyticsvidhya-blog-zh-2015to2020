<html>
<head>
<title>Restaurant Reviews : Sentiment Analysis And Recommendation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">餐馆评论:情感分析和推荐</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/restaurant-reviews-sentiment-analysis-and-reccomendation-9bdf31a0b20?source=collection_archive---------4-----------------------#2020-10-07">https://medium.com/analytics-vidhya/restaurant-reviews-sentiment-analysis-and-reccomendation-9bdf31a0b20?source=collection_archive---------4-----------------------#2020-10-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7d738ae78817184465329fc7d196f0e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tNptCvdpjNCaHx0e"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹金</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="37b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我们将对伦敦前300家餐馆评论进行情感分类，并通过餐馆描述、摘要和用户评论使用余弦相似度开发推荐系统。最后，我们将被部署在Flask上。</p><p id="8323" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，让我们用<strong class="ix hj">来定义这个问题。</strong></p><p id="0d96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们先来看一下对排名前300的餐厅进行情感分析的大致情况。人们最喜欢这些餐馆的什么特点？或者他们抱怨最多的是什么？</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/bdb6de17a5adefae975ef50db5934e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20n4cOm1p2z8LBPNuiIo0A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">对TripAdvisor.com的正面和负面评价</figcaption></figure><p id="1226" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将关注的另一个问题是，假设我们饿了，我们将去我们经常去的餐馆，但是Ops！</p><p id="943c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那天餐馆关门了。那么看看其他10家和我们最喜欢的相似的餐馆怎么样？那我们开始吧！</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/4cddb60c5fcbc6a87246794e20c898b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FytNZlMf8ODuD87gGiXomA.png"/></div></div></figure><h1 id="036f" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">数据收集和存储数据库</h1><p id="23da" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">我用BeautifulSoup库从<strong class="ix hj">tripadvisor.com</strong>抓取数据，并存储到MongoDB中。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/2bc9d23d79b0c2568a3d31ad0cfbf17e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QrAKZo5g0jcy4vqncSs5zg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">存储到MongoDB</figcaption></figure><p id="bfa0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">MongoDB是一个灵活的数据库。如果结构化数据库中有4个字段，如果我们必须填充全部4个字段，那么在MongoDB中不会出现这种情况。我们可以定义任意多的列，也可以输入不完整的列。</p><h1 id="ce31" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak">探索数据</strong></h1><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/a4b6f8c86316ac428c877ba5e49694c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*NnGi9O8R0MEiKlPScaxJAA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我收集的数据量</figcaption></figure><p id="282a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">伦敦总共有19k家餐厅，但我没有和它们都合作过。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es le"><img src="../Images/5646304667df9130553de7e6a9e91382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*wx7A5mjyFEuD45UBTFtQRQ.png"/></div></figure><p id="2779" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们查看“信息”栏时，我们看到的“尝试”代表土耳其里拉。如果我们把它转换成英镑，它会更正确:)这在推荐系统中是一个有用的特性，但是我没有使用它。那我们准备好了就来介绍我们的栏目吧。“信息”栏包含价格范围，特殊饮食(素食友好，纯素食选择，无麸质选择等。)、膳食(晚餐、午餐等。)、美食和特色(送货、外卖、预订、座位、高脚椅、无障碍轮椅、免费Wifi、接受信用卡、餐桌服务、数字支付、自带设备等。).“总结”栏目是餐厅介绍。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/5cb1323794d67573c7987bb7ef68d98e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNUYGkYWH3_HMeivrz764Q.png"/></div></div></figure><p id="8c34" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们看图表时，我们看到极性一般在0以上，评级大多在4以上。用户评论的字数很少超过85。像食物和服务这样的词是评论中最常见的词，这并不奇怪。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/b6a1427402e167020dc21103ede84c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pFcjTLj2YrcfHDU9-10j4A.png"/></div></div></figure><h1 id="5063" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">预处理文本</h1><p id="05c5" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">在将其放入模型之前，我们应该清除文本中的特殊字符、表情符号、停用词、数字，并删除大小写分隔，以便模型不会将同一个词视为不同。此外，分离单词的词根将减少我们将包括在模型中的单词的数量。我用雪球图书馆把它挖了出来。</p><p id="c963" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们可以使用文本挖掘算法。</p><h1 id="c398" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">分类</h1><p id="73a2" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">我们看到EDA的部分，正面评论似乎占主导地位。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/62bf208a5ba43f05ae8bad23e19b66ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*fFsG_Mg8ToKpiOyfldxK6A.png"/></div></figure><p id="cc5a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然我们的模型可以以很高的比率预测正面评论，但它将无法预测负面评论，所以我使用了随机欠采样方法。</p><p id="12e4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们不能在ml算法中直接使用文本数据。为了在机器学习算法中使用它，我们必须将文本转换为数字特征向量。为此，我们可以使用Tfidf和CountVectorizer。我们可以用CountVectorizer统计一个单词在文档中出现的次数。Tfidf使用一种统计方法来做这件事。我用计数向量器得到了多项式朴素贝叶斯的最佳结果。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/921805c730bc16a910761affc78f6a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N22VH7JTrshefXbrxDEN0Q.png"/></div></div></figure><p id="7c66" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">功能重要性:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/0937dfdc119983b76f8540565d88712d.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*nP-mBUKqyCpaPLAZOmJzfw.png"/></div></figure><p id="360c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对排名前300的餐厅的负面评价很突出:“平淡”、“冷”、“差”(对食物而言)、“粗鲁”(对服务员而言)。</p><h1 id="7690" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">建议</h1><ol class=""><li id="fc91" class="lk ll hi ix b iy kx jc ky jg lm jk ln jo lo js lp lq lr ls bi translated">基于餐厅信息，描述(摘要):</li></ol><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/a5eabe4b15a907fd4dbde30bef403de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*e_aChlzAJT3yJJVKxZ4hpw.png"/></div></figure><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="0e20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.基于餐厅信息、描述(摘要)和用户评论:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/901047c7635bfde9e450f9cfc027059d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*wGNk0cI9F7Xv0WN8iBSbaw.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">瓶</figcaption></figure><p id="0e4f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Flask是一个微型框架，允许你开发web应用程序。在项目的最后阶段，我用Flask部署了我的推荐项目。</p><p id="37ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想找到和你最喜欢的餐厅相似的餐厅，你可以访问<a class="ae iu" href="https://london-restaurant-rec.herokuapp.com" rel="noopener ugc nofollow" target="_blank">我的heroku页面！</a></p><div class="lx ly ez fb lz ma"><a href="https://github.com/aybukemeydan/RestaurantReviews-SentimentAndRecommendation/blob/main/recc-flaskapp/flask.gif" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab dw"><div class="mc ab md cl cj me"><h2 class="bd hj fi z dy mf ea eb mg ed ef hh bi translated">aybukemeydan/restaurant reviews-感觉和建议</h2><div class="mh l"><h3 class="bd b fi z dy mf ea eb mg ed ef dx translated">permalink dissolve GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码，管理…</h3></div><div class="mi l"><p class="bd b fp z dy mf ea eb mg ed ef dx translated">开源代码库</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo io ma"/></div></div></a></div><p id="1d32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢阅读！你可以在<a class="ae iu" href="https://www.linkedin.com/in/ayb%C3%BCke-meydan-330363162/" rel="noopener ugc nofollow" target="_blank"> linkedin </a>和<a class="ae iu" href="https://github.com/aybukemeydan" rel="noopener ugc nofollow" target="_blank"> github </a>上找到我。</p></div></div>    
</body>
</html>