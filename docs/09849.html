<html>
<head>
<title>Semantic Segmentation using U-NETs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用U-网的语义分割</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/semantic-segmentation-using-u-nets-79d677a6fd98?source=collection_archive---------18-----------------------#2020-09-22">https://medium.com/analytics-vidhya/semantic-segmentation-using-u-nets-79d677a6fd98?source=collection_archive---------18-----------------------#2020-09-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5b00d7e68f4ff80222d63d0a1b5d3d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSUcjdTtn26buaG4qVRFSw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">语义分割(<a class="ae iu" href="https://neurohive.io/wp-content/uploads/2018/11/u-net-segmentation-e1542978983391.png" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="c569" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">顾名思义，<strong class="ix hj">图像分割</strong>就是将一幅图像分割成多个片段的过程。又细分为两部分，分别是<strong class="ix hj"> <em class="jt">实例切分</em> </strong>和<strong class="ix hj"> <em class="jt">语义切分</em> </strong>。在实例分割中，图像中的每个实例被分配一个不同的标签。在语义分割中，属于同一对象类的实例被分配相同的标签。例如，在包含五个人和一张桌子的图片中，实例分割算法将对这五个人和桌子进行不同的标记。然而，语义分割算法会给所有五个人分配相同的标签，而只给桌子分配不同的标签。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/4c64b2f700f95bf2c2c4bb8c14e97dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-bz2bRUg_1NkzKQqnuUzaA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">语义切分和实例切分的比较(<a class="ae iu" href="https://anolyticshome.files.wordpress.com/2019/11/nested-classifications-for-instance-segmentation-1-1.png?w=720" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="c088" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇博客中，我们将使用U-NETs深入研究语义分割。</p><h1 id="c5ff" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">语义分割和对象检测的区别。</h1><p id="2d97" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">语义分割不应该与对象检测混淆。对象检测是在感兴趣的对象周围创建边界框的过程，而语义分割颜色以不同的颜色对不同对象类别的每个像素进行编码。</p><p id="825c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们考虑一些例子。</p><p id="0640" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">考虑下面的图像:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/55bea8df0c01cbaee24cacaf54132baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*djTiiwz5BP4457vMgvlOzw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">物体检测(<a class="ae iu" href="https://miro.medium.com/max/503/1*xWntyXM0W-SuDMgWMM6mCg.png" rel="noopener">来源</a>)</figcaption></figure><p id="5db5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上图是物体探测的一个例子。基本上就是物体定位和分类的结合。</p><p id="ef3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在考虑这张图片:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/8bcb02018e243faeddd6eb834d010d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*SOKSwzYBIBLya_sldwIq1w.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">语义分割(<a class="ae iu" href="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRp5tJKc1fuh5tHKiDQbrOuz3GSB8g0n-q47GYlp1Uc3E8zauOx&amp;usqp=CAU" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="fc03" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是语义分割的一个例子。如你所见，所有的车都用蓝色突出显示，人用红色突出显示，等等。属于同一对象类的对象以相同的颜色突出显示。</p><h1 id="f09d" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">性能指标</h1><p id="13fb" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">在进入U-NETs的架构之前，让我们了解一些常用的用于评估语义分割算法的性能指标。</p><h2 id="bab1" class="le ka hi bd kb lf lg lh kf li lj lk kj jg ll lm kn jk ln lo kr jo lp lq kv lr bi translated">计算每个类的平均精度和召回率。</h2><p id="5624" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated"><strong class="ix hj"> <em class="jt">这就是精度告诉我们的:</em> </strong>在模型宣称为正的所有点中，实际上有百分之多少是正的？</p><p id="d13a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">精度可通过以下公式计算:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/cafc2c0b1a62f3a18d2edfa8ab2828d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*aZjoigAJjxR-fJjhWxH48A.png"/></div></figure><p id="f5e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">TP =真阳性</p><p id="60bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">FP =假阳性</p><p id="fa54" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="jt">这是回忆告诉我们的:</em> </strong>所有的实际阳性点中，有多少是预测阳性的？</p><p id="2975" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以使用以下公式计算召回率:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/f25a44a945fba08baec3d6f2267e6b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*_t4Yn5UPhm4Vbam2MQZKug.png"/></div></figure><p id="0a5e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">P =正点数的总数。</p><h2 id="102f" class="le ka hi bd kb lf lg lh kf li lj lk kj jg ll lm kn jk ln lo kr jo lp lq kv lr bi translated">并集上的交集</h2><p id="7753" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">这也被称为<em class="jt"> Jaccard相似度</em>。顾名思义，地面真实值和预测输出值的交集面积除以两者面积的并集。它是地面真实值和预测值之间相似性的度量。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/c8986a7f98c53a4d84cf9c2f98ff6b57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*st8hrsulZFo9qHlGoCXb0A.png"/></div></div></figure><p id="3145" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">设区域A =地面真实</p><p id="6d49" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">区域B =预测产量</p><p id="d0dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">IoU值可通过以下公式计算:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/8a2680dd6edde9232adc3ceb5830ee66.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*byRzv_fPettwqMdevdNOVg.png"/></div></figure><p id="3bb6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">联合值可以通过以下公式计算:</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/29a1c71ff679f351ad594b123f68839e.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*thewDFmdrkPRhFImjznAhg.png"/></div></figure><p id="477a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">IoU的最佳值为1，最差值为0。</strong>IoU值越大，预测输出越符合地面实况。</p><p id="f1fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">出于语义分割的目的，可以在多个主要类别上取IoU值的平均值来测量算法的性能。</p><h1 id="df22" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">u型网</h1><p id="f3fd" class="pw-post-body-paragraph iv iw hi ix b iy kx ja jb jc ky je jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">让我们深入U-net的架构。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/342f2c88bc2f14bea027a44026df8a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lvXoKMHoPJMKpKK7keZMEA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">U-NET架构(<a class="ae iu" href="https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/u-net-architecture.png" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="6ca2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了更好地理解整个架构，让我们把它分成几个步骤。</p><p id="f416" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤1 </strong>:考虑一个572x572x1的输入图像。(灰度图像)</p><p id="bb89" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第二步</strong>:从上图看，下一步是3x3 Conv，ReLU。</p><blockquote class="ly lz ma"><p id="6635" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">如果我们有一个大小为NxN的图像和一个大小为KxK的过滤器/内核，那么这个卷积层的输出将是(N-K+1)x(N-K+1)。</p></blockquote><p id="6196" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们输入图像的大小是572x572。因此这里N=572。</p><p id="e231" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的内核大小是3x3。因此，K=3</p><p id="c464" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出图像的大小将为570x570</p><blockquote class="ly lz ma"><p id="9e29" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">输出图像的深度将等于内核的数量。</p></blockquote><p id="5413" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为有64个内核，所以步骤2的输出图像的尺寸为570x570x64。</p><p id="670b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第三步</strong> : 3x3 Conv，ReLU</p><p id="9286" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤3的输出图像的尺寸是568×568×64。<strong class="ix hj">将此输出命名为a。</strong></p><p id="e82c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第四步</strong>:最大池2x2，步幅=2</p><blockquote class="ly lz ma"><p id="a3d5" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">如果输入大小为NxN，过滤器大小为KxK，则最大池输出的大小将为(N-K+2P+1)x(N-K+2P+1)。这里P指的是填充，通常被认为是1(零填充)。</p></blockquote><p id="1ece" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，最大池化后的输出大小为569x569x64</p><blockquote class="ly lz ma"><p id="9f6a" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">如果输入大小为NxN，过滤器大小为KxK，步长为s，则输出的大小将为(⌊(N-K)∕S⌋+1)x(⌊(N-K)∕S⌋+1 ),其中⌊ ⌋是底值函数。</p></blockquote><p id="fc29" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤4的输出图像的尺寸是284x284x64。</p><p id="0dbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤2、3和4中的这三层将重复四次以上。如果您已经理解，那么您可以跳到步骤16。否则，别担心！我已经完成了下面的所有步骤。</p><p id="9c93" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第五步</strong> : 3x3 Conv，ReLU，128个内核</p><p id="952b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤5的输出图像的尺寸是282x282x128。</p><p id="3abe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第六步</strong> : 3x3 Conv，ReLU，128个内核</p><p id="84be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤6的输出图像的尺寸是280x280x128。<strong class="ix hj">让这个输出被命名为B. </strong></p><p id="8da0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第七步</strong> : Maxpool 2x2，stride=2</p><p id="ca94" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤4相同的步骤，则步骤7之后的输出大小为140x140x128</p><p id="ebd5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第八步</strong> : 3x3 Conv，ReLU，256个内核</p><p id="bf03" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤8的输出图像的尺寸是138x138x256。</p><p id="04ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第9步</strong> : 3x3 Conv，ReLU，256个内核</p><p id="2aa7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤9的输出图像的尺寸是136×136×256。<strong class="ix hj">将此输出命名为c。</strong></p><p id="cf84" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第十步</strong>:最大池2x2，步幅=2</p><p id="6a49" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤4中相同的步骤，则步骤10之后的输出大小为68x68x256</p><p id="8c20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第11步</strong> : 3x3 Conv，ReLU，512个内核</p><p id="b6f8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2中相同的步骤，步骤8的输出图像的尺寸是66×66×512。</p><p id="cfb2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第12步</strong> : 3x3 Conv，ReLU，512个内核</p><p id="c8d3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤12的输出图像的尺寸是64x64x512。<strong class="ix hj">将此输出命名为d。</strong></p><p id="cff6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第十三步</strong>:最大池2x2，步幅=2</p><p id="eb12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤4中相同的步骤，则步骤13之后的输出大小为32x32x512</p><p id="3de6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第十四步</strong> : 3x3 Conv，ReLU，1024个内核</p><p id="e01a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤14的输出图像的尺寸是30x30x1024。</p><p id="fd80" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第十五步</strong> : 3x3 Conv，ReLU，1024个内核</p><p id="034a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤15的输出图像的尺寸是28x28x1024。<strong class="ix hj">将此输出命名为e。</strong></p><p id="4b1d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤16 </strong>:在“D”上复制并裁剪，在“E”上向上conv 2x2</p><p id="5246" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这就是有趣的地方。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/19e04b530a7cd722a23ba7dbcbc07ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28HDpymgpWEIETKkLdXMrg.jpeg"/></div></div></figure><blockquote class="ly lz ma"><p id="31c8" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">当我们使用上conv时，输入图像中的每一行和每一列都会被复制。深度减少一半。</p><p id="ec13" class="iv iw jt ix b iy iz ja jb jc jd je jf mb jh ji jj mc jl jm jn md jp jq jr js hb bi translated">当我们使用裁剪和复制时，所有的中心像素(除了边界上的像素)都会被裁剪和复制。</p></blockquote><p id="1169" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，步骤16的输出大小为56×56×1024</p><p id="5e06" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第17步</strong> : 3x3 Conv，ReLU，512个内核</p><p id="b3d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤17的输出图像的尺寸是54x54x512。</p><p id="853e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第18步</strong> : 3x3 Conv，ReLU，512个内核</p><p id="18ae" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤18的输出图像的尺寸是52×52×512。<strong class="ix hj">将此输出命名为f。</strong></p><p id="2b1d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第19步</strong>:上-conv on‘F；在“C”上裁剪和复制</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/310294429671ad841ca4ed430c8d5e87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jENvzQ_o1-JgVkVgKq8FGw.jpeg"/></div></div></figure><p id="1bd1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤19的输出尺寸为104x104x512</p><p id="226a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第20步</strong> : 3x3 Conv，ReLU，256个内核</p><p id="e144" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤20的输出图像的尺寸是102x102x256。</p><p id="a338" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第21步</strong> : 3x3 Conv，ReLU，256内核</p><p id="d8c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤21的输出图像的尺寸是100x100x256。<strong class="ix hj">让这个输出被命名为G. </strong></p><p id="ea5c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤22 </strong>:在“G”上向上conv，在“B”上裁剪并复制</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/463f90789be41803e01cc76ecbbb1c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8mG6SJFDVJGCTn2wRlhmkg.jpeg"/></div></div></figure><p id="ec8f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤22的输出尺寸为200x200x256</p><p id="8eba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第23步</strong> : 3x3 Conv，ReLU，128个内核</p><p id="a951" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤23的输出图像的尺寸是198x198x128。</p><p id="00ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第24步</strong> : 3x3 Conv，ReLU，128个内核</p><p id="9e61" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤24的输出图像的尺寸是196×196×128。<strong class="ix hj">将此输出命名为h。</strong></p><p id="e091" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤25 </strong>:在“H”上向上conv，在“A”上裁剪并复制</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/672a1925ae1202ce235eb25dfba800d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8Wdjz5SQw5f6PSg6w4Hxg.jpeg"/></div></div></figure><p id="e61b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤25的输出尺寸为392x392x128</p><p id="e050" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第26步</strong> : 3x3 Conv，ReLU，64个内核</p><p id="410b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2相同的步骤，步骤26的输出图像的尺寸是390x390x64。</p><p id="c181" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第27步</strong> : 3x3 Conv，ReLU，64个内核</p><p id="ee54" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们遵循与步骤2中相同的步骤，步骤27的输出图像的尺寸是388x388x64。</p><p id="5c78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第28步</strong> : 1x1个Conv，2个内核</p><p id="e171" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤28的输出尺寸为388×388×2</p><p id="6958" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">这是输出图像。</strong></p><p id="80a4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">步骤1-15由图像尺寸缩小时的<strong class="ix hj">收缩路径</strong>组成。步骤16–28由图像尺寸逐渐增大时的<strong class="ix hj">扩展路径</strong>组成。</p><p id="a558" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">参考:<a class="ae iu" href="https://arxiv.org/abs/1505.04597" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1505.04597</a></p></div></div>    
</body>
</html>