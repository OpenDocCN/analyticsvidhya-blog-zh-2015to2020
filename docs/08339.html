<html>
<head>
<title>Anime Recommendation Engine |Content &amp; Collaborative filtering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动漫推荐引擎|内容和协同过滤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/anime-recommendation-engine-content-collaborative-filtering-c6e69be29d29?source=collection_archive---------2-----------------------#2020-07-26">https://medium.com/analytics-vidhya/anime-recommendation-engine-content-collaborative-filtering-c6e69be29d29?source=collection_archive---------2-----------------------#2020-07-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/94b1a465e46230a7553af1fd31b21ed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nFQqETyMOcItF_0IasBcfw.jpeg"/></div></div></figure><h1 id="0cad" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="5de1" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">这篇文章讲述了一个男孩无意中发现了这个惊人的数据集。凭借机器学习的能力，他探索数据集，寻找<strong class="jq hj">‘接下来看什么？’</strong>使用基于内容的协同过滤。</p><h1 id="415a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">问题陈述</h1><p id="e8ff" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">每个流媒体内容都有自己的观众，每个内容都有自己的评级。如果观众喜欢，他们会给内容留下一些好的评级。但是在哪里适用呢？观众可能会花上几个小时滚动浏览数百部，有时数千部动漫，却永远找不到他们喜欢的内容。企业需要根据他们的喜好和需求提供建议，以创造一个更好的流媒体环境，增加收入和网站的停留时间</p><h1 id="320f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">什么是推荐引擎？</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/cdc3748b69beb49affe4fb5248df14f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dCEBhlDpuHkwEErkprmG_g.jpeg"/></div></div></figure><p id="9439" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">它是一种无监督的学习算法(没有衡量准确性的目标变量)，主要用于帮助消费者做出决策。我相信你在网购的时候见过它们。它们还出现在流媒体应用程序(又名网飞和Hulu)等地方，帮助你选择接下来要看的电视节目或电影，以及在媒体等新闻/媒体网站上推荐你可能喜欢阅读的其他文章，以及许多其他用途。显然，许多像亚马逊这样的电子零售商已经使用推荐算法有一段时间了，但许多较小或较新的网站仍然需要。有不同种类的推荐器，它们基于不同的特征进行预测。点击<a class="ae kw" href="https://www.analyticsvidhya.com/blog/2018/06/comprehensive-guide-recommendation-engine-python/" rel="noopener ugc nofollow" target="_blank">分析Vidhya </a>了解更多信息</p><h1 id="b976" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">关于数据集</h1><p id="148e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">该数据集包含来自73，516个用户的关于12，294部动漫的用户偏好数据的信息。每个用户都可以添加动画到他们的完整列表中，并给它一个评级，这个数据集是这些评级的汇编。学分:<a class="ae kw" href="https://www.kaggle.com/CooperUnion/anime-recommendations-database" rel="noopener ugc nofollow" target="_blank">动漫推荐数据库</a></p><h1 id="5993" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">项目目标</h1><ol class=""><li id="896f" class="kx ky hi jq b jr js jv jw jz kz kd la kh lb kl lc ld le lf bi translated">迎接数据— Konnichiwa (こんにちわ)</li><li id="1b45" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl lc ld le lf bi">Analyze the data- Byakugan (白ガン)</li><li id="29e6" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl lc ld le lf bi">Preparing data for consumption- Sonaeru (備える)</li><li id="9f77" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl lc ld le lf bi">Recommendation building phase — Tsukuru (作る)</li></ol><h1 id="2c0e" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">1.迎接数据— Konnichiwa (こんにちわ)</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/b468f7c6bcb99d8092adae01f1eb62c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qBfuC6-x5DRp8Jm2O3bKaw.png"/></div></figure><p id="4d97" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi">Konnichiwa (こんにちは or in kanji 今日は) is a Japanese greeting, typically a mid-day greeting. It is also used as an informal greeting, “hello”. So here our guests are the data. So let’s welcome our dataset guests !</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/915f53ebc4c674e46d3375cc87f7525f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*OVLjplMcCoVenQUpXa6QSw.png"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/0b2cbea183f0dadfd245119d1821670a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*ZzGKsCyJ7oiGrNni0ocWrQ.png"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/66a2d79a556c1237208b514d76113369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXqt7QTSqjgZPV85BAzJZg.png"/></div></div></figure><blockquote class="lr ls lt"><p id="8a7a" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“我不会逃跑的，我从不反悔！那是我的忍道:我的忍者之道。”—鸣人Uzumaki</p></blockquote><h1 id="f37a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据集详细信息</h1><h2 id="bece" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">1)动漫_数据:</h2><ul class=""><li id="7d40" class="kx ky hi jq b jr js jv jw jz kz kd la kh lb kl mm ld le lf bi translated"><strong class="jq hj">anime _ id</strong>—my animelist . net标识一部动漫的唯一id。</li><li id="0585" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">名称</strong> —动漫全称。</li><li id="43dd" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">流派</strong> —该动漫的逗号分隔流派列表。</li><li id="b919" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">类型</strong> —电影、电视、OVA等。</li><li id="ba8f" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">集</strong> —这部剧有多少集。(1如果是电影)。</li><li id="4eab" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">评分</strong> —这部动漫的平均评分(满分10分)。</li><li id="0cfe" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">成员</strong> —该动漫“群”中的社区成员数量。</li></ul><h2 id="7ed7" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">2)评级_数据:</h2><ul class=""><li id="ea66" class="kx ky hi jq b jr js jv jw jz kz kd la kh lb kl mm ld le lf bi translated"><strong class="jq hj"> user_id </strong> —不可识别的随机生成的用户id。</li><li id="d7b5" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj"> anime_id </strong> —该用户评价过的动漫。</li><li id="209d" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated"><strong class="jq hj">评分</strong> —该用户已分配的10分中的评分(如果用户观看了该视频但未分配评分，则为1分)</li></ul><h1 id="3add" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi">Merging dataframes — Fusion(融合)</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/f0d989c0380765e27c8c7519cd9a5e81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LZ4_i8qifjfM4UsgjslBQw.png"/></div></div></figure><p id="4994" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">在本节中，我们将融合我们的csv来宾，以使推荐引擎更加强大。融合哈！</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/6357212bf412be9cefdb935eb477719c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*AC2jnEj_Z7kfw5Ph-WYXMA.png"/></div></figure><p id="0232" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">我们已经成功地合并(融合)了csv并使其变得强大。让我们开始行动吧</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/0fe6e91c86618d99ac2e580b54ee0d9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dJBWkAEtaRlttbRRj6Hcfw.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="615b" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“我想去看看，了解外面的世界。我不想在不知道外面有什么的情况下死在这些墙里面。”—艾伦·耶格(对泰坦的攻击)</p></blockquote><h1 id="4ab5" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi">Analyze the data- Byakugan (白ガン)</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mq"><img src="../Images/b3018e49169fa703adb73a3111ef10fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*mlnrUhyt4PzppgThl0FznA.jpeg"/></div></figure><p id="25eb" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">为了建立一个推荐引擎，我们必须了解我们的数据集。那么，让我们来看一下数据集的概述。BYAKUGAAN！！</p><h1 id="c509" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">排名前10的动漫</h1><p id="758d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我是根据用户id提供的评分来判断热门动漫的。让我们看看谁是冠军</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mr"><img src="../Images/2368f5e21f00196a887a70ce81d0bb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*CW723S8NfI32GuoW-3dp2Q.png"/></div></figure><p id="d016" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated"><strong class="jq hj">结果:</strong></p><ul class=""><li id="10d9" class="kx ky hi jq b jr kr jv ks jz ms kd mt kh mu kl mm ld le lf bi translated">死亡笔记排名第一，紧随其后的是剑术在线和对泰坦的攻击</li></ul><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/b100d7f2333a387627ca94570623f028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*370uqMDV-Ad6NwpUMij9KA.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="553d" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“看看你的周围，你会看到所有的人，如果没有他们，这个世界会变得更好。”——光矢上(死亡笔记)</p></blockquote><h1 id="8463" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">基于社区规模的10大动漫</h1><p id="1e7c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我现在根据他们的社区规模(成员数)来判断顶级动漫。让我们看看谁是冠军</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/8042857f77e9ce22812b92a5533a2530.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*k1KyyJ73ZNeD0iRuDXg4bA.png"/></div></figure><h2 id="ab92" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated"><strong class="ak">结果:</strong></h2><ul class=""><li id="7340" class="kx ky hi jq b jr js jv jw jz kz kd la kh lb kl mm ld le lf bi translated">死亡笔记再夺桂冠。“我想告诉你<strong class="jq hj">我是L </strong>”</li></ul><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mw"><img src="../Images/2c80f7e9542c1428fab688eb34654e8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*8-7ACxkiVb4VSzDvJi08Cg.jpeg"/></div></figure><blockquote class="lr ls lt"><p id="5f22" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“没有天堂或地狱。不管你活着的时候做什么，一旦你死了，每个人都会去同一个地方。死亡是平等的。”-L(死亡笔记)</p></blockquote><h1 id="f6b7" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">收视率分布</h1><p id="3109" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">现在，我将感受两个数据集上的评分分布。我相信anime.csv的评分来自评论网站，而rating.csv中的user_rating来自用户id</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mx"><img src="../Images/64fdf6b52fae06476a94c65a9f64bed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*jAHhwI_k8eMztljVaj8jsw.png"/></div></figure><p id="fd22" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated"><strong class="jq hj">见解:</strong></p><ul class=""><li id="33ea" class="kx ky hi jq b jr kr jv ks jz ms kd mt kh mu kl mm ld le lf bi translated">大多数评分都在6-10分之间</li><li id="0261" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated">分布的模式大约是7.5-8.0</li><li id="d550" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated">两种分布都是左偏的</li><li id="e90c" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated">我们将-1评级作为用户评级中的异常值，可以将其转换为NaN</li></ul><h1 id="e256" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">流媒体</h1><p id="87cd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Byakugan！我现在看到这个强大的动画是从哪里来的</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es my"><img src="../Images/65ac008abb7f54dfd616b9c0ad1dc041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wgiunsucKTcNccesaFAqAQ.png"/></div></div></figure><p id="adcd" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated"><strong class="jq hj">见解:</strong></p><ul class=""><li id="824c" class="kx ky hi jq b jr kr jv ks jz ms kd mt kh mu kl mm ld le lf bi translated">67.6%的动画在电视上播放，13.5%通过电影播放</li><li id="d9c0" class="kx ky hi jq b jr lg jv lh jz li kd lj kh lk kl mm ld le lf bi translated">10.2%的动漫以OVA的形式流出，超过了ONA(1.18%)</li></ul><h1 id="3346" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">体裁词云</h1><h2 id="f52c" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">抬头，见证流派云！</h2><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mz"><img src="../Images/cad257c0743059390643b2dcdf2c6e95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*w9YPOJoXKmGZwEsfi3vvBw.png"/></div></figure><p id="6f67" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">我们可以感觉到在我们的数据集中有很多喜剧类型的动画，然后是动作，爱情，戏剧</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es na"><img src="../Images/578fbba19d901562779a7fe4e0ad1264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9WCrZYMPru2DNCwldWYdWQ.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="4eea" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">"我决心成为海贼之王…如果我死于尝试…那至少我尝试过！"-蒙其·D·路飞(海贼王)</p></blockquote><h1 id="7f07" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi">Preparing data for consumption- Sonaeru (備える)</h1><p id="3d74" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在把我们的数据客人交给推荐引擎之前，我们必须微调他们，塑造他们，训练他们面对老板！</p><h2 id="2c93" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">a)处理NaN值</h2><p id="5508" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">首先，我们必须考虑NaN值，因为这围绕着评分，一个没有给出任何评分的用户没有给引擎增加任何价值。因此，让我们放弃并粉碎那些南价值观</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/06d98ee19df10012a3089e2428465545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*tWXBwEt0RLsX0wBdlyuySA.png"/></div></figure><h2 id="2b3c" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">b)过滤用户标识</h2><p id="92aa" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">让我们检查一下用户id的数量，并根据它进行过滤</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es nb"><img src="../Images/e4964342d7a4081cc3357f6b3ae4ea6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*4BYkgz7AvggHjAlO0UcUpw.png"/></div></figure><p id="1c54" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">有只评价过一次的用户，即使评价过5，也不能认为是有价值的推荐记录。所以我认为用户的最低200分是阈值。您可以尝试更改阈值来获得更好的结果，但这样做效果很好。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h1 id="b042" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">c) Pivot Dojo</h1><p id="25bc" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">这个数据透视表由作为标题的行和作为用户id的列组成，这将帮助我们创建稀疏矩阵，这对于查找余弦相似度非常有帮助！不知道余弦相似度是什么？不要担心，我们将在下一节揭示这一点。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/9d3579a68d0170d8a1141d57f0c5c25b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*Hcc1xcJQVvoIP6EdUu4OGg.png"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/081e44358e4501b1ffc1b2d2d6e34f46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H78uuStjRF5eArhnNVl0Aw.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="fdf2" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">"为了打败邪恶，我将成为一个更大的邪恶."-勒鲁什·兰珀鲁格(代码Geass)</p></blockquote><h1 id="cc6f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi">Recommendation building phase — Tsukuru (作る)</h1><h2 id="5416" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">协同过滤</h2><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es nd"><img src="../Images/3ec2dbc8367ee164a3657ba61ef6a5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*ci1xlU9_EwbnWleiuLox-A.gif"/></div></figure><p id="8a3d" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">协同过滤是一种可以根据相似用户的反应过滤出用户可能喜欢的项目的技术。它的工作原理是搜索一大群人，找到与特定用户口味相似的一小群用户。从<a class="ae kw" href="https://www.analyticsvidhya.com/blog/tag/collaborative-filtering/" rel="noopener ugc nofollow" target="_blank"> Analytics Vidhya </a>了解更多信息</p><h2 id="e59f" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">使用KNN的余弦相似度</h2><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es ne"><img src="../Images/9f024f4dee3976715fed66e1cca498a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*7dXLNMdL_F5_KuvRNQkOTg.png"/></div></figure><p id="efcf" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">余弦相似性是一种度量标准，用于衡量文档的相似程度，而不考虑文档的大小。在数学上，它测量的是在多维空间中投影的两个向量之间的角度余弦。余弦相似性是有利的，因为即使两个相似的文档相距欧几里德距离很远(由于文档的大小)，它们仍有可能更靠近在一起。角度越小，余弦相似度越高。从<a class="ae kw" rel="noopener" href="/analytics-vidhya/introduction-to-similarity-metrics-a882361c9be4">分析Vidhya </a>了解更多关于相似性指标的信息</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="737b" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">我们已经拟合了稀疏矩阵，让我们得到一个随机的动漫标题，并为它找到推荐。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="5923" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">在这里，我们从随机选择的索引(anime_title)中返回6个邻居在KNN的距离和索引，这些将是我们推荐的动画</p><h1 id="7e31" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">测试协作推荐</h1><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es nf"><img src="../Images/0c14d5ea08e02c35559eab1b43039c88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*yd9mIT_AZaBEL-TCFt0ZdQ.png"/></div></figure><p id="38b3" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">正如我们所看到的，这些是推荐的。但是这段代码没有太多我们选择的灵活性。我建议你去看看<a class="ae kw" href="https://www.kaggle.com/indralin/try-content-based-and-collaborative-filtering" rel="noopener ugc nofollow" target="_blank">因陀罗·林的笔记本</a>，在那里他为这个协同过滤创建了一个很棒的功能。我用我的眼睛从他那里捕捉了两段代码。英雄联盟</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/54e3a97eb9a05d4c2a83395356b6e805.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xhY865wt-dmC-4hq25fbyw.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="4c96" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“人类之所以强大，是因为我们有能力改变自己。”-埼玉(一拳人)</p></blockquote><h2 id="21be" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">基于内容的过滤</h2><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ng"><img src="../Images/264d52642d1334a2e8751be3c389d7f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KBriLd3AYrLuULCqdffxCQ.png"/></div></div></figure><p id="6f11" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">基于内容的过滤，也称为认知过滤，基于项目内容和用户简档之间的比较来推荐项目。每个项目的内容都表示为一组描述符或术语，通常是文档中出现的单词。基于内容的推荐器处理用户提供的数据，无论是显式的(评级)还是隐式的(点击链接)。基于该数据，生成用户简档，然后使用该简档向用户提出建议。随着用户提供更多的输入或对推荐采取行动，引擎变得越来越准确。在<a class="ae kw" href="https://www.analyticsvidhya.com/blog/tag/content-based-recommendation-engines/" rel="noopener ugc nofollow" target="_blank"> Analytics Vidhya </a>中了解有关基于内容的过滤的更多信息</p><h2 id="440d" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">a)清洁动漫_标题</h2><p id="64a7" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们在动漫标题中找到了许多符号。让我们删除那些使用这个函数的</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="f804" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">我们得到了干净整洁的标题。现在是终极TFIDF给我们推荐下一部动漫的时候了</p><h2 id="1427" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">b)术语频率(TF)和反向文档频率(IDF)</h2><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/5cdb2387a9b6bbb5d4b3365191020c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwft29U24hwq1bKT0N-FHw.png"/></div></div></figure><p id="2bce" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">TF就是一个单词在文档中出现的频率。IDF是文档在整个语料库中出现频率的倒数。使用TF-IDF主要是因为两个原因:假设我们在谷歌上搜索“分析的兴起”。“the”肯定会比“analytics”出现得更频繁，但是从搜索查询的角度来看，analytics的相对重要性更高。在这种情况下，TF-IDF加权在确定项目(文档)的重要性时否定了高频词的影响。在<a class="ae kw" href="https://www.analyticsvidhya.com/blog/2020/02/quick-introduction-bag-of-words-bow-tf-idf/" rel="noopener ugc nofollow" target="_blank">分析Vidhya </a>中了解有关TFIDF的更多信息</p><p id="bc2b" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">在这里，我们将在流派上使用它，以便我们可以根据流派内容推荐用户</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="76d8" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">Scikit-learn已经提供了成对度量(机器学习术语中的内核),既适用于向量集合的密集表示，也适用于向量集合的稀疏表示。这里我们需要给推荐动漫赋值1，给不推荐动漫赋值0。所以我们使用sigmoid内核</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="aad6" class="pw-post-body-paragraph jo jp hi jq b jr kr jt ju jv ks jx jy jz kt kb kc kd ku kf kg kh kv kj kk kl hb bi translated">我们已经得到了动漫名称的指数，现在让我们开始找出推荐的动漫</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c718b70431888fd20641c724db8d9b69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*quUVO8Fd5f5l0OzlnwB5iA.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="90a2" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">“你应该尽情享受这个小小的弯路。因为在那里你会发现比你想要的更重要的东西。”Ging Freecss(猎人X猎人)</p></blockquote><h2 id="3bba" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">c)基于内容的推荐功能</h2><p id="8df0" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在这里，我们创建了一个获取动画推荐的函数。我们使用枚举函数将相似性得分转化为列表，对列表进行排序，并选择前10个得分进行推荐。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="lm ln l"/></div></figure><h2 id="2047" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">来带来推荐之战吧！</h2><div class="kn ko kp kq fd ab cb"><figure class="ni ij nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/746d3612a1d05720acbd469ff85e0c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*hyzxtUrjmlScoNABH5bdMQ.png"/></div></figure><figure class="ni ij no nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/4c6c3080423a8a214a13551c2d401867.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*TpovSyKNNh0QoNNfBeBJug.png"/></div></figure><figure class="ni ij np nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/d282b8bf508cfba599617c3a3ad6d3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*CgqwP7MeL8KxfRmjIEqHSA.png"/></div></figure></div><div class="ab cb"><figure class="ni ij nq nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/722fe7118328dbab20d243bb9df1380d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*7wVAmNR4NdksRA3tyq-olw.png"/></div></figure><figure class="ni ij nr nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/787fb308cab064b01f91883c1e444a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*PCnEH4_ndWmsd3cFPz5wlA.png"/></div><figcaption class="ns nt et er es nu nv bd b be z dx nw di nx ny translated">推荐结果</figcaption></figure></div><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nz"><img src="../Images/0502ee68af763a7199aafa29ca933a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AfCNim1fz_oX7Zo2LvxUPw.jpeg"/></div></div></figure><blockquote class="lr ls lt"><p id="8272" class="jo jp lu jq b jr kr jt ju jv ks jx jy lv kt kb kc lw ku kf kg lx kv kj kk kl hb bi translated">如果我愿意，我可以更进一步。”—悟空(龙珠z)</p></blockquote><h2 id="bf9c" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">一篇新媒体文章露出了真面目。这能鼓掌吗？</h2><h2 id="4ab3" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">我会发更好的文章吗？</h2><h2 id="6aa0" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">我能成为优秀的作家吗？</h2><h2 id="cdcd" class="ly ir hi bd is lz ma mb iw mc md me ja jz mf mg je kd mh mi ji kh mj mk jm ml bi translated">下一集尽在<a class="ae kw" rel="noopener" href="/@benroshan">中篇Z </a></h2></div></div>    
</body>
</html>