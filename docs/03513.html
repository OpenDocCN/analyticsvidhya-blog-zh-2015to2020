<html>
<head>
<title>Auto Price Prediction from Scratch! Part 1: Overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">汽车价格预测从零开始！第1部分:概述</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/auto-price-prediction-from-scratch-part-1-overview-a4f331aaad00?source=collection_archive---------10-----------------------#2020-02-05">https://medium.com/analytics-vidhya/auto-price-prediction-from-scratch-part-1-overview-a4f331aaad00?source=collection_archive---------10-----------------------#2020-02-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b79c9ce0b713de32d7ce5c4571b1e696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vInLMZFPgB5cN8UqinK5SQ.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="3ce7" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated"><strong class="ak"> <em class="ji">从网络上建立一个数据集。准备数据集并对其建模。</em> </strong></h2></div><p id="77aa" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">假设你想卖掉你的车。有了数据在手，预测价格的算法有很多，包括<a class="ae kf" href="https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.KNeighborsRegressor.html" rel="noopener ugc nofollow" target="_blank"> k近邻</a>、<a class="ae kf" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html" rel="noopener ugc nofollow" target="_blank">线性回归</a>、约束回归如<a class="ae kf" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html" rel="noopener ugc nofollow" target="_blank">岭</a>和决策树。这些算法的开源版本可在<a class="ae kf" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>中获得。</p><p id="0f43" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">但是，如果我们没有数据呢？在我们的故事中，我们缺乏对专有API或数据库的访问。而且没有第三方数据的预算。</p><p id="0728" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">也许我们可以从公共API下载汽车数据。但是，许多API不能被一般公众使用。例如，埃德蒙兹在2017年退役了他们的auto Open API，并限制相关业务合作伙伴的访问。怎么办？</p><p id="194d" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">还有另一条路可走:通过网络搜集创建一个数据集。我们将通过自力更生建立我们的足智多谋！</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h2 id="1210" class="kn ko ht bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">设置场景</h2><p id="9075" class="pw-post-body-paragraph jj jk ht jl b jm li iu jo jp lj ix jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">业务目标是预测卖方要求的价格。首先，我们必须了解大局。价格预测将如何使用？可以使用现有的解决方案吗？如何衡量成功？有主题专家吗？一个好的项目会有很高的生存能力和很高的价值。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><a href="https://xkcd.com/1781/"><div class="er es ln"><img src="../Images/8550e7ab5033944bc6dc41eaaf3a2343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*1k5fLWCeiNXO-J9g3ie7WQ.png"/></div></a><figcaption class="ls lt et er es lu lv bd b be z dx translated"><a class="ae kf" href="https://xkcd.com/1781/" rel="noopener ugc nofollow" target="_blank">https://xkcd.com/1781/</a></figcaption></figure><p id="e758" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">研究文献，了解其他人是如何处理这个项目的，并确定关键特征。例如，直觉上我们知道车龄和里程很重要。拥有10K里程的2018款福特Fusion将比拥有9万英里里程的2010款福特Fusion价格更高。</p><p id="327a" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们需要找到一些数据。让我们从一个网站中提取数据，提取相关特征，建立一个整洁的数据集。整齐的数据集是一个表，其中每个要素形成一列，每个观测值形成一行。此外，每个值都有自己的单元格。</p><p id="f6f5" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为什么每个单元格只有一个值？这张图片显示了一个福特野马上市保存为JSON格式。标题中混合了年份和型号。类似地，里程表值147000嵌套在<code class="du lw lx ly lz b">“AttribDictionary: {“4”: “&lt;span&gt;odometer: &lt;b&gt;<strong class="jl hu">147000</strong>&lt;/b&gt;&lt;/span&gt;</code>中。显然，这些预测因素必须分开，以模拟它们与价格的关系。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es ma"><img src="../Images/9b383374564bc604b8c38049b91fd33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*wBE2LcQwwzCgTrNYyoz5sw.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">JSON格式的福特野马数据</figcaption></figure><p id="254b" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们将使用一个<a class="ae kf" href="https://scrapy.org/" rel="noopener ugc nofollow" target="_blank"> Scrapy </a>，一个网络抓取工具，从CraigsList中提取相关特征。</p><h2 id="228b" class="kn ko ht bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">像《火星救援》中的马特·达蒙那样的工作数据</h2><p id="4efa" class="pw-post-body-paragraph jj jk ht jl b jm li iu jo jp lj ix jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">在电影《火星人》中，宇航员达蒙与一个又一个难题搏斗，由于他的训练、天赋和钢铁般的坚韧而获胜。这种敢做的态度也有利于从原始数据构建数据集。</p><p id="20ed" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">探索和理解数据至关重要。否则，我们将面临模型结果不佳的风险。此外，理解数据可能会激发设计新功能的想法。</p><p id="121e" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">CraigsList有重复的自动列表。经销商可能会多次发布同一辆汽车进行销售。这导致数据<a class="ae kf" href="https://www.cs.umb.edu/~ding/history/470_670_fall_2011/papers/cs670_Tran_PreferredPaper_LeakingInDataMining.pdf" rel="noopener ugc nofollow" target="_blank">泄露</a>。问题是:有了副本，同一辆车可以同时坐在火车和我们“看不见的”坚守者中。我们在列车上安装汽车，然后预测<strong class="jl hu">同一个</strong>汽车仍在坚持。因此，模型性能被夸大了。我们通过拟合禁忌维持数据而不是专用的训练数据来降低模型的泛化能力。</p><blockquote class="mb"><p id="2c5f" class="mc md ht bd me mf mg mh mi mj mk ke dx translated">“仔细探索和理解我们收集的原始数据至关重要。”</p></blockquote><p id="2363" class="pw-post-body-paragraph jj jk ht jl b jm ml iu jo jp mm ix jr js mn ju jv jw mo jy jz ka mp kc kd ke hb bi translated">价格也是个问题。这不是一个干净的教程或者玩具数据。我们正在处理有不一致和错误的“野外”数据。有些价格很糟糕，因为它们是定金，而不是广告上的全价。例如，如果我们对750美元的首期付款进行建模，而全价是几千美元，那么我们的预测将会大相径庭。所以我们需要提取正确的价格(regex在这方面非常有用)。</p><p id="1288" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">几个价格……嗯，就是难。最佳模型预测二手2019款福特F-250的价格为5.8万美元。这与第三方车辆识别号报告中的价格相差不到500美元。但是，CraigsList的价格是7.5万美元。所以这个模型相差了17K美元。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mq"><img src="../Images/2f8aa87e91e9c4eb92825d12a4948ef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J4Ws8mytZPbATOE1k1N7Mw.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">“身体”特征用绿色圈出。</figcaption></figure><p id="fd1f" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">发生了什么事？F-250被改装成一个花式升力套件(在同一个广告中称为“升力”、“超级升力”和“升降机”)。我们需要强文本特征提取来模拟该信号，而不会将我们的模型淹没在噪声中。数据集有数千个唯一的标记(标记化是将一个字符序列分割成——粗略地说——单词)！每个令牌都是一个列，一个维度。</p><p id="7b09" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">事实证明，来自“Body”的文本特征矩阵(所有其他特征都被省略)可以预测福特价格+/-4500美元的平均绝对误差(MAE)。本身还不错，但是其他特性更容易理解，建模成本也更低！对于这个项目，我们将使用10个功能，而不是10，000个功能。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="8720" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们回到大局。</p><p id="c13d" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">什么是关键的项目里程碑？我们的原始数据，如上面的JSON图片所示，需要采用整洁、一致的格式。数据必须被理解、清理和可视化。必须设计新的有效功能。可以对数据进行聚合、编码、转换和缩放，以进行有效的建模。我们将训练不同的算法来识别该数据集的有前途的算法。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mr"><img src="../Images/bc75853bed046302b2fedb91067157fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pc35FPkITmVJmaMVo7rsjw.jpeg"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">我们能评估这辆汽车的价格吗？哪些特性很重要？</figcaption></figure><p id="6e9f" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">打造一个尽可能自动化的软件管道。代码自动化程度越高，实验和调整模型就越容易。</p><h2 id="1b29" class="kn ko ht bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">伟大时刻表</h2><p id="a4ca" class="pw-post-body-paragraph jj jk ht jl b jm li iu jo jp lj ix jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">为每个里程碑安排一个截止日期。避免让任何里程碑变得太难。将困难的里程碑分解成更小的、更容易实现的里程碑，并为每个里程碑设定一个期限。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ms"><img src="../Images/1f1aca14e1b2b73a8adde35c5caa16a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*le3I-AvwHlpHPvfDiPAF6w.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">甘特图直观地显示项目时间表，包括并行的里程碑。这个时间表是虚构的——可实现的时间表将取决于你的技能。</figcaption></figure><p id="7cad" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">很容易忽略制定时间表。但是，没有明确时间表的项目会拖延下去。在这里，你是自己的项目经理，决定时间表和资源。达到里程碑并回顾你所学到的和取得的一切是令人满意的！</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es mt"><img src="../Images/8ba0e65c7f67f9e4dfdeb54005099fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*r43Y7JJbn4qmIO_t7xtv6g.jpeg"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">火车站在他们的时间表上成功和失败。</figcaption></figure><p id="af17" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">但是，如果时间表不正确呢？只需相应更新即可。时间表是有益的，因为它提供了组织和纪律。这是对无休止地修补一件事情的障碍。当遇到困难时，回顾里程碑，评估是否要避开这件事，以后再来，给朋友打电话，或者跳过它。不准确的时间表比没有时间表好得多！</p><p id="c29c" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hu">项目知识、技能和能力(KSAs) </strong></p><p id="847e" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">汽车领域知识很有帮助——识别问题和提出正确的问题更容易。重复列表是一个问题吗？里程表数值看起来合理吗？如果你不知道一辆两年前的车的里程表读数，做一点研究将会提高你的直觉！</p><p id="0834" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">需要技术技能。Python编程、Pandas数据结构、XML Path语言和scikit-learn工具方面的经验将使项目的每个部分变得更加容易。使用的技能包括Python中的scrapy网站抓取、反序列化JSON列表、正则表达式查询、值的高级输入、数据预处理、特征工程、LightGBM超参数调整、残差分析和异常值检测。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mr"><img src="../Images/8704d065d6046bbcb6225d6f1b495962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pm4ILl_av_uv0wrguFaTRw.jpeg"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">是的，这是我自己用记号笔画的。</figcaption></figure><p id="eb46" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最后，汽车价格预测项目需要决心和对细节的关注——即使对于更高级的程序员也是如此。为什么？这里有一个真实的例子。在正则表达式搜索中，删除一个空格会破坏特征结果和云模型解释<strong class="jl hu">。因此，当遇到困难时，保持专注，休息一下，理清思路。将想法和问题写在纸上的“待办事项”清单上。做完后把它们划掉。品味你的成就。</strong></p><p id="5925" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在<a class="ae kf" rel="noopener" href="/@jmackie_13883/auto-price-prediction-from-scratch-part-2-data-collection-and-cleaning-a147b6375b2f"> <strong class="jl hu">第二部分:数据收集和清理</strong> </a>中，我们解释了如何收集和准备原始数据。前进！</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="10fb" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="mu">我欢迎反馈！联系我的最好方式是发表评论。在LinkedIn上私信我:</em><a class="ae kf" href="http://www.linkedin.com/in/justinmackie" rel="noopener ugc nofollow" target="_blank"><em class="mu">http://www.linkedin.com/in/justinmackie</em></a></p><h2 id="6d1d" class="kn ko ht bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated"><strong class="ak">尾注:</strong></h2><p id="75ec" class="pw-post-body-paragraph jj jk ht jl b jm li iu jo jp lj ix jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">[1]这是我们看到的价格。我们不知道买方是否会协商更低的价格。事实证明，由于售后改装或事故等特殊情况，某些挂牌价格远远高于或低于市场价格。</p><p id="53bb" class="pw-post-body-paragraph jj jk ht jl b jm jn iu jo jp jq ix jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">[2] H. Wickham &amp; G. Grolemund，<em class="mu"> R for Data Science </em>，2017。</p></div></div>    
</body>
</html>