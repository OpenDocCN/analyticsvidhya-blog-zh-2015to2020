<html>
<head>
<title>Choropleth Maps: Plotly &amp; Folium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Choropleth地图:Plotly &amp; follo</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/choropleth-maps-plotly-folium-ba18350fb89e?source=collection_archive---------17-----------------------#2019-09-24">https://medium.com/analytics-vidhya/choropleth-maps-plotly-folium-ba18350fb89e?source=collection_archive---------17-----------------------#2019-09-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="51f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在最近的一个基于纽约餐馆的项目中，我想制作一些地图。在我看来，当谈论一个城市时，手头上有这样一件有用的东西，它们非常能说明问题。该项目最终整合了纽约社区委员会辖区周围的三幅choropleth地图:</p><ul class=""><li id="ea93" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">餐馆密度</li><li id="a66f" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">最受欢迎的餐馆类型，</li><li id="c2b5" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">卫生部门检查平均得分、</li></ul><p id="264e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有这些地图都是使用叶图书馆制作的，我认为它们非常棒。但是我做了另外一张地图，但是我最终没有使用——卫生部检查分数平均值的逐年变化。出于几个原因，包括项目在这一点上的整体蔓延，我最终没有将时间分析作为卫生部检查评分和分级的影响因素。这很好，因为尽管我很喜欢地图背后的想法，但我不喜欢它的结果有一些吹毛求疵的地方。</p><p id="d958" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在这里查看和互动:【https://ktzioumis.github.io/plotly-folium/m_ave_yronyr.html<a class="ae jd" href="https://ktzioumis.github.io/plotly-folium/m_ave_yronyr.html" rel="noopener ugc nofollow" target="_blank"/></p><p id="d8e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该地图显示了2016年(从7月)、2017年、2018年和2019年(到7月)每个社区委员会区域的年度平均健康检查分数。可以选择或取消选择每年作为OpenStreetMap的覆盖图。上面链接的地图是功能性的，并且很好地说明了数据，但是我的异议如下:</p><ul class=""><li id="6544" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">在choropleth贴图之间进行选择不会取消选择其他choropleth-这使得很难看到从一个贴图到下一个贴图的变化，因为它们要么在一个被选择而另一个被取消选择时被覆盖，要么在两次选择之间贴图变为空白</li><li id="94b4" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">无论choropleth是否打开，每个choropleth的颜色条都会永久显示</li></ul><p id="223b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">leav不支持解决这些问题的方法。</p><p id="dda8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不再需要<em class="js">制作这张地图，但我仍然<em class="js">希望</em>能够制作这张地图。were的缺点令人失望，所以我想尝试另一个绘图/映射库——plottly。</em></p><p id="8e93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://plot.ly/python/mapbox-county-choropleth/" rel="noopener ugc nofollow" target="_blank"> Plotly Choropleth教程</a></p><p id="864e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">choropleth教程基于美国各县的失业数据，我以此为起点制作了我想要的分层choropleth地图。</p><p id="0d36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为choropleth选择创建一个下拉菜单的过程是我从本教程改编而来的</p><p id="194b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/ktzioumis/plotly-folium/blob/master/Plotly_unemp_choro.ipynb" rel="noopener ugc nofollow" target="_blank"> github jupyter笔记本</a></p><p id="c010" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果的动画gif:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/ff15d68c04926459575c64b45a4452fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NdigtS6oeh3-Barx"/></div></div></figure><p id="5b02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我爱这个结果！它直接解决了我的两个问题。</p><ul class=""><li id="8098" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">下拉菜单允许选择被调整为设置另一个choro ploth的可见性的choropleth(如果需要，下拉菜单中的第三个选项可以被设置为使两个choro pleth都可见)。</li><li id="2262" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">颜色栏仅显示所选choropleth的刻度。</li></ul><p id="5ff1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，由于颜色条从地图向右偏移，图例上的xticks和标注文本不会显示在地图前面，因此更加清晰易读。follow不允许改变choropleth上的图例位置。</p><p id="1da5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">普罗特利肯定赢了</p></div></div>    
</body>
</html>