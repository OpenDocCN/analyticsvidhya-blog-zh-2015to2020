<html>
<head>
<title>What’s new in Python 3.9</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 3.9的新特性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/whats-new-in-python-3-9-571963945560?source=collection_archive---------19-----------------------#2020-10-12">https://medium.com/analytics-vidhya/whats-new-in-python-3-9-571963945560?source=collection_archive---------19-----------------------#2020-10-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/14ea1e3c6dbef2d2abe3481dd5dd76f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DJ7mGj9k5kcN3Nfelnph-g.jpeg"/></div></div></figure><p id="40fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://docs.python.org/3/whatsnew/3.9.html" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/whatsnew/3.9.html</a><br/>阅读文档以更好地理解版本总是一个好习惯。<br/>本文解释了Python 3.9的特性，这些特性将对开发者和Python初学者有所帮助。</p><p id="7cfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用下面给出的链接下载最新版本。<br/><a class="ae jo" href="https://www.python.org/ftp/python/3.9.0/python-3.9.0-amd64.exe" rel="noopener ugc nofollow" target="_blank">https://www . python . org/FTP/python/3 . 9 . 0/python-3 . 9 . 0-amd64 . exe</a></p><p id="32ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">字典联合合并</strong></p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="170e" class="jy jz hi ju b fi ka kb l kc kd">&gt;&gt; x={"key1":"value1", "key2":"value2"}<br/>&gt;&gt; y={"key3":"value3", "key4":"value4", "key5":"value5"}<br/>&gt;&gt; x|y<br/>{'key1': 'value1', 'key2': 'value2', 'key3': 'value3', 'key4': 'value4', 'key5': 'value5'}<br/>&gt;&gt;&gt; y|x<br/>{'key3': 'value3', 'key4': 'value4', 'key5': 'value5', 'key1': 'value1', 'key2': 'value2'}</span></pre><p id="94d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">字符串方法去除前缀和后缀</strong></p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="a22e" class="jy jz hi ju b fi ka kb l kc kd">"remove this".removeprefix("remove")<br/>Output: ' this'</span><span id="6d94" class="jy jz hi ju b fi ke kb l kc kd">"remove this".removesuffix("this")<br/>Output: 'remove '</span></pre><p id="54da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">Zoneinfo库简介</strong></p><p id="1593" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建以下模块是为了支持互联网号码分配机构。对相同的支持已经被添加到标准库中。datetime.tzinfo。</p><p id="b965" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果没有可用的系统时区数据，默认zoneifno使用系统的时区数据(如果有)。<br/>如果系统数据和tzdata都不可用，所有对ZoneInfo的调用都会引发ZoneInfoNotFoundError。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="a05d" class="jy jz hi ju b fi ka kb l kc kd">from zoneinfo import ZoneInfo<br/>from datetime import datetime, timedelta<br/>dt=datetime(2020,10,31,12, tzinfo("India/Mumbai"))<br/>print(dt)<br/>dt.tzname</span></pre><p id="e26f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> aysncio <br/>不再支持asyncio . loop . create _ datagram _ endpoint()。<br/>新增协程shutdown_default_executor()。<br/>阿辛西奥。PidfdChildWatcher，一个特定于linux的子观察器实现，它返回文件描述符。</strong></p><p id="cf52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> hashlib </strong>模块支持来自OpenSSL的SHA3哈希和SHAKE XOF。<br/>现在这一件大事。<br/>安全哈希算法3是该家族的最新成员，于2015年首次发布。这与SHA-1和SHA-2的MD5结构完全不同。</p><p id="ebf0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">https://en.wikipedia.org/wiki/SHA-3阅读上面的文章以获得更多关于SHA-3的信息。</p><p id="a111" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ipaddress模块现在支持IPV6地址，可以使用ipaddress.IPv6Address解析地址。</p><p id="e18b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">添加HTTP状态代码103 </strong>早期提示信息响应状态代码主要用于链接头，允许用户代理在服务器仍在准备响应时开始预加载资源。</p><p id="c3a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">错误418 </strong>很有趣，我是茶壶，这是客户端错误响应代码，服务器拒绝煮咖啡，因为它永远是茶壶。</p><p id="1a50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> graphlib </strong> -操作类似图形结构的功能。<br/>功能拓扑排序(图形=无)</p><p id="dddc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这也是理解它的一个很好的模块，让我们理解什么是拓扑排序。<br/>有向图的拓扑排序是其顶点的线性排序，使得对于从顶点u到顶点的每个有向边uv，在排序中u在v之前。</p><p id="65cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">拓扑排序是可能的当且仅当图没有有向圈，它必须是有向无圈图。</p><p id="15e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以在深度优先遍历中，我们打印一个顶点，然后递归调用其相邻顶点的函数。在拓扑排序中，我们需要在相邻顶点之前打印顶点。<br/>了解拓扑排序的实现。</p><p id="c7f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Graphlib有各种各样相关功能，我强烈鼓励用户为它做出贡献。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="fefe" class="jy jz hi ju b fi ka kb l kc kd">graph = {"D": {"B", "C"}, "C": {"A"}, "B": {"A"}}<br/>ts = TopologicalSorter(graph)<br/>tuple(ts.static_order())<br/>('A', 'C', 'B', 'D')</span></pre><p id="f3a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">随机字节生成<br/></strong>3.9中的另一个特性是在引入函数<strong class="is hj">随机。Random.randbytes() <br/> </strong>上面的函数用来生成随机字节，随机数生成已经存在但是3.9自带了新的函数。它不能用于生成安全令牌，要求用户对它使用secrets.token_bytes()。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="aa58" class="jy jz hi ju b fi ka kb l kc kd">import random<br/>random.randbytes(5)<br/>b'\xf1\x97\x12\x81\x82'</span></pre><p id="b141" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">字符串替换函数修复<br/> </strong>了解前面的替换函数<br/>相同的语法是string.replace(prev_value，old_value，count)。<br/>现在，python 3.8中的这个函数为所有非零返回空字符串。<br/>但是现在在Python 3.9中它返回了<strong class="is hj">字符串s. </strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/0c94bc9837211810d398f2ea3466ec0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*T0WFyADXQ8akJ2wZKBqzQA.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">Python 3.9(字符串替换已修复)</figcaption></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/325d1b36ba35fb783cb5cfcb0e647cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*gXXGKv2-2xMjOQWLqsVcrg.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">Python 3.8</figcaption></figure><p id="1fb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> math.factorial() </strong>接受浮点值，并对负浮点和非整数提高ValueError。进一步的数学模块也支持lcm和gcd。<br/> <strong class="is hj"> math.gcd() </strong>函数处理多个参数。在以前的版本中，用户必须使用递归来使用多值函数。但是在Python 3.9中已经解决了。</p><p id="c04a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> math.lcm() </strong>返回指定参数的最小公倍数</p><p id="a1e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> math.nextafter() </strong>将x之后的下一个浮点值向y返回。</p><p id="a9ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> math.ulp() </strong>返回浮点数的最低有效位。</p><p id="26a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> isAlive()方法</strong>已被移除，该方法用于检查线程是否活动。建议开发人员改用is_alive()。</p><p id="9a12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于增加了两个新特性，Python 3.9 的速度和性能都有所提高。<br/>对<strong class="is hj"> vectorcall协议</strong>的改进，该协议删除了调用过程中创建的临时对象，从而提高了许多Python内置函数(范围、元组、集、冷冻集、列表、字典)的性能。<br/>第二个提高是由于PEG解析器，它支持更快的解析，在处理大量代码时，性能变得明显。</p><p id="873b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Python中装饰器的松弛。<br/> Decorator可以用来实现记录器、定时器、格式转换、框架。<br/>装饰器(Decorator)是一个以另一个函数作为参数的函数，称为装饰函数，然后返回一个新的函数。<br/>返回的函数替换或进一步增加被修饰函数的行为。</p><p id="d448" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，这是Python中一个有趣的特性，它允许向现有代码添加功能。<br/>因此，装饰器也被称为元函数和使用元函数</p><p id="c6de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于Cpython的PEG解析器</p><p id="5d5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">https://www.python.org/dev/peps/pep-0617/<br/>这篇文章解释了关于LL(1)解析器以及PEG解析器如何解决歧义。<br/>LL(1)解析器遵循自顶向下的方法，从左到右解析输入。语法中有一些规则会产生歧义，从而产生空字符串等等，PEG Parses旨在解决这个问题。</p><p id="aeec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，这个Python 3.9将向后兼容性扩展到了向后层，给项目维护者更多的时间转移到Python 3.9。</p><p id="a4f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" rel="noopener" href="/@gvanrossum_83706/peg-parsers-7ed72462f97c"><strong class="is hj">https://medium . com/@ gvanrossum _ 83706/peg-parsers-7ed 72462 f97c</strong></a></p><p id="b4ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" rel="noopener" href="/@gvanrossum_83706/building-a-peg-parser-d4869b5958fb">https://medium . com/@ gvanrossum _ 83706/building-a-peg-parser-d 4869 b 5958 FB</a></p><p id="e3b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来的文章。<br/>什么是Decorator，Parser PEG和LL(1)。因为这将需要单独的职位，以进一步了解该主题。</p></div></div>    
</body>
</html>