<html>
<head>
<title>How to convert .csv to .sqlite using python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何转换。csv到。使用python的sqlite</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-convert-csv-to-sqlite-using-python-2663e38227ce?source=collection_archive---------8-----------------------#2020-04-22">https://medium.com/analytics-vidhya/how-to-convert-csv-to-sqlite-using-python-2663e38227ce?source=collection_archive---------8-----------------------#2020-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b55192e0a3524db7fd6f9d147a5e7b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s5fVY6Iaiq_w5bqH"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">约翰·施诺布里奇在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="b2e4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="jt"> F </em> </strong>有些人非常熟悉SQL，而不是使用python对数据运行条件，在大多数情况下，对数据运行SQL查询比python更高效，需要的行数也更少。</p><p id="2a00" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们在Python中有一个名为“<a class="ae iu" href="https://pypi.org/project/csv-to-sqlite/" rel="noopener ugc nofollow" target="_blank"> csv-to-sqlite </a>的包，我们可以使用pip导入模块。会改变信仰。csv文件到。sqlite文件。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="3bf8" class="kd ke hi jz b fi kf kg l kh ki">pip install csv-to-sqlite</span></pre><p id="875c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用pip导入包安装后:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="5713" class="kd ke hi jz b fi kf kg l kh ki">import csv_to_sqlite</span></pre><p id="80e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">导入包之后，转换为之前。sqlite我们需要指定文件的类型(“your_csv_file.csv”)和数据的编码格式，以及数据的分隔符。默认分隔符是逗号('，')，我们可以根据csv文件中的数据格式进行更改。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="8aaf" class="kd ke hi jz b fi kf kg l kh ki">options=csv_to_sqlite.CsvOptions(typing_style=”full”,encoding=”windows-1250")<br/>csv_to_sqlite.write_csv("your_csv_file.csv", "output.sqlite", options)</span></pre><p id="df6f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">执行完上面几行代码后，现在你的csv文件转换成了当前目录下的sqlite。在本例中，它是用文件名“output.sqlite”创建的</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="8be3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们有了。我们如何使用Python来运行SQL查询呢？？？？？？我们可以使用另一个名为“sqlite3”的包来实现。在导入这个包之后，我们需要与数据库建立连接，我们需要在数据库上执行SQL查询。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="c252" class="kd ke hi jz b fi kf kg l kh ki">pip install sqlite3</span></pre><p id="0ba0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在将csv转换成sqlite之后，有一点很重要。在sqlite文件中，数据库名称是csv文件的名称。这意味着我们在这里转换your_csv_file . CSV-&gt; output . sqlite。因此SQLite中的数据库表名是your _ CSV _ file。</p><p id="2820" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">源代码:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="3fa5" class="kd ke hi jz b fi kf kg l kh ki">import sqlite3<br/>con=sqlite3.connect('output.sqlite')<br/>filter_data=pd.read_sql_query("""SELECT * FROM your_csv_file""",con)</span></pre><p id="361c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里你的过滤数据是数据框。</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="1e16" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用<a class="ae iu" href="https://sqliteonline.com/" rel="noopener ugc nofollow" target="_blank">sqliteonline.com</a>有另一种处理sqlite文件的方法。我们可以上传我们的sqlite文件，我们可以在那里运行查询。</p></div></div>    
</body>
</html>