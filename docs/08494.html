<html>
<head>
<title>Reverse address to latitude and longitude using here API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 here API 将地址转换为纬度和经度</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/reverse-address-to-latitude-and-longitude-using-here-api-73458b4df996?source=collection_archive---------21-----------------------#2020-07-31">https://medium.com/analytics-vidhya/reverse-address-to-latitude-and-longitude-using-here-api-73458b4df996?source=collection_archive---------21-----------------------#2020-07-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8dca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始之前，请在这里的<a class="ae jd" href="https://developer.here.com/login" rel="noopener ugc nofollow" target="_blank">上创建账户。<br/>然后创建一个项目。</a></p><p id="f523" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">我使用 here 服务的主要原因是它是免费的(每月 25 万次请求)，如果我使用谷歌服务，它需要信用卡</em>。</p><p id="edbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们跳到 API 之前，有几个步骤来创建认证<a class="ae jd" href="https://developer.here.com/documentation/authentication/dev_guide/index.html" rel="noopener ugc nofollow" target="_blank">密钥</a>。</p><p id="e85b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果授权密钥注册成功，它将看起来像这样。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/cd86241748acf9cbc6cc7cdb05a7fcd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZlbQFnXxILOqGDG-PKPFyA.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">认证密钥</figcaption></figure></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="3f06" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">数据</h1><p id="8513" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">对于数据，我使用雅加达的医院数据。它有地址，城市，但没有经度和纬度。这里可以找到<a class="ae jd" href="https://data.jakarta.go.id/dataset/6925d6e6-d9a7-4159-906b-96468f870d93/resource/5d550b55-52c0-4d71-aa12-c4d319a593e8/download/Data-Rumah-Sakit-Di-DKI-Jakarta.csv" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="8cbc" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">密码</h1><p id="7878" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">这段代码有 4 个主要部分。</p><ol class=""><li id="4d35" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated">设置 API 密钥</li><li id="c714" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">加载数据和清理</li><li id="816b" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">将地址反转为经度和纬度</li><li id="3a62" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">确认</li></ol></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><ol class=""><li id="5be3" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated">设置 API 密钥</li></ol><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lt"><img src="../Images/45cacd14cd50115b361e82e36c3b81df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZTz_c_WSmEiX9T2WVVAzg.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">设置 API 密钥</figcaption></figure><p id="3bda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.加载数据和清理</p><p id="ac40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功加载数据后，创建一列用于连接医院地址和城市。这将使 API 易于识别。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lu"><img src="../Images/e51ed2ea9548440b5d9f25b1792923b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdBL08Hc6ZxLt3ihnSGH4Q.png"/></div></div></figure><p id="bb79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.将地址反转为经度和纬度并清除</p><p id="cae2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过创建下面的函数，它接收输入地址，输出是 lat 和 long。但是，一个地址中可能存在多个 lat 和 long。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lv"><img src="../Images/071f27be3ce46cbc487a6b03fd6a26fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xoxBb7EOfZmiPn6B9ZhkdQ.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">转换地址的函数</figcaption></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lw"><img src="../Images/3fcf774ea59a778fe42ced127dd98cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*o1sFGTq8ICw5gVvpUmCu1w.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">使用循环将函数运行到数据帧</figcaption></figure><p id="00f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为清除过程仅检索纬度和经度信息，因为除了纬度和经度之外还有其他信息。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lx"><img src="../Images/3bfd602456ea5562ea7b66357e4ddeaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*StIx2usUWIHvt7GVWk57Fw.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">清理过程</figcaption></figure><p id="1073" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.确认</p><p id="40b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图解释了在给定输入医院数据的情况下 here maps api 的性能。</p><p id="e334" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<a class="ae jd" href="http://sankeymatic.com/build/" rel="noopener ugc nofollow" target="_blank">和</a>创建的桑基图如下。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ly"><img src="../Images/702de19d6b4b3bcfcca80e36b482adaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WchW4gJ3efn--txqyg8YBQ.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">摘要</figcaption></figure><p id="6823" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终结果样本</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lz"><img src="../Images/d3e9ee49df6e3934f8eb94ce29018027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xX0fULv_7N5ORqMehfb0FA.png"/></div></div></figure><p id="e9b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用谷歌地图进行验证</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ma"><img src="../Images/a31ea784f91c4d3a2eb1b2df8620c95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoNLL4YxtehF_tk-CYEhLw.png"/></div></div></figure><p id="9dc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.结论</p><p id="2e27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这里映射反向地址地址到 lat long API 产生相当准确的结果。此外，它是免费的* 250k，并具有丰富的功能比扭转 lat long 其他。</p></div></div>    
</body>
</html>