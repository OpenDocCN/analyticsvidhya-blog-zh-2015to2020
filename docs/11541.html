<html>
<head>
<title>ML10: Exclusive methods of R &amp; Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ML10:R &amp; Python的独占方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/ml10-344aaaf3235d?source=collection_archive---------22-----------------------#2020-12-07">https://medium.com/analytics-vidhya/ml10-344aaaf3235d?source=collection_archive---------22-----------------------#2020-12-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="0da1" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">%in%，ifelse()，1 &lt; x &lt; y &lt; 10, <em class="ix"> for + else </em>，lambda()，list comprehension，zip()</h2></div><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="cfaa" class="jh ji hi jd b fi jj jk l jl jm">Read time:  12 min</span><span id="fb36" class="jh ji hi jd b fi jn jk l jl jm">Python code on Colab: <a class="ae jo" href="https://bit.ly/34vRv87" rel="noopener ugc nofollow" target="_blank">https://bit.ly/34vRv87</a></span></pre><p id="2b0b" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">r和Python都有各自的比较优势和独有的方法。</p><p id="9a1d" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">r以其内置的矢量化而闻名，而Python的矢量化存在于NumPy中。Python也拥有自己的特性，比如for + else、list comprehension、zip、map、lambda等等。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><blockquote class="ks kt ku"><p id="48ee" class="jp jq kv jr b js jt ij ju jv jw im jx kw jz ka kb kx kd ke kf ky kh ki kj kk hb bi translated"><strong class="jr hj"> <em class="hi">概述</em></strong><em class="hi"><br/>①R:</em><a class="ae jo" href="#70e2" rel="noopener ugc nofollow"><em class="hi">否决化— %in%，其中， 匹配</em></a><em class="hi"><br/>(2)R:</em><a class="ae jo" href="#3216" rel="noopener ugc nofollow"><em class="hi">if else()</em></a><em class="hi"><br/>(3)Py:</em><a class="ae jo" href="#b9da" rel="noopener ugc nofollow"><em class="hi">(真)if a &gt; b else(假)</em></a><em class="hi"><br/>(4)Py:</em><a class="ae jo" href="#9bca" rel="noopener ugc nofollow"><em class="hi">x&lt;y&lt;10</em> Py:  </a><a class="ae jo" href="#f3a6" rel="noopener ugc nofollow"> <em class="hi">列表理解</em></a><em class="hi"><br/>(8)Py:</em><a class="ae jo" href="#fae7" rel="noopener ugc nofollow"><em class="hi">枚举( )，zip()，map()</em></a><em class="hi"><br/>(9)</em><a class="ae jo" href="#e43f" rel="noopener ugc nofollow"><em class="hi">将R和Python一起使用</em></a><em class="hi"><br/>【10】</em><a class="ae jo" href="#ba67" rel="noopener ugc nofollow"><em class="hi">引用</em></a></p></blockquote></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kz"><img src="../Images/c361a79631701da34f9870deb623ee82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2cLlWEX7L8P34gz6UvLKZg.jpeg"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx translated">图1: R &amp; Python。<a class="ae jo" href="https://www.youtube.com/watch?app=desktop&amp;v=js6C2mLXEDw&amp;ab_channel=edureka%21" rel="noopener ugc nofollow" target="_blank">(来源)</a></figcaption></figure></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="70e2" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(1) R:否决化— %in%，匹配</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="8755" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">R: vetocrization -- which, match, %in%</strong></span><span id="6162" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">1. which( ) gives indexes</strong><br/>x = c(2,3,5,8,11,14)<br/>which(x %% 2 != 0 &amp; x %% 3 != 0)<br/># [1] 3 5<br/>x[which(x %% 2 != 0 &amp; x %% 3 != 0)]<br/># [1]  5 11</span><span id="0018" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">2. match( ) gives indexes</strong><br/>match(3, c(1,2,8,3))<br/># [1] 4</span><span id="6ede" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">3. %in% gives True or False</strong><br/>3 %in% c(1,2,8,3)<br/># [1] TRUE<br/>c(1,2,8,3) %in% c(1,3)<br/># [1]  TRUE FALSE FALSE  TRUE<br/>v1 = c(1,2,0,3) <br/>v1[!v1 %in% 0]<br/># [1] 1 2 3</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="3216" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(2) R: ifelse()</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="824a" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">R: ifelse</strong><br/>x &lt;- 5<br/>ifelse(x &gt; 0, 'x is positive', 'x is non-positive')<br/># [1] "x is positive"</span><span id="0106" class="jh ji hi jd b fi jn jk l jl jm">#### <strong class="jd hj">R: ifelse + vectorization</strong><br/>a &lt;- c(1,1,0,1)<br/>b &lt;- c(2,1,0,1)<br/>ifelse(a==1 &amp; b==1, "Yes", "No")<br/># [1] "No" "Yes" "No" "Yes"</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="b9da" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(3) Py: (True)如果a &gt; b否则(False)</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="cdca" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: if-else 1st version</strong><br/>a, b = 5, 0<br/>if a &gt; b :<br/>    print("x is positive")<br/>else:<br/>    print("x is non-positive")<br/># [1] "x is positive"</span><span id="aa44" class="jh ji hi jd b fi jn jk l jl jm">#### <strong class="jd hj">Py: if-else 2nd version</strong><br/>a, b = 5, 0<br/>print("x is positive") if a &gt; b else print("x is non-positive")<br/># [1] "x is positive"</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="9bca" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(4) Py: 1 &lt; x &lt; y &lt; 10</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="0e96" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: 1 &lt; x &lt; y &lt; 10 (exclusive comparison form)<br/></strong>x = 5; y = 20<br/>1 &lt; x and x &lt; 10<br/># True<br/>1 &lt; x &lt; 10<br/># True<br/>1 &lt; x &lt; y &lt; 10<br/># False</span><span id="2310" class="jh ji hi jd b fi jn jk l jl jm">if 1 &lt; x &lt; 10:<br/>    print("1 &lt; x &lt; 10 is True")<br/>else:<br/>    print("1 &lt; x &lt; 10 is False")<br/># 1 &lt; x &lt; 10 is True</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="1f84" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(5) Py: while + else / for + else</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="f71f" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: while + else / for + else</strong><br/>'''<br/>If the <em class="kv">while/for</em> loop ends normally (no break call), control passes to an optional else. This use of else might seem nonintuitive. Consider it as a break checker.<br/>'''</span><span id="0932" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">1. while + else</strong><br/>numbers = [1, 3, 5]<br/>position = 0<br/>while position &lt; len(numbers):<br/>    number = numbers[position]<br/>    if number % 2 == 0:<br/>        print("Found even number", number)<br/>        break<br/>    position += 1<br/>else:<br/>    print("No even number found")<br/># No even number found</span><span id="ba15" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">2. for + else</strong><br/>cheeses= []<br/>for cheese in cheeses:<br/>    print('This shop has some lovely', cheese)<br/>    break<br/>else:<br/>    print('This is not much of a cheese shop, is it?')<br/># This is not much of a cheese shop, is it?</span><span id="cab7" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">3. Alternative of "for + else"</strong><br/>cheeses= []<br/>found_one = False<br/>for cheese in cheeses:<br/>    found_one = True<br/>    print('This shop has some lovely', cheese)<br/>    break</span><span id="14c4" class="jh ji hi jd b fi jn jk l jl jm">if not found_one:<br/>    print('This is not much of a cheese shop, is it?')<br/># This is not much of a cheese shop, is it?</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="9743" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(6) Py: lambda( )</h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="aab2" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: Anonymous Functions: the lambda() Function</strong><br/>'''<br/>In Python, a lambda function is an anonymous function expressed as a single statement. You can use it instead of a normal tiny function.</span><span id="6a9b" class="jh ji hi jd b fi jn jk l jl jm">1. lambda arg1[, arg2,..., argn]: expression<br/>'''</span><span id="3caf" class="jh ji hi jd b fi jn jk l jl jm">product = lambda x, y: x * y; print(product(5, 10))<br/># 50</span><span id="fce1" class="jh ji hi jd b fi jn jk l jl jm">def func(b):<br/>    return lambda x : 2 * x + b<br/>linear = func(5)<br/>print(linear(10))<br/># 25</span><span id="0027" class="jh ji hi jd b fi jn jk l jl jm">li = [-8,5,9,-2,-11,12,1,10,-5]<br/>sorted_li = sorted(li, key = lambda x:(x&lt;0, abs(x))); print(sorted_li)<br/># [1, 5, 9, 10, 12, -2, -5, -8, -11]</span><span id="15d7" class="jh ji hi jd b fi jn jk l jl jm">mylist = [5, 10, 15, 20, 25, 30]<br/>squarelist = list(map(lambda x: x **2, mylist))<br/>print(squarelist)<br/># [25, 100, 225, 400, 625, 900]</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="f3a6" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated"><em class="ix"> (7) Py:列表理解</em></h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="19bf" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: list comprehension</strong><br/>'''<br/>A comprehension is a compact way of creating a Python data structure from one or more iterators. Comprehensions make it possible for you to combine loops and conditional tests with a less verbose syntax. Using a comprehension is sometimes taken as <strong class="jd hj">a sign that you know Python at more than a beginner’s level</strong>. In other words, it’s more <strong class="jd hj">Pythonic</strong>.</span><span id="e41e" class="jh ji hi jd b fi jn jk l jl jm">1. [ <em class="kv">expression</em> for <em class="kv">item</em> in <em class="kv">iterable</em> ]<br/>2. [ <em class="kv">expression</em> for <em class="kv">item</em> in <em class="kv">iterable</em> if <em class="kv">condition</em> ]<br/>3. { <em class="kv">key_expression </em>: <em class="kv">value_expression </em>for <em class="kv">expression</em> in <em class="kv">iterable</em> }<br/>4. { expression for expression in iterable }<br/>'''</span><span id="10f4" class="jh ji hi jd b fi jn jk l jl jm">##<strong class="jd hj"> 1. list comprehension<br/></strong>number_list = [number for number in range(1,6)]; print(number_list)<br/># [1, 2, 3, 4, 5]<br/>print([number for number in range(1,6)])<br/># [1, 2, 3, 4, 5]<br/>a_list = [num for num in range(1,6) if num % 2 ==1]; print(a_list)<br/># [1, 3, 5]</span><span id="4c5e" class="jh ji hi jd b fi jn jk l jl jm">rows = range(1,4)<br/>cols = range(1,3)<br/>cells = [(row, col) for row in rows for col in cols]; print(cells)<br/># [(1, 1), (1, 2), (2, 1), (2, 2), (3, 1), (3, 2)]</span><span id="38bc" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">2. dictionary comprehension<br/></strong>word = 'letters'<br/>letter_counts = {letter: word.count(letter) for letter in set(word)}; print(letter_counts)<br/># {'r': 1, 't': 2, 'l': 1, 's': 1, 'e': 2}</span><span id="f84c" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">3. set comprehension<br/></strong>a_set = {number for number in range(1,6) if number % 3 == 1}; print(a_set)<br/># {1, 4}</span></pre><p id="5d01" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">由于Py有<em class="kv">列表理解</em>，很直观的Py也有<em class="kv">词典理解</em>和<em class="kv">集合理解</em>。然后，在调用函数时，我们尝试“理解”概念的另一个细微变化。</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="9317" class="jh ji hi jd b fi jj jk l jl jm"># <strong class="jd hj">Py: Another variation of "comprehension"</strong><br/>'''<br/>counter( ) is a handy <em class="kv">dictionary</em> type function. <br/>'''</span><span id="aa11" class="jh ji hi jd b fi jn jk l jl jm">from collections import Counter<br/>c = Counter("hello world"); print(c)<br/># Counter({'l': 3, 'o': 2, 'h': 1, 'e': 1, ' ': 1, 'w': 1, 'r': 1, 'd': 1})</span><span id="ee30" class="jh ji hi jd b fi jn jk l jl jm">grades = [60,83,95,91,60]</span><span id="27fa" class="jh ji hi jd b fi jn jk l jl jm"><strong class="jd hj">## Note the difference between these functions</strong><br/>add_score_0 = lambda grades: (grades **  0.5) * 10<br/>add_score_1 = lambda grades: format((grades **  0.5) * 10, '.2f')<br/>add_score_2 = lambda grades: int(((grades **  0.5) * 10)*100)/100<br/>add_score_3 = lambda grades: float(format((grades **  0.5) * 10, '.2f'))</span><span id="2dba" class="jh ji hi jd b fi jn jk l jl jm">print([add_score_0(k) for k in grades])<br/># [77.45966692414834, 91.10433579144299, 97.46794344808963, 95.39392014169457, 77.45966692414834]<br/>print([add_score_1(k) for k in grades])<br/># ['77.46', '91.10', '97.47', '95.39', '77.46']<br/>print([add_score_2(k) for k in grades])<br/># [77.45, 91.1, 97.46, 95.39, 77.45]<br/>print([add_score_3(k) for k in grades])<br/># [77.46, 91.1, 97.47, 95.39, 77.46]<br/><strong class="jd hj">print(add_score_3(k) for k in grades)</strong><br/># &lt;generator object &lt;genexpr&gt; at 0x0000023B354B5510&gt;</span><span id="b177" class="jh ji hi jd b fi jn jk l jl jm">c1 = Counter([add_score_3(k) for k in grades]); print(c1)<br/># Counter({77.46: 2, 91.1: 1, 97.47: 1, 95.39: 1})<br/><strong class="jd hj">c2 = Counter(add_score_3(k) for k in grades); print(c2)</strong><br/># Counter({77.46: 2, 91.1: 1, 97.47: 1, 95.39: 1})<br/>[x for x in c2.keys()]<br/># [77.46, 91.1, 97.47, 95.39]</span><span id="1a8b" class="jh ji hi jd b fi jn jk l jl jm">'''<br/>print(add_score_3(k) for k in grades) yields weird output, while print(c1) and print(c1) offer the same outcomes.<br/>'''</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="fae7" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated"><strong class="ak"> (8) Py: enumerate()，</strong> zip()，<strong class="ak"> map( ) </strong></h1><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="5e14" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: the power of enumerate( )--Python code VS. Pythonic code</strong></span><span id="8934" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">1. merely Python code</strong><br/>from nltk.tokenize import word_tokenize<br/>documents = ["Max Caulfield", "Chloe Price", "Rachel Amber"]<br/>new_doc = []</span><span id="a50c" class="jh ji hi jd b fi jn jk l jl jm">for i in range(len(documents)):<br/>    document = documents[i]<br/>    new_doc.append(word_tokenize(document)[0])<br/>print(new_doc)<br/># ['Max', 'Chloe', 'Rachel']</span><span id="5c8f" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">2. Pythonic code</strong><br/>from nltk.tokenize import word_tokenize<br/>documents = ["Max Caulfield", "Chloe Price", "Rachel Amber"]<br/>new_doc = []</span><span id="475f" class="jh ji hi jd b fi jn jk l jl jm">for i, document in enumerate(documents):<br/>    new_doc.append(word_tokenize(document)[0])<br/>print(new_doc)<br/># ['Max', 'Chloe', 'Rachel']</span></pre><p id="8d4a" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我们从演示<em class="kv"> enumerate( ) </em>如何减少工作量开始这一部分，并希望读者理解"<em class="kv">Python</em>"的思想，编写"<em class="kv">Python</em>"代码，而不仅仅是Python代码。</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="a2ed" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: enumerate( ), zip( ), map( )</strong><br/>'''<br/>1. zip( ) is just a more flexible version of enumerate( ). <br/>2. enumerate(iterable[,start = 0])<br/>3. zip(iterator1, iterator2, iterator3 ...)<br/>3. map(func, iterable)<br/>'''</span><span id="c4d3" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">1. enumerate( )<br/></strong>french = 'Lundi', 'Mardi', 'Mercredi'<br/>list( enumerate(french) )<br/># [(0, 'Lundi'), (1, 'Mardi'), (2, 'Mercredi')]<br/>dict( enumerate(french) )<br/># {0: 'Lundi', 1: 'Mardi', 2: 'Mercredi'}</span><span id="dd1c" class="jh ji hi jd b fi jn jk l jl jm">scores = [21,29,18,33,12,17]<br/>for count, score in enumerate(scores, 1): # Try enumerate(scores)<br/>    if score &gt;= 25:<br/>        print("Game {}: Score {}".format(count, score))<br/># Game 1: Score 29<br/># Game 3: Score 33</span><span id="dcde" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">2. zip( )</strong><br/>english = 'Monday', 'Tuesday', 'Wednesday'<br/>french = 'Lundi', 'Mardi', 'Mercredi'<br/>list( zip(english, french) )<br/># [('Monday', 'Lundi'), ('Tuesday', 'Mardi'), ('Wednesday', 'Mercredi')]<br/>dict( zip(english, french) )<br/># {'Monday': 'Lundi', 'Tuesday': 'Mardi', 'Wednesday': 'Mercredi'}</span><span id="2ed4" class="jh ji hi jd b fi jn jk l jl jm">li = [90, 80, 75, 61, 72]<br/>li2 = [-5, 6, -10, 5, 7]<br/>result=[]<br/>for a, b in zip(li, li2):<br/>    result.append(a+b)<br/>print(result)<br/># [85, 86, 65, 66, 79]</span><span id="9dd6" class="jh ji hi jd b fi jn jk l jl jm">days = ['Monday', 'Tuesday', 'Wednesday']<br/>fruits = ['banana', 'orange', 'peach']<br/>drinks = ['coffee', 'tea', 'beer']<br/>desserts = ['tiramisu', 'ice cream', 'pie', 'pudding']<br/>for day, fruit, drink, dessert in zip(days, fruits, drinks, desserts):<br/>    print(day, ": drink", drink, "- eat", fruit, "- enjoy", dessert)<br/># Monday : drink coffee - eat banana - enjoy tiramisu<br/># Tuesday : drink tea - eat orange - enjoy ice cream<br/># Wednesday : drink beer - eat peach - enjoy pie</span><span id="ddd3" class="jh ji hi jd b fi jn jk l jl jm">## Use zip( ) to quickly generate a dictionary<br/>mydict = dict(zip('abcde', range(5))); print(mydict)<br/># {'a': 0, 'b': 1, 'c': 2, 'd': 3, 'e': 4}<br/>mydict = dict(zip(['a','b','c'], range(3))); print(mydict)<br/># {'a': 0, 'b': 1, 'c': 2}<br/>## cf. enumerate( )<br/>mydict = dict(enumerate(['a','b','c'])); print(mydict)<br/># {0: 'a', 1: 'b', 2: 'c'}<br/>mydict = dict(enumerate(['a','b','c'], 1)); print(mydict)<br/># {1: 'a', 2: 'b', 3: 'c'}</span><span id="d677" class="jh ji hi jd b fi jn jk l jl jm">## <strong class="jd hj">3. map( )</strong><br/>def addition(n): <br/>    return n + n <br/><br/>numbers = (1, 2, 3, 4) <br/>result = map(addition, numbers) <br/>print(list(result))<br/># [2, 4, 6, 8]</span><span id="880a" class="jh ji hi jd b fi jn jk l jl jm">mylist = [5, 10, 15, 20, 25, 30]<br/>squarelist = list(map(lambda x: x **2, mylist))<br/>print(squarelist)<br/># [25, 100, 225, 400, 625, 900]</span></pre><p id="ed57" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">既然我们已经熟悉了<em class="kv"> enumerate( ) </em>、<em class="kv"> zip( ) </em>、<em class="kv"> map( ) </em>，那我们就来看看<em class="kv"> enumerate( ) </em>的一个真实案例吧。</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="1292" class="jh ji hi jd b fi jj jk l jl jm">#### <strong class="jd hj">Py: a real-world case of enumerate( )</strong><br/>import re<br/>import numpy as np<br/>numlist = [‘$1000’,’$2,000',’$3,000',4000,’5000 ‘]</span><span id="1399" class="jh ji hi jd b fi jn jk l jl jm">for i, value in enumerate(numlist):<br/> numlist[i] = re.sub(r”([$,])”, “”, str(value))<br/> numlist[i] = int(numlist[i])</span><span id="651c" class="jh ji hi jd b fi jn jk l jl jm">print(numlist)<br/># [1000, 2000, 3000, 4000, 5000]<br/>print(np.mean(numlist))<br/># 3000.0</span></pre><p id="e974" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我们看到<em class="kv"> enumerate( ) </em>是多么的得心应手，那么<em class="kv"> zip( ) </em>呢？</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="a13d" class="jh ji hi jd b fi jj jk l jl jm"><strong class="jd hj">#### Py: a real-world case of zip( )</strong><br/>'''<br/>import os<br/>os.chdir('D:\\G03_1\\visualization') # Set your own directory<br/>os.getcwd()<br/>'''</span><span id="fcce" class="jh ji hi jd b fi jn jk l jl jm">from matplotlib import pyplot as plt <br/>friends = [70, 65, 72, 63, 71, 64, 60, 64, 67]<br/>minutes = [175, 170, 205, 120, 220, 130, 105, 145, 190]<br/>labels = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i']</span><span id="3545" class="jh ji hi jd b fi jn jk l jl jm">plt.figure(figsize=(10,5))<br/>plt.scatter(friends, minutes)</span><span id="da09" class="jh ji hi jd b fi jn jk l jl jm">for label, friend_count, minute_count in zip(labels, friends, minutes):<br/>    plt.annotate(label,<br/>                 xy = (friend_count, minute_count),<br/>                 xytext = (5, -5),<br/>                 textcoords = 'offset points',<br/>                 fontsize = 'xx-large')</span><span id="a2f9" class="jh ji hi jd b fi jn jk l jl jm">plt.title("Daily Minutes vs. Number of Friends", fontsize = 'xx-large')<br/>plt.xlabel("# of friends", fontsize = 'xx-large')<br/>plt.ylabel("daily minuts spent on the site", fontsize = 'xx-large')<br/>plt.show()</span><span id="0370" class="jh ji hi jd b fi jn jk l jl jm">print("-----")<br/>'''<br/>plt.savefig('sample.png',dpi=1000) <br/># get high-resolution picture by adjusting dpi<br/>'''</span></pre><figure class="iy iz ja jb fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mc"><img src="../Images/c6e4889e54fdfce9759f418d56834d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyEEqhF8PRaM4LUY8jS2XQ.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx translated">图2:朋友和花在网站上的时间的散点图</figcaption></figure></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="e43f" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(9)将R和Python结合使用</h1><p id="f2bc" class="pw-post-body-paragraph jp jq hi jr b js md ij ju jv me im jx jy mf ka kb kc mg ke kf kg mh ki kj kk hb bi translated">我们已经走了这么远，也许读者们不会再往前走了。</p><h2 id="5451" class="jh ji hi bd lm mi mj mk lq ml mm mn lu jy mo mp lw kc mq mr ly kg ms mt ma mu bi translated"><strong class="ak"> 1。rpy2 </strong></h2><blockquote class="ks kt ku"><p id="cf1d" class="jp jq kv jr b js jt ij ju jv jw im jx kw jz ka kb kx kd ke kf ky kh ki kj kk hb bi translated">RPy2有助于将R和Python结合使用。rpy2.robjects中的对象R代表正在运行的嵌入式R进程。如果熟悉R和R控制台，R有点像从Python到R的通信通道[3]</p></blockquote><p id="5342" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我在一本熟悉R &amp; Python的酷哥写的书上看到<em class="kv"> rpy2 </em>，然后<strong class="jr hj">我试了一下这个工具<em class="kv"> rpy2 </em>发现一点用都没有</strong>。</p><h2 id="6718" class="jh ji hi bd lm mi mj mk lq ml mm mn lu jy mo mp lw kc mq mr ly kg ms mt ma mu bi translated">2.我的观点</h2><p id="ab11" class="pw-post-body-paragraph jp jq hi jr b js md ij ju jv me im jx jy mf ka kb kc mg ke kf kg mh ki kj kk hb bi translated">虽然在Python中调用R和编写R的梦想失败了，但我仍然认为在数据科学项目中同时使用R和Python可能是一个好主意，因为它们共享相似的语法和概念，并且它们各有优点。</p><p id="0567" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">Python在<strong class="jr hj">深度学习</strong>方面明显更胜一筹，而R在<strong class="jr hj">线性回归</strong>方面则略胜一筹，因为Python没有R那么好用的<strong class="jr hj"> <em class="kv">逐步回归</em> </strong> <em class="kv"> </em>函数。</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="c36d" class="jh ji hi jd b fi jj jk l jl jm">#### R: dealing with dataframe<br/>rownames(df)<br/>colnames(df)<br/>head(df,x)<br/>tail(df,x)<br/>dim(df)<br/>length(df)</span></pre><p id="3586" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面的R代码对应下面的Python代码。</p><pre class="iy iz ja jb fd jc jd je jf aw jg bi"><span id="3498" class="jh ji hi jd b fi jj jk l jl jm">#### Py: dealing with dataframe (by the <em class="kv">pandas</em> module)<br/>df.index<br/>df.columns<br/>df.head(x)<br/>df.tail(x)<br/>df.shape<br/>len(df)</span></pre></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="de82" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">读者可以查看ML20和ML21，分别使用R &amp; Python进行实际的线性回归实现。</p><div class="mv mw ez fb mx my"><a href="https://merscliche.medium.com/ml20-abb54a435b3" rel="noopener follow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">ML20:使用R的逐步线性回归</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">从预处理、可视化到逐步线性回归</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">merscliche.medium.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm lf my"/></div></div></a></div><div class="mv mw ez fb mx my"><a href="https://merscliche.medium.com/ml21-8fb43cc5082d" rel="noopener follow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">ML21:使用Python的线性回归</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">从预处理、可视化到线性回归</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">merscliche.medium.com</p></div></div><div class="nh l"><div class="nn l nj nk nl nh nm lf my"/></div></div></a></div></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><h1 id="ba67" class="ll ji hi bd lm ln lo lp lq lr ls lt lu io lv ip lw ir lx is ly iu lz iv ma mb bi translated">(10)参考文献</h1><p id="e77c" class="pw-post-body-paragraph jp jq hi jr b js md ij ju jv me im jx jy mf ka kb kc mg ke kf kg mh ki kj kk hb bi translated">1.Ohri，A. (2018)。面向R用户的Python:一种数据科学方法。新泽西州，约翰·威利父子公司。</p><p id="4b26" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">2.兰德公司J.P. (2017)。人人共享:高级分析和图形(第2版。).马萨诸塞州:艾迪生-韦斯利专业公司。</p><p id="058a" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">3.卢巴诺维奇(2015年)。Python简介。加利福尼亚州:奥赖利媒体。</p><p id="284f" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">4.Grus，J. (2015年)。从零开始的数据科学。加利福尼亚州:奥赖利媒体。</p><h2 id="5db0" class="jh ji hi bd lm mi mj mk lq ml mm mn lu jy mo mp lw kc mq mr ly kg ms mt ma mu bi translated">(中文)</h2><p id="28ca" class="pw-post-body-paragraph jp jq hi jr b js md ij ju jv me im jx jy mf ka kb kc mg ke kf kg mh ki kj kk hb bi">5. 洪錦魁 (2020)。Python 面試題目與解答：邁向高薪之路。台北：深智數位。</p><p id="a148" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi">6. 洪錦魁 (2019)。Python 最強入門：邁向數據科學之路。台北：深智數位。</p><p id="9de9" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi">7. 葉難 (2015)。Python 程式設計入門。台北：博碩文化。</p><h2 id="cdba" class="jh ji hi bd lm mi mj mk lq ml mm mn lu jy mo mp lw kc mq mr ly kg ms mt ma mu bi translated">(互联网)</h2><p id="3d81" class="pw-post-body-paragraph jp jq hi jr b js md ij ju jv me im jx jy mf ka kb kc mg ke kf kg mh ki kj kk hb bi translated">8.莱维斯基大学(2013年)。Python if-else简写[重复]。检索自<br/><a class="ae jo" href="https://stackoverflow.com/questions/14461905/python-if-else-short-hand" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/14461905/python-if-else-short-hand</a></p><p id="46b8" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">9.Python软件基金会(身份不明)。内置函数。从<br/><a class="ae jo" href="https://docs.python.org/3/library/functions.html#zip" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/library/functions.html#zip</a>取回</p></div></div>    
</body>
</html>