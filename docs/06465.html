<html>
<head>
<title>YOLOv4- Speed &amp; Accuracy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">YOLOv4-速度和精度</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/yolov4-speed-accuracy-9f11c301334d?source=collection_archive---------20-----------------------#2020-05-23">https://medium.com/analytics-vidhya/yolov4-speed-accuracy-9f11c301334d?source=collection_archive---------20-----------------------#2020-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e9ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="jd"/></strong><em class="jd">(你只看一次)但更</em><strong class="ih hj"><em class="jd"/></strong><em class="jd">！！！！</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/af8f391d425980be569a5bcf8bfebdaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*e8Dk3VYvJvyL7WWzZAOXZg.jpeg"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">YOLOv4</figcaption></figure><p id="14d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自从R-CNN发布以来，对象检测在最近几年开始成熟，竞争仍然激烈。YOLOv4再次声称具有最先进(SOTA)精度，同时保持高处理帧速率。它在Tesla V100上以大约65 FPS的推理速度实现了ms coco 43.5% AP(65.7%ap₅₀)的准确率，如下图所示。在物体检测中，更高的准确度和精确度是我们绝对想要的许多东西中的少数。我们希望该模型能够在Rasberry Pi、Jetson Nano、英特尔主板等边缘设备上顺利运行。如何利用这些低功耗和低成本硬件处理实时视频流变得越来越重要，也越来越具有挑战性，推动了机器人、商业等领域的需求。(<strong class="ih hj"> <em class="jd">代码最后与视频分享走查)</em> </strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/3b4e4a13c8f4b688c587bfc508f778f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JFoSyUdgj4radkiePVF1Jg.jpeg"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">YOLOv4的速度是EfficientDet的两倍，但性能相当。</figcaption></figure><p id="a406" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">YOLO版本列出了三位作者:阿列克谢·博奇科夫斯基(Alexey Bochkovskiy)，他是构建YOLO Windows版本的俄罗斯开发人员，钱和廖宏远。(不幸的是，YOLO的创造者约瑟夫·雷德蒙<a class="ae jv" href="https://syncedreview.com/2020/02/24/yolo-creator-says-he-stopped-cv-research-due-to-ethical-concerns/" rel="noopener ugc nofollow" target="_blank">宣布</a>由于工作的负面影响，他不再追求计算机视觉)</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jw"><img src="../Images/c4f6a52b81f5b08814f65546858e48dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*21u7W-eIRmsVpexQGrdRZw.jpeg"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated"><a class="ae jv" href="https://arxiv.org/abs/2004.10934" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/2004.10934</a></figcaption></figure><p id="32be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">按作者</em> </strong></p><blockquote class="jx jy jz"><p id="a9fb" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">与之前的YOLOv3相比，YOLOv4具有以下优势:</p><p id="51be" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">这是一个高效而强大的对象检测模型，使任何拥有1080 Ti或2080 Ti GPU的人都可以训练一个超级快速而准确的对象检测器。</p><p id="ccb4" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">在探测器培训期间，最先进的“免费赠品袋”和“特殊物品袋”物体探测方法的影响已经得到验证。</p><p id="c005" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">改进的最新方法，包括CBN(交叉迭代批量归一化)、PAN(路径聚合网络)等。，现在效率更高，适合单GPU训练。</p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kd"><img src="../Images/c15784a9c08af41f640e47389671523a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VaufgWOf2mt-0l5c-sOOEQ.jpeg"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">可插拔架构</figcaption></figure><h1 id="b0e4" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">一袋赠品(Bof)和一袋特价商品(BoS)</h1><p id="1c2e" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">可以在训练过程中进行改进(如数据扩充、类别不平衡、成本函数、软标签等)以提高准确性。这些改进对推理速度没有影响，被称为“免费赠品”。然后，还有“特价商品包”,它对推理时间有轻微的影响，但在性能上有很好的回报。这些改进包括感受野的增加，注意力的使用，像跳跃连接&amp; FPN这样的特征整合，以及像非最大抑制这样的后处理。在本文中，我们将讨论特征提取器和瓶颈是如何设计的，以及所有这些Bof和BoS好东西。</p><blockquote class="jx jy jz"><p id="b77f" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">生产中满足神经网络速度的方法论&amp;并行计算的优化:</em> </strong></p></blockquote><ul class=""><li id="5b27" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">对于GPU，卷积层中的少量组(1–8):cspresnext 50/cspdarknet 53</li><li id="f536" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">对于VPU-分组卷积，但避免<br/>使用挤压和兴奋(SE)块<br/> -具体包括以下型号:<br/>efficient net-lite/mix net/ghost net/mobilenet v3</li></ul><p id="2790" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">一般意义上的BoF和BoS的选择</strong></p><p id="7c91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了改进任何对象检测训练，典型的CNN通常使用以下:</p><ul class=""><li id="847f" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated"><strong class="ih hj">激活:</strong> ReLU，leaky-ReLU，parametric-ReLU，ReLU6，SELU，Swish或Mish</li><li id="44ed" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">包围盒回归损失</strong> : MSE，IoU，GIoU，CIoU，欧弟</li><li id="fd57" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">数据扩充</strong>:剪切、混合、剪切混合</li><li id="a823" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">正则化方法</strong>:丢弃、丢弃路径、空间丢弃或丢弃块</li><li id="cdea" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">根据网络激活的均值和方差进行归一化</strong>:批量归一化(BN)、跨GPU批量归一化(CGBN或SyncBN)、滤波器响应归一化(FRN)或交叉迭代批量归一化(cBN)</li><li id="9322" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">跳过连接</strong>:剩余连接、加权剩余连接、多输入加权剩余连接或跨级部分连接(CSP)</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lv"><img src="../Images/f5f4abc9a7c2db3496f72da9893d8730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_68e8FBvJOdtqKgX3eEgQ.png"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">镶嵌数据增强</figcaption></figure><h1 id="8df6" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">YOLOv4的详细信息</h1><ul class=""><li id="19c7" class="lh li hi ih b ii lc im ld iq lw iu lx iy ly jc lm ln lo lp bi translated"><strong class="ih hj">主干</strong>:CSP darknet 53(CSP+darknet 53)</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es lz"><img src="../Images/672706d776b263610d9249f7374c61e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lGgMom-WVVvZ2HeJ154lsQ.jpeg"/></div></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es ma"><img src="../Images/e8896b9ad58129e44b9a8eb1e278858a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GohTg5dVUXPnmHnmdwx_FA.jpeg"/></div></div></figure><ul class=""><li id="abc0" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated"><strong class="ih hj">颈:</strong> SPP(空间金字塔池)，PAN(路径聚合网络)</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mb"><img src="../Images/75959ffbba828758fc7a3cc985be7b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2kboloQKUtIhUTTwnbfqw.jpeg"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated"><strong class="bd kg">空间金字塔汇集层</strong></figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mc"><img src="../Images/6a66378f8b9cd7c32f10d7be116f3fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gIkQvlVR9OP8mHK1aytQLw.jpeg"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">潘【路径聚合网】<a class="ae jv" href="https://arxiv.org/abs/1803.01534" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><ul class=""><li id="3186" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated"><strong class="ih hj">头</strong> : YOLOv3</li></ul><h1 id="6c4a" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak"> YOLO v4用途:</strong></h1><ul class=""><li id="2699" class="lh li hi ih b ii lc im ld iq lw iu lx iy ly jc lm ln lo lp bi translated"><strong class="ih hj">主干的免费包(BoF)</strong>:剪切混合和镶嵌数据增强、DropBlock正则化、类标签平滑</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es md"><img src="../Images/9f10e82a1bb9432f321ae109aad6282b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*xWpLMt0fwUtF8TMj_a4gOA.jpeg"/></div></figure><ul class=""><li id="7620" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated"><strong class="ih hj">骨干专用包</strong> : Mish激活、<br/>跨级部分连接(CSP)、多输入<br/>加权剩余连接(MiWRC)</li><li id="1411" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><strong class="ih hj">探测器的一包赠品(BoF)</strong>:CIoU-loss、CmBN、DropBlock正则化、马赛克数据增强、自我对抗训练、消除网格敏感性、对单个地面使用多个锚<br/>真理、余弦退火调度程序、最优超参数、<br/>随机训练形状</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es me"><img src="../Images/b7a5a3280f92bde1710982f867ea031c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*B3qdYPcvtlnPj7w6Hq276Q.jpeg"/></div></figure><ul class=""><li id="a553" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated"><strong class="ih hj">探测器专用包</strong> : Mish激活，SPP-block，SAM-block，PAN路径-聚合block，欧弟-NMS</li></ul><blockquote class="jx jy jz"><p id="7b6e" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj">T7】！！！对以上每个超参数深潜好奇，请通读</strong><a class="ae jv" rel="noopener" href="/@jonathan_hui/yolov4-c9901eaa8e61"><strong class="ih hj"><em class="hi">【https://medium.com/@jonathan_hui/yolov4-c9901eaa8e61】</em></strong></a><strong class="ih hj"><em class="hi">(你会喜欢的。)</em> </strong></p><p id="93fc" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj">yolov 4在不同NVIDIA GPU架构(Maxwell、Pascal、Volta)上的对比</strong></p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es mf"><img src="../Images/03ff07de1a9655d7ffd61f0221287f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xWe0lAu3gqp2qeHpP2uYrQ.jpeg"/></div></div></figure><blockquote class="jx jy jz"><p id="fe7b" class="if ig jd ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj">作者的最终想法:</strong></p></blockquote><h2 id="072d" class="mg kf hi bd kg mh mi mj kk mk ml mm ko iq mn mo ks iu mp mq kw iy mr ms la mt bi translated"><span class="l mu mv mw bm mx my mz na nb di">一个</span> <em class="nc">最先进的检测器，比所有可用的替代检测器更快(FPS)和更准确(MS COCO AP50…95和AP50)。所描述的检测器可以在具有8–16 GB VRAM的传统GPU上训练和使用，这使得它的广泛使用成为可能</em></h2><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es nd"><img src="../Images/02c44904033932ed1778f8b4c875d057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZK1gzA1-SN1jl9T1fyf1_g.jpeg"/></div></div></figure><h1 id="5ae2" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">编码并遍历:(分叉代码)</strong></h1><div class="ne nf ez fb ng nh"><a href="https://github.com/SSusantAchary/YOLOv4-Cloud-Tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">SSusantAchary/yolov 4-Cloud-教程</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">这个存储库将带您了解如何在Google的云中使用Darknet构建和运行YOLOv4对象检测…</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">github.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jk nh"/></div></div></a></div><p id="7975" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jv" href="https://www.youtube.com/watch?v=mKAEGSxwOAY" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=mKAEGSxwOAY</a>(代码和视频<strong class="ih hj">归功于他)</strong></p><p id="a6b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">坚持学习！！！</strong></p><h1 id="1c61" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">参考文献:</strong></h1><ol class=""><li id="73c1" class="lh li hi ih b ii lc im ld iq lw iu lx iy ly jc nw ln lo lp bi translated">约洛夫4论文-<a class="ae jv" href="https://arxiv.org/abs/2004.10934" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/2004.10934</a></li><li id="95d5" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc nw ln lo lp bi translated"><a class="ae jv" rel="noopener" href="/@jonathan_hui/yolov4-c9901eaa8e61">https://medium.com/@jonathan_hui/yolov4-c9901eaa8e61</a></li><li id="7aaa" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc nw ln lo lp bi translated">官方和托管代码:【https://github.com/AlexeyAB/darknet T42】</li></ol></div></div>    
</body>
</html>