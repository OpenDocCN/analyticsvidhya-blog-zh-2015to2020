<html>
<head>
<title>5 Essential elements to build highly successful chatbot (Conversational AI)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建高度成功的聊天机器人(对话式人工智能)的5个基本要素</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/5-essential-elements-to-build-highly-successful-chatbot-conversational-ai-bd0eba4b549c?source=collection_archive---------8-----------------------#2019-12-21">https://medium.com/analytics-vidhya/5-essential-elements-to-build-highly-successful-chatbot-conversational-ai-bd0eba4b549c?source=collection_archive---------8-----------------------#2019-12-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/ffa9b96e2419b32484a5402a4ee09379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IzmZfjCP2EavAevLeyVxxA.png"/></div></div></figure><div class=""/><blockquote class="iq ir is"><p id="a2c3" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">谈话应该触及一切，但不应该专注于任何事情。奥斯卡·王尔德</p></blockquote><p id="98a1" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">使用人工智能提供更个性化的大规模客户体验是全球公司(产品、服务)的首要任务之一，对话式人工智能在这一领域发挥着关键作用。</p><p id="237b" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">在日常生活中，我们与技术接触点的互动呈指数级增长。它从获取早间新闻更新开始，最后通过向谷歌助手发出语音命令来设置第二天早上的闹钟和提醒。同样地，对于ex来说，白天有更多这样的例子。预订出租车、查询天气、与银行互动或通过语音命令呼叫某人等..这都是通过各种移动应用程序或网站完成的。每个技术点都是与虚拟助理的对话，虚拟助理会根据您的使用历史、可用选项等，尝试为您提供个性化体验</p><p id="e14c" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">虽然机器或应用程序能够像著名的漫威电影系列中的人工智能助手“贾维斯”一样流利和智能地进行对话，仍然是未来几年要实现的目标，但这种现象正在增加。</p><p id="bc02" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">交谈是人类的一项基本素质，伴随着一千年的进化而产生和发展。能够与其他人交谈并交流想法、交换想法、表达情感、信息等是人类的基本要求。</p><p id="0b13" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">这种自然需求正在催生虚拟助手的许多新用例。随着技术的进步，虚拟助理主要发展为两类:</p><ol class=""><li id="1062" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr ka kb kc kd bi translated">通用虚拟助手，如谷歌助手、亚马逊Alexa、微软Cortana、苹果Siri等..它可以响应各种输入并采取一些行动。</li><li id="6f71" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated">特定领域的虚拟助手或聊天机器人。银行聊天机器人、餐厅或送餐聊天机器人、客户服务、提高工作效率(人力资源助理)、订票代理、游戏专家、天气预报员、新闻记者、求职者、营销人员、财务顾问、教师、法律顾问等</li></ol><p id="3ac4" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">为了理解聊天机器人如何真正工作并能够模仿人类对话能力，我们需要关注几个基本要素。在本文的其余部分，我将使用特定领域的聊天机器人作为例子来解释创建聊天机器人的过程。</p><blockquote class="iq ir is"><p id="6484" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上下文聊天机器人通过观察自身和用户之间的通信模式来理解对话的上下文。它不仅记录了对话的当前状态，还记录了之前说过的话，这让他们可以建议下一步的反应或行动。</p></blockquote><p id="f67d" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">这种能力不同于传统的编程方法，因为它使用ML模型而不是依赖于一系列if/else语句。</p><p id="8709" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">聊天机器人的整个功能依赖于以下因素</p><ol class=""><li id="106a" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr ka kb kc kd bi translated">结构</li><li id="19d9" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated">自然语言理解(NLU)层及其训练</li><li id="e247" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated">NLU培训的管道选择</li><li id="176e" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated">对话管理(聊天机器人的核心或大脑)及其训练</li><li id="2bb0" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated">域配置</li><li id="8101" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr ka kb kc kd bi translated"><strong class="iw hu">框架— </strong>对于每一个对话型聊天机器人，基本要求是首先选择一个对话框架作为基础。有许多选项可用，如谷歌对话流，亚马逊Lex，微软Azure bot服务等..在本文中，使用一个名为Rasa的开源框架解释了为一家虚拟的食品配送初创企业构建餐馆搜索聊天机器人的步骤和示例。</li></ol><p id="0084" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">每个对话框架(Rasa、Lex、Dialogflow等..)有两个主要元素</p><ul class=""><li id="9793" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated">自然语言理解，或NLU层</li><li id="bb87" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated">对话管理系统层或核心</li></ul><p id="adc7" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">当人类进行对话时，主要涉及到这些身体部位和感官——耳朵(倾听)、说话能力(回应)和人脑(决定行动或回应，记录上下文、正在进行的对话的历史)。</p><p id="eec6" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">类似地，在对话框架方面，NLU层管理听说能力，对话管理系统是聊天机器人的大脑。</p><p id="8964" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">在Rasa中，这两个组件分别被称为Rasa NLU和Rasa核心。</p><p id="8389" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated"><strong class="iw hu"> 2。自然语言理解层(拉沙·NLU)——会话系统的第一层。它负责意图分类和实体提取。它解释用户提供的自由文本。它基本上采用非结构化的文本短语或句子，理解用户可能想要说什么，从文本短语或句子中提取实体，并将其转换为结构化数据。为了前任。如果用户向聊天机器人提出一个查询——“搜索那格浦尔的一家餐馆。”</strong></p><blockquote class="iq ir is"><p id="cf62" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">意图:餐厅搜索；实体:[位置=那格浦尔]</p></blockquote><p id="07fd" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">上面解释的NLU层将能够基于从训练数据的学习来执行它的任务。一般来说，NLU Rasa的培训数据分为三个部分:</p><ol class=""><li id="47e5" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr ka kb kc kd bi translated">示例数据-最重要的组件，因为它包含所有训练示例。NLU层的性能取决于训练样本的数量和种类。每个例子都有三个组成部分——文本、意图和实体。</li></ol><ul class=""><li id="b812" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated"><strong class="iw hu">文本</strong>:这是一个提交解析的例子。为了前任。港铁JP Nagar两人平均预算是多少？</li><li id="285b" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated"><strong class="iw hu">意图</strong>是应该与文本相关联的目标。为了前任。在上面的查询中，目的是“餐馆搜索”。</li><li id="a43a" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated"><strong class="iw hu">实体</strong>是文本中需要识别的特定部分。为了前任。在上述查询中，确定了以下实体。餐厅—地铁，位置— JP Nagar</li></ul><p id="006d" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">2.同义词——这有助于添加那些指代一个常用术语的术语，通常用作对话的一部分。为了前任。城市——班加罗尔被称为Bengaluru或拼错为Bangaluru。同义词字段允许捕获可能的组合来指代实体。</p><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es kk"><img src="../Images/c261a176d26bdeb31a8f461a09cc0d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*Gd7KN4kezQg0wjj9QCRi0w.png"/></div></figure><p id="35b8" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">3.Regex特性——使用正则表达式，您可以覆盖更大范围的值，其中有许多独特的元素可用，并遵循特定的模式。为了前任。城市Pin码是唯一的，并且值很大。</p><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es kp"><img src="../Images/e938661e7ac88eaf8975e50e0ff9f6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*VUOyXdM7zAyV9OfwdSh_rQ.png"/></div></figure><p id="498c" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated"><strong class="iw hu"> 3。为NLU选择管道— </strong> Rasa框架允许通过配置特定管道来定制NLU模型。</p><ul class=""><li id="705a" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated">监督嵌入</li><li id="be7a" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated">预训练_嵌入_空间</li></ul><p id="b4af" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">最大的区别是pretrained_embeddings_spacy管道使用预训练的词向量，而supervised_embeddings管道专门基于您的数据集，不使用任何预训练的词向量。如果您的总训练示例少于1，000个，并且有针对您的语言的空间模型，通常建议您使用pretrained_embeddings_spacy管道。您需要在config.yml中指定管道，如下所示:</p><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es kq"><img src="../Images/ea23004959c9c49ac20ee06cf240b9cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*e85ezq2y6PAdCM-efXJbMQ.png"/></div></figure><p id="913b" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated"><strong class="iw hu"> 4。Rasa核心对话管理— </strong>对话框架的下一个重要方面是对话管理模型。对话管理模型将根据对话的阶段预测聊天机器人应该采取的响应或行动。这些动作/响应可以是获取数据、向用户发送邮件或简单地说“再见”。为了前任。如果一个用户问“孟加拉鲁鲁现在的温度是多少？”。在这种情况下，机器人应该从天气数据库获取结果，并显示在屏幕上。</p><p id="b81e" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">Rasa核心接受意图和实体形式的结构化输入(即NLU Rasa的输出),并决定下一步行动。它完成了学习根据对话的阶段采取正确行动的任务。</p><p id="5f0d" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">然而，正确的行动或反应高度依赖于提供给Rasa核心(对话管理)的培训数据。训练数据中的这些输入以“对话故事”的形式提供。一个故事代表一个训练示例，它只是用户和人工智能助手之间的对话，以特定的格式表达。Rasa core根据故事训练神经网络模型。Rasa Core在后端使用Tensorflow，这是一个用于训练神经网络的库。更具体地说，它使用在Keras中实现的LSTM神经网络。</p><p id="8df4" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">在故事示例中，用户输入被表达为相应的意图(以及必要时的实体)，而助手的响应被表达为相应的动作名称。</p><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es kr"><img src="../Images/a1916917a5603ce40283ee30a82ba03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*CmsLNA0s8M5-szQKgxkCxA.png"/></div></figure><p id="2852" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated"><strong class="iw hu"> 5。Domain.yml — </strong>域定义了您的助手的工作领域。它指定了你的机器人应该知道的意图、实体、插槽、模板和动作。</p><ul class=""><li id="1679" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated"><strong class="iw hu"> Slots </strong>:这些是你想在对话中“跟踪”的“对象”。假设用户说“在MTR Lalbagh预订一张两人桌。”在整个对话过程中，机器人需要记住“MTR”是实体restaurant_name的值，而“2”是实体number_of_seats的值，因此它可以用于查询Zomato这样的数据库。</li></ul><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es ks"><img src="../Images/488852717f8c57e2d8271df322e17d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*34JblQ7om00tr6bfvkTnBw.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">domain.yml中的插槽</figcaption></figure><ul class=""><li id="a160" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated"><strong class="iw hu"> Intents (NLU层)</strong>:这些是字符串(比如‘greet’，‘restaurant _ search’)，描述用户想要说的话。</li><li id="02d4" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated"><strong class="iw hu">实体(NLU层):</strong>作为自然语言处理的一部分，实体是使用CRF、spaCy等模型提取的。在大多数情况下，实体存储在槽中；在实体与对话流无关的情况下，您不需要为它分配一个槽。</li><li id="56ce" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated">模板:模板定义了机器人说话的方式。例如，如果机器人想要询问烹饪偏好，那么可以定义一个模板，以便机器人可以询问:“您想要哪种烹饪？”、“请说明您的美食偏好”等。所有这些都可以在域文件的模板部分指定。从模板中随机选择一个响应，这样你的机器人听起来就不会像机器人或者静态的。</li></ul><figure class="kl km kn ko fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kx"><img src="../Images/37b70b14498dbb24c0e0f28e2253c6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0d2-qp4gG3lXhPasdCqTjA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">domain.yml中的模板</figcaption></figure><ul class=""><li id="5043" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated"><strong class="iw hu">动作:</strong>“动作”组件列出了机器人可以执行的所有动作——说出诸如“嗨”的文本消息、查找数据库、进行API调用、向用户提问等。例如，名为“action_check_cuisine”的操作可以检查特定菜肴的有效性和可用性。</li></ul><figure class="kl km kn ko fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ky"><img src="../Images/fc9212ccccbfee3ec19287e6deeed3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*br_DdROXgq3eh-ZeWwL-rA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">domain.yml中的操作模块</figcaption></figure><p id="9ccb" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">bot可以采取两种类型的操作:</p><ul class=""><li id="7d33" class="jv jw ht iw b ix iy jb jc js jx jt jy ju jz jr kj kb kc kd bi translated"><strong class="iw hu">发声动作:</strong>机器人只是给用户发一条短信。例如:回复问候信息、询问位置等</li><li id="715a" class="jv jw ht iw b ix ke jb kf js kg jt kh ju ki jr kj kb kc kd bi translated"><strong class="iw hu">自定义动作</strong>:查询数据库、给用户发邮件等动作。如果您希望bot执行自定义操作，您需要将该操作添加到您的操作文件中。为了前任。下面发送电子邮件的自定义操作包含在action.py文件中。</li></ul><figure class="kl km kn ko fd hk er es paragraph-image"><div class="er es kz"><img src="../Images/af9a03c21f3cd056c6c02cfc4cd87cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*7emksewuDVtwOopCDsBHjw.png"/></div></figure><p id="6eb1" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">前面提到的所有组件一起完成了对话聊天机器人的功能。</p><blockquote class="iq ir is"><p id="a642" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">关于天气的谈话是缺乏想象力的人最后的避难所。——奥斯卡·王尔德</p></blockquote><p id="f6bb" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">在建造聊天机器人的情况下，人类的想象力是没有边界的。有多种可能性仍未被探索，人工智能的技术进步(特别是在机器学习和自然语言处理方面)正在允许进入那些未知的领域，如医疗保健聊天机器人，保险聊天机器人等…</p><p id="8d75" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je js jg jh ji jt jk jl jm ju jo jp jq jr hb bi translated">聊天愉快！！</p></div></div>    
</body>
</html>