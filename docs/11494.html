<html>
<head>
<title>Stratified sampling in Machine Learning.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习中的分层抽样。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/stratified-sampling-in-machine-learning-f5112b5b9cfe?source=collection_archive---------3-----------------------#2020-12-06">https://medium.com/analytics-vidhya/stratified-sampling-in-machine-learning-f5112b5b9cfe?source=collection_archive---------3-----------------------#2020-12-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e783a9ef162a09fb225837370e3d01db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3p6IWxudOa0ISIGQlG21bQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">分层抽样</figcaption></figure><p id="6618" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从训练数据集创建测试集是构建机器学习模型的最重要的方面之一。</p><p id="e037" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">本文展示了为什么在这样做的时候考虑使用分层抽样是一个好主意。</p><h1 id="d46c" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">为什么要分层抽样？</h1><ul class=""><li id="a844" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">它用于消除测试集中的采样偏差。</li><li id="f428" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">它允许用最能代表被研究的整个群体的群体来创建一个测试集。</li><li id="98e0" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">分层随机抽样不同于简单随机抽样，简单随机抽样涉及从整个人口中随机选择数据，以便每个可能的样本出现的可能性相等。</li><li id="ed61" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">如果在构建测试集时出现采样偏差，那么在测试机器学习模型时，它表明该模型表现不佳，因为测试集不能代表整个群体。</li></ul><h1 id="a8fa" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是抽样偏倚？</h1><ul class=""><li id="c3a6" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">抽样偏倚是指随机变量的样本被错误地选择以确定其分布，并且由于非随机原因而不能代表真实的分布。</li><li id="3f6c" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">由于变量的某些值相对于变量的真实分布被系统地低估或高估，因此经常出现抽样偏差。</li></ul><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/759b9cdd8cfd5dd031942d937e1e55b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*WBm8bL6mE1U-o3utSNYHaA.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">从总体中选择样本时出现偏差的可能来源。</figcaption></figure><h1 id="2829" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">分层抽样的工作原理。</h1><ul class=""><li id="ee22" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">这是通过将群体划分为子群体或阶层来实现的，并且从每个阶层中抽取正确数量的实例，以保证测试集能够代表整个群体。</li><li id="b2a8" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">分层抽样不同于简单的随机抽样，简单的随机抽样涉及从整个人口中随机选择数据，以便每个可能的样本出现的可能性相等。</li><li id="554c" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">随机样本取自每个阶层，与该阶层相对于总体的规模成正比，因此每个可能的样本出现的可能性是相等的。</li></ul><h1 id="070b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">一个简单的例子。</h1><ul class=""><li id="8086" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">让我们以一个房价数据集为例，该数据集将用于建立一个机器学习模型，该模型将预测该地区的未来房价。</li><li id="d9e8" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">数据集中的一列是买房人的收入中值。</li></ul><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/5877cd5496137dfbf43e3a82343f5309.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*JR7ZiNm6sf0k5hKAeXFSAw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">收入中位数直方图。</figcaption></figure><ul class=""><li id="af01" class="kq kr hi iw b ix iy jb jc jf lm jj ln jn lo jr kx ky kz la bi translated">绘制中值收入直方图显示，大多数人口集中在1.5-6的范围内(此处x轴代表收入为10，000美元的倍数，即1.5代表15，000美元)。</li><li id="cb16" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">如果使用随机抽样，较低群体进入测试集的概率非常低。</li><li id="b9a6" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">我们可以根据每个分组的重要性，将中值收入划分为(0-1.5，1.5-3，3-4.5，4.5-6)等不同的阶层(分组)。</li></ul><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/6d3540afd792e789aa4c75a6c6e087ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*T2ZCOQdrhAcdyF5MDM8oZA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">分成阶层(子群体)的中等收入。</figcaption></figure><ul class=""><li id="cb98" class="kq kr hi iw b ix iy jb jc jf lm jj ln jn lo jr kx ky kz la bi translated">然后从每个阶层中选择与人口数量成正比的样本。</li><li id="476e" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">这将消除测试集中的采样偏差，并在测试模型时给出更好的结果。</li></ul><h1 id="614c" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">优势</h1><ul class=""><li id="0c92" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">分层随机抽样准确地反映了被研究的人群。</li><li id="4637" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">它确保人口中的每个亚组在样本中得到适当的代表。</li><li id="7c6e" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">因此，分层随机抽样提供了更好的人口覆盖率。</li></ul><h1 id="0fad" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">不足之处</h1><ul class=""><li id="8b8b" class="kq kr hi iw b ix ks jb kt jf ku jj kv jn kw jr kx ky kz la bi translated">当我们不能自信地把所有人都归为一个小组时，这是不利的。</li><li id="83e8" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">如果受试者属于多个亚组，重叠可能是一个问题。当进行简单的随机抽样时，那些在多个分组中的人更有可能被选中。</li><li id="f868" class="kq kr hi iw b ix lb jb lc jf ld jj le jn lf jr kx ky kz la bi translated">更复杂的群体会使这一过程更加困难，使分层抽样成为一种不太理想的方法。</li></ul><p id="1233" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以下次当你开始为你的模型建立一个测试集的任务时，在你的头脑中保持抽样偏差，并尝试实现分层抽样，它最终将有助于装载。</p></div></div>    
</body>
</html>