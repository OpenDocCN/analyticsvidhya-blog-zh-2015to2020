<html>
<head>
<title>MongoDB vs SQL: the View on the Question from 4 Sides</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MongoDB vs SQL:从四个方面看问题</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mongodb-vs-sql-the-view-on-the-question-from-4-sides-d753082a97fb?source=collection_archive---------33-----------------------#2020-12-22">https://medium.com/analytics-vidhya/mongodb-vs-sql-the-view-on-the-question-from-4-sides-d753082a97fb?source=collection_archive---------33-----------------------#2020-12-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="292c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">后端、前端、数据科学以及使用每种技术的管理后果</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e2b2cc184bf0a1c8f173c89708a22ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gB14UTxtufkI06_W8376Q.png"/></div></div></figure><p id="6cce" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">假设您正在为一家快餐连锁店的内部系统开发数据模型设计。显然，您需要解决“NoSQL vs SQL”困境中的一个子问题。</p><p id="4ad3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">通常这是一个“MongoDB vs MySQL”的问题:</strong></p><ol class=""><li id="87cd" class="kf kg hi jl b jm jn jp jq js kh jw ki ka kj ke kk kl km kn bi translated">MongoDB是最流行的NoSQL数据库</li><li id="25b9" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">MySQL是最流行的SQL数据库</li></ol><p id="8693" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">这是一个非常复杂的问题。下面是我们将如何解决它:</strong></p><ol class=""><li id="1834" class="kf kg hi jl b jm jn jp jq js kh jw ki ka kj ke kk kl km kn bi translated">列出将使用这些数据的部门</li><li id="d60a" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">列出每个部门的SQL和NoSQL的所有显著和负面时刻。在[-3，3]的范围内，给每个时刻一个“重要性”的值。负值表示“适用于SQL”，正值表示“适用于NoSQL”，0表示平局。</li><li id="2a62" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">将每个部门的值相加，然后得出总和。</li><li id="dc87" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">我们也可以为每一个提出一些折衷方案</li></ol></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="cbf3" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">部门列表</h1><ol class=""><li id="c1a6" class="kf kg hi jl b jm ls jp lt js lu jw lv ka lw ke kk kl km kn bi translated"><strong class="jl hj">后端:</strong> API，数据库等等。您需要以某种方式存储数据，并在前端获取它们。</li><li id="5bf5" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated"><strong class="jl hj">前端:</strong>通常包括移动应用和网站。没有它，99%的服务都无法盈利。</li><li id="4552" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated"><strong class="jl hj">数据科学:</strong>比如你要预测周一披萨上周五订单的数量来订购产品。</li><li id="5fb9" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated"><strong class="jl hj">管理和财务:</strong>很明显，每项业务之所以能存活下来，要么是因为得到了投资者的资助，要么是因为获得了自身的利润。</li></ol></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="cd2f" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">1.后端</h1><h2 id="9455" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">可读性</h2><p id="dcdc" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">NoSQL是人类可读的。如果您看到一些复杂的SQL查询，那么您应该坐下来等待，直到您最终得到它做什么。在几十行的巨大查询的情况下，这开始变得非常长。<strong class="jl hj"> +3到MongoDB </strong></p><h2 id="3726" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">排除故障</h2><p id="a4dc" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">NoSQL是开发人员友好的，易于调试。如果您在SQL上编写一些复杂的查询，那么当您遇到一些奇怪的错误时，没有办法像使用MongoDB那样容易地调试它。但是如果您没有太多的连接操作，那么调试起来并不困难。</p><p id="caae" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> +2到MongoDB </strong></p><h2 id="593c" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">数据库的复杂性和规范化</h2><p id="2a33" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">存在许多连接操作的问题把我们带到了“规范化还是不规范化”的问题上。如果你的表过于规范化，那么会有很多连接操作，代价太大，而且无法用简单的方法调试。</p><ol class=""><li id="6bd4" class="kf kg hi jl b jm jn jp jq js kh jw ki ka kj ke kk kl km kn bi translated">规范化通常会减小数据库的大小</li><li id="f961" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">调试规范化数据库非常困难，因为有许多连接操作</li><li id="ff5e" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">就性能而言，连接操作代价很大，这就是为什么规范化有时不太好的原因</li></ol><p id="3990" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有一个专门的术语叫做反规范化:通过向表中添加一些额外的数据来简化数据库以使I/O操作更快。</p><p id="3c4d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在SQL的情况下，我更喜欢折衷和中等规范化，这也会导致调试延迟增加。</p><p id="8d45" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Mongo可能会出现同样的问题，因为它的文档存储在集合中。要请求一些附加信息，我们应该请求另一个集合。但是在Mongo的情况下，开发人员通常使用规范化集合。</p><p id="4694" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">所以正好是0 </strong></p><h2 id="81f8" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">脆弱点</h2><p id="1373" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">NoSQL不允许SQL注入通过，SQL注入非常非常危险:这是“为什么我的网站被破解”上最受欢迎的答案之一。</p><p id="2a6b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我举个例子:你这边有一个搜索字段。当用户在那里输入内容时，您将获得该输入的内容并将其发送到服务器，在服务器上执行以下SQL查询:</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="ab21" class="lx lb hi mp b fi mt mu l mv mw">const query = `SELECT * FROM database WHERE name=${input};`;</span></pre><p id="d98c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在假设“输入”是下面这个:</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="6e60" class="lx lb hi mp b fi mt mu l mv mw">const input = "'; DELETE * FROM database"</span></pre><p id="d22b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你看到了吗？你的数据库现在是空的！</p><p id="547d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">NoSQL不允许这种事情发生，因为它根本就不存在这样的问题。您不必在每次执行查询时都检查用户是否希望删除您的数据库。<strong class="jl hj"> +3到MongoDB </strong></p><h2 id="dd6c" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">实施新功能</h2><p id="c923" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">很难在SQL上实现新的特性和改变数据的类型和模式。您应该进行迁移，然后执行迁移测试，这是非常令人头痛的。</p><p id="10cd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">使用MongoDB，您可以毫无问题地做到这一点，因为它甚至不需要编写迁移。</p><p id="d81c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> 3到MongoDB </strong></p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="5573" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">2.前端</h1><p id="4bf7" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">我们通过JSON格式的API从服务器获取数据。<strong class="jl hj"> +3到MongoDB </strong>，因为它以JSON格式存储数据，并且在实现新功能时将会有零延迟:Mongo scheme与输出有大约一对一的对应关系。</p><p id="24ab" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">聊天或社交网络等一些应用程序希望使用本地存储。使用一些本地存储，我们可以减少用户打开我们的应用程序和显示内容之间的延迟:我们可以显示缓存的结果，然后只需等待服务器响应来更新内容。</p><p id="a493" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在Android上，它通常使用Room 来实现<a class="ae mx" href="https://developer.android.com/topic/libraries/architecture/room" rel="noopener ugc nofollow" target="_blank">，Room</a>是一个基于谷歌SQLite的现代库。在服务器上使用SQL可能有助于实现这种设备上的存储，因为数据处理之间会有一些更深层次的对应关系。</p><p id="6e92" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">但是，正如我以前说过的，我们以JSON格式获取数据。这意味着数据可能不会以存储在数据库中的方式发送给我们。所以SQL 只有<strong class="jl hj"> -1。</strong></p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="8bfc" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">3.数据科学</h1><h2 id="ae56" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">使用数据</h2><p id="e1dc" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">通常数据科学家<a class="ae mx" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">使用pandas </a>，一个对表格数据执行操作的库，所以你和他们将数据存储在SQL中会更容易。</p><p id="cc93" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">但是使用MongoDB也相对容易:您可以只使用<code class="du my mz na mp b">pymongo</code>库和如下所示的小代码:</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="16fd" class="lx lb hi mp b fi mt mu l mv mw">import pymongo<br/>import pandas as pd<br/>from pymongo import MongoClient</span><span id="539b" class="lx lb hi mp b fi nb mu l mv mw">client = MongoClient()<br/>db = client.database<br/>collection = db.collection</span><span id="ed06" class="lx lb hi mp b fi nb mu l mv mw">data = pd.DataFrame(list(collection.find()))</span></pre><p id="4561" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">所以它只是0:如果你不玩大数据，你用什么就没问题。</strong></p><h2 id="29a8" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">使用大数据</h2><p id="0863" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">数据科学家的工作有时涉及到处理万亿字节的数据。有专门的数据库:例如，<a class="ae mx" href="https://clickhouse.tech/docs/en" rel="noopener ugc nofollow" target="_blank">一个点击屋</a>。这些大数据数据库通常使用SQL。</p><p id="9cef" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">对SQL肯定是-3</strong></p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="3af0" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">4.管理</h1><h2 id="4ce2" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">薪水</h2><p id="ca46" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">根据这些资源，MongoDB developer的价格高于SQL developer:</p><p id="cf53" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><a class="ae mx" href="https://www.simplilearn.com/why-nosql-skills-are-crucial-for-big-data-career-article" rel="noopener ugc nofollow" target="_blank">为什么NoSQL技能对于在大数据领域开创辉煌的职业生涯至关重要？</a></p><p id="4a18" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> -3为SQL </strong></p><h2 id="3ce3" class="lx lb hi bd lc ly lz ma lg mb mc md lk js me mf lm jw mg mh lo ka mi mj lq mk bi translated">其他要点</h2><p id="76d8" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">这些只是后端的一个副本:</p><ol class=""><li id="f56d" class="kf kg hi jl b jm jn jp jq js kh jw ki ka kj ke kk kl km kn bi translated">我们可以轻松部署新功能</li><li id="ec6a" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">我们可以迅速满足客户的需求</li><li id="bd28" class="kf kg hi jl b jm ko jp kp js kq jw kr ka ks ke kk kl km kn bi translated">更少的错误，更少的调试→更低的开发成本</li></ol><p id="fa66" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">+ <strong class="jl hj"> 3用于MongoDB </strong></p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="1c5c" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">结论</h1><p id="d5d1" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">对于现代应用程序，我会选择MongoDB，因为新功能存在不确定性，并且希望尽快部署新功能。</p><p id="a725" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你不打算扩展新特性的列表，那么你可以考虑使用SQL。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="5832" class="la lb hi bd lc ld le lf lg lh li lj lk io ll ip lm ir ln is lo iu lp iv lq lr bi translated">关于我的经历</h1><p id="2f37" class="pw-post-body-paragraph jj jk hi jl b jm ls ij jo jp lt im jr js ml ju jv jw mm jy jz ka mn kc kd ke hb bi translated">这个问题是在我的名为<a class="ae mx" href="http://facel.tech/" rel="noopener ugc nofollow" target="_blank"> Facel </a>的项目开发过程中出现的。</p><p id="6076" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们开发了一种设备，用于监控健康参数(机体疲劳、眼睛疲劳、压力、有效性和注意力水平)，并根据耳后2个点的信号控制小工具(例如，眨眼3次并停止音乐)。</p><p id="e390" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们以98%的准确率检测12种面部表情(眨眼、动眉毛等)。</p><p id="aec5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们已经展示了2020年人工智能之旅的项目，这是世界上最大的人工智能会议之一，来自脸书和其他大型技术的人在这里发表了演讲。</p><p id="9a8c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们在迪拜设计周的主要节目之一<a class="ae mx" href="https://globalgradshow.com/?project=facel" rel="noopener ugc nofollow" target="_blank"> GlobalGradShow </a>上展出。全世界毕业生的100个最具创新性的项目在那里展示，所以很酷。</p><p id="3c07" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们还赢得了阿里巴巴全球创业挑战赛的俄罗斯赛段，并参加了<a class="ae mx" href="https://www.jamesdysonaward.org/" rel="noopener ugc nofollow" target="_blank">詹姆斯·戴森奖</a>(世界主要工业设计竞赛之一)的世界赛段。</p><p id="f5b0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">请随时通过<a class="ae mx" href="https://www.linkedin.com/in/mixeden" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae mx" href="mailto:mixeden@facel.tech" rel="noopener ugc nofollow" target="_blank"> Email </a>或<a class="ae mx" href="http://t.me/mixedenn" rel="noopener ugc nofollow" target="_blank">电报</a>:)联系我</p></div></div>    
</body>
</html>