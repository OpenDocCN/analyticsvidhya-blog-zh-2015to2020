<html>
<head>
<title>Erlang is not just a language, it is a philosophy.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Erlang不仅仅是一种语言，它还是一种哲学。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/erlang-is-not-just-a-language-it-is-a-philosophy-a5743c268e4b?source=collection_archive---------17-----------------------#2019-11-26">https://medium.com/analytics-vidhya/erlang-is-not-just-a-language-it-is-a-philosophy-a5743c268e4b?source=collection_archive---------17-----------------------#2019-11-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/e71e4a7c8b5a72b9b45921a35faf323e.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*R3OrvaZRlS7uP3mmapJRTw.png"/></div></figure><p id="ef8c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最近，我和我的同事讨论了为什么Erlang对并发有很好的支持，以及为什么应该使用它来构建分布式系统。</p><p id="1081" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我想在这篇文章中分享我在这个话题上的发现。<br/>本文只是对Erlang哲学的一个高级概述，因此不包含任何代码示例。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><blockquote class="jr js jt"><p id="51b1" class="im in ju io b ip iq ir is it iu iv iw jv iy iz ja jw jc jd je jx jg jh ji jj hb bi translated">“科学是我们理解得足以向计算机解释的东西。艺术是我们所做的一切。”—唐纳德·克努特</p></blockquote><h1 id="0716" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak">问题</strong></h1><p id="4282" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">没有描述使用软件应该解决的问题类型，软件的描述就不完整。迄今为止，每一个软件都是为了解决某个特定的问题。二郎也不例外！</p><p id="e3ca" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Erlang最初被设计用来构建电信交换系统。要理解Erlang的理念，我们必须了解对电信系统的属性有什么要求。</p><p id="3798" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要求:</p><ol class=""><li id="cbc0" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lg lh li lj bi translated">系统必须能够处理大量并发活动</li><li id="0374" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">行动必须在一定时间内完成。它有严格的时间限制。</li><li id="4c1e" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">系统必须分布在几台计算机上。</li><li id="5673" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">该系统应连续运行多年。</li><li id="fdd0" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">应该在不停止系统的情况下执行重新配置。</li><li id="8dd6" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">他们对质量和可靠性有严格的要求。</li><li id="95f0" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">系统必须是容错的。</li><li id="430c" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">电信系统期待永远运行！</li></ol><p id="7811" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，为了满足上述所有要求，编程语言和底层系统(代码将在其上运行)必须提供并支持<br/>以下特性:</p><ol class=""><li id="da88" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lg lh li lj bi translated">高度支持并发</li><li id="c2c6" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">实时动作。(行动必须在特定时间内完成)</li><li id="403b" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">系统应该很容易从单节点分布式系统扩展到多节点分布式系统。</li><li id="c3de" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">连续运行和就地升级。软件升级必须“就地”进行，即不停止系统。</li></ol><p id="8ed7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以Erlang要解决的最终问题是"<strong class="io hj">如何在软件出错的情况下构建可靠的分布式系统</strong>"</p><p id="5679" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">传统的编程语言没有解决这个问题，因为它们不允许不同的软件模块以模块之间没有干扰的方式共存。</p><p id="ea63" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在共享资源的编程中，通常使用的线程模型使得很难将组件彼此隔离，从而一个组件中的错误会传播到另一个组件，并破坏系统的内部一致性。</p><p id="88aa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">那么Erlang与传统的编程语言有什么不同呢？Erlang <strong class="io hj">属于纯消息传递语言家族。它是一种基于并发进程的语言，在并发进程之间具有很强的隔离性。</strong></p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h1 id="cd4b" class="jy jz hi bd ka kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv bi translated">哲学</h1><p id="4596" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">说到这里，让我们看看Erlang哲学中的一些重要原则，这些原则使得Erlang适合于解决这个问题。</p><ul class=""><li id="cc6d" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lu lh li lj bi translated"><strong class="io hj">一切都是一个过程。</strong></li></ul><p id="a299" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在Erlang的上下文中，进程可以被看作是一个自包含的虚拟机。每个过程都必须用一个唯一的、难忘的标识符来标识。流程的Pid。</p><p id="61ff" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您只知道进程的Pid，那么您可以向该进程发送消息。进程创建和销毁是一个轻量级的操作，因此系统应该很容易扩展</p><ul class=""><li id="7ef2" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lu lh li lj bi translated"><strong class="io hj">进程是高度隔离的。</strong></li></ul><p id="00aa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在同一台机器上运行的两个进程必须像在物理上分离的机器上运行一样独立。</p><p id="5e12" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">进程有<strong class="io hj">【无共享】</strong>语义。这是显而易见的，因为它们被想象成运行在物理上分离的机器上。</p><p id="765b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，在两个进程之间没有共享的数据或共享的资源，那么由于共享而导致的明显的并发问题就被自动避免了。</p><ul class=""><li id="ec32" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lu lh li lj bi translated"><strong class="io hj">消息传递是流程交互的唯一方式。</strong></li></ul><p id="71e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">消息传递是在进程间传递数据的唯一方式。同样，由于没有共享，这是交换数据的唯一可能方式。</p><p id="cc7c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">进程隔离意味着<strong class="io hj">消息传递是异步的</strong>。</p><p id="0cfd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果它是同步的，那么消息接收方的错误可能会无限期地阻塞消息发送方，从而破坏隔离的属性。</p><p id="8e62" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">消息传递被认为是原子的，这意味着消息要么完整地传递，要么根本不传递</p><ul class=""><li id="5188" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lu lh li lj bi translated"><strong class="io hj">让它崩溃。</strong></li></ul><p id="cc5f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果错误发生在一个进程中，那么<strong class="io hj">不是试图积极地阻止它，而是让它崩溃</strong>，并制定一个策略，允许它立即重新启动并在一个干净的石板上恢复。</p><ul class=""><li id="099e" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lu lh li lj bi translated"><strong class="io hj">错误处理是非本地的。</strong></li></ul><p id="0cbe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这意味着一个进程不会进行自己的错误处理。</p><p id="13ba" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Erlang有<strong class="io hj">“快速失败”</strong>哲学，这意味着进程做它们应该做的事情，否则就会失败。即流程<strong class="io hj">必须服从单一责任原则</strong>。</p><p id="f43a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个过程应该可以检测到另一个过程的失败，我们也应该知道失败的原因。</p><p id="7d17" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">应该有另一个单独的进程来处理其他进程的错误。再次单一责任原则。</p><p id="7029" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Erlang的这一理念使得系统具有高度的并发性、可靠性、可伸缩性和容错性。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h1 id="36b6" class="jy jz hi bd ka kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv bi translated">真实世界使用</h1><p id="9a7f" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">那么谁使用Erlang呢？它是否兑现了在软件出错的情况下制造可靠的分布式系统的承诺？</p><p id="f45d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">领先的消息应用公司之一'<strong class="io hj"> WhatsApp' </strong>使用Erlang作为其通信模块。他们采用Erlang是因为他们对并发性、可伸缩性、实时操作和容错系统有很强的需求。Whatsapp每天处理超过650亿条信息，同时为其用户提供可靠的服务。</p><p id="016a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以从这个例子我可以说是！Erlang确实兑现了它的承诺。</p><p id="1f91" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">其他公司也使用Erlang，Erlang的最大用户之一是爱立信。爱立信用它来编写用于电信系统的软件。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h1 id="e226" class="jy jz hi bd ka kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv bi translated"><strong class="ak">最终注释</strong></h1><p id="9467" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">他们说代码是过时的，但思想不是。是否使用Erlang可能因各种参数而异，但其背后的原理非常通用，可以应用于解决分布式计算中的实际问题。因此，Erlang不仅仅是一种语言，它还是一种哲学。</p><p id="d390" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我希望这篇文章对你有所帮助。欢迎批评！</p></div></div>    
</body>
</html>