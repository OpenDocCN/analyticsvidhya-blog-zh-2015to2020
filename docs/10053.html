<html>
<head>
<title>Confusion Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混淆矩阵</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/confusion-matrix-a2db318ef1f5?source=collection_archive---------7-----------------------#2020-10-02">https://medium.com/analytics-vidhya/confusion-matrix-a2db318ef1f5?source=collection_archive---------7-----------------------#2020-10-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/146f248ba5c4db192fc9f6c7fe7fc509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kmhMgcXzTS8I4uTI.png"/></div></div></figure><p id="c4a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在学校和大学的课堂上都学习过矩阵和向量。Well matrix 是一种表示行和列的 N 维数组，在统计和科学领域中有多种类型。但是这里我们不是在讨论我们在数学课上学到的矩阵。</p><p id="f2d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在人工智能和机器学习领域，我们的算法中使用了另一个概念和完全不同的矩阵。混乱矩阵，顾名思义，它迷惑了每个第一次尝试处理它的人。因为，给它越来越多的时间，更频繁地使用它，我们总是拥有并且能够超越困惑矩阵这个神秘的概念。混淆矩阵是数据的表格表示，用于描述基于测试数据和预测数据的分类模型的性能。它用于衡量模型的有效性。混淆矩阵有自己的术语和术语，使其更容易理解。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/1212311cd92b15c182dcd7262b3f0911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*xT7Gkm0IsXQZlZA6tJycvA.png"/></div></figure><p id="0753" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我逐一解释每个术语:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/4d4ff4a74858bdbe6c02049447c363e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*M3CuJf9Xr6d8hnjkTeysnQ.png"/></div></figure><p id="d457" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> TP —真肯定</strong> —我们问的问题有肯定的答案，我们得到了肯定的答案。</p><p id="bc7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> TN —真否定</strong> —我们问的问题有否定的答案，我们也得到了否定的答案。</p><p id="eeea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> FP —误报</strong> —我们问的问题有肯定的答案，我们得到的答案是否定的。</p><p id="e75e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> FN —假阴性</strong> —我们问的问题得到了否定的答案，我们得到了肯定的答案。</p><p id="f25b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们有两个术语精度和误差，定义如下:</p><p id="46f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">准确度</strong> =正确预测数<strong class="is hj"> / </strong>预测总数</p><p id="75b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">错误</strong> =错误预测数<strong class="is hj"> / </strong>预测总数</p><p id="29c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们举一个事件发生的例子，基于这个事件，我们将绘制一个混淆矩阵，并检查这个事件的准确性。让外面有时下雨，有时不下雨，我们的机器根据下雨和不下雨的事件来预测数值。</p><p id="2ea9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们有两个术语精度和误差，定义如下:</p><p id="d76f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">准确度</strong> =正确预测数<strong class="is hj"> / </strong>预测总数</p><p id="04a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">误差</strong> =错误预测数<strong class="is hj"> / </strong>预测总数</p><p id="79d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们举一个事件发生的例子，基于这个事件，我们将绘制一个混淆矩阵，并检查这个事件的准确性。让外面有时下雨，有时不下雨，我们的机器根据下雨和不下雨的事件来预测数值。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/01b533c428d40f1ac989b8ad2d970ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*hLsGMITJv92-QyD8V1TKdA.png"/></div></figure><p id="7ee6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们在上表中看到下雨和不下雨的情况时，10 个预测中有 7 个是正确的。由此我们可以看出精确度和误差:</p><p id="8f45" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">准确度=正确预测数<strong class="is hj"> / </strong>预测总数</p><p id="1339" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">准确度= 7/10 * 100 = 70%</p><p id="8e61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">每类的正确预测数。</strong></p><p id="e6c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">降雨预测为降雨(TP) = 3</p><p id="7093" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">无雨预测为无雨(TN) = 4</p><p id="e840" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">每类错误预测的数量。</strong></p><p id="0c2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">降雨预测为无雨(FN) = 2</p><p id="d87a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">无降雨预测为降雨(FP) = 1</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/c052f519a6224f776852bdff88888e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*rUZ3QsgrgkF58jDfwGjF5A.png"/></div></figure><p id="7807" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面的混淆矩阵，我们可以看到有两种不同类型的错误:假阳性(FP)和假阴性(FN)。现在根据情况，我们尽量减少这些错误。在某些情况下，假阳性(FP)比假阴性(FN)风险更大，我们将 FP 最小化。类似地，在某些情况下，假阴性(FN)比假阳性(FP)风险更大，我们试图最小化 FN。</p><p id="897a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阳性(1 型错误)</strong> —从上面的例子可以看出，当时没有下雨，而机器预测下雨。即预测为发生的事件没有发生。</p><p id="4310" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阴性(2 型错误)</strong> —下雨时，机器预测不下雨。即预测为未发生的事件的发生。</p><p id="df37" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们看到基于不同情况的 FP 和 FN 的例子，我们需要最小化它们。</p><p id="932c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在机场安全检查中，当钥匙或硬币被误认为是武器时，这就是所谓的误报，我们需要尽量减少 FP，而不是 FN。在质量检查中，当一个高质量的产品被剔除时被称为假阳性。</p><p id="8786" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在医疗保健领域，当机器将非电晕患者诊断为电晕阳性时，称为假阳性。然而，如果机器将电晕患者诊断为电晕阴性，则称为假阴性。在这种情况下，我们需要尽量减少 FN 情况，因为它比 FP 情况风险更大。</p><p id="34e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个非常好的假阳性和假阴性的例子可以使理解它变得更简单。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/b0f97ab918a9a64f37947c864bc403dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*41pjtt09ZFHKX06nALbNxA.png"/></div></figure><p id="b461" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当一个孕妇被称为怀孕(TP)时。当一个男性被说成没有怀孕(TN)。当一个男性被称为怀孕(FP)和当一个孕妇被称为没有怀孕(FN)。</p><p id="be27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还有一些与混淆矩阵相关的术语需要我们理解，并根据不同的情况处理它们。</p><p id="f571" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">灵敏度(或回忆)</strong>又称<strong class="is hj">真阳性率(TPR)—</strong></p><p id="56ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在所有发生的事件中，有多少百分比的事件被正确识别。</p><p id="8259" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">回忆(or，TPR) = TP/ (TP + FN) </strong></p><p id="4dcc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">精确度— </strong>在事件的总预测发生率中，被正确识别的事件发生率的百分比。</p><p id="78e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">精度= TP / (TP + FP) </strong></p><p id="2b27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阳性率— </strong>在未发生事件总数中，未发生事件被错误识别的百分比。</p><p id="bca4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> FPR = FP / (FP + TN) </strong></p><p id="d057" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> F —测量</strong></p><p id="053c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">f-测量值是精度和召回率的调和平均值。它通过考虑精确度和召回率来描述模型的性能。</p><p id="4a60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> F — Measure = 2 *精度*召回/(精度+召回)</strong></p><p id="c18a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">根据不同的情况，我们需要尽量减少假阳性和假阴性。为了控制 FP 和 FN，我们用 F-Beta 来表示。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jx"><img src="../Images/36d453592b45f717412d020f9879eeb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*6VbFq8dW-avCtT_LxWo5bA.png"/></div></figure><p id="4db6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了最小化假阳性，我们必须通过将β值取为 0.5 来最大化精度</p><p id="5fc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了最小化假阴性，我们必须通过将β值取为 2.0 来最大化召回</p><p id="8944" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> ROC-AUC 曲线</strong></p><p id="baed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">受试者工作特征(ROC) —曲线下面积(AUC)用于绘制 TPR 和 FPR 之间的关系。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/1d7902a4c1fa25983fcb03737e7bf752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*RmxH4llX5M9E7Xm1iBmtNg.png"/></div></figure><p id="cdf7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的模型精度取决于对角线和曲线内的面积。面积越大，我们的模型就越精确。ROC-AUC 曲线用于平衡分类模型。</p><p id="6b12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">精度—召回曲线</strong></p><p id="3542" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">针对不平衡分类模型，在查准率和查全率之间绘制查准率-查全率曲线。这里的逻辑也是一样的。曲线内的面积越大，我们的模型就越好。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/17a1674006bd6bb4d76499b7f7eefdb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*gp7erSXikzfni_h0duQeJg.png"/></div></figure><p id="c72c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你已经很好的理解了。为了遵循混淆矩阵和真实数据集的 ROC-AUC 曲线，您可以在我的<a class="ae jz" href="https://github.com/Asit-1121130118/bookaffeine/blob/master/HealthCare%20-%20Diabetes%20Prediction.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> GitHub 配置文件中查看我的代码。</strong>T11】</a></p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><p id="b370" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有任何想补充的或者写错的地方，请帮忙。这对我会有很大的帮助。</p></div></div>    
</body>
</html>