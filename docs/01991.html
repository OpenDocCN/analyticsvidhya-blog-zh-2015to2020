<html>
<head>
<title>DAX Studio — a faster way to DAX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DAX Studio——通往DAX的捷径</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/dax-studio-a-faster-way-to-dax-61f997c8f41a?source=collection_archive---------9-----------------------#2019-11-25">https://medium.com/analytics-vidhya/dax-studio-a-faster-way-to-dax-61f997c8f41a?source=collection_archive---------9-----------------------#2019-11-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6ac30c8bbc6f1aa54de73a84258064fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DEQf1vRq4RgCxyRRqlTtfg.jpeg"/></div></div></figure><p id="24a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Visual Studio一直是我特别讨厌的IDE之一。我一直认为它是功能丰富的ide中“太多”的一种。我认为它太强大了，拥有太多的功能，而且在很多情况下，太慢了。</p><p id="2e5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近，我不得不使用它进行一些商业智能建模工作，我用Analysis Server做这些工作。我们有一个项目，使用ETL将数据导入数据仓库，然后导入表格模型。表格模型主要是标准数据库的内存版本，但是它被优化来运行分析类型的查询。针对表格模型编写的查询是用微软的数据分析表达式(<a class="ae jo" href="https://docs.microsoft.com/en-us/dax/" rel="noopener ugc nofollow" target="_blank"> DAX </a>)语言编写的。我在这个项目中的角色是在DAX中编写查询来支持我们想要执行的建模。我们的最终用户使用Excel的PowerPivot或其他队友在PowerBI中构建的仪表板与这些查询进行交互。</p><p id="1274" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">微软构建了一个名为SQL Server数据工具-商业智能(SSDT-BI)的Visual Studio扩展，允许我们编写DAX查询并对表格模型执行其他管理操作。不幸的是，我发现这个扩展很难使用。</p><p id="c45a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">DAX编辑真的很不靠谱。当试图用键盘滚动时，光标从不平滑移动。选择文本经常会导致一些不可预知的意外，括号匹配/突出显示很奇怪，自动完成很碍事。当我意识到每次保存DAX查询都意味着每次都要等待10-30秒(尽管我告诉它不要每次都重新计算模型)时，我就到了崩溃的边缘。在此期间，用户界面将完全阻塞😦有人穿了吗？</p><blockquote class="jp jq jr"><p id="7f28" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">结束咆哮…进入DAX工作室。</p></blockquote><p id="1eb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://www.sqlbi.com/tools/dax-studio/" rel="noopener ugc nofollow" target="_blank"> DAX Studio </a>是一款制作精美的软件。它为编写DAX查询提供了一个优秀的接口，并为理解慢速查询提供了一些急需的分析工具。我只使用了一个晚上，就获得了如此大的动力。我开始阅读这本很棒的<a class="ae jo" href="https://exceleratorbi.com.au/getting-started-dax-studio/" rel="noopener ugc nofollow" target="_blank">入门</a>指南。它告诉您如何安装它，主要的特性集，以及如何在DAX中编写查询。</p><p id="0611" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦安装好了，您要做的第一件事就是连接到表格模型。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/9908b1102b2071dac1144cd47b6e367c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F5FdhEp3q_BhfIy1YeBRYA.png"/></div></div></figure><p id="4cc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦你连接，你将有一个DAX窗口，你可以写你的查询。</p><p id="ff63" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在DAX Studio中开始编写DAX表达式需要一个主要原则。</p><p id="32eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简单的规则是你写的每个DAX表达式必须<strong class="is hj">计算一个表</strong>。通常，在SSDT BI中，我们会创建一个提供一些标量值的度量。我们需要在DAX Studio中做一些额外的工作来检查这个值。</p><p id="bc64" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">先说一个基本的例子。</p><p id="21d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您只想在一个名为<code class="du kb kc kd ke b">Product</code>的表格中列出所有数据。您可以简单地这样做:</p><p id="c2be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">EVALUATE ALL(Product)</code></p><p id="415d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，您可以使用<strong class="is hj"> F5 </strong>或点击<strong class="is hj"> Run </strong>来执行查询。同样，如果你想做一个过滤器…</p><p id="e856" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">EVALUATE FILTER(Product, Product[Price] &gt; 2000)</code></p><p id="979d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在假设你想查看一个标量的输出…它不会产生一个像上面例子那样的表。DAX有一个<code class="du kb kc kd ke b">ROW</code>函数，它创建一个只有一行的表。假设您想使用<code class="du kb kc kd ke b">NOW</code>显示当前日期。</p><p id="17a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">EVALUATE ROW("The Date", NOW())</code></p><p id="0d50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将产生一个只有一行标题为“日期”和值为<code class="du kb kc kd ke b">NOW</code>的表。</p><p id="dff5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以扩展这个例子，展示如何将我们在Visual Studio中编写的测量代码转移到DAX。</p><p id="c1a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设我们在Visual Studio中有以下代码。</p><p id="e044" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">Number of Products := SUM(VALUES(Product[ProductId])</code></p><p id="6548" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们只需要将实际的表达式复制到DAX Studio来评估它。我们可以再次使用<code class="du kb kc kd ke b">ROW</code>来显示值。</p><p id="51a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">EVALUATE ROW("Number of Products", SUM(VALUES(Product[ProductId])))</code></p><p id="6c51" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个很好的工具，可以用来慢慢构建表达式并检查它们的输出。我还发现创建自己的“数据透视表”式视图很方便。例如，我使用了一个<code class="du kb kc kd ke b">SUMMARIZE</code>查询来测试我的度量。这个例子看起来像这样…</p><p id="ced8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kb kc kd ke b">EVALUATE SUMMARIZE(&lt;Table&gt;, &lt;Group By Column&gt;, "Testing", &lt;Test Measure&gt;)</code></p><p id="d086" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在DAX工作室当然不是完美的，我已经发现了一些对我来说不是交易破坏者的事情。</p><ul class=""><li id="09c7" class="kf kg hi is b it iu ix iy jb kh jf ki jj kj jn kk kl km kn bi translated">它不太了解你的*。bim文件。bim文件存储您的模型、分区、计算表等的定义。这意味着您必须复制和粘贴您正在处理的新度量。这也意味着没有KPI创建或添加格式到您的措施。</li><li id="09cb" class="kf kg hi is b it ko ix kp jb kq jf kr jj ks jn kk kl km kn bi translated">它可以很容易地连接到Analysis Server的一个实例，但是我还没有在Visual Studio的workspace Server上尝试过。我依稀记得使用Visual Studio时，创建了一个临时表格模型数据库。您需要验证是否可以连接到该临时工作区。如果您无法连接到您的临时工作区，这意味着您在那里所做的任何编辑在DAX Studio中都是不可见的。</li><li id="416a" class="kf kg hi is b it ko ix kp jb kq jf kr jj ks jn kk kl km kn bi translated">工作流需要一点时间来适应，但是一旦你掌握了它，它会给你比在Visual Studio中工作更大的动力。</li></ul><p id="4bea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我使用DAX Studio作为我今后的创作环境。鉴于我是DAX的新手，SSDT-比真的放慢了我的步伐，并阻止了我的尝试。DAX Studio构建良好，在运行长查询时不会死机。在我看来，它比SSDT-BI更健壮，也得到更多的喜爱和更新。</p><p id="7507" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我知道这是否为你工作，或者你的工作流程看起来像SSDT-比。</p></div></div>    
</body>
</html>