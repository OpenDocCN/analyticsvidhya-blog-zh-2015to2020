<html>
<head>
<title>Handling Missing Data :) Data pre-processing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">缺失数据处理:)数据预处理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/handling-missing-data-data-pre-processing-8fbab02c8cb4?source=collection_archive---------15-----------------------#2020-08-19">https://medium.com/analytics-vidhya/handling-missing-data-data-pre-processing-8fbab02c8cb4?source=collection_archive---------15-----------------------#2020-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/65d9d784174875811dbc1f6cf3ddfc2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NDNEoO8aa_GzMHDrsJ8ug.jpeg"/></div></div></figure><p id="43fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">什么是缺失数据？</strong></p><p id="0e42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">缺失数据</strong>或M个<strong class="is hj">缺失值</strong>发生在数据中没有存储特定特征的值时。缺失数据是一种常见现象，会对从数据中得出的结论产生重大影响。</p><p id="9331" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">原因是什么？</strong></p><ol class=""><li id="b676" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">数据收集出错</li><li id="b5e2" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">无反应</li></ol><p id="7ed3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">检查缺失数据的类型:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/1da57a879b2995fdb818c61e9c00dc35.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*_5A1u_gFUqVmv4C1Whd9Vw.jpeg"/></div></figure><div class="kh ki ez fb kj kk"><a href="https://en.wikipedia.org/wiki/Missing_data#Types" rel="noopener  ugc nofollow" target="_blank"><div class="kl ab dw"><div class="km ab kn cl cj ko"><h2 class="bd hj fi z dy kp ea eb kq ed ef hh bi translated">缺失数据</h2><div class="kr l"><h3 class="bd b fi z dy kp ea eb kq ed ef dx translated">在统计学中，当没有为观测值中的变量存储数据值时，就会出现数据缺失或值缺失…</h3></div><div class="ks l"><p class="bd b fp z dy kp ea eb kq ed ef dx translated">en.wikipedia.org</p></div></div></div></a></div><p id="8d34" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何知道我们是否有缺失的数据？</strong></p><pre class="kd ke kf kg fd kt ku kv kw aw kx bi"><span id="147a" class="ky kz hi ku b fi la lb l lc ld">data.isnull().values.any()</span></pre><p id="abf9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果有任何缺失数据，它将打印True，如果没有缺失数据，它将打印False。</p><pre class="kd ke kf kg fd kt ku kv kw aw kx bi"><span id="1324" class="ky kz hi ku b fi la lb l lc ld">data.isna().sum()</span><span id="8599" class="ky kz hi ku b fi le lb l lc ld"><br/>Output:</span><span id="3348" class="ky kz hi ku b fi le lb l lc ld">PassengerId 0<br/>Pclass 0<br/>Name 0<br/>Sex 0<br/>Age 86<br/>SibSp 0<br/>Parch 0<br/>Ticket 0<br/>Fare 1<br/>Cabin 327<br/>Embarked 0<br/>dtype: int64</span></pre><p id="12df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看输出的格式</p><p id="466a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们发现年龄、票价和舱位分别有86个、1，327个值缺失</p><blockquote class="lf"><p id="bf5b" class="lg lh hi bd li lj lk ll lm ln lo jn dx translated">如何处理这些缺失的数据？</p></blockquote><ol class=""><li id="76ea" class="jo jp hi is b it lp ix lq jb lr jf ls jj lt jn jt ju jv jw bi translated">案例删除</li><li id="4454" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">数据插补</li></ol><p id="9af5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">病例删除:</strong></p><p id="e851" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">列表式</strong>删除是指如果数据集中的任何个体在分析中丢失了<em class="lu">任何</em>变量的数据，则从分析中将其删除。</p><p id="9958" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尽管它的简单性是一个主要优点，但在许多丢失数据的情况下，它会导致大问题。</p><p id="4ef5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">列表式删除适用于以下情况</p><ul class=""><li id="11df" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lv ju jv jw bi translated"><strong class="is hj">数据完全随机缺失(MCAR) </strong></li><li id="71e3" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lv ju jv jw bi translated"><strong class="is hj">无论如何你都有足够的能量，即使你丢失了部分数据集</strong></li></ul><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/1560cb630577e0d76b135ed7a793081c.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*JhUQMAre0AN8bTtPJcsMXQ.jpeg"/></div></figure><p id="2fab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下代码用于删除所有具有空值的行</p><p id="cc86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.dropna()</code></p><p id="947a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们来看看数据</p><pre class="kd ke kf kg fd kt ku kv kw aw kx bi"><span id="dc1a" class="ky kz hi ku b fi la lb l lc ld">data.isna().sum()</span><span id="6150" class="ky kz hi ku b fi le lb l lc ld">Output:</span><span id="d27b" class="ky kz hi ku b fi le lb l lc ld">PassengerId 0<br/>Pclass 0<br/>Name 0<br/>Sex 0<br/>Age 0<br/>SibSp 0<br/>Parch 0<br/>Ticket 0<br/>Fare 0<br/>Cabin 0<br/>Embarked 0<br/>dtype: int64</span></pre><p id="1b2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据大小将会减小，因为包含空值的所有行都被删除。</p><ul class=""><li id="1ddc" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lv ju jv jw bi translated">删除缺少值的列</li></ul><p id="dcf1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.dropna(axis =1)</code></p><p id="e6a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用0填充所有缺失的值</p><p id="f4d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.fillna(0)</code></p><blockquote class="ma mb mc"><p id="7255" class="iq ir lu is b it iu iv iw ix iy iz ja md jc jd je me jg jh ji mf jk jl jm jn hb bi translated"><strong class="is hj">数据插补:</strong></p></blockquote><p id="3245" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">插补是</strong>用替代值替换缺失的<strong class="is hj">数据</strong>的过程。当代入一个<strong class="is hj">数据点</strong>时。</p><p id="bdd8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">少数插补方法:</strong></p><p id="87c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">均值/中值/众数替代:</strong></p><p id="ea30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">已知不为零的缺失值的选择是使用一些<em class="lu">中心值，如</em>平均值、中值或众数。</p><p id="2152" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果变量一般呈正态分布，我们可能会选择使用平均值。</p><p id="f117" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果数据呈现偏态，那么中位数可能是更好的选择。</p><p id="e1ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于类别变量，我们可以选择使用模式(最频繁的值)作为缺省值来填充缺失值和数值变量。</p><p id="fd30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一种生硬的估算方法，会导致糟糕的绩效。</p><p id="458f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.fillna(data.mean())</code></p><p id="ae80" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.fillna(data.median())</code></p><p id="6195" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lx ly lz ku b">data.fillna(data.mode())</code></p><p id="f84f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面提到的方法会更好。</p><p id="406d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">换人</strong>:</p><p id="d060" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">填充数据之外的不同主题的值。</p><p id="30b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">热卡插补</strong></p><p id="6444" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从样本中其他变量具有相似值的个体中随机选择一个值。</p><p id="a075" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">回归插补</strong></p><p id="c579" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">填充通过对其他变量回归缺失变量而获得的预测值。</p><p id="0a0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也很少使用其他技术。</p><p id="96b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我说错了，请指正，任何建议都很好！</p><p id="49ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来源:互联网</p></div></div>    
</body>
</html>