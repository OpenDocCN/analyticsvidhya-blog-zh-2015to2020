<html>
<head>
<title>Speed up Cosine Similarity computations in Python using Numba</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Numba加速Python中的余弦相似性计算</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/speed-up-cosine-similarity-computations-in-python-using-numba-c04bc0741750?source=collection_archive---------6-----------------------#2019-12-23">https://medium.com/analytics-vidhya/speed-up-cosine-similarity-computations-in-python-using-numba-c04bc0741750?source=collection_archive---------6-----------------------#2019-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/6c13c72fe167a2868dc9e7502c76d1e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*YDuypUPMCIaHhZKa7LuRcw.png"/></div></figure><blockquote class="im in io"><p id="fa95" class="ip iq ir is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对机器学习主题感兴趣或需要一些帮助？</p><p id="ac67" class="ip iq ir is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">取得联系—</strong><a class="ae jo" href="https://linktr.ee/pranaychandekar" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">【https://linktr.ee/pranaychandekar】</strong>T5】</a></p></blockquote><p id="1580" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">根据IEEE标准，Python在过去的三年里一直是顶级编程语言。它也是用于构建机器学习应用程序的语言。作为一种解释语言，它加快了开发速度。然而，这同样会使它在运行时变慢，因为它每次都必须编译和执行每条语句。这在缩放过程中成为一个问题。</p><p id="c956" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">这就给我们带来了一个问题——“为了加快速度，我们能不能像其他编译器语言一样编译python代码一次，或者至少编译它的一部分？”，“这样会不会更快？”</p><p id="5d38" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">答案是<strong class="is hj">——是的，我们可以</strong>！</p><p id="d7a8" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">在本文中，我们将借助一个实验来了解如何使用Numba加速Python中的数值计算。</p><h1 id="9d19" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">解决方案— Numba</h1><p id="6e8b" class="pw-post-body-paragraph ip iq hi is b it kq iv iw ix kr iz ja jp ks jd je jq kt jh ji jr ku jl jm jn hb bi translated">根据网站介绍，<a class="ae jo" href="https://numba.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Numba </a>是一个开源JIT(Just In Time)编译器，它将Python和NumPy代码的子集翻译成快速机器代码。它设计用于NumPy数组和函数。它优化了面向数组和数学密集型的python代码。</p><p id="b17e" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">为了验证numba的说法，我用机器学习中最常用的功能之一尝试了Numba，看看有什么不同。<br/> <strong class="is hj">余弦相似度计算</strong>。</p><h1 id="c214" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">实验</h1><p id="86cb" class="pw-post-body-paragraph ip iq hi is b it kq iv iw ix kr iz ja jp ks jd je jq kt jh ji jr ku jl jm jn hb bi translated">在这个实验中，我在两个有和没有numba的50维numpy数组之间进行了余弦相似性计算。</p><p id="8ed9" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">余弦相似性python函数。</p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="kz la l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">余弦相似函数</figcaption></figure><p id="5893" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">numba也有同样的功能。</p><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="kz la l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">带数字装饰器的余弦相似函数</figcaption></figure><p id="8c95" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">我针对不同的计算次数运行了这两个函数，以观察计算时间的差异。</p><h1 id="5b7b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">结果</h1><figure class="kv kw kx ky fd ij"><div class="bz dy l di"><div class="kz la l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">结果</figcaption></figure><p id="fc5e" class="pw-post-body-paragraph ip iq hi is b it iu iv iw ix iy iz ja jp jc jd je jq jg jh ji jr jk jl jm jn hb bi translated">差别是明显的。numba的使用使我们的计算速度提高了数倍。</p><h1 id="20ed" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">外卖食品</h1><p id="31e0" class="pw-post-body-paragraph ip iq hi is b it kq iv iw ix kr iz ja jp ks jd je jq kt jh ji jr ku jl jm jn hb bi translated">在这篇文章中，我们只是触及了表面。我们可以用Numba做更多的事情。但我会把这种探索留给你。您可以在下面的资源库中找到jupyter-notebook的完整实验。</p><div class="lf lg ez fb lh li"><a href="https://github.com/pranaychandekar/numba_cosine" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">pranaychandekar/numba _余弦</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx">…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">github.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ik li"/></div></div></a></div><blockquote class="im in io"><p id="4cbd" class="ip iq ir is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对此类话题感兴趣或需要一些帮助？</p><p id="b2c9" class="ip iq ir is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">取得联系—</strong><a class="ae jo" href="https://linktr.ee/pranaychandekar" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">https://linktr.ee/pranaychandekar</strong></a></p></blockquote><h1 id="9639" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">引文</h1><ol class=""><li id="92ed" class="lx ly hi is b it kq ix kr jp lz jq ma jr mb jn mc md me mf bi translated"><a class="ae jo" href="https://numba.pydata.org/" rel="noopener ugc nofollow" target="_blank">https://numba.pydata.org/</a></li><li id="0f7c" class="lx ly hi is b it mg ix mh jp mi jq mj jr mk jn mc md me mf bi translated"><a class="ae jo" href="https://spectrum.ieee.org/computing/software/the-top-programming-languages-2019" rel="noopener ugc nofollow" target="_blank">https://spectrum . IEEE . org/computing/software/the-top-programming-languages-2019</a></li></ol></div></div>    
</body>
</html>