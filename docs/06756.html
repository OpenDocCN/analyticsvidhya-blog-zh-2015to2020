<html>
<head>
<title>Taking images in Docker container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Docker容器中拍摄图像</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/taking-images-in-docker-container-54ca84ac0d1e?source=collection_archive---------22-----------------------#2020-06-01">https://medium.com/analytics-vidhya/taking-images-in-docker-container-54ca84ac0d1e?source=collection_archive---------22-----------------------#2020-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d17271727f0e3bf34a904772001e42a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*XnUy7BIEAUySzkyl.jpg"/></div></figure><p id="ca3a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你有没有尝试过用你的相机在笔记本电脑上点击照片，当然，你有过，但这里有一个转折，我们将在一个Docker容器中点击照片，你们中的许多人可能想知道如何才能做到这一点？好吧，让我从这个有趣的事情开始。</p><p id="1e76" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，以下是您的笔记本电脑应该具备的一些先决条件:</p><ul class=""><li id="adde" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">Redhat Linux/ CentOS Linux</li><li id="5919" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">码头工人</li><li id="6c72" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">Python3</li><li id="3f91" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">你应该有Docker和Linux命令行的基本知识。</li></ul><p id="9305" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">还有一些python库，我们将在后面讨论。</p><p id="8adb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以，你激动吗！！我希望你是。让我们开始吧:</p><p id="cd81" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本教程中，我将使用RHEL (Redhat Enterprise Linux)，这是一个Linux发行版。因此，要在RHEL系统中使用docker，我们首先必须通过以下命令安装它:</p><h1 id="b14f" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第一步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="e4e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">解释:</p><ol class=""><li id="35f4" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj lc jq jr js bi translated">第一行用来安装Docker CE(社区版)。</li><li id="ded7" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj lc jq jr js bi translated">之后，我们必须启动服务来使用docker容器。</li></ol><h1 id="3842" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔Step 2:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="84f1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我们进入这项任务的主要部分，即在RHEL推出docker容器。</p><p id="1dfb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Woah，那可是一大行，别怕，我给你分解一下每个关键词:</p><ul class=""><li id="d7ea" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">首先，我使用了用于启动新容器的<strong class="io hj">“docker run”</strong>命令。</li><li id="c172" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">接下来，我使用了选项<strong class="io hj"> -i，-t，-p，-v，-特权，-e，-名称:</strong></li></ul><p id="ce8a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--interactive or -i</code></p><p id="2315" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;保持STDIN打开，即使没有连接。</p><p id="eeeb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">-t or --tty</code></p><p id="b432" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;来分配一个伪TTY。</p><p id="a538" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--publish , -p</code></p><p id="c4d9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;向主机发布容器的端口。</p><ul class=""><li id="3b50" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj"> "55555:22" </strong>:将容器中的TCP端口22映射到Docker主机上的端口55555。</li></ul><p id="3395" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--volume or -v</code></p><p id="3549" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;绑定安装一个卷。</p><ul class=""><li id="ae2e" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">"/dev/video 0:/dev/video 0 "</strong>:这是您笔记本电脑的网络摄像头名称，以便您可以访问它。并且，在冒号之后，这将被保存在docker容器中。</li><li id="780f" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated"><strong class="io hj">"/root/Desktop/rhel 7 _ 5 _ extras:/extras "</strong>:导入该图像是因为它有所需的可用工具，在本例中是Python3，并且它将作为extras保存在docker容器中。</li><li id="96bf" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated"><strong class="io hj">"/root/Desktop/rhel 7 _ extra _ new _ rpm:/new "</strong>:同样，此映像也包含执行此任务所需的一些工具。</li><li id="40eb" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated"><strong class="io hj">"/root/Desktop/python _ lib:/Python "</strong>:包含了将要进一步安装在docker容器中使用的Python库。</li><li id="8442" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated"><strong class="io hj">"/run/media/root/RHEL-7.5 \ server . x86 _ 64:/DVD "</strong>:这是包含所有软件的RHEL DVD。</li><li id="e318" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj jp jq jr js bi translated">"/tmp/. X11-UNIX:/tmp/. X11-UNIX:ro ":X server是用于位图显示的窗口系统，常见于Linux操作系统。为了简单地理解这一点，您可以在docker容器中使用GUI。</li></ul><p id="02ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--privileged</code></p><p id="5b25" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;授予此容器扩展权限。</p><p id="0a60" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--env , -e</code></p><p id="1861" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">&gt;设置环境变量。</p><ul class=""><li id="4891" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">" DISPLAY = $ DISPLAY "</strong>:X window系统中的魔字是DISPLAY。显示器由(简化的)以下部分组成:</li></ul><ol class=""><li id="ff5f" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj lc jq jr js bi translated">键盘</li><li id="9a49" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj lc jq jr js bi translated">一只老鼠</li><li id="52d3" class="jk jl hi io b ip jt it ju ix jv jb jw jf jx jj lc jq jr js bi translated">和一个屏幕。</li></ol><p id="9359" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">显示器由一个服务器程序管理，称为X服务器。服务器为连接到它的其他程序提供显示功能。远程服务器通过DISPLAY环境变量的定义知道它必须将X网络流量重定向到哪里，该变量通常指向位于本地计算机上的X显示服务器。</p><p id="c074" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du ld le lf lg b">--name</code></p><p id="f862" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">给容器指定一个名称。</p><ul class=""><li id="fbcd" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">“camera1”:它是docker容器的名称。</li></ul><p id="7019" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，还有<strong class="io hj">“centos:latest”</strong>，这是我用来部署docker容器的图像。</p><h1 id="4167" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第三步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><blockquote class="lh li lj"><p id="bcce" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">/<strong class="io hj">etc</strong>/<strong class="io hj">ssh</strong>/<strong class="io hj">sshd _ config</strong>文件是<strong class="io hj"> OpenSSH </strong>的系统级配置文件，它允许您设置修改守护进程操作的选项。该文件包含关键字-值对，每行一个，关键字不区分大小写。</p></blockquote><p id="65bc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要运行我们用过的图形应用程序，<strong class="io hj">X11转发是。</strong></p><h1 id="93d8" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第四步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><blockquote class="lh li lj"><p id="75d3" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">D-Bus是一种软件总线、进程间通信和远程过程调用机制，允许在同一台机器上同时运行的多个进程之间进行通信。</p><p id="7bd9" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">/<strong class="io hj">etc</strong>/<strong class="io hj">machine</strong>-<strong class="io hj">id</strong>文件包含本地系统的唯一<strong class="io hj"> machine ID </strong>，该ID是在安装或引导时设置的。</p></blockquote><h1 id="bc1f" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第五步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="7dbb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">设置环境标志以强制Qt正确显示。</p><blockquote class="lh li lj"><p id="bd9c" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">Qt是一个免费的开源小部件工具包，用于创建图形用户界面以及运行在各种软件和硬件平台(如Linux、Windows)上的跨平台应用程序。</p></blockquote><h1 id="3ffb" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第六步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="3162" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它用于创建存储库，以便我们可以在以后安装所需的软件。</p><h1 id="6c42" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第七步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="95e3" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第八步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="0bde" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第九步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="e159" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第十步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="5654" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">以根用户身份运行GUI应用程序。</p><h1 id="fcdb" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第十一步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="824b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，编写一个程序来点击docker容器中的照片。</p><h1 id="d9e7" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">✔第十二步:</h1><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><blockquote class="lh li lj"><p id="b262" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">第1行用于使python文件可执行。</p><p id="cedf" class="im in lk io b ip iq ir is it iu iv iw ll iy iz ja lm jc jd je ln jg jh ji jj hb bi translated">第2行用于执行代码。</p></blockquote><p id="ba90" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">那么，这就是任务的结束，我希望你在这中学到了很多。</p><p id="8cb7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">快乐学习！😊✌</p></div></div>    
</body>
</html>