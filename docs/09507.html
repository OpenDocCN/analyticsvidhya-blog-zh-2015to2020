<html>
<head>
<title>Tic Tac Toe Python Game Project — “Memory of school time”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">井字游戏项目——“学校时光的记忆”</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/tic-tac-toe-python-game-project-memory-of-school-time-be0e1ad55c66?source=collection_archive---------20-----------------------#2020-09-08">https://medium.com/analytics-vidhya/tic-tac-toe-python-game-project-memory-of-school-time-be0e1ad55c66?source=collection_archive---------20-----------------------#2020-09-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/401e7ca7aaf1c106995861be748bc948.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*EPh5Ucw8SxMRxOKZ5Tgaxg.png"/></div><figcaption class="hn ho et er es hp hq bd b be z dx translated"><strong class="bd hr">'我们来玩井字游戏“XO ”,你要做的就是匹配两张红心来赢得一张红心，但是如果我匹配这些红心，你可能会输'</strong></figcaption></figure><div class=""/><div class=""><h2 id="9f14" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji dx translated"><strong class="ak">这背后的故事</strong></h2></div><p id="731b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">毫无疑问，你在学生时代一定玩过井字游戏，我们每个人都喜欢玩这个游戏。你会惊讶地发现井字游戏自古埃及时代就存在了。</p><p id="418b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hv">井字游戏</strong>、<strong class="jl hv">零、十字</strong>或<strong class="jl hv"> Xs 和 Os </strong>是两个玩家的<a class="ae kf" href="https://en.wikipedia.org/wiki/Paper-and-pencil_game" rel="noopener ugc nofollow" target="_blank">纸笔游戏</a>,<em class="kg">X</em>和<em class="kg"> O </em>，他们轮流标记 3×3 网格中的空格。成功在水平、垂直或对角线上放置三个标记的玩家获胜</p><p id="6499" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">由于井字游戏的简单性，它经常被用作一种<a class="ae kf" href="https://en.wikipedia.org/wiki/Pedagogical" rel="noopener ugc nofollow" target="_blank">教学</a>工具，用于教授良好<a class="ae kf" href="https://en.wikipedia.org/wiki/Sportsmanship" rel="noopener ugc nofollow" target="_blank">体育精神</a>的概念，以及处理<a class="ae kf" href="https://en.wikipedia.org/wiki/Game_tree" rel="noopener ugc nofollow" target="_blank">博弈树</a>搜索的<a class="ae kf" href="https://en.wikipedia.org/wiki/Artificial_intelligence" rel="noopener ugc nofollow" target="_blank">人工智能</a>的分支。</p><p id="65a2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们将建立一个互动游戏井字游戏，在这个过程中我们将学习新的东西。</p><h1 id="65e9" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">井字游戏—关于 Python 项目</h1><p id="f0ab" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">有趣的 Python 项目将使用 pygame 库构建。</p><p id="d772" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hv"> Pygame </strong>是一套<a class="ae kf" href="http://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>模块，专为编写视频游戏而设计。Pygame 在优秀的 SDL 库的基础上增加了功能。这允许你用 python 语言创建全功能的游戏和多媒体程序。</p><p id="615c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Pygame 具有高度的可移植性，几乎可以在任何平台和操作系统上运行。</p><p id="40b0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们将解释这个项目中使用的所有 pygame 对象方法。Pygame 是一个很棒的库，它允许我们创建窗口，并在窗口上绘制图像和形状。这样，我们将捕获鼠标坐标，并确定需要标记“X”或“O”的块。然后我们将检查用户是否赢得了游戏</p><h1 id="3234" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">先决条件</h1><p id="66fe" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">为了实现这个游戏，我们将使用 Python 和 Pygame 的基本概念，Pygame 是一个用于构建跨平台游戏的 Python 库。它包含计算机图形和声音库所需的模块。要安装该库，您可以从命令行使用 pip 安装程序:</p><ol class=""><li id="5f6e" class="ld le hu jl b jm jn jp jq js lf jw lg ka lh ke li lj lk ll bi translated">pip 安装游戏</li></ol><h1 id="78b3" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">构建 Python 项目的步骤—井字游戏</h1><p id="4ae0" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">首先，让我们检查用 Python 构建井字游戏程序的步骤:</p><ul class=""><li id="595c" class="ld le hu jl b jm jn jp jq js lf jw lg ka lh ke lm lj lk ll bi translated">为我们的游戏创建显示窗口。</li><li id="6123" class="ld le hu jl b jm ln jp lo js lp jw lq ka lr ke lm lj lk ll bi translated">在画布上画出我们将要玩井字游戏的格子。</li><li id="5faf" class="ld le hu jl b jm ln jp lo js lp jw lq ka lr ke lm lj lk ll bi translated">在画布下面画状态栏，显示轮到哪个玩家了，谁赢了游戏。</li><li id="5e5a" class="ld le hu jl b jm ln jp lo js lp jw lq ka lr ke lm lj lk ll bi translated">当有人赢得比赛或比赛是平局，然后我们重置游戏。</li></ul><p id="74b0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们需要在一个无限循环中运行我们的游戏。它将不断寻找事件，当用户在网格上按下鼠标按钮时，我们将首先获得鼠标的 X 和 Y 坐标。然后我们会检查用户点击了哪个方块。然后，我们将在画布上绘制适当的“X”或“O”图像。这就是我们在这个 Python 项目中要做的事情。</p><h1 id="46ee" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">1.初始化游戏组件</h1><p id="2054" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">所以让我们从导入 pygame 库和 time 库开始，因为我们将使用 time.sleep()方法在某些位置暂停游戏。然后我们初始化所有将在井字游戏中使用的全局变量。</p><blockquote class="ls lt lu"><p id="f5ae" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">将 pygame 导入为 pg，sys</p><p id="a865" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">从 pygame.locals 导入*</p><p id="81bd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">导入时间</p><p id="c757" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#初始化全局变量</p><p id="5254" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">XO = 'x '</p><p id="4565" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">获胜者=无</p><p id="a433" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">draw = False</p><p id="966c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">宽度= 400</p><p id="344d" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">高度= 400</p><p id="9562" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">白色= (255，255，255)</p><p id="3842" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">line_color = (10，10，10)</p><p id="35cf" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#TicTacToe 3x3 板</p><p id="d8c2" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">TTT =[[无]*3，[无]*3，[无]*3]</p></blockquote><p id="d551" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里，TTT 是主要的 3×3 井字游戏棋盘，起初，它有 9 个“无”值。我们将要玩游戏的画布的高度和宽度是 400×400。</p><h1 id="fa24" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">初始化 Pygame 窗口</h1><p id="80b1" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">我们使用 pygame 创建一个新窗口，在这里我们可以玩井字游戏。所以我们用 pg.init()方法初始化 pygame，窗口显示设置为宽度 400，高度 500。我们保留了 100 像素的空间来显示游戏的状态。</p><p id="8bb1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">pg.display.set_mode()初始化显示，我们用 screen 变量引用它。每当我们想在显示器上画东西时，就会用到这个屏幕变量。</p><p id="c416" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">pg.display.set_caption 该方法用于设置将出现在显示窗口顶部的名称。</p><blockquote class="ls lt lu"><p id="ea11" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#初始化 pygame 窗口</p><p id="62e3" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">pg。<strong class="jl hv">初始化</strong>()</p><p id="281d" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">fps = 30</p><p id="d0e1" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">时钟= pg.time. <strong class="jl hv">时钟</strong>()</p><p id="1c1f" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">screen = pg . display .<strong class="jl hv">set _ mode</strong>((宽度，高度+100)，0，32)</p><p id="c322" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">pg.display. <strong class="jl hv"> set_caption </strong>(“井字游戏”)</p></blockquote><h1 id="0b98" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">3.加载和转换图像</h1><p id="0102" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">Python 机器学习项目使用了许多图像，如游戏开始或重置时将显示的开场图像。当用户点击网格时，我们将绘制的 X 和 O 图像。我们加载所有的图像，并调整它们的大小，以便它们可以很容易地适应我们的窗口。</p><h1 id="03de" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">4.定义功能</h1><p id="1e59" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">现在我们创建一个函数来启动游戏。当我们想重启游戏时，也会用到这个功能。在 pygame 中，blit()函数用于在一个图像上绘制另一个图像。</p><p id="acae" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">所以我们绘制开始的图像，在绘制之后，我们总是需要用 pg.display.update()更新显示。当开始图像被绘制时，我们使用 time.sleep(1)等待 1 秒钟，并用白色填充屏幕。</p><p id="16cf" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">接下来，我们在白色背景上画 2 条垂直和水平的线，形成 3×3 的网格。最后，我们调用 draw_status()函数</p><blockquote class="ls lt lu"><p id="a281" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">def game _ opening():<br/>screen . blit(opening，(0，0))<br/>pg . display . update()<br/>time . sleep(1)<br/>screen . fill(白色)<br/> <br/> #画竖线<br/> pg.draw.line(screen，line_color，(width/3，0)，(width/3，height)，7) <br/> pg.draw.line(screen，line_color，(width/3*2，0)，(width/3*2，height)，7) <br/> #画横线</p></blockquote><p id="abc1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">draw_status()函数绘制了一个黑色的矩形，我们在其中更新了游戏的状态，显示了轮到哪个玩家了，以及游戏是结束还是平局。</p><blockquote class="ls lt lu"><p id="fd07" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">定义<strong class="jl hv"> draw_status </strong>():</p><p id="2493" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">全球抽奖</p><p id="9052" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果获胜者是无:</p><p id="857c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">message = XO。<strong class="jl hv">上部</strong>()+“s 转”</p><p id="521c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">否则:</p><p id="3083" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">消息=赢家。<strong class="jl hv">上位</strong> () +“赢了！”</p><p id="d331" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果绘制:</p><p id="c8ce" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">message = '游戏抽奖！'</p><p id="b400" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">font = pg.font. <strong class="jl hv"> Font </strong>(无，30)</p><p id="43d5" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">文本=字体。渲染(消息，1，(255，255，255))</p><p id="0dc3" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#将呈现的信息复制到白板上</p><p id="ca78" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">屏幕。<strong class="jl hv">填充</strong> ((0，0，0)，(0，400，500，100))</p><p id="b295" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">text_rect = text。<strong class="jl hv">get _ rect</strong>(center =(width/2500–50))</p><p id="45e9" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">屏幕。<strong class="jl hv"> blit </strong> (text，text_rect)</p><p id="9a98" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">页面显示。<strong class="jl hv">更新</strong>()</p></blockquote><p id="a333" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">函数的作用是:检查井字游戏棋盘上所有的“X”和“O”标记。它计算玩家是否赢得了游戏。当玩家在一行、一列或对角线上连续标记 3 次时，他们可以获胜。每当我们在板上画一个“X”或“O”时，这个函数就会被调用。</p><blockquote class="ls lt lu"><p id="5439" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">def <strong class="jl hv"> check_win </strong>():</p><p id="6d3e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">全球 TTT，赢家，平局</p><p id="8f09" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#检查获奖行</p><p id="9816" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">对于<strong class="jl hv">范围</strong> (0，3)内的行:</p><p id="91fa" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>((TTT[排][0]= = TTT[排][1]= = TTT[排][2]) <strong class="jl hv">和</strong>(TTT[排][0]不是无)):</p><p id="635e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#这一行赢了</p><p id="1bc6" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">赢家= TTT[row][0]</p><p id="1df2" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">pg.draw. <strong class="jl hv"> line </strong>(屏幕，(250，0，0)，(0，(行+1)*高度/3-高度/6)，\</p><p id="9be2" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">(宽度，(行+1)*高度/3-高度/6)，4)</p><p id="b464" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">破裂</p><p id="f2e7" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#检查获奖栏目</p><p id="ffc9" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">对于<strong class="jl hv">范围内的列</strong> (0，3):</p><p id="6155" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(TTT[0][col]= = TTT[1][col]= = TTT[2][col])<strong class="jl hv">和</strong> (TTT[0][col]不是无):</p><p id="22ee" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#这个栏目赢了</p><p id="2c9e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">获胜者= TTT[0][col]</p><p id="7e2b" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#画赢线</p><p id="7ceb" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">pg.draw. <strong class="jl hv"> line </strong>(屏幕，(250，0，0)，((col + 1)* width/3 — width/6，0)，\</p><p id="6d69" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">((col + 1)* width/3 — width/6，height)，4)</p><p id="96f4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">破裂</p><p id="2ae3" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#检查对角线获胜者</p><p id="238d" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(TTT[0][0]= = TTT[1][1]= = TTT[2][2])<strong class="jl hv">和</strong> (TTT[0][0]不是无):</p><p id="83ce" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#游戏从左到右对角获胜</p><p id="3275" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">赢家= TTT[0][0]</p><p id="7da5" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">第<strong class="jl hv">行</strong>(屏幕，(250，70，70)，(50，50)，(350，350)，4)</p><p id="ae9f" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(TTT[0][2]= = TTT[1][1]= = TTT[2][0])<strong class="jl hv">和</strong> (TTT[0][2]不是无):</p><p id="6ed8" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#游戏从右向左对角获胜</p><p id="0ff4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">获胜者= TTT[0][2]</p><p id="7e68" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">第<strong class="jl hv">页线</strong>(屏幕，(250，70，70)，(350，50)，(50，350)，4)</p><p id="dc9c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(<strong class="jl hv">all</strong>(<strong class="jl hv">all</strong>(row)for row in the TTT))并且获胜者是 None:</p><p id="4967" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">draw = True</p><p id="9c85" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">平局 _ 状态</strong>()</p></blockquote><p id="aa5d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">drawXO(row，col)函数获取鼠标单击的行和列，然后绘制“X”或“O”标记。我们计算起点的 x 和 y 坐标，从这里我们将绘制标记的 png 图像。</p><blockquote class="ls lt lu"><p id="abcd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">def <strong class="jl hv"> drawXO </strong>(行，列):</p><p id="cd27" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">全球 TTT，XO</p><p id="27bd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 row==1:</p><p id="8a7b" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posx = 30</p><p id="f35a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 row==2:</p><p id="f383" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posx =宽度/3 + 30</p><p id="2fe5" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 row==3:</p><p id="a402" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posx =宽度/3*2 + 30</p><p id="3e0e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 col==1:</p><p id="f0d8" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posy = 30</p><p id="1083" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 col==2:</p><p id="1997" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posy =身高/3 + 30</p><p id="5088" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 col==3:</p><p id="6f67" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">posy =高度/3*2 + 30</p><p id="988a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">TTT[第一行][第一列] = XO</p><p id="123d" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong> (XO == 'x '):</p><p id="b6ef" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">屏幕。<strong class="jl hv"> blit </strong> (x_img，(posy，posx))</p><p id="708f" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">XO= 'o '</p><p id="feb4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">否则:</p><p id="7fce" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">屏幕。<strong class="jl hv"> blit </strong> (o_img，(posy，posx))</p><p id="f726" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">XO= 'x '</p><p id="a73d" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">页面显示。<strong class="jl hv">更新</strong>()</p><p id="edbd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#打印(posx，posy)</p><p id="9901" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#打印(TTT)</p></blockquote><p id="21c1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">每当用户按下鼠标按钮时，就会触发 userClick()函数。</p><p id="e55a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">当用户点击鼠标时，我们首先获取鼠标在显示窗口上被点击的位置的 x 和 y 坐标，然后如果那个位置没有被占用，我们就在画布上绘制“XO”。我们也检查玩家在黑板上画了“XO”后是否赢了。</p><blockquote class="ls lt lu"><p id="b256" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">定义<strong class="jl hv">用户点击</strong>():</p><p id="4af9" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#获取鼠标点击的坐标</p><p id="4b0e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">x，y = pg.mouse. <strong class="jl hv"> get_pos </strong>()</p><p id="69e4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#获取鼠标单击的列(1–3)</p><p id="5ad6" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong> (x &lt;宽度/3):</p><p id="09c6" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">col = 1</p><p id="0d8c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> elif </strong> (x &lt;宽度/3*2):</p><p id="b991" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">col = 2</p><p id="c6fc" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> elif </strong> (x &lt;宽度):</p><p id="f86a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">col = 3</p><p id="d4d0" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">否则:</p><p id="8d63" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">col =无</p><p id="0805" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#获取鼠标单击的行(1–3)</p><p id="a81e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong> (y &lt;高度/3):</p><p id="5ca5" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">行= 1</p><p id="da2a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> elif </strong> (y &lt;高度/3*2):</p><p id="1abd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">行= 2</p><p id="6b7c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> elif </strong> (y &lt;高度):</p><p id="7f8a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">row = 3</p><p id="cd8c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">否则:</p><p id="6206" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">行=无</p><p id="9dde" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#打印(行，列)</p><p id="3c25" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(行和列以及 TTT[行-1][列-1]为无):</p><p id="db6c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">全球 XO</p><p id="f377" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#在屏幕上画 x 或 o</p><p id="d90f" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> drawXO </strong> (row，col)</p><p id="79ed" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv"> check_win </strong>()</p></blockquote><p id="b5e4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">最后一个函数是 reset_game()。这将重新开始游戏，我们也重置所有的变量到游戏的开始。</p><blockquote class="ls lt lu"><p id="850f" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">def <strong class="jl hv">重置 _ 游戏</strong>():</p><p id="4bf4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">全球 TTT，赢家，XO，平局</p><p id="70fe" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">时间。<strong class="jl hv">睡眠</strong> (3)</p><p id="2cb6" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">XO = 'x '</p><p id="299c" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">draw = False</p><p id="4c2e" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">游戏 _ 开场</strong>()</p><p id="1e48" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">获胜者=无</p><p id="0ab1" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">TTT =[[无]*3，[无]*3，[无]*3]</p></blockquote><h1 id="d4b3" class="kh ki hu bd hr kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx bi translated">5.永远运行游戏</h1><p id="7b18" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hb bi translated">要启动游戏，我们将调用 game_opening()函数。然后，我们运行一个无限循环，不断检查用户所做的任何事件。如果用户按下鼠标按钮，MOUSEBUTTONDOWN 事件将被捕获，然后我们将触发 userClick()函数。然后如果用户赢了或者游戏平局，我们通过调用 reset_game()函数来重置游戏。我们在每次迭代中更新显示，并将每秒帧数设置为 30。</p><blockquote class="ls lt lu"><p id="d153" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">游戏 _ 开场</strong>()</p><p id="0ac4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#永远运行游戏循环</p><p id="007b" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">而</strong>(真):</p><p id="1a6a" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">对于 pg.event. <strong class="jl hv"> get </strong>()中的事件:</p><p id="3c98" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">如果 event.type == QUIT:</p><p id="c5f4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">pg。<strong class="jl hv">退出</strong>()</p><p id="8323" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">sys。<strong class="jl hv">退出</strong>()</p><p id="5c30" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">elif event.type 为 MOUSEBUTTONDOWN:</p><p id="dbbc" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">#用户点击了；放置一个 X 或 O</p><p id="a2e4" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">用户点击()</p><p id="d4dd" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">如果</strong>(赢家或平局):</p><p id="6688" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated"><strong class="jl hv">重置 _ 游戏</strong>()</p><p id="b808" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">页面显示.<strong class="jl hv">更新</strong>()</p><p id="25ea" class="jj jk kg jl b jm jn iv jo jp jq iy jr lv jt ju jv lw jx jy jz lx kb kc kd ke hb bi translated">时钟。<strong class="jl hv">滴答</strong> (fps)</p></blockquote><p id="9656" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">游戏已经完成，可以开始玩了。</p></div></div>    
</body>
</html>