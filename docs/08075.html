<html>
<head>
<title>Cassandra</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡桑德拉</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cassandra-a-decentralized-structured-storage-system-7bc3965ac636?source=collection_archive---------21-----------------------#2020-07-16">https://medium.com/analytics-vidhya/cassandra-a-decentralized-structured-storage-system-7bc3965ac636?source=collection_archive---------21-----------------------#2020-07-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="144d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><strong class="ak">“分散式结构化存储系统”</strong></h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/1d84bea0ca6f4c455311460bd319e859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sBG7pSMwD4RbkE0I"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://unsplash.com/@andrewtneel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安德鲁·尼尔</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="7dae" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">卡珊德拉&amp;其目的</strong></h1><p id="93cb" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">Cassandra是一个免费的分布式存储系统，用于处理分布在集群中许多节点上的大量数据。Cassandra有助于维护软件系统的可靠性和可扩展性，它运行在由数百个节点组成的基础设施之上，在不可避免的故障情况下管理持久状态。这是一种高度可用的服务，其中容错处理是一种规范，而不是没有单点故障的例外。</p><p id="44c7" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">Cassandra使用能够以容错方式处理大量数据的健壮API，在许多节点上提供了简单的复制。在保持读取效率的同时，Cassandra design允许在廉价的商用服务器上运行，并且可以处理许多写入请求。</p><h1 id="fe17" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">语境</strong></h1><p id="68a8" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">作为一个大型社交网站，脸书借助分布在各地的数千台服务器，处理来自世界各地用户的数十亿次请求。为了处理这些问题，它需要某些性能元素，如可扩展性、可靠性和效率。除了如此庞大的基础设施之外，任何服务器都有停机的风险。需要一种可靠且可扩展的系统。</p><p id="4741" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">脸书开发了Cassandra来处理每天数十亿次的写操作，并具有扩展能力(在集群中添加或删除节点)。为了帮助越来越多的用户，还能够通过保持尽可能低的搜索延迟来在世界上任何地理位置提供数据。Cassandra通过使用分布式数据存储来避免单点故障。这首先在脸书的收件箱搜索功能中实现，以降低延迟。</p><h1 id="522f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">设计目标</strong></h1><p id="2340" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">读取数据时的低延迟和高容错性(在写入数据时发生硬件/软件故障或节点管理的情况下)是Cassandra的两个主要设计目标。耐用性也是系统的一个重要设计目标，因为它以日志的形式保存数据。</p><p id="479f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">I)低延迟: Cassandra旨在通过在地理上分散的数据中心复制数据来为用户服务，从而降低脸书收件箱搜索的延迟。为了保持整个系统的低延迟，Cassandra将节点中的数据副本分布在集群中的不同数据中心。Cassandra使用一致的哈希算法将数据(密钥)分配给节点，该节点被视为该密钥的协调者，它帮助Cassandra确保节点的可靠性，这意味着如果该节点出现故障或停机，不会影响整个系统，但会影响其直接邻居。</p><p id="f013" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><strong class="ki hj"> ii)容错:</strong> Cassandra以一种优雅的方式实现了容错，使得每个节点可以在本地确定哪些其他节点不可用。它帮助节点进一步停止与其他非活动节点的通信尝试。Cassandra使用了一种称为累积故障检测的技术，这是phi(φ)的一种测量方法。在这种思想中，故障检测模块不发出布尔值，无论节点是启动还是关闭，而是建议特定节点的怀疑级别。该值可以动态调整，以反映网络和负载条件，因此证明在准确性和速度方面非常有用。这进一步支持Cassandra密切观察和替换具有高phi(φ)值的节点。</p><p id="d1e5" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">c) <strong class="ki hj">耐久性</strong>:文中也提到了Cassandra的耐久性设计目标。Cassandra依靠本地文件系统来实现数据持久性。数据首先被写入提交日志以获得持久性和可恢复性，然后被更新到内存中的数据结构中。超过一定的内存限制后，数据结构会将自身转储到磁盘中。因此，数据在各种节点上保持持久并可从故障(网络/存储)中恢复。</p><p id="1136" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">d) <strong class="ki hj">负载均衡:</strong>Cassandra中的负载均衡是通过扩展集群来实现的。当一个新的节点被添加到系统中时，它分割了另一个节点先前负责的范围。使用内核到内核复制技术，从关闭的节点将数据流传输到新节点。</p><h1 id="428d" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">关键权衡</strong></h1><p id="6e58" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">该论文提到了在保持系统低延迟方面的一些基本权衡，即一致的哈希函数导致集群中节点的随机分配，这可能导致数据和负载分布不一致。为了避免这个问题，他们提出了另一种使用负载平衡的方法。</p><p id="cefd" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">虽然在累积故障检测技术的帮助下，系统在容错方面变得健壮，但是人工错误也导致新节点的创建和加入错误的集群。为此，作者必须构建一个新的外部机制来启动Cassandra实例的节点添加或删除。文章还提到了用于负载平衡的内核到内核复制机制，这只有在并行化进程时才有效。</p><h1 id="ab7e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">引文</strong></h1><p id="46de" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">拉克什曼，阿维纳什&amp;马利克，普拉尚。(2010).Cassandra——一个分散的结构化存储系统。操作系统评论。44.35–40.10.1145/1773912.1773922.</p></div></div>    
</body>
</html>