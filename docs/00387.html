<html>
<head>
<title>Key Takeaways from Analytics Vidhya LTFS competition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析Vidhya LTFS竞赛的主要收获</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/https-medium-com-raghuginnu-ltfs-74deef86ba48?source=collection_archive---------3-----------------------#2019-05-17">https://medium.com/analytics-vidhya/https-medium-com-raghuginnu-ltfs-74deef86ba48?source=collection_archive---------3-----------------------#2019-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/2a61a3b91a4c5ffb287af76c59720cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QwXxg8LnTrz3GM_D0piE7A.jpeg"/></div></div></figure><p id="ad88" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">当你参加比赛时，你会学到很多东西，而这种实质性的学习来自于接触到其他人如何解决和你一样的问题，但却提出了不同的、更好的解决方案。</p><p id="abf4" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">所以我在这里展示比赛中最精彩的部分</p><p id="2eb1" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">我写这篇文章的目的不是提供问题的解决方案，而是展示人们如何做不同的事情。代码中可能会有一些错误，因为我的目的是教授机器学习黑客马拉松的不同部分，不同代码如何做相同的工作，并展示最常见的特征工程和用户特定的特征工程。</p><h2 id="8c67" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jj kh ki kj jn kk kl km jr kn ko kp kq bi translated">在本文中，我使用了来自以下用户的代码片段:</h2><ol class=""><li id="1980" class="kr ks hi ja b jb kt jf ku jj kv jn kw jr kx jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/teams/zirons-team" rel="noopener ugc nofollow" target="_blank">@齐荣</a></li><li id="8a58" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/user/profile/rajat5ranjan" rel="noopener ugc nofollow" target="_blank"> @Rajat5Ranjan </a></li><li id="cfef" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/user/profile/TheGupta" rel="noopener ugc nofollow" target="_blank"> @TheGupta </a></li><li id="b52e" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/user/profile/sandeepkumar121995" rel="noopener ugc nofollow" target="_blank"> @Sandeepkumar121995 </a></li><li id="c60f" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/user/profile/artem.dubinich" rel="noopener ugc nofollow" target="_blank"> @artem.dubinich </a></li><li id="f28a" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://datahack.analyticsvidhya.com/teams/predict-this" rel="noopener ugc nofollow" target="_blank">@预测这个！</a></li><li id="b0a7" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://www.kaggle.com/sandeeppat/ltfs-top-3-5-kernel" rel="noopener ugc nofollow" target="_blank"> @sandeeppat </a></li></ol><p id="9426" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">机器学习竞赛的工作流程</strong></p><ol class=""><li id="4929" class="kr ks hi ja b jb jc jf jg jj li jn lj jr lk jv ky kz la lb bi translated"><a class="ae lc" href="#gjdgxs" rel="noopener ugc nofollow">导入数据</a></li><li id="3751" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#30j0zll" rel="noopener ugc nofollow">特征工程</a></li><li id="2315" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#3znysh7" rel="noopener ugc nofollow">异常值处理</a></li><li id="6155" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#2et92p0" rel="noopener ugc nofollow">缺失值处理</a></li><li id="8613" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#tyjcwt" rel="noopener ugc nofollow">缩放数据</a></li><li id="aac8" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#3dy6vkm" rel="noopener ugc nofollow">采样</a></li><li id="f131" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#1t3h5sf" rel="noopener ugc nofollow">拆分数据</a></li><li id="62b3" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#4d34og8" rel="noopener ugc nofollow">根据训练数据训练模型</a></li><li id="4ed1" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="#2s8eyo1" rel="noopener ugc nofollow">对测试数据进行预测并提交结果</a>。</li></ol><p id="338b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">值得一读的解决方案</strong>:</p><ol class=""><li id="dfb1" class="kr ks hi ja b jb jc jf jg jj li jn lj jr lk jv ky kz la lb bi translated">齐伦的团队:这是我能看到的最高等级的解决方案，所以这里面有些东西。阅读顶级解决方案是一种享受</li><li id="0f9d" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://www.kaggle.com/sandeeppat/ltfs-top-3-5-kernel" rel="noopener ugc nofollow" target="_blank"> Sandeeppat </a>:非常详细的内核。他深入地谈论了他的特性工程和一个整洁干净的内核</li></ol><p id="72db" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">代码:</strong> <a class="ae lc" href="https://github.com/rvt123/AV-Datahack_LTFS_2019/blob/master/AV%20LTFS%20Article%20Codes.ipynb" rel="noopener ugc nofollow" target="_blank">代码文件</a></p><p id="2227" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">导入数据:【Hackathon最棒的地方在于，你不必收集数据，相比之下，你的个人项目需要花费大量时间和精力来收集数据。数据收集可能是一件有趣的事情，但并不总是如此。在这里，你必须解压训练数据，导入到熊猫数据框中。</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ln"><img src="../Images/fc9f3dbb72625307f027650db6eb6b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-5NDgGzH3Yvc9szicgRxhw.png"/></div></div></figure><p id="8318" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">特征工程</strong></p><p id="5a4e" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">前20名排名的差异背后的原因仅仅是运气，但前20名和前100/200名背后的原因是特征工程。特征工程并没有一个简单可靠的诀窍，人们在适当的时候会学到的。有些人创建一个功能来创建他们常用的特性，许多人根据竞争来创建动态特性，两种方法都一样好一个给速度，另一个给可定制性。在这里，我将展示一些几乎每个人都创建的功能，但有所不同，还有一些功能是用户独有的。</p><p id="de34" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 1。</strong> <strong class="ja hj">年龄</strong></p><p id="8c2c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">在我读到的每个解决方案中，这是最常见的特征</p><p id="f014" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">年龄计算为支付日期栏和出生日期栏之间的差值。</p><p id="adaf" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">大多数人都注意到了出生日期栏的小故障，你呢？</p><p id="9953" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">问题是熊猫把出生日期“01-01-74”读成了“01-01-2064”，而这个日期应该是“01-01-1964”。我将列出人们用来解决这个故障的不同方法:</p><p id="d840" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法一</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="18a6" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法二</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="ded1" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法三</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="3182" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法四</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="a762" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法五</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="6ba5" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 2。</strong> <strong class="ja hj">付款日期和出生日期</strong></p><p id="1efb" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">两者都是“日期”类型的格式，但是它们不能以它们现在的形式使用，所以最常用的方法是提取“月”、“日期”和“年”，但是也可以提取其他特征，例如“是月的开始、中间还是结束”、“日期中的某一天”、“一年中的某个季度”、“星期号”、“从1970年1月1日开始的绝对日期”。</p><p id="5da9" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法1(原始)</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="26c1" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法2(使用功能)</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="1902" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 3。</strong> <strong class="ja hj">从“平均帐龄”和“信用历史长度”中提取月份和年份</strong></p><p id="2d50" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">大多数人从列中提取“月”和“年”,但是有些人也为列计算“月的总时间”,但是很高兴看到每个人都以自己的方式这样做，有些人使用正则表达式，有些人使用split，有些人使用created used，所以您可以自由地使用您认为容易的方法。</p><p id="1d23" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法1 </strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="cecf" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法二</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="1197" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法三</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="17d5" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法四</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="0b1b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法五</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="e489" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法六</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="5140" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 4。</strong> <strong class="ja hj">执行CNS评分描述(局报告)</strong></p><p id="5ea8" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">不用看，这是一个重要的特征，人们使用不同的策略来减少类别的数量，我将尝试列出它们，你可以尝试所有的组合，并保留产生最佳结果的组合:</p><p id="23a8" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法一</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="9314" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法二</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="5bdf" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法三</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="cce8" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法四</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="dd25" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">方法五</strong></p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="0eba" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 5。</strong> <strong class="ja hj">执行CNS评分</strong></p><p id="0a4a" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">许多人保留了本列的值，但有些人试图使用“pd.cut”或“pd.qcut”来绑定值，但有些人也使用他们的定义来绑定变量。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="4c7b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 6。</strong> <strong class="ja hj">基于“一级账户”、“二级账户”、“ltv”、“已支付金额”的特性。</strong></p><p id="bc05" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">大多数人都使用基于主要账户、次要账户和支付金额组合的功能，我尝试收集了一些最常见的功能，您可以尝试一下，并选择适合您的功能。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="e6af" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 7。</strong> <strong class="ja hj">来自所有内核的一些独特特性:</strong></p><p id="2324" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">7.1特征——基于异常分支:</strong></p><p id="e33a" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">异常分支机构—跟踪分支机构，从这些分支机构开始，某些贷款得到批准，然后在远离该银行的展厅进行购买，甚至可能在不同的州或城市。如果一笔贷款得到分行的批准，可以通过查看通常的陈列室进行跟踪。在此列表中检测到的某些异常已经在此功能中进行了跟踪。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="2b23" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 7.2 </strong> <strong class="ja hj">未结清余额账户</strong></p><p id="a7e7" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">这背后的想法是，客户拥有的未结余额越多，他的可信度就越低。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="d502" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 7.3一次Def、二次Def、总Def和最近六个月的Def</strong></p><p id="c37b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">主要违约</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="6087" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">次级违约</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="242c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">完全违约</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="dd04" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">过去六个月的违约</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="31d2" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 8。由Groupby函数创建的特征:</strong></p><p id="224c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">这些类型的特性在黑客马拉松中被广泛使用，它们提供了很好的结果，但是有代价。代价是我们不知道哪个特征是好的还是坏的，除非我们训练一个模型并获得特征重要性，所以我们必须创建许多特征，然后对它们进行特征选择。这里我使用了Ziron团队创造的特性。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="10a5" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 9。</strong> <strong class="ja hj">支出金额中的异常值</strong></p><p id="2b57" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">人们经常忘记，准确性经常会因为一两个异常点而降低，我们过度拟合我们的模型以减少误差，这使得我们的模型对测试数据不太稳健，消除异常是必要的，但我只看到一个人这样做，甚至我忘记了这样做，向那个人致敬:</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es lo"><img src="../Images/5cd5ae48747fde42eb24a46ea2ed6e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*ZTGw_PH6iCttNme20UD7oQ.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">支出金额中的异常值</figcaption></figure><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="2645" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 10。</strong> <strong class="ja hj">雇佣类型中缺少值</strong></p><p id="1a2d" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">只有一列缺少值“雇佣类型”。几乎每个人都为缺失创建了一个新的类别，原因是缺失值并没有那么少需要填充。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="9ad4" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 11。</strong> <strong class="ja hj">缩放数据</strong></p><p id="0f7b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">进行缩放是因为我们具有高度变化的特征，并且因为大多数机器学习算法在其计算中使用两个数据点之间的欧几里德距离，所以我们需要将所有特征带到相同的幅度级别，但是只有少数内核实现了缩放。一些常用的缩放技术是标准缩放器、最小最大缩放器、鲁棒缩放器。但令我惊讶的是，其中一个内核使用了<a class="ae lc" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.quantile_transform.html" rel="noopener ugc nofollow" target="_blank">分位数变换</a>来缩放数据，这对我来说也是全新的。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="85ef" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">分位数定标器/转换器</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="69ab" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 12。采样</strong></p><p id="2d55" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">采样是为了解决不平衡类的问题。在这种情况下，属于一个类别的观察值的数量显著低于属于其他类别的观察值的数量。在这种情况下，使用传统机器学习算法开发的预测模型可能会有偏差和不准确。</p><ol class=""><li id="fab1" class="kr ks hi ja b jb jc jf jg jj li jn lj jr lk jv ky kz la lb bi translated"><a class="ae lc" href="https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.under_sampling.RandomUnderSampler.html" rel="noopener ugc nofollow" target="_blank">随机欠采样</a></li><li id="e5d1" class="kr ks hi ja b jb ld jf le jj lf jn lg jr lh jv ky kz la lb bi translated"><a class="ae lc" href="https://imbalanced-learn.readthedocs.io/en/stable/over_sampling.html" rel="noopener ugc nofollow" target="_blank">随机过采样</a></li></ol><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="3a9f" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">拆分数据</strong></p><p id="9201" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">根据选择，数据通常以75: 25或80:20的比例在训练和测试之间分割，这样做是为了我们可以在一个集合上训练我们的模型，并在另一个集合上测试它。</p><p id="cf3c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">大多数情况下，拆分是基于使用train_test_split实现的类来完成的:</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="6ce5" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">分层分裂</strong>:不使用类别标签作为分层，使用训练集和测试集之间的相似性作为分层的参数可能会给出更好的模型，考虑到该模型获得了关于训练集和测试集中的数据点有多相似/不相似的想法。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es lt"><img src="../Images/4c54084b22cad21808e3177d6892d806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXcj6MtwVim4HkoII2RI9w.png"/></div></div></figure><p id="e32d" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 14。训练模型:</strong></p><p id="a112" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">内核中最常用的模型是使用k重交叉验证的<a class="ae lc" href="https://tech.yandex.com/catboost/" rel="noopener ugc nofollow" target="_blank"> Catboost </a>和<a class="ae lc" href="https://lightgbm.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> LightGBM </a>。具有好的训练和测试分数并且训练和测试分数之间的差异不显著的模型被认为是好的模型。这里我展示了Ziron团队使用的训练方法，但是你可以根据你的喜好来训练你的模型。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="5f71" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 15。提交文件</strong></p><p id="a386" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">提交文件是对我们的模型进行评估的测试数据的输出，并根据评估指标给出分数，例如ROC曲线下面积、RMSE(均方根误差)、RMSLE(记录值的均方根)。投稿文件多为Excel或CSV文件。</p><figure class="in io ip iq fd ir"><div class="bz dy l di"><div class="ll lm l"/></div></figure></div></div>    
</body>
</html>