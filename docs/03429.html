<html>
<head>
<title>Exploratory Data Analysis Using Python for Poverty Prediction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python进行贫困预测的探索性数据分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploratory-data-analysis-using-python-for-poverty-predictions-5c5eb58a0940?source=collection_archive---------6-----------------------#2020-01-31">https://medium.com/analytics-vidhya/exploratory-data-analysis-using-python-for-poverty-predictions-5c5eb58a0940?source=collection_archive---------6-----------------------#2020-01-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/7ca3d47e4e51c5ef2e2df06799bc5448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Wi6sxa4obeURpUUsk6HGw.jpeg"/></div></div></figure><div class=""/><p id="b579" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据分析(EDA)是一种数据分析方法，它使用各种技术(主要是可视化技术)来最大限度地提高洞察力，揭示底层结构，检查异常值，测试关于数据的假设。通俗地说，就是让数据自己说话。这就是数据科学的美妙之处，人们可以让另一个人理解复杂的东西，而不必深究技术细节。</p><p id="0abb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据集可以在<a class="ae jo" href="https://www.kaggle.com/johnnyyiu/predicting-poverty" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/johnnyyiu/predicting-poverty</a>找到</p><p id="12bf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">项目使用的工具和技能:</strong></p><p id="3c18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">编程语言</strong> : Python</p><p id="fb1c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用的库: Matplotlib，Seaborn，Pandas，Numpy，SkLearn</p><p id="e49f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">使用的模型</strong>:集中趋势测量，多元线性回归</p><p id="6908" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该项目的目标是预测七个不同国家的个人贫困概率状况。对于给定的一套社会和经济指标，贫困线被定为每天2.50美元。该数据基于贫困概率指数，该指数使用家庭特征、他们持有的资产以及来自InterMedia调查的其他金融指标来预测个人处于贫困线以下的概率。在这里，我们的前进方向是理解贫困概率和归因于贫困的因素。</p><p id="0a37" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用了源文件中的两个CSV文件。贫困概率在第二份文件中单独给出。这与经济和社会指标文件合并在一起。接下来，我将数据集分为两部分——处于贫困线以下的概率大于或等于0.5的部分，以及低于贫困线的部分。对于我们的分析，它们可以被命名为可能性较小的组和可能性较大的组。</p><p id="0eaa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">项目的第一部分是根据某些变量将其分组。其中一个来源于上一段关于个人贫困概率的预测。另一个分组是根据研究对象的年龄进行的。在对变量进行了必要的删除操作后，开始使用Python Notebook对其进行分析。最初，seaborn库是为分析的图表而导入的。</p><p id="9221" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该项目追踪满足特定标准的个体数量，并从数量差异中进行推断。有必要了解造成贫困概率的各种因素之间的关系，然后回答这些问题。我们希望回答一些关于样本特征的具体问题，以及他们陷入贫困的可能性有多大。一旦处理了具有空值的列，布尔值就被转换成整数以便于计算。之后，使用描述性统计和可视化构建。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="7eb6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">回答了以下问题:</p><p id="0849" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.农村-城市/男性-女性中谁更有可能贫困？</p><p id="b12b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.文盲会导致更多的贫困吗？</p><p id="e621" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.前一年的哪一类就业导致了今年更多的预计贫困？</p><p id="694f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.哪种职业更有可能有储蓄？</p><p id="dd28" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.存钱的人哪种教育/文化水平更突出？</p><p id="8b04" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.借贷导致贫困的概率更大吗？</p><p id="3492" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.年龄和贫穷有什么关系吗？</p><p id="cb2e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.金融活动和贫困概率有关系吗？</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="aa78" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Python中的方法如下。</p><p id="e797" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">导入必要的库:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="5a79" class="kf kg ht kb b fi kh ki l kj kk">import pandas as pd, numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span></pre><p id="7186" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">合并数据集分析贫困概率与其他因素:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="f293" class="kf kg ht kb b fi kh ki l kj kk">df1 = pd.read_csv(“train_values.csv”)<br/>df2 = pd.read_csv(“train_labels.csv”)</span><span id="0760" class="kf kg ht kb b fi kl ki l kj kk">df = df1.merge(df2, on=’row_id’)</span></pre><p id="4267" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">删除包含许多空值的变量:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="bf7a" class="kf kg ht kb b fi kh ki l kj kk">df.isnull().sum()</span><span id="a0a9" class="kf kg ht kb b fi kl ki l kj kk">df.drop([‘bank_interest_rate’, ‘mm_interest_rate’, ‘mfi_interest_rate’, ‘other_fsp_interest_rate’], axis = 1)</span></pre><p id="640f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">将变量类型从布尔值更改为整数:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="03f9" class="kf kg ht kb b fi kh ki l kj kk">def df_converted(df, convert_from, convert_to):<br/> cols = df.select_dtypes(include=[convert_from]).columns<br/> for col in cols:<br/> df[col] = df[col].values.astype(convert_to)<br/> return df</span><span id="a025" class="kf kg ht kb b fi kl ki l kj kk">df = df_converted(df, np.bool, np.int64)</span></pre><p id="9285" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">如果概率大于或等于0.5，则创建取值为1的贫困条件，否则取值为0:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="a061" class="kf kg ht kb b fi kh ki l kj kk">df[‘Poverty_conditional’] = [1 if poverty_probability&gt;=0.5 <br/> else 0 for poverty_probability in df[‘poverty_probability’]]</span></pre><p id="6ddd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">根据定义创建年龄组:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="8328" class="kf kg ht kb b fi kh ki l kj kk">def age_grouping(data):<br/> age_condition = [<br/> (data[‘age’] &lt; 30 ),<br/> (data[‘age’] &gt;= 30) &amp; (data[‘age’] &lt; 45),<br/> (data[‘age’] &gt;= 45) &amp; (data[‘age’] &lt; 60),<br/> (data[‘age’] &gt;= 60)<br/> ]<br/> age_bins = [‘&lt; 30’, ’30 to 44', ’45 to 60', ‘&gt; 60’]<br/> data[‘age_group’] = np.select(age_condition, age_bins)</span><span id="4983" class="kf kg ht kb b fi kl ki l kj kk">age_grouping(df)</span></pre><p id="62a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">比较农村和城市空间的个人数量:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="66fa" class="kf kg ht kb b fi kh ki l kj kk">x = sns.countplot(x=”is_urban”, hue=”female”, data=df)</span></pre><p id="6b38" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">看看农村-城市/男性-女性中谁更有可能处于贫困状态:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="097b" class="kf kg ht kb b fi kh ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”female”, col=”Poverty_conditional”, data = df, kind=”count”, height=4, aspect=.7)</span></pre><p id="ff5f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">找出识字率和贫困概率之间的数字:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="0de4" class="kf kg ht kb b fi kh ki l kj kk">g = sns.countplot(x=”is_urban”, hue=”literacy”, data=df)</span><span id="73db" class="kf kg ht kb b fi kl ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”literacy”, col=”Poverty_conditional”, data = df, kind=”count”, height=8, aspect=1)</span></pre><p id="9dc8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">对个人进行分组，如果他们有任何正式或非正式的储蓄:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="643e" class="kf kg ht kb b fi kh ki l kj kk">def f(row):<br/>if row[‘formal_savings’] == 1:<br/>sav = 1<br/>elif row[‘informal_savings’] == 1:<br/>sav = 1<br/>else:<br/>sav = 0<br/>return sav</span><span id="46d3" class="kf kg ht kb b fi kl ki l kj kk">df[‘sav’] = df.apply(f, axis=1)</span></pre><p id="2302" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">找出以前的就业类别中谁更有可能陷入贫困(储蓄不同):</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="2729" class="kf kg ht kb b fi kh ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”employment_category_last_year”, col=”Poverty_conditional”, data = df, kind=”count”, height=10, aspect=1)</span><span id="3a58" class="kf kg ht kb b fi kl ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”employment_category_last_year”, col=”sav”, data = df, kind=”count”, height=10, aspect=1)</span></pre><p id="fa58" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">教育与贫困的关系:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="ea9c" class="kf kg ht kb b fi kh ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”education_level”, col=”sav”, data = df, kind=”count”, height=10, aspect=1)</span></pre><p id="6bc9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">为他们是否以任何形式借款创建变量:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="c91c" class="kf kg ht kb b fi kh ki l kj kk">def d(row):</span><span id="1f35" class="kf kg ht kb b fi kl ki l kj kk">if row[‘borrowed_for_emergency_last_year’] == 1:<br/>borrowed = 1<br/>elif row[‘borrowed_for_daily_expenses_last_year’] == 1:<br/>borrowed = 1<br/>elif row[‘borrowed_for_home_or_biz_last_year’] == 1:<br/>borrowed = 1<br/>else:<br/>borrowed = 0</span><span id="7d54" class="kf kg ht kb b fi kl ki l kj kk">return borrowed</span><span id="99b1" class="kf kg ht kb b fi kl ki l kj kk">df[‘borrowed’] = df.apply(d, axis=1)</span><span id="cd0c" class="kf kg ht kb b fi kl ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”borrowed”, col=”Poverty_conditional”, data = df, kind=”count”, height=10, aspect=1)</span></pre><p id="bbe4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">年龄与贫困的关系:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="d1e3" class="kf kg ht kb b fi kh ki l kj kk">g = sns.catplot(x=”is_urban”, hue=”age_group”, col=”Poverty_conditional”, data = df, kind=”count”, height=10, aspect=1)</span></pre><p id="21f9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">发现年龄对贫困概率的影响:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="6da8" class="kf kg ht kb b fi kh ki l kj kk">from statsmodels.formula.api import ols</span><span id="e024" class="kf kg ht kb b fi kl ki l kj kk">model = ols(‘poverty_probability ~ age + C(female)’, data=df)<br/>fitted_model = model.fit()<br/>fitted_model.summary()</span></pre><p id="7761" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">金融活动与贫困概率的关系:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="0fe1" class="kf kg ht kb b fi kh ki l kj kk">num_cols = [‘age’, ‘num_financial_activities_last_year’, ‘poverty_probability’]</span><span id="0d9a" class="kf kg ht kb b fi kl ki l kj kk">sns.set(style=”darkgrid”)<br/>sns.pairplot(df[num_cols])</span></pre><p id="732e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">绘制关联热图:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="8e8f" class="kf kg ht kb b fi kh ki l kj kk">plt.figure(figsize=(15,12))<br/>sns.heatmap(df[num_cols].corr(),annot=True,cmap=’RdBu_r’)<br/>plt.title(“Correlation”)</span><span id="d6b8" class="kf kg ht kb b fi kl ki l kj kk">plt.show()</span></pre><p id="19e1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">以往金融活动与贫困概率的关系:</strong></p><pre class="jw jx jy jz fd ka kb kc kd aw ke bi"><span id="3ab4" class="kf kg ht kb b fi kh ki l kj kk">num_cols = [‘age’, ‘num_financial_activities_last_year’, ‘poverty_probability’]</span><span id="05a8" class="kf kg ht kb b fi kl ki l kj kk">sns.set(style=”darkgrid”)<br/>sns.pairplot(df[num_cols])</span><span id="068e" class="kf kg ht kb b fi kl ki l kj kk">plt.figure(figsize=(5,2))<br/>sns.heatmap(df[num_cols].corr(),annot=True,cmap=’RdBu_r’)<br/>plt.title(“Correlation”)<br/>plt.show()</span></pre></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="4289" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为研究的总结，我们讨论了这些陈述的答案:在数据集中，城市个体的数量几乎是农村个体的两倍。农村居民比城市居民更容易陷入贫困。对于那些不太可能陷入贫困的人来说，农村和城市的数字是相当的。在农村和城市地区，不识字的人更有可能陷入贫困。根据数据集，去年就业的个人更有可能处于贫困状态。退休人员和残疾人不太可能陷入贫困。农村家庭比城市个人更有可能拥有任何形式的正式或非正式储蓄。在储蓄者中，1.0和2.0的教育水平比其他人更突出。农村文盲非常容易陷入贫困。借了款的个人，穷的概率更小。女性比男性更容易陷入贫困。年轻人更有可能处于贫困状态。此外，随着年龄的增长，金融活动的数量会减少。</p><p id="6684" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于这项研究的进一步前景，可以采用梯度推进和交叉验证的回归模型。可以部署特征工程来建立一个模型，正确预测贫困概率。当贫困预测正确时，政府和决策者可以很容易地确定目标群体。可以在他们的教育、金融工具和能力的可获得性、创收活动以及他们的社会经济意识和可能性等领域采取适当措施。</p></div></div>    
</body>
</html>