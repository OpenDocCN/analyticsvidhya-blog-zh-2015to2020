# 纽约绿色出租车分析

> 原文：<https://medium.com/analytics-vidhya/nyc-green-taxi-analysis-da20c5ab1e1e?source=collection_archive---------14----------------------->

![](img/cba6416dd59cc7ab5118a995d9f536a8.png)

在我的空闲时间，我拿了纽约市 2015 年的绿色出租车数据，看看我可以使用机器学习向绿色出租车司机提供什么建议。因此，为了了解更多关于数据背景的信息&有哪些可供下载的潜在选项，我访问了 [NYC OpenData](https://data.cityofnewyork.us/Transportation/2015-Green-Taxi-Trip-Data/gi8d-wdg5) 网站，获取 2015 年绿色出租车出行数据。使用 Python 完成的分析&代码可以在我的 [Github repo](https://github.com/rachitagrwl/nyc_green_taxi) 上找到。

**关于数据集**

完整的 2015 年绿色出租车数据由 1980 万行 21 列组成。它包括 2015 年纽约市所有绿色出租车的出行记录。记录包括捕捉接送日期/时间、接送位置、行程距离、分项费用、费率类型、支付类型和驾驶员报告的乘客计数的字段。

**问题处理**

我将问题分成三个阶段:

*   数据采集和争论
*   探索性数据分析
*   预测建模

*让我们依次详细了解所有 3 个阶段*

**数据采集&扯皮**

通过从[网站](https://data.cityofnewyork.us/api/views/gi8d-wdg5/rows.csv?accessType=DOWNLOAD&bom=true&format=true&delimiter=%3B)下载 2015 年的 CSV 获取数据。浏览了&下载的纽约分区数据 [opendatasoft](https://public.opendatasoft.com/explore/dataset/us-zip-code-latitude-and-longitude/table/?refine.state=NY) 。*或者*:也可以通过 API 的请求提取数据。

*数据清理:*

*   从数据中删除空值，因为 Ehail_fee 具有 100%的空值。

![](img/55f563fff606a86006adf24b50b92f2f.png)

装货和卸货纬度和经度箱线图

*   上图中的箱线图显示了在我们的案例中，接送坐标如何出现异常情况，即其中一个接送位置靠近英国。

![](img/dc88256cfc411a16008648dac3de6816.png)

行程距离箱线图

*   上面的方框图显示了行程距离的分布。通常，客户倾向于选择短距离，因此去除异常值会降低数据的偏斜度。

*特色工程*:

*   将收件时间从 12 小时格式转换为 24 小时格式，并开发了新的列日期和时间。
*   开发了新的功能坐标，包括两个数据表中的纬度和经度，以便可以有效地映射，而不是在两列上搜索。
*   来自两个数据集的组合坐标将 NYC 州划分为不同的城市。

**探索性数据分析**

*数据分布*:

![](img/e4bd4bdbbf99e95931bd5beb1cd0ab58.png)

条形图显示了数据在不同类别中的分布

*   第一个条形图表明，两个供应商提供绿色驾驶室，第二个供应商在市场上占主导地位。
*   第二和第三张图表显示，通常乘客倾向于独自旅行，其次是两人或一组&通常客户旅行时乘坐标准票价类别。

*行程探索:*

![](img/634381d5558f2ed4b91255ad2e6a79fd.png)

Trips 探索条形图

*   清理数据集后，我们可以说，通常情况下，客户不倾向于在出租车上进行更长的旅程。
*   如果我们按小时分析旅行距离的模式，那么我们可以清楚地看到，在清晨或下班后，客户会进行长途旅行，这可能是客户前往机场的潜在假设。

*取货&落货模式:*

![](img/d4619e1a2d5cedd24e246a62e9a9d5b3.png)

装货和卸货散点图

*   上面的接送模式显示了人们前往市中心地区。
*   可能游客倾向于从机场出发，喜欢在纽约最有吸引力的景点下飞机。虽然绿色出租车不允许在市区内搭载乘客。
*   或者员工从各自家里乘出租车去布鲁克林附近的海湾地区。

**预测建模**

在问题陈述的这一阶段，我建立了一个无监督的预测模型，为纽约绿色出租车司机提供建议，司机可以选择哪些潜在区域，甚至不会影响司机在现阶段的收入。

*为防止出现任何内存问题，仅加载整个数据集 20%的随机群体后。执行与上述类似的数据清理过程，以获得用于构建模型的最终数据。*

![](img/fc58f19a4842b0d693ee00849e18be94.png)

K 均值的数据建模

根据一天中分布的接送人数对纽约州的城市进行了分组，细分为 24 个时段。由此，我们可以开发集群&查看哪些城市被分组在一起，这样，如果任何司机想要改变其工作地点，他/她都可以。

NYC 州每个城市的皮卡总数有不同的计数，因此需要将计数标准化以获得无偏的结果。

![](img/cdd5a491a967be60d20bb533a3457883.png)

K 均值的缩放数据

使用标准化技术(值/总计)对其进行缩放。

*K-Means 模型构建:*

![](img/d2709b01c99328936c8fd908ae34bcf5.png)

在纽约市，我们有 35 个区，我只是用 10 个集群来划分 95 个城市。如果我能把纽约各州分成几个部分，我会做得更好，但我找不到任何相关的数据源来绘制地图。

**推荐**

![](img/695445d5b6e465bb94b7c2cf12cd7d95.png)

*   一个重要的因素，司机可以考虑，如果他/她想移动到不同的位置。

*供应商 iD |乘客数量|行程距离|车费金额|小费金额|总金额。*

*   伍德黑文属于第 0 类，第 0 类也有 57 个其他城市，但如果按总取货量和总取货次数过滤，我们只剩下 8 个其他城市。

*因此，在伍德黑文&驾驶 253 皮卡的司机每次旅行可以赚 17 美元，他/她的收入也可以在其他 8 个城市驾驶，而不会受到影响。*

**未来工作**

对于未来的工作，可以插入额外的数据集，如纽约市的天气，以进一步预测特定城市或地区的激增，这可以使绿色出租车司机受益。