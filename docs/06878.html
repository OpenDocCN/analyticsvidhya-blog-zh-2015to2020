<html>
<head>
<title>Introduction to Natural Language Processing library: TextBlob</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言处理库简介:TextBlob</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-natural-language-processing-library-textblob-175dbfd6a315?source=collection_archive---------20-----------------------#2020-06-05">https://medium.com/analytics-vidhya/introduction-to-natural-language-processing-library-textblob-175dbfd6a315?source=collection_archive---------20-----------------------#2020-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/aa0ae39af270e051947ae672e1b05f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fbb2oCPxQgE8hlEg5fgKOA.png"/></div></div></figure><p id="3541" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo"> TextBlob </em>是一个用于处理文本数据的Python库。它有一堆很酷的东西，可以帮助分析和理解python中的文本数据。</p><p id="5cad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Textblob是任何NLP爱好者都应该开始使用的库。它提供了简单的API，用于处理常见的自然语言处理(NLP)任务，例如</p><ul class=""><li id="5c4a" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">词性标注</li><li id="80b8" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">名词短语抽取</li><li id="3a99" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">情感分析</li><li id="ac4b" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">分类</li><li id="37d9" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated">翻译，等等</li></ul><figure class="kd ke kf kg fd ij"><div class="bz dy l di"><div class="kh ki l"/></div><figcaption class="kj kk et er es kl km bd b be z dx translated"><a class="ae kn" href="https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA/" rel="noopener ugc nofollow" target="_blank">T3】TeachOpediaT5】</a></figcaption></figure><h2 id="67d6" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jb kz la lb jf lc ld le jj lf lg lh li bi translated">装置</h2><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="1819" class="ko kp hi lk b fi lo lp l lq lr">pip install textblob</span></pre><h2 id="c26d" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jb kz la lb jf lc ld le jj lf lg lh li bi translated">导入Textblob库</h2><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="2ff4" class="ko kp hi lk b fi lo lp l lq lr">from textblob import TextBlob</span></pre><p id="42e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将创建一个Textblob对象，然后将数据作为输入传递，我们希望使用它进行分析。</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="4f48" class="ko kp hi lk b fi lo lp l lq lr">test_sent = TextBlob("Data science projects have several steps to follow and for continuity, these steps should flow together. Without a systematic work flow, it is very easy to get lost in one of these steps. In industry, when people think that they finished a project, they often struggle to bring the project to full operational support as they have failed to consider these life cycle steps. This is a common, but serious one resulting from people who do not know or appreciate the meaning of the term, production ready.")</span><span id="d1fb" class="ko kp hi lk b fi ls lp l lq lr">print(type(test_sent)) #print type of the sentence</span></pre><p id="c7af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">打印textblob对象中的所有句子</strong></p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="f18c" class="ko kp hi lk b fi lo lp l lq lr">print(test_sent.sentences)</span></pre><p id="42da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们打印出每个句子的所有单词</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="191d" class="ko kp hi lk b fi lo lp l lq lr">for sentence in test_sent.sentences:  #get all sentences<br/>    print(sentence)<br/>    for word in sentence.words: # printing words of each sentence<br/>        print (word)    <br/>    print()</span></pre><p id="73b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">现在，我们将为每个单词打印标签</strong></p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="0045" class="ko kp hi lk b fi lo lp l lq lr">for words, tag in test_sent.tags:<br/>    print (words, tag)</span></pre><p id="3467" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">打印名词</strong></p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="4ef2" class="ko kp hi lk b fi lo lp l lq lr">nouns = list()<br/>for word, tag in test_sent.tags:<br/>    if tag == 'NN':  <br/>        #print(word)<br/>        if (word not in nouns):<br/>            nouns.append(word)<br/>print(nouns)</span></pre><p id="93bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用名词，我们也可以确定我们的文本的上下文</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="ea90" class="ko kp hi lk b fi lo lp l lq lr"># we are using random library to pick random words from noun list <br/>import random</span><span id="bea7" class="ko kp hi lk b fi ls lp l lq lr">print ("This text is about...")<br/>for item in random.sample(nouns, 2):<br/>    print (item)</span></pre><h1 id="d404" class="lt kp hi bd kq lu lv lw ku lx ly lz ky ma mb mc lb md me mf le mg mh mi lh mj bi translated">句子修正</h1><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="347f" class="ko kp hi lk b fi lo lp l lq lr">sample = TextBlob('I lke the movie but it was a bit lngthy.')<br/># correct() method will correct every word which are wrong written <br/>print(sample.correct()) <br/># we can also check spelling by specifying word by its index<br/>print(sample.words[9].spellcheck())</span></pre><h1 id="d94a" class="lt kp hi bd kq lu lv lw ku lx ly lz ky ma mb mc lb md me mf le mg mh mi lh mj bi translated">分析新闻文章</h1><p id="fdea" class="pw-post-body-paragraph iq ir hi is b it mk iv iw ix ml iz ja jb mm jd je jf mn jh ji jj mo jl jm jn hb bi translated">在下面的代码中，我选取了一篇与新冠肺炎有关的文章，我们将使用这篇文章的文本进行分析</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="99a7" class="ko kp hi lk b fi lo lp l lq lr">article = '''<br/>The Trump administration has selected five companies, including Moderna, AstraZeneca Plc and Pfizer, as the most likely candidates to produce a vaccine for the novel coronavirus, the New York Times reported on Wednesday, citing senior officials.<br/>The other two companies are Johnson &amp; Johnson and Merck &amp; Co, according to the paper.<br/>The selected companies will get access to additional government funds, help in running clinical trials, and financial and logistical support, the paper reported.<br/>There is no approved vaccine for COVID-19 caused by the new coronavirus.<br/>The report did not mention potential vaccines from French drugmaker Sanofi, Novavax Inc and Inovio Pharmaceuticals Inc – among the more than 100 in development globally.<br/>It was not immediately clear if Wednesday’s move had any impact on those programs.<br/>The announcement of the decision will be made at the White House in the next few weeks, according to the report.<br/>The White House did not immediately respond to a request for comment.<br/>“We cannot comment on information that is market-moving,” a U.S. Department of Health and Human Services official said.<br/>The companies on the list are the farthest along in developing a vaccine and have significant manufacturing capacity.<br/>The United States is planning massive clinical trials involving 100,000 to 150,000 volunteers in total, with the goal of delivering an effective vaccine by the end of this year.<br/>To make that deadline, the government aims to start mid-stage testing in July.<br/>The first two vaccines to start that trial would likely be from Moderna and the AstraZeneca/Oxford University combination, the National Institutes of Health Director Dr. Francis Collins told Reuters in an interview last month. He also said he expected vaccine candidates from J&amp;J and Merck to eventually join the trial effort.<br/>None of the companies were immediately available for comment.<br/>'''<br/>news_text = TextBlob(article)</span></pre><p id="bd7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">收集新闻文章中出现的所有名词并保存在一个列表中</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="b893" class="ko kp hi lk b fi lo lp l lq lr">nouns = list()<br/>for word, tag in news_text.tags:<br/>    if tag == 'NN':  <br/>        #print(word)<br/>        #if (word not in nouns):<br/>        nouns.append(word.lemmatize())<br/>print(nouns)</span></pre><p id="4603" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们使用我们的名词列表来理解句子的上下文，这段代码的输出在每次运行时都会不同，因为我们使用的是随机库</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="1e56" class="ko kp hi lk b fi lo lp l lq lr"># we are using random library to pick random words from noun list<br/>print ("This text is about…")<br/> for item in random.sample(nouns, 5):<br/>     print (item)</span></pre><p id="a1a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了理解句子的上下文，我们还可以使用集合库，并基于单词的出现(即计数)来识别文本的上下文</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="00f5" class="ko kp hi lk b fi lo lp l lq lr">from collections import Counter</span><span id="94b1" class="ko kp hi lk b fi ls lp l lq lr">counts = Counter(nouns)<br/># print the count of each word that are in our noun list<br/>print(counts)</span><span id="a6b6" class="ko kp hi lk b fi ls lp l lq lr">sorted_nouns = sorted(counts, key=counts.get, reverse=True) #sorting<br/>top_nouns = sorted_nouns[0:5] #picking top 5 words<br/>for item in top_nouns:    <br/>    print (item)</span><span id="b8b3" class="ko kp hi lk b fi ls lp l lq lr"># output<br/>vaccine<br/>coronavirus<br/>paper<br/>government<br/>report</span></pre><p id="1e00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基于输出，我们可以很容易地理解这篇文章背后的背景，因为它涉及冠状病毒，其疫苗和报告</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="5f01" class="ko kp hi lk b fi lo lp l lq lr"># Another way of printing<br/>print(counts.most_common(5))</span></pre><h1 id="ae1b" class="lt kp hi bd kq lu lv lw ku lx ly lz ky ma mb mc lb md me mf le mg mh mi lh mj bi translated">翻译</h1><p id="0b1e" class="pw-post-body-paragraph iq ir hi is b it mk iv iw ix ml iz ja jb mm jd je jf mn jh ji jj mo jl jm jn hb bi translated">我们可以使用translate()方法来翻译我们的母语，我将把我们的test_sent转换成乌尔都语</p><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="855c" class="ko kp hi lk b fi lo lp l lq lr">print(test_sent)<br/>print(test_sent.translate(to='ur'))</span></pre><h2 id="7ddd" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jb kz la lb jf lc ld le jj lf lg lh li bi translated">将文本从乌尔都语转换为英语</h2><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="2796" class="ko kp hi lk b fi lo lp l lq lr">test_sent= test_sent.translate(to='ur')<br/>print(test_sent)<br/>test_sent = test_sent.translate(from_lang="ur", to='en')<br/>print(test_sent)</span><span id="9091" class="ko kp hi lk b fi ls lp l lq lr"># detect language</span><span id="c8d0" class="ko kp hi lk b fi ls lp l lq lr">print(urdu_blob.detect_language())</span></pre><h1 id="c10c" class="lt kp hi bd kq lu lv lw ku lx ly lz ky ma mb mc lb md me mf le mg mh mi lh mj bi translated">情感分析</h1><pre class="kd ke kf kg fd lj lk ll lm aw ln bi"><span id="d294" class="ko kp hi lk b fi lo lp l lq lr">text = '''<br/>Movie plot was not bad but actors performance was worst.<br/>But I love the song<br/>'''</span><span id="5fee" class="ko kp hi lk b fi ls lp l lq lr">blob = TextBlob(text)<br/>print(blob.tags)           #  [('threat', 'NN'), ('of', 'IN'), ...]</span><span id="4be6" class="ko kp hi lk b fi ls lp l lq lr">print(blob.noun_phrases)   # WordList(['titular threat', 'blob',<br/>                           #            'ultimate movie monster',<br/>                           #            'amoeba-like mass', ...])</span><span id="d2fc" class="ko kp hi lk b fi ls lp l lq lr">for sentence in blob.sentences:<br/>    print(sentence)<br/>    pol= sentence.sentiment.polarity<br/>    print((pol))</span></pre><p id="056e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Textblob是一个了不起的工具，它使NLP更容易、更快地理解它的概念。</p><p id="00ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有兴趣了解情感分析，请查看该资源。<a class="ae kn" href="https://neptune.ai/blog/sentiment-analysis-python-textblob-vs-vader-vs-flair" rel="noopener ugc nofollow" target="_blank"><em class="jo">https://Neptune . ai/blog/情操-分析-python-text blob-vs-Vader-vs-flair</em></a></p><p id="f80f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就到了本文的结尾。为了探索这个库的更多功能，请访问这个<a class="ae kn" href="http://textblob.readthedocs.io/en/dev/quickstart.html" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><blockquote class="mp mq mr"><p id="369d" class="iq ir jo is b it iu iv iw ix iy iz ja ms jc jd je mt jg jh ji mu jk jl jm jn hb bi translated">完整代码可以从我的github下载；<br/><a class="ae kn" href="https://github.com/uzairaj/TextBlob" rel="noopener ugc nofollow" target="_blank">https://github.com/uzairaj/TextBlob</a></p><p id="3b15" class="iq ir jo is b it iu iv iw ix iy iz ja ms jc jd je mt jg jh ji mu jk jl jm jn hb bi translated">在我的网站和YouTube频道查看更多博客<br/><a class="ae kn" href="http://uzairadamjee.com/blog" rel="noopener ugc nofollow" target="_blank">http://uzairadamjee.com/blog</a><br/><a class="ae kn" href="https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA</a></p></blockquote><p id="f026" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">感谢您的阅读！</strong></p></div></div>    
</body>
</html>