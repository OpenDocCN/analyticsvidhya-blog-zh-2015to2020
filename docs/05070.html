<html>
<head>
<title>Flask Route — A Complete Overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">烧瓶路线—完整概述</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/flask-route-a-complete-overview-d66065bfa867?source=collection_archive---------9-----------------------#2020-04-10">https://medium.com/analytics-vidhya/flask-route-a-complete-overview-d66065bfa867?source=collection_archive---------9-----------------------#2020-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/ce0225eefbbacef6ff37ebbe8757d067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zpz4wofT5ddKSO3RTV4Ahw.jpeg"/></div></div></figure><div class=""/><p id="8456" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在有各种各样的<a class="ae jo" href="https://wiki.python.org/moin/WebFrameworks" rel="noopener ugc nofollow" target="_blank"> Python web框架</a>，而<a class="ae jo" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>就是其中之一，但是我们应该考虑到它不是一个完整的web框架。它是基于<a class="ae jo" href="https://werkzeug.palletsprojects.com/en/1.0.x/" rel="noopener ugc nofollow" target="_blank"><em class="jp">Werkzeug</em></a><em class="jp">，</em><a class="ae jo" href="https://jinja.palletsprojects.com/en/2.11.x/" rel="noopener ugc nofollow" target="_blank"><em class="jp">Jinja 2</em></a><em class="jp">的一个用于Python的微框架。“T20”包括一个内置的开发服务器，单元测试支持，并且完全支持Unicode，具有<a class="ae jo" href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="noopener ugc nofollow" target="_blank"> RESTful </a>请求调度和<a class="ae jo" href="https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface" rel="noopener ugc nofollow" target="_blank"> WSGI兼容性</a>。</em></p><p id="3226" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我将有一个Flask routes模块的概述，我假设你已经在你的计算机上安装了Python和Flask。如果没有，请按照本说明中的<a class="ae jo" href="https://flask.palletsprojects.com/en/1.1.x/installation/" rel="noopener ugc nofollow" target="_blank">操作。</a></p><h1 id="2b2b" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">路线介绍</h1><p id="4c7b" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">首先，我们应该进口烧瓶。<code class="du kt ku kv kw b">app</code>将等于flask，你传入模块的名称，然后你使用decorator应用程序来指定你想要为哪个路径编写代码。所以在这种情况下，我想为索引编写代码。我只需要指定斜线，然后在装饰器下面添加一个函数。我们通常以路线命名函数，如果路线被满足，该函数负责执行期望的任务。</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="0992" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask<br/>app = Flask(__name__)</span><span id="c1a2" class="lf jr ht kw b fi lk lh l li lj">@app.route('/')<br/>def index():<br/>    return '&lt;h1&gt;Hello, World!&lt;/h1&gt;'</span><span id="aaff" class="lf jr ht kw b fi lk lh l li lj">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><p id="b332" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果将是这样的:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div class="er es ll"><img src="../Images/79aadcb0fb162901d15b9754ea2e1ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/0*ATV3RsUrsdtxOLy-.jpg"/></div></figure><p id="1dab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过这种方法，我们可以创建自定义路线。例如，回家的路线将是这样的:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="dc35" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask<br/>app = Flask(__name__)</span><span id="7709" class="lf jr ht kw b fi lk lh l li lj">@app.route('/')<br/>def index():<br/>    return '&lt;h1&gt;Hello, World!&lt;/h1&gt;'</span><span id="1a5c" class="lf jr ht kw b fi lk lh l li lj">@app.route('/home')<br/>def home():<br/>    return '&lt;h1&gt;You are on the home page!&lt;/h1&gt;'</span><span id="fd2a" class="lf jr ht kw b fi lk lh l li lj">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><p id="df99" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面两个例子中，我们都在函数中返回了字符串。我们也能够返回<code class="du kt ku kv kw b">Json</code>。为此，我们应该导入<code class="du kt ku kv kw b">jsonify</code>，并传递一个字典作为它的参数。像这样:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="0b8f" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask<br/>app = Flask(__name__)</span><span id="5261" class="lf jr ht kw b fi lk lh l li lj">@app.route('/')<br/>def index():<br/>    return '&lt;h1&gt;Hello, World!&lt;/h1&gt;'</span><span id="dc81" class="lf jr ht kw b fi lk lh l li lj">@app.route('/home')<br/>def home():<br/>    return '&lt;h1&gt;You are on the home page!&lt;/h1&gt;'</span><span id="ef30" class="lf jr ht kw b fi lk lh l li lj">@app.route('/json')<br/>def json():<br/>    return jsonify({'key' : 'value', 'listkey' : [1,2,3]})</span><span id="6a0a" class="lf jr ht kw b fi lk lh l li lj">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><p id="e1f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出会是这样的:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/accadc9a7c28f52b988d8a4c884efada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tI6P5ucFKRh5uNsS.jpg"/></div></div></figure><h1 id="015f" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">路由方法</h1><p id="7b87" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">默认情况下，由app route decorator创建的端点仅用于GET请求。为了支持POST请求，我们应该在路由参数中定义它:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="5930" class="lf jr ht kw b fi lg lh l li lj">@app.route('/home', methods=['POST', 'GET'])<br/>def home():<br/>    return '&lt;h1&gt;You are on the home page!&lt;/h1&gt;'</span></pre><h1 id="2f05" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">路线变量</h1><p id="90af" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">web应用程序的一个典型特征是允许用户传递自定义信息，为此，方法之一是在URL本身中传递变量。例如，我将向home route添加一个名称变量，并通过format方法打印它。需要注意的是，home route旁边的变量名和函数的自变量应该相等:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="68e6" class="lf jr ht kw b fi lg lh l li lj">@app.route('/home/&lt;firstname&gt;', methods=['POST', 'GET'])<br/>def home(firstname):<br/>    return '&lt;h1&gt;Hello {}, you are on the home page!&lt;/h1&gt;'.format(firstname)</span></pre><p id="65e3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们还应该为变量定义另一个具有默认值的路由，以防用户不输入任何值而只请求home URL。我们也可以在我为<code class="du kt ku kv kw b">firstname</code>设置字符串时定义变量的类型。这意味着名字应该是字符串，否则将出现错误:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="aac5" class="lf jr ht kw b fi lg lh l li lj">@app.route('/home', methods=['POST', 'GET'], defaults={'firstname' : 'Meissam'})<br/>@app.route('/home/&lt;string:firstname&gt;', methods=['POST', 'GET'])<br/>def home(name):<br/>    return '&lt;h1&gt;Hello {}, you are on the home page!&lt;/h1&gt;'.format(name)</span></pre><p id="cfc7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出是:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div class="er es ln"><img src="../Images/751bd1f5ddbfa7823f4da5b950ae56ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*KSyJTy3NLkRAHGgN.jpg"/></div></figure><h1 id="7ea8" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">请求Flask路由中的查询字符串</h1><p id="af6e" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">除了构建URL，还有其他方法将数据传入应用程序。接下来，我们将看看如何使用查询字符串传递数据。首先，我们应该从Flask导入请求组件:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="8f94" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask, jsonify, request</span></pre><p id="cf3b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我将创建一个路由来处理从带有<code class="du kt ku kv kw b">request.args</code>的查询字符串中获取数据:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="ce16" class="lf jr ht kw b fi lg lh l li lj">@app.route('/query')<br/>def query():<br/>    firstname = request.args.get('firstname')<br/>    job = request.args.get('job')<br/>    return '&lt;h1&gt;Hi {}. You are a/an {}. You are on the query page!&lt;/h1&gt;'.format(firstname, job)</span></pre><p id="09b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出将是:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/c569ef6d7739a048d57ada924735626d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wAoQcNwJeAj0WE9o.jpg"/></div></div></figure><h1 id="3b81" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">请求Flask Route中的表单数据</h1><p id="77f7" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">我将向您展示如何创建一个表单，以及如何将其数据发送到另一个路径。为此，我将创建一个名为<code class="du kt ku kv kw b">myform</code>的路由，然后将其数据提交给<code class="du kt ku kv kw b">processform</code>路由。请考虑，就像我们在上面学到的处理查询字符串一样，这一部分也需要导入“请求”组件并使用<code class="du kt ku kv kw b">request.form</code>:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="b1ee" class="lf jr ht kw b fi lg lh l li lj">@app.route('/myform')<br/>def myform():<br/>    return '''&lt;form method="POST" action="/processform"&gt;<br/>              &lt;input type="text" name="firstname"&gt;<br/>              &lt;input type="text" name="job"&gt;<br/>              &lt;input type="submit" value="Submit"&gt;<br/>              &lt;/form&gt;'''</span><span id="18d2" class="lf jr ht kw b fi lk lh l li lj">@app.route('/processform', methods=['POST'])<br/>def processform():<br/>    firstname = request.form['firstname']<br/>    job = request.form['job']<br/>    return '&lt;h1&gt;Hello {}. You are a/an {}. You have submitted the form successfully!&lt;h1&gt;'.format(firstname, job)</span></pre><p id="00d2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果将是:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div class="er es lp"><img src="../Images/7785d77b0e585439bbd168bc1f27cab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*dilQi67Xz_hG9Sc0.jpg"/></div></figure><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lq"><img src="../Images/870a7e56b6eb03a6d388114528dba365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Sw82UPB2f0N1Z84h.jpg"/></div></div></figure><p id="0788" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的例子中，我们使用<code class="du kt ku kv kw b">processform</code>来处理我们的数据。我们可以对表单表示和处理数据使用相同的方法。我们可以通过改变<code class="du kt ku kv kw b">myform</code>功能并使用一个简单的条件来实现:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="8b0c" class="lf jr ht kw b fi lg lh l li lj">@app.route('/myform', methods=['GET', 'POST'])<br/>def myform():<br/>    if request.method == 'GET':<br/>        return '''&lt;form method="POST" action="/myform"&gt;<br/>              &lt;input type="text" name="firstname"&gt;<br/>              &lt;input type="text" name="job"&gt;<br/>              &lt;input type="submit" value="Submit"&gt;<br/>              &lt;/form&gt;'''<br/>    else:<br/>         firstname = request.form['firstname']<br/>         job = request.form['job']<br/>         return '&lt;h1&gt;Hello {}. You are a/an {}. You have submitted the form successfully!&lt;h1&gt;'.format(firstname, job)</span></pre><p id="5c37" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请考虑我们将表单中<code class="du kt ku kv kw b">action</code>属性的值更改为<code class="du kt ku kv kw b">myform</code>。虽然提到的模式是方便的，另一种模式是用不同的方法使用相同的路线，我不演示它。</p><h1 id="e647" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">请求Flask路由中的JSON数据</h1><p id="dc53" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">还有一种方法可以将请求数据传递给flask应用程序，那就是使用Json对象。我要再次使用<code class="du kt ku kv kw b">jsonify</code>和<code class="du kt ku kv kw b">request</code>组件。首先，我将使用POST方法创建一个名为<code class="du kt ku kv kw b">processjson</code>的新路径。那么我们应该使用<code class="du kt ku kv kw b">get_json</code>方法请求对象:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="5af6" class="lf jr ht kw b fi lg lh l li lj">@app.route('/processjson', methods=['POST'])<br/>def processjson():<br/>    data = request.get_json()<br/>    firstname = data['firstname']<br/>    job = data['job']<br/>    mylist = data['mylist']<br/>    return jsonify({'result' : 'Success!',<br/>                    'firstname' : firstname,<br/>                    'job' : job,<br/>                    'mylist' : mylist})</span></pre><p id="db2a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了演示输出，我将使用Postman向我的应用程序创建一个请求:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lr"><img src="../Images/af9cf513489795bfec52145620bed3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gEDRxepbcVKJ_Tu8.jpg"/></div></div></figure><h1 id="fabc" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">Flask路由中的重定向和url_for</h1><p id="2697" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">在web应用程序中，一旦用户做了某件事，您经常会希望将用户重定向到另一个位置。一个例子是用户登录后。您可以将他们重定向到他们登录之前所在的页面。您可以将他们重定向到主页，也可以将他们重定向到帐户仪表板。为此，我们应该首先从烧瓶中导入<code class="du kt ku kv kw b">redirect</code>和<code class="du kt ku kv kw b">url_for</code>组件:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="9135" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask, jsonify, request, url_for, redirect</span></pre><p id="5541" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了展示这些组件的应用，我将对我们的表单示例做一点修改:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="07f2" class="lf jr ht kw b fi lg lh l li lj">@app.route('/myform', methods=['GET', 'POST'])<br/>def myform():<br/>    if request.method == 'GET':<br/>        return '''&lt;form method="POST" action="/myform"&gt;<br/>              &lt;input type="text" name="firstname"&gt;<br/>              &lt;input type="text" name="job"&gt;<br/>              &lt;input type="submit" value="Submit"&gt;<br/>              &lt;/form&gt;'''<br/>    else:<br/>         firstname = request.form['firstname']<br/>         job = request.form['job']<br/>         <em class="jp">## return '&lt;h1&gt;Hello {}. You are a/an {}. You have submitted the form successfully!&lt;h1&gt;'.format(firstname, job)<br/>         </em>return redirect(url_for('home', firstname=firstname, job=job))</span></pre><p id="2213" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">提交表单后，它将被重定向到主页并传递<code class="du kt ku kv kw b">firstname</code>给它。如果你注意home route，你会发现home route只是接受<code class="du kt ku kv kw b">firstname</code>作为一个变量，而job没有任何变量。所以它作为查询字符串传递。输出如下所示:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div class="er es ls"><img src="../Images/ade244de2c0a19991a8d86b42e32983e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/0*NSLsUpIQHojA_GiJ.jpg"/></div></figure><h1 id="0a40" class="jq jr ht bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">概述</h1><p id="267e" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">在本教程中，我试图概述所有必要的烧瓶路线的概念。我希望这将有助于您开始创建更复杂的应用程序和API。这是我们上面写的所有代码的最终版本:</p><pre class="kx ky kz la fd lb kw lc ld aw le bi"><span id="4575" class="lf jr ht kw b fi lg lh l li lj">from flask import Flask, jsonify, request, url_for, redirect<br/>app = Flask(__name__)</span><span id="39c4" class="lf jr ht kw b fi lk lh l li lj">@app.route('/')<br/>def index():<br/>    return '&lt;h1&gt;Hello, World!&lt;/h1&gt;'<br/></span><span id="f501" class="lf jr ht kw b fi lk lh l li lj">@app.route('/home', methods=['POST', 'GET'], defaults={'firstname' : 'Meissam'})<br/>@app.route('/home/&lt;string:firstname&gt;', methods=['POST', 'GET'])<br/>def home(firstname):<br/>    return '&lt;h1&gt;Hello {}, you are on the home page!&lt;/h1&gt;'.format(firstname)</span><span id="e80c" class="lf jr ht kw b fi lk lh l li lj">@app.route('/json')<br/>def json():<br/>    return jsonify({'key' : 'value', 'listkey' : [1,2,3]})</span><span id="dc95" class="lf jr ht kw b fi lk lh l li lj"><br/>@app.route('/query')<br/>def query():<br/>    firstname = request.args.get('firstname')<br/>    job = request.args.get('job')<br/>    return '&lt;h1&gt;Hi {}. You are a/an {}. You are on the query page!&lt;/h1&gt;'.format(firstname, job)</span><span id="53c5" class="lf jr ht kw b fi lk lh l li lj">@app.route('/myform', methods=['GET', 'POST'])<br/>def myform():<br/>    if request.method == 'GET':<br/>        return '''&lt;form method="POST" action="/myform"&gt;<br/>              &lt;input type="text" name="firstname"&gt;<br/>              &lt;input type="text" name="job"&gt;<br/>              &lt;input type="submit" value="Submit"&gt;<br/>              &lt;/form&gt;'''<br/>    else:<br/>         firstname = request.form['firstname']<br/>         job = request.form['job']<br/>         <em class="jp">## return '&lt;h1&gt;Hello {}. You are a/an {}. You have submitted the form successfully!&lt;h1&gt;'.format(firstname, job)<br/>         </em>return redirect(url_for('home', firstname=firstname, job=job))</span><span id="93f5" class="lf jr ht kw b fi lk lh l li lj">""" # we commented process form and used condition in myform route<br/>@app.route('/processform', methods=['POST'])<br/>def processform():<br/>    firstname = request.form['firstname']<br/>    job = request.form['job']<br/>    return '&lt;h1&gt;Hello {}. You are a/an {}. You have submitted the form successfully!&lt;h1&gt;'.format(firstname, job)</span><span id="96e2" class="lf jr ht kw b fi lk lh l li lj">"""</span><span id="2a5d" class="lf jr ht kw b fi lk lh l li lj">@app.route('/processjson', methods=['POST'])<br/>def processjson():<br/>    data = request.get_json()<br/>    firstname = data['firstname']<br/>    job = data['job']<br/>    mylist = data['mylist']<br/>    return jsonify({'result' : 'Success!',<br/>                    'firstname' : firstname,<br/>                    'job' : job,<br/>                    'mylist' : mylist})<br/></span><span id="9c70" class="lf jr ht kw b fi lk lh l li lj">if __name__ == '__main__':<br/>app.run(debug=True)</span></pre></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="7ea2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文原载于2020年4月10日星期五的meissam.net<a class="ae jo" href="https://meissam.net/python-flask-route-a-complete-overview" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>