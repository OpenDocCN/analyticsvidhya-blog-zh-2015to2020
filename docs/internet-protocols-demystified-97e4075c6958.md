# 互联网协议解密

> 原文：<https://medium.com/analytics-vidhya/internet-protocols-demystified-97e4075c6958?source=collection_archive---------22----------------------->

![](img/b52c5a2b18af4ecb11b42081d7c63105.png)

“柏林国会”，来自维基百科

协议听起来可怕又复杂。尽管协议本身的细节很复杂，但它们的存在是为了让其他事情变得简单。让我们通过一些日常例子和命令行练习来研究协议。

什么是协议？

当你听到“礼仪”这个词时，你首先想到的是什么？也许是“外交”？外交官擅长达成协议和跨境转账。要做到这一点，你需要一个协议:一组达成一致的行为。

在网页中，不同的代码部分负责不同的工作。HTML、CSS、JavaScript 都有具体的工作；但是在他们开始工作之前，他们必须接触你的电脑。实现这一点是超文本和互联网协议套件的工作。

**真实世界的例子**

这些协议组是客户端和服务器同意进行传输的一组行为。您的浏览器会为您处理其中的几个问题。让我们看看最重要的四个:

URL > DNS > IP > HTTP

那位参议员说互联网是一系列的管道，但互联网就像老式的电话系统。

URL 就像打电话的人说他们想和谁通话。浏览器的反应就像电话接线员一样，通过查找被呼叫者的名字来启动连接过程。

DNS 是域名服务，其功能类似于电话簿，将字母数字域名转换为 IP 地址。

“IP 地址”中的 IP 代表互联网协议。IP 负责各方之间的中间通信。在电话类比中，IP 相当于在电话中说话的正常惯例——例如，如果一方在特别长的时间内听不到另一方，或者如果线路上有噪音，他们会检查另一方是否仍在接收。

超文本传输协议涵盖了会话的约定。双方先打招呼，然后商定一种语言。请求可以指定如何格式化答案，响应可以要求用户标识自己或限制他们可以询问的内容。

**演习**

从打开一个终端开始。在 Mac 或 Linux 上，你有一个内置的；在 Windows 上我强烈推荐(Git Bash)[[https://gitforwindows.org/](https://gitforwindows.org/)。

“nslookup”实用程序允许我们与 DNS 协议进行交互。给‘nslookup’一个域名，它将返回相关的 IP 地址:

```
$ nslookup google.com
Server: 209.18.47.61
Address: 209.18.47.61#53Non-authoritative answer:
Name: google.com
Address: 216.58.192.174
```

第一个“服务器”和“地址”表示“nslookup”从哪里获得信息(在我们的电话类比中，使用哪个电话簿)。答案中的“地址”是我们可以在其中找到该域的 IP 地址(“非权威”意味着您的本地 DNS 服务器不负责该域，而是从其他 DNS 服务器获得该信息)。

现在获取 IP 地址，并将其粘贴到浏览器的地址栏中。你应该得到 Google 主页，因为浏览器知道如何查找 IP 和域名(这并不总是有效——有时 IP 是一个中间机器，就像负载平衡器一样)。

说到中间机器，让我们看看 IP 如何通过使用“traceroute”来引导我们的流量:

```
$ traceroute 216.58.192.174
traceroute to 216.58.192.174 (216.58.192.174), 64 hops max, 52 byte packets
 1 192.168.0.1 (192.168.0.1) 2.308 ms 1.556 ms 1.368 ms
 2 142.254.209.133 (142.254.209.133) 12.264 ms 12.465 ms 13.588 ms
 3 agg63.scbome0802h.northeast.rr.com (24.58.224.229) 33.023 ms 23.830 ms 23.815 ms
```

每一“跳”都是从一台中间机器传递到另一台中间机器的信息“包”。请注意，最后一跳在 DNS 给我们的 IP 上结束。如果你发现有人得到了与你完全不同的回应，“跟踪路由”可以帮助你检查是否是因为他们的网络以不同的方式发送请求。

接下来会发生什么？
一旦 URL > DNS > IP 链到达最终目的地，那么 HTTP 就可以开始工作了。在接下来的课程中，我们将深入探讨 HTTP。