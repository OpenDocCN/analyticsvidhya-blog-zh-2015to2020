<html>
<head>
<title>Heteroscedasticity Consistent Standard Errors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异方差一致性标准误差</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/heteroscedasticity-consistent-standard-errors-185a32d26faf?source=collection_archive---------17-----------------------#2020-10-09">https://medium.com/analytics-vidhya/heteroscedasticity-consistent-standard-errors-185a32d26faf?source=collection_archive---------17-----------------------#2020-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fbb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好，</p><p id="a343" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我试图展示我对违反OLS假设(尤其是方差齐性)时可用选项的理解。</p><p id="4981" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">免责声明</strong>:本文旨在分享我对异方差一致性标准误差的认识。这不包括任何与项目相关的数据、代码等。本文中使用的SAS/Python代码完全基于公开可用的数据集，与任何公司项目无关。本文的读者必须具备统计学、SAS和Python方面的背景知识</p><p id="91d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的。开始吧！！！</p><p id="2cd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">众所周知，OLS <em class="jd">(普通最小二乘)回归是不存在的。</em> OLS方法找到减少/优化误差平方和的参数估计。使用OLS获得的参数估计为<strong class="ih hj"> <em class="jd">蓝色(最佳线性无偏估计)</em> </strong>。我来扩展一下蓝色的含义，来理解这篇文章的核心。</p><p id="2c84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最佳</strong> —与所有其他迭代/方法相比，通过使用OLS获得的参数估计具有最小方差。</p><p id="7cd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">线性</strong> —使用OLS获得的参数估计在参数上是线性的(所有参数/β都是1的幂次幂)。)</p><p id="beff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">无偏</strong> —指无偏估计。</p><p id="b9dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅当满足以下假设时，上述属性才有效。</p><ol class=""><li id="41c2" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">残差的正态性，</li><li id="e660" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">预测值范围内的恒定方差，以及</li><li id="a265" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">残差的独立性(意味着没有误差项提供关于任何其他误差项的任何信息)。</li></ol><p id="57ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们来理解违反这些假设会有什么影响。</p><ol class=""><li id="3a26" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj">残差的正态性:</strong>它不影响参数估计，这意味着即使违反了正态性，OLS参数估计仍然是蓝色的。但它会影响t检验、f检验、卡方检验等检验结果，以及需要正态假设的参数估计的置信区间。</li><li id="ce35" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><strong class="ih hj">方差的同标准差:</strong>同样，它不影响参数估计，但它影响参数估计的标准差，因此，它影响作为标准差的测试结果。错误被用于CL、t-检验、F-检验等等。该模型将遭受基于标准误差的低估或高估的类型1或类型2误差。获得的参数估计不再是最佳的。 </li><li id="721a" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><strong class="ih hj">独立残差:</strong>参数估计不受影响，但标准差不受影响。错误被妥协了。再次类型1或类型2错误。</li></ol><p id="3859" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数情况下，这并不简单，需要不同类型的转换(Box-Cox、Log、Sqrt、Inverse、叉积等)。我们还可以使用WLS(加权最小二乘模型)和广义线性模型(泊松、负二项式、伽玛回归)等不需要上述假设的模型。</p><p id="68cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们尝试上述变换的替代方案，我们必须用一些调整因子以原始比例对模型进行反向变换，这确实增加了复杂性。甚至，GLM模型需要特定统计数据及其复杂性的知识。WLS还要求正确估计重量。</p><p id="7543" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，请看下面的示例输出:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/3743b6a5dfb858b359b1cfdf2b7494ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*pjd-u-GY2tvn_UT4FE3uIw.png"/></div></figure><p id="0c6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二个和第三个假设影响上面强调的参数估计的标准误差。这意味着，如果我们校正/调整参数估计的标准误差，那么我们永远不需要转换或任何其他建模技术。</p><p id="7803" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何修正/调整参数估计的标准误？</p><p id="ad88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OLS估计量的标准误差计算如下</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ka"><img src="../Images/bfa88b723b65251a346c2856fe2afd32.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*PzanbAX6YSlegJh29rKoug.png"/></div></figure><p id="78c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用以下公式估算sigma平方</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kb"><img src="../Images/f1481968825df2d721dbd4957543fb67.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*1mWUZx6OR9PNWtiFBY4nMA.png"/></div></figure><p id="9826" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，OLS估计量的标准误差为</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kc"><img src="../Images/1fced2be2f4783ff0a15095a5be7fc3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*Qsg4W_1T4uHfHUrZhPfEng.png"/></div></figure><p id="bfbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">White (1980)将协方差矩阵调整如下，这样标准误差将不再受到影响。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kd"><img src="../Images/6acf562e373e11e97697b044e8dd6aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*KVKEbiCWJZ297dUbGm-jTQ.png"/></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ke"><img src="../Images/fe2ac7a8ed8f9cb5f1b91fea1fdb7fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*sGRTdJ5CS5U39pLnRYj5AA.png"/></div></figure><p id="636b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们用一些数据来实现它。我使用多项式回归模型来模拟基于公路里程和马力(最大马力)的汽车价格</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/f1990e93ade0fc583f7e8774b3a9bd42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*02hInIIVXfSzSyhkhbc5wQ.png"/></div></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kk"><img src="../Images/4dab89b59b1bb24b6fb35367cf9de9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ms-AbdCOu6NG_r4aI_VS7Q.png"/></div></div></figure><p id="0fbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">HC标准。误差不同于通常的标准偏差。来自OLS的错误。在存在异方差的情况下，使用HC标准误差和基于此的测试结果。你也可以根据这个HC标准误差选择变量/特征，并根据这个标准误差选择测试结果。</p><p id="0668" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这种方法校正异方差不需要任何反向变换或任何调整因子。这种方法广泛应用于时间序列分析和计量经济学。</p><p id="0799" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果OLS假设不成立，我希望它能为转换或不同的模型提供一个很好的替代方案。</p><p id="ab9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢，</p><p id="37f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">乌尔维什·沙阿</p></div></div>    
</body>
</html>