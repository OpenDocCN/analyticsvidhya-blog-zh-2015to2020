<html>
<head>
<title>A-Z Guide on how to run your Python/Machine Learning code on Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于如何在Android上运行Python/机器学习代码的A-Z指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-z-guide-on-how-to-run-your-python-machine-learning-code-on-android-68ddbe1c3802?source=collection_archive---------4-----------------------#2019-10-17">https://medium.com/analytics-vidhya/a-z-guide-on-how-to-run-your-python-machine-learning-code-on-android-68ddbe1c3802?source=collection_archive---------4-----------------------#2019-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ae477767a3b2def8ef90fe4f7200fa71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPWDQgHV1v8QPBbQAP2Ajg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片取自<a class="ae iu" href="https://py.checkio.org/blog/pygame-python-writing-your-first-game1/" rel="noopener ugc nofollow" target="_blank">https://py . checkio . org/blog/py game-python-writing-your-first-game 1/</a></figcaption></figure><p id="d22b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">众所周知，机器学习(ML)/人工智能(AI)在计算机科学领域掀起了一场风暴。计算机科学社区中的每个人，不管他们的专业是什么，都已经开始以某种形式学习或使用ML或AI。不仅因为它如何简化复杂的任务，还因为对它的热爱。人工智能和人工智能不仅在计算机科学领域，而且在许多其他领域都有应用。它成功地打破了这些领域的研究界限，创造了20年前似乎不可能的新机会。除了ML之外，Android应用程序开发在过去几年里也获得了很多关注。随着智能手机的日益普及，android应用程序及其开发者(flutter或native)这些年来呈指数级增长。因此，出现的大问题是<strong class="ix hj"> <em class="jt">如何将这两种庞大的技术连接起来，以创造出更加用户友好的东西？</em> </strong></p><p id="bc2d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个问题变得更加重要，因为ML模型通常是用Python(首选)或R编写的，而Android应用程序的后端是用Java(本机)或Dart (Flutter)编写的，这取决于所使用的框架。因此，有人可能会问，既然它们是用两种不同的语言实现的，我们如何将这两者联系起来。尽管有许多方法可以做到这一点，例如使用Firebase定制模型。我发现最吸引人也最容易的一个方法是，首先使用Flask为Python/ML代码实现一个应用程序编程接口(API ),然后将其托管在服务器上。最后，使用这个API发送<strong class="ix hj"> get </strong>和<strong class="ix hj"> post </strong>请求，以获取应用程序中的输出，使其工作。</p><p id="6e1a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于本文主要关注Python/ML代码与Android的连接，所以我不会深入讨论我的ML代码的细节。我将简要介绍我的ML模型的基础，然后继续解释我期望API做什么。关于我的ML代码的更多细节，请随意访问我的<a class="ae iu" href="https://github.com/parthgoe1/Python_in_Android_Blog" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> GitHub </strong> </a>，在那里您可以找到完整的代码以及对我的ML模型的解释。</p><p id="9392" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第一步:使用烧瓶制作API</strong></p><p id="ea42" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有各种各样的框架可以用来制作REST APIs，例如Django、Node.js等。但是我发现最用户友好和容易使用的是Flask。我使用Apriori创建了一个非常基本的基于ML的推荐系统，并将推荐保存在<strong class="ix hj"> out.csv </strong>文件中。我的API首先以<strong class="ix hj"> get </strong>请求的形式获取问题字符串，然后在<strong class="ix hj"> out.csv </strong>中找到推荐的解决方案，最后以<strong class="ix hj"> JSON </strong>的形式返回解决方案字符串。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="jy jz l"/></div></figure><blockquote class="ka kb kc"><p id="5882" class="iv iw jt ix b iy iz ja jb jc jd je jf kd jh ji jj ke jl jm jn kf jp jq jr js hb bi translated">如果你想在其他设备上运行你的API(host = ' 0 . 0 . 0 . 0 ')是必要的。</p></blockquote><h1 id="fa67" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">第二步:运行API </strong></h1><p id="9f05" class="pw-post-body-paragraph iv iw hi ix b iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo li jq jr js hb bi translated">强烈建议在<strong class="ix hj"> Visual Studio代码</strong>中运行该文件，因为Spyder或Jupyter Notebook不支持托管服务器。将您的工作目录更改为包含运行代码所需的所有其他文件的目录。这可以通过使用终端中的<strong class="ix hj"> cd </strong>命令来完成。</p><pre class="ju jv jw jx fd lj lk ll lm aw ln bi"><span id="e2b3" class="lo kh hi lk b fi lp lq l lr ls">cd C:\Users\goelp\Desktop\blog</span></pre><p id="f26e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后只需使用以下命令运行该文件</p><pre class="ju jv jw jx fd lj lk ll lm aw ln bi"><span id="8ce0" class="lo kh hi lk b fi lp lq l lr ls">python api.py</span></pre><p id="8525" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您的API没有错误，它将显示如下内容</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/a5262e885ee8a297313aa77be531ba95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*QFVkMbNEGmrwKkXEdO44Kg.jpeg"/></div></figure><h1 id="5ea2" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">第三步:测试你的API </strong></h1><p id="e969" class="pw-post-body-paragraph iv iw hi ix b iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo li jq jr js hb bi translated">转到任何浏览器并键入</p><pre class="ju jv jw jx fd lj lk ll lm aw ln bi"><span id="f8f9" class="lo kh hi lk b fi lp lq l lr ls"><a class="ae iu" href="http://localhost:5000/ram" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a>/ram</span></pre><p id="6a18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您的API正在工作，它应该返回一个<strong class="ix hj"> JSON </strong>。像这样的东西。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/9d81d03d8e5a1ba87419336085125304.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*EfKMeo6-vDKfJqWZUL54HA.jpeg"/></div></figure><p id="0033" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这意味着您的API已经启动并运行，没有任何错误。</p><h1 id="91d1" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">步骤4:尝试从另一个设备发送请求</strong></h1><p id="e4ca" class="pw-post-body-paragraph iv iw hi ix b iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo li jq jr js hb bi translated">因为你想在你的应用上运行这段代码，而你的应用在不同的设备上(即使你在同一台电脑上使用模拟器，它也算作不同的设备)，你需要遵循一些额外的步骤。</p><p id="7254" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤4.1: </strong>将两个设备连接到同一个网络(如果你在同一台电脑上使用模拟器，跳过这一步)。</p><p id="7184" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤4.2: </strong>将您的网络设置为“家庭网络”。这样做可以让您的电脑与同一网络上的其他设备共享信息。在Windows 10上要做到这一点，进入<strong class="ix hj">设置&gt;网络&amp;互联网&gt; WiFi &gt; (Wifi名称)</strong>，将网络的<strong class="ix hj">网络配置文件</strong>设置为<strong class="ix hj">私人</strong>。</p><p id="aaf0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">步骤4.3: </strong>你需要找出你电脑的IP地址。要在Windows 10上这样做，只需打开命令提示符，键入<strong class="ix hj"> ipconfig </strong>并保存<strong class="ix hj"> IPv4地址</strong>。</p><p id="d18e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第4.4步:</strong>打开第二台设备(手机或另一台电脑)上的浏览器，输入</p><pre class="ju jv jw jx fd lj lk ll lm aw ln bi"><span id="8ed1" class="lo kh hi lk b fi lp lq l lr ls"><a class="ae iu" href="http://IPv4-address:5000/ram" rel="noopener ugc nofollow" target="_blank">http://IPv4-Address:5000/ram</a></span></pre><p id="9484" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它应该会给出与之前相同的响应。恭喜你！您现在有了一个工作的API。</p><p id="4246" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第五步:在Android中编写请求代码</strong></p><p id="591c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您已经走了这么远，那么希望您已经有了一个工作的API。所以现在你需要做的就是从你的应用程序中发送一个<strong class="ix hj"> get </strong>或<strong class="ix hj"> post </strong>请求(取决于你的API)到URL<a class="ae iu" href="http://IPv4-address:5000/ram" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">http://IP v4-Address:5000/ram</strong></a>并获取<strong class="ix hj"> JSON </strong>响应。这段代码会根据你是使用原生Android还是Flutter来制作你的应用程序而有所不同(因此我不会在这篇博客中涉及)。</p><p id="2648" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧！这就是全部了。如果你有任何建议或更正，我很乐意听到他们:)非常感谢阅读！</p><p id="1df3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">P.S .对我妹妹的博客校对大声喊出来:)</p></div></div>    
</body>
</html>