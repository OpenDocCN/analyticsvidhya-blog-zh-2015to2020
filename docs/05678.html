<html>
<head>
<title>How to Scrape Tweets from Twitter with Python Twint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python Twint从Twitter上抓取推文</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-scrape-tweets-from-twitter-with-python-twint-83b4c70c5536?source=collection_archive---------0-----------------------#2020-04-29">https://medium.com/analytics-vidhya/how-to-scrape-tweets-from-twitter-with-python-twint-83b4c70c5536?source=collection_archive---------0-----------------------#2020-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8bc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twint是一个用Python编写的高级Twitter抓取工具，允许从Twitter抓取Tweets。</p><div class="jd je ez fb jf jg"><a href="https://github.com/twintproject/twint" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">twintproject/twint</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">没有认证。没有API。没有限制。Twint是一个用Python编写的高级Twitter抓取工具，它允许…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">github.com</p></div></div><div class="jp l"><div class="jq l jr js jt jp ju jv jg"/></div></div></a></div><p id="20dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TWINT的好处是你<strong class="ih hj">不需要</strong> Twitter的API来让Twint工作。Twint利用Twitter的搜索运营商让您:</p><ul class=""><li id="ae73" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated">从特定用户那里收集推文</li><li id="14d5" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">抓取与某些话题相关的推文</li><li id="f3bd" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">标签和趋势</li><li id="344b" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">或者从电子邮件和电话号码之类的推文中挑出<em class="kk">敏感</em>信息。</li></ul><h1 id="c5fd" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">使用Twint的一些好处:</h1><ul class=""><li id="15fb" class="jw jx hi ih b ii lj im lk iq ll iu lm iy ln jc kb kc kd ke bi translated">可以获取几乎所有的推文(Twitter API限制只能持续3200条推文)；</li><li id="1145" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">快速初始设置；</li><li id="bfa2" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">可以匿名使用，无需Twitter注册；</li><li id="8335" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">没有费率限制。</li></ul><h1 id="ad93" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">先决条件</h1><ul class=""><li id="a23a" class="jw jx hi ih b ii lj im lk iq ll iu lm iy ln jc kb kc kd ke bi translated">python 3.6</li><li id="d5b0" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">Twint 2.1.19</li><li id="f896" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">虚拟环境</li></ul><h1 id="e284" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">创建虚拟环境(VENV)</h1><p id="1279" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">在你的<strong class="ih hj">终端</strong>或<strong class="ih hj"> cmd </strong>中键入以下命令:</p><ul class=""><li id="0a93" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated">窗子</li></ul><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="528a" class="ma km hi lw b fi mb mc l md me">py -m venv venv</span></pre><ul class=""><li id="d2c0" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated">Linux操作系统</li></ul><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="7ea6" class="ma km hi lw b fi mb mc l md me">python -m venv venv</span></pre><p id="d944" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要激活您的<strong class="ih hj"> venv </strong>，请在您的<strong class="ih hj"> cmd </strong>或<strong class="ih hj">终端</strong> linux中键入以下命令:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="275b" class="ma km hi lw b fi mb mc l md me">#Windows<br/>    .\venv\Scripts\activate.bat</span><span id="588f" class="ma km hi lw b fi mf mc l md me">#Linux<br/>    source venv/bin/activate</span></pre><h1 id="7fc2" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">安装Twint</h1><p id="b998" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">在venv中，通过在终端中输入以下命令来安装Twint。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="724c" class="ma km hi lw b fi mb mc l md me">pip install twint</span></pre><p id="5b11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请稍等片刻，直到安装过程完成，现在您已经在venv上安装了twint</p><blockquote class="mg mh mi"><p id="5d38" class="if ig kk ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">！！确保将它安装在您的<strong class="ih hj"> venv </strong>中</p></blockquote><h1 id="90ed" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">创建刮刀程序</h1><p id="309c" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">要使用twint，我们将使用<strong class="ih hj"> python </strong>语言，安装Twint后，您需要导入Twint。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="69dd" class="ma km hi lw b fi mb mc l md me">import twint</span></pre><p id="58e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，例如，我们将制作一个程序，通过查询“<strong class="ih hj">比特币</strong>”这个词来抓取<strong class="ih hj"> 10 </strong>条推文</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="35b2" class="ma km hi lw b fi mb mc l md me">import twint</span><span id="7e45" class="ma km hi lw b fi mf mc l md me">#configuration<br/>config = twint.Config()<br/>config.Search = "bitcoin"<br/>config.Limit = 10</span><span id="507d" class="ma km hi lw b fi mf mc l md me">#running search<br/>twint.run.Search(config)</span></pre><p id="981a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该程序将只查询“bitcoun”这个词的推文，并检索多达10条最近的推文。要创建另一个复杂的命令，您可以添加一些额外的配置。因此，我将使用<strong class="ih hj">英文</strong> tweets在从<em class="kk">2019–04–29】</em>到<em class="kk">2020–04–29】</em>的<strong class="ih hj"> 100条</strong> tweets中查询单词“<strong class="ih hj">比特币</strong>，并将输出保存为<strong class="ih hj"> json </strong>格式文件</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="a59e" class="ma km hi lw b fi mb mc l md me">import twint</span><span id="7cba" class="ma km hi lw b fi mf mc l md me">#configuration<br/>config = twint.Config()<br/>config.Search = "bitcoin"<br/>config.Lang = "en"<br/>config.Limit = 100<br/>config.Since = "<em class="kk">2019–04–29</em>"<br/>config.Until = "<em class="kk">2020–04–29</em>"<br/>config.Store_json = <em class="kk">True<br/>config.Output = "custom_out.json"</em></span><span id="7b5e" class="ma km hi lw b fi mf mc l md me">#running search<br/>twint.run.Search(config)</span></pre><p id="9b2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么上述程序的目的是什么，我将逐一解释如下:</p><ul class=""><li id="0367" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated"><strong class="ih hj">搜索</strong> =在这里填写您想要搜索的查询</li><li id="382d" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj">郎</strong> =你可以指定你想要抓取的推文的语言，关于语言代码你可以在这里看到<a class="ae mm" href="https://github.com/twintproject/twint/wiki/Langauge-codes" rel="noopener ugc nofollow" target="_blank"/></li><li id="4c2c" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj">限制</strong> =限制被抓取的推文数量</li><li id="9f3b" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj">因为</strong> =给出将被删除的tweet的日期的具体时间，如果还没有达到该时间的限制，则删除将结束</li><li id="d261" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj">直到</strong> =像<strong class="ih hj">从</strong>开始但是<strong class="ih hj">直到</strong>命令用来给时间开始刮。Twint从最大时间到最小时间开始报废，另一个使用它的例子"<strong class="ih hj"><em class="kk">2020–01–18 15:51:31</em></strong></li><li id="9558" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj"> Store_json </strong> =可以将输出数据以json文件的形式保存，值为<strong class="ih hj"> <em class="kk"> True </em> </strong>或<strong class="ih hj"> <em class="kk"> False、</em> </strong>也可以将<strong class="ih hj"> CSV </strong>格式改为“<strong class="ih hj"> Store_csv </strong>”。</li><li id="d8ab" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><strong class="ih hj">output</strong>=以特定的名称或目录保存输出数据</li></ul><p id="0fef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Twint中有更多的搜索功能，关于其他配置，您可以查看以下页面:</p><div class="jd je ez fb jf jg"><a href="https://github.com/twintproject/twint/wiki/Configuration" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">twintproject/twint</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">变量类型描述-用户名(字符串)- Twitter用户的用户名…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">github.com</p></div></div><div class="jp l"><div class="mn l jr js jt jp ju jv jg"/></div></div></a></div><h1 id="98c4" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">结束语</h1><p id="c7b4" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">谢谢你把这个教程看完。希望这篇文章能帮助你，下一篇文章再见</p></div></div>    
</body>
</html>