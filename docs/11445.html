<html>
<head>
<title>Human and Cat Face Detection using OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于 OpenCV 的人脸和猫脸检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/human-and-cat-face-detection-using-opencv-92601ddfe2e9?source=collection_archive---------11-----------------------#2020-12-03">https://medium.com/analytics-vidhya/human-and-cat-face-detection-using-opencv-92601ddfe2e9?source=collection_archive---------11-----------------------#2020-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="df96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OpenCV 中检测对象的一个主要方法是使用一个叫做“<strong class="ih hj">级联分类器</strong>”的东西。级联分类器可以按以下方式定义:</p><blockquote class="jd je jf"><p id="82cd" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">“这是一种基于机器学习的方法，其中从大量正面和负面图像中训练级联函数。然后用它来检测其他图像中的物体。”</p></blockquote><p id="5b89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所谓正面图像，我们指的是我们想要探测的物体。</p><p id="652c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所谓负面形象，我们指的是所有我们想要避开的物体。</p><p id="fc85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，我们将使用人脸作为我们的对象。因此，首先，我们将需要大量正面图像(包含人脸的图像)和负面图像(没有人脸的图像)来训练分类器。</p><p id="d1aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OpenCV 自带训练器和检测器，如果我们愿意，我们可以自己训练分类器。但是在我们的例子中，我们将使用以 XML 文件形式存在的训练好的分类器，这些文件可以在<a class="ae jk" href="https://github.com/opencv/opencv/tree/master/data/haarcascades" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="jg"> OpenCV 的 github 页面</em> </strong> </a> <strong class="ih hj"> <em class="jg">获得。</em>T11】</strong></p><p id="afe4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们开始识别人脸。</p><h1 id="6a2b" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">人脸检测:</strong></h1><p id="99fa" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">让我们考虑这个图像，并尝试识别所有的面孔。</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ko"><img src="../Images/ade76553b9d3c3c4e18a010964e44ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYW0ghKxeOBYM7hTRdretw.jpeg"/></div></div></figure><h1 id="b213" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">第一步:</strong></h1><p id="611d" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">让我们导入必要的库，读取图像，然后绘制它</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es la"><img src="../Images/9ff7162e17ff27dec97d12e1ed5e759d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QJPQwIhHjKkBaAahQNLzlQ.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx translated">图像读取和绘图</figcaption></figure><p id="1509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你不熟悉阅读图像的步骤，可以看看我的博客。T19】</p><h1 id="82e8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">第二步:</h1><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lf"><img src="../Images/7aa703029d5d3efc39bc5c0ba6895f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4841JSftn8ciIBOTZFZ_3Q.png"/></div></div></figure><p id="1240" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OpenCv 有一个名为"<strong class="ih hj"> CascadeClassifier" </strong>的函数，在这个函数中，我们将传入我们的训练器分类器的文件路径，然后执行这个函数的结果被存储在一个名为"<strong class="ih hj"> faceCascade" </strong>的变量中。</p><h1 id="8f22" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">语法:</strong></h1><p id="d8ec" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">简历。级联分类器(路径)</p><h1 id="c3c3" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">参数:</strong></h1><p id="a0a2" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">已训练分类器 XML 文件路径</p><p id="3711" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，为了最终检测人脸，我们将使用名为“<strong class="ih hj">detect multi scale”</strong>的方法，然后将结果存储在名为“<strong class="ih hj">detected faces”</strong>的变量中，然后打印出该变量。</p><h1 id="d58e" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">语法:</h1><blockquote class="jd je jf"><p id="6822" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">obj=cv。cascade classifier . detect multi scale(image，scaleFactor，minNeighbour)</p></blockquote><h1 id="6008" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">参数:</strong></h1><p id="72e4" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated"><strong class="ih hj">图像:</strong>我们要使用的图像</p><p id="5749" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">比例因子:</strong>参数，指定在每个图像比例下图像尺寸缩小多少。</p><p id="2a8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">邻居:</strong>指定一个候选矩形应该有多少个邻居。</p><h1 id="33a7" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结果</h1><p id="3059" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">执行的结果实际上是一个矩阵，包含在提供的图像中表示我们的脸的矩形的长度、宽度、宽度和高度。仔细看看上图中的矩阵。</p><h1 id="7fca" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">第三步:</h1><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lg"><img src="../Images/3534ccab67ea39152490ee160d8a65ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4qXYzB6liR4qxS2gcsb4g.png"/></div></div></figure><p id="22f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将遍历矩阵，并在所有检测到的对象周围绘制一个矩形。</p><p id="aac3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jk" href="https://faiizii992.medium.com/drawing-and-writing-on-images-using-opencv-5bb73bf0bb8e" rel="noopener"> <strong class="ih hj"> <em class="jg">如果你想了解更多关于使用 OpenCv </em> </strong> </a> <strong class="ih hj"> <em class="jg">在图像上绘制形状的知识，请访问这个博客。</em>T9】</strong></p><p id="ddb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在这种情况下，我们用红色标记检测到的人脸，并最终显示带有所有注释的更新图像。</p><h1 id="b2c5" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">猫脸检测:</h1><p id="ecec" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">这些步骤与人脸检测的步骤完全一样，但在这种情况下，我们必须使用不同的经过训练的分类器 XML 文件，以便在猫中进行人脸检测。</p><h1 id="cdd1" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">图片:</h1><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lh"><img src="../Images/e30581155ddec919cb6051cf399a2264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JmZvecvXMgZW2dGP1JSCnw.jpeg"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx translated">用于人脸检测的参考图像</figcaption></figure><h1 id="1de5" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">代码:</h1><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es li"><img src="../Images/19188ddd55cf67e83a604979ca6a593f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Glir6VUKjQMV3qJ4YtKlQ.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx translated">猫脸检测代码</figcaption></figure><p id="882a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们浏览代码，然后注意到突出显示的文本，我们会发现唯一的区别是 XML 文件的名称，其余的都是一样的。</p><h1 id="d5b2" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">输出:</strong></h1><figure class="kp kq kr ks fd kt er es paragraph-image"><div class="er es lj"><img src="../Images/32347f7d63923affc2bd15888937aeac.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*E1EQCMFPLMNeOdQvv_fQPA.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">检测到猫脸</figcaption></figure><p id="4d35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jk" href="https://github.com/Faizii992/OpenCv-Practise" rel="noopener ugc nofollow" target="_blank"> <em class="jg">查看我的 Github 库获取代码</em> </a></p></div></div>    
</body>
</html>