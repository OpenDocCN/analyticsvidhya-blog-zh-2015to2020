# 面向数据专业人员的 SQL(有用的命令)

> 原文：<https://medium.com/analytics-vidhya/sql-for-data-professionals-useful-commands-8bf01e16f5a7?source=collection_archive---------21----------------------->

![](img/9ee10d34aec537faf5a52cc8a4455ca5.png)

图片来自托比亚斯·菲舍尔在 Unsplash 上

## 首先，SQL 是什么意思？

***SQL*** 是**s***结构化****q****uery****l****语言*

## 结构化查询语言(SQL)是什么意思？

结构化查询语言(SQL)是一种编程语言，通常用于关系数据库或数据流管理系统。

它由 IBM 在 20 世纪 70 年代初开发，现在是美国国家标准协会(ANSI)和国际标准化组织(ISO)认可的官方标准。

## 为什么使用 SQL？

这样想想:你有没有在 Excel 中打开一个非常大的数据集，结果却是电脑死机甚至关机？SQL 允许您一次只访问数据的特定部分，因此您不必将数据下载到 CSV 中，对其进行操作，也不必让 Excel 过载。换句话说，SQL 负责您可能习惯于在 Excel 中进行的数据分析。

## SQL 子集

根据我们希望在数据库上执行的操作，SQL 语言被划分为子集，例如:

**DML —数据操作语言**

第一组是 DML(数据操作语言)。DML 是 SQL 语言的一个子集，用于包含、查询、更改和删除记录中的数据。可以同时对几个表中的几个记录执行这些任务。执行上述功能的命令有**插入**、**更新**和**删除**

**DDL —数据定义语言**

第二组是 DDL(数据定义语言)。DDL 允许用户定义新的表和相关的元素。大多数商业 SQL 数据库都有对 DDL 的专有扩展。

基本 DDL 命令包括:

*   **创建索引**
*   **创建视图**
*   **更改表格**
*   **改变索引**
*   **下降指数**
*   **下降视图**

**DCL —数据控制语言**

第三组是 DCL(数据控制语言)。DCL 控制数据授权和用户许可的各个方面，以控制谁有权查看或操作数据库中的数据。

**两个 DCL 关键字:**

**授权** —授权用户执行或设置操作。
**撤销** —取消或限制用户执行操作的能力。

**DTL —数据交易语言**

**开始工作**——(或**开始事务**，取决于 **SQL** 方言)——可以用来标记一个数据库事务的开始，可以完成也可以不完成。
**提交** —在数据库管理系统中完成一个事务。
**回滚** —导致自上次**提交**或**回滚**以来对现有数据的更改被丢弃。
**提交**和**回滚**与交易、租赁等控制区域交互。两者都结束任何打开的事务并释放任何与数据关联的挂锁。在没有 **BEGIN WORK** 或类似语句的情况下， **SQL** 的语义是依赖于实现的。

**DQL —数据查询语言**

虽然只有一个命令， **DQL** 是 **SQL** 中使用最多的部分。**选择**命令允许用户指定一个查询(“查询”)作为所需结果的描述。这个命令由几个子句和选项组成，可以准备从最简单到最复杂的查询。

在这篇文章中，我们将重点关注 DQL 和一些子句、一些逻辑运算符和关系运算符，例如:

**条款**

*   从-用于指定选择记录的表。
*   其中—用于指定必须收集要选择的记录的条件。
*   分组依据—用于将选定的记录分成特定的组。
*   排序依据—用于按特定顺序对所选记录进行排序。

**逻辑运算符**

而且——而且合乎逻辑。评估条件，如果两个条件都正确，则返回 true 值。
或—或逻辑。评估条件，如果条件正确，则返回真值。

**关系运算符**

LIKE 用于比较模型和指定数据库中的记录。“Like”+%扩展名表示搜索与扩展名开头相同的所有结果。

介于-用于指定封闭范围内的值。

## 让我们开始编码吧

![](img/3e1101dde1e5405096a9bf30c1bbdbea.png)

图片来自 Bruce Mars 的 Splash

首先，我们有一个名为 car 的表

我们使用命令**选择**来告诉选择什么列。在这个例子中，我们想要选择所有的列，所以我们需要使用符号 ***** 。之后，我们使用来自的子句**来告诉它应该选择哪个表，这里我们需要表 car，我们用分号结束我们的代码，因为这是一个好的实践。**

```
SELECT *FROM car ;
```

结果是整个表格

现在，我们不再使用符号*来告诉我们需要哪些列，在名称之后，我们需要使用逗号来书写下一列。我们有了一个新的子句**，其中**我们可以使用这个命令来过滤我们的列，在这个例子中，我们正在过滤生产年份等于 1999 年的汽车。

```
SELECT brand , production_year , model , colorFROM carWHERE production_year =  1999;
```

现在我们将从表车、**中**选择**栏目品牌、生产年份、型号、颜色、**，其中**生产年份为 2000 年**和 2009 年**之间的**。****

```
**SELECT** brand , production_year , model , color**FROM** car**WHERE** production_year **BETWEEN** 2000 **AND** 2009;
```

# 使用两个表格

我们将从两个表中选择数据，因为在现实世界中，我们通常使用多个表来查询必要的数据。

**第一桌导演**

**第二桌电影**

我们将从表格电影中**选择**所有列**，并在**(其中)电影上**连接**表格导演【movie.director _ id 等于表格导演的 id，并使用 **ORDER BY 按标题的字母顺序对数据进行排序。**

```
**SELECT** ***FROM** movie**JOIN** director **ON**  movie.director_id = director.id **ORDER BY title;**
```

我们将从表格电影中**选择**所有列**，并在**(其中)电影中**连接**表格导演**。例如，如果数据中有重复项，可以使用“分组依据”来计算字段中重复项的数量。)和**限制**(当您有一个非常大的数据库，并且不想长时间加载数据时，您可以限制最大数据量，这很有帮助)**。****

```
**SELECT** ***FROM** movie**JOIN** director **ON**  movie.director_id = director.id**GROUP** title **LIMIT** 100 ;
```

对于那些刚开始学习 SQL 的人来说，有了这些知识和命令，就有可能提取开始分析和产生价值所需的数据。

![](img/b56b41b4850101dee1c7b84d706d0117.png)

图片来自 Tobias Fischer on Splash