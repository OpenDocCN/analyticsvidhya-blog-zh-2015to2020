<html>
<head>
<title>Multivariate Stock Market Analysis — Financial + Sentiment variables.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多元股市分析——金融+情绪变量。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/multivariate-stock-market-analysis-financial-sentiment-variables-8f34af58e528?source=collection_archive---------29-----------------------#2020-06-28">https://medium.com/analytics-vidhya/multivariate-stock-market-analysis-financial-sentiment-variables-8f34af58e528?source=collection_archive---------29-----------------------#2020-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e8a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">长期以来，股票市场预测一直是一个活跃的研究领域。然而，建立一个考虑到所有因素的模型仍然是一个具有挑战性的问题。除了历史价格之外，当前的股票市场还受到关于公司的新闻文章、一般新闻以及许多其他微观和宏观经济因素的影响。有几种模型可以根据一般的新闻元素或历史价格来预测股票，但没有几个模型考虑了所有特定公司的新闻或所有这些因素。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9cdcaab3e638f3aa5941c830c8b95228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*THs5topZH7JCQ2Nu"/></div></div></figure><p id="da3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个项目中，我们的目标是了解获取特定公司的新闻如何有助于预测股票价格。</p><h1 id="39c9" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤1:数据收集</h1><p id="cc24" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我们的数据收集分为三大块。第一个是获取各个公司的股票信息。第二个是为我们正在分析的公司收集特定公司的新闻数据，第三个是获取公共新闻数据，包括政治、环境、经济等。</p><p id="d530" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1)股票数据</strong></p><p id="a0ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">股票市场数据是通过调用Yahoo finance API并收集目前作为DJIA指数一部分的30家公司的股票数据来收集的。我们收集了2006年到2016年的数据。收集的数据包括当天的开盘价、收盘价、最高价和最低价。</p><p id="8f58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2)公司新闻数据</strong></p><p id="7def" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">公司层面的新闻数据取自纽约时报网站，使用一个脚本为2006-2016年间的公司层面数据生成多个API调用。</p><p id="50de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">属于数据集一部分的属性是-</p><p id="9461" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)创建时间</p><p id="b247" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)片段</p><p id="6448" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3)标题</p><p id="b54c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4)公司名称</p><p id="1c80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5)新闻——服务台(这是什么样的新闻——商业、娱乐、科技..等等。)</p><p id="34db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3)一般新闻数据</strong></p><p id="2a0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一般新闻数据来自Kaggle上现成的数据集。这些数据包含了从Reddit上收集的多年来每天25大新闻标题的新闻数据。</p><h1 id="785c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第二步:数据预处理</h1><p id="50e3" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">一旦我们收集了数据，我们必须对3个数据集进行预处理，并将它们放在一起，以便我们可以使用它们来分析新闻数据对股票价格的影响。</p><p id="ed64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从新闻数据中，我们希望了解当天新闻的情绪。为了做到这一点，我们将同一天的新闻合并成一个部分，并获取该部分的总体情绪，并将该情绪分配给当天。我们对公司智能数据和普通新闻数据都这样做。</p><p id="6205" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，我们从2006年到2016年每天的数据集都有股票数据和两个情绪得分。每一天的目标价值都变成了第二天的股票价值。</p><h1 id="8ac9" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第三步:数据分析</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/c44c7a6019e5cb880b6b347998faf5d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*fyhH6Y44pjg1XOnm.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/f010d73ad228c6db614232e9f82f45e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*mSi2iV1Zm9cfcR2L.png"/></div></figure><p id="70ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数字:</strong>公司股票价值历年变化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/91dc7b1243f1919c3a3ea6f536d4050e.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*IpBD9K-3rnohY1-V.png"/></div></figure><p id="2c90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">图:</strong>红线显示情绪得分，蓝线显示当天的股票价值。我们在一些地方看到，给定数据的情绪得分的变化如何影响股票价格。</p><h1 id="6ca3" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤4:数据建模</h1><p id="249d" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在来分析我们的情感价值是否会对我们的股票价值产生巨大的影响。我们最初考虑了不同的预测算法，然后最终决定采用递归神经网络和LSTM(长短期记忆)算法，这是递归神经网络的一个特殊子集。原因是，我们考虑的其他算法不能很好地解释我们数据的时间序列性质。(作为我们课程和指南的一部分，我们被要求不要对数据进行时间序列操作)。</p><p id="09b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">LSTM算法要求我们将数据处理成一个三维数组进行建模。在执行了这个数据操作之后，我们继续用不同的输入变量组合生成预测。有些包括情感分数，有些不包括。在此之后，我们对两个结果进行了比较。</p><h1 id="1911" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第五步:结果分析</h1><p id="2ec4" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj">递归神经网络——只有股票价值和成交量。</strong></p><p id="7a85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平均绝对误差为1.28。</p><p id="c417" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">递归神经网络——股票价值、成交量和普通新闻的情绪。</strong></p><p id="89e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平均绝对误差为1.56。</p><p id="6350" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">递归神经网络—仅情感列</strong></p><p id="3f86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平均绝对误差为5.78</p><p id="15c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">递归神经网络—所有列</strong></p><p id="6f76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平均绝对误差为1.0002。</p><p id="3f4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">递归神经网络— LSTM(所有列)</strong></p><p id="ab6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平均绝对误差为0.45</p><p id="f59c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们注意到，尽管不显著，但是当加入混合时，情感列肯定有助于增加模型的准确性。然而，鉴于我们还没有执行时间序列数据集所需的所有预处理，因此需要进行大量改进，以从我们的数据集生成更准确的结果和理解。</p><p id="376b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要获得代码和官方项目报告，请访问我们的GitHub项目链接:</p><p id="a620" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kt" href="https://github.com/akmenon1996/Multivariate-Stock-Market-Analysis" rel="noopener ugc nofollow" target="_blank">https://github . com/akmenon 1996/Multivariate-Stock-Market-Analysis</a></p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><p id="1e70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lb">原载于2020年6月28日https://www.abhijitkmenon.com</em><a class="ae kt" href="https://www.abhijitkmenon.com/post/multivariate-stock-market-analysis-financial-sentiment-variables" rel="noopener ugc nofollow" target="_blank"><em class="lb"/></a><em class="lb">。</em></p></div></div>    
</body>
</html>