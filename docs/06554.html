<html>
<head>
<title>Translate List and Pandas data frame using googletrans library in python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用python中的googletrans库翻译列表和Pandas数据框</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/translate-list-and-pandas-data-frame-using-googletrans-library-in-python-f28b8cb84f21?source=collection_archive---------0-----------------------#2020-05-26">https://medium.com/analytics-vidhya/translate-list-and-pandas-data-frame-using-googletrans-library-in-python-f28b8cb84f21?source=collection_archive---------0-----------------------#2020-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ab9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这个库，我们可以根据需要翻译数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a4dfdd360a8f6ef80dcd90edd6879c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ovwc1QOZhFTpNf15"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由<a class="ae jt" href="https://unsplash.com/@itfeelslikefilm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">🇸🇮·扬科·菲利</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="fee2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我将把数据从西班牙语翻译成英语，英语翻译成印地语，最后一节是俄语翻译成英语、印地语和法语。我将在Pandas数据框、列表和字符串上演示翻译。</p><p id="39f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近我偶然发现了<a class="ae jt" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> Google Colab notebook </a>，我们可以在上面写代码，如果你没有在你的系统中安装anaconda软件，你可以使用它，我在本教程中使用Jupyter notebook。</p><h1 id="26f1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated"><strong class="ak">什么是googletrans？</strong></h1><p id="b304" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">googletrans是一个免费且无限制的python库，实现了Google Translate API。</p><p id="276c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特征</p><ul class=""><li id="efb9" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">快速可靠—它使用的服务器与translate.google.com使用的相同</li><li id="5061" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">自动语言检测</li><li id="8caf" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">批量翻译</li><li id="ee99" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">可定制的服务URL</li><li id="b399" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">连接池(使用请求的优势。会话)</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/f513795cd8c7ade62b3250a1ed458778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L5vL1EfhQI6IX4zj"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">查尔斯·雷在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="dd58" class="lm jv hi bd jw ln lo lp ka lq lr ls ke iq lt lu ki iu lv lw km iy lx ly kq lz bi translated">装置</h2><p id="ddbf" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">要安装googletrans库run below代码，此命令会自动下载并安装该库。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="ad25" class="lm jv hi mb b fi mf mg l mh mi">pip install googletrans</span></pre><h1 id="003b" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">导入必要的库</h1><p id="948b" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在这一步中，我们将导入我们将在整个教程中使用的重要库。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="5f53" class="lm jv hi mb b fi mf mg l mh mi">from googletrans import Translator<br/>import pandas as pd</span></pre><h2 id="d36b" class="lm jv hi bd jw ln lo lp ka lq lr ls ke iq lt lu ki iu lv lw km iy lx ly kq lz bi translated">案例1</h2><p id="aacb" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我已经创建了一个熊猫数据框架，并将把它翻译成英文。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="2dd1" class="lm jv hi mb b fi mf mg l mh mi">translator = Translator()<br/>df = pd.DataFrame({'Spanish':['piso','cama']})<br/>df</span></pre><p id="7ff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mj"><img src="../Images/02ce401dd234c59912891bd80d943845.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*QI0EKLcUT7bhVqY4g1NulQ.png"/></div></figure><p id="1d88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将此数据帧翻译成英语:</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="4123" class="lm jv hi mb b fi mf mg l mh mi">df['English'] = df['Spanish'].apply(translator.translate, src='es', dest='en').apply(getattr, args=('text',))<br/>df</span></pre><p id="3237" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是最终输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mk"><img src="../Images/6d892915b1d6ebda5cb0a18880e98511.png" data-original-src="https://miro.medium.com/v2/resize:fit:494/format:webp/1*T99zAOPQQZ5mlDeqFBGNNw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">最终输出</figcaption></figure><h2 id="ed4d" class="lm jv hi bd jw ln lo lp ka lq lr ls ke iq lt lu ki iu lv lw km iy lx ly kq lz bi translated">案例2</h2><p id="bc1f" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">将下面代码中的列表从英语翻译成印地语</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="7ab4" class="lm jv hi mb b fi mf mg l mh mi">from googletrans import Translator</span><span id="9676" class="lm jv hi mb b fi ml mg l mh mi">translator = Translator()  # initalize the Translator object</span><span id="9345" class="lm jv hi mb b fi ml mg l mh mi">df=['How are you doing today', 'Good morning, How are you ','I hope you are doing great']</span><span id="bdde" class="lm jv hi mb b fi ml mg l mh mi">translations = translator.translate(df, dest='hi')<br/>for translation in translations:  # print every translation<br/>    print(translation.text)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mm"><img src="../Images/90739db16dbdefa7878a3a07d95b3aeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*Ir0odkljYawXn4BlOV8Bbw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">输出</figcaption></figure><p id="3757" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，我们可以从一种语言翻译成另一种语言，我们只需要在代码中提到源语言和目的语言。我将在本文的后面解释这个例子，在此之前，我们将看到一些例子，我们想检测在我们的工作表中提到的语言的原始来源。</p><p id="44c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例1:</p><p id="e9d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们不知道这个文本的源语言'안녕하세요'.</p><p id="3370" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的代码将检测源语言，并告诉我们翻译的语言(dest)。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="1c06" class="lm jv hi mb b fi mf mg l mh mi">from googletrans import Translator<br/>translator = Translator()<br/>print(translator.translate('안녕하세요.'))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/20ace9caca3429b4f1536787ade3c2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxbdoiV4SolOYLdO6gdCPg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">输出</figcaption></figure><p id="a7c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的输出中，我们现在知道'안녕하세요'这个文本是(ko: Korean)并翻译成(en: English)的。</p><p id="b24c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例2:</p><p id="4fd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用<code class="du mo mp mq mb b"><strong class="ih hj">detect</strong></code> ( <em class="mr"> text </em>)函数:这个函数帮助我们检测输入文本的语言。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="8e79" class="lm jv hi mb b fi mf mg l mh mi">from googletrans import Translator<br/>translator = Translator()<br/>translator.detect('이 문장은 한글로 쓰여졌습니다.')<br/>print(translator.detect('이 문장은 한글로 쓰여졌습니다.'))</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ms"><img src="../Images/1e255ce1d6c567bcf11a742bb5d04960.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*1-JJRYsXiqCVQq7R7cmfmA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">输出</figcaption></figure><p id="a444" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们有一个包含不同语言的不同文本的列表，并且我们想要识别语言，那么我们将运行下面的代码。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="0e01" class="lm jv hi mb b fi mf mg l mh mi">langs = translator.detect(['한국어', '日本語', 'English', 'le français'])<br/>for lang in langs:<br/>    print(lang.lang, lang.confidence)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mt"><img src="../Images/fe1a737c2c9d893ea0497f99ab2468c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*lj2PsBjpPVqqcMh36zvrkQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">输出</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/653a35424a483dc48d339591d6378d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fcsW74WUr3luUWkp"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">威廉·艾文在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="e729" class="lm jv hi bd jw ln lo lp ka lq lr ls ke iq lt lu ki iu lv lw km iy lx ly kq lz bi translated">案例3</h2><p id="5a35" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在大多数情况下，我们在excel表中获取数据，我们需要将数据翻译成不同的语言，在本例中，我们有俄语数据并希望进行翻译</p><p id="c748" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一.俄语到英语</p><p id="d72b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">二。俄语到印地语</p><p id="3d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">三。同一数据帧中的俄语到法语。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="2f1a" class="lm jv hi mb b fi mf mg l mh mi">df1=pd.read_excel('russiandataset.xlsx',sheet_name='Dataset1')<br/>df1</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mv"><img src="../Images/b2e4cce56b9d45208111fdb1b4678776.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*Leb6bcv9Z4I_aJHaEYKhKA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">数据帧</figcaption></figure><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="b0a4" class="lm jv hi mb b fi mf mg l mh mi">df1['English'] = df1['Russian'].apply(translator.translate, src='ru', dest='en').apply(getattr, args=('text',))</span><span id="cfab" class="lm jv hi mb b fi ml mg l mh mi">df1['Hindi'] = df1['Russian'].apply(translator.translate, src='ru', dest='hi').apply(getattr, args=('text',))</span><span id="5b1b" class="lm jv hi mb b fi ml mg l mh mi">df1['French'] = df1['Hindi'].apply(translator.translate, src='hi', dest='fr').apply(getattr, args=('text',))</span><span id="3c12" class="lm jv hi mb b fi ml mg l mh mi">df1</span></pre><p id="b00e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/2b1ae5efbf55850cb52d51bf75787a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ts7qU4c4KLXicHE9bFLLNA.png"/></div></div></figure><p id="b6c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论</strong></p><p id="da8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">googletrans在翻译pandas数据帧、列表和字符串方面非常有帮助。</p><p id="1249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们有一个包含不同语言的大型数据集，并且需要翻译成其他语言，那么在googletrans库的帮助下，我们可以很容易地做到这一点。</p><p id="5786" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这篇文章能帮助你并节省大量的时间。如果你有任何建议，请告诉我。</p><p id="6828" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码。</p><p id="3326" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来源:</p><p id="72da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">https://pypi.org/project/googletrans//</p><p id="d099" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="https://py-googletrans.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">https://py-googletrans.readthedocs.io/en/latest/</a>/</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/c69e93a703616c788e16f4394b3c1a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tU7P1pt-narkxjkC"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">安德拉兹·拉济奇在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div></div>    
</body>
</html>