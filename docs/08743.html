<html>
<head>
<title>Web Scraping and Analysis of extracted data using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 对提取的数据进行 Web 抓取和分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-scraping-and-analysis-of-extracted-data-fe4ee855da06?source=collection_archive---------10-----------------------#2020-08-11">https://medium.com/analytics-vidhya/web-scraping-and-analysis-of-extracted-data-fe4ee855da06?source=collection_archive---------10-----------------------#2020-08-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="8a84" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">美丽的汤从三个不同的 Youtube 视频和这些视频的分析网页抓取。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a9f162854feb2e04649037049b8becdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SIymDKetr0Q0wIX8fT6Zgw.jpeg"/></div></div></figure><p id="dbc5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这个项目中，我从 youtube.com 的视频中提取了所需的数据(标题，喜欢，不喜欢，评论),并适当地重新排列，以分析这些视频，并从数据中获得一些洞察力。你可以在这个给定的链接<a class="ae kf" href="https://github.com/abhashpanwar/webscraping" rel="noopener ugc nofollow" target="_blank"> <em class="kg"> GitHub 库</em> </a> <em class="kg">上到达与这个项目相关的 Python 脚本。</em></p><blockquote class="kh ki kj"><p id="b853" class="jj jk kg jl b jm jn ij jo jp jq im jr kk jt ju jv kl jx jy jz km kb kc kd ke hb bi translated"><a class="ae kf" href="https://en.wikipedia.org/wiki/Web_scraping" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">网页抓取</strong> </a>(或屏幕抓取或网页数据提取或网页采集)基本上就是使用一些脚本或自动机工具/软件从网站中提取数据的过程。Web 抓取，也称为 web 数据提取，是从网站检索或“抓取”数据的过程。</p></blockquote><h2 id="cb33" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">使用的工具:</h2><ol class=""><li id="ab28" class="li lj hi jl b jm lk jp ll js lm jw ln ka lo ke lp lq lr ls bi translated"><a class="ae kf" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#" rel="noopener ugc nofollow" target="_blank"><em class="kg">beautiful soup</em></a>:<em class="kg">beautiful soup</em>是一个用于从 HTML 和 XML 文件中提取数据的 Python 库。它与您喜欢的解析器一起工作，提供导航、搜索和修改解析树的惯用方式。</li></ol><p id="a136" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="kg"> BeautifulSoup </em>解析你给它的任何东西，并为你完成树的遍历。你可以告诉它“查找所有链接”，或者“查找类外部链接的所有链接”，或者“查找所有 URL 匹配“foo.com”的链接，或者“查找有粗体文本的表格标题，然后给我那个文本”。"</p><p id="f31b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">2.<a class="ae kf" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank"><em class="kg">text blob</em></a>:<a class="ae kf" href="https://pypi.org/project/textblob/" rel="noopener ugc nofollow" target="_blank">text blob</a>是一个用于处理文本数据的 Python (2 和 3)库。它提供了一个简单的 API，用于执行常见的<a class="ae kf" href="https://en.wikipedia.org/wiki/Natural_language_processing" rel="noopener ugc nofollow" target="_blank">自然语言处理(NLP) </a>任务，如词性标注、名词短语提取、情感分析、分类、翻译等。</p><h2 id="a9dd" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">提取数据的基本步骤:</h2><ol class=""><li id="ea8c" class="li lj hi jl b jm lk jp ll js lm jw ln ka lo ke lp lq lr ls bi translated">输入 HTML 页面。</li><li id="1e73" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">将其转换为您最喜欢的解析器，以提供导航、搜索和修改解析树的惯用方式。</li><li id="073f" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">确定所需的数据。</li><li id="3aef" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">找到数据。</li><li id="ae38" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">以特定的格式存储数据。</li></ol><h1 id="b010" class="ly ko hi bd kp lz ma mb kt mc md me kx io mf ip la ir mg is ld iu mh iv lg mi bi translated">第 1 部分:Web 抓取</h1><h2 id="2376" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">步骤 1:包含所需的库</h2><h2 id="10a1" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">步骤 2:定义 HTML 页面链接</h2><p id="e5cb" class="pw-post-body-paragraph jj jk hi jl b jm lk ij jo jp ll im jr js mj ju jv jw mk jy jz ka ml kc kd ke hb bi translated">我已经下载了 HTML 页面，在其他情况下，如果我们希望 HTML 页面在线，然后定义 URL。</p><h2 id="af53" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">步骤 3:我已经为每个任务创建了一个函数。</h2><p id="afa6" class="pw-post-body-paragraph jj jk hi jl b jm lk ij jo jp ll im jr js mj ju jv jw mk jy jz ka ml kc kd ke hb bi translated"><strong class="jl hj">第 3.1 步:convert number()</strong></p><p id="921c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这个函数将把文本数据转换成数字格式。</p><p id="1b3a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">例如:“151，641，939 次浏览”变成“151641939”</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">从字符串中提取数字数据的函数</figcaption></figure><p id="fd58" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">步骤 3.2:生成数据()</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">从 HTML 页面中提取数据主函数</figcaption></figure><p id="7fa8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这个函数将使用 BeautifulSoup 从 HTML 页面收集数据，并存储在 videoData 系列中。</p><p id="c1d2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">步骤 3.3:generated data frame()</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="1011" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">上述函数将创建一个数据框，将提取的数据分成行和列。</p><p id="298c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">步骤 3.4:生成极性()</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="a021" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">上述函数将生成每个评论的极性，即评论是好的、坏的或中性的。</p><p id="fe85" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">步骤 3.5:最后调用所有函数，生成最终输出/数据。</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">将创建调用其他函数和每个 HTML 的最终输出的主代码</figcaption></figure><h2 id="7aaf" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">最终输出:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/312fbcde697298f6ee935c149a97f493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_odEQ_FfKjHLyWcvBUXxQA.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">提取数据并连接所有 CSV 文件后的最终输出</figcaption></figure><h1 id="5d39" class="ly ko hi bd kp lz ma mb kt mc md me kx io mf ip la ir mg is ld iu mh iv lg mi bi translated">第 2 部分:数据可视化/分析数据</h1><p id="ec9e" class="pw-post-body-paragraph jj jk hi jl b jm lk ij jo jp ll im jr js mj ju jv jw mk jy jz ka ml kc kd ke hb bi translated">注意:每个图形的代码都在 mainFile.ipynb 文件中</p><h2 id="91b9" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">1)分析视图:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/ee8f085ddf90e32fa6eafb294e7b12e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wseHmtVKzUWx9Bm79ZxosA.jpeg"/></div></div></figure><p id="f907" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">从上面的图表中，我们可以说《倒带 2016》在三个视频中获得了最大浏览量。</p><h2 id="e832" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">2)分析极性:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/6c49de18acfc139d7854508837a1601a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XHcBAeh0fKyZ1E0O-OuiUw.jpeg"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/b69a73c83e0d4d4189421a2bcd23bbbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NeK5PW-UMoke3tLBBMCJHQ.jpeg"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">堆积条形图</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/4be7a06ed4884d5c9b422bb4f127519a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VQPR6dMv53F6z-rFoWAFAg.jpeg"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">饼图显示每个视频极性类别下的评论数量</figcaption></figure><p id="02bf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">从上面的图表中，</p><ul class=""><li id="e012" class="li lj hi jl b jm jn jp jq js mx jw my ka mz ke na lq lr ls bi translated">《倒带 2015》正面评价最大，另外两个视频正面评价几乎相等。</li><li id="9a41" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke na lq lr ls bi translated">倒带 2016 有 max 中性评论。</li><li id="b511" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke na lq lr ls bi translated">《倒带 2019》负面评论最大。这个视频得到了更多的负面评价。</li></ul><p id="e4fb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这个项目中，我从 200 条评论中抽取了一个样本</p><p id="7006" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">《倒带 2015》获得更多正面评价，《倒带 2019》获得更多负面评价。</p><h2 id="a4ba" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">3)分析喜欢/不喜欢:</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/960a82d6e68867dd534e8d93559acd75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCmsXsEhiicsYwTe61kYBw.jpeg"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">喜欢和不喜欢的条形图</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/d1c302b4fd29983d6627ff4b746ed9c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_pRg816YjfVerHmbud_oeQ.jpeg"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/a010b4b5c70fd1b0ea65122988d0623f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0tFQKOlIXEpqGBV6HR3Uhw.jpeg"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">堆积相对图</figcaption></figure><p id="986f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">从上面的数字，我们可以说</p><ul class=""><li id="edb7" class="li lj hi jl b jm jn jp jq js mx jw my ka mz ke na lq lr ls bi translated">“Rewind 2016”有 max 赞或用户喜欢这个视频，总体而言，所有三个视频的赞数几乎相等。</li><li id="50d6" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke na lq lr ls bi translated">《倒带 2019》获得了大量的不喜欢，这意味着这个视频变得消极，或者视频的内容不受用户喜欢。</li></ul><h1 id="bbb2" class="ly ko hi bd kp lz ma mb kt mc md me kx io mf ip la ir mg is ld iu mh iv lg mi bi translated">结论:</h1><ol class=""><li id="2495" class="li lj hi jl b jm lk jp ll js lm jw ln ka lo ke lp lq lr ls bi translated">与不喜欢相比，倒带 2015 和倒带 2016 更好。</li><li id="c89a" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">《倒带 2016》表现良好，因为它获得了良好的喜欢和积极的评价。</li><li id="d0c0" class="li lj hi jl b jm lt jp lu js lv jw lw ka lx ke lp lq lr ls bi translated">《倒带 2019》表现不佳，因为它获得了大量的不喜欢和负面评论。</li></ol></div></div>    
</body>
</html>