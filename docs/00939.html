<html>
<head>
<title>Pandas -Fundamentals of Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫-数据分析基础</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/module-6-pandas-5b053ee1e1a1?source=collection_archive---------10-----------------------#2019-09-20">https://medium.com/analytics-vidhya/module-6-pandas-5b053ee1e1a1?source=collection_archive---------10-----------------------#2019-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><ul class=""><li id="351e" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">用于数据操作和分析的开源库</li><li id="9619" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">Panda代表面板数据，这是一种多维数据，包含一段时间内的测量结果</li></ul><p id="192b" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">熊猫的特征</p><ol class=""><li id="5cf7" class="if ig hi ih b ii ij ik il im in io ip iq ir is jr iu iv iw bi translated">系列对象和数据帧—用于处理1D(系列对象)和2D标签数据(数据帧)和面板数据(3D，时间序列)</li><li id="6056" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">缺失数据的处理— NaN</li><li id="1b85" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">数据对齐—用户可以忽略预定义的标签，让Pandas为您自动标记数据</li><li id="b19f" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">按功能分组</li><li id="50ba" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">切片、索引和分租</li><li id="df52" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">合并和加入</li><li id="2bc2" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">重塑</li><li id="d545" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">轴的分层标记</li><li id="28bc" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">强大的I/p、O/p工具——适用于处理表格、任意和时间序列数据类型。</li><li id="50b9" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is jr iu iv iw bi translated">时序特定功能</li></ol><p id="5ff5" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">对于大数据集，Pandas的性能比numpy好50万以上。</p><p id="90dd" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">Pandas Series对象更灵活，因为我们可以定义带标签的索引来访问数组的元素，而在Numpy中只能通过默认的整数位置来访问</p><blockquote class="js jt ju"><p id="9ad7" class="jc jd jv ih b ii ij je jf ik il jg jh jw ji jj jk jx jl jm jn jy jo jp jq is hb bi translated">进口熊猫作为pd</p><p id="d087" class="jc jd jv ih b ii ij je jf ik il jg jh jw ji jj jk jx jl jm jn jy jo jp jq is hb bi translated">a= pd.read_csv(' …')</p></blockquote><p id="95f5" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">系列对象</p><ul class=""><li id="7e1b" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">一维标记数组</li><li id="4b29" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">包含相似或混合类型的数据(异构数据)</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="79d7" class="ki kj hi ke b fi kk kl l km kn">import pandas as pd<br/>data = [1,2,3,4]<br/>series1 = pd.Series(data)<br/>series1<br/>o/p:<br/>0    1<br/>1    2<br/>2    3<br/>3    4<br/>dtype: int64</span><span id="8d93" class="ki kj hi ke b fi ko kl l km kn">type(series1)<br/>o/p:<br/>pandas.core.series.Series</span><span id="64ea" class="ki kj hi ke b fi ko kl l km kn">#Changing the index of a series object, data can be array, dictonary # or scalar<br/>series1 = pd.Series(data, index =['a','b','c','d'])<br/>series1<br/>o/p:<br/>a    1<br/>b    2<br/>c    3<br/>d    4<br/>dtype: int64</span><span id="784e" class="ki kj hi ke b fi ko kl l km kn">#series1 = pd.Series(data, index =['a','b','c']) &lt;-- notice only3<br/><strong class="ke hj">#Error: ValueError</strong>: Length of passed values is 4, index implies 3</span></pre><p id="3a80" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">熊猫数据框</p><ul class=""><li id="6417" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">具有潜在不同类型的列的二维标记数据结构</li><li id="db43" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">不同的列类型、可变大小、带标签的轴、算术运算可应用于行和列#创建一个数据帧</li></ul><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es kp"><img src="../Images/ac23ac8244be02607b01e3dd75cccc12.png" data-original-src="https://miro.medium.com/v2/resize:fit:296/format:webp/1*2pxgIj33ooIrIK422gEEVA.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="a0ed" class="ki kj hi ke b fi kk kl l km kn"># creating a DataFrame using a list<br/>import pandas as pd<br/>data = [1,2,3,4,5]<br/>df =pd.DataFrame(data)<br/>df</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es kt"><img src="../Images/7e70e69a4e6d0d995d1d0ca2d288631b.png" data-original-src="https://miro.medium.com/v2/resize:fit:282/format:webp/1*6-RBaMx1h3oBu2bN9pc6hA.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="8ca7" class="ki kj hi ke b fi kk kl l km kn">#creating a dataframe using a series<br/>series = pd.Series([6,12],index=['a','b'])<br/>df = pd.DataFrame(series)<br/>df</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es ku"><img src="../Images/010c01c4b375b77b9ec177c068fa20ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*AIiUN9MzohC5arzcFiez_g.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="0562" class="ki kj hi ke b fi kk kl l km kn">#creating a dataframe using a dictionary<br/>dictionary ={'fruits':['apples','banana','mangoes'],'count':[10,20,15]}<br/>df = pd.DataFrame(dictionary)<br/>df</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es kv"><img src="../Images/50b0263611b206ab4ff6cdc77f17a7a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*C_ijkEKE_aadL4xWnJ8Evw.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="60f0" class="ki kj hi ke b fi kk kl l km kn">#creating a datafram using a numpy array<br/>import numpy as np<br/>import pandas as pd</span><span id="d6c9" class="ki kj hi ke b fi ko kl l km kn">numpyarray = np.array([[50000,60000],['John','Sam']])<br/>df =pd.DataFrame({'name':numpyarray[1],'salary':numpyarray[0]})<br/>df</span></pre><h2 id="4be9" class="ki kj hi bd kw kx ky kz la lb lc ld le im lf lg lh io li lj lk iq ll lm ln lo bi translated">合并、联接和连接</h2><h2 id="6823" class="ki kj hi bd kw kx ky kz la lb lc ld le im lf lg lh io li lj lk iq ll lm ln lo bi translated">合并</h2><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="2a30" class="ki kj hi ke b fi kk kl l km kn">import pandas as pd<br/>player =['Player1','Player2','Player3']<br/>point =[8,9,6]<br/>title = ['Game1','Game2','Game3']<br/>df1 =pd.DataFrame({'Player':player,'Points':point,'Title':title})<br/>df1</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lp"><img src="../Images/607035c7e3a08e2919ebce98050c1279.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*n8ShBIJ-GJNuq0W9SbpOLg.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e0bd" class="ki kj hi ke b fi kk kl l km kn">player =['Player1','Player5','Player6']<br/>power =['Punch','Kick','Elbow']<br/>title = ['Game1','Game5','Game6']<br/>df2 =pd.DataFrame({'Player':player,'Power':power,'Title':title})<br/>df2</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lq"><img src="../Images/0e547c5732f638dc72ae72d86720b8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*VRFcZeAuF_jGg-74GKorwQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="4646" class="ki kj hi ke b fi kk kl l km kn">#inner merge<br/>df1.merge(df2, on = 'Title', how ='inner')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lr"><img src="../Images/aeb567c48eefe5a378f600d8c299d3b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*10GLHwBF6lMm_jB98BaXfA.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="d456" class="ki kj hi ke b fi kk kl l km kn">df1.merge(df2) # by default it is inner merge</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es ls"><img src="../Images/c14996dafe90dc202dd30b024fe5408b.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*OB4kSpFrC0ulF5CVJ8tVAg.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="b8ec" class="ki kj hi ke b fi kk kl l km kn">#left merge<br/>df1.merge(df2,on='Player',how ='left')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lt"><img src="../Images/a85118e45542c0c3b41535a7ef9931b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*q5NqnRp1bYH9WqvoeQ8DRw.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="7ea9" class="ki kj hi ke b fi kk kl l km kn">#Right Merge<br/>df1.merge(df2, on ='Player',how='right')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es lu"><img src="../Images/2a8d7140f454a174eb11809730ff5ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*TxSEjZF_U-eUI1hDfZ8tPA.png"/></div></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="26ee" class="ki kj hi ke b fi kk kl l km kn">#Outer Merge<br/>df1.merge(df2, on ='Player', how ='outer')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lz"><img src="../Images/6ef4247c4557c9e4f3ab264463d333cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*OCMP1v836MMfFP1WaRaOow.png"/></div></figure><h2 id="6520" class="ki kj hi bd kw kx ky kz la lb lc ld le im lf lg lh io li lj lk iq ll lm ln lo bi translated">加入</h2><ul class=""><li id="01ba" class="if ig hi ih b ii ma ik mb im mc io md iq me is it iu iv iw bi translated">连接-基于索引值，而不是数据帧中的属性名</li><li id="c32f" class="if ig hi ih b ii ix ik iy im iz io ja iq jb is it iu iv iw bi translated">要连接的数据框的所有属性名称都应该不同，否则会引发错误。错误:<strong class="ih hj">值错误</strong>:列重叠，但未指定后缀:Index([…]，dtype='object ')</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="52ff" class="ki kj hi ke b fi kk kl l km kn">player =['Player1','Player2','Player3']<br/>point =[8,9,6]<br/>title = ['Game1','Game2','Game3']<br/>df3 =pd.DataFrame({'Player':player,'Points':point,'Title':title},index=['L1','L2','L3'])<br/>df3</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es lp"><img src="../Images/59148fb03dff8c99f6f6f8026b68eff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*lpx5oHj0DffyARG2SX6l9g.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="f176" class="ki kj hi ke b fi kk kl l km kn">player =['Player2','Player3','Player4']<br/>point =[38,39,36]<br/>title = ['Game2','Game3','Game4']<br/>df4 =pd.DataFrame({'Playerx':player,'Pointsx':point,'Titlex':title},index=['L2','L3','L4'])<br/>df4</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mf"><img src="../Images/804c70ebe29f4c21b498ec633bee064c.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*wJeYQ0M4mRuJRdaR_B_hEQ.png"/></div></div></figure><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mg"><img src="../Images/acbfac1cc605482b659d5971a360a0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*8s3JDhIXnKZj0VoQy4rbKg.png"/></div></figure><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mg"><img src="../Images/d8a0e87bcaf16437c275adc7df753f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*2dJlNULmlg0zkQQPdTczyA.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="b802" class="ki kj hi ke b fi kk kl l km kn">df3.join(df4,how ='inner')</span><span id="694d" class="ki kj hi ke b fi ko kl l km kn">df3.join(df4,how='left')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mh"><img src="../Images/c530baf935b309e7ddee67d6278b8cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*XUM57hwaizza-VAh7V1pKw.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="0a29" class="ki kj hi ke b fi kk kl l km kn"><br/>df3.join(df4,how='right')</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mi"><img src="../Images/2c6e8d1e4ba281dd6aa5cbe91b88c4cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*qMoJlDJ-EDgQs-l13AiXHQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="4489" class="ki kj hi ke b fi kk kl l km kn">df3.join(df4,how='outer')<br/></span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mj"><img src="../Images/058176c89e024dde9a93d34618dad360.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*ZnRgjOzQc7HQkNbX9cAcoQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="81a9" class="ki kj hi ke b fi kk kl l km kn">#how to concatenate dataframes in pandas<br/>pd.concat([df3,df4], sort ='True')</span></pre><h2 id="2592" class="ki kj hi bd kw kx ky kz la lb lc ld le im lf lg lh io li lj lk iq ll lm ln lo bi translated">导入和分析数据集</h2><p id="07b8" class="pw-post-body-paragraph jc jd hi ih b ii ma je jf ik mb jg jh im mk jj jk io ml jm jn iq mm jp jq is hb bi translated">数据集:【https://www.dropbox.com/s/9zg3u3zqj3ct3zf/mtcars2.csv?dl=0 T2】</p><p id="b99b" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">将数据集导入熊猫数据框架</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e937" class="ki kj hi ke b fi kk kl l km kn">#import pandas library<br/>import pandas as pd<br/>#read dataset and store into a dataframe<br/>cars=pd.read_csv("mtcars2.csv")<br/>#print the dataframe<br/>cars</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mo"><img src="../Images/087438f9f63bbba67ba407e2edf14d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*2_WopEIMcwAJg2U9Gg4NPQ.png"/></div></figure><p id="05a4" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">数据集分析</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="4fb2" class="ki kj hi ke b fi kk kl l km kn">#check the type<br/>type(cars)<br/>o/p:<br/>pandas.core.frame.DataFrame</span><span id="85d0" class="ki kj hi ke b fi ko kl l km kn">#view only the first five records<br/>cars.head()</span><span id="44ee" class="ki kj hi ke b fi ko kl l km kn">#view only the first ten records<br/>cars.head(10)</span><span id="2857" class="ki kj hi ke b fi ko kl l km kn">#view only the last five records<br/>cars.tail()</span><span id="b872" class="ki kj hi ke b fi ko kl l km kn">#view only the last ten records<br/>cars.tail(10)</span><span id="db7e" class="ki kj hi ke b fi ko kl l km kn">#view number of rows and columns in the dataframe<br/>cars.shape<br/>o/p: (32,13)</span><span id="f6a8" class="ki kj hi ke b fi ko kl l km kn">#print a concise summary of the columns<br/>cars.info(null_counts=True)</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mp"><img src="../Images/f901c953d20a4c398e9ebd74e94e14fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*OrhaK20s4QUc-Idr8WLjtw.png"/></div></figure><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mq"><img src="../Images/de925a05af17b0e5ba8c79853f2cae44.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*mzqANVvmFflXg0lZ7gWDjQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="d739" class="ki kj hi ke b fi kk kl l km kn">#mean<br/>cars.mean()</span></pre><p id="cbde" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">列方面的其他统计度量</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e3c0" class="ki kj hi ke b fi kk kl l km kn">#median<br/>cars.median()</span><span id="31c5" class="ki kj hi ke b fi ko kl l km kn">#standard deviation<br/>cars.std()</span><span id="5a64" class="ki kj hi ke b fi ko kl l km kn">#maximum of each attribute<br/>cars.max()</span><span id="ded6" class="ki kj hi ke b fi ko kl l km kn">#minimum of each attribute<br/>cars.min()</span><span id="5561" class="ki kj hi ke b fi ko kl l km kn">#number of non-null records in each column<br/>cars.count()</span><span id="8b99" class="ki kj hi ke b fi ko kl l km kn">#descriptive statistics summary<br/>cars.describe()</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mr"><img src="../Images/bdc632cc42cba7713e2dbc9e7b3c680a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8WqRlt6ehok7WGXS_1TXEw.png"/></div></div></figure><p id="0a15" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">清洗数据集</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="7a44" class="ki kj hi ke b fi kk kl l km kn">#rename column (1)<br/>cars=cars.rename(columns={'Unnamed: 1':'model'})<br/>#cars</span><span id="1498" class="ki kj hi ke b fi ko kl l km kn">#Fill the null values with mean of the column  (2)<br/>cars.qsec=cars.qsec.fillna(cars.qsec.mean())<br/>#cars</span><span id="7266" class="ki kj hi ke b fi ko kl l km kn">#drop unwanted column - no value in analysis NaN(3)<br/>cars = cars.drop(columns=['S.No'])<br/>cars</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es ms"><img src="../Images/78ac4cf0ba125a0efa93e4574d1fd81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*nVTIFAyJaKRf1G3ZDED2kQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="670a" class="ki kj hi ke b fi kk kl l km kn">#find correlation matrix<br/>df=cars[['mpg','cyl','disp','hp','drat','wt','qsec','vs','am','gear','carb']].corr()<br/>#df</span><span id="636d" class="ki kj hi ke b fi ko kl l km kn">#So change mpg from string to float to perform correlation<br/>#see the change yellow highlights -difference compared to previous #info result</span><span id="59a5" class="ki kj hi ke b fi ko kl l km kn">cars.mpg = cars.mpg.astype(float)<br/>cars.info(null_counts=True)</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mt"><img src="../Images/59c95721072f0b58619a722305eb610c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EWsGqxSsjU7MneBC0ShT8g.png"/></div></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="c135" class="ki kj hi ke b fi kk kl l km kn">#Again find the correlation including mpg<br/>df=cars[['mpg', 'cyl','disp','hp','drat','wt','qsec','vs','am','gear','carb']].corr()<br/>df</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mu"><img src="../Images/02e3cff48b1b78c52620fb7f571ac5ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M32ihYhJYxLe7rNEj-WR-A.png"/></div></div></figure><p id="4231" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">1-相同属性的最高相关性<br/>2-mpg与cyl的高度相关，即mpg增加1个单位将导致折叠减少0.852+高度相关is cyl与disp <br/> 3 -忽略几乎不相关的属性示例-黄色高亮显示carb与drat</p><p id="48b5" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">操纵</p><p id="ebfa" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">按位置索引</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="d6fc" class="ki kj hi ke b fi kk kl l km kn">#view drat column only, Dont forget about [] brackets<br/>cars.iloc[:,5]<br/></span><span id="355a" class="ki kj hi ke b fi ko kl l km kn">#first five records of hp column<br/>cars.iloc[0:5,4]</span><span id="e4c4" class="ki kj hi ke b fi ko kl l km kn">#all rows, all columns<br/>cars.iloc[:,:]</span><span id="917f" class="ki kj hi ke b fi ko kl l km kn">#for attributes from hp to carb see all the records from index 6<br/>cars.iloc[6:,4:]</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mv"><img src="../Images/28f464f22a934e94ba91e12140763f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*OedXVkrBpDmVKAvx-HHmvg.png"/></div></figure><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mw"><img src="../Images/ff36d5c218a4e011c7864cabd2e14f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/format:webp/1*uwwuFVmt7NpJft3o0xuXGw.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="cdf8" class="ki kj hi ke b fi kk kl l km kn">#Now we want to look at all the rows and only the first column<br/>cars.iloc[:,1]<br/>cars.iloc[:,lambda df: [1,2,5]]<br/># alternatively - cars.iloc[:,[1,2,5]]</span></pre><p id="e454" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">使用列标签loc可以进行类似操作</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="767b" class="ki kj hi ke b fi kk kl l km kn">#see all the record of mpg column<br/>cars.loc[:,"mpg"]</span><span id="1ae7" class="ki kj hi ke b fi ko kl l km kn">#display the records from index 0 to index 6 from mpg column<br/>cars.loc[:6,"mpg"]</span><span id="608a" class="ki kj hi ke b fi ko kl l km kn">#see the first 7 records from mpg to qsec column<br/>cars.loc[:6,"mpg":"qsec"]</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mx"><img src="../Images/736ee0548ad6684c5f6c2b483c1722a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*M-31TXZlJxppVGZhJl62PQ.png"/></div></figure><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es my"><img src="../Images/12b437b8b40c5b2209e38b6b195ddcc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*GSjR8edug6LodQdVhOGN4A.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="227a" class="ki kj hi ke b fi kk kl l km kn">#set value 1 to column 'am'<br/>cars['am'] = 1<br/>cars</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mz"><img src="../Images/316a19f772e6ee9183a05a270107b9d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*azao3YoK_n9-wAIpeg7aOQ.png"/></div></figure><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e7e8" class="ki kj hi ke b fi kk kl l km kn"><br/>#double up records in 'am' using lambda fxn<br/>f = lambda x: x*2<br/>cars['am']= cars['am'].apply(f)<br/>cars</span></pre><p id="d7a3" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">文档:</p><div class="na nb ez fb nc nd"><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.iloc.html" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab dw"><div class="nf ab ng cl cj nh"><h2 class="bd hj fi z dy ni ea eb nj ed ef hh bi translated">熊猫。DataFrame.iloc - pandas 0.25.1文档</h2><div class="nk l"><h3 class="bd b fi z dy ni ea eb nj ed ef dx translated">完全基于整数位置的索引，用于按位置选择。主要基于整数位置(从到的…</h3></div><div class="nl l"><p class="bd b fp z dy ni ea eb nj ed ef dx translated">pandas.pydata.org</p></div></div></div></a></div><p id="c5b8" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">整理</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="fdb5" class="ki kj hi ke b fi kk kl l km kn">#sort cyl in descending order<br/>cars.sort_values(by='cyl', ascending=False)</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es nm"><img src="../Images/8637a447d9a4121603473f8050dabc1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*4NsHyo2wa1pZBy2XuI9giA.png"/></div></figure><p id="a1ae" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">过滤</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="b08f" class="ki kj hi ke b fi kk kl l km kn">#filter records with more than 6 cylinders<br/>cars['cyl'] &gt; 6<br/>o/p:<br/>0     False<br/>1     False<br/>2     False<br/>3     False<br/>4      True<br/>5     False<br/>6      True<br/>7     False<br/>8     False<br/>9     False<br/>10    False<br/>...</span><span id="8208" class="ki kj hi ke b fi ko kl l km kn">#filter records with more than 6 cylinders<br/>filter1 = cars['cyl'] &gt; 6<br/>#apply filter to dataframe<br/>filtered_new = cars[filter1]<br/>#view filtered dataframe<br/>filtered_new</span><span id="f43e" class="ki kj hi ke b fi ko kl l km kn">#filtering with multiple columns<br/>filtered_new = cars[(cars['cyl'] &gt; 6) &amp; (cars['vs'] == 0)]<br/>#view filtered dataframe<br/>filtered_new</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es nn"><img src="../Images/164a15eb93b7bf2818d526bdeb34ca96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*Mpkuq63FuyvjuH72voFT4Q.png"/></div></div></figure><p id="ce59" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">更多示例:</p><p id="f95b" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">数据集:虹膜数据集</p><ol class=""><li id="59b5" class="if ig hi ih b ii ij ik il im in io ip iq ir is jr iu iv iw bi translated">加载Iris数据集，浏览数据集的前5行和后5行。还要找到行数和列数</li></ol><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="d552" class="ki kj hi ke b fi kk kl l km kn">import pandas as pd<br/>iris =pd.read_csv('IRIS.csv')<br/>print(iris.head(5))<br/>print(iris.tail(5))<br/>print(iris.shape)</span></pre><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es no"><img src="../Images/d5841ae178085dee65ac2c2e78b10c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*I9lFkehCcfx5KxpWC-fIHg.png"/></div></figure><p id="8b2d" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">2.找出数据集的简单汇总统计数据</p><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es mq"><img src="../Images/accbe05be7dea7a95000b955a10b2f16.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*2ByYHINpZ9SIyDbYbS3c_Q.png"/></div></figure><p id="8545" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">3.将sepal_width的列名更改为sepWid，并查找花瓣长度和花瓣宽度之间的相关性</p><figure class="jz ka kb kc fd kq er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es np"><img src="../Images/ff5a6f59dc7fec406d1b12bed9435069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8dPvKHswJFLxV0BDnp0NjQ.png"/></div></div></figure><p id="49df" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">4.提取从10到15的所有行，列:花瓣长度和花瓣宽度</p><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es nq"><img src="../Images/5f1aeea7974255ac4355bbe73a5b1ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*B3mcAm1ly2oqFpkqraOgTw.png"/></div></figure><p id="01c6" class="pw-post-body-paragraph jc jd hi ih b ii ij je jf ik il jg jh im ji jj jk io jl jm jn iq jo jp jq is hb bi translated">5.基于花瓣长度对数据集进行排序</p><figure class="jz ka kb kc fd kq er es paragraph-image"><div class="er es nr"><img src="../Images/3b15e670cc9a39266edc189094817b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*p5kJcGvy-pmwJJZQMvlaxw.png"/></div></figure></div></div>    
</body>
</html>