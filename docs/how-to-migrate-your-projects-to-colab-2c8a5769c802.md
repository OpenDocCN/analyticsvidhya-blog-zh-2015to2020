# 如何将您的项目迁移到 Colab

> 原文：<https://medium.com/analytics-vidhya/how-to-migrate-your-projects-to-colab-2c8a5769c802?source=collection_archive---------10----------------------->

## 也就是如何充分利用平台，黑掉它。

![](img/555a19e062d60309e69bb76df7761a43.png)

布莱克·康纳利在 [Unsplash](https://unsplash.com/s/photos/macbook-coding?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

# 介绍

Google Colab(co laboratory 的缩写)是一个由 Google 托管的数据科学在线平台。它由一个运行在云中的在线笔记本组成，不使用本地机器上的任何资源。

许多数据科学学生和专业人士喜欢这种解决方案，因为它将便利性、便携性和计算能力集于一身。你不需要安装软件包和使用虚拟环境。它给你带来了零努力的便携性，这是一个很大的好处，如果你必须经常切换计算机(例如，家庭和办公室)。它允许你将繁重的计算迁移到云中，让你可怜的笔记本电脑免于崩溃。最后，您可以避免在本地下载巨大的数据集。

然而，这种环境将你限制在单个笔记本电脑的环境中，衍生出了所有的问题(如这里的[和这里的](https://www.youtube.com/watch?v=7jiPeIFXb6U)[所解释的)。在我使用 Colab 期间，我收集了一些日常使用的技巧，帮助我充分利用这个平台。你可以在网上找到它们，但据我所知，这是第一次尝试把它们放在一篇文章里。](https://www.sicara.ai/blog/2019-02-25-why-jupyter-not-my-ideal-notebook)

# 技巧 1:导入 Google Drive

Google 可以让你从 Colab 上读写 GDrive 上的文件。如[官方文档](https://colab.research.google.com/notebooks/io.ipynb#scrollTo=RWSJpsyKqHjH)中所述，您需要运行以下单元:

一次性链接将出现在输出像元中。点击它，您将被重定向到一个界面，允许您授予临时驱动器访问您的笔记本电脑。复制过程末尾的代码，并将其粘贴到笔记本中。

正如我们将看到，驱动器可以用来存放文件、数据集和包含您想要重用的代码的模块，因此它可以成为您日常工作中使用的一个很好的工具。然而，来自驱动器的文件 I/O 慢得令人痛苦**，尤其是当您试图访问大量小文件时，这表明两者之间的接口在文件访问方面有很大的开销。这意味着你不希望*在硬盘上存放你的大数据集，即使你有足够的空间来存放它们。***

**你能做什么呢？有三种解决方法。**

1.  **仍然将它们托管在 GDrive 上，但是进行了压缩。访问单个文件将减少开销，并且压缩将减小文件大小。然后，您可以从命令行解压缩它。**
2.  **如果您正在使用一个流行的数据集，如 MNIST，许多 Python 包可以为您下载并阅读它**
3.  **直接从命令行下载**

**如果可能的话，第二个选项是最方便的。然而，许多数据集并没有打包在 Python 包中，所以我们需要探索第三种解决方案。**

# **技巧 2:从笔记本下载文件**

**Jupyter 笔记本允许您通过在命令行前添加感叹号`!`来执行 shell 命令。例如，如果您想查看当前工作目录的内容，您可以简单地编写`!ls`。**

**这使您有机会使用`curl`从命令行下载文件:**

```
!curl -O [http://your.link/here](http://your.link/here)
```

**这行代码将把数据保存在您当前的工作目录中(Colab 上默认为`/content`)。运行你的内核的计算机的网络速度非常快，所以即使是大的数据集也能在几秒钟内下载完毕。**

**现在，您的笔记本中已经有了主要材料，很可能在您可以使用它们之前需要对它们进行解压缩。有各种各样的存档格式，对于每一种格式，都有一个合适的命令可以用来解压文件。比如说。如果数据集是压缩的，您可以键入:**

```
!unzip -q -d destination_path archive_to_unzip.zip
```

# **技巧 3:从驱动器导入模块**

**如果您有一些想要在笔记本中使用的自定义模块，您可以将它们上传到驱动器上，稍后再导入。让我们看看怎么做。**

**在你可以导入它们之前，你必须告诉 Python 要查看。首先，创建一个`Project`文件夹，我们将把我们的`.py`文件放在那里。然后，您需要执行:**

**在执行上面的单元后，您的模块将正确无误地导入:**

**为什么这是必要的？当您编写`import foo`时，Python 会在名为`sys.path`的预定义位置列表中查找名为`foo`的模块。通过插入我们模块的位置作为第一个条目，我们可以确保找到`foo`和`bar`。**

**注意，这个技巧是一种变通方法，会让许多 Python 专家感到不安。在您的个人计算机或生产服务器上滥用这种方法，如果您有同名的不同模块，可能会导致混乱的导入路径和不可预知的后果。然而，在笔记本电脑的实验和临时环境中，这可能是可以接受的。**

**如果你想了解更多信息，看看*学习 Python，第五版*作者*马克·卢茨*，第 22 章第*节模块搜索路径*。**

# **如果这还不够呢**

**Colab 对服务的一致性或可用性不做任何保证。此外，如果你连续运行一个内核太长时间，你将被关闭。因此，这个平台不是为专业或大量使用而设计的。**

**如果你需要更多的电力，或者如果你希望给你的云机器附加一个永久的存储，你最好看看谷歌云、AWS 或微软 Azure 上的可用选项。**

# **结论**

**Colab 是一个强大的工具，如果使用正确，可以节省您的笔记本电脑和时间。这些技巧允许你充分利用平台，克服在线笔记本环境的一些限制。**

**如果你知道一些我没有提到的技巧，请在评论中分享。**