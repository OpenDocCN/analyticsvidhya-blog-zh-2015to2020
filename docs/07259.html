<html>
<head>
<title>Syntactic Sugar in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的语法糖</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/syntactic-sugar-in-python-3e61d1ef2bbf?source=collection_archive---------2-----------------------#2020-06-19">https://medium.com/analytics-vidhya/syntactic-sugar-in-python-3e61d1ef2bbf?source=collection_archive---------2-----------------------#2020-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/26abacb3eeee3be011ff7c5ddf8a4957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qIc8c-GslXx5yIiudcvU_A.jpeg"/></div></div></figure><p id="e564" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated"><span class="l jp jq jr bm js jt ju jv jw di"> H </span>你听说过python中的语法糖吗？可能是，也可能不是，但可以肯定的是，每次你写一行代码时，你都在使用它。简而言之，语法糖是一种允许开发人员以“甜蜜”的方式更容易地编写代码的语法，因此，它给了你不知道系统如何工作的奢侈。你最好知道语法糖不仅仅与python相关，更多信息请参考(<a class="ae jx" href="https://en.wikipedia.org/wiki/Syntactic_sugar" rel="noopener ugc nofollow" target="_blank"> ref </a>)。</p><p id="599f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在继续之前，我们需要先看看魔法方法。</p><h2 id="da9a" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated">神奇的方法</h2><p id="a73b" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">魔术方法(有时也称为<em class="ky">特殊方法</em>)是具有预定义名称的方法，以开头和结尾的双下划线(__init__)为特征。它们是“神奇的”,因为这些方法是间接调用的，你不需要直接调用它们，一切都是在幕后完成的。例如，当你实例化一个类<em class="ky"> x = MyClass()，</em> Python会对__new__和__init__进行必要的调用。一个小例子:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="42ab" class="jy jz hi le b fi li lj l lk ll">x = 'Hello World!'</span><span id="e108" class="jy jz hi le b fi lm lj l lk ll">print(x)<br/><em class="ky"># Hello World!</em></span><span id="2afa" class="jy jz hi le b fi lm lj l lk ll">x.<strong class="le hj">__repr__()<br/></strong><em class="ky"># Hello World!</em></span></pre><p id="bf2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到，<strong class="is hj"> __repr__() </strong>方法被绑定到我们著名的<strong class="is hj"> print() </strong>。这里还有一些例子:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="e7e8" class="jy jz hi le b fi li lj l lk ll">‘name’ in my_list      -&gt;      my_list.__contains__(‘name’)<br/>len(my_list)           -&gt;      my_list.__len__()<br/>print(my_list)         -&gt;      my_list.__repr__()<br/>my_list == “value”     -&gt;      my_list.__eq__(“value”)<br/>my_list[7]             -&gt;      my_list.__getitem__(7)</span></pre><p id="064f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑到我们在这一章中没有深入地关注魔法方法，如果你还想知道更多，看看文档吧(<a class="ae jx" href="https://docs.python.org/3/reference/datamodel.html" rel="noopener ugc nofollow" target="_blank"> ref </a>)。因此，对于这个问题，神奇的方法是语法糖，我们可以自由地回答是！</p><h2 id="2966" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated">装修工</h2><p id="d1d2" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">装饰器只不过是Python中函数的包装器。它将感兴趣的函数作为参数，在调用它之前和之后执行某些任务并返回结果。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="9b52" class="jy jz hi le b fi li lj l lk ll">def <strong class="le hj">my_decorator</strong>(func):<br/>    def <strong class="le hj">wrapper</strong>():<br/>        print("Before the function is called")<br/>        <strong class="le hj">func</strong>()<br/>        print("After the function is called")<br/>    <strong class="le hj">return</strong> wrapper<br/><br/>def <strong class="le hj">say_hello_world</strong>():<br/>    print("Hello World!")<br/><br/>x = <strong class="le hj">my_decorator</strong>(say_hello_world)</span><span id="52a7" class="jy jz hi le b fi lm lj l lk ll">x()<br/><em class="ky"># </em><em class="ky">Before the function is called<br/># Hello World!<br/># After the function is called</em></span></pre><p id="b8e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将一个引用<code class="du ln lo lp le b">say_hello_world</code>传递给我们的装饰器，装饰器然后返回一个<code class="du ln lo lp le b">wrapper.</code>,我们使用这个包装器来调用我们的函数。</p><p id="1192" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你需要一个通用的函数，可以在你的项目中调用，而不需要编写重复的代码时，Decorators是很有用的。事实上，多亏了Python语法糖，我们可以通过特殊字符“<strong class="is hj"> @ </strong>”后跟装饰者的名字来调用我们的装饰者。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="d9ff" class="jy jz hi le b fi li lj l lk ll"><strong class="le hj">@my_decorator</strong><br/>def <strong class="le hj">say_hello_world</strong>():<br/>    print("Hello World!")</span><span id="f93d" class="jy jz hi le b fi lm lj l lk ll"><strong class="le hj">say_hello_world</strong>()<br/><em class="ky"># </em><em class="ky">Before the function is called<br/># Hello World!<br/># After the function is called</em></span></pre><p id="69ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这虽然简单，却大大简化了我们的工作。</p><h2 id="fd52" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated">更多句法糖的例子</h2><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="b73e" class="jy jz hi le b fi li lj l lk ll"><strong class="le hj">1 &lt; x &lt; 10<br/></strong># equivalent to 1 &lt; x and x &lt; 10</span><span id="9ecd" class="jy jz hi le b fi lm lj l lk ll"><strong class="le hj"><br/>[x for x in range(10)] <br/></strong># List comprehension</span><span id="b036" class="jy jz hi le b fi lm lj l lk ll"><strong class="le hj"><br/>{key: value for key, value in d.items()}<br/></strong># Dict comprehension</span><span id="d507" class="jy jz hi le b fi lm lj l lk ll"><br/><strong class="le hj">x = something if condition else otherthing<br/></strong># python ternary</span><span id="d160" class="jy jz hi le b fi lm lj l lk ll"><strong class="le hj"><br/>big_number = 1_000_000_000<br/></strong># equivalent to big_number = 1000000000</span><span id="4f1d" class="jy jz hi le b fi lm lj l lk ll"><br/><strong class="le hj">a += 1<br/></strong># equivalent to a = a + 1</span></pre></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h2 id="6bde" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated"><strong class="ak">结论</strong></h2><p id="9603" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">正如我们所见，句法糖让我们的生活变得更容易，很多时候我们甚至没有注意到甚至不知道我们正在使用它们，但无论如何，详细了解它的工作原理总是有用的，因为我们迟早需要深入了解它是如何工作的，以成功完成一项复杂的任务。一个很好的例子可能是扩展“默认”python语法糖，在这里可以找到关于如何扩展的很好的阅读和例子(<a class="ae jx" rel="noopener" href="/better-programming/adding-sugar-to-the-python-syntax-e89248ce6e72"> ref </a>)。</p><p id="72da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跟我来:</p><p id="1d12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">github.com/pbuzulanGitHub @<a class="ae jx" href="http://github.com/pbuzulan" rel="noopener ugc nofollow" target="_blank"/></p><p id="814d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">领英@【linkedin.com/in/petru-buzulan T4】</p><blockquote class="lx"><p id="258b" class="ly lz hi bd ma mb mc md me mf mg jn dx translated"><em class="mh">多谢！</em></p></blockquote></div></div>    
</body>
</html>