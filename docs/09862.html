<html>
<head>
<title>MySQL Functions: Cheatsheet with examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySQL函数:带有示例的备忘单</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mysql-functions-cheatsheet-with-examples-3a08bb36d074?source=collection_archive---------5-----------------------#2020-09-23">https://medium.com/analytics-vidhya/mysql-functions-cheatsheet-with-examples-3a08bb36d074?source=collection_archive---------5-----------------------#2020-09-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="3f13" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">所有常用的MySQL函数都在一个地方，有例子和简短的解释。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/471b74a5ce747e9ae294a659afa67c1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*VIRHl6tESXfPaVOqEW3DeA.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">来源:cleanpng.com</figcaption></figure><p id="d1ef" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">MySQL提供了大量的函数，其中大部分都被广泛使用。我将提供最常用的函数和简短的描述。这篇文章的目的是为所有的MySQL函数提供一个地方，这样你可以在面试或考试前快速浏览一遍。我假设您已经掌握了SQL的基本知识。不浪费你的时间，让我直接进入函数。</p><p id="3092" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在此之前，我想让您知道，我已经使用MySQL Workbench来执行查询和员工数据库。让我们快速地看一下雇员数据集的描述。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kg"><img src="../Images/df1a3de7e5a9602aed9043ce006da013.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*tfn9IurUAzQ50iC--rIxEA.png"/></div></figure><ol class=""><li id="539a" class="kh ki hi jm b jn jo jq jr jt kj jx kk kb kl kf km kn ko kp bi translated">员工编号:员工ID</li><li id="e24a" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">ENAME:员工姓名</li><li id="476c" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">工作:职务</li><li id="3306" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">经理:经理ID</li><li id="c3f6" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">聘用日期:员工被聘用的日期</li><li id="caa0" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">萨尔:每月工资</li><li id="23d4" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">佣金:赚取的佣金</li><li id="331d" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf km kn ko kp bi translated">部门编号:员工所属的部门编号</li></ol><p id="1faf" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">此外，如果您知道employee表中的值，接下来的查询会更清楚。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="1ee6" class="la lb hi kw b fi lc ld l le lf">SELECT * FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lg"><img src="../Images/75f66811a4f60465778e83a0d517a80b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*tkAQbmpaC63CoJDUkkyg0Q.png"/></div></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="6456" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">长度()</strong></h2><p id="b57d" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">CHAR_LENGTH、CHARACTER_LENGTH和LENGTH，这三个函数都给出相同的结果，即给定字符串中的字符数。这三个参数都有一个字符串值。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="d5dc" class="la lb hi kw b fi lc ld l le lf">SELECT ename, CHAR_LENGTH(ename), CHARACTER_LENGTH(ename), LENGTH(ename) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mm"><img src="../Images/51562a56d02e63d73dcbbe9472932615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*tEkt_QyEYdjlKOohZppthw.png"/></div></figure><h2 id="4498" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">串联</strong>()</h2><p id="85a6" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">字符串的连接是所有编程语言中非常常用的技术。SQL也提供了它。CONCAT用于将两个或多个值连接成一个字符串值，它可以连接任何类型的数据。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="0bcc" class="la lb hi kw b fi lc ld l le lf">SELECT CONCAT(ename, ' works as ',job) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mn"><img src="../Images/81ebf303fbdd17c3fdd940795e76a266.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*2r45gNk9B_x193xEjN_IKw.png"/></div></figure><h2 id="6973" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">格式</strong>()</h2><p id="035e" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">它将浮点数格式化为指定的小数位，并以字符串形式返回值。</p><blockquote class="mo"><p id="fc64" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated">因素</p><p id="4b1f" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my">编号:</em>必填。要格式化的数字</p><p id="e8d2" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my">小数位数:</em>必填。<em class="my">号的小数位数。</em>如果该参数为0，则该函数返回一个不带小数位的字符串</p></blockquote><pre class="mz na nb nc nd kv kw kx ky aw kz bi"><span id="2741" class="la lb hi kw b fi lc ld l le lf">SELECT comm, FORMAT(comm, 1) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ne"><img src="../Images/b1ba933c72b8330573d831b6c3a7a002.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*SEqGhtvNh2YD0fSCKNU58Q.png"/></div></figure><h2 id="844b" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">插入</strong>()</h2><p id="b5dc" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">用于从指定的位置开始插入一个字符串来代替另一个字符串，直到某个字符数。</p><p id="f7ca" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在本例中，我们将所有职务值替换为“公司员工”，从职务值的位置1开始，取其所有字符(长度)。</p><blockquote class="mo"><p id="c4e3" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated">因素</p><p id="6d60" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my">字符串:</em>必选。将被修改的字符串</p><p id="48d2" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my">职位:</em>必选。插入<em class="my">字符串2 </em>的位置</p><p id="88ca" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my">编号:</em>必填。要替换的字符数</p><p id="371f" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated"><em class="my"> string2: </em>必选。要插入到<em class="my">字符串</em>中的字符串</p></blockquote><pre class="mz na nb nc nd kv kw kx ky aw kz bi"><span id="268f" class="la lb hi kw b fi lc ld l le lf">SELECT ename, job, INSERT(JOB,1, length(job), 'company employee') FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nf"><img src="../Images/0bf7e7d0ab7df874f8ed61c657ed0e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*F_Vl8dieTsKLzo3Sn7gR3w.png"/></div></figure><h2 id="3c11" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">仪表()</h2><p id="329a" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">返回该字符串在另一个字符串中第一次出现的位置。这里，“g”第一次出现在字符串“介质最好是blo<strong class="jm hj">g</strong>g平台”中的位置19。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="5a6a" class="la lb hi kw b fi lc ld l le lf">SELECT INSTR('Medium is best blogging platform', "g") AS MatchPosition;</span><span id="58df" class="la lb hi kw b fi ng ld l le lf">OUTPUT: 19</span></pre><h2 id="91bb" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">定位</strong>()</h2><p id="c496" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">Locate是INSTR的改进版本，它解决了INSTR的缺点。如果我们想知道字符串第三次出现的位置呢？LOCATE使我们能够灵活地指定从什么位置开始搜索。下面，我们从字符串“Medium is best bloggin<strong class="jm hj">g</strong>platform”的位置21开始搜索，以获得第三次出现的“g”的位置。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="5458" class="la lb hi kw b fi lc ld l le lf">SELECT LOCATE("g", "Medium is best blogging platform", 21) AS MatchPosition;</span><span id="b311" class="la lb hi kw b fi ng ld l le lf">OUTPUT: 23</span></pre><h2 id="f4c3" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak"> UCASE </strong> ( ) <strong class="ak">，LCASE </strong>()</h2><p id="09af" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">非常简单，UCASE将字符串转换成大写，LCASE将字符串转换成小写。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="be86" class="la lb hi kw b fi lc ld l le lf">SELECT job, LCASE(job), UCASE(job) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nh"><img src="../Images/02461110fa68e95882bf08006c1b6e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*UD9Lg83rHSdJ3BQX8LZO4g.png"/></div></figure><h2 id="efb0" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated"><strong class="ak">左</strong> ( ) <strong class="ak">，右</strong>()</h2><p id="5344" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">左:从字符串的<strong class="jm hj">开始的</strong>提取指定数量的字符。</p><p id="fd07" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">右:从字符串的<strong class="jm hj">端</strong>提取指定数量的字符。</p><p id="60a1" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">下面，我们从每个字符串的开头和结尾提取一个字符。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="96f5" class="la lb hi kw b fi lc ld l le lf">SELECT job, LEFT(job, 1), RIGHT(job, 1) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ni"><img src="../Images/e86b7eb04115841e81f37e00909854b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*DsOHWkcjPfvkXzro1pW-jQ.png"/></div></figure><h2 id="2507" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">替换( )</h2><p id="9475" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">用另一个指定字符串替换指定字符串的所有匹配项。我们将每个作业值中的所有大写字母“A”替换为小写字母“A”。我已经用一个字符替换了另一个字符，但是同样的事情也可以用字符串来做。去尝试吧，用“女人”替换“男人”。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="a703" class="la lb hi kw b fi lc ld l le lf">SELECT job, REPLACE(job, 'A', 'a') from emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nj"><img src="../Images/00bc1aa16d9b504c1823f7e3a043bfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*exF5CKdGEuQRKS6x4EqtYg.png"/></div></figure><h2 id="971b" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">SUBSTR()</h2><p id="6ee9" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">为了从一个字符串中提取一个子串，我们必须指定起始位置和从起点开始所需的字符数。这里，我们提取每个作业值的前三个字符。即从字符串的位置1开始的3个字符。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="080a" class="la lb hi kw b fi lc ld l le lf">SELECT job, SUBSTR(job, 1, 3) AS Abbrevation FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nk"><img src="../Images/326366f3673d3312794205022a0404f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*ZvcZOs2Hjyd0DBDQq1O0vA.png"/></div></figure><h2 id="3c96" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">聚合函数</h2><p id="cbd9" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">MySQL提供的聚合函数有max、min、avg和count。我已经通过寻找最大值、最小值、平均值和工资总数来演示了每一种方法。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="3afa" class="la lb hi kw b fi lc ld l le lf">SELECT MAX(sal), MIN(sal), AVG(sal), COUNT(sal), SUM(SAL) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es nl"><img src="../Images/c60a2628c1a7ab5a2aed147a3542d789.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*h-SybdipWlmX0HmCM7otEg.png"/></div></div></figure><h2 id="2e35" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">地板( )，天花板( )</h2><p id="7cd6" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">不考虑小数值，floor返回小于或等于浮点数的最接近的整数，ceil返回大于或等于浮点数的最接近的整数。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es nq"><img src="../Images/7497d368d555f4dd648ba35c73e78d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ElJbnrprTQhzYrsmX-xeA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">来源:<a class="ae jj" href="https://www.mathsisfun.com/sets/function-floor-ceiling.html" rel="noopener ugc nofollow" target="_blank">mathsisfun.com</a></figcaption></figure><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="1cb0" class="la lb hi kw b fi lc ld l le lf">SELECT comm, FLOOR(comm), CEIL(COMM) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nr"><img src="../Images/13b119b4f71047af857656f1950e0725.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*Dxd71Hjwug45oogU4b7ucA.png"/></div></figure><h2 id="3b18" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">功率( )</h2><p id="3228" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">返回数字的另一个指定数字的乘方值。在这种情况下，它返回所有薪水的平方。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="c6de" class="la lb hi kw b fi lc ld l le lf">SELECT ename, sal, pow(sal,2) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ns"><img src="../Images/706fd5b82328e00be4c2c4bd373fc977.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*ALwS9j5zAJ-en-RHpwpJeQ.png"/></div></figure><h2 id="aacf" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">圆形( )</h2><p id="a008" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">将数字舍入到指定的小数位数。它需要两个参数，要舍入的数字和所需的小数位数。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es nt"><img src="../Images/a5647d6895d30694c48614cd9bb11af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_ZEXy83KY5ySHDbiT_CGA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">来源:<a class="ae jj" href="https://www.mathsisfun.com/rounding-numbers.html" rel="noopener ugc nofollow" target="_blank">mathsisfun.com</a></figcaption></figure><p id="a26a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">佣金分别四舍五入到小数点后1、2和3位。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="5a8c" class="la lb hi kw b fi lc ld l le lf">SELECT comm, ROUND(comm,1), ROUND(comm,2), ROUND(comm,3) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nu"><img src="../Images/aef7914f170301b0133c3c8ccd876998.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*wdJ_jZEmgjtBT09zab8mrw.png"/></div></figure><h2 id="0727" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">截断( )</h2><p id="bd83" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">返回截断为指定数量的小数值的值。如果第二个参数为0，则删除小数点；如果为正数，则截断小数部分中指定数量的值；如果为负数，则截断整数部分中指定数量的值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nv"><img src="../Images/98ea4586836a5c064fe19a0ca21b22e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*MT21_nDqi7edy3X2S-Tw9A.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">来源:lideshare.net</figcaption></figure><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="6129" class="la lb hi kw b fi lc ld l le lf">SELECT comm, TRUNCATE(comm,1), TRUNCATE(comm,-1) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nw"><img src="../Images/da0fad81425d50e12cbd0efa46776c43.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*Zio5HNEUwbCLD8kMZZggNg.png"/></div></figure><blockquote class="nx ny nz"><p id="2cda" class="jk jl oa jm b jn jo ij jp jq jr im js ob ju jv jw oc jy jz ka od kc kd ke kf hb bi translated"><strong class="jm hj">圆整和截断的区别:</strong></p><p id="38f6" class="jk jl oa jm b jn jo ij jp jq jr im js ob ju jv jw oc jy jz ka od kc kd ke kf hb bi translated">Round，将值舍入到最接近的整数，而truncate仅丢弃多余的值。</p></blockquote><h2 id="8c5a" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">添加日期( )</h2><p id="232f" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">用于向日期添加时间/日期间隔，然后返回日期。添加单位可以是日、月、年、季度等类型。列表如下。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oe"><img src="../Images/9a2447336ba90a4add06e62d489f3a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*QWy32Vmbf49v7nEwXTetmg.png"/></div></figure><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="f6c8" class="la lb hi kw b fi lc ld l le lf">SELECT hiredate, ADDDATE(hiredate, INTERVAL 10 DAY), ADDDATE(hiredate, INTERVAL 2 MONTH), ADDDATE(hiredate, INTERVAL 2 YEAR) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es of"><img src="../Images/734afa00222de255955aaa622225d655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tG5l1yNe_WMNZbpUnIRyyg.png"/></div></div></figure><h2 id="3e30" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">CURDATE()，CURTIME()，CURRENT_TIMESTAMP()</h2><p id="799a" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">这非常简单，返回当前日期、当前时间，以及当前日期和时间一起称为时间戳。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="913d" class="la lb hi kw b fi lc ld l le lf">SELECT curdate(), CURTIME(), current_timestamp();</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es og"><img src="../Images/86f96516d8b591fe85c0a8dd8b1e59f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*QcQq77k2nmBsrrD5YlnVzw.png"/></div></figure><h2 id="c837" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">DATEDIFF()</h2><p id="f581" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">假设如果我们想显示一个员工在公司的工作年限，我们需要用雇佣日期减去当前日期。这就是DATEDIFF()派上用场的地方，它返回两个日期之间的天数。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="18f0" class="la lb hi kw b fi lc ld l le lf">SELECT ename, hiredate, DATEDIFF(CURDATE(), hiredate) as 'experience in days' FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nw"><img src="../Images/1ff223cc12fa1dce67def35f2f65fdad.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*BD3C_TsVzgA_y5p-rXFlFw.png"/></div></figure><p id="7e6c" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">为了得到年份的差异，我们需要明确地做一些数学运算:除以365，并对结果取整。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="d3a7" class="la lb hi kw b fi lc ld l le lf">SELECT ename, hiredate, ROUND(DATEDIFF(CURDATE(), hiredate)/365) as 'experience in years' FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oh"><img src="../Images/e146dc76a4ad9b7c0e13ce49390559c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*_hk0aCntwxfy87qH5Uyjpw.png"/></div></figure><h2 id="8a54" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">日名( )，日月( )，日周( )，日年( )</h2><p id="b4d2" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">DAYNAME函数返回一天的名称(星期日、星期一、星期二等。)给定一个日期值。</p><p id="db6c" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在给定日期值的情况下，DAYOFMONTH返回自年初以来的天数。</p><p id="379a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在给定日期值的情况下，DAYOFWEEK基本上会返回一个整数，表示从星期日开始的一周中的某一天，值为0。查看下表中的DAYNAME，星期三是一周的第4天，星期五是一周的第6天，依此类推。</p><p id="bf39" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">DAYOFYEAR返回一个整数，表示自年初(1月1日)以来的天数。下面，1980年12月17日是从1980年1月1日算起的第352天。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="5737" class="la lb hi kw b fi lc ld l le lf">SELECT DAYNAME(hiredate), DAYOFMONTH(hiredate), DAYOFWEEK(hiredate), DAYOFYEAR(hiredate) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es oi"><img src="../Images/c4e28e3c53f9653f23540943de6cd3bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R0uFuWj0bmwNxigUPGokIw.jpeg"/></div></div></figure><h2 id="4a56" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">提取( )</h2><p id="a51f" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">用于提取给定日期的指定部分。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="bdfd" class="la lb hi kw b fi lc ld l le lf">SELECT EXTRACT(MONTH FROM hiredate), EXTRACT(YEAR FROM hiredate), EXTRACT(DAY FROM hiredate) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oj"><img src="../Images/af1f2c1ae99cc036c15afee3e54d04ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*A-jAgjkg5dvkIOuzi__kgg.png"/></div></figure><p id="8a00" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">我们可以从日期中提取下面给出的任何一部分信息。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oe"><img src="../Images/9a2447336ba90a4add06e62d489f3a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*QWy32Vmbf49v7nEwXTetmg.png"/></div></figure><h2 id="71db" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">季度( )</h2><p id="1cc8" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">返回给定日期所在的季度。</p><ul class=""><li id="caac" class="kh ki hi jm b jn jo jq jr jt kj jx kk kb kl kf ok kn ko kp bi translated">一月至三月是第一季度。</li><li id="ab2a" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf ok kn ko kp bi translated">第二季度是4月至6月。</li><li id="36de" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf ok kn ko kp bi translated">第三季度是7月至9月。</li><li id="c7ea" class="kh ki hi jm b jn kq jq kr jt ks jx kt kb ku kf ok kn ko kp bi translated">第四季度是10月至12月。</li></ul><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="9248" class="la lb hi kw b fi lc ld l le lf">SELECT hiredate, QUARTER(hiredate) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ol"><img src="../Images/e39d4aa78b20d3831dacbd360cd2400a.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*_TKxKp9EsUYjOBF_JK9dRA.png"/></div></figure><h2 id="c0e3" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">如果( )</h2><p id="f530" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">如果给定条件为真，则返回值，否则返回另一个值。</p><blockquote class="mo"><p id="8477" class="mp mq hi bd mr ms mt mu mv mw mx kf dx translated">IF( <em class="my">条件</em>，<em class="my">值_if_true </em>，<em class="my">值_if_false </em>)</p></blockquote><pre class="mz na nb nc nd kv kw kx ky aw kz bi"><span id="5140" class="la lb hi kw b fi lc ld l le lf">SELECT IF(SAL&lt;1000, "YES", "NO") FROM EMPS;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nk"><img src="../Images/56942d72c83ca6de8adf65c28fdd4b26.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*aieoeO192az-8OoambCHrA.png"/></div></figure><h2 id="4808" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">案例( )</h2><p id="6fa7" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">假设我们想根据雇员的薪水对他们进行分类。工资低于1000为低薪，1000至3000为合理工资，超过3000为高薪。我们必须使用如下的嵌套if函数。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="bec5" class="la lb hi kw b fi lc ld l le lf">SELECT ename, sal, IF(sal&lt;1000, “Underpaid”, IF(sal&gt;1000 AND sal&gt;3000,’Fairly paid’,’Overpaid’)) FROM EMPS;</span></pre><p id="af7a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">如果只有几个条件，这很好，如果我们有几个条件呢？然后我们需要使用如下的CASE函数。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="41fe" class="la lb hi kw b fi lc ld l le lf">SELECT ename, sal,<br/>   CASE<br/>     WHEN sal&lt;1000 THEN 'Underpaid'<br/>     WHEN sal&gt;1000 AND sal&lt;3000 THEN 'Fairly paid'<br/>     ELSE 'Overpaid' <br/>   END AS 'salary status'<br/>FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es om"><img src="../Images/7c25829d25f362e1ddc831f16e311f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*sFqUo_af7mRBHAB7f0f0qg.png"/></div></figure><h2 id="92ac" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">合并( )</h2><p id="a1a0" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">COALESCE接受一个参数列表，并返回第一个非空值。在下面的例子中，如果comm的值为null，那么它返回零。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="d1a5" class="la lb hi kw b fi lc ld l le lf">SELECT ename, comm, COALESCE(comm, 0) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es on"><img src="../Images/1c681041b84a2f2d2591b56d63cce0da.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*ySmFP3khewhY6wRStvaJgg.png"/></div></figure><h2 id="1cf5" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">数据库( )</h2><p id="685a" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">它返回您正在使用的当前数据库的名称。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="d262" class="la lb hi kw b fi lc ld l le lf">SELECT DATABASE();</span></pre><h2 id="0fb4" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">ISNULL()</h2><p id="0752" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">如果非null的给定值返回1，则返回0。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="896f" class="la lb hi kw b fi lc ld l le lf">SELECT comm, ISNULL(comm) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oo"><img src="../Images/d3b653946c2a60bd04b3fd028cd515ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*rTfFZiZfZ-_ptH_s_8SXgQ.png"/></div></figure><h2 id="5c49" class="la lb hi bd lo lp lq lr ls lt lu lv lw jt lx ly lz jx ma mb mc kb md me mf mg bi translated">努里夫( )</h2><p id="590c" class="pw-post-body-paragraph jk jl hi jm b jn mh ij jp jq mi im js jt mj jv jw jx mk jz ka kb ml kd ke kf hb bi translated">它接受两个参数，如果两个值相同，则返回null，否则传递第一个参数。参数可以是任何类型。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="3a78" class="la lb hi kw b fi lc ld l le lf">SELECT NULLIF(25, 25);</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es op"><img src="../Images/336258cdb9d3d091f2be8c65feb9863a.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*6IfdlngjoIPn-efgNFRZbA.jpeg"/></div></figure><p id="026b" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">下面我们比较每个员工的工资和佣金是否相同。我们可以看到没有雇员有相同的薪水和佣金，因此返回薪水，因为它是第一个通过的参数。</p><pre class="iy iz ja jb fd kv kw kx ky aw kz bi"><span id="1cb5" class="la lb hi kw b fi lc ld l le lf">SELECT sal, comm, NULLIF(sal, comm) FROM emps;</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es oq"><img src="../Images/cc1fa74053404deed614e7a30f4a3bc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*LvOZLmfMmY4Mq2ElpZ857A.png"/></div></figure></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><p id="b3e6" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">希望这是有帮助的，感谢您的阅读。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="er es or"><img src="../Images/9fcf0fbd76b275ef4f70bedffcb05a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_ukxmEEezSH-W5oI"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">皮特·佩德罗萨在<a class="ae jj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div></div>    
</body>
</html>