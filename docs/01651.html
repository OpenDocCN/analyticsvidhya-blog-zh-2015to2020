<html>
<head>
<title>MLflow Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLflow项目</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mlflow-projects-24c41b00854?source=collection_archive---------6-----------------------#2019-11-06">https://medium.com/analytics-vidhya/mlflow-projects-24c41b00854?source=collection_archive---------6-----------------------#2019-11-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b3b4593ca9a7ec19626adced49c04532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xq385dWU0Nd305g6MOKwDQ.png"/></div></div></figure><p id="5dcf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我的MLflow教程系列的第四篇文章:</p><ol class=""><li id="f1cb" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/setup-mlflow-in-production-d72aecde7fef">在生产中设置ml flow</a></li><li id="e1fc" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-basic-logging-functions-e16cdea047b"> MLflow:基本测井功能</a></li><li id="47c0" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-logging-for-tensorflow-37b6a6a53e3c">张量流的MLflow测井</a></li><li id="91e2" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-projects-24c41b00854"> MLflow项目</a>(你来了！)</li><li id="f782" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/retrieving-the-best-model-using-python-api-for-mlflow-7f76bf503692">使用Python API为MLflow检索最佳模型</a></li><li id="b59e" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/serving-a-model-using-mlflow-8ba5db0a26c0">使用MLflow服务模型</a></li></ol><p id="6d30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你创建一个新的项目或者克隆一个现有的项目，你可以通过简单地添加两个YAML文件，即。、<a class="ae jx" href="https://www.mlflow.org/docs/latest/projects.html#mlproject-file" rel="noopener ugc nofollow" target="_blank">ml项目文件</a>和<a class="ae jx" href="https://conda.io/projects/conda/en/latest/" rel="noopener ugc nofollow" target="_blank"> Conda </a>环境文件，放在项目的根目录下。</p><p id="7a0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一步不是必须的，但是强烈推荐，因为它不仅增强了模型的可再现性，而且将运行链接到代码的特定版本(它的git散列)。这非常有用，因为如果将来对代码的更改影响了它的功能和/或结果，用户可以简单地对特定的git提交进行git检验。</p><p id="beb6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Cityscapes语义分段数据集上<a class="ae jx" href="https://github.com/tensorflow/models/blob/master/research/deeplab/g3doc/cityscapes.md" rel="noopener ugc nofollow" target="_blank"> Deeplab的MLproject文件示例:</a></p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="e392" class="km kn hi ki b fi ko kp l kq kr">name: deeplab<br/>conda_env: conda.yaml</span><span id="9c4d" class="km kn hi ki b fi ks kp l kq kr">entry_points:<br/>  main:<br/>    parameters:<br/>      training_number_of_steps: {type: int, default: 900}<br/>      output_stride: {type: int, default: 16}<br/>      decoder_output_stride: {type: int, default: 4}<br/>      train_batch_size: {type: int, default: 1}<br/>      dataset: {default: 'cityscapes'}<br/>      train_logdir: {default: /home/sumeet/models/research/deeplab/datasets/cityscapes/exp/train_on_train_set/train}<br/>      dataset_dir: {default: /home/sumeet/models/research/deeplab/datasets/cityscapes/tfrecord}<br/>    command: "python train.py \<br/>    --logtostderr \<br/>    --training_number_of_steps={training_number_of_steps} \<br/>    --train_split='train' \<br/>    --model_variant='xception_65' \<br/>    --atrous_rates=6 \<br/>    --atrous_rates=12 \<br/>    --atrous_rates=18 \<br/>    --output_stride={output_stride} \<br/>    --decoder_output_stride={decoder_output_stride} \<br/>    --train_crop_size='769,769' \<br/>    --train_batch_size={train_batch_size} \<br/>    --dataset={dataset} \<br/>    --train_logdir={train_logdir} \<br/>    --dataset_dir={dataset_dir}"</span></pre><p id="85c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Conda环境文件的示例:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="81f5" class="km kn hi ki b fi ko kp l kq kr">name: production_env<br/>channels:<br/>  - defaults<br/>dependencies:<br/>  - _libgcc_mutex=0.1=main<br/>  - ca-certificates=2019.8.28=0<br/>  - certifi=2019.9.11=py37_0<br/>  - libedit=3.1.20181209=hc058e9b_0<br/>  - libffi=3.2.1=hd88cf55_4<br/>  - libgcc-ng=9.1.0=hdf63c60_0<br/>  - libstdcxx-ng=9.1.0=hdf63c60_0<br/>  - ncurses=6.1=he6710b0_1<br/>  - openssl=1.1.1d=h7b6447c_2<br/>  - pip=19.2.3=py37_0<br/>  - python=3.7.4=h265db76_1<br/>  - readline=7.0=h7b6447c_5<br/>  - sqlite=3.30.0=h7b6447c_0<br/>  - tk=8.6.8=hbc83047_0<br/>  - xz=5.2.4=h14c3975_4<br/>  - zlib=1.2.11=h7b6447c_3<br/>  - pip:<br/>    - absl-py==0.8.1<br/>    - alembic==1.2.1<br/>    - astor==0.8.0<br/>    - attrs==19.2.0<br/>    - backcall==0.1.0<br/>    - bleach==3.1.0<br/>    - chardet==3.0.4<br/>    - cityscapesscripts==1.1.0<br/>    - click==7.0<br/>    - cloudpickle==1.2.2<br/>    - configparser==4.0.2<br/>    - cycler==0.10.0<br/>    - databricks-cli==0.9.0<br/>    - decorator==4.4.0<br/>    - defusedxml==0.6.0<br/>    - docker==4.1.0<br/>    - entrypoints==0.3<br/>    - flask==1.1.1<br/>    - gast==0.2.2<br/>    - gitdb2==2.0.6<br/>    - gitpython==3.0.3<br/>    - google-pasta==0.1.7<br/>    - gorilla==0.3.0<br/>    - grpcio==1.24.1<br/>    - gunicorn==19.9.0<br/>    - h5py==2.10.0<br/>    - idna==2.8<br/>    - imdbclassifier==0.6.6<br/>    - importlib-metadata==0.23<br/>    - ipykernel==5.1.2<br/>    - ipython==7.8.0<br/>    - ipython-genutils==0.2.0<br/>    - ipywidgets==7.5.1<br/>    - itsdangerous==1.1.0<br/>    - jedi==0.15.1<br/>    - jinja2==2.10.3<br/>    - joblib==0.14.0<br/>    - jsonschema==3.1.1<br/>    - jupyter==1.0.0<br/>    - jupyter-client==5.3.4<br/>    - jupyter-console==6.0.0<br/>    - jupyter-core==4.6.0<br/>    - keras==2.3.1<br/>    - keras-applications==1.0.8<br/>    - keras-preprocessing==1.1.0<br/>    - kiwisolver==1.1.0<br/>    - mako==1.1.0<br/>    - markdown==3.1.1<br/>    - markupsafe==1.1.1<br/>    - matplotlib==3.1.1<br/>    - mistune==0.8.4<br/>    - mlflow==1.3.0<br/>    - more-itertools==7.2.0<br/>    - nbconvert==5.6.0<br/>    - nbformat==4.4.0<br/>    - notebook==6.0.1<br/>    - numpy==1.17.2<br/>    - opt-einsum==3.1.0<br/>    - pandas==0.25.1<br/>    - pandocfilters==1.4.2<br/>    - parso==0.5.1<br/>    - pexpect==4.7.0<br/>    - pickleshare==0.7.5<br/>    - pillow==6.2.0<br/>    - prettytable==0.7.2<br/>    - prometheus-client==0.7.1<br/>    - prompt-toolkit==2.0.10<br/>    - protobuf==3.10.0<br/>    - ptyprocess==0.6.0<br/>    - pygments==2.4.2<br/>    - pyparsing==2.4.2<br/>    - pyrsistent==0.15.4<br/>    - python-dateutil==2.8.0<br/>    - python-editor==1.0.4<br/>    - pytz==2019.3<br/>    - pyyaml==5.1.2<br/>    - pyzmq==18.1.0<br/>    - qtconsole==4.5.5<br/>    - querystring-parser==1.2.4<br/>    - requests==2.22.0<br/>    - scikit-learn==0.21.3<br/>    - scipy==1.3.1<br/>    - send2trash==1.5.0<br/>    - setuptools==41.4.0<br/>    - simplejson==3.16.0<br/>    - six==1.12.0<br/>    - sklearn==0.0<br/>    - smmap2==2.0.5<br/>    - sqlalchemy==1.3.9<br/>    - sqlparse==0.3.0<br/>    - tabulate==0.8.5<br/>    - tensorboard==1.15.0<br/>    - tensorflow==1.15.0<br/>    - tensorflow-estimator==1.15.1<br/>    - tensorflow-gpu==1.15.0<br/>    - termcolor==1.1.0<br/>    - terminado==0.8.2<br/>    - testpath==0.4.2<br/>    - tornado==6.0.3<br/>    - traitlets==4.3.3<br/>    - urllib3==1.25.6<br/>    - wcwidth==0.1.7<br/>    - webencodings==0.5.1<br/>    - websocket-client==0.56.0<br/>    - werkzeug==0.16.0<br/>    - wheel==0.33.6<br/>    - widgetsnbextension==3.5.1<br/>    - wrapt==1.11.2<br/>    - zipp==0.6.0<br/>prefix: ~/anaconda3/envs/production_env</span></pre><p id="7a79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以手动创建上述文件，或者如果您已经有一个稳定的Conda环境，您可以使用以下命令将其导出到一个文件中:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="e095" class="km kn hi ki b fi ko kp l kq kr">conda env export &gt; conda.yaml</span></pre><p id="a92f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多信息，请参考<a class="ae jx" href="https://www.mlflow.org/docs/latest/projects.html" rel="noopener ugc nofollow" target="_blank">物流项目</a>。</p><p id="a7ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下一篇文章中，我将向您展示如何使用Python API从MLflow的实验中检索最佳模型。</p></div></div>    
</body>
</html>