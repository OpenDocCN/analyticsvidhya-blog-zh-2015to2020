# 重温一个*-一个简单的策略游戏

> 原文：<https://medium.com/analytics-vidhya/revisiting-a-a-simple-strategy-game-31be38342b89?source=collection_archive---------17----------------------->

*空间转基础动作！*

L 我想把这个概念扩展到更多的功能性程序，开始类似于一个基本的回合制策略游戏，这是我特别喜欢的一个游戏类型。

借鉴《家园世界》或《太阳帝国之罪》等经典游戏(我知道它们是即时战略游戏，但它们碰巧是我最喜欢的两个游戏)，我决定用太空主题来设计我的游戏。因此，我自豪地向你们介绍星际上将 V0.0 版！！！

![](img/2d07b74320be0742cf6fe22b6ede648f.png)

示意鼓掌！

我用。Net Forms，有两个原因，首先，我想成为一种比 Python 更适合桌面应用程序开发的语言。NET 提供了很大的灵活性来创建用户界面，并使它们与核心逻辑进行交互。它还允许在面向对象的设计中有更大的通用性，对于 C#语言的结构方式，我不打算深入讨论它的细节，因为这不是这篇文章的范围，但我会提供一个 GitHub 库，其中有它的完整代码。

这个程序本身与我在 python 上制作的最初的控制台程序没有太大的不同，但它确实有一个关键的不同，在最初的程序中，目标仅仅是从一边穿过棋盘到另一边而不被敌人抓住。在星际上将有一个转折，现在我们必须在一个基于战术的空间战斗中击败敌人，令人兴奋！。

# **基本规则**

每个玩家(人类和电脑)有 3 个动作点，或 ap。这些 ap 中的每一个都可以用来在棋盘上移动或者攻击对手。当玩家在 ap 之外时，它必须把它的回合传给对面的玩家。当一名玩家死亡时，游戏结束。

# 游戏架构

虽然这款游戏中的人工智能实现与 A*的上一版本几乎相同，但新增的功能和图形界面需要更广泛的类架构，以便对游戏元素进行有效和可追踪的控制。记住这一点，我们在这里有 7 个不同的类:上将，船，董事会，敌人队列，节点和形式 1

海军上将:保存玩家的数据和行为、舰队规模、行动点数，并实现控制船只和攻击对手的方法

**舰船:**舰船包含了大多数海军上将行为方法使用的关于舰船的数据，它给出了关于生命值、攻击力、舰船名称和其他有用的统计信息，这些信息对于跟踪舰船可以执行的行动是必要的。ship 类还有一个对 Node 类的引用，用于了解特定船只在给定时间处于哪个节点。

**板:****板类是一个节点数组形式的数据结构，它跟踪船只的位置，为将军们提供关于他们船在板内相对位置的信息**

****Node:**Node 类是 Board 类中的基本组成元素，它跟踪 Board 数组中特定节点的 X，Y 坐标，并保存对 Ship 对象的引用，以验证特定节点上是否存在船只**

****队列:**一种标准的队列结构，用在 A*实现中**

****敌人**:敌人职业继承自上将，处理敌人玩家的 AI 逻辑**

****Form1:** Form 1 是由。Net 框架来处理所有的界面元素以及它们与核心逻辑的交互**

**![](img/4f7aaad5d293469822c04a5023eba2ad.png)**

**程序体系结构**

# **有趣的功能**

**所以你已经从主屏幕上看到了我的界面，我希望，有点直观，如果不是 AAA 标准的抛光和吸引力。然而，这种布局对我来说并不是直观的，而是几次试验的结果，这些试验使我越来越多地改进了命令输入给程序的方式，我还需要解决精灵在屏幕上移动的方式，这样它既与玩家或计算机给定的方向相联系，同时又与棋盘和节点数据结构相协调。最终，我决定让精灵以固定的数量移动，并且每次只能向一个方向移动，也可以让他们向任何方向移动，甚至跳过节点在棋盘上“传送”,但是这样的移动规则会破坏游戏。当用户按下其中一个移动按钮时，船会向选定的方向移动，如果船没有移动了，程序会通知我们，并禁用除了通过以外的所有动作按钮**

**![](img/86f68c0699ef4394f644c311cfcc0021.png)**

**我能动了。**

**一旦击中 pass，敌舰执行它的回合，召唤 A*向我们的精灵移动，如果敌人发现我们的飞船，它就开始攻击循环。**

**![](img/06667f04faf2e5ef97ad9d57fc9eb492.png)**

**哇它在追我！**

**值得一提的是，每当敌人或玩家的船只移动时，程序会扫描周围的节点，看看是否有船只出现，如果有，就表示玩家已经获得了一个目标，可以攻击它。**

**玩家连续攻击对方，直到只有一个人站立，攻击方法本身利用随机概率来引入机会因素，使游戏更有趣。**

# **最后的想法和下一步**

**设计和创建这个项目花了我大约 3-4 周的时间，我有一个很大的优势，因为我已经有了定义 A*的基础，只需要将它们从 python 翻译成 C#就可以了。在这个项目中，我不得不处理的主要问题主要与从界面到节点/板逻辑的信息流有关，以及如何有效地显示玩家和敌人的行动，但是搞清楚整个交易结果是一件非常有趣的事情。将用户界面轻松传达给战斗棋盘的解决方案是使用一个 Windows 窗体图片框元素，让我显示精灵，同时，可以作为引用包含在与之相关联的船对象中，从而允许发出移动命令并跟踪棋盘周围的船。**

**我该何去何从？好了，现在我已经能够创建一个工作的棋盘游戏，下一步将是把它移植到一个游戏引擎(如 Unity MonoGame)并添加更酷的功能，如音乐、动画、更好看的精灵和更有趣的 UI。敌人的人工智能也可以得到更多的改进，使其更具吸引力和挑战性。**

**该程序可以改进的另一个方面是游戏的异常处理和用例测试；在某些情况下，游戏中断(例如，当我试图移动而没有事先选择一艘船，或者当一艘船)导致应用程序崩溃。**

**游戏编程是一个相当大的挑战，即使是像《星际舰队》这样功能有限的游戏，编程也需要大量的努力和工作时间，但是人们可以学到很多面向对象编程、设计模式和 UI 设计的知识，而且它们是非常有趣的项目。**

**下面我为整个代码留了一个 GitHub 库，以防你想看它的细节或者自己找点乐子**

**[](https://github.com/Rhaegar2012/Star-Admiral) [## 雷加 2012/星际舰队司令

### 战略棋盘游戏实现一个*。通过在以下网站创建帐户，为《雷加 2012/星际舰队》的发展做出贡献

github.com](https://github.com/Rhaegar2012/Star-Admiral)**