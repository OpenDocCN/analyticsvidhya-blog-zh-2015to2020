<html>
<head>
<title>EDA of Hflights with R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带R的高频灯EDA</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/eda-of-hflights-with-r-a280579f3115?source=collection_archive---------15-----------------------#2020-02-09">https://medium.com/analytics-vidhya/eda-of-hflights-with-r-a280579f3115?source=collection_archive---------15-----------------------#2020-02-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/162c94e2a28de8ca9d174effe49c99ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*xT1uXY4VmOZQm1_ZU19weA.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">图片来自<a class="ae iq" href="https://all-free-download.com/free-photos/download/lufthansa-airbus-a380_516417.html" rel="noopener ugc nofollow" target="_blank">这里</a></figcaption></figure><p id="c018" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这次我们将讨论如何使用高频光数据建立假设。关于统计数字的可视化，请参见之前的帖子。</p><p id="e513" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">重点是查看数据和识别出现的问题的过程。继续质疑数据会帮助你用各种方式分析数据。</p><h2 id="f918" class="jp jq hi bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated"><strong class="ak">数据结构</strong></h2><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es kk"><img src="../Images/58ce619a8f5ae77c367a52b0a4b1fd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yd4BluE2B9uD-v0DfIieGg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">数据结构</figcaption></figure><p id="50c2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">使用r中内置的hflights包。</p><h2 id="7156" class="jp jq hi bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated"><strong class="ak">缺失值</strong></h2><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es kt"><img src="../Images/224673a2c22b443a1d7850e912d3c837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AlEvzk9wHMGA5MWB3lLdeA.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">漏测值</figcaption></figure><p id="2bf5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">有些变量大约有3000个缺失值。因为取消存在变数，我认为缺失值是取消的航班。</p><p id="ff0e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">取消的航班数量是2973。</p><ul class=""><li id="7649" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">将取消航班的缺失值转换为零</li><li id="2f2d" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">取消的有2973个，而“DepDelay”少了2905个。68填充的是什么？</li><li id="7237" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">我的期望是:航班被取消了，但它去了目的地的下一个航班。这可能已经被记录下来了。</li></ul><p id="6a66" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">缺失值多于2973的变量</p><ul class=""><li id="33d4" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">在这种情况下如何替换丢失的值</li><li id="2332" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">为了方便起见，我们简单地删除了该行并继续。</li></ul><p id="195e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在数据已经准备好了，创建一个假设。第一个问题是关于延迟时间。</p><p id="2771" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">假设1。飞机多的机场影响航班延误吗？也就是飞机多的机场延误时间长吗？</strong></p><p id="7964" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">简而言之，我认为繁忙的机场会有更长的到达延迟。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es li"><img src="../Images/7610346ca8e84a1d880b4ed7e845207a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_tFTgrOVI7xaG40AiGDc0A.png"/></div></div></figure><ul class=""><li id="886a" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">它可以让你在一个情节中尽可能地表达你想看到的所有信息。</li><li id="2c14" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">颜色越浅(越靠左)，进来的飞机就越多。</li><li id="bd25" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">用橙色突出显示超过平均延误时间的机场</li><li id="78e8" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">机场延误时间的分布似乎与航班数量无关。</li><li id="5459" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">然而，延误超过10分钟的机场更多位于右侧，而不是左侧。</li></ul><p id="264e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">机场对比之后，我们自然对航空公司产生了好奇。</p><p id="6fe9" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">假设二。我们认为航班较少的航空公司延误会更少，因为它们在飞行阶段相对不太忙。</strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lj"><img src="../Images/777b2c0c0bce4e238285d3132812b7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLH3AlaL9b-hkWypaTHDig.png"/></div></div></figure><ul class=""><li id="cfb2" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">航班数量最少的两家航空公司都表现出较低的延误时间，但很难断定它们总体上倾向于这样做。</li><li id="908f" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">航班量大的前三四家航空公司也有类似的延误情况。</li><li id="832c" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">这些航空公司的条形颜色显示，它们占航班总数的大多数。</li></ul><p id="f8e8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">没有得到预期的结果，不过还好。</p><p id="5e4d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">假设3。既然我们已经按航空公司做了比较，我们就按飞机做比较。这可以通过数据的“TailNum”变量来检查。</strong></p><p id="5dcd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">每架飞机将有不同的飞行次数。我预计少量航班会延误很长时间。这是因为我认为航班量大的飞机会足够稳定运行。航空公司将只比较上面确定的前四名。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lk"><img src="../Images/119ae6933add26b1cbeaaa71e7fcd428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ank-5_ob8gDFUa__Xk_k2w.png"/></div></div></figure><ul class=""><li id="97cf" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">在OO的情况下，你可以看到航班少的飞机延误大。你也可以看到平均延迟是负的。</li><li id="3e61" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">在WN的例子中，你可以看到更少的航班有更多的延误。</li><li id="ce77" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">在XE中，你可以看到有几架飞机的飞行次数非常高，在这些情况下，延迟不是很大。</li></ul><p id="502a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果延误时间为负，即比预定时间提前开始，<br/>如果您没有在规定时间内办理登机手续，某些规定允许飞机在起飞时间之前离开。</p><p id="19f5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我只是想检查一下位于图表下方的OO航空公司飞机的数据。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ll"><img src="../Images/1a710474907558db30f5cc4f83100d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H27VS3Z642CxPDsmnxJogw.png"/></div></div></figure><ul class=""><li id="7ae7" class="ku kv hi it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc bi translated">目的地是SLC，除了一个航班。</li><li id="ee97" class="ku kv hi it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc bi translated">发车时间多为18:30-18:45。</li></ul><blockquote class="lm"><p id="2cd0" class="ln lo hi bd lp lq lr ls lt lu lv jo dx translated"><em class="lw">关于取消代码</em></p><p id="9088" class="ln lo hi bd lp lq lx ly lz ma mb jo dx translated"><em class="lw"> A =承运人，</em></p><p id="d18c" class="ln lo hi bd lp lq lx ly lz ma mb jo dx translated"><em class="lw"> B =天气，</em></p><p id="bb23" class="ln lo hi bd lp lq lx ly lz ma mb jo dx translated"><em class="lw"> C =国家空气系统，</em></p><p id="5c20" class="ln lo hi bd lp lq lx ly lz ma mb jo dx translated"><em class="lw"> D =安全</em></p></blockquote><p id="0da2" class="pw-post-body-paragraph ir is hi it b iu mc iw ix iy md ja jb jc me je jf jg mf ji jj jk mg jm jn jo hb bi translated"><strong class="it hj">我们来看看航空公司的取消因素</strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/647fff634e2c07b9cef21f097e783c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Y_1wpFKDNhdiBFCF6thdg.png"/></div></figure><p id="3e42" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">总的来说，虽然A和B的取消原因相似，但我们可以看到B是CO的大多数。</p><p id="ee18" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">我们也按一周中的某一天进行检查。</strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/18ad6a27f929be9d8801fd6ce298dcf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zj4l0WAh_BDc0ywUsGCjg.png"/></div></figure><p id="7062" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我注意到除了WN，周四和周五有很多航班取消。</p><p id="d5d8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">比较每日和航空公司的延误。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es li"><img src="../Images/3d29e9ef26ca48d5b6f16dcab22c09f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bBRsjhRJ2BeyFeR7ocYdwA.png"/></div></div></figure><p id="a1c1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">假设四:按时间检查。我觉得早晚都会有很多用处。我把时间绑了两个小时，对比了一下。</strong></p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lj"><img src="../Images/acb023ea13d615556d067f332fc58d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9cChGOZ50WqCK83VQCj4Hg.png"/></div></div></figure><p id="10f5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">可以看到00:00以后航班数量迅速下降。</p><figure class="kl km kn ko fd ij er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es lj"><img src="../Images/0f068f8d619d36fbd1e826c529bf08e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RGzMxY0jg0L8whKrWFABCA.png"/></div></div></figure><p id="96ae" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但此时平均延迟时间相对较大。由于此时用户数量较少，机场似乎能够避免复杂性，但高延迟的风险似乎不可避免。</p><p id="70a2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">hflights数据分析到此结束。随时欢迎提问或指点。请留下评论。谢谢你。:)</p></div></div>    
</body>
</html>