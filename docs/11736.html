<html>
<head>
<title>An Intuitive Understanding on Tensor Dimension with Pytorch — Using torch.sum() as Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Pytorch 直观理解张量维数——以 torch.sum()为例</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/an-intuitive-understanding-on-tensor-sum-dimension-with-pytorch-d9b0b6ebbae?source=collection_archive---------13-----------------------#2020-12-16">https://medium.com/analytics-vidhya/an-intuitive-understanding-on-tensor-sum-dimension-with-pytorch-d9b0b6ebbae?source=collection_archive---------13-----------------------#2020-12-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f6c69be07830a5bc525f1b38c7673394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ehaZHqpgAtJCxOHoq1oKsA.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="5a2a" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">你是否曾经对张量维度如何工作感到困惑，尤其是当你需要在高维度上应用类似<code class="du jv jw jx jy b">sum()</code>的运算时？你在这篇文章中学到的技巧不仅适用于<strong class="iz hj">张量</strong>维，也适用于<strong class="iz hj"> Numpy ndarray </strong>维，因为多维数组/张量的逻辑是一样的。</p><p id="aa5b" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这篇文章将一劳永逸地解决你头脑中的困惑。它将为您提供:</p><ul class=""><li id="cc01" class="jz ka hi iz b ja jb je jf ji kb jm kc jq kd ju ke kf kg kh bi translated">一种直观的方式来形象化操作<code class="du jv jw jx jy b">sum()</code>如何在张量维度上工作。</li><li id="fd39" class="jz ka hi iz b ja ki je kj ji kk jm kl jq km ju ke kf kg kh bi translated">使用 Pytorch 检查代码中张量和的例子。</li></ul></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="d6c0" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">张量的形状(维度)</h1><p id="8bdd" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">首先，<strong class="iz hj">张量</strong>只是<strong class="iz hj">多维数组</strong>的别称。当数学家定义了术语:标量(0D)、向量(1D)、矩阵(2D)之后，我们需要一个更高阶的通用术语和概念</p><p id="71af" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这里有一个张量，我们可以通过统计<strong class="iz hj">每一级</strong>的括号数来找到张量的<strong class="iz hj">形状</strong>。(请注意，最外面的括号将被忽略，因为它只是用来包装整个对象。)</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/5b66ac450c40ed53ad4abb35226eb907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*GIXiDv_c53naB8iljAAeig.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/fece40c3ee6aefd4b844d77b59096e82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*Wavne0Xyzdf51LTWeUrygg.png"/></div></figure><p id="ee54" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，我们在最外层有 2 个元素(dim: 0)，在第二层有 3 个元素(dim: 1)，在最内层有 3 个元素(dim: 2)。因此，张量的形状是(2，3，3)。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="a449" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">维度 0 上的总和</h1><p id="d9e3" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">接下来，我们将对维度 0 求和，我们只需遵循 3 个简单的步骤:</p><ul class=""><li id="5169" class="jz ka hi iz b ja jb je jf ji kb jm kc jq kd ju ke kf kg kh bi translated">标识维度中的元素。</li><li id="4565" class="jz ka hi iz b ja ki je kj ji kk jm kl jq km ju ke kf kg kh bi translated">重叠这些元素。</li><li id="fef5" class="jz ka hi iz b ja ki je kj ji kk jm kl jq km ju ke kf kg kh bi translated">用 x 光眼把出现在同一个位置的数字加起来。</li></ul><p id="e66d" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">就是这样！如下所示的分步插图:</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/6f113dbb00eee83ca295914b470b069b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*1JXsZN9wr5gPeVio2SyJ-Q.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/b0b7475e2028550df973d83f7a3d756c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*SrD_3bvXs-Sr7uDnUaNfHw.png"/></div></figure><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/3b53ac89bd9f7594e3d7d162c4fcb071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*xVkZJmLOagpzEQekdPgOpQ.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/a197d9bcd2d8e9db012090a95777adf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*SSEEriOfs-GD_qqwTPSwNg.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="8dab" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">注:</strong>当你对一个张量中的一个维度<strong class="iz hj"> <em class="ma"> i </em> </strong>求和时，它会<strong class="iz hj">将那个维度<strong class="iz hj"> <em class="ma"> i </em> </strong>减少到<strong class="iz hj"> <em class="ma"> 1 </em> </strong>，因为你对那个维度中的每个数求和，并将多个数减少为一个和。你会看到这发生在每一个维度。</strong></p><p id="212b" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在，我们已经知道这在维度 0 上是如何工作的，让我们在维度 1 上挑战同样的步骤。</p><h1 id="38e5" class="kn ko hi bd kp kq mb ks kt ku mc kw kx ky md la lb lc me le lf lg mf li lj lk bi translated">维度 1 上的和</h1><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/62047def0c98779f1f759b56c238079a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*6TmeZaXDeF0tDVvMAg-NrQ.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/d99dc2486621dbb26ffc003cb74018d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*9xNXPBgiS9nUZsH6tQ_jpw.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/85f857fd2293948dfa165d43ec59d8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*ICsjirpEHhbHK0tK7w-52g.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="f3de" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">注意</strong>:在我们对维度 1 求和之后，维度 1 上发生了同样的维度缩减，求和后的新形状已经缩减为(2，1，3)。</p><p id="4317" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我们只需要把同样的步骤进行到最后一个维度。</p><h1 id="28d3" class="kn ko hi bd kp kq mb ks kt ku mc kw kx ky md la lb lc me le lf lg mf li lj lk bi translated">维度 2 上的和</h1><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/f921eca0c85f0f90776105b063702dab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*tnZnQHDLZZP5devwY0jcpw.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/7ffb24aafe906a9b5991f60244b8a6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*1Y1A1E5PC1d5X4iLSLbeOA.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es mi"><img src="../Images/4e95612e746f298860105de0afd0b92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*z4agHZy5wQ1D82_suDFEhA.png"/></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="b7f3" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">注意</strong>:在我们对维度 2 求和之后，同样的维度缩减发生在维度 2 上，并且求和之后的新形状已经缩减到(2，3，1)。</p><p id="6952" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在我们有了张量<code class="du jv jw jx jy b">sum()</code>运算如何工作的想法，让我们用代码来实现它。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="e099" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">使用 Pytorch 执行张量求和()</h1><p id="bba6" class="pw-post-body-paragraph ix iy hi iz b ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju hb bi translated">下面的 Jupyter 笔记本展示了我们如何执行张量<code class="du jv jw jx jy b">sum()</code>并检查我们对其维度的理解。</p><figure class="lr ls lt lu fd ij"><div class="bz dy l di"><div class="mj mk l"/></div></figure><p id="4c78" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">注意:</strong>在函数中，您需要指定<code class="du jv jw jx jy b">keepdim=True</code>来保留它的原始维度，正如我们在第一个直观部分中展示的。否则，减少到 1 的维度将被简单地删除。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="6b14" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这是我在努力理解处理高张量维度的运算符(如<em class="ma"> sigmoid </em>、<em class="ma"> max </em>、<em class="ma"> sum </em>等)期间自学的最直观的可视化方法。)，我希望这篇文章能增强你的张量直觉，让你在工作中快速识别张量维度！如果你觉得这个帖子有用，请给这个帖子留个“掌声”。你的鼓励是我前进的动力！感谢您的阅读！</p></div></div>    
</body>
</html>