<html>
<head>
<title>Simple Progress Bar-Integrate with any python project in a few seconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单的进度条——在几秒钟内集成任何python项目</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/progress-bar-python-for-jupyter-notebook-f68224955810?source=collection_archive---------15-----------------------#2020-06-19">https://medium.com/analytics-vidhya/progress-bar-python-for-jupyter-notebook-f68224955810?source=collection_archive---------15-----------------------#2020-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d8d4f6d5b94f8b2e129bb5d229857dcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HDhmx2exdCtfDWkf"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">潘卡杰·帕特尔</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="ad50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为什么需要进度条？是的，有时候你需要监控任务的进展。大多数时候，我发现从头开始构建进度条有问题。有时一个非常基础的就能完成工作，但并不总是如此。你用过Keras(Python的机器学习API)吗？它有自己的自定义进度条，可以很好地展示训练。当我开始用PyTorch工作时，我感觉缺少了一些东西，因为每次我都需要建立一个进度监视器。所以，我决定建立一个包，一个简单的包，但是可以很容易地做很多事情。</p><p id="c56c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天，我将指导你如何使用我的进度条。你可以在我的<a class="ae iu" href="https://github.com/tarunk04/progress-bar-python" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库上找到文档和包。我试图让事情变得简单和直观。</p><p id="2449" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以将它用于许多不同的用途，但我是为了用PyTorch进行进度监控而构建的。</p><h1 id="d0f7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">装置</h1><p id="e1f1" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">只需要一个文件<code class="du kw kx ky kz b">progress.py</code>进入你的工作目录。从<a class="ae iu" href="https://github.com/tarunk04/progress-bar-python" rel="noopener ugc nofollow" target="_blank"> GitHub </a>获取文件。</p><p id="7267" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注意:我将很快通过pip安装提供python包。</strong></p><h1 id="da3c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">如何使用</h1><p id="fca3" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我将通过两个简单的例子来解释。更多文档可以在我的<a class="ae iu" href="https://github.com/tarunk04/progress-bar-python" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><ol class=""><li id="921f" class="la lb hi ix b iy iz jc jd jg lc jk ld jo le js lf lg lh li bi translated"><strong class="ix hj">例1: </strong>假设你需要处理图像，你有2478张图像要处理。让我们看看如何制作一个简单的进度监视器，如下图所示。</li></ol><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/049bbecd2a8d2d8dc3b2074b22f155d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bRMe-Phi-fpYXL43iKqNFQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">选项1</figcaption></figure><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/65087851138b3a455e5f924cc53ad3fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUmF7t8Wte1sPcuSHcMIkQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">选项2</figcaption></figure><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">选项1的代码</figcaption></figure><p id="f459" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">设置进度条需要几个步骤。创建一个进度条对象，根据需要创建不同的元素实例，编译所有元素，并在需要的地方使用编译后的进度条。</p><p id="5cfd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第6行:创建一个进度条的实例。模式可以是<code class="du kw kx ky kz b">bar</code>和<code class="du kw kx ky kz b">no-bar</code>。</p><p id="27b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第9行:按照这个例子的要求创建一个元素。元素的第一个参数是为进度监视器显示的名称，第二个参数是元素的初始值。</p><p id="1416" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">对于选项2: </strong>你只需要这样添加元素参数。<code class="du kw kx ky kz b">counter = P.Element("Images Processed", max_value=images, value_display_mode=1)</code></p><p id="8693" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">阅读文档了解更多关于<a class="ae iu" href="https://github.com/tarunk04/progress-bar-python/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>的参数。</p><p id="2975" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编译非常简单，就像按顺序堆叠元素一样。还有一点需要注意，你可以在元素栈之间<strong class="ix hj">添加</strong>一个<strong class="ix hj">自定义字符串</strong>。您可以从如下所示的两种不同语法中进行选择:</p><p id="0164" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kw kx ky kz b">p = p(Element1)(Element2)...("String is also allowed")...(ElementN)</code></p><p id="8d78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运筹学</p><p id="2d10" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kw kx ky kz b">p = p + Element1 + Element2 + ...+ "String is also allowed" + ...+ (ElementN)</code></p><p id="04a4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">第12行:</strong>编译单个元素。</p><p id="be67" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，您已经准备好将定制的进度监视器插入到您的应用程序中来跟踪进度。只是你需要在使用它之前初始化进度条，然后在每一步更新它。</p><p id="ff60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">更新元素的值也非常容易，只需遵循语法<code class="du kw kx ky kz b">Element1(updated_value)</code>。在更新了所有元素的值之后，您需要渲染进度条来显示更新后的值，这可以通过调用<code class="du kw kx ky kz b">p.update(step =1)</code>来完成。就是这样。</p><p id="ed12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.<strong class="ix hj">例2: </strong>假设你想在PyTorch中创建一个训练进度的进度条。因此，让我们创建一个进度条，如下例所示。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/dc9febfc5cafad5ed1b63a1ccbef6a5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6oI_7RC77efkQmwwYFNiQ.png"/></div></div></figure><p id="82fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，决定你需要什么元素。</p><p id="8a01" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">元素:</p><ol class=""><li id="43c0" class="la lb hi ix b iy iz jc jd jg lc jk ld jo le js lf lg lh li bi translated">纪元(跟踪每个纪元)</li><li id="5461" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js lf lg lh li bi translated">条形图(预定义元素)</li><li id="e77d" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js lf lg lh li bi translated">批次(每个时期中批次的进度)</li><li id="d451" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js lf lg lh li bi translated">ProgressTime(预定义元素)(每个时期的时间)</li><li id="e33c" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js lf lg lh li bi translated">损失(跟踪培训期间的损失)</li><li id="1338" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js lf lg lh li bi translated">Acc(在培训期间跟踪准确性)</li></ol><p id="a2ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看代码，试着理解它。大部分事情和以前一样，但有几件事我还没有讨论过，我将会谈到。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">创建元素和编译进度条。</figcaption></figure><p id="af6a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看到第1行中的模式已经更改为<code class="du kw kx ky kz b">bar.</code>这里我定义了6个元素(4个自定义元素和2个预定义元素)。Bar和ProgressTime元素是预定义元素，如示例代码所示。Bar元素也可以接受一些参数，查看GitHub 上的文档。ProgressTime只接受一个参数<code class="du kw kx ky kz b">postfix</code>任何你想在时间之后添加的字符串，否则留空。</p><p id="9ac7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编译部分与前面的例子相同。您可以通过调用<code class="du kw kx ky kz b">p.get_format()</code>来检查编译后进度条的最终格式。</p><figure class="lk ll lm ln fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">初始化和更新进度条(进度条正在使用中)</figcaption></figure><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/08c33339acb87060915611b86d872810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HsM34gksYkxCe0tJqILKyw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">决赛成绩</figcaption></figure><p id="5a04" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这一部分，除了<strong class="ix hj">第23行，其他都一样。</strong>如果您不设置新的光标位置，新时代的进度将被旧时代的进度覆盖。如果您想保存每个时期的进度，那么您需要在每个时期完成后调用<code class="du kw kx ky kz b">p.set_cursor_postion()</code>。</p><p id="ef91" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好了😎。希望这篇帖子对你有帮助。如果你觉得我的工作有帮助，请分享。</p><h1 id="947d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">完整的代码和文档</h1><p id="9b48" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在我的GitHub上找到完整代码:【https://github.com/tarunk04/progress-bar-python/ T4】</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><figure class="lk ll lm ln fd ij er es paragraph-image"><a href="https://www.buymeacoffee.com/tarunkumar"><div class="er es me"><img src="../Images/6d60b235fcc46a4bd696b90e886419ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*Dpw8-hNGI2fDmosV4E8DVQ.png"/></div></a></figure><h1 id="975e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">反馈</h1><p id="401e" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">今天的帖子到此为止，如果你有任何问题，请在评论中告诉我。此外，如果你发现任何错误，请写信给我在tarun12.tarunkr@gmail.com。</p><p id="645c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想让我在接下来的帖子中涉及一些特定的话题，请在评论中告诉我。</p><p id="1851" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关注:</p><ul class=""><li id="5a9a" class="la lb hi ix b iy iz jc jd jg lc jk ld jo le js mf lg lh li bi translated">我在GitHub上有更多这样的项目</li><li id="62fe" class="la lb hi ix b iy lr jc ls jg lt jk lu jo lv js mf lg lh li bi translated">我在<a class="ae iu" href="https://www.kaggle.com/tarunk04" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上。</li></ul><p id="84ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您抽出时间阅读本文。喜欢请分享。</p><p id="0601" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">我正在寻找拥有不同技能的人来建立一个封闭的社区，这样我们就可以一起打造令人惊叹的产品。如果你有兴趣，请在Linkedin上联系我或给我发邮件</strong></p></div></div>    
</body>
</html>