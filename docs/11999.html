<html>
<head>
<title>Configure Hadoop and start cluster services using Ansible Playbook !!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ Ansible Playbook é…ç½® Hadoop å¹¶å¯åŠ¨é›†ç¾¤æœåŠ¡ï¼ï¼</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/configure-hadoop-and-start-cluster-services-using-ansible-playbook-fb0708488c50?source=collection_archive---------16-----------------------#2020-12-27">https://medium.com/analytics-vidhya/configure-hadoop-and-start-cluster-services-using-ansible-playbook-fb0708488c50?source=collection_archive---------16-----------------------#2020-12-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1b508f53d03964107eb0519984fff073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GLjbQ3SfYO792G0oThm_2g.png"/></div></div></figure><p id="5427" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ¸…å•æ–‡ä»¶ï¼Œansible å¯ä»¥åœ¨å…¶ä¸­çŸ¥é“è¿™äº›æ˜¯ç›®æ ‡èŠ‚ç‚¹çš„ IPã€‚<br/>åº“å­˜æ–‡ä»¶æ„å‘³ç€å®ƒåŒ…å«å¸¦æœ‰è®¤è¯çš„ç›®æ ‡èŠ‚ç‚¹çš„ IPã€‚å…¶ä¸­æˆ‘ä»¬ç»™å‡ºäº†ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹çš„ IPâ€¦</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/f9c9a7da54e161076f5fd65c4fa58b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdT_FgC1wfmhT0IQ8Ydj3A.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">å­˜è´§æ–‡ä»¶</figcaption></figure><p id="9a6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">ä¸»é…ç½®</strong></p><p id="62ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1 </strong> &gt;é¦–å…ˆï¼Œæˆ‘ä»¬å°†è½¯ä»¶è½¬ç§»åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°†å®‰è£…â€¦</p><p id="d3b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨å®‰è£…ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥æ˜¯å¦å®‰è£…äº†è½¯ä»¶ï¼Œå› ä¸º Ansible ä¸­æ²¡æœ‰ç”¨äºè®¾ç½®æˆ–å®‰è£… Hadoop è½¯ä»¶çš„æ¨¡å—(ç”±äºä½¿ç”¨äº†é¢å¤–çš„å…³é”®å­—ï¼Œå³å¼ºåˆ¶ Hadoop å’Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æ¨¡å—ï¼Œå³<strong class="is hj">å‘½ä»¤</strong>ä¸æ”¯æŒ ansible çš„ç­‰å¹‚è¿ç®—<strong class="is hj"> â€¦ã€‚</strong></p><pre class="jp jq jr js fd jx jy jz ka aw kb bi"><span id="cbb6" class="kc kd hi jy b fi ke kf l kg kh">- hosts: master<br/>  <br/>  vars_prompt:<br/>  <br/>  - name: fold_name_hadoop_master<br/>    private: no<br/>    prompt: "Enter the Name for your master Folder ?"</span><span id="0439" class="kc kd hi jy b fi ki kf l kg kh">- name: port_num_for_hdfs<br/>    private: no<br/>    prompt: "Give the Port Num for the Master Service ?"</span><span id="1218" class="kc kd hi jy b fi ki kf l kg kh">tasks:<br/> <br/>  - name: "Transfering the SOftware Hadoop !!"<br/>    copy: <br/>     dest: "/root/hadoop-1.2.1-1.x86_64.rpm"<br/>     src: hadoop-1.2.1-1.x86_64.rpm<br/>  <br/>  - name: "Transfering the Software Java !!"<br/>    copy:<br/>     dest: "/root/jdk-8u171-linux-x64.rpm"<br/>     src: jdk-8u171-linux-x64.rpm</span><span id="dd44" class="kc kd hi jy b fi ki kf l kg kh">- name: "Checking that Hadoop is INstalled or NOt !!"<br/>    command: "rpm -q hadoop"<br/>    register: hadoop<br/>    ignore_errors: yes</span><span id="8bc1" class="kc kd hi jy b fi ki kf l kg kh">- name: "CHecking the Java is Installed or Not !!"<br/>    command: "java -version"<br/>    register: java<br/>    ignore_errors: yes</span><span id="e1db" class="kc kd hi jy b fi ki kf l kg kh">- name: "Installing the JAVA !!"<br/>    command: "rpm -ivh jdk-8u171-linux-x64.rpm"<br/>    ignore_errors: yes<br/>    when: java.rc != 0</span><span id="8e75" class="kc kd hi jy b fi ki kf l kg kh">- name: "Imstalling the Hadoop !!"<br/>    command: "rpm -ivh hadoop-1.2.1-1.x86_64.rpm --force"<br/>    ignore_errors: yes<br/>    when: hadoop.rc != 0</span></pre><p id="01ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºä¸»èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä»¥ä¾¿ä»èŠ‚ç‚¹å¯ä»¥é€šè¿‡å®ƒå…±äº«å­˜å‚¨ï¼Œå¹¶å°†ä¸€äº›å…ƒæ•°æ®ä¿å­˜åˆ°å…¶ä¸­<strong class="is hj">å’Œ</strong>æˆ‘ä»¬éœ€è¦é…ç½®é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><p id="c70b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">â†’ hdfs-site.xml</p><p id="d281" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">â†’æ ¸å¿ƒç½‘ç«™. xml</p><pre class="jp jq jr js fd jx jy jz ka aw kb bi"><span id="a603" class="kc kd hi jy b fi ke kf l kg kh">- name: "Configuring the Conf file hdfs-site.xml  !!"<br/>    blockinfile:<br/>      path: "/etc/hadoop/hdfs-site.xml"<br/>      insertafter: "&lt;configuration&gt;"<br/>      block: |<br/>            &lt;property&gt;<br/>            &lt;name&gt;dfs.name.dir&lt;/name&gt;<br/>            &lt;value&gt; {{fold_name_hadoop_master}}&lt;/value&gt;<br/>            &lt;/property&gt;<br/>  <br/>  - name: "Configuring the Conf file core-site.xml  !!"<br/>    blockinfile:<br/>      path: "/etc/hadoop/core-site.xml"<br/>      insertafter: "&lt;configuration&gt;"<br/>      block: |<br/>            &lt;property&gt;<br/>            &lt;name&gt;fs.default.name&lt;/name&gt;<br/>            &lt;value&gt; hdfs://0.0.0.0:{{port_num_for_hdfs}} &lt;/value&gt;<br/>            &lt;/property&gt;</span><span id="7d1c" class="kc kd hi jy b fi ki kf l kg kh">- name: "Creating the DIr in the Master NOde !!"<br/>    file:<br/>     state: directory<br/>     path: "//{{fold_name_hadoop_master}}"</span></pre><p id="e7be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç„¶åæˆ‘ä»¬éœ€è¦ç¬¬ä¸€æ¬¡æ ¼å¼åŒ–é‚£ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åæˆ‘ä»¬å°†æ ¹æ®ç”¨æˆ·ç»™å®šçš„ç«¯å£è¿è¡ŒæœåŠ¡â€¦</p><pre class="jp jq jr js fd jx jy jz ka aw kb bi"><span id="0e49" class="kc kd hi jy b fi ke kf l kg kh">- name: "Formating that Directory !!"<br/>    shell: "echo Y | hadoop namenode -format"</span><span id="f7e5" class="kc kd hi jy b fi ki kf l kg kh">- name: "Starting the Service !!"<br/>    command: "hadoop-daemon.sh start namenode"</span></pre><p id="4181" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é€šè¿‡åŒæ ·çš„æ­¥éª¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®ä»èŠ‚ç‚¹â€¦åªæœ‰ä¸€ä»¶äº‹æˆ‘ä»¬éœ€è¦ä½¿ç”¨æˆ‘ä»¬çš„å¤§è„‘æ•æ‰ä¸»èŠ‚ç‚¹çš„ IP åœ¨é£è¡Œçš„äº‹å®å˜é‡çš„å¸®åŠ©ä¸‹â€¦</p><blockquote class="kj kk kl"><p id="8bc2" class="iq ir km is b it iu iv iw ix iy iz ja kn jc jd je ko jg jh ji kp jk jl jm jn hb bi translated">{{groups['slave'][0]}}</p></blockquote><p id="450d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å› æ­¤é…ç½®ğŸ˜â€¦.</p><p id="7760" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ„Ÿè°¢æ‚¨é˜…è¯»æœ¬åšå®¢â€¦</p></div></div>    
</body>
</html>