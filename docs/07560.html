<html>
<head>
<title>Data Fetching: From Kaggle to Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据获取:从Kaggle到Google Colab</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-fetching-from-kaggle-to-google-colab-692337203b2d?source=collection_archive---------30-----------------------#2020-06-29">https://medium.com/analytics-vidhya/data-fetching-from-kaggle-to-google-colab-692337203b2d?source=collection_archive---------30-----------------------#2020-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6103" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好！😏</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e313a38ed67b2924cb33a58ce68c930d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWokineT8xy7ul-LRUb4Vg.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.romaniajournal.ro/business/a-romanian-startup-provides-ai-service-solution-to-orange-luxembourg/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="818e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi ju translated"><span class="l jv jw jx bm jy jz ka kb kc di"> F </span>在过去的几天里，我正在严格地寻找免费的GPU服务来处理我最广泛的深度学习项目。虽然Kaggle每周提供30小时的免费服务，但寻找替代品也无妨。Google Colab是另一个选择，不仅是GPU，你还可以找到强大的Google定制的TPU。对于Kaggle和Colab GPU之间的精确类比，可以访问这个<a class="ae jt" href="https://towardsdatascience.com/kaggle-vs-colab-faceoff-which-free-gpu-provider-is-tops-d4f0cd625029" rel="noopener" target="_blank">博客</a>。</p><p id="8b8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的Kaggle项目中，在处理检测组织病理学癌症的数据集时，我给了谷歌Colab一个机会。作为一个新手，我发现很难开始使用Colaboratory。</p><p id="2b2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，让我们看看从Kaggle到Google Colab获取数据的步骤。</p><h1 id="595e" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">在卡格尔</h1><h2 id="5e7e" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑1: </strong>获取Kaggle API访问令牌</h2><p id="3fdb" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">登录你的Kaggle账号<strong class="ih hj">&gt;</strong><strong class="ih hj">我的账号</strong>，如图1。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/7a51ccf24e7da3f9633435a28de24f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ou-jdgjPZLhDhkLVIfz-0A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图1</figcaption></figure><p id="47b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">向下滚动到API部分，并单击“<strong class="ih hj">创建新的API令牌</strong>，如图2中的<br/>所示。这将下载<strong class="ih hj"> kaggle.json </strong>文件以备后用。</p><blockquote class="lv lw lx"><p id="9d51" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated">注意:在创建新令牌之前，使旧令牌过期</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/b47b82c0c57df7bc1e6ecce1620578c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dmqxW7YDDOwJz1QPoH_Ivw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图2</figcaption></figure><h1 id="a2f9" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">在Google Colab</h1><h2 id="5e9b" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑2:设置您的Colab运行时</strong></h2><p id="7c6e" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">在您的笔记本中，导航至运行时<strong class="ih hj"> &gt; </strong>更改运行时类型并进行相应操作。</p><h2 id="c2a7" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑3: </strong>将kaggle.json上传到Colab</h2><p id="0a1d" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">通过以下方式上传json文件，您可以在文件夹部分的左窗格中看到上传的文件。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="1427" class="lb ke hi me b fi mi mj l mk ml">from google.colab import files<br/>files.upload()</span></pre><p id="a65a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">例如</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mm"><img src="../Images/a63209c813eb9417d50fd922678afdb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*-WbYP0P4BcvIryDZwk_K2g.png"/></div></figure><p id="8ea3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您得到如图3所示的错误，那么禁用cookies设置为“阻止第三方cookies”。欲了解更多信息，请访问这个<a class="ae jt" href="https://github.com/googlecolab/colabtools/issues/17" rel="noopener ugc nofollow" target="_blank"> github </a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/b301b45416c44c63838740bf9a3312c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2SN8ON8WYdqQtogu-d9TbQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图3</figcaption></figure><h2 id="813a" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑4:确保Colab中的kaggle.json路径</strong></h2><p id="914f" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">按照Kaggle的建议，确保kaggle.json位于~/位置。kaggle/kaggle.json来使用API。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="b375" class="lb ke hi me b fi mi mj l mk ml">!mkdir -p ~/.kaggle<br/>!cp kaggle.json ~/.kaggle/</span></pre><h2 id="bff1" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑5:更改权限</strong></h2><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="1261" class="lb ke hi me b fi mi mj l mk ml">!chmod 600 ~/.kaggle/kaggle.json</span></pre><p id="cf6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我得到了“权限被拒绝”的错误，因此下面的安装确实有所帮助。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="250d" class="lb ke hi me b fi mi mj l mk ml">!pip uninstall -y kaggle<br/>!pip install — upgrade pip<br/>!pip install kaggle==1.5.6<br/>!kaggle -v</span></pre><p id="f6f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">万岁！您现在已经准备好获取数据了！👍</p><h2 id="05f3" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑6:获取API命令下载数据</strong></h2><p id="ea32" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated"><strong class="ih hj">对于许可</strong> <a class="ae jt" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> CC0:公共领域</strong> </a> <strong class="ih hj">的比赛，可以在右上方的三个点下面找到“复制API命令”。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/08a8b8a121a35a405ca843ce20473823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LM-7raXYiRIAWZ0P3q5iiA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图4</figcaption></figure><p id="953f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在将API命令粘贴到您的笔记本中。<em class="ly">例如，</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/5935ab95a996238337e179f7862815ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*VJY2niH4AqexTwG0PhP5rQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图5</figcaption></figure><p id="3101" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">对于拥有非公共领域许可证的竞赛，您不会找到直接的API命令，而是遵循以下CLI命令。</strong></p><p id="0069" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">列出可用的数据集/竞赛，然后下载具体的。</p><ul class=""><li id="a51e" class="mq mr hi ih b ii ij im in iq ms iu mt iy mu jc mv mw mx my bi translated"><strong class="ih hj">与数据集互动</strong></li></ul><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="4a06" class="lb ke hi me b fi mi mj l mk ml">!kaggle datasets list -s [KEYWORD]<br/>!kaggle datasets download -d [DATASET]</span></pre><ul class=""><li id="5934" class="mq mr hi ih b ii ij im in iq ms iu mt iy mu jc mv mw mx my bi translated"><strong class="ih hj">与比赛互动</strong></li></ul><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="309b" class="lb ke hi me b fi mi mj l mk ml">!kaggle competitions list<br/>!kaggle competitions download -c [COMPETITION]</span></pre><p id="0e12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">例如，</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mz"><img src="../Images/abe77ad3d44e7299d2dc75a38b57e62f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rm99d4nYgONZd2ON5Q2-7w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图6</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/9306802522309808ebc7d1ec4d6d569d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTGUWfPHWlznVZZ7BTZpxg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图7</figcaption></figure><h2 id="cddc" class="lb ke hi bd kf lc ld le kj lf lg lh kn iq li lj kr iu lk ll kv iy lm ln kz lo bi translated"><strong class="ak">里程碑7:解压缩数据(如果需要)</strong></h2><p id="a518" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">对于如图7所示的数据集，跳过这一步，数据是作为解压缩文件下载的。</p><p id="8a6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于图5中以zip格式下载数据的数据集，需要解压缩并删除压缩文件。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="b172" class="lb ke hi me b fi mi mj l mk ml">from zipfile import ZipFile<br/>file_name = "&lt;filename&gt;.zip"<br/>with ZipFile(file_name,'r') as zip:<br/>zip.extractall()<br/>print('Done')</span></pre><p id="3d2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">厉害！您可以在内容文件夹中看到解压缩后的文件。</p><blockquote class="lv lw lx"><p id="234b" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong>建议添加<code class="du nb nc nd me b">-p /content</code>以明确将文件放入Google联合实验室的路径。</p></blockquote></div><div class="ab cl ne nf gp ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="hb hc hd he hf"><p id="ec92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这位作者的博客，请随意关注，因为这位作者保证会带来更多有趣的人工智能相关内容。<br/> 谢谢，<br/>学习愉快！😄</p><p id="60da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ly">可以通过</em></strong><a class="ae jt" href="https://www.linkedin.com/in/kaul-shachi" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="ly">LinkedIn</em></strong></a><strong class="ih hj"><em class="ly">取得联系。</em> </strong></p></div></div>    
</body>
</html>