<html>
<head>
<title>Visualization of Air Pollution (Using Folium)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">空气污染的可视化(使用薄层)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/visualization-of-air-pollution-using-folium-31258ad49f00?source=collection_archive---------26-----------------------#2020-04-19">https://medium.com/analytics-vidhya/visualization-of-air-pollution-using-folium-31258ad49f00?source=collection_archive---------26-----------------------#2020-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/22b5ac9fe0834c4da73d8716a685bd94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HX32IiNcVNh5S7pE"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">安妮·尼加德在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a941" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个全球化阶段，空气污染一直是一个主要问题。不同的国家正在努力推动经济增长，但没有可持续的方法。同样，在韩国的一个城市首尔也可以看到。首尔市政府帮助收集了不同的空气颗粒物测量数据，如NO2(二氧化氮)、SO2(二氧化硫)、CO(一氧化碳)、PM2.5和PM10(颗粒物)。</p><p id="9495" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这篇文章的目的是展示不同的可视化工具，并进一步从中得出推论。先从首尔市政府提供给Kaggle作为公共数据集的dateset开始数据探索。要下载数据集，<a class="ae iu" href="https://www.kaggle.com/bappekim/air-pollution-in-seoul" rel="noopener ugc nofollow" target="_blank">点击此处</a>。</p><p id="26b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">像往常一样，我们开始通过熊猫读取csv文件。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/a2ed4c0467f87aa04bd955b248dff98c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-3mIpB8R0reqKPzmwsZn4Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">来自熊猫的read_csv</figcaption></figure><p id="6d7c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在调查过程中，我们发现，很少有值是-1，这可能是读取空气污染物读数的设备出现故障的原因。因此，我们决定用平均值来估算这些值。在scikit库“SimpleImputer”的帮助下，这可以很容易地完成。</p><div class="ju jv jw jx fd ab cb"><figure class="jy ij jz ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/e3e1ef8b600d6834da3087f25e12c601.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*Fwe4Qk5sbn19j_SCtkzjGg.png"/></div></figure><figure class="jy ij ke ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/2b4e475ba2499da578ce79463d5242d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*US5rkBaJSPoIkgvxlxRslA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx kf di kg kh translated">右:“-1值检查”，左:“使用简单估算库替换为平均值”</figcaption></figure></div><p id="d8b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们绘制了不同排放的线形图，x轴为日期，y轴为排放类型(NO2、SO2等)。Seaborn是绘制这些图表的伟大图书馆。</p><div class="ju jv jw jx fd ab cb"><figure class="jy ij ki ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/407595f6fddf2d91bfe487b92eb2bf92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*dCNWcxQmfUakwlYc3VADqA.png"/></div></figure><figure class="jy ij ki ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/f06b1ab1f9ad816ee98c4afc82e06c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*fuIECHGbCBTSIzJlwgyREQ.png"/></div></figure></div><div class="ab cb"><figure class="jy ij ki ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/7e49f138969b7d60c30b2dca1a04358f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qxorjhfcEspBZ8Kptc29sw.png"/></div></figure><figure class="jy ij ki ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/ab21f7ef5f97c88fd512d5827d860017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ZPEMJS_X_CPLPQL_nMBChg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx kj di kk kh translated">时间跨度上的气体线图</figcaption></figure></div><p id="e3b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还绘制了相关矩阵，以检查哪些气体是相互依赖的。据观察，SO2、NO2和O3高度相关。可以推断，这些气体互相帮助，增加和减少个别其他气体。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/6490f0b76fe57120d772101fa7780050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KgcpgWKghFSHntIX"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Tatiana Rodriguez 在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ed36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在涉及经纬度的时间序列数据分析中，在地图上查看数据总是好的。这个功能可以在一个叫做“叶子”的大型库的帮助下进行探索。它使用起来非常直观，并且是开源的。首先，需要对数据集进行一些预处理。</p><p id="e3a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们必须创建一些列，如小时、天、周、月和年，这将有助于我们在地图上绘制经度和纬度。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/4f3caaebe4f7c88ef12976b46cba8b49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wi3APBRWkzQ78iNsNFNdVQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">小时、月、日、周、月和年列</figcaption></figure><p id="b920" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们用一些默认参数创建函数:</p><ol class=""><li id="b6b3" class="kn ko hi ix b iy iz jc jd jg kp jk kq jo kr js ks kt ku kv bi translated">default_location —它以纬度和经度作为参数，将显示在地图上。</li><li id="7c83" class="kn ko hi ix b iy kw jc kx jg ky jk kz jo la js ks kt ku kv bi translated">control _ scale启用或禁用给定缩放级别的地图。</li><li id="8a36" class="kn ko hi ix b iy kw jc kx jg ky jk kz jo la js ks kt ku kv bi translated">zoom _ start指定地图加载时所需的缩放比例。</li></ol><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/f9a7b1143a20b52f7457532aa36d6c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HbpxqKtTEREDRdk_3eON_w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">带有一些默认参数的generateBaseMap()函数</figcaption></figure><p id="1cce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们需要创建一个包含所有纬度、经度、PM2.5(这里可以是任何气体)和年份的列表。然后，我们将所有这些信息传递给generateBaseMap函数，该函数将在地图上绘制纬度和经度。以下是供参考的代码:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/0a9f1f1dd5bf90457010cedc38eb0d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSmIgNaT5M4fLtvCZZG6cQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">纬度和经度列表，对应全年PM2.5值</figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/5d813d0a1e114b6fc4dacb2ee21272cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8Audj3szYMNJ41KkiqqMfg.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">2017年、2018年和2019年的PM2.5图</figcaption></figure><p id="a427" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里我们可以推断，自2017年以来，污染持续增加。此外，颜色向红色的变化表明，“PM2.5”值越来越接近“非常糟糕”的严重程度。</p><p id="83ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还绘制了2017年的逐月图，以观察污染在一年中的变化。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/beb86583beaf7838294533d20b3d941d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P8brtpaFY2KhWSQRODiwaw.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">2017年逐月地图</figcaption></figure><p id="e6f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，它遵循同样的模式，每个月都在持续增长。</p><h2 id="2f30" class="lc ld hi bd le lf lg lh li lj lk ll lm jg ln lo lp jk lq lr ls jo lt lu lv lw bi translated">结论</h2><p id="8f2a" class="pw-post-body-paragraph iv iw hi ix b iy lx ja jb jc ly je jf jg lz ji jj jk ma jm jn jo mb jq jr js hb bi translated">从相关矩阵中可以看出，SO2、NO2和O3之间有很强的相关性。检验这些气体之间的进一步关系将会很有趣。同样，根据进一步的阅读(<a class="ae iu" href="https://www.scinexx.de/dossierartikel/von-stickoxiden-zum-ozon/" rel="noopener ugc nofollow" target="_blank">来源</a>)，不同工厂释放的气体在阳光照射下转化为臭氧(O3)。从上面的线图来看，夏季的O3总是比冬季多。这再次表明，阳光的存在导致了O3的增加。</p></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="5382" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望你喜欢这个博客。请一定要鼓掌，分享，评论！请继续关注我的下一篇博客。</p></div></div>    
</body>
</html>