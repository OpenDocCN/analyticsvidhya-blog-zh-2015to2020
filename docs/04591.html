<html>
<head>
<title>A guided tour of classification metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类标准指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-guided-tour-of-classification-metrics-f143e56c0032?source=collection_archive---------17-----------------------#2020-03-25">https://medium.com/analytics-vidhya/a-guided-tour-of-classification-metrics-f143e56c0032?source=collection_archive---------17-----------------------#2020-03-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e5605875e6a8cd810617285a56c34bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ko0Lft73HcEj6je18zzZsw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://www.pexels.com/@marc-218740?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd iv">马克</strong> </a>发自<a class="ae iu" href="https://www.pexels.com/photo/green-and-yellow-darts-on-brown-black-green-and-red-dartboard-695266/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd iv">像素</strong> </a></figcaption></figure><p id="b760" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">准确度、精确度、召回率和F1分数是用于评估自动分类器的度量。这些指标是根据混淆矩阵计算出来的。假设我们有垃圾邮件过滤器，它可以判断一封邮件是否是垃圾邮件。对于100封垃圾邮件和900封非垃圾邮件的测试数据集，我们得到以下结果。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/657e359463fca0b2ac753fe728d759aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0isoM9VE_F36MVmh3Bn8QA.png"/></div></div></figure><p id="52f2" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这个<em class="jz">混淆矩阵</em>显示了系统在其预测中造成的混淆。但是如果我们可以用一个数字来概括这个矩阵呢？一个能告诉我们这个系统好不好的数字？</p><h1 id="baf3" class="ka kb hi bd iv kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">我们系统的预测有多“准确”</h1><p id="86a2" class="pw-post-body-paragraph iw ix hi iy b iz kx jb jc jd ky jf jg jh kz jj jk jl la jn jo jp lb jr js jt hb bi translated">假设我们的系统实际上已经完成了毕业考试，现在是给它打分的时候了。我们可以数一数系统给出了多少个好答案。也就是85 + 10 = 95个好答案。然后我们给系统一个分数，这个分数是好答案的数量除以问题的数量。听起来像是在普通考试中会做的事情，对吗？这就是机器学习中称为<em class="jz">准确度</em>的度量。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/3e7130f6b72f31de6cb0d9dcf0fb9b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*6fILSyuLGBmZoN3272cdVA.png"/></div></figure><p id="44c1" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在上述带有垃圾邮件过滤器的示例中，</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/dc2131795440c9ecf6d2ba31c0ecdf71.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*AHRRzP_qr2f4sjMM_bKNiA.png"/></div></figure><p id="1a35" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">准确性将所有答案相加，而不管它们各自的类别，如果我们的类别是平衡的，也就是说，如果它们包含大致相等数量的样本，这是可以的。然而，在垃圾邮件过滤的情况下(这是许多其他应用程序的情况，通常表示为<em class="jz">异常检测</em>)“负面”类别(非垃圾邮件)通常比“正面”类别(垃圾邮件)多<strong class="iy hj">，后者应被视为“非垃圾邮件”电子邮件分布的异常值类别。让我们考虑下面的混淆矩阵。</strong></p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/21e4d0c374def8d5cd092dab14c39cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zbF3H5CfD_4mVATSarXqHg.png"/></div></div></figure><p id="9210" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">你能看出这个系统在预测垃圾邮件方面是多么的无用吗？然而精度没变，还是0.885！</p><p id="7c03" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">具有讽刺意味的是，这说明了为什么准确性不是评估系统准确性的有效指标。<em class="jz"> Precision </em>和<em class="jz"> recall </em>是更精细的度量，因为它们测量系统相对于“真实类别”的性能，或者在我们的例子中是“垃圾邮件类别”。让我们看看他们。</p><h1 id="4217" class="ka kb hi bd iv kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">精确度和召回率</h1><p id="e557" class="pw-post-body-paragraph iw ix hi iy b iz kx jb jc jd ky jf jg jh kz jj jk jl la jn jo jp lb jr js jt hb bi translated">我们只需要改进考试的评分方式。让我们只考虑一个类，积极的类，看看我们的系统表现如何。这是对<em class="jz">召回</em>的定义。<em class="jz">回忆</em>仅将指标集中在一个类上，并测量系统预测它的能力。</p><p id="0203" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">当我们选择哪个类被认为是积极的时，会有一个偏差。在垃圾邮件过滤的情况下，系统应该能够在正常示例中识别垃圾邮件，因此对于垃圾邮件来说，<em class="jz">召回率</em>应该是最高的。<em class="jz">召回</em>指标并不关心你如何处理非垃圾邮件，只要你能正确识别“垃圾邮件”。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es le"><img src="../Images/ff2be9f9f76cc563bedf1fd4dff8e16b.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*ImVNVFixmPr5zDtJ9LPrNA.png"/></div></figure><p id="9f4f" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">好的。但是如果你的系统认为所有的东西都是垃圾邮件呢？</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/280989e0db895cd0b1033df053f8638c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14RDVlPFvLA0fd85ZS0WfQ.png"/></div></div></figure><p id="9a1f" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">它得到Recall = 1，最高分！因此，我们还需要一个度量标准，告诉系统在将邮件标注为“垃圾邮件”时有多精确。为此，我们将自己限制在被系统预测为“垃圾邮件”的一组邮件中。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/2b2c59e85b0f1ee1b4c00a84e7e8b9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*06qJIg9JVDS6HyGBJsGmyw.png"/></div></figure><p id="948f" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">因此，系统在选择垃圾邮件时具有最大的精确度，不会出错。对于前面的例子，<em class="jz">精度</em>将是100 / 900 = 0.1111。</p><p id="791b" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">我们构建了两个度量标准<em class="jz">召回率</em>和<em class="jz">精确度</em>，通过选择一个“正面”类别(“垃圾邮件”)作为我们分类问题的目标，这两个度量标准比<em class="jz">精确度</em>更加精确。</p><h1 id="43d2" class="ka kb hi bd iv kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">f1-分数，因为一个数字比两个数字好</h1><p id="af35" class="pw-post-body-paragraph iw ix hi iy b iz kx jb jc jd ky jf jg jh kz jj jk jl la jn jo jp lb jr js jt hb bi translated">我们数据集的最佳系统将具有最大的<em class="jz">召回</em>和<em class="jz">精度</em>分数。通过取<em class="jz">精度</em>和<em class="jz">回忆</em>的调和平均值，F1分数是一个整体性能的指标，我们可以用它来对系统的考试答案进行评分。</p><figure class="jv jw jx jy fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/992dd9d7514fa2b754984158b75d354c.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*0RlhNaltMF18IpqThUUODg.png"/></div></figure><p id="611a" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">例如，调和平均值优于算术平均值，因为它惩罚坏分数。如果召回率高但精确度低，调和平均值将会低。这是由于调和平均数的<a class="ae iu" href="https://en.wikipedia.org/wiki/Harmonic_mean" rel="noopener ugc nofollow" target="_blank">几何性质。</a></p><p id="2c56" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><a class="ae iu" href="https://adamoudad.github.io/posts/classification-metrics/" rel="noopener ugc nofollow" target="_blank">来自我网站的文章</a></p></div></div>    
</body>
</html>