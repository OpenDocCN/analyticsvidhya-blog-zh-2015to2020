<html>
<head>
<title>Who acted first? Coronavirus and the Impact on Global Air traffic</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谁先行动的？冠状病毒及其对全球空中交通的影响</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/who-acted-first-coronavirus-and-the-impact-on-global-air-traffic-1986b2b792a6?source=collection_archive---------32-----------------------#2020-04-07">https://medium.com/analytics-vidhya/who-acted-first-coronavirus-and-the-impact-on-global-air-traffic-1986b2b792a6?source=collection_archive---------32-----------------------#2020-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="483d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated">随着新冠肺炎的影响越来越大，大多数国家都急于封锁边境，大幅减少任何形式的旅行。这意味着许多航空公司停飞了他们的机队，航空旅行被限制在绝对必要的范围内。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jm"><img src="../Images/f653e9e5fad250c63a4c86ca457f20e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NRoxo4Pcux2HVjD1"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">由<a class="ae kc" href="https://unsplash.com/@wistomsin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">汤姆·巴瑞特</a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="0f2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地理解这是如何影响航空旅行的，我求助于www.flightradar24.com，过去我经常使用它来查找现在什么飞机正在我头顶飞过——以及跟踪即将到来的朋友和家人的航班。我没有意识到的是，flightradar24也有每个机场的跟踪航班统计数据。这正是我在这里采用的数据来源。</p><p id="d182" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我观察了世界上最繁忙的机场(来源:<a class="ae kc" href="https://www.internationalairportreview.com/article/32311/top-20-largest-airports-world-passenger-number/" rel="noopener ugc nofollow" target="_blank">https://www . international Airport review . com/article/32311/top-20-largest-airports-world-passenger-number/</a>)然而，我承认我偷偷把悉尼机场加入其中，尽管它并没有排在前20名。</p><h1 id="08b2" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">攻击计划</strong></h1><ul class=""><li id="fa5f" class="lc ld hi ih b ii le im lf iq lg iu lh iy li jc lj lk ll lm bi translated">下载并安装Chrome驱动程序</li><li id="91eb" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">使用pip安装Selenium</li><li id="3f70" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">抓取每个机场的JavaScript图</li><li id="9d68" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">探索数据，看看隐藏着什么样的见解</li></ul><p id="6db6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请随意跟进——我将把我的笔记本和数据放在我的Github账户<a class="ae kc" href="https://github.com/jay-stein/airtraffic-covid19" rel="noopener ugc nofollow" target="_blank">https://github.com/jay-stein/airtraffic-covid19</a>下。如果您发现任何错误或问题，请大声喊出来！</p><h1 id="4d38" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">第一步:下载并安装Chrome驱动程序</h1><p id="c285" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">首先，我弄清楚我使用的是什么版本的Chrome。只需使用URL chrome://system/</p><p id="6dd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我从https://chromedriver.chromium.org/downloads<a class="ae kc" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank">下载并安装了Chrome驱动程序——我的Chrome版本是v80，但你的可能会有所不同。确保您获得匹配的版本！</a></p><p id="4195" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我需要下载Selenium包——我只是使用常规的pip来这样做。</p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="77e4" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">第二步:观察全球整体飞行趋势</h1><p id="99b1" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">这部分很简单——我只是直接从https://www.flightradar24.com/data/statistics下载了数据。他们拥有如此多的数据，真是令人惊讶！</p><p id="015b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这张图表显示了他们所有被跟踪的航班，包括商业、商务飞机、一些私人航班、一些直升机航班，甚至(一些)无人机！</p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="lv lw l"/></div></figure><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lx"><img src="../Images/4fccac4f31f3a621e51c28379c7d2029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdvI8OtvFwHDwenQMWP8BA.jpeg"/></div></div></figure><p id="8343" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个图表很能说明问题，3月19日之后，全球航班数量直线下降。它很快下降到每天180，000次航班的原始基线的大约1/3。</p><h1 id="98d3" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">第三步:搜集全球最繁忙机场的数据</h1><p id="1f44" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">在下一步中，我创建了一个小函数来收集这些超级繁忙的机场的数据。每个图表都有两个系列，但是我在这里只看了跟踪的航班。</p><p id="1754" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你在airport列表中运行该功能时，你会注意到Chrome会打开一个新的实例来执行抓取。</p><p id="a1f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能还会注意到代码中的下面一行——这一步是将Unix时间戳——原始图形就是用它创建的——转换成更熟悉的datetime格式。</p><pre class="jn jo jp jq fd ly lz ma mb aw mc bi"><span id="70d2" class="md kf hi lz b fi me mf l mg mh">pd.to_datetime(tracked[‘date’], unit=’ms’</span></pre><p id="2a54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd">一个扩展练习是使用跟踪航班和计划航班计算取消率。</em></p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="2d71" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">包括哪些机场</h1><ul class=""><li id="4616" class="lc ld hi ih b ii le im lf iq lg iu lh iy li jc lj lk ll lm bi translated">ATL:亚特兰大哈兹菲尔德-杰克逊-美国</li><li id="cf8e" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">北京首都-中国</li><li id="0850" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">DXB:迪拜国际机场-阿联酋</li><li id="a847" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">洛杉矶国际机场:美国洛杉矶</li><li id="031c" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">HND:日本东京羽田</li><li id="5080" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">订单:美国芝加哥奥黑尔</li><li id="545f" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">LHR:伦敦希思罗机场-英国</li><li id="a4be" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">HKG:香港-香港</li><li id="1ecf" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">PVG:中国上海浦东</li><li id="d850" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">CDG:巴黎戴高乐机场-法国</li><li id="148f" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">AMS:荷兰阿姆斯特丹史基浦机场</li><li id="43f1" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">德尔:印度德里英迪拉·甘地</li><li id="e481" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">SYD:悉尼-澳大利亚(不是前10或20名！)</li></ul><h1 id="3706" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">组合数据帧</h1><p id="ae0f" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">为了创建最终的数据框，我使用下面的简短脚本来运行前面创建的get_airport()函数。这将运行每个机场的功能，并将它们合并到一个数据帧中。</p><figure class="jn jo jp jq fd jr"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="72e0" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">第四步:观想和洞见</h1><p id="664e" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq ls is it iu lt iw ix iy lu ja jb jc hb bi translated">下面我简单介绍了我的Jupyter笔记本的输出——请随意跟随https://github.com/jay-stein/airtraffic-covid19<a class="ae kc" href="https://github.com/jay-stein/airtraffic-covid19" rel="noopener ugc nofollow" target="_blank"/></p><p id="25ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一张图显示了这些特别繁忙的机场每天的绝对航班数量。由于对交通活动的严格限制，大多数机场的下降趋势显而易见。</p><p id="f9de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">令人吃惊的是一些机场的下降趋势有多快。相反，一些中国机场对疫情的反应要早得多，因此北京和PVG的航班相对稳定，每天大约有200个航班。</p><p id="4c78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些数字仅仅是你对这两个机场预期的10-15%(PEK =每天1682次航班，PVG=平均每天1383次航班。来源:维基百科)</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es mi"><img src="../Images/5ddbfb55262062feaa2ca8f33e5ed219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k362Sr0_1_CBnCPLlFC9FQ.jpeg"/></div></div></figure><p id="dbe3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地了解这些超级繁忙机场的转折点，我计算了相对于3月8日(第一个数据点)的百分比变化。</p><p id="1987" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个liner过滤原始数据帧，只显示“跟踪的”航班，而不是预定的航班。lambda函数然后计算自3月8日以来每个机场的百分比变化。</p><pre class="jn jo jp jq fd ly lz ma mb aw mc bi"><span id="3cf0" class="md kf hi lz b fi me mf l mg mh">df_delta = df_final.filter(like='track').apply(lambda x: x.pct_change().fillna(0).add(1).cumprod().sub(1))</span></pre><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es mj"><img src="../Images/2b34fc18d54aa5fa7f675d68fe16edab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlXG_yl1O83TL_lxD3eIsQ.jpeg"/></div></div></figure><p id="b837" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一比例变化凸显了一些国家为遏制病毒传播而采取的戏剧性应对措施。</p><p id="362e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">进一步分析的一个选择是，通过将每日航班数与滚动平均值进行比较，量化每个机场何时出现转折点。</p><p id="1feb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，在很大程度上，对航班的影响似乎是随着病毒在地理上的传播而发生的。</p><ul class=""><li id="a67c" class="lc ld hi ih b ii ij im in iq mk iu ml iy mm jc lj lk ll lm bi translated">如前所述，由于武汉病毒的出现，中国机场的反应要早得多。</li><li id="c276" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">AMS和CDG等欧洲机场从3月14日开始减少航班</li><li id="6181" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">澳大利亚悉尼大约在3月16日做出了回应</li><li id="4f0c" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">美国机场从3月19日左右开始减少航班数量。</li><li id="5e03" class="lc ld hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">截至3月25日，印度德尔机场和DXB迪拜机场几乎完全停飞了所有航班。</li></ul><p id="ead3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非常感谢您阅读我的短文——希望这是一种通过Selenium探索一些伟大数据集的有趣方式。</p></div></div>    
</body>
</html>