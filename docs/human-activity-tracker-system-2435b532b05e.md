# äººç±»æ´»åŠ¨è·Ÿè¸ªç³»ç»Ÿ

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/human-activity-tracker-system-2435b532b05e?source=collection_archive---------8----------------------->

![](img/74372063e960180076f09c3b18074658.png)

åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šç”± [Chander R](https://unsplash.com/@chanderr?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

# ***åŠ¨æœº***

éšç€æ™ºèƒ½è®¾å¤‡(å¦‚æ‰‹æœºå’Œå¥èº«æ‰‹è¡¨)çš„å‡ºç°å’Œæ™®éå­˜åœ¨ï¼Œæ•°æ®æŒ–æ˜ç ”ç©¶å’Œæ•°æ®æŒ–æ˜åº”ç”¨å¼€è¾Ÿäº†ä¸€ä¸ªä»¤äººå…´å¥‹çš„æ–°é¢†åŸŸã€‚è¿™äº›è®¾å¤‡å…·æœ‰å¼ºå¤§çš„ä¼ æ„Ÿå™¨ï¼Œå¦‚ GPS ä¼ æ„Ÿå™¨ã€éŸ³é¢‘ä¼ æ„Ÿå™¨ã€æ–¹å‘å’ŒåŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ï¼Œå¦‚åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªï¼Œèƒ½å¤Ÿéå¸¸å‡†ç¡®åœ°å®æ—¶è¯»å–å’Œå¤„ç†æ•°æ®ã€‚

æˆ‘ä¸€ç›´æƒ³çŸ¥é“æ™ºèƒ½æ‰‹æœºå’Œå¥èº«æ‰‹è¡¨æ˜¯å¦‚ä½•çŸ¥é“æˆ‘åœ¨è·‘æ­¥ã€æ•£æ­¥ã€éª‘è‡ªè¡Œè½¦æˆ–åªæ˜¯æ˜æ˜æ¬²ç¡äº†ä¸€æ®µæ—¶é—´ã€‚è¯¥é¡¹ç›®æ—¨åœ¨æ­å¼€è¿™ä¸€ç¥ç§˜é¢çº±ï¼Œå¹¶æ„å»ºä¸€ä¸ªç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿå¯ä»¥ä½¿ç”¨æ¥è‡ªåŠ é€Ÿåº¦è®¡(å°¤å…¶æ˜¯é™€èºä»ª)çš„ä¸€äº›ä¼ æ„Ÿå™¨æ•°æ®æ¥å‡†ç¡®æ£€æµ‹æ´»åŠ¨ã€‚

ä¹‹å‰åœ¨è¿™æ–¹é¢å·²ç»åšäº†å¾ˆå¤šå·¥ä½œï¼Œä¾‹å¦‚åœ¨ Android ä¸Šä½¿ç”¨ LSTMs çš„[äººç±»æ´»åŠ¨è¯†åˆ«â€”é»‘å®¢ TensorFlow(ç¬¬å…­éƒ¨åˆ†)](/@curiousily/human-activity-recognition-using-lstms-on-android-tensorflow-for-hackers-part-vi-492da5adef64)å’Œä½¿ç”¨æ‰‹æœºåŠ é€Ÿåº¦è®¡çš„[æ´»åŠ¨è¯†åˆ«](http://www.cis.fordham.edu/wisdm/includes/files/sensorKDD-2010.pdf)ç­‰ç­‰ã€‚

è¿™æœ‰å¤§é‡çš„åº”ç”¨ã€‚æœ‰å¯èƒ½ä¸ºæ‰‹æœºå’Œæ‰‹è¡¨ç­‰æ™ºèƒ½è®¾å¤‡æä¾›é«˜åº¦ä¸ªæ€§åŒ–å’Œå®šåˆ¶åŒ–çš„ä½“éªŒã€‚è¿˜å¯ä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦éµå¾ªå¥åº·çš„é”»ç‚¼ç¨‹åºã€‚è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„æ¨¡å‹æ ¹æ®ä¼ æ„Ÿå™¨æ•°æ®é¢„æµ‹æ´»åŠ¨çš„å‡†ç¡®æ€§ã€‚å…´å¥‹åœ°æ¢ç´¢è¿™ä¸ªï¼

æ•°æ®é›†é“¾æ¥â€”[https://archive . ics . UCI . edu/ml/machine-learning-databases/00507/](http://With the advent and now ubiquitous presence of smart devices such as cellular phones and fitness watches around us, an exciting new area of data mining research and data mining applications have been opened up. These devices have powerful sensors like GPS sensors, audio sensors, direction and acceleration sensors like accelerometers and gyrometer, which are capable of reading and processing the data quite accurately and in real time. I have always wondered how the smartphones and fitness watches know when I am running, walking, cycling or just have been lethargic for a while . The project is aimed to demystify this and build a system which can accurately detect the activity using some of the sensor data from the accelerometer and gyrometer in particular. A lot of previous work has been done in this regard like Human Activity Recognition using LSTMs on Android â€” TensorFlow for Hackers (Part VI) and this Activity Recognition using Cell Phone Accelerometers, to quote a few. This has a large number of applications. There is a possibility of providing a highly personalized and customized experience of smart devices like phones and watches. Also it can be determined if the user is following a healthy exercise routine or not. Letâ€™s see how accurately our model is able to predict the activity based on the sensor data.Excited to explore this! Datasetlink - https://archive.ics.uci.edu/ml/machine-learning-databases/00507/)

# ***é—®é¢˜é™ˆè¿°***

ä»»åŠ¡æ˜¯å°†ç”¨æˆ·æ´»åŠ¨åˆ†æˆä¸‰ç»„(**éé¢å‘æ‰‹çš„æ´»åŠ¨**å¦‚è·‘æ­¥ã€æ…¢è·‘ã€**é¢å‘æ‰‹çš„æ´»åŠ¨-ä¸€èˆ¬**å¦‚æ‹æ‰‹ã€å è¡£æœã€**é¢å‘æ‰‹çš„æ´»åŠ¨-åƒä¸œè¥¿**å¦‚åƒé£Ÿç‰©ã€å–æ°´)ï¼Œè¿™ä¸‰ç»„æ´»åŠ¨ç”±åŸºäºä¼ æ„Ÿå™¨æ•°æ®çš„ 18 ä¸ªç»™å®šæ´»åŠ¨ç»„æˆã€‚åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œè¿™æ˜¯ä¸€ä¸ªå¤šç±»åˆ†ç±»å’Œç›‘ç£å­¦ä¹ é—®é¢˜ã€‚è¯¥æƒ³æ³•æ˜¯å»ºç«‹ä¸€ä¸ªç³»ç»Ÿ(æ¨¡å‹)ï¼Œè¯¥ç³»ç»Ÿä»æ‰‹è¡¨å’Œæ‰‹æœºä¸­çš„åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªç­‰ä¼ æ„Ÿå™¨è·å–è¾“å…¥ï¼Œå¹¶å‡†ç¡®é¢„æµ‹ç”¨æˆ·æ´»åŠ¨ç»„ã€‚

# è¯„ä¼°æŒ‡æ ‡

å°†å¯¹åˆ†ç±»æ¨¡å‹çš„å‡†ç¡®æ€§è¿›è¡Œè¯„ä¼°ã€‚åœ¨æ£€æµ‹äººä½“æ´»åŠ¨æ—¶ï¼Œå‡†ç¡®æ€§æ˜¯ä¸€ä¸ªé‡è¦å› ç´ ã€‚æœŸæœ›è¯¥ç³»ç»Ÿå°½å¯èƒ½é«˜ç²¾åº¦åœ°é¢„æµ‹æ´»åŠ¨ï¼Œä»¥ä¾¿ä¾èµ–äºå®ƒçš„å…¶ä»–ç³»ç»Ÿå¯ä»¥é‡‡å–é€‚å½“çš„åŠ¨ä½œä½œä¸ºå“åº”ã€‚å‡†ç¡®åº¦è¡¡é‡åˆ†ç±»å™¨åšå‡ºæ­£ç¡®é¢„æµ‹çš„é¢‘ç‡ã€‚å®ƒæ˜¯æ­£ç¡®é¢„æµ‹çš„æ•°é‡ä¸é¢„æµ‹æ€»æ•°(æµ‹è¯•æ•°æ®ç‚¹çš„æ•°é‡)çš„æ¯”ç‡ã€‚åœ¨å¤šç±»åˆ†ç±»é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å…¬å¼ä»æ··æ·†çŸ©é˜µè®¡ç®—å‡†ç¡®åº¦ã€‚

## **ç²¾åº¦=æ€»å’Œ(å¯¹è§’çº¿(çŸ©é˜µ))/æ€»å’Œ(çŸ©é˜µ))**

# æ•°æ®é›†ç‰¹å¾å’Œæè¿°

åŸå§‹åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªä¼ æ„Ÿå™¨æ•°æ®ä»¥ 20Hz çš„é€Ÿç‡ä»æ™ºèƒ½æ‰‹æœºå’Œæ™ºèƒ½æ‰‹è¡¨ä¸­æ”¶é›†ã€‚å®ƒæ˜¯åœ¨ 51 åæµ‹è¯•å¯¹è±¡è¿›è¡Œ 18 é¡¹æ´»åŠ¨æ—¶æ”¶é›†çš„ï¼Œæ¯é¡¹æ´»åŠ¨æŒç»­ 3 åˆ†é’Ÿã€‚ä¼ æ„Ÿå™¨æ•°æ®ç”¨ 10 ç§’çš„çª—å£è¡¨ç¤ºã€‚

æ›´å¤šä¿¡æ¯å¯å‚è€ƒè¯¥æ–‡ä»¶â€” [äº¤æ˜“/å¸¸è§„æ–‡ä»¶æ ‡é¢˜](https://archive.ics.uci.edu/ml/machine-learning-databases/00507/WISDM-dataset-description.pdf)

# æ•°æ®æ¢ç´¢

è¿™äº›æ–‡ä»¶åˆ†å¸ƒåœ¨æ‰‹æœºå’Œæ‰‹è¡¨æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶è¿›ä¸€æ­¥åˆ†ç¦»ä¸ºé™€èºä»ªå’ŒåŠ é€Ÿåº¦è®¡æ–‡ä»¶å¤¹ã€‚ä½œä¸ºç¬¬ä¸€æ­¥ï¼Œæˆ‘å¿…é¡»å°†è¿™äº›æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶ç»„è£…åˆ°ä¸€ä¸ªæ•°æ®æ¡†ä¸­ã€‚åŸºäºåˆæ­¥æ•°æ®åˆ†æï¼Œä»¥ä¸‹æ˜¯è§‚å¯Ÿåˆ°çš„å…ƒä¿¡æ¯ã€‚

â—è®°å½•æ€»æ•°:75ï¼Œ099

â—ç‰¹å¾æ€»æ•°:93

â—ç±»åˆ«æ€»æ•°:18

â—ç©ºç™½è¡Œæ•°:æ— 

â—æ•°æ®ç±»å‹:æµ®ç‚¹å‹ã€å­—ç¬¦ä¸²å‹ä»¥åŠæ­£å€¼å’Œè´Ÿå€¼çš„æ··åˆ

![](img/55b423833eef16e34d1512168d6cf9a1.png)

æ´»åŠ¨æ•°æ®é›†ä¸€ç¥

# æ•°æ®æ¸…ç†

**ACTIVITY** åˆ—å’Œ class åˆ—éœ€è¦è¢«æ ¼å¼åŒ–ï¼Œä»¥åˆ é™¤ä¸å¿…è¦çš„å¼•å·å’Œé™„åŠ åœ¨å®ƒåé¢çš„å˜é‡(b)ã€‚activity åˆ—ä¹Ÿæœ‰å…³è”çš„ ACTIViTY ä»£ç ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°åˆ— activity_name ä»¥æ›´å¥½åœ°å¯è§†åŒ–æ•°æ®é›†ã€‚

æ˜ å°„æ˜¯ä» activity_key.txt æ–‡ä»¶ä¸­è¯»å–çš„ã€‚æ˜ å°„æ˜¯ activty _ map = { ' A ':'è¡Œèµ°'ï¼Œ' B ':'æ…¢è·‘'ï¼Œ'æ¥¼æ¢¯'ï¼Œ' D ':'åç€'ï¼Œ' E ':'ç«™ç«‹'ï¼Œ' F ':'æ‰“å­—'ï¼Œ' G ':'ç‰™é½¿'ï¼Œ' H ':'æ±¤'ï¼Œ' I ':'è–¯ç‰‡'ï¼Œ' J ':'æ„å¤§åˆ©é¢'ï¼Œ' K ':'å–é…’'ï¼Œ' L ':'ä¸‰æ˜æ²»'ï¼Œ' M ':'è¸¢'ï¼Œ' O ':'æ¥ä½'ï¼Œ' P ':'è¿çƒ'ï¼Œ'å†™å­—'ï¼Œ' R ':'æ‹æ‰‹'ï¼Œ' S ':'æŠ˜å ' }

# æ•°æ®å¯è§†åŒ–

![](img/f268420605db616a697dc280c90bebd5.png)

æ´»åŠ¨æ•°æ®åˆ†å¸ƒ

![](img/54644c5f48001df0dd817fce29b47c39.png)

ä¸ªäººæ´»åŠ¨è®¡æ•°

*å—è¯•è€… id ä¸º 1610 çš„ä¸ªäººä¼¼ä¹åœ¨æ•°æ®æ”¶é›†é˜¶æ®µéå¸¸æ´»è·ƒï¼Œè€Œå—è¯•è€… id ä¸º 1616 çš„ä¸ªäººä¼¼ä¹æ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„æŠ¥é…¬æ¥å‚ä¸ã€‚*

# ç®—æ³•å’ŒæŠ€æœ¯

ä¸ºä»»ä½•æ•°æ®ç§‘å­¦ä»»åŠ¡é€‰æ‹©æ­£ç¡®çš„æ¨¡å‹éƒ½æ˜¯ä¸€é¡¹æ£˜æ‰‹çš„å·¥ä½œã€‚åŸºäºä»¥å‰çš„å·¥ä½œå’Œç»éªŒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å†³å®šä»æ•°æ®é›†è·å¾—æ´å¯ŸåŠ›çš„æ­£ç¡®æŠ€æœ¯æ–¹é¢åšå‡ºæ˜æ™ºçš„å†³å®šï¼Œä»è€Œåšå‡ºå†³ç­–ã€‚æ•°æ®é›†ä¸­çš„è¦ç´ æ˜¯æ•°å€¼æ•°æ®ï¼Œè€Œæ ‡æ³¨æ˜¯åˆ†ç±»å˜é‡ã€‚

ä¸ºäº†å¤„ç†è¿™ä¸ªåˆ†ç±»é—®é¢˜ï¼Œç ”ç©¶äº†ä»¥ä¸‹ç®—æ³•ã€‚

1.  çº¿æ€§å­¦ä¹ è€…
2.  çº¿æ€§ SVC
3.  è¿‘é‚»åˆ†ç±»å™¨

[**äºšé©¬é€Š sagemaker**](https://aws.amazon.com/sagemaker/) ç”¨äºç»“æœçš„æ„å»ºã€è®­ç»ƒã€éƒ¨ç½²å’Œæ¨æ–­ã€‚Scikit-learn åº“ç”¨äºå®ç°ä¸åŒçš„å…¶ä»–åˆ†ç±»å™¨ã€‚Amazon sagemaker æä¾›äº†å¼€ç®±å³ç”¨çš„æ”¯æŒã€‚

çº¿æ€§å­¦ä¹ è€…çš„å·¥ä½œåŸç†æ˜¯ä¸€ä¸ªå¯¹æ‰€æœ‰çš„åŸç†ã€‚è¿™ç§ç­–ç•¥åŒ…æ‹¬ä¸ºæ¯ä¸ªç±»å®‰è£…ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå› æ­¤åœ¨è®¡ç®—ä¸Šæ˜¯å¯è¡Œçš„ã€‚çº¿æ€§å­¦ä¹ å™¨ä½¿ç”¨ softmax æŸå¤±å‡½æ•°æ¥è®­ç»ƒå¤šç±»åˆ†ç±»å™¨ã€‚è¯¥ç®—æ³•ä¸ºæ¯ä¸ªç±»åˆ«å­¦ä¹ ä¸€ç»„æƒé‡ï¼Œå¹¶é¢„æµ‹æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚è¯¥ç®—æ³•ç›¸å¯¹è¾ƒå¿«ä¸”æ˜“äºå®ç°ã€‚æ—©æœŸå®ƒç”¨äºäºŒå…ƒåˆ†ç±»ï¼Œä½†ç°åœ¨ sagemaker æœ‰äº†è¶…å‚æ•°ï¼Œå¯ä»¥æŒ‡å®šå®ƒç”¨äºå¤šç±»åˆ†ç±»å™¨ã€‚å› æ­¤ï¼Œé€‰æ‹©å®ƒæ¥åˆ›å»ºåŸºç¡€æ¨¡å‹å°±æˆäº†ä¸€ä¸ªè‡ªç„¶çš„é€‰æ‹©ã€‚

æ ¹æ®è¿‡å»çš„ç»éªŒå’Œç ”ç©¶ï¼Œå·²çŸ¥æ”¯æŒå‘é‡æœº(SVM)åœ¨å¤šç±»åˆ†ç±»æ–¹é¢è¡¨ç°è‰¯å¥½ã€‚è¿›ä¸€æ­¥ç ”ç©¶äº†çº¿æ€§ SVC å’Œ KNeighborsClassifierï¼Œä»¥æé«˜åŸºæœ¬æ¨¡å‹çš„ç²¾åº¦ã€‚

çº¿æ€§ SVC å†æ¬¡ä»¥ä¸€å¯¹ä¸€åŸåˆ™å·¥ä½œã€‚å®ƒç±»ä¼¼äºå‚æ•° kernel='linear 'çš„ SVCï¼Œä½†æ ¹æ® liblinear è€Œä¸æ˜¯ libsvm å®ç°ï¼Œå› æ­¤å®ƒåœ¨é€‰æ‹©æƒ©ç½šå’ŒæŸå¤±å‡½æ•°æ–¹é¢å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œå¹¶ä¸”å¯ä»¥æ›´å¥½åœ°æ‰©å±•åˆ°å¤§é‡æ ·æœ¬ã€‚(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­çº¦ä¸º 75000)ä¸ SVC ç›¸æ¯”ã€‚

å°±åˆ†ç±»è€Œè¨€ï¼ŒKNeighborsClassifier ä¼¼ä¹æ˜¯ä¸€ä¸ªæå¥½çš„é€‰æ‹©ã€‚KNeighborsClassifier æ˜¯ä¸€ç§éå‚æ•°çš„æƒ°æ€§å­¦ä¹ ç®—æ³•ã€‚å®ƒæœ¬è´¨ä¸Šçš„æ„æ€æ˜¯ï¼Œå®ƒæ²¡æœ‰å¯¹æ•°æ®é›†åˆ†å¸ƒåšä»»ä½•å‡è®¾ï¼Œè¿™ä¸çœŸå®ä¸–ç•Œçš„æ•°æ®éå¸¸ç›¸ä¼¼ã€‚æ­¤å¤–ï¼Œå®ƒä¸éœ€è¦ä»»ä½•è®­ç»ƒæ•°æ®ç‚¹æ¥ç”Ÿæˆæ¨¡å‹ã€‚æµ‹è¯•é˜¶æ®µä½¿ç”¨çš„æ‰€æœ‰è®­ç»ƒæ•°æ®ã€‚æˆ‘ä»¬åœ¨è°ƒä¼˜é˜¶æ®µä½¿ç”¨è¶…å‚æ•° **n_neighbors** æ¥è·å¾—è‰¯å¥½çš„ç²¾åº¦

# åŸºå‡†

å¯¹äºè¿™ä¸ªé—®é¢˜ï¼ŒåŸºå‡†æ¨¡å‹æ˜¯çº¿æ€§å­¦ä¹ è€…æ¨¡å‹ã€‚å®ƒæ˜¯ç”¨è®­ç»ƒæ•°æ®å’Œå°†é¢„æµ‹å™¨ç±»å‹çš„è¶…å‚æ•°è®¾ç½®ä¸ºâ€œå¤šç±»åˆ†ç±»å™¨â€æ¥è®­ç»ƒçš„ã€‚ç„¶åæ¢ç´¢äº†æ¯”è¯¥æ¨¡å‹æ›´ç²¾ç¡®çš„è¿›ä¸€æ­¥ç®—æ³•ã€‚

![](img/09041fdb6b6271ce8e7c48d08058a675.png)

è¨æ ¼é©¬å…‹ä¼°è®¡é‡

![](img/72ceef9b007b8fc73155b2afec3551ab.png)

çº¿æ€§å­¦ä¹ è€…æ¨¡å‹çš„æ··æ·†çŸ©é˜µ

> **åŸºå‡†å‡†ç¡®ç‡å¾—åˆ†çº¦ä¸º 56%**

# æ•°æ®é¢„å¤„ç†

è¿™æ¶‰åŠåˆ°ä¸€äº›åˆ—åæ¸…ç†ï¼Œä»åˆ—å€¼ä¸­åˆ é™¤ä¸å¿…è¦çš„å­—ç¬¦ï¼Œå¦‚""ã€''ã€bã€‚æ•°æ®ç‚¹è¢«åˆ†ä¸º 18 ä¸ªä¸åŒçš„ç±»åˆ«æˆ–æ´»åŠ¨æ•°é‡ã€‚

å¯¹äºæœ¬é¡¹ç›®ï¼Œè¿™äº›ç±»åˆ«è¿›ä¸€æ­¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ã€‚

**0:(éé¢å‘æ‰‹çš„æ´»åŠ¨)**{è¡Œèµ°ã€æ…¢è·‘ã€çˆ¬æ¥¼æ¢¯ã€ç«™ç«‹ã€è¸¢è…¿}

**1:(æ‰‹éƒ¨ä¸ºä¸»çš„æ´»åŠ¨â€”â€”ä¸€èˆ¬)**:{è¿çƒã€ç©æ¥çƒã€æ‰“å­—ã€å†™å­—ã€æ‹æ‰‹ã€åˆ·ç‰™ã€å è¡£æœ}

**2:(é¢å‘æ‰‹çš„æ´»åŠ¨â€”â€”åƒ):**{åƒé¢é£Ÿã€å–æ±¤ã€åƒä¸‰æ˜æ²»ã€åƒè–¯ç‰‡ã€å–é…’}ç›®æ ‡å˜é‡æ˜¯æ´»åŠ¨ï¼Œå…¶å€¼å¯ä»¥æ˜¯ 0ã€1 æˆ– 2ã€‚å…¶è¢«è¿›ä¸€æ­¥æ˜ å°„åˆ°ç›¸åº”çš„ç»„ã€‚

![](img/0f0156cb4b3481671b88baaa6c5cb7b9.png)

äººç±»æ´»åŠ¨æ ‡ç­¾åˆ†å¸ƒ

# æ•°æ®æ ‡å‡†åŒ–

åœ¨æ¢ç´¢é˜¶æ®µï¼Œæˆ‘ä»¬å‘ç°åˆ—å€¼æˆ–ç‰¹æ€§çš„èŒƒå›´å¾ˆå¤§ã€‚å€¼çš„èŒƒå›´ä»è´Ÿæ•°åˆ°å¤§æ­£æ•°ã€‚å¯¹äºå¥½çš„æ¨¡å‹ï¼Œå¿…é¡»ç¼©æ”¾ç‰¹å¾ï¼Œä½¿å€¼ä»‹äº 0 å’Œ 1 ä¹‹é—´ã€‚

æ¥è‡ª scikit-learn çš„ MinMaxScaler ç”¨äºå•ç‹¬ç¼©æ”¾å’Œç¿»è¯‘æ¯ä¸ªç‰¹å¾ï¼Œä½¿å¾—å®ƒåœ¨è®­ç»ƒé›†çš„ç»™å®šèŒƒå›´å†…ï¼Œä¾‹å¦‚åœ¨ 0 å’Œ 1 ä¹‹é—´ã€‚

# ç‰¹å¾é€‰æ‹©

å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹æœ‰å¤ªå¤šçš„ç‰¹å¾ï¼Œæ€»å…± 91 ä¸ªï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©ç‰¹å¾ã€‚å®ƒèƒ½å¤Ÿé€‰æ‹©å¯¹é¢„æµ‹ç±»åˆ«è´¡çŒ®æœ€å¤§çš„é‚£äº›ç‰¹å¾ã€‚

**å•å˜é‡é€‰æ‹©**ç”¨äºé€‰æ‹© 10 ä¸ªæœ€é‡è¦çš„ç‰¹å¾ã€‚å®ƒé€šè¿‡åŸºäºå•å˜é‡ç»Ÿè®¡æµ‹è¯•é€‰æ‹©æœ€ä½³ç‰¹å¾æ¥å·¥ä½œã€‚å®ƒå¯ä»¥è¢«çœ‹ä½œæ˜¯ä¼°è®¡å™¨çš„é¢„å¤„ç†æ­¥éª¤ã€‚SelectKBest ç®—æ³•ä¼šåˆ é™¤é™¤ 10 ä¸ªæœ€é«˜å¾—åˆ†ç‰¹å¾ä¹‹å¤–çš„æ‰€æœ‰ç‰¹å¾ã€‚ä»¥ä¸‹æ˜¯åŸºäºåˆ†æ•°çš„ 10 å¤§é‡è¦ç‰¹å¾ã€‚

**å¡æ–¹ç»Ÿè®¡å¾—åˆ†**å¯ç”¨äºä»ç‰¹å¾åˆ—è¡¨ä¸­é€‰æ‹©æµ‹è¯•å¡æ–¹ç»Ÿè®¡å€¼æœ€é«˜çš„ n_features ç‰¹å¾ï¼Œè¯¥åˆ—è¡¨å¿…é¡»ä»…åŒ…å«ç›¸å¯¹äºç±»çš„éè´Ÿç‰¹å¾ï¼Œä¾‹å¦‚å¸ƒå°”æˆ–é¢‘ç‡(ä¾‹å¦‚ï¼Œæ–‡æ¡£åˆ†ç±»ä¸­çš„æœ¯è¯­è®¡æ•°)ã€‚è¯¥æµ‹è¯•æµ‹é‡éšæœºå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå› æ­¤ä½¿ç”¨è¯¥å‡½æ•°â€œå‰”é™¤â€æœ€æœ‰å¯èƒ½ç‹¬ç«‹äºç±»åˆ«å¹¶å› æ­¤ä¸åˆ†ç±»æ— å…³çš„ç‰¹å¾ã€‚

ä»¥ä¸‹æ˜¯åŠŸèƒ½é€‰æ‹©çš„è¾“å‡º:

![](img/d532e7a57eba2fbeef44b0dcba0cfaf7.png)

# å±¥è¡Œ

è¯¥å·¥ä½œæµç¨‹åœ¨ jupyter notebook å’Œ amazon sagemaker ä¸­å®ç°ã€‚

![](img/c3b868fd31772905cddf2427c1174a78.png)

Sagemaker å·¥ä½œæµç¨‹

![](img/278ca300b7e5c8d296089681fd1c0990.png)

å®æ–½å¯ä»¥åˆ†ä¸ºä»¥ä¸Šæ­¥éª¤

# åŸºæœ¬æ¨¡å‹å®ç°

é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ Amazon SageMaker çº¿æ€§å­¦ä¹ å™¨å®ç°äº†å®ç°å¤šç±»çš„åŸºæœ¬æ¨¡å‹

â—æ‹†åˆ†è®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•æ•°æ®:ä½¿ç”¨ sckit-learn åº“ä¸­çš„ Train_test_split å®ç”¨ç¨‹åºå°†æ•°æ®æ‹†åˆ†ä¸º 80%çš„è®­ç»ƒæ•°æ®ã€10%çš„éªŒè¯æ•°æ®å’Œ 10%çš„æµ‹è¯•æ•°æ®ã€‚

â—ä¸ºçº¿æ€§å­¦ä¹ è€…åˆ›å»º sagemaker ä¼°è®¡å™¨:æˆ‘ä»¬æä¾›æ‰§è¡Œè§’è‰²ã€å°†ç”¨äºè®­ç»ƒæ¨¡å‹çš„å®ä¾‹ç±»å‹ï¼Œå°† predictor_type æŒ‡å®šä¸º multiclass_classifierï¼Œä»¥å‘Šè¯‰ç®—æ³•è¿™æ˜¯å¤šç±»åˆ†ç±»çš„æƒ…å†µï¼Œå°† num_classes æŒ‡å®šä¸º 3ï¼Œè¿™æ˜¯ç±»/æ ‡ç­¾çš„æ•°é‡ã€‚

â—æ‹Ÿåˆæ¨¡å‹(è®­ç»ƒ)å’Œéƒ¨ç½²:æˆ‘ä»¬åˆ›å»ºç”¨äºè®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•çš„è®°å½•é›†ï¼Œå¹¶è®­ç»ƒæ¨¡å‹ï¼Œæœ€åä½¿ç”¨ sagemaker è¿›è¡Œéƒ¨ç½²

â—æ£€æŸ¥å‡†ç¡®æ€§:æ¨¡å‹çš„å‡†ç¡®æ€§ä¸º 56%ã€‚

# SKLearn æ¨¡å‹å®ç°(çº¿æ€§ SVC å’Œ KNeighborsClassifier)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ scikit-learn åº“å’Œè¯¥åº“æä¾›çš„çº¿æ€§ svc å’Œ KNeighborsClassifier æ¥å®ç°å¯¹å½“å‰åŸºæœ¬æ¨¡å‹çš„æ”¹è¿›ã€‚

æµç¨‹æ˜¯:

â—ä½¿ç”¨ create_csv å‡½æ•°å°†è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¿å­˜åœ¨æœ¬åœ°åº“ä¸­ã€‚

â—å½“ sagemaker estimator ä» s3 å­˜å‚¨æ¡¶è¯»å–æ•°æ®æ—¶ï¼Œå°†æ•°æ®ä¸Šä¼ åˆ° S3 å­˜å‚¨æ¡¶ã€‚

â—åˆ›å»ºä¸€ä¸ª sagemaker ä¼°è®¡å™¨ï¼ŒæŒ‡å®šè®­ç»ƒè„šæœ¬çš„å…¥å£ç‚¹ï¼Œè¯¥å…¥å£ç‚¹åœ¨è¿™ä¸¤ç§ç®—æ³•ä¸­éƒ½æ˜¯ä¸åŒçš„ã€‚

â—è®­ç»ƒè„šæœ¬(train.py)å…·æœ‰ç”¨äºåŠ è½½å·²è®­ç»ƒæ¨¡å‹çš„ model_fn å’Œ __name__ == '__main__ 'å—ï¼Œå…¶ä¸­æˆ‘ä»¬ä½¿ç”¨è¶…å‚æ•°è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚

â—è®­ç»ƒæ•°æ®ç”¨äºè®­ç»ƒæ¨¡å‹ï¼Œå¹¶éƒ¨ç½²åˆ° sagemaker ç«¯ç‚¹ï¼Œè¿›ä¸€æ­¥ç”¨äºå¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹

![](img/ec392bd3d08c1142fbb5fc276a25dcfd.png)

è¨æ ¼é©¬å…‹ä¼°è®¡é‡

# ç²¾ç‚¼

åŸºæœ¬æ¨¡å‹çº¿æ€§å­¦ä¹ å™¨åŸºäº vs rest ç­–ç•¥ï¼Œå¹¶ä»¥ 56%çš„å‡†ç¡®åº¦é¢„æµ‹è¯¥ç±»ã€‚ç„¶åï¼Œæˆ‘ä»¬ç»§ç»­ä½¿ç”¨çº¿æ€§ SVC æ¥æ£€æŸ¥æ—©æœŸçš„æ¨¡å‹æ˜¯å¦å¯ä»¥ç»†åŒ–æˆ–æ”¹è¿›ï¼Œä½†æ²¡æœ‰å¾—åˆ°æ”¹è¿›ã€‚å‡†ç¡®ç‡ä¸º 46%ã€‚

ä¸åŸºç¡€æ¨¡å‹ç›¸æ¯”ï¼Œçº¿æ€§ SVC å¾—åˆ†ä¸å¥½ã€‚ç„¶åæˆ‘è¯„ä¼°äº† **KNeighborsClassifier** ã€‚

åœ¨ **KNeighborsClassifier** çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨é»˜è®¤çš„è¶…å‚æ•°ï¼Œè€Œæ˜¯è°ƒæ•´åƒ **n_neighbors** è¿™æ ·çš„è¶…å‚æ•°æ¥æé«˜æ¨¡å‹æ€§èƒ½ã€‚

è¿™æ˜¯ä¸€ä¸ªæ”¹è¿›ï¼Œå› ä¸º n_neighbors ä» 3 å˜ä¸º 5ï¼Œå†å˜ä¸º 7ã€‚

# ç»“æœ

æ ¹æ®å­˜å‚¨åœ¨æµ‹è¯•ç›®å½•ä¸­çš„æµ‹è¯•æ•°æ®å¯¹è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œæµ‹è¯•ã€‚æ‰¾åˆ°æ¯ä¸ªç®—æ³•çš„å‡†ç¡®åº¦åˆ†æ•°ï¼Œå¹¶åˆ¶ä½œæè¿°ç»“æœçš„æ··æ·†çŸ©é˜µã€‚

![](img/6ed2f9e1777e687c8dfe6c039e9da8c4.png)

ä¸åŒå‹å·çš„å‡†ç¡®åº¦å¾—åˆ†

# æ··æ·†çŸ©é˜µå’Œç®—æ³•å‡†ç¡®åº¦åˆ†æ•°

![](img/f791acdbb51e602df1ad571c386919de.png)![](img/c783886a0c9397c661666de0b24e3587.png)

# æ³¨æ„äº‹é¡¹:

â—ä½¿ç”¨ KNeighborsClassifier(n _ neighbors = 13)åˆ¶ä½œçš„æœ€ç»ˆæ¨¡å‹åœ¨å‡†ç¡®æ€§æ–¹é¢æ¯”æˆ‘ä»¬çš„åŸºå‡†æ¨¡å‹è¡¨ç°å¾—æ›´å¥½ã€‚æˆ‘ä»¬å°†æŠŠè¿™ä½œä¸ºæˆ‘ä»¬çš„æœ€ç»ˆæ¨¡å‹ã€‚

â—è¯¥å‹å·åœ¨ç²¾ç¡®åº¦æ–¹é¢æ¯”åŸºæœ¬å‹å·æé«˜äº† 10%ã€‚

# ç»“è®º

åŸºäºä¼ æ„Ÿå™¨æ•°æ®è·Ÿè¸ªç”¨æˆ·æ´»åŠ¨çš„æƒ³æ³•æ˜¯ä¸€ä¸ªæœ‰è¶£çš„é¢†åŸŸï¼Œå› ä¸ºæˆ‘ä»¬æ¯æ¬¡éƒ½å¸¦ç€æ‰‹æœºå’Œæ‰‹è¡¨ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿè®¿é—®å¤§é‡çš„æ•°æ®ã€‚è¿™åªæ˜¯ä»ä¸­åšå‡ºæ­£ç¡®çš„æ¨è®ºã€‚

è¯¥è¿‡ç¨‹ä»æ”¶é›†å’Œç»†åŒ–ä¼ æ„Ÿå™¨æ•°æ®å¼€å§‹ã€‚å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ä»¥ä½¿å…¶å…·æœ‰æ ‡å‡†åŒ–å½¢å¼ï¼Œä¸”è¿›è¡Œç‰¹å¾é€‰æ‹©ä»¥ä¿ç•™æœ€ç›¸å…³çš„ç‰¹å¾ã€‚

è¯¥æ¨¡å‹ä½¿ç”¨ sagemaker ä¼°è®¡å™¨è¿›è¡Œè®­ç»ƒï¼Œå¹¶éƒ¨ç½²åˆ°ç«¯ç‚¹ã€‚ç»ˆç‚¹è¿›ä¸€æ­¥ç”¨äºå¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œæœ€ç»ˆæˆ‘ä»¬éªŒè¯äº†æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚

Amazon Sagemaker æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å·¥å…·ï¼Œå°¤å…¶æ˜¯å¯¹äºåˆšå¼€å§‹å­¦ä¹  ML çš„äººæ¥è¯´ã€‚ä½¿ç”¨ sagemakerï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®å¼ºå¤§çš„èµ„æºã€ä»ªè¡¨ç›˜ã€è§è§£ç­‰ã€‚è¿™ä½¿å¾—åŸ¹è®­ã€éƒ¨ç½²å’Œé¢„æµ‹è¿‡ç¨‹å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚

åœ¨è¯†åˆ«æ­£ç¡®çš„ç‰¹å¾æ–¹é¢ï¼Œé¡¹ç›®æœ‰ä¸€äº›å›°éš¾çš„æ–¹é¢ã€‚æ­¤å¤–ï¼Œåœ¨ä½¿ç”¨ tsne æ—¶ï¼Œ2D ç©ºé—´ä¸­å­˜åœ¨ç±»é‡å çš„é—®é¢˜ï¼Œå› æ­¤é¢„æµ‹å¯èƒ½ä¸æ˜¯éå¸¸å‡†ç¡®ã€‚

æœ€ç»ˆæ¨¡å‹ KNeighborsClassifier(n _ neighbors = 13)å…·æœ‰ 62.2%çš„ç²¾åº¦ï¼Œéšç€æˆ‘ä»¬æ”¶é›†æ›´å¤šæ•°æ®å¹¶è¿›è¡Œè¿›ä¸€æ­¥æ”¹è¿›ï¼Œè¯¥ç²¾åº¦è¶³ä»¥ç”¨äºè®¾å¤‡ã€‚ä¸ºäº†å°†æ¥çš„å¢å¼ºï¼Œè¯¥æ¨¡å‹å¯ä»¥è¢«è®¤ä¸ºæ˜¯åŸºç¡€æ¨¡å‹ã€‚

# ä¸°å¯Œ

â—é€šè¿‡ä½¿ç”¨ç¥ç»ç½‘ç»œè¿›è¡Œå»ºæ¨¡ï¼Œæˆ‘çœ‹åˆ°äº†å½“å‰è®¾ç½®çš„è¿›ä¸€æ­¥æ”¹è¿›ã€‚

â— Sagemakere è¶…è°ƒä½œä¸šå¯ç”¨äºè¿›ä¸€æ­¥å¾®è°ƒæ¨¡å‹ã€‚

â—è½¬æ¢åçš„æ•°æ®ç”¨äºæœ¬é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ—¶é—´åºåˆ—æ•°æ®æˆ–åŸå§‹æ•°æ®å»ºç«‹ä¸€ä¸ªæ›´å¥½çš„æ¨¡å‹ã€‚

# å‚è€ƒ

â—[https://archive.ics.uci.edu/ml/index.php](https://archive.ics.uci.edu/ml/index.php)

â—[http://www . cis . Fordham . edu/wisdm/includes/files/sensor KDD-2010 . pdf](http://www.cis.fordham.edu/wisdm/includes/files/sensorKDD-2010.pdf)

â—[https://towards data science . com/feature-selection-techniques-in-machine-learning-with-python-f 24 e 7 da 3 f 36 e](https://towardsdatascience.com/feature-selection-techniques-in-machine-learning-with-python-f24e7da3f36e)

â—åŸºäºæ™ºèƒ½æ‰‹æœºå’Œæ™ºèƒ½æ‰‹è¡¨çš„ç”Ÿç‰©è¯†åˆ«æŠ€æœ¯ï¼Œåˆ©ç”¨æ—¥å¸¸ç”Ÿæ´»æ´»åŠ¨ã€‚IEEE è®¿é—®ï¼Œ2019 å¹´ 9 æœˆ 7 æ—¥:133190â€“133202

> ä½ å¯ä»¥åœ¨ Github é“¾æ¥ä¸Šæ‰¾åˆ°ä»£ç :[https://github.com/anshul2209/Human-Activity-Tracker](https://github.com/anshul2209/Human-Activity-Tracker)

å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰ç”¨ï¼Œåˆ«å¿˜äº†ç‚¹å‡»ğŸ‘ã€‚