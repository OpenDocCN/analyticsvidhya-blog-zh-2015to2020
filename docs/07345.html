<html>
<head>
<title>Version control your machine learning experiments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">版本控制你的机器学习实验</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/version-control-machine-learning-experiments-cf52d092e468?source=collection_archive---------16-----------------------#2020-06-22">https://medium.com/analytics-vidhya/version-control-machine-learning-experiments-cf52d092e468?source=collection_archive---------16-----------------------#2020-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/85d7170ca7283c5ab93af8a1e8254192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c1mGZbLB_97jr1lx"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@hania09?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Hani Bdran </a>拍摄的照片</figcaption></figure><p id="07fa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如今，从数据中学习以获得商业洞察力在几乎每个行业都很常见。这些见解包括—可预测性、客户流失行为、预测等..机器学习是产生这些见解的关键因素。</p><p id="2849" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">构建一个好的ML模型需要大量的实验，包括对数据进行不同算法的多次迭代，创建新的变量，添加更多的数据等等..随着迭代次数的增加，跟踪这些实验变得更加困难。</p><p id="8351" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中我将谈论一个系统，以有效地版本控制机器学习项目。我还会分享一些工具，帮助你轻松实现这个系统。</p><h1 id="42a3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">在什么情况下你会得到一个新版本？</h1><h2 id="136d" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated"><strong class="ak"> 1。数据更改</strong></h2><p id="6c95" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">每当建模数据发生变化时，您就创建一个新版本的模型。基于建模数据训练ML模型。随着建模数据的改变，模型参数也将改变。当您执行以下操作时，可以更改数据:</p><ul class=""><li id="8dda" class="lk ll hi ix b iy iz jc jd jg lm jk ln jo lo js lp lq lr ls bi translated">当你获取更多数据时。</li><li id="a6d1" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">当您规范化/标准化数据时。</li><li id="f959" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">当您创建新变量时——变量组合、虚拟变量、趋势等..</li><li id="3b1e" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">当删除现有变量时。</li><li id="e673" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">当您填充缺失数据或删除缺失数据时。</li><li id="97bc" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">、或任何其他方式，其中数据发生一些变化。</li></ul><h2 id="8abb" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">2.模型变化</h2><p id="7915" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">不同的建模算法对相同的训练数据有不同的性能。你每应用一个新算法，你就做一个新实验。这个新实验是这个模型的新版本。</p><p id="95a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一种情况是创建新版本，保持数据和算法不变，但模型超参数发生变化。</p><h1 id="158c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">为什么需要跟踪模型版本？</h1><p id="d4c8" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">在建模阶段，训练数据和算法的独特组合将导致单个实验。当您运行不同的实验时，每个实验对验证数据都有不同的表现。对于每个实验，模型性能可能会提高或降低。考虑下表:</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/28bd347b6ed1e237442c85d2b3feb4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g7dlCM5huHrN40HTeaoX6g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">模型实验结果</figcaption></figure><p id="71cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设，你做了50+个实验，意识到之前的一个实验比现在的有更好的泛化能力。在上表中，我们看到模型4具有更好的训练和验证数据性能。因为你做了很多实验，你不记得那个模型到底用了什么数据，什么算法。在这种情况下，很难重现完全相同的结果。这就是为什么你需要一个版本控制系统，用它你可以很容易地跟踪所有的实验，而不会丢失你以前的工作。</p><h1 id="62d9" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">模型版本控制</h1><p id="bb0c" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">模型版本化是一种系统化的方法，用来跟踪所有的建模实验，这样，当你需要它的时候，你就可以检索它。</p><h2 id="1501" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">版本命名</h2><p id="b762" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">正如您在前面章节中看到的，当数据或算法发生变化时，模型也会发生变化。考虑到所有这些变化，有一个有意义的和一致的版本命名系统是很重要的，这样，你就可以在一个高层次上知道一个版本发生了什么。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/16fa806aa6308bdab967986bd507de6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtFv9SUOARk0_rzYi1T1jg.png"/></div></div></figure><p id="5a9c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我使用四位数字系统来指定型号。</p><ul class=""><li id="1e53" class="lk ll hi ix b iy iz jc jd jg lm jk ln jo lo js lp lq lr ls bi translated">第一个数字告诉我项目版本。如果我第一次处理它，我会指定x=1。</li><li id="3ef8" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">第二个数字告诉我用于建模的数据版本。最初，我设置y=1。在建模过程中，我们可能需要多次修改数据。每修改一次数据，我就增加数字y。</li><li id="bac2" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">我用于建模算法的第三个数字。对于每个数据版本，我从1开始。例如，对于数据版本y，对于我应用的第一个算法，我设置z=1，对于第二个算法，z=2，等等。</li><li id="1fcf" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated">第四个数字用于模型的微小变化，例如当算法超参数改变时，它会产生不同的结果，因此在这种情况下w的数字也不同。</li></ul><p id="d340" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如，如果我第一次做一个ML项目。我创建了一个版本的建模数据，并对该数据应用了逻辑回归算法。在这种情况下，我的完整版本号将变为1.1.1.0。现在，如果我将相同数据的算法更改为随机森林，我将调用我的版本1.1.2.0。如果我发现随机森林有更好的参数设置，我会称之为1.1.2.1版本。这样，我可以很容易地跟踪我的模型。</p><h2 id="e3b7" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">版本控制工具</h2><p id="f953" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">前述版本系统可以使用常规文件系统来实现。因为如果您的数据是CSV格式的，您可以将文件命名为<filename> _ <version> .csv。</version></filename></p><p id="b442" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是当你处理大量文件时，上述方法就开始失效了。处理版本控制的一个有效方法是使用专用软件。有两个版本控制软件，我们可以用于这个目的——</p><ul class=""><li id="316e" class="lk ll hi ix b iy iz jc jd jg lm jk ln jo lo js lp lq lr ls bi translated"><a class="ae iu" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> git </a> —用于代码版本控制。</li><li id="407e" class="lk ll hi ix b iy lt jc lu jg lv jk lw jo lx js lp lq lr ls bi translated"><a class="ae iu" href="https://dvc.org/" rel="noopener ugc nofollow" target="_blank"> dvc </a> —用于数据版本控制。</li></ul><p id="c6c9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">git和dvc都是开源软件。有关完整的使用信息，请查阅他们的文档。有关如何使用这些工具的示例，请查看以下文章—</p><div class="me mf ez fb mg mh"><a href="https://towardsdatascience.com/start-version-controlling-your-machine-learning-datasets-2b872e109856" rel="noopener follow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hj fi z dy mm ea eb mn ed ef hh bi translated">开始版本控制您的机器学习数据集</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">使用开源工具使您的机器学习和数据科学项目具有可重复性。</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv io mh"/></div></div></a></div><div class="me mf ez fb mg mh"><a href="https://towardsdatascience.com/version-control-ml-model-4adb2db5f87c" rel="noopener follow" target="_blank"><div class="mi ab dw"><div class="mj ab mk cl cj ml"><h2 class="bd hj fi z dy mm ea eb mn ed ef hh bi translated">版本控制ML模型</h2><div class="mo l"><h3 class="bd b fi z dy mm ea eb mn ed ef dx translated">机器学习操作(姑且称之为当前流行词模式xxOps下的MLOps)与…</h3></div><div class="mp l"><p class="bd b fp z dy mm ea eb mn ed ef dx translated">towardsdatascience.com</p></div></div><div class="mq l"><div class="mw l ms mt mu mq mv io mh"/></div></div></a></div><h1 id="379b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="7a0d" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">您可以使用上述系统来使用模型版本控制，也可以定义您自己的系统。重要的是在做实验的时候遵循一个系统的方法，这样当你需要的时候就很容易复制结果。</p></div><div class="ab cl mx my gp mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="hb hc hd he hf"><p id="de32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Quora 上关注我。我写的是数据科学和机器学习相关的答案。</p></div></div>    
</body>
</html>