<html>
<head>
<title>Face Detection Using OpenCV &amp; Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenCV和Python进行人脸检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/face-detection-using-opencv-python-f5f51dc30e6d?source=collection_archive---------21-----------------------#2020-01-14">https://medium.com/analytics-vidhya/face-detection-using-opencv-python-f5f51dc30e6d?source=collection_archive---------21-----------------------#2020-01-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4524" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你听到人脸识别的时候，你会想到视频监控，你被监视着。在过去的几十年里，人脸识别已经成为计算机视觉的一个热门领域。面部识别系统使用计算机算法来挑选出一个人面部的具体、独特的细节。</p><p id="e32c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，您将学习如何使用OpenCV和Python执行面部识别的基本实现。OpenCV本质上代表<strong class="ih hj">开源计算机视觉库。</strong>到最后，你将学会在图像和视频中检测人脸。</p><p id="cf55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用OpenCV实现人脸检测:</strong></p><p id="6330" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.安装OpenCV，如果没有安装，则:</p><p id="2c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">" pip安装<strong class="ih hj"> opencv-python" </strong></p><p id="bd20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.如果您使用PyCharm，那么:</p><p id="5b1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到文件-&gt;设置</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/fbf03d20be16008251125981a2e32365.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*I77OmHSKHWucFjJV02xYvw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">设置-&gt;项目解释器</figcaption></figure><p id="7451" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后点击项目解释器并点击“+”图标</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/0e28a5cff795b512469552e79148c4f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*YPKCLFdse8GdQP_bzHbMeA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">点击对话框右上角的+图标，添加opencv并安装</figcaption></figure><p id="5f91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“+”后添加<strong class="ih hj"> opencv-python </strong>，点击左下方的安装按钮。</p><p id="237f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人脸检测使用haarcascade，这是一种机器学习方法，其中级联函数是用一些输入数据集训练的。Opencv有一个预先训练好的人脸、眼睛等分类器。</p><p id="bce1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，你需要下载一张图片和<a class="ae jq" href="https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_default.xml" rel="noopener ugc nofollow" target="_blank">训练好的分类器XML文件</a>(Haar cascode _ frontal face _ default . XML)，这个文件可以在<a class="ae jq" href="https://github.com/opencv/opencv/tree/master/data/haarcascades" rel="noopener ugc nofollow" target="_blank"> OpenCV的GitHub资源库</a>中找到。</p><p id="e73e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要检测图像中的人脸:</p><p id="1928" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该计划的步骤:</p><p id="eba5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.导入cv2</p><p id="9d53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.加载级联(第3行)</p><p id="a3a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.使用<strong class="ih hj"> imread </strong>功能读取输入图像(第5行)</p><p id="92fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.使用<strong class="ih hj"> cvtColor </strong>(第7行)将图像转换为灰度</p><p id="70b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.检测人脸(第9行)</p><p id="bd8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.在面的周围画矩形(第11行到第12行)</p><p id="8c89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.显示输出(第14行到第15行)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/ac721e07e45a438ce3ad60d0f8fafd0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*iFvFZt22-KXxTQR_BLe-kw.png"/></div></figure><h2 id="b050" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">要记住的几点:</h2><p id="ac81" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">将图像转换为灰度，因为检测仅适用于灰度<strong class="ih hj">。</strong></p><p id="fbab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> detectMultiScale </strong>功能用于检测人脸。它需要三个输入参数(输入图像、比例因子和minNeighbours <strong class="ih hj"> ) </strong></p><p id="15a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在图像中找到人脸的地方画出矩形。面包含矩形区域的坐标列表(检测面的位置)。</p><p id="f9ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">图像中的面部检测的输出:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/4a3c698df695f4d6cb4f900b59cea2c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*NRwBtv1thLBtG5pfIh1tnA.png"/></div></figure><h1 id="925a" class="kt jt hi bd ju ku kv kw jy kx ky kz kc la lb lc kf ld le lf ki lg lh li kl lj bi translated">同样，我们可以检测视频中的人脸。众所周知，视频是由帧组成的，帧是静止的图像。</h1><p id="b257" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj">下面给出的是代码:</strong></p><p id="d832" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该计划的步骤:</p><ol class=""><li id="4d58" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">导入cv2</li><li id="3674" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">加载级联(第3行)</li></ol><p id="b3fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.使用<strong class="ih hj"> VideoCapture </strong>从网络摄像头读取视频(第5行)</p><p id="acbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.运行一个循环，从视频中读取图像，并将视频帧转换为灰度(第12行)</p><p id="481b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.检测接受输入的人脸(第14行)</p><p id="54ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.在面的周围画矩形，指定矩形的宽度和颜色(第15-17行)</p><p id="da77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.运行检测你的脸作为输出(第18行-第24行)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ly"><img src="../Images/1e0c9db531b65390af4a00776628fd3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*aboQZgQFxm9UUgsqvFOsEw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">视频中的人脸识别</figcaption></figure><p id="db3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图像和视频识别的唯一区别是视频中的每一帧都使用了无限循环。我们使用cap.read()来读取每一帧，返回的初始值是一个标志，指示该帧是否被正确读取。返回的第二个值是我们将对其执行检测的静止帧。</p><p id="cfeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我希望这有所帮助！！</strong></p><p id="3419" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多帮助，可以访问我的Github:-【https://github.com/Afaf-Athar/FaceDetection_openCv】T4</p></div></div>    
</body>
</html>