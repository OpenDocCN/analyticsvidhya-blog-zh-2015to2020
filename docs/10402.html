<html>
<head>
<title>Python Tips — Pandas Apply Function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 提示-熊猫应用函数</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-tip-a-day-python-tip-3-pandas-apply-function-dev-skrol-b71ba20468a7?source=collection_archive---------17-----------------------#2020-10-17">https://medium.com/analytics-vidhya/a-tip-a-day-python-tip-3-pandas-apply-function-dev-skrol-b71ba20468a7?source=collection_archive---------17-----------------------#2020-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="c0f4" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><em class="hi"> Apply function 将一个函数作为参数，并在数据帧的所有元素中执行该函数。</em></p></blockquote><p id="8beb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">例如，如果我们要创建一个新列，它是另一列值的平方根，或者应用一个复杂函数并组合一个或多个列，或者在使用现有特征创建新特征以进行特征工程时。</p><blockquote class="if ig ih"><p id="b59e" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><em class="hi">语法:df.apply(func，axis=0，broadcast=None，raw=False，reduce=None，result_type=None，args=()，**kwds) </em></p></blockquote><p id="21c5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">熊猫系列。</p><p id="3d6a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">func-λ函数或正常函数</p><p id="3637" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">轴-0-默认为行，1-列</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="ec8a" class="jt ju hi jp b fi jv jw l jx jy">import pandas as pd <br/>import numpy as np</span></pre><p id="0775" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">让我们用一个例子来试试。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="f042" class="jt ju hi jp b fi jv jw l jx jy">fruit = { 'orange' : [3,2,0,1], 'apples' : [0,3,7,2] } <br/>df = pd.DataFrame(fruit) <br/>df</span></pre><p id="aa3c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">输出:</p><figure class="jk jl jm jn fd ka er es paragraph-image"><div class="er es jz"><img src="../Images/4d1a01a2ca0316d82b6819e2c9f198bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*ARKeMbF58OaM70xz8L5Ukw.png"/></div></figure><p id="2ef4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">例如，我们需要通过对另一列求平方根来创建一个新的序列。下面的代码可以做到这一点。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="3ed9" class="jt ju hi jp b fi jv jw l jx jy">lst= [] <br/>print("Original values in Orange column:") <br/>print(df['orange']) <br/>for i in df['orange']: <br/>    lst.append(np.sqrt(i)) </span><span id="5e80" class="jt ju hi jp b fi kd jw l jx jy">print("Square root value if Orange column:") <br/>print(lst)</span></pre><p id="0c2e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">输出:</p><figure class="jk jl jm jn fd ka er es paragraph-image"><div class="er es ke"><img src="../Images/9ab5783341a862f05a35b03c217e849f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*sXdXVkzW0-cQ29zJQtDb9g.png"/></div></figure><h1 id="e844" class="kf ju hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">应用功能简化了这一过程。</h1><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="bcfe" class="jt ju hi jp b fi jv jw l jx jy">df['orange_sqrt'] = df['orange'].apply(np.sqrt) <br/>df</span></pre><p id="eb4e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">输出:</p><figure class="jk jl jm jn fd ka er es paragraph-image"><div class="er es lc"><img src="../Images/1dc89bad9db70a1fbbf5409d6df87b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*F1SXcruV96zLvHNTbJ6DDw.png"/></div></figure><p id="96a4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们用更少的代码实现了同样的功能。</p><h1 id="c872" class="kf ju hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">使用 Lambda 函数:</h1><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="87f7" class="jt ju hi jp b fi jv jw l jx jy">df['orange_sq'] = df['orange'].apply(lambda x: x*x) <br/>df</span></pre><p id="7121" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">输出:</p><figure class="jk jl jm jn fd ka er es paragraph-image"><div class="er es ld"><img src="../Images/75597cbd7d78ad8e840a164ea3448f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*_5TUYr1w73cyR5bHlwFZkQ.png"/></div></figure><p id="f801" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">今天我们学习了应用函数。</p><p id="48b2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">希望你现在对实践我们所学的东西感到兴奋。</p><p id="7720" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们将看到 Python 中的一个新技巧。谢谢大家！👍</p><p id="16a4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">喜欢支持？只要点击拍手图标❤️.</p><p id="881e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">编程快乐！🎈</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="2a1c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">原载于 2020 年 10 月 17 日</em><a class="ae ll" href="https://devskrol.com/index.php/2020/10/17/a-tip-a-day-python-tip-3-pandas-apply-function/" rel="noopener ugc nofollow" target="_blank"><em class="ik"/></a><em class="ik">。</em></p></div></div>    
</body>
</html>