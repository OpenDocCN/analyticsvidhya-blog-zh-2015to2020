<html>
<head>
<title>Unintended Bias in toxicity classification of comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">评论中毒性分类的意外偏差</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/unintended-bias-in-toxicity-classification-of-comments-e7af4b195120?source=collection_archive---------31-----------------------#2020-03-29">https://medium.com/analytics-vidhya/unintended-bias-in-toxicity-classification-of-comments-e7af4b195120?source=collection_archive---------31-----------------------#2020-03-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c5da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对毒性说不。让数字平台免受毒害。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/070b0eaeadc9d43e25d0ed3f9367f9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dnC4r2WxzQufkTdRqiobyw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.engadget.com%2F2017%2F09%2F01%2Fgoogle-perspective-comment-ranking-system%2F&amp;psig=AOvVaw1oq6xB60F3mIGTr2yCEXFH&amp;ust=1585543007808000&amp;source=images&amp;cd=vfe&amp;ved=0CAIQjRxqFwoTCJCmt5HuvugCFQAAAAAdAAAAABAJ" rel="noopener ugc nofollow" target="_blank">https://www.google.com/url?sa=i&amp;URL = https % 3A % 2F % 2 fwww . engadget . com % 2f 2017% 2f 09% 2f 01% 2f Google-perspective-comment-ranking-system % 2F&amp;psig = aovvaw 1 OQ 6xb 60 F3 migt R2 yce xfh&amp;ust = 1585543007808000&amp;source = images&amp;CD = vfe&amp;ved = 0 caiqjj</a></figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="af98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目录:</p><ol class=""><li id="83b8" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc kg kh ki kj bi translated">介绍</li><li id="b78d" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">应用程序</li><li id="d779" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">商业问题</li><li id="131a" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">名字是什么？</li><li id="65a4" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">先决条件</li><li id="9ecc" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">使用的度量</li><li id="fd90" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">数据概述</li><li id="68b1" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">探索性数据分析</li><li id="be98" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">数据清理</li><li id="ad38" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">列车测试分离</li><li id="3fe3" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">向量化文本</li><li id="dd23" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">机器学习模型</li><li id="cba3" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">深度学习模型</li><li id="5f76" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">结论</li><li id="f323" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">未来的工作</li><li id="8e2b" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">参考</li></ol><h1 id="464c" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">1.介绍</h1><p id="a241" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">"以这样一种方式说话，人们会像你一样感觉良好"。但是现在，人们正在滥用网络平台，这些平台本应成为世界的汇聚点。有些人正在利用这些平台来戏弄人，伤害某人的自尊心或通过写一些有毒的评论来羞辱一个人。因此，这个挑战试图通过将给定的评论分类为有毒或无毒来解决有毒评论的问题，以便我们可以从平台上删除有毒评论。</p><h1 id="0163" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">2.应用程序</h1><ul class=""><li id="4c68" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated">删除网络平台上的攻击性评论</li><li id="04e2" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">攻击性巨魔检测和消除他们</li><li id="b2e7" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">还有更多……</li></ul><h1 id="2d21" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">3.商业问题</h1><p id="8ca1" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">这项挑战的一个主要关注领域是设计一个可以识别在线对话中毒性的机器学习模型，其中毒性被定义为任何<em class="lw">粗鲁、不尊重或其他可能使某人离开讨论的事情</em>。</p><h1 id="9f6f" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">4.名字是什么？</h1><p id="6b32" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">这被称为“毒性分类中的意外偏差”，因为有时个人的评论可能不是有毒的，但由于几个关键词，它似乎对机器有毒，因此被分类为有毒。示例:</p><p id="26f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“我是一个女同性恋者”是没有毒性的，但是由于“同性恋”这个词，它被归类为有毒的。</p><p id="1bda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，为了摆脱这种意外的偏差问题，jigsaw和conversation AI团队设计了一种新的度量标准，它结合了整体AUC和偏差AUC来衡量模型的性能。我们的座右铭是设计这样一个模型，它可以最小化这种类型的非预期偏差。</p><h1 id="cfef" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">5.使用的概念</h1><ul class=""><li id="8c27" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated">Numpy</li><li id="8c67" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">熊猫</li><li id="373a" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">美国有线新闻网；卷积神经网络</li><li id="274f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">LSTM</li><li id="0abb" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">伯特</li><li id="5775" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">注意力模型</li><li id="19b7" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">克拉斯</li></ul><h1 id="4d87" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">6.使用的度量</h1><ul class=""><li id="9a98" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated"><strong class="ih hj">整体AUC </strong></li><li id="9229" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">亚组AUC </strong></li><li id="09ac" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">背景阳性亚群阴性</strong> (BPSN):有同一性且无毒+无同一性且有毒。它描述了(有特性和无毒，无特性和有毒)之间的混淆</li><li id="ecc0" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">背景阴性亚群阳性</strong> (BNSP):有身份且有毒+无身份且无毒。它描述了(有特性和有毒，无特性和无毒)之间的混淆</li><li id="a6d7" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">偏倚的广义平均值AUC </strong></li><li id="7607" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj"> Bias_auc_score </strong> =</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/71c6e0c79cc90f0b268e4d7206eb6bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFgsl6zXxLy3s5z6vEvi_A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.kaggle.com/c/jigsaw-unintended-bias-in-toxicity-classification/overview/evaluation" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/c/jigsaw-unintended-bias-in-toxicity-class ification/overview/evaluation</a></figcaption></figure><ul class=""><li id="a2bd" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><strong class="ih hj">最终指标</strong></li></ul><p id="821b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将总体AUC与偏倚AUC的广义平均值结合起来计算最终模型得分:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/1b75a05a153a2d5b715476a7af4dc159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7um29SMLpSRFIqF7mNepg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.kaggle.com/c/jigsaw-unintended-bias-in-toxicity-classification/overview/evaluation" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/c/jigsaw-unintended-bias-in-toxicity-class ification/overview/evaluation</a></figcaption></figure><h1 id="efd7" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">7.数据概述</h1><p id="91f4" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">来源:<a class="ae jt" href="https://www.kaggle.com/c/jigsaw-unintended-bias-in-toxicity-classification/data" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/c/jigsaw-unintended-bias-in-toxicity-class ification/data</a></p><p id="0961" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在提供的数据中，单个注释的文本位于comment_text列中。训练中的每个注释都有一个毒性标签(目标)，模型应该预测测试数据的目标毒性。该属性(以及所有其他属性)是分数值，表示认为该属性适用于给定评论的人类评分者的分数。对于评估，目标&gt; = 0.5的测试集示例将被视为阳性类别(有毒)。</p><p id="ac8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该数据还有几个附加的毒性子类型属性。模型不需要为竞争预测这些属性，它们作为一个额外的研究途径被包括在内。子类型属性包括:</p><ul class=""><li id="e89a" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">严重毒性</li><li id="c159" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">猥亵的</li><li id="d84c" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">威胁</li><li id="838f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">侮辱</li><li id="81d9" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">身份_攻击</li><li id="3042" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">性_露骨</li></ul><p id="f6f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，评论的一个子集已经被标注了各种身份属性，代表评论中<em class="lw">提到的</em>身份。下面列出了与身份属性对应的列..需要进行评估的身份以粗体显示。</p><ul class=""><li id="1663" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><strong class="ih hj">男</strong></li><li id="31b1" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">女</strong></li><li id="f232" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">变性人</li><li id="1820" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">其他_性别</li><li id="d59c" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">异性恋的</li><li id="c01d" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">同性恋者</li><li id="38cf" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">两性的</li><li id="8c0b" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">其他性取向</li><li id="cbda" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">基督教</strong></li><li id="5265" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">犹太人</strong></li><li id="1a8f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">穆斯林</strong></li><li id="71cc" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">印度人</li><li id="d663" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">佛教的</li><li id="77e5" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">无神论者</li><li id="e379" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">其他_宗教</li><li id="1555" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">黑色</strong></li><li id="2af7" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">白色</strong></li><li id="8716" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">亚洲的</li><li id="73f7" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">拉丁美洲人</li><li id="24ab" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">其他种族或民族</li><li id="80d9" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">身体残疾</li><li id="ac5b" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">智力或学习障碍</li><li id="7a2f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><strong class="ih hj">精神疾病</strong></li><li id="9e14" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">其他_残疾</li></ul><p id="9d08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，数据包含不同的注释，这些注释可能具有完全相同的文本。具有相同文本的不同注释可能被标注了不同的目标或子组。</p><p id="bb4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例题</strong></p><p id="49ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是一些注释及其相关毒性和身份标签的示例。标签值范围为0.0–1.0，代表认为标签符合评论的评分者比例。</p><p id="9ec9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">评论:<em class="lw">我是一个60多岁的白人妇女，相信我，他们也不太喜欢我！！</em></p><ul class=""><li id="7551" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">毒性标签:均为0.0</li><li id="9172" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">身份提及标签:女性:1.0，白人:1.0(所有其他0.0)</li></ul><p id="5d73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">评论:<em class="lw">为什么你会认为这个故事中的护士是女性？</em></p><ul class=""><li id="d13f" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">毒性标签:均为0.0</li><li id="67e9" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">身份提及标签:女性:0.8(所有其他0.0</li></ul><p id="6094" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">评论:<em class="lw">继续站强LGBT群体。是的，的确，你会克服的，你已经克服了。</em></p><ul class=""><li id="4647" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">毒性标签:均为0.0</li><li id="85aa" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">身份提及标签:同性恋_男同性恋_或女同性恋:0.8，双性恋:0.6，跨性别者:0.3(所有其他0.0)</li></ul><h1 id="3b13" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">8.探索性数据分析</h1><h2 id="6ad2" class="lz kq hi bd kr ma mb mc kv md me mf kz iq mg mh ld iu mi mj lh iy mk ml ll mm bi translated">a)目标分布</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/8231c255040252b73f011704a4d6949f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1ZQYJC0lJA_nJMHlrsmSw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">无二值化的目标分布</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/eada416f50c85598a17a87edf6ee2281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mzk6UNQQKsGHOp-1x3F7LQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">二值化后的目标分布</figcaption></figure><p id="f911" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;二值化之前:</p><ul class=""><li id="dc4b" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">大约70%的数据的目标值为&lt; 0.1 i.e non-toxic</li><li id="ce4f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">But there are 30 % of data having target value &gt; 0.1</li><li id="9b38" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">在所有10个容器中，最值得注意的是0.1到0.5，因为注释者似乎对这些评论是否有毒感到困惑，因此我们的模型也可能对这些评论感到困惑。</li></ul><p id="5e2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;二值化后:</p><ul class=""><li id="4f85" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">这是一个高度不平衡的数据集，只有8%的有害数据</li></ul><h2 id="f8a6" class="lz kq hi bd kr ma mb mc kv md me mf kz iq mg mh ld iu mi mj lh iy mk ml ll mm bi translated">b)评论长度</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/2c9af0ec78f0172bcd72788b1c03953f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2pba3uU4h4I5DcJs6J822w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">注释文本长度:字符和单词级别</figcaption></figure><ul class=""><li id="b44b" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">大多数评论的字符长度为1000。这可能是由于我们在清理评论时删除了一些特殊字符或停用词。</li><li id="c717" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">清理完评论文字后，评论文字的最大字数在130左右。这是一个合理的长度。</li></ul><h2 id="0332" class="lz kq hi bd kr ma mb mc kv md me mf kz iq mg mh ld iu mi mj lh iy mk ml ll mm bi translated">c)毒性注释者的数量与注释长度</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/29791682193988fbed6147cd4e57fac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f_oGJPgd4gLxaP6N_aopgw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">毒性注释者Vs评论长度:字符级和单词级</figcaption></figure><ul class=""><li id="f4b0" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">正如我们在单词级和字符级看到的，随着长度的增加，注释者的数量会减少。</li></ul><h2 id="893f" class="lz kq hi bd kr ma mb mc kv md me mf kz iq mg mh ld iu mi mj lh iy mk ml ll mm bi translated">d)身份分布</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mr"><img src="../Images/dc9b387def757f81f456e2b21aed574d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YPwQBBdySbeK3tkxxAWFPw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">身份分布</figcaption></figure><h1 id="ae08" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">9.数据清理</h1><p id="072b" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">a)收缩解除</p><p id="8118" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)停用词移除</p><p id="1dbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> c)词干化</strong>:词干化是产生词根/基本词的形态变体的过程。词干程序通常被称为词干算法或词干分析器。词干算法将单词“chocolate”、“chocolatey”、“choco”简化为词根，“chocolate”和“retrieve”，“retrieved”，“retrieved”简化为词干“retrieve”。</p><p id="e5c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> d)词汇化</strong>:词汇化是将一个单词的不同屈折形式组合在一起的过程，这样它们就可以作为一个单独的项目进行分析。词汇化类似于词干化，但它给单词带来了上下文。所以它把意思相近的单词链接成一个单词。</p><h1 id="e511" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">10.训练测试分割(80-20分割)</h1><p id="27cf" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">使用分层抽样来避免分裂数据时的偏差。并且检查测试数据与训练数据相比是否具有大约相同比例的毒性评论。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><h1 id="e4a2" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">11.向量化文本</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/3ff58521b44ec77151b77fb0aff31d8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0nhpdv3w90ZJDraN9D4oUg.png"/></div></div></figure><ul class=""><li id="c7ee" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">一袋单词</li><li id="bf09" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">TF-IDF</li></ul><p id="f629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:具有15k特征的1克TF-IDF矢量化比其他矢量化和尺寸给出了更好的结果</p><h1 id="8a0e" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">12.机器学习模型</h1><p id="e0bc" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated"><strong class="ih hj"> a)朴素贝叶斯</strong></p><p id="449c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从简单的模型开始，它易于训练，可以作为实现其他复杂模型的基线模型。所以让我们从朴素贝叶斯开始。</p><p id="8dbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第一步:</em>超参数调整:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/612531758967cf8faa030d3fb47aa78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytN3Gb1rvTE0xkNHVN_VRA.png"/></div></div></figure><p id="9331" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/773b42392cf05582d9b040c2e58833d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SWWje9iCQYLTfbQPyCNZ-A.png"/></div></div></figure><p id="7d8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">步骤3: </em>最佳超参数训练:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/5d2a0c8e0f5372150aae0f3df4b57cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6OuVUrVtXd_RLB1tzeDQuA.png"/></div></div></figure><p id="3546" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">步骤4: </em>最佳超参数的AUC曲线:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/e26a0a5097413637fb52141fa527e90c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x2JSeTobf4BIuRA96ROQ7w.png"/></div></div></figure><p id="32fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第五步:</em>验证数据的混淆矩阵:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mz"><img src="../Images/80eb6315c7fa1a28de800c249f1aa80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*vTVm0UvxswF_jg5Zl6Ui5Q.png"/></div></figure><p id="1509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于以下所有型号，可采用与上述类似的方法:</p><p id="4eb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> b)逻辑回归</strong>(有“对数”损失的新币)</p><p id="dee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> c) SVM </strong>(带“铰链”损失的SGD)</p><p id="c4a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">XG-Boost </p><p id="e43a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> e)随机森林分类器</strong></p><p id="7303" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> f)堆垛分级机</strong></p><h1 id="a4e6" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">13.深度学习模型</h1><p id="6d05" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated"><strong class="ih hj"> a)数据准备</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/04d2dcf954e43f8f549352555d2c27ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dHNKj5ZIQeVg_DoM8BzDpg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">单词嵌入的帮助功能</figcaption></figure><p id="6bb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">步骤1: </em>权重初始化:</p><ul class=""><li id="726d" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">通过下面的代码，我试图灌输一些关于问题中给出的身份的信息。这些身份也用于定义指标，因此，我想这可能有助于我们提高指标值。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="4cad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>单词本地化:</p><ul class=""><li id="e283" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><code class="du nb nc nd ne b">fit_on_texts </code> <em class="lw">根据文本列表更新内部词汇。</em>此方法基于词频创建词汇索引。所以如果你给它这样的话，“猫坐在垫子上。”它将创建一个字典s.t. <code class="du nb nc nd ne b">word_index["the"] = 1; word_index["cat"] = 2</code>它是单词- &gt;索引字典，所以每个单词都有一个唯一的整数值。0保留用于填充。所以较小的整数意味着更频繁的单词(通常前几个是停用词，因为它们出现得很多)。</li><li id="d16a" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><code class="du nb nc nd ne b">texts_to_sequences</code> <em class="lw">将文本中的每个文本转换为一个整数序列。</em>所以它基本上获取文本中的每个单词，并用来自<code class="du nb nc nd ne b">word_index</code>字典的相应整数值替换它。不多不少，当然不涉及魔法。</li><li id="40af" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><em class="lw">为什么不把它们结合起来？</em>因为你几乎总是一次<em class="lw"/>，多次<em class="lw">转换成序列</em>。您只需在训练语料库上安装一次，并在训练/评估/测试/预测时使用完全相同的<code class="du nb nc nd ne b">word_index</code>字典，将实际文本转换成序列，然后将它们提供给网络。所以将这些方法分开是有意义的。(<a class="ae jt" href="https://stackoverflow.com/questions/51956000/what-does-keras-tokenizer-method-exactly-do" rel="noopener ugc nofollow" target="_blank">参考链接</a>)</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="4ef9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第三步:</em>单词嵌入:</p><ul class=""><li id="db10" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">我用的单词嵌入是<em class="lw"> crawl-300d-2M.gensim </em>和<em class="lw">glove . 840 b . 300d . gensim .</em>最后的嵌入矩阵是两个嵌入向量的平均值。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="5eeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> b)简单的CNN </strong></p><p id="9497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第一步:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/0468cd92990e4e72f6becefbf2acd290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_FvFCfI_GVtdXCrLNIvcZw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/742c70572f618e65c7307d2d08f06b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*FTUxrbk_kdR9i7EzqtTxDA.png"/></div></figure><p id="4564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>模型编译</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="7cbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第三步:</em>模型拟合</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="2a7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第四步:</em>模型预测</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="e15a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> c)单层LSTM </strong></p><p id="3338" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第一步:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/29fa453709a3b44be384129be91812c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PjAaVH9173BbLt7GW5VRHA.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ng"><img src="../Images/4068b5a771bcee544f6c720e3f3f0299.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*LL8cXGPEPzUF_Si59rC_NA.png"/></div></figure><p id="64fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>模型编译</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="b59e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第三步:</em>模型拟合</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="d0fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第四步:</em>模型预测</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="ea75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> d)双向LSTM </strong></p><p id="5587" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第一步:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/ceca11eaa7f46da4d634efa860a164a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FLdyX9kSB9YndWYuUtp2Ug.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">模型架构的功能</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ni"><img src="../Images/8201992845531e88ce93b08d9bf33dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kIHRBhaeTT2nD4_C_lGlsA.png"/></div></div></figure><p id="0049" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>训练</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nj"><img src="../Images/149d984b31e1ce32a715e7559e1ad2d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPKVjXrinSScwgXMN-sq9A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">模特培训</figcaption></figure><p id="38ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第三步:</em>预测</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="57d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> e)注意双向LSTM</strong></p><p id="ca43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意层的代码可以在这里找到<a class="ae jt" href="https://www.kaggle.com/takuok/bidirectional-lstm-and-attention-lb-0-043" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/e9d730a69fdb5e8cbc1d10e36871db96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j8YND8KNvemy-_-336NMxA.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/94eb33c9ca5490e0536148d900ad78eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MLynh-2imV0YvXFPkMWEOg.png"/></div></div></figure><ul class=""><li id="1b04" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><strong class="ih hj">使用BERT进行迁移学习</strong></li></ul><p id="fec2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">伯特是什么？</em></p><ul class=""><li id="3434" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><strong class="ih hj"> BERT </strong>代表<strong class="ih hj">B</strong>I方向<strong class="ih hj">E</strong>n编码器<strong class="ih hj"> R </strong>代表<strong class="ih hj"> T </strong>变压器。它基本上是一堆堆叠在一起的变压器编码器(不是整个<strong class="ih hj">变压器</strong>架构，而只是编码器)。BERT 是双向的，因为它的自我注意层在两个方向上执行自我注意。让我们看一个例子。</li><li id="35a5" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">假设我们的输入句子是“我喜欢在NLP上工作”。在<strong class="ih hj">中，BERT </strong>中的‘爱’记号将会和<em class="lw">中的每一个其它记号有自我关注。</em></li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nl"><img src="../Images/5dbb7779603c349e582b271c380428ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XfEJMCbL31bXIFNrqtHeWg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="http://mccormickml.com/2019/11/11/bert-research-ep-1-key-concepts-and-sources/" rel="noopener ugc nofollow" target="_blank">http://mccormickml . com/2019/11/11/Bert-research-EP-1-key-concepts-and-sources/</a></figcaption></figure><p id="d037" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是迁移学习和微调？</p><ul class=""><li id="5c42" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">迁移学习可以看作是教师和学生之间的关系。老师有他随着时间的推移获得的知识，当学生去找他时，他试图转移他所有的知识，学生利用这些知识进行一些调整，并将这些知识用于他在生活中面临的情况。这个知识转移部分是<em class="lw">转移学习</em>，微调部分是<em class="lw">微调</em>。如果你想深入了解伯特和伯特微调的代码和技术细节，你可以看看这个<a class="ae jt" href="https://www.youtube.com/watch?v=FKlPCK1uFrc&amp;list=PLam9sigHPGwOBuH4_4fr-XvDbe5uneaf6" rel="noopener ugc nofollow" target="_blank">视频系列</a>。</li></ul><p id="e004" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是伯特大和伯特小？</p><ul class=""><li id="e5d0" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated"><em class="lw"> BERT base </em> <strong class="ih hj"> </strong>有:L=12，H=768，A=12其中L是堆叠编码器的数量，H是隐藏尺寸，A是多头关注层中的头数。<em class="lw"> BERT large </em> <strong class="ih hj"> </strong>基本上更大，计算更密集:L=24，H=1024，A=16。</li></ul><p id="039e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">帮助功能:</p><ul class=""><li id="ed15" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc lv kh ki kj bi translated">因为BERT是预训练的模型，因此它有一些为输入格式定义的规则集。该功能用于将输入塑造成BERT期望的格式。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nm"><img src="../Images/3d512e020b6996d38921a83cbf2529cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*9KZDq9Zu2kxdZxS5Ip5JRg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://mccormickml.com/2019/07/22/BERT-fine-tuning/" rel="noopener ugc nofollow" target="_blank">https://mccormickml.com/2019/07/22/BERT-fine-tuning/</a></figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nn"><img src="../Images/c28675016a479a4ca7399dea1ac18ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*fYurpmE065Ox6tsEkHQgIQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://mccormickml.com/2019/07/22/BERT-fine-tuning/" rel="noopener ugc nofollow" target="_blank">https://mccormickml.com/2019/07/22/BERT-fine-tuning/</a></figcaption></figure><p id="5409" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">步骤1: </em>定义帮助函数，将数据转换为BERT所需的格式。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="3add" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>用伯特大号预测:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="79d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第二步:</em>用BERT Small预测:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="524d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">第三步:</em>最终BERT预测:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><h1 id="f163" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">最佳预测模型</h1><ul class=""><li id="36b9" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated">迁移学习与双向LSTM的结合</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ms mt l"/></div></figure><h1 id="bba4" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">分数摘要</h1><p id="22c3" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">机器学习模型</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es no"><img src="../Images/0dc69c4d29bb5b0614b93bdd6e6dd7c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0rthIY7lLMXKmh4BOaFGA.png"/></div></div></figure><p id="6e5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">深度学习模型</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es np"><img src="../Images/436c7f7198f68aa7196ffc44e1bd8d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5efyn73HMXhx2Y89fG1Mbw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nq"><img src="../Images/c684385fd9243f4b107f29f18845784b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8kgSwyzpe53LwBMfF2grg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Kaggle提交</figcaption></figure><h1 id="275a" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><ul class=""><li id="c4b2" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated">我们从伯特·斯莫尔、伯特·拉奇和LSTM的组合中得到了最好的结果。</li><li id="f1ee" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">重量初始化在LSTM模型中也帮助了我们，因为我们能够灌输一些关于身份的信息。</li><li id="f2d0" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">我们在LSTM模型中使用加权平均进行预测</li><li id="da75" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">我们对伯特和LSTM预测都使用pct排序，并分别给予LSTM和伯特预测值30%和70%的权重。这种方法有试验的余地。</li><li id="e7ea" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated">我们必须注意到，我们在简单的CNN上仅仅5个时代就获得了不错的分数。因此，这方面可能还有改进的余地。</li></ul><h1 id="4929" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">未来的工作</h1><ul class=""><li id="6448" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated">我们必须注意到，我们在简单的CNN上仅仅5个时代就获得了不错的分数。因此，这方面可能还有改进的余地。</li></ul><h1 id="155c" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">参考</h1><ul class=""><li id="0744" class="kb kc hi ih b ii ln im lo iq ls iu lt iy lu jc lv kh ki kj bi translated"><a class="ae jt" href="https://www.theseus.fi/bitstream/handle/10024/226938/Quan_Do.pdf" rel="noopener ugc nofollow" target="_blank">https://www . Theseus . fi/bitstream/handle/10024/226938/Quan _ do . PD</a></li><li id="a22d" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="https://www.kaggle.com/dborkan/benchmark-kernel" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/dborkan/benchmark-kernel</a></li><li id="977f" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="https://web.stanford.edu/class/archive/cs/cs224n/cs224n.1184/reports/6837517.pdf" rel="noopener ugc nofollow" target="_blank">https://web . Stanford . edu/class/archive/cs/cs 224n/cs 224n . 1184/reports/6837517 . pdf</a></li><li id="54ce" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="https://www.kaggle.com/prithvi1029/unprocessed-comments-worked-well" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/pri thvi 1029/unprocessed-comments-worked-well</a></li><li id="1492" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="https://mccormickml.com/2019/07/22/BERT-fine-tuning/" rel="noopener ugc nofollow" target="_blank">https://mccormickml.com/2019/07/22/BERT-fine-tuning/</a></li><li id="03d6" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="http://jalammar.github.io/illustrated-transformer/" rel="noopener ugc nofollow" target="_blank">http://jalammar.github.io/illustrated-transformer/</a></li><li id="9cb8" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc lv kh ki kj bi translated"><a class="ae jt" href="https://www.appliedaicourse.com/" rel="noopener ugc nofollow" target="_blank">https://www.appliedaicourse.com/</a></li></ul><p id="8b51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码可以在<a class="ae jt" href="https://github.com/parimal2227/parimal2227-Case_Study_ML_-_DL/tree/master/jigsaw-unintended-bias-toxicity-classification" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> github </em> </a>找到</p><p id="8d22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">领英:<a class="ae jt" href="https://www.linkedin.com/in/parimal-roy/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/parimal-roy/</a></p><p id="60d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">github:<a class="ae jt" href="https://github.com/parimal2227" rel="noopener ugc nofollow" target="_blank">https://github.com/parimal2227</a></p><p id="508b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">https://www.kaggle.com/parimal2227</p></div></div>    
</body>
</html>