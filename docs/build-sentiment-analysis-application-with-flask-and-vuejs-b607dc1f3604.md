# ä½¿ç”¨ Flaskã€Vue JS å’Œ Bootstrap 4 çš„ Twitter æƒ…æ„Ÿåˆ†æä»ªè¡¨æ¿

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/build-sentiment-analysis-application-with-flask-and-vuejs-b607dc1f3604?source=collection_archive---------1----------------------->

## æˆ‘å°†ä¸ä½ åˆ†äº«æˆ‘åœ¨å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†æ—¶å»ºç«‹ä¸€ä¸ªâ€œç»ƒä¹ â€é¡¹ç›®çš„ç»éªŒã€‚æˆ‘å°è¯•ä½¿ç”¨ Flask ä½œä¸ºåç«¯ï¼ŒVueJS ä½œä¸ºå‰ç«¯ï¼Œå¼€å‘ä¸€ä¸ªæƒ…æ„Ÿåˆ†æä»ªè¡¨æ¿ã€‚

![](img/3974a7260bc40554eedb124453f78fa9.png)

Flask å’Œ VueJs è¢«å…¨çƒå¾ˆå¤šå¼€å‘è€…å¹¿ä¸ºäººçŸ¥ã€‚Flask æ˜¯æµè¡Œçš„ Python æ¡†æ¶ï¼Œè€Œ Vue æ˜¯æµè¡Œçš„ Javascript æ¡†æ¶ã€‚æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„åç«¯å’Œå‰ç«¯ï¼ŒåŸºæœ¬ä¸Šæˆ‘æ„å»ºäº†ä¸€ä¸ªç”±ä¸¤ä¸ªå­åº”ç”¨ç¨‹åºç»„æˆçš„åº”ç”¨ç¨‹åºï¼Œåç«¯å’Œå‰ç«¯ã€‚æˆ‘ä½¿ç”¨ Flask ä½œä¸ºæ„å»ºåç«¯åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œä½¿ç”¨ Vue æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åºã€‚

![](img/ca1ee2b1d33f0f84285fabd59cc54fa8.png)

æƒ…æ„Ÿåº”ç”¨ç¨‹åº

è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡æ ‡ç­¾æŠ“å–æ¨æ–‡ï¼Œç¡®å®šæƒ…ç»ªï¼Œå¹¶åœ¨ä»ªè¡¨æ¿ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€‚

ä¸‹é¢æ˜¯æˆ‘åœ¨æ„å»ºè¿™ä¸ªåº”ç”¨ç¨‹åºæ—¶æ‰§è¡Œçš„æ­¥éª¤ã€‚

1.  å»ºç«‹ä¸€ä¸ªæƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚
2.  ä½¿ç”¨ Flask Python æ¡†æ¶æ„å»ºåç«¯åº”ç”¨ç¨‹åºã€‚
3.  ä½¿ç”¨ Vue Javascript æ¡†æ¶æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åºã€‚

æˆ‘ä½¿ç”¨ Python 3.6 å’Œ Vue 2.0 æ¥æ„å»ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚

**ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ã€‚**

# A.æ„å»ºæƒ…æ„Ÿåˆ†ææ¨¡å‹

æˆ‘ä½¿ç”¨ Jupyter Notebook ä½œä¸ºå¼€å‘æ¨¡å‹çš„å·¥å…·ï¼Œå®ƒåœ¨é¢„å¤„ç†è®­ç»ƒæ•°æ®å’Œå»ºç«‹åˆ†ç±»æ¨¡å‹æ—¶å¸®åŠ©äº†æˆ‘å¾ˆå¤šã€‚æˆ‘ä½¿ç”¨**æœ´ç´ è´å¶æ–¯**ï¼Œå› ä¸ºè¿™æ˜¯å¯¹ä¸€æ¡æ¨æ–‡çš„æƒ…æ„Ÿè¿›è¡Œåˆ†ç±»çš„æ›´ç®€å•çš„æ–¹æ³•ã€‚

ä½ å¯ä»¥ä»[https://www.kaggle.com/c/twitter-sentiment-analysis2/data](https://www.kaggle.com/c/twitter-sentiment-analysis2/data)ä¸‹è½½ train.csv ä½œä¸ºè®­ç»ƒæ•°æ®

é¦–å…ˆï¼Œæˆ‘åˆ¶ä½œäº†ä¸€ä¸ªåä¸º Preparing.ipynb çš„ç¬”è®°æœ¬æ¥å‡†å¤‡ tweets æ•°æ®ï¼Œç„¶åå¯¼å…¥æˆ‘ä»¬éœ€è¦çš„ Python åº“ï¼Œç„¶åè¯»å– CSV train æ•°æ®ã€‚

æˆ‘ä½¿ç”¨ pandas æ¥å¤„ç†æ•°æ®å¸§ï¼Œè¿˜ä½¿ç”¨ nltk æ¥å¸®åŠ©æˆ‘é¢„å¤„ç†å’Œæ¸…ç† tweets æ•°æ®ã€‚è¦æ£€æŸ¥æ•°æ®ï¼Œæ˜¯å¦åŠ è½½ï¼Œæˆ‘ä¸€èˆ¬ç”¨ tweet_df.head()æ¥æ£€æŸ¥ã€‚

![](img/8c045e652a3b8b24c13d86796f08c8a2.png)

æˆ‘åªä½¿ç”¨æƒ…ç»ªå’Œæƒ…æ„Ÿæ–‡æœ¬åˆ—æ¥è®­ç»ƒæ•°æ®ã€‚æˆ‘å¿½ç•¥ itemIDï¼Œå› ä¸ºæˆ‘è§‰å¾—è¿™å¯¹æˆ‘æ²¡ä»€ä¹ˆç”¨ã€‚åŸºäºæˆ‘ä»¬è®­ç»ƒæ•°æ®çš„ä¸‹è½½æ¥æºï¼Œæƒ…ç»ªå€¼ **0 è¡¨ç¤ºè´Ÿé¢æƒ…ç»ªï¼Œ1 è¡¨ç¤ºæ­£é¢æƒ…ç»ª**ã€‚

## **æ•°æ®æ¸…ç†å’Œé¢„å¤„ç†**

æˆ‘ä½¿ç”¨å¦å®šåˆ—è¡¨å°† NOT_ æ·»åŠ åˆ°æ¯ä¸€ä¸ªå¦å®šä¹‹åçš„æ–‡æœ¬ï¼Œç›´åˆ°ä¸‹é¢çš„æ ‡ç‚¹ç¬¦å·åŸºäºæˆ‘åœ¨è¿™ä¸ªæ–‡æ¡£ä¸­è¯»åˆ°çš„**(**[**https://web.stanford.edu/class/cs124/lec/sentiment.pdf**](https://web.stanford.edu/class/cs124/lec/sentiment.pdf)**)**

é¢„å¤„ç† Tweet å‡½æ•°çš„ç¬¬ 7 è¡Œåˆ°ç¬¬ 11 è¡Œç”¨äºå°å†™ tweetï¼Œä»å¦å®šä¸­åˆ é™¤æ ‡ç‚¹ï¼Œåˆ é™¤ web URLï¼Œåˆ é™¤ç”¨æˆ·æåŠï¼Œç„¶ååˆ é™¤ hashtagã€‚ä¸‹ä¸€æ­¥æ˜¯é˜»æ­¢ tweet ä¸­çš„æ¯ä¸ªå•è¯ï¼Œæ·»åŠ  NOT_ å¦‚ä¸Šæ‰€è¿°ï¼Œç„¶ååˆ é™¤åœç”¨è¯ã€‚

ä½¿ç”¨æ­¤è¯­æ³•åœ¨æˆ‘ä»¬çš„æ•°æ®å¸§ä¸­åº”ç”¨é¢„å¤„ç† Tweets å‡½æ•°ã€‚ä½¿ç”¨ head()å‡½æ•°æ£€æŸ¥åŒ…å«é¢„å¤„ç† tweets çš„æ–°åˆ—(clean_text)ã€‚

ä»¥ä¸Šè¯­æ³•å°†æ ¹æ®æˆ‘ä»¬çš„ç¡¬ä»¶è§„æ ¼è¿è¡Œä¸€æ®µæ—¶é—´ï¼Œå°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªæ–°çš„ CSV æ–‡ä»¶ä¸­ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦å†æ¬¡è¿è¡Œé¢„å¤„ç†å‡½æ•°ã€‚

## **è®­ç»ƒåˆ†ç±»æ¨¡å‹**

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æœ´ç´ è´å¶æ–¯åˆ†ç±»ç®—æ³•æ¥è®­ç»ƒæ¨¡å‹ã€‚æˆ‘ç”¨ Scikit-Learn æ¥è®­ç»ƒæ•°æ®ã€‚

æˆ‘ç”¨äº†ä¸åŒçš„ç¬”è®°æœ¬æ¥è®­ç»ƒæ¨¡å‹ã€‚æˆ‘å°†å…¶å‘½åä¸º modeling.ipynbã€‚å½“ç„¶ï¼Œè¿™ä¸ªæ–°ç¬”è®°æœ¬çš„ç¬¬ä¸€æ­¥æ˜¯å¯¼å…¥æˆ‘ä»¬ç¨åéœ€è¦çš„æ‰€æœ‰åº“ã€‚

åŠ è½½é¢„å¤„ç†è¿‡çš„æ¨æ–‡ã€‚

æˆ‘ä¸çŸ¥é“æ‚¨æ˜¯å¦ä¼šé‡åˆ°æ•°æ®ç±»å‹é”™è¯¯ï¼Œä½†æ˜¯å¦‚æœæ‚¨é‡åˆ°äº†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªè¯­æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²/Unicodeã€‚

ç„¶åæˆ‘åšäº†ä¸€ä¸ªè‡ªåŠ¨åŒ–è®­ç»ƒè¿‡ç¨‹çš„ç®¡é“ã€‚è¯¥ç®¡é“ç”¨äºåˆ›å»ºå•è¯åŒ…æ¨¡å‹ï¼Œç„¶åè®­ç»ƒåˆ†ç±»å™¨ã€‚

å°†æ•°æ®åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œæˆ‘åªä½¿ç”¨ 70:30 çš„æ¯”ä¾‹è¿›è¡Œåˆ†å‰²ï¼Œç„¶åä½¿ç”¨æˆ‘ä¹‹å‰åˆ¶ä½œçš„ç®¡é“æ¥è®­ç»ƒæ•°æ®ã€‚æ‰“å°åˆ†ç±»æŠ¥å‘Šï¼Œäº†è§£æˆ‘ä»¬æ¨¡å‹çš„å‡†ç¡®æ€§ã€å¬å›ç‡å’Œç²¾ç¡®åº¦ã€‚

![](img/e2e36a0886c1e6ccaf82a46c814d931e.png)

æˆ‘å°è¯•ä¼˜åŒ–æ¨¡å‹ã€‚åœ¨ train.csv ä¸Šè¿›ä¸€æ­¥çœ‹ï¼Œæˆ‘å‘ç°æƒ…ç»ªç§¯æçš„æ¨æ–‡æ¯”æ¶ˆæçš„å¤šå¾—å¤šã€‚å› æ­¤ï¼Œæˆ‘æŠ›å‡ºäº†ä¸€äº›ç§¯æçš„æƒ…ç»ªæ•°æ®ï¼Œä»¥ä½¿ä¸¤ç§æƒ…ç»ªåœ¨æ•°é‡ä¸Šç›¸ç­‰(50:50)ã€‚

æ¥ä¸‹æ¥æ˜¯åˆ†ç±»æŠ¥å‘Šã€‚

![](img/47af25fa324c32dbf75401d656f1c79b.png)

æ¯”ä»¥å‰ç¨å¾®å¥½ä¸€ç‚¹ï¼›å¯èƒ½ä½ çŸ¥é“æ€ä¹ˆä¼˜åŒ–æ¨¡å‹ï¼Œæ‰€ä»¥åˆ†æ•°æ¯”æˆ‘é«˜ã€‚

è½¬å‚¨ç®¡é“æ¨¡å‹ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚

# B.ä½¿ç”¨ Flask æ„å»ºåç«¯åº”ç”¨ç¨‹åº

åœ¨ä¸ºåˆ†ç±»ä»»åŠ¡å»ºç«‹æ¨¡å‹ä¹‹åï¼Œæˆ‘åˆ›å»ºäº†åç«¯åº”ç”¨ç¨‹åºæ¥å¤„ç†æˆ‘çš„ web åº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ç«¯å·¥ä½œã€‚è¿™ä¸ªåç«¯çš„ç›®çš„æ˜¯ç®¡ç†æ•°æ®åº“ï¼ŒæŠ“å– tweetsï¼Œå¹¶å¤„ç†åˆ†ç±»ä»»åŠ¡ã€‚æˆ‘æ˜¯ Python æ–°æ‰‹ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£(æˆ‘æ˜¯ PHP å¼€å‘äººå‘˜)ã€‚

è¿™ä¸ªåç«¯æ˜¯ä¸€ä¸ª REST æœåŠ¡å™¨ï¼Œå®ƒä¸ºæˆ‘ä»¬çš„å‰ç«¯æä¾› API å’ŒæœåŠ¡ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­é™¤äº† JSON å½¢å¼çš„æ•°æ®ä¹‹å¤–ï¼Œä¸ä¼šæœ‰ä»»ä½•èŠ±å“¨çš„è¾“å‡ºã€‚

é¦–å…ˆï¼Œæˆ‘ä¸ºæˆ‘çš„é¡¹ç›®åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚æˆ‘å¬è¯´ Python è™šæ‹Ÿç¯å¢ƒæ˜¯ä½¿ç”¨ Python å¼€å‘åº”ç”¨ç¨‹åºçš„æœ€ä½³å®è·µã€‚è™šæ‹Ÿç¯å¢ƒå°†éš”ç¦»é¡¹ç›®ç¯å¢ƒï¼Œå› æ­¤å®ƒä¸ä¼šå¹²æ‰°å…¶ä»–é¡¹ç›®ã€‚

 [## ä½¿ç”¨ pip å’Œè™šæ‹Ÿç¯å¢ƒå®‰è£…è½¯ä»¶åŒ…â€”â€”Python æ‰“åŒ…ç”¨æˆ·æŒ‡å—

### æœ¬æŒ‡å—è®¨è®ºäº†å¦‚ä½•ä½¿ç”¨å’Œè™šæ‹Ÿç¯å¢ƒç®¡ç†å™¨å®‰è£…è½¯ä»¶åŒ…:Python 3 æˆ– virtualenvâ€¦

packaging.python.org](https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/) 

é˜…è¯»ä¸Šé¢çš„å®˜æ–¹ç½‘ç«™æ¥å®‰è£…ã€åˆ›å»ºå’Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚

æˆ‘çš„è™šæ‹Ÿç¯å¢ƒå‘½åä¸º be-æƒ…æ“-appï¼Œä½ æƒ³æ€ä¹ˆå«éƒ½è¡Œã€‚

![](img/a39e4415348ede1703d16147a5a82d6b.png)

è¿™æ˜¯æˆ‘çš„åå°æ–‡ä»¶å¤¹ç»“æ„ã€‚æˆ‘æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªæ–‡ä»¶å¤¹(helperã€Modelsã€Routes)å’Œä¸€ä¸ª Python æ–‡ä»¶ __init__.pyã€‚å…¶ä»–æ–‡ä»¶å¤¹(binã€includeã€lib)æ˜¯åœ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ—¶è‡ªåŠ¨åˆ›å»ºçš„ã€‚

ä½¿ç”¨ pip å®‰è£…æˆ‘ä»¬ç¨åéœ€è¦çš„ Python åŒ…ã€‚æˆ‘ä¸ç¡®å®šè¿™ä¸ªåˆ—è¡¨æ˜¯å¦å®Œæ•´ã€‚å¦‚æœæœ‰ä¸¢å¤±çš„åŒ…ï¼Œæ‚¨å¯ä»¥ç¨åæ·»åŠ ã€‚

1.  Flask (Python Web æ¡†æ¶)ã€‚
2.  çƒ§ç“¶ cors(æ‰‹æŸ„ cors)ã€‚
3.  Flask-SQLAlchemy(å¤„ç† ORM æ•°æ®åº“è¿æ¥)ã€‚
4.  nltk(å¤„ç†æ–‡å­—å¤„ç†)ã€‚
5.  PyMySQL(MySQL çš„è¿æ¥å™¨)ã€‚
6.  è¯·æ±‚(å¤„ç†è¯·æ±‚)ã€‚
7.  tweepy(Python çš„ Twitter API åº“)ã€‚
8.  *è¿˜æœ‰å…¶ä»–çš„(æœ‰é”™è¯¯å¯ä»¥è¡¥å……)*

è¿™æ˜¯æˆ‘åœ¨åç«¯ä½¿ç”¨çš„ SQL è„šæœ¬ã€‚æˆ‘ä½¿ç”¨ MySQL(å®é™…ä¸Šæ˜¯ MariaDB)ä½œä¸ºæ•°æ®åº“ï¼Œå› ä¸ºå®ƒå®‰è£…åœ¨æˆ‘çš„ç”µè„‘ä¸Šã€‚æˆ‘æŠŠå®ƒå‘½åä¸ºæ•°æ®åº“æ„Ÿæ‚Ÿ _appã€‚

æˆ‘å°†ä¹‹å‰ä» Jupyter ç¬”è®°æœ¬(model_pipeline.pkl)ä¸­è½¬å‚¨çš„æ¨¡å‹å¤åˆ¶åˆ° helper æ–‡ä»¶å¤¹ä¸­ï¼Œå› ä¸ºæˆ‘ä»¥åè¦ä½¿ç”¨å®ƒã€‚ä¹‹åï¼Œæˆ‘åœ¨ helper æ–‡ä»¶å¤¹å†…åˆ›å»ºäº† encoder.py å’Œ TweetClassifier.pyã€‚

**åº”ç”¨ç¨‹åº/åŠ©æ‰‹/ç¼–ç å™¨. py**

ç¼–ç å™¨. py

py æ˜¯ä¸€ä¸ªå®šåˆ¶çš„ç¼–ç å™¨ï¼Œç”¨äºå°†ä½¿ç”¨ SQL Alchemy è·å–çš„æ•°æ®è½¬å‚¨ä¸º JSON æ ¼å¼(æˆ‘æ˜¯åœ¨ StackOverflow ä¸Šè·å¾—çš„)ã€‚

**åº”ç”¨ç¨‹åº/åŠ©æ‰‹/TweetClassifier.py**

TweetClassifier.py

Tweet åˆ†ç±»å™¨ç±»ç”¨äºé¢„å¤„ç†å’Œé¢„æµ‹ tweet çš„æƒ…æ„Ÿã€‚å¦‚æœä½ çœ‹åˆ°ï¼Œæœ‰ä¸€äº›æˆ‘ä»¬åœ¨ Preparing.ipynb ä¸­ä½¿ç”¨çš„ä»£ç ç›¸ä¼¼æ€§ã€‚

å›åˆ°åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼Œæˆ‘åˆ›å»ºäº†è¿™ 4 ä¸ª Python æ–‡ä»¶ã€‚

**ã€‚ç¯å¢ƒ**

ã€‚åŒ…å°/åŒ…å›´ï¼ˆåŠ¨è¯ envelop çš„ç®€å†™ï¼‰

æˆ‘ä½¿ç”¨ dotenv æ–‡ä»¶æ¥å­˜å‚¨å‡­è¯å’Œæ•°æ®åº“è¿æ¥é…ç½®ã€‚æ ¹æ®æ‚¨çš„ Twitter API å‡­è¯æ›´æ”¹å‡­è¯ï¼Œå¹¶æ ¹æ®æ‚¨å½“å‰çš„æ•°æ®åº“ URI æ›´æ”¹æ•°æ®åº“ URIã€‚

**config.py**

é…ç½®. py

è¿™ä¸ªé…ç½®æ–‡ä»¶ç”¨äºä»æˆ‘ä»¬çš„ dotenv è®¾ç½® flask å’Œ SQL alchemy é…ç½®ã€‚

**wsgi.py**

wsgi.py

**start.shï¼Œ**

start.sh

è¿™ä¸¤ä¸ªæ–‡ä»¶ç”¨äºç¨åè¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚

è¿™ä¸ªåç«¯åº”ç”¨ç¨‹åºçš„å…¥å£è„šæœ¬åœ¨ __init__ ä¸­ã€‚åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸­çš„ pyã€‚è¯¥æ–‡ä»¶ç¡®å®šæ¯ä¸ªè¯·æ±‚å¿…é¡»ä½¿ç”¨çš„è·¯ç”±ã€‚

**åº”ç”¨/__init__ã€‚py**

__init__ã€‚å·´æ‹‰åœ­

æˆ‘å¯¹åº”ç”¨ç¨‹åº/æ¨¡å‹æ–‡ä»¶å¤¹ä¸­çš„æ¯ä¸ªè¡¨ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹ã€‚å¯¹äº SQL Alchemy ç”¨æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œä»»åŠ¡çš„æ•°æ®åº“ä¸­çš„è¡¨æ¥è¯´ï¼Œè¿™äº›æ¨¡å‹æ˜¯æŠ½è±¡çš„ã€‚

**åº”ç”¨/æ¨¡å‹/Hashtag.py**

Hashtag.py

**åº”ç”¨/æ¨¡å‹/Tweet.py**

æ¨ç‰¹. py

æˆ‘è¿˜ä¸ºæ¯ä¸ªå‹å·ä½¿ç”¨ä¸€æ¡è·¯çº¿ï¼Œä»¥ä¾¿äºä½¿ç”¨ã€‚æˆ‘åœ¨åº”ç”¨ç¨‹åº/è·¯ç”±æ–‡ä»¶å¤¹ä¸­åˆ›å»ºäº†è·¯ç”±æ–‡ä»¶ã€‚

**åº”ç”¨ç¨‹åº/è·¯çº¿/æ•£åˆ—è·¯çº¿. py**

HashtagRoutes.py

**åº”ç”¨/è·¯çº¿/TweetRoutes.py**

TweetRoutes.py

è¿™ä¸¤ä¸ªè·¯ç”±æ–‡ä»¶ç”¨äºåœ¨åç«¯æ‰§è¡Œé€»è¾‘ï¼›å®ƒå¤„ç†è¯·æ±‚å¹¶å†³å®šä¹‹ååšä»€ä¹ˆã€‚

TweetRoutes.py ä¸Šçš„ crawlTweet()å‡½æ•°ä»ç¬¬ 69 è¡Œå¼€å§‹ï¼Œç”¨äºæ ¹æ®å‰ç«¯ä¼ é€’çš„ hashtag å‚æ•°æŠ“å– Tweet æ•°æ®ã€‚å¯¹äºæ¯ä¸€æ¡æŠ“å–çš„ tweetï¼Œè¿™ä¸ªå‡½æ•°ä½¿ç”¨ helper/TwitterClassifier.py æ–‡ä»¶(ç¬¬ 160â€“162 è¡Œ)çš„å¸®åŠ©æ¥å®Œæˆåˆ†ç±»ä»»åŠ¡ï¼Œç„¶åå°†å…¶ä¿å­˜åˆ°æ•°æ®åº“ä¸­

æˆ‘åœ¨ crawlTweet çš„å•ä¸ªè¯·æ±‚ä¸­åªæŠ“å–äº† 300 æ¡ Tweetï¼Œå¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥æ›´æ”¹ maxTweets çš„æ•°é‡ã€‚

è¿™æ˜¯ be-æƒ…æ“-app å®Œæ•´çš„æ–‡ä»¶å¤¹ç»“æ„

![](img/cbbf6756c622df7593a24f5c22f73028.png)

æˆ‘ä»ä¸€äº›æ•™ç¨‹ä¸­å¾—åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ç»“æ„ï¼Œå¹¶ç¼–è¾‘æˆ Yii2 (PHP æ¡†æ¶)æ–‡ä»¶å¤¹ç»“æ„æ ·å¼ã€‚

æˆ‘ä»¬çš„åç«¯åº”ç”¨ç¨‹åºæ²¡æœ‰æ¨¡æ¿æˆ–è§†å›¾(å°± PHP è€Œè¨€)ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦è¿™äº›ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºè¾“å‡ºåªæ˜¯ä¸€ä¸ª JSON æ ¼å¼ï¼Œå°†ç”±å‰ç«¯åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œè€Œä¸æ˜¯æœ€ç»ˆç”¨æˆ·ã€‚

è¿è¡Œ start.sh æ–‡ä»¶å¯åŠ¨åç«¯åº”ç”¨ç¨‹åºã€‚

```
sh start.sh
```

![](img/ac89df77f139691321050f2f0de1bc8e.png)

è¦æµ‹è¯•è¯¥åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®

[http://127 . 0 . 0 . 1:5000/æ¨ç‰¹/allï¼Ÿhashtag=iphonese & page=1](http://127.0.0.1:5000/tweet/all?hashtag=iphonese&page=1)

å¦‚æœä½ è¿™æ ·åšï¼Œå½“ç„¶ï¼Œä½ ä¼šå¾—åˆ°ç©ºçš„ JSONï¼Œå› ä¸ºä½ æ²¡æœ‰åŒ…å« iphonese æ ‡ç­¾çš„ Tweetã€‚ä½†æ˜¯å¦‚æœä½ å·²ç»ä½¿ç”¨ iphonese æ ‡ç­¾æŠ“å–äº†è¿™æ¡æ¨æ–‡ï¼Œå®ƒä¼šåƒè¿™æ ·æ˜¾ç¤ºã€‚

![](img/9263aa91cce269beb9c5630eb5396353.png)

è¿™æ˜¯æˆ‘ä»¬ç”¨æ¥ä¸ºå‰ç«¯åº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„ URL åˆ—è¡¨ã€‚

1.  /tweet/allï¼Ÿhast hag = { hashtag } & page = { page }(**GET**æ–¹æ³•)
2.  /æ¨æ–‡/è®¡æ•°ï¼Ÿhasthag={hashtag} ( **GET** æ–¹æ³•)
3.  /æ¨æ–‡/ç»†èŠ‚ï¼Ÿid={id} ( **è·å–**æ–¹æ³•)
4.  /æ¨æ–‡/æ„Ÿæ‚Ÿï¼Ÿhast hag = { hashtag }(**GET**method)
5.  /tweet/toptweetï¼Ÿhast hag = { hashtag }(**GET**method)
6.  /tweet/daytodayï¼Ÿhast hag = { hashtag }(**GET**method)
7.  /æ¨æ–‡/æŠ“å–ï¼Ÿhast hag = { hashtag }(**POST**æ–¹æ³•)
8.  /hashtag/all ( **è·å–**æ–¹æ³•)
9.  /hashtag/insert ( **POST** æ–¹æ³•)
10.  /hashtag/delete ( **POST** æ–¹æ³•)

# C.ä½¿ç”¨ Vue æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åº

> æˆ‘ä¸ºä»€ä¹ˆç”¨ Vue Jsï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä¸ä½¿ç”¨ Flask æ ‡å‡†æ¨¡æ¿ï¼Ÿ

ç­”æ¡ˆæ˜¯æˆ‘æƒ³å­¦ä¹ æ›´å¤šå…³äº Vue JS çš„çŸ¥è¯†ï¼Œå› ä¸ºæœ‰å¾ˆå¤šå·¥ä½œéœ€è¦åƒ React æˆ– Vue è¿™æ ·çš„ JS æ¡†æ¶ã€‚

è¦å®‰è£… Vue JSï¼Œå¯ä»¥åœ¨[https://vuejs.org/v2/guide/installation.html](https://vuejs.org/v2/guide/installation.html)ä¸Šé˜…è¯»ã€‚

æˆ‘ä½¿ç”¨ vue-cli åˆ›å»º vue é¡¹ç›®

```
vue create fe-sentiment-app
```

å®‰è£…æ—¶ï¼Œæˆ‘æç¤ºæ£€æŸ¥ä¸€äº›é¢„ç½®ï¼Œæˆ‘é€‰æ‹©æ‰‹åŠ¨ï¼Œç„¶åé€‰æ‹©å·´åˆ«å¡”ï¼Œæ—ç‰¹ï¼Œè·¯ç”±å™¨ã€‚

è¿™æ˜¯æˆ‘å®Œæˆå®‰è£…è¿‡ç¨‹åçš„æ–‡ä»¶å¤¹ç»“æ„ã€‚

![](img/ff52b8d9aabcb51cd01c6c9c05b884f8.png)

æˆ‘å®‰è£… bootstrap-vue æ˜¯ä¸ºäº†ç¾åŒ–ç”¨æˆ·ç•Œé¢ã€‚BootstrapVue æ˜¯ä¸€ä¸ªåŸºäº Vue JS å’Œ Bootstrap 4 çš„ CSS æ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä¸éœ€è¦åœ¨æˆ‘çš„ Vue é¡¹ç›®ä¸Šæ‰‹åŠ¨å®ç° Bootstrapã€‚

è¦å®‰è£…ï¼Œè¯·åœ¨æ‚¨çš„ Vue é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹è¯­æ³•ã€‚

```
npm install vue bootstrap-vue bootstrap
```

ä½ å¯ä»¥åœ¨è¿™ä¸ª[é“¾æ¥(bootstrap-vue æ–‡æ¡£)](https://bootstrap-vue.org/docs)ä¸Šé˜…è¯»æ›´å¤šå…³äº bootstrap-vue çš„å†…å®¹ã€‚

ä¸ºäº†å®ç° bootstrap-vueï¼Œæˆ‘å°† src æ–‡ä»¶å¤¹ä¸­çš„ main.js ä¿®æ”¹æˆè¿™æ ·:

**src/main.js**

ä¸»é¡µ. js

æˆ‘æƒ³åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸Šæ·»åŠ å¯¼èˆªæ¡ï¼Œæ‰€ä»¥æˆ‘å°† App.vue æ–‡ä»¶æ›´æ”¹ä¸ºå¦‚ä¸‹æ‰€ç¤º:

**src/App.vue**

App.vue

æˆ‘è¿˜æ²¡æœ‰ navbar ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘å¿…é¡»åœ¨ src/components/NavBar.vue ä¸­åˆ›å»ºä¸€ä¸ª

**src/components/navbar . vue**

å¯¼èˆªæ¡. vue

NavBar ç»„ä»¶ä¸­æœ‰ä¸¤ä¸ªé“¾æ¥èœå•ï¼ŒHome å’Œ Hashtagã€‚Home æ˜¯åŒ…å«åº”ç”¨ç¨‹åºä¿¡æ¯çš„é¡µé¢ï¼ŒHashtag æ˜¯åŒ…å« hashtag CRUD èœå•å’Œä»ªè¡¨æ¿çš„é¡µé¢ã€‚

ä»¥ä¸‹æ˜¯æˆ‘åœ¨ Fe-æƒ…æ“-app ä¸­ä½¿ç”¨çš„è§†å›¾ã€‚

**src/views/Dashboard.vue**

ä»ªè¡¨æ¿. vue

Dashboard.vue æ˜¯ä¸€ä¸ªè§†å›¾ï¼ŒåŒ…å«ä¸€ä¸ªæ ‡ç­¾çš„æƒ…æ„Ÿåˆ†ç±»ç»Ÿè®¡ã€‚

**src/views/Hashtag.vue**

Hashtag.vue

Hashtag.vue æ˜¯ä¸€ä¸ªåŒ…å« Hashtag çš„ CRUD å’Œ Dashboard èœå•çš„è§†å›¾ã€‚

**src/views/Home.vue**

Home.vue

**src/views/Tweets.vue**

Tweets.vue

Tweets.vue æ˜¯ä¸€ä¸ªåŒ…å«æ ‡ç­¾ Tweets çš„è§†å›¾ã€‚

åœ¨ä¸Šé¢çš„è§†å›¾æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€äº›æˆ‘ä½¿ç”¨çš„ç»„ä»¶ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä½¿ç”¨çš„æ‰€æœ‰ç»„ä»¶ã€‚

**src/components/list hash tag . vue**

ListHashtag.vue

vue æ˜¯ä¸€ä¸ªç»„ä»¶ï¼ŒåŒ…å«ä¸€ä¸ª hashtag çš„è¡¨æ ¼åˆ—è¡¨ã€‚

**src/components/submenuhashtag . vue**

SubMenuHashtag.vue

SubMenuHashtag.vue æ˜¯ä¸€ä¸ªåœ¨ Hashtag è§†å›¾ä¸­åŒ…å«å­èœå•çš„ç»„ä»¶ã€‚

**src/components/formnewhashtag . vue**

FormNewHashtag.vue

vue æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåŒ…å«ä¸€ä¸ªç”¨äºè¾“å…¥å’Œç¼–è¾‘ Hashtag çš„è¡¨å•ã€‚

**src/components/top tweets . vue**

TopTweets.vue

TopTweets.vue æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåœ¨ä¸€ä¸ª hashtag ä¸­åŒ…å«äº† 10 ä¸ªè½¬å‘é‡æœ€å¤§çš„ tweets åˆ—è¡¨ã€‚è¯¥ç»„ä»¶åœ¨ä»ªè¡¨æ¿ä¸­ä½¿ç”¨ã€‚

åœ¨ä»ªè¡¨æ¿è§†å›¾ä¸­ï¼Œæˆ‘ä½¿ç”¨é¥¼å›¾å’ŒæŠ˜çº¿å›¾æ¥åˆ¶ä½œä¸€ä¸ªæ¼‚äº®çš„å›¾è¡¨ã€‚æˆ‘ç”¨ vue-chartjs æ¥ç”»å›¾è¡¨ã€‚è¦å®‰è£… vue-chartjsï¼Œè¯·åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¿è¡Œæ­¤å‘½ä»¤

```
npm install vue-chartjs chart.js --save
```

è¦äº†è§£æ›´å¤šå…³äº vue-chartjs çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥é˜…è¯»æ­¤é“¾æ¥ä¸Šçš„æ–‡æ¡£ [(vue chart js æŒ‡å—å’Œæ–‡æ¡£)](https://vue-chartjs.org/guide/#introduction)

**src/components/line chart . vue**

LineChart.vue

**src/components/piechart . vue**

PieChart.vue

è¿™æ˜¯ src/router æ–‡ä»¶å¤¹ä¸­çš„ my index.jsï¼Œå®ƒå®šä¹‰äº†åº”è¯¥å‘ç”¨æˆ·æ˜¾ç¤ºä»€ä¹ˆè§†å›¾ã€‚

**src/router/index.js**

ç´¢å¼•. js

![](img/c660e2985166283664f5c32bb52ba758.png)

Fe-æƒ…æ“-app çš„æœ€ç»ˆæ–‡ä»¶å¤¹ç»“æ„

è¿™æ˜¯æˆ‘ç”³è¯·çš„æœ€ç»ˆç»“æœã€‚è¦å¯åŠ¨ Vue åº”ç”¨ç¨‹åºï¼Œè¯·è¿è¡Œä»¥ä¸‹è¯­æ³•

```
npm run server
```

![](img/e8c1d318fdb7c25f898538880e9972bd.png)

è¿è¡Œ vue åº”ç”¨ç¨‹åº

æˆ‘çš„ç”³è¯·çš„ä¸»é¡µ

![](img/7f8112893c2c0a3d80fac9cb738c0402.png)

æ¨ç‰¹æƒ…ç»ªä»ªè¡¨æ¿

æ ‡ç­¾è§†å›¾

![](img/78bf40a53ad93e859476aef567b98d9b.png)

Hashtag çš„é»˜è®¤è§†å›¾æ˜¯ List Hashtag Menyã€‚ä½ å¯ä»¥çœ‹åˆ°æ¯ä¸ªæ ‡ç­¾ä¸­æœ‰äº”ä¸ªæŒ‰é’®ã€‚

ç¬¬ä¸€ä¸ªæ˜¯è·å–æ•°æ®æŒ‰é’®ï¼Œè¿™ä¸ªæŒ‰é’®ç”¨äºæ ¹æ®ç»™å®šçš„ hashtag è·å– tweetã€‚

å½“ç‚¹å‡»è¿™ä¸ªæŒ‰é’®æ—¶ï¼Œåº”ç”¨ç¨‹åºå°†æŠ“å–ä¸€ä¸ªæ ‡ç­¾çš„æœ€å 300 æ¡æ¨æ–‡ã€‚ä½ å¯ä»¥åœ¨ be-æƒ…æ“-app ä¸Šç¼–è¾‘è¿™ä¸ªè¡Œä¸ºæ¥æ”¹å˜æœ€å¤§æ•°é‡ï¼Œæˆ–è€…ä½ å¯ä»¥æ·»åŠ **æµ**åŠŸèƒ½æ¥å®æ—¶è·å–æ¨æ–‡æ•°æ®ã€‚

æ–°çš„æ ‡ç­¾å’Œç¼–è¾‘èœå•å…±äº«åŒä¸€ä¸ªç»„ä»¶ã€‚

![](img/7e09c26724b0a442225f5292678c56ba.png)

æ ‡ç­¾è¡¨å•

â€œæŸ¥çœ‹æ¨æ–‡â€æŒ‰é’®ç”¨äºæŸ¥çœ‹æ ‡ç­¾çš„æ¨æ–‡ã€‚

![](img/60ff36a1c4c9a38b5c9042b1ac2db87f.png)

ä½ å¯ä»¥çœ‹åˆ°è®¸å¤šæ¨æ–‡ä½¿ç”¨çš„æ˜¯éè‹±è¯­è¯­è¨€ã€‚ä¹Ÿè®¸æ‚¨å¯ä»¥ä¼˜åŒ–æ¨¡å‹æˆ–æ›´æ”¹çˆ¬è¡Œé…ç½®æ¥å¤„ç†éè‹±è¯­æ¨æ–‡ã€‚

**åˆ é™¤æŒ‰é’®**æ˜¯åˆ é™¤æ ‡ç­¾ã€‚

**ä»ªè¡¨æ¿æŒ‰é’®**ç”¨äºæ˜¾ç¤ºä»ªè¡¨æ¿è§†å›¾ã€‚

![](img/4fcfdd9aac81bb23abc7591247c1857e.png)

æƒ…ç»ªåˆ†æä»ªè¡¨æ¿

åœ¨ä»ªè¡¨æ¿ä¸­ï¼Œæˆ‘æ˜¾ç¤ºäº†ä¸€ä¸ªæ ‡ç­¾çš„ tweets æ•°é‡ã€æ­£é¢æƒ…ç»ªå’Œè´Ÿé¢æƒ…ç»ªã€‚æœ‰ä¸€ä¸ªæŠ˜çº¿å›¾æ˜¾ç¤ºäº†æ¯å¤©çš„æƒ…ç»ªæ•°é‡ã€‚ä½ å¯ä»¥åœ¨é¥¼çŠ¶å›¾ä¸­çœ‹åˆ°è§‚ç‚¹çš„æ¯”ä¾‹ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ ‡ç­¾ä¸­è½¬å‘é‡æœ€é«˜çš„æ¨æ–‡ã€‚

æœ¬æ•™ç¨‹åˆ°æ­¤ä¸ºæ­¢ã€‚å¸Œæœ›å®ƒå¯¹æˆ‘ä»¬æ‰€æœ‰äººéƒ½æœ‰ç”¨ã€‚

ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„ GitHub é“¾æ¥è·å¾—æˆ‘æ‰€æœ‰çš„æºä»£ç :

1.  [æ„Ÿæ‚Ÿ-app-æ¨¡å‹(Jupyter ç¬”è®°æœ¬)](https://github.com/DeaVenditama/sentiment-app-model)
2.  [be-æƒ…æ“-app](https://github.com/DeaVenditama/be-sentiment-app)
3.  [Fe-æƒ…æ“-app](https://github.com/DeaVenditama/fe-sentiment-app)

è°¢è°¢ä½ ï¼Œâ¤ï¸â¤ï¸ğŸ‘ğŸ‘