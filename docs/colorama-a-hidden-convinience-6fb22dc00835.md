# colorama——隐藏的便利

> 原文：<https://medium.com/analytics-vidhya/colorama-a-hidden-convinience-6fb22dc00835?source=collection_archive---------6----------------------->

一本初学者指南，以及为什么这个 python 模块可能需要对其简单性多一点热爱。

![](img/24ffd2c9fe42992d9c890103c90d5932.png)

马里奥·高在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

TL；DR:当你运行 python 程序时，这个模块用于给终端中的文本着色。我会试着说服你至少考虑是否在你的下一个项目中使用“colorama”。

老实说，谁不喜欢一点颜色呢！

也就是说，如果你想通过一个简单的例子直接使用 colorama，从这里开始！

# 卑微的出身

我在为我的网络作业编写程序时偶然发现了这个 python 模块。我也没想太多，直到看到这个包用起来有多简单。

很久以前，当我还是一个使用终端的新手时，我记得我尝试了不同的格式来在命令提示符下打印文本——文本颜色、背景颜色和闪烁的文本。我记得打一些颜色很简单的东西是多么可怕。

```
~$ echo -e "This is too \033[2;31m complicated \033[m right?"
```

这不仅看起来像有人把头撞在键盘上，而且每次你可能都必须搜索正确的 ANSI 转义序列(你看到的奇怪的字符序列)才能得到你想要的结果。总的来说，它看起来不太漂亮。但是，唉，这是 bash！我们能做的不多。

# 一旦你去了科罗拉多，你就再也不会回来了

现在想象一下，如果你必须用 Python 给你的文本着色，你将会经历怎样的恐惧。输入 [colorama](https://pypi.org/project/colorama/) 。在我看来，如果你想处理彩色的终端文本，这个模块是最直观和简单的。让我告诉你最简单的方法来帮助你。我将在所有这些例子中使用 Python3。

初学者对使用 colorama 的解释

就这么简单！Colorama 还拥有跨平台兼容性。《Colorama》的作者乔纳森·哈特利在这篇文章中解释道

> “…Colorama 的目标是让 Python 程序在所有平台上打印彩色终端文本，使用与本页许多其他答案中描述的相同的 ANSI 代码。在 Windows 上，Colorama 从 stdout 中剥离这些 ANSI 字符，并将其转换为针对彩色文本的等效 win32 调用。在其他平台上，Colorama 什么都不做。因此，你可以使用 ANSI 代码，或者像 Termcolor 这样的模块，有了 Colorama，它们就可以在所有平台上‘工作’”

# 与其他 python 解决方案的比较

让我们回到我们在开始谈到的方法，使用特殊的转义序列。你可以初始化一个字典或者一个类，并且有一个更可读的映射到每个序列。我在这个 stackoverflow 帖子上找到了这个例子。这为您的代码提供了一种更具可读性的格式。

文本格式的转义序列

你可以这样执行你的命令…

使用 colorama 遵循类似的程序，除了显然，你不必定义所有的颜色。

还有一个模块叫做 [termcolor](https://pypi.org/project/termcolor/) 。我将让 colorama 为自己辩护，向您展示如何在 termcolor 和 colorama 中打印彩色线条，并让您判断哪个看起来更舒服。

导入术语颜色和色彩

上面的代码片段是如何导入模块的。第一行是 termcolor，第二行是 colorama。

让我们试着给我们的第一个节目增加一点色彩:

*打印(《你好世界》)*

添加一些背景色怎么样？

演示背景颜色的代码

使用术语 color 的一个很好的理由是它的文本定制不仅仅是颜色——粗体、闪烁、下划线和反转，等等。因此，作为辩护，如果你想使用这些属性中的一个，术语颜色是适合你的。

术语颜色中闪烁的字符

# 结论——关于简单性和用法的一句话

老实说，我使用这些模块的经验不超过一天。我以一个新程序员的方式接近他们，希望这能帮助你理解为什么 colorama 是最简单的。吸引我使用 colorama 的主要原因之一是它让事情变得非常简单。它的简单性现在会让我在任何我觉得可以的时候尝试使用它。我希望你也一样。

我必须说，我没有公正地对待这个模块，只是向你展示它是如何工作的，而不是展示真正的应用程序。我也没有谈到[祝福](https://pypi.org/project/blessings/)包，它也提供了一种在终端上格式化文本的方法。我的主要目的是把这个模块带给那些想用一种简单的方式给他们的程序增加一点点天赋的程序员。

> “简单是最复杂的”
> 
> —莱昂纳多·达芬奇

一个认真的程序员在写脚本时会问，为什么要在终端上用颜色呢？是的，我能理解。但是我觉得如果有人正在编写一个程序，这个程序将会被很多其他人使用——从另一个程序员到一个非专业人员，增加一点颜色可以使提示更具可读性，在巨大的文本墙中直接关注重要的信息等等。

我想写这篇文章，因为在媒体上没有很多关于这个模块的讨论。我强烈建议您浏览 PyPI 页面和这些模块的文档，看看哪一个最适合您。

**编辑**:鉴于 12 月 21 日的 Log4j 漏洞，软件安全，尤其是开源软件，已经成为人们关注的焦点。如果你不完全确定使用 colorama 的优势是否超过使用开源软件的潜在劣势，最好坚持使用任何其他经过试验和测试的文本着色方法，这将最大限度地减少外部模块的使用。