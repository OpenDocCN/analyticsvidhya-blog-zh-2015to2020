<html>
<head>
<title>TURF Analysis in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的草皮分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/turf-analysis-in-python-d8368f06c050?source=collection_archive---------9-----------------------#2020-04-28">https://medium.com/analytics-vidhya/turf-analysis-in-python-d8368f06c050?source=collection_archive---------9-----------------------#2020-04-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="8c31" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">总无重复范围和频率</h2></div><p id="d3ee" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完全不重复接触和频率分析(简称TURF)是营销人员和市场研究人员用来确定产品或服务最佳组合的一种统计方法。如果你想要更多的背景，我喜欢这个<a class="ae jt" href="https://conjointly.com/blog/turf-analysis/" rel="noopener ugc nofollow" target="_blank">解释</a>。</p><p id="a113" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种分析实现起来相对简单，但是如果在Excel这样的工具中手动完成，可能会非常耗时。为了简化我的工作流程，并且因为我找不到Python中的包来进行这种分析，我编写了一个简短的程序，它可以给我一个快速的TURF输出。如果你想了解这个过程，请继续阅读，或者如果你对代码更感兴趣，请前往我的<a class="ae jt" href="https://github.com/nhcamp/TURF_Analysis" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>。</p><h2 id="37d4" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">第1部分|数据格式</h2><p id="dd17" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">草皮分析是基于调查数据中的一系列偏好选择，其中1 =偏好，0 =不偏好。如何对这两者进行分类取决于手头的特定问题以及向受访者提出的问题。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ku"><img src="../Images/f5d6f285d4f5b405f87059e59e933a2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5iLk-s3hgcNHCwzZek2BAQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">草皮分析的数据设置</figcaption></figure><p id="25c5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要在Python中使用此工具运行草皮分析，数据需要位于如上所示的矩阵中，其中每个唯一id都与所有要素的偏好相关联(此处标记为原因)。该问题的设置允许受访者选择他们喜欢的多个选项。在这个分析中，假设这个偏好在所有选择中是相等的。</p><h2 id="60af" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">第2部分| Python中的集合</h2><p id="b681" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">集合是唯一值的无序集合，允许简单、快速的比较和连接。使用集合来创建偏好每个特性的用户id的唯一分组，允许在大型数据集之间进行闪电般的快速比较(与使用列表相反)。逐列迭代pandas数据帧使这变得简单。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="120b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，使用这个集合列表和具有最大单个范围的特征，我可以确定每个连续特征的最佳排序和范围。为此，我将使用差分方法将所选集合与所有其他集合分别进行比较。在计算出另一个集合中惟一用户id的差异最大之后，我可以使用union方法来连接这些集合并删除重复的集合。</p><p id="1b5a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个新集合的长度除以回答者的数量，给出了两个特征的集合可能的最大不重复范围。对每个特征重复这个过程，我将得到最佳的排序和完全不重复的范围。执行这些操作的代码如下。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h2 id="6518" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">第3部分|输出和注释</h2><p id="e9aa" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">上面代码的输出是两个列表。第一个是功能名称的有序列表，第二个是通过每个附加功能获得的累积范围。将这两者结合在一起，我可以构建下图，我的地盘输出。我可以看到，我的第一个功能覆盖了大约45%的人群，再增加4个功能(原因4)就可以覆盖超过四分之三的人群。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lm"><img src="../Images/579feaa9c5124b08e48b8d3924a442f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tf7BN2XvFhT1MS50PzjuRw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">草皮产量</figcaption></figure><p id="eb5c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢阅读。如果你想自己进行简单的草皮分析，请查看我的GitHub知识库。</p></div></div>    
</body>
</html>