<html>
<head>
<title>How to create Data Apps in Python using Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Streamlit 在 Python 中创建数据应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-create-data-apps-in-python-using-streamlit-part-i-b2558365c258?source=collection_archive---------15-----------------------#2020-10-25">https://medium.com/analytics-vidhya/how-to-create-data-apps-in-python-using-streamlit-part-i-b2558365c258?source=collection_archive---------15-----------------------#2020-10-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hg hh ez fb hi hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/ee6404e6424d11ded33b1b9cad5cb2f3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*jodbPLEhcECBsvb6iSoOaQ.jpeg"/></div></figure><div class=""/><div class=""><h2 id="009d" class="pw-subtitle-paragraph im ho hp bd b in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd dx translated">Streamlit 系列—第一部分— Hello World！</h2></div><h2 id="c681" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">介绍</h2><p id="00eb" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">我刚刚面试失败了！我被一个似乎是数据科学、分析和咨询的完美结合的角色拒绝了，相当令人失望！但是我决定这不会让我退步，而是把它作为一个学习的步骤。因此，我在寻找下一个项目，以培养我的技能，并向 case 展示一些新的、不同的东西。当我看到 Streamlit 时，我开始研究它，因为我很感兴趣:</p><blockquote class="kv kw kx"><p id="d27e" class="kc kd ky ke b kf kz iq kh ki la it kk lb lc km kn ld le kp kq lf lg ks kt ku hb bi translated">创建数据应用的最快方式</p></blockquote><p id="8354" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">在那之前，我从未创建过应用程序，通过进一步阅读，我很快发现我可以随时创建一个 Web 应用程序。我想“太好了！”这将是一个完美的项目，让我更上一层楼！然后我想…“等等，我该怎么部署它？”我总是喜欢做好准备，合理地计划事情，这让我开始思考。当时，还没有 Streamlit 托管<a class="ae lh" href="https://blog.streamlit.io/introducing-streamlit-sharing/" rel="noopener ugc nofollow" target="_blank">功能</a>，但这并没有阻止我:有了强大的谷歌搜索，我发现我可以使用 Docker 来封装我的应用程序，并使用 Azure Cloud 或 GCP Cloud 来部署它(更多内容将在第二系列文章中介绍——“<em class="ky">如何使用 Docker 封装你的应用程序并部署在 Azure Cloud 上</em>”)！</p><p id="c090" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">我非常兴奋:我有了一个好的项目想法和一个完整的路线图来实现它。他们说，首先你必须设想它，然后让它发生，从这个意义上说，这是我建立我的网络应用程序的第一步！</p><h2 id="4275" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">关于细流</h2><p id="9c69" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">Streamlit 是一个开源的 Python 库，可以轻松地为机器学习和数据科学项目构建和部署 Web 应用程序。而且我可以确认，肯定是这样的。它还有一个很棒的社区，会一直支持你，如果你遇到困难，这是一个交流想法和解决问题的好地方。</p><p id="f207" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">该公司最近(2020 年 6 月)宣布了 2100 万美元的首轮融资！经过一些研究，我发现截至 2019 年底，该社区开发了超过 200，000 个应用程序，这些应用程序看到了无需成为应用程序开发人员即可部署模型和可视化数据的潜力和优势！</p><p id="ac0a" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">所以我来了，向你们展示我是如何做到的。因为如果我能，你也能！</p><h2 id="55fa" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">先决条件和库</h2><p id="66e5" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">在我们开始之前，让我们确保我们有我们需要的。</p><p id="98b0" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">我们<strong class="ke hq">不会</strong>在本文中讨论的内容，并且假设您已经在系统中进行了设置:</p><ul class=""><li id="5a70" class="li lj hp ke b kf kz ki la jp lk jt ll jx lm ku ln lo lp lq bi translated">Python 3。x 环境(我用的是 3.7)</li><li id="ca15" class="li lj hp ke b kf lr ki ls jp lt jt lu jx lv ku ln lo lp lq bi translated">熟悉 Linux 命令行(尽管使用 Windows Powershell 应该非常相似)</li></ul><h2 id="8200" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">简化程序库</h2><p id="1c5c" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">要安装 Streamlit 库，只需使用 Linux CLI 键入以下命令:</p><p id="944f" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated"><code class="du lw lx ly lz b">pip install streamlit</code></p><h2 id="1178" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">目录</h2><p id="d1a0" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">为您的所有文件创建一个目录，包括主应用 Python 脚本、任何其他支持脚本文件或图像/文件，例如</p><pre class="ma mb mc md fd me lz mf mg aw mh bi"><span id="b6fa" class="je jf hp lz b fi mi mj l mk ml">/myApp/<br/>.../images/<br/>.../files/<br/>...myApp.py</span></pre><p id="7140" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">请注意，对于“Hello Streamlit World”应用程序，您可能不需要这样做，但是对于真正的机器学习应用程序，您肯定需要这样做！</p><h2 id="887f" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">你好世界</h2><p id="fcfe" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">Streamlit 应用程序基本上是一个 Python 脚本文件，您可以通过在运行目录中键入以下命令来运行它:<code class="du lw lx ly lz b">streamlit run [app_name]</code></p><p id="1be1" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">从 Streamlit 开始，让我们使用以下步骤创建一个 Hello World 应用程序:</p><ol class=""><li id="b626" class="li lj hp ke b kf kz ki la jp lk jt ll jx lm ku mm lo lp lq bi translated">打开你最喜欢的 IDE。我的应用程序使用了 Spider。</li><li id="2850" class="li lj hp ke b kf lr ki ls jp lt jt lu jx lv ku mm lo lp lq bi translated">创建新的 Python 脚本文件，并添加以下内容:</li></ol><pre class="ma mb mc md fd me lz mf mg aw mh bi"><span id="0e09" class="je jf hp lz b fi mi mj l mk ml"># My first Streamlit App"<br/><br/># Load Streamlit library<br/>import streamlit as st<br/><br/># Hello World<br/>st.title('Hello World')<br/>st.write("\nThis is my first Web App, built using Streamlit!")</span></pre><p id="d5dc" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">如果您将文件保存为<code class="du lw lx ly lz b">myHelloWorld.py</code>,并在命令行中键入<code class="du lw lx ly lz b">streamlit run myHelloWorld.py</code>来运行它，您将得到如下结果:</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/9068bca8750b58e45c8fd91bfa8e3ca4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3a1kSaqv4gK8_7m1UEo9eg.png"/></div></figure><p id="8dda" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">很快你的浏览器就会弹出你的第一个闪亮的网络应用程序！</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/c43ffeef4009701c2a21469c8324a49a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rcDF8iUb0IQ35_cjtNUQrw.png"/></div></figure><p id="6710" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">如您所见，该应用程序使用<code class="du lw lx ly lz b">localhost:8501</code>端口在您的浏览器中自动打开。</p><p id="b381" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">要查看完整的配置文件，你可以输入<code class="du lw lx ly lz b">streamlit config show</code>，一个很长的配置文件将出现在你的屏幕上，显示应用程序的默认设置。除此之外，您还会看到以下内容:</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/cba138ad19e608f36118bb66e055f425.png" data-original-src="https://miro.medium.com/v2/format:webp/1*v2u_1Yn6tvoIUtO67puwlg.png"/></div></figure><h2 id="dbfe" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">动画片</h2><p id="ee24" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">现在我们已经具备了基本条件，让我们更进一步。让我们尝试绘图，为什么要保持简单，让我们做动画！</p><p id="d841" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">下面，我使用了一个简单的脚本，通过使用 matplotlib 库绘制随机生成的数据点来测试动画:</p><pre class="ma mb mc md fd me lz mf mg aw mh bi"><span id="049e" class="je jf hp lz b fi mi mj l mk ml">import matplotlib.pyplot as plt<br/>import numpy as np<br/>import streamlit as st<br/>import time<br/><br/><br/>st.title('Fun Streamlit Plotting App')<br/><br/>st.write('Animating random data points')<br/>fig, ax = plt.subplots()<br/>max_x = 5<br/>max_rand = 10<br/><br/>x = np.arange(0, max_x)<br/>ax.set_ylim(0, max_rand)<br/>line, = ax.plot(x, np.random.randint(0, max_rand, max_x))<br/>my_plot = st.pyplot(plt)<br/><br/>def init():  # create an empty plot<br/>    line.set_ydata([np.nan] * len(x))<br/><br/>def animate(i):  # calculate and update values on the y axis<br/>    line.set_ydata(np.random.randint(0, max_rand, max_x))<br/>    my_plot.pyplot(plt)<br/><br/><br/>init()<br/>for i in range(50):<br/>    animate(i)<br/>    time.sleep(0.1)</span></pre><p id="46d4" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">然后，通过将文件保存为<code class="du lw lx ly lz b">testPlotting.py</code>并运行它，您将在浏览器中弹出以下内容:</p><figure class="ma mb mc md fd hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/25f435e6e7104261b949e60dcb035071.png" data-original-src="https://miro.medium.com/v2/format:webp/1*cFdplEQ1m7AFpH9y1Bm1oA.png"/></div></figure><p id="4238" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">为了看到完整的动画，我在这里部署了这个应用程序作为现场演示:<a class="ae lh" href="https://share.streamlit.io/etzimopoulos/streamlit-sandbox/testPlotting.py" rel="noopener ugc nofollow" target="_blank">https://share . streamlit . io/etzimopoulos/streamlit-sandbox/test plotting . py</a></p><h2 id="b46a" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">其他简化应用</h2><p id="0abe" class="pw-post-body-paragraph kc kd hp ke b kf kg iq kh ki kj it kk jp kl km kn jt ko kp kq jx kr ks kt ku hb bi translated">有如此多的应用程序可以使用 Streamlit，而且这个社区非常有创意。在这里你可以找到一些和你一样的人提交的应用程序(很快，是的，你就有了！)和我:<a class="ae lh" href="https://discuss.streamlit.io/c/streamlit-examples/9" rel="noopener ugc nofollow" target="_blank">https://discuss.streamlit.io/c/streamlit-examples/9</a></p><p id="4b7d" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">感谢您阅读到目前为止。希望你现在已经在考虑如何开始使用你自己的应用了！</p><p id="02af" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">欢迎在 https://www.linkedin.com/in/etzimopoulos/<a class="ae lh" href="https://www.linkedin.com/in/etzimopoulos/" rel="noopener ugc nofollow" target="_blank">联系</a>询问任何问题，或者只是打个招呼！</p><h2 id="aa35" class="je jf hp bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">关于我</h2><figure class="ma mb mc md fd hj er es paragraph-image"><div class="ab fe cl hk"><img src="../Images/26b24e4d37815df862db190e0eec5185.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PQBgmq5o8aHi0dLzPdFgsA.png"/></div></figure><p id="0624" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">我是一名自由职业的首席管理顾问和应用数据科学家，在为金融服务和政府部门的供应商和全球银行实施数据分析解决方案、数字化转型和技术变革方面拥有丰富的经验。</p><p id="b65a" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">来自机器人工程的坚实学术背景，像数学、统计学和编程(幸运的是)这样的技能对我来说是多余的，再加上工程师真正好奇、分析和好奇的思维。</p><p id="1326" class="pw-post-body-paragraph kc kd hp ke b kf kz iq kh ki la it kk jp lc km kn jt le kp kq jx lg ks kt ku hb bi translated">这种技术技能和行业经验的独特结合使我能够与广泛的客户合作，帮助他们弥合业务和技术团队之间的差距，并带来关键项目，从而为他们的组织带来巨大的价值。</p></div></div>    
</body>
</html>