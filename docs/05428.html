<html>
<head>
<title>One Hot Encoders and Label encoders</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个热编码器和标签编码器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/one-hot-encoders-and-label-encoders-ed086a254edc?source=collection_archive---------21-----------------------#2020-04-20">https://medium.com/analytics-vidhya/one-hot-encoders-and-label-encoders-ed086a254edc?source=collection_archive---------21-----------------------#2020-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bb33b9b3f25fc13b3eb6fa546481d452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VPXXk1bRhBkVwA92.jpg"/></div></div></figure><p id="eeb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">什么是编码器，为什么我们需要它？</p><p id="bfd8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑一个场景，你正在做一个机器学习项目，比如分类问题。你需要预测明天是否会下雨。</p><p id="1e55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在现实生活中，像这样的情况会有很多特征/因素支配我们的预测。有些可能是数字，有些是类别。</p><p id="0c6a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数值</strong></p><ol class=""><li id="1d1d" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">连续值</li><li id="78f2" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">离散值</li><li id="14b9" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">比例</li><li id="05ee" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">间隔</li></ol><p id="6934" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">明确的</strong></p><ol class=""><li id="27ee" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">名义上的</li><li id="f892" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">序数</li></ol><p id="57da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要深入理解这些变量类型意味着什么，你可以参考我以前的博客。</p><p id="7862" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">回到预测的问题，大多数机器学习算法(决策树可能有效)最终都需要直接或间接的数字来进行训练。</p><p id="8f3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于数值型，可以输入到模型中，而对于分类型，我们需要在输入之前对其进行处理。</p><p id="4ba0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">降雨量数据集快照。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/ec36f394430eb47c7e66577d93bb5342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JPhWugkdWmBiStKZYcOjZQ.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">数据快照</figcaption></figure><p id="d113" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi kl translated"><span class="l km kn ko bm kp kq kr ks kt di"> F </span> <em class="ku">特征= ['日期'，'位置'，'最小温度'，'最大温度'，'降雨量'，'蒸发'，<br/>'阳光'，'风阵风'，'风阵风'，'风9am '，'风3pm '，'风速9am '，'湿度9am '，'湿度3pm '，【T9]，'压力9am '，'压力3pm '，'云9am '，'云3pm '，'温度9am '，<br/>，'温度3pm '，'今日降雨'] </em></p><p id="89a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从中筛选出一些分类和数字数据</p><pre class="kd ke kf kg fd kv kw kx ky aw kz bi"><span id="d576" class="la lb hi kw b fi lc ld l le lf">['MinTemp', 'MaxTemp', 'WindGustDir', 'WindDir9am', 'RainToday']</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/5ec2b82d2428d7d4dfcb2e24f7513334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFV0-h-S-Y9ZdRjg0kZXyA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">数据集(数据)</figcaption></figure><figure class="kd ke kf kg fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><pre class="kd ke kf kg fd kv kw kx ky aw kz bi"><span id="0e21" class="la lb hi kw b fi lc ld l le lf">#Output </span><span id="0d8a" class="la lb hi kw b fi lj ld l le lf">MinTemp  has  10 distinct  labels<br/>MaxTemp  has  10 distinct  labels<br/>WindGustDir  has  8 distinct  labels<br/>WindDir9am  has  7 distinct  labels<br/>RainToday  has  2 distinct  labels</span></pre><p id="87b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里“WindGustDir”、“WindDir9am”、“RainToday”是分类变量</p><p id="aa2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">标签编码器:</strong>它为一列中的每个值分配一个整数。</p><p id="eee8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有一个序数变量，如“好”、“非常好”、“非常好”，您也可以手动为其分配整数值。</p><p id="783a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那名义变量呢，比如我们例子中的WindGustDir，它取值['S '，' ENE '，' E '，' ESE '，' W '，' WSW '，' NNW '，' SSW']。在这里，如果你应用标签编码器，它也将分配整数给每个条目。</p><figure class="kd ke kf kg fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/4a6f1a7cecbd0aac5b2d439fb0138caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KOW8FzGrEQh5QF28wh4GXg.png"/></div></div></figure><p id="4813" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在标签编码后，我们看到WindGustDir现在被分配为1，2，…，8来表示' S '，' ENE '，…，' SSW '。</p><p id="1767" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">缺点:自动将固有等级分配给' S '，' ENE '，…，' SSW '，这可能不是实际订单。</p><p id="9d2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">一键编码器</strong>:这可以看作是分类变量值的向量表示。</p><p id="e11f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<strong class="is hj"> R </strong> 3中，即三维空间集合{(1，0，0)，(0，1，0)，(0，0，1)}可以通过线性组合来表示任意点。</p><p id="d26b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中1表示该轴上存在点。</p><figure class="kd ke kf kg fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/3c7e79d62f5c640e32d5dd8bc91294e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSgZI0Un4SV6_1Sfcxlxyw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">一个热编码器输出</figcaption></figure><p id="9997" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">['S '，' ENE '，' E '，' ESE '，' W '，' WSW '，' NNW '，' SSW'] —&gt; [1，2，3，4，5，6，7，8]</p><p id="70ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您查看每行的输出，我们会看到一列是1，而其他地方都是0。如果1出现在第1个位置，则意味着该行的WindGustDir值为“S”，同样，如果1出现在第5个位置，则意味着WindGustDir为W，依此类推。</p><p id="3302" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果仔细观察这八个额外创建的列，很明显我们可以用剩下的七个生成任何列。这导致多重共线性，称为虚拟变量陷阱。因此，理想情况下，您可以在培训前删除一列。</p><p id="096f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望您理解分类变量及其实现对编码器的需求。</p></div></div>    
</body>
</html>