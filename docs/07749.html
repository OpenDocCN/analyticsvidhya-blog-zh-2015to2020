<html>
<head>
<title>Build a chatbot using Rasa</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Rasa构建聊天机器人</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-a-chatbot-using-rasa-78406306aa0c?source=collection_archive---------12-----------------------#2020-07-06">https://medium.com/analytics-vidhya/build-a-chatbot-using-rasa-78406306aa0c?source=collection_archive---------12-----------------------#2020-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="60d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Rasa是一个开源的机器学习框架，用于自动化基于文本和语音的对话。构建上下文助手&amp;聊天机器人来帮助客户是很难的。Rasa为高效、灵活、专有的上下文助手提供了必要的基础设施&amp;工具。有了Rasa，所有开发人员都可以创建更好的基于文本和语音的助手。</p><p id="c027" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Rasa开源包括</p><ul class=""><li id="efbe" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae jm" href="https://rasa.com/docs/rasa/nlu/about/" rel="noopener ugc nofollow" target="_blank"> NLU </a>:确定用户想要什么，并捕捉关键的上下文信息</li><li id="cbde" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><a class="ae jm" href="https://rasa.com/docs/rasa/core/about/" rel="noopener ugc nofollow" target="_blank">核心</a>:根据对话历史选择下一个最佳回应或行动</li><li id="1051" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><a class="ae jm" href="https://rasa.com/docs/rasa/user-guide/messaging-and-voice-channels/" rel="noopener ugc nofollow" target="_blank">通道</a>和<a class="ae jm" href="https://rasa.com/docs/rasa/core/actions/#custom-actions/" rel="noopener ugc nofollow" target="_blank">集成</a>:将助手连接到用户和后端系统</li></ul><p id="dc89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jm" href="https://rasa.com/docs/rasa-x/" rel="noopener ugc nofollow" target="_blank"> Rasa X </a>是一个工具集，可以帮助你利用对话来改善你的助手。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/0d6fcce1b71ca3c721761433cf78f96a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NgKCr08twnoQ8Ls2ircxA.png"/></div></div></figure><h1 id="4299" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">现在，让我们深入编码。</h1><blockquote class="lc ld le"><p id="8330" class="if ig lf ih b ii ij ik il im in io ip lg ir is it lh iv iw ix li iz ja jb jc hb bi translated">好吧，如果你对编码一无所知，你仍然可以做到。要有耐心！！</p></blockquote><h2 id="9ea1" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">步骤1:创建并激活虚拟环境</h2><p id="f84d" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">在安装Rasa之前，强烈建议使用虚拟环境，以保持安装整洁并集中在一个地方。</p><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="422a" class="lj kf hi md b fi mh mi l mj mk">cd &lt;your project directory&gt;<br/>sudo apt-get install python3-venv<br/>python3 -m venv env<br/>source env/bin/activate</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ml"><img src="../Images/ca8f069c07a94544e30b707ba951c0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9KEuCOMcQkbjtEIyHxWcQ.jpeg"/></div></div></figure><h2 id="8f30" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">步骤2:安装Rasa</h2><p id="3ee3" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated"><strong class="ih hj">如果你有TensorFlow错误</strong>，那么使用这些来安装插件。</p><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="1e6d" class="lj kf hi md b fi mh mi l mj mk">pip install --upgrade pip<br/>pip3 install --upgrade tensorflow-addons rasa</span></pre><p id="e862" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要安装Rasa，请使用以下命令。我用过rasa 1 . 5 . 0版。</p><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="e914" class="lj kf hi md b fi mh mi l mj mk">pip install rasa</span><span id="6cf9" class="lj kf hi md b fi mm mi l mj mk">pip install rasa_nlu<br/>pip install rasa_nlu[spacy]<br/>python -m spacy download en_core_web_md<br/>python -m spacy link en_core_web_md en –force</span></pre><p id="9897" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这需要一些时间来完成。确保没有相关性错误。</p><h2 id="32c2" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">步骤3:初始化rasa</h2><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="d1d5" class="lj kf hi md b fi mh mi l mj mk">rasa init</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mn"><img src="../Images/881ef62b386eff1e5fb1b909ec3a81e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0oUCbr0RczrJcg5G5FVldw.jpeg"/></div></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es mo"><img src="../Images/b5018fba27cbf3f9a71707c1a2d00d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*aOrqydXchksjMS9iNJvDxw.jpeg"/></div></figure><p id="3a2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">100个时代后，你会得到一个提示，说“你想在命令行上与训练有素的助手说话吗？”。请选择“否”。</p><p id="1d33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">←初始化后，目录结构应该如下所示。</p><h2 id="539e" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">第四步:定制你的模型</h2><p id="8bc0" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">要定制你的模型，你需要修改这些文件。<br/>T15】nlu . MD<br/>stories . MD<br/>domain . yml<br/>credentials . yml</p><p id="5d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要修改文件，您需要了解这些术语。</p><ul class=""><li id="dda0" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">意图:用户说什么。Rasa使用意图的概念来描述应该如何对用户消息进行分类。</li><li id="1fbf" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><strong class="ih hj">响应:</strong>机器人如何回复查询。如果您希望您的机器人响应用户消息，您需要管理机器人的响应。</li><li id="215f" class="jd je hi ih b ii jn im jo iq jp iu jq iy jr jc ji jj jk jl bi translated"><strong class="ih hj"> Story: </strong>它是用户和人工智能助手之间的对话的表示，被转换成特定的格式，其中用户输入被表示为相应的意图，而助手的响应被表示为相应的动作名称。</li></ul><h1 id="5808" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">nlu.md</h1><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mp"><img src="../Images/c7a8b1a589015dea56c66155897ef0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GyehaGdxEPcioI33WmZ6Pw.jpeg"/></div></div></figure><p id="6165" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在nlu.md文件中，我们保存意图。Rasa使用这个概念来描述用户将如何与机器人交互。你必须提到触发特定意图的不同方式。比如嘿，你好，嗨，等等。所有这些都会触发问候意图。</p><h1 id="7555" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">domain.yml</h1><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mq"><img src="../Images/486d1bcea31f7e2b8dafb8d9e9144b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hDHE4iiBOW6LqJOzxAe2jA.jpeg"/></div></div></figure><p id="3795" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在domain.yml中，我们保存响应和动作(初始模型没有任何动作)。Rasa使用这个概念来描述机器人将如何响应用户。</p><h1 id="c949" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">stories.md</h1><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mr"><img src="../Images/c2ef0a6eb1741c5e04ad279c7d51bfa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvpjrtYWHZfGBCts-LBBTQ.jpeg"/></div></div></figure><p id="dbfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后在stories.md中，我们将描述对话的流程。你不需要提到每一条可能的路径。Rasa将根据置信度值选择最合适的路径。</p><h1 id="efd2" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">credentials.yml</h1><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ms"><img src="../Images/f8f9b881c59d176b834b2277d0917ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_6Ks3XhfrSvYwTljvmNNmA.jpeg"/></div></div></figure><p id="01d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想在messenger和slack等各种应用程序上部署机器人，那么就为该应用程序创建一个开发者帐户。然后将令牌保存在credentials.yml中。</p><p id="c1e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还可以研究其他文件，如config.yml，并根据需要进行更改，</p><h2 id="769a" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">第五步:训练你的新模型</h2><p id="a35c" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">在所有的修改之后，是时候训练你的新模型了。</p><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="8d0d" class="lj kf hi md b fi mh mi l mj mk">rasa train</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mt"><img src="../Images/6993874baad0226ef5e96586699cf814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PcgS-JG7vv1sGkGEqCjNjw.jpeg"/></div></div></figure><h2 id="1caf" class="lj kf hi bd kg lk ll lm kk ln lo lp ko iq lq lr ks iu ls lt kw iy lu lv la lw bi translated">步骤6:测试你的机器人</h2><p id="1ee6" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">让我们向新的聊天机器人问好。现在你可以将它部署在各种应用程序上，也可以在你的终端中运行。要在您的Linux终端上运行它，</p><pre class="jt ju jv jw fd mc md me mf aw mg bi"><span id="057d" class="lj kf hi md b fi mh mi l mj mk">rasa shell</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es mu"><img src="../Images/4df52ed2aab83215217996517b03e68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L9oDV7dp9mFSNB8KWZik0Q.jpeg"/></div></div></figure><h1 id="1eca" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">是时候开发你的新聊天机器人了..<br/>快乐学习！！</h1><p id="41f7" class="pw-post-body-paragraph if ig hi ih b ii lx ik il im ly io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">如有任何疑问，请通过<a class="ae jm" href="https://www.linkedin.com/in/sandip-palit/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我</p></div></div>    
</body>
</html>