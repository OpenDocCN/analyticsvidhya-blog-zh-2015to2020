<html>
<head>
<title>File handling in python for beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的python文件处理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/file-handling-in-python-for-beginners-b7f8504cd574?source=collection_archive---------16-----------------------#2020-05-18">https://medium.com/analytics-vidhya/file-handling-in-python-for-beginners-b7f8504cd574?source=collection_archive---------16-----------------------#2020-05-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8ab5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在编写代码时，我们将数据存储在变量中。存储在变量中的数据是不稳定的，即当计算机关闭时，我们会丢失数据。有时我们需要这些数据来做进一步的修改。因此，我们需要将它永久存储在内存中。</p><p id="7e82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何永久存储数据？</p><p id="8ef0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过使用数据库来做到这一点，但是它以表格的形式存储数据。</p><p id="77f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们想以简单的格式存储数据。这就是文件发挥作用的地方。</p><p id="8abe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最简单的格式是。txt文件。</p><p id="8dd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们学习如何使用python创建、打开、写入和修改文件。</p><h2 id="e589" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">创建文件并写入文件:</h2><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es jy"><img src="../Images/4435dadb7143d1a9f4c51c9fd3b9385d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9GsYEKpML7KI_xsg8Fybgg.jpeg"/></div></div></figure><p id="d9dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看上面的代码，我们已经创建了一个名为new_file.txt的新文本文件。在python中,“open”关键字用于打开现有文件以及创建新文件。它需要两个参数:</p><ol class=""><li id="0601" class="kk kl hi ih b ii ij im in iq km iu kn iy ko jc kp kq kr ks bi translated">第一个参数告诉解释器打开哪个文件及其位置。</li><li id="3922" class="kk kl hi ih b ii kt im ku iq kv iu kw iy kx jc kp kq kr ks bi translated">第二个参数定义打开文件的模式或目的，即读、写、附加等。</li></ol><p id="1a16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用' w '作为第二个参数，它告诉解释器打开文件进行写入。如果解释器找不到文件，那么它将使用第一个参数中指定的名称创建新文件。</p><p id="6549" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经打开了new_file.txt文件，现在我们想要写入一些数据，在python中将数据写入文件时，我们使用“write”关键字</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es ky"><img src="../Images/bd2bdcea348f8432112e0ea0f363d695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*akE6FwftEejzZTTm97gMXg.jpeg"/></div></div></figure><p id="3742" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">写完后不要忘记使用close关键字关闭文件。如果不关闭文件，文件中不会写入任何内容。现在new_file.txt会是这样的</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es kz"><img src="../Images/b4adf9392407549e656c0acca2be3e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vj8jNF87o8Jmo4Ux8Zn8Ew.jpeg"/></div></div></figure><p id="fe9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您想在现有文件中添加新数据，请在打开文件时使用' a '参数。这将告诉解释器以追加模式打开文件。所以无论我们写什么，都会被追加到文件中的现有数据。我们将在本文的后面了解这一点。</p><h2 id="70b2" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">正在读取文件:</h2><p id="2317" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">到目前为止，您已经在其中创建并写入了一些数据。现在你如何读取文件中的数据？</p><p id="9a73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在使用python读取文件之前，让我们将更多数据直接添加到文本文件中。打开文本文件，添加更多的数据并保存。</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lf"><img src="../Images/259f82fddb70e198a34e2734354233eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*byg_345lKQi4W-xL8QQDkg.jpeg"/></div></div></figure><p id="3b7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了以读取模式打开文件，我们在打开文件时使用' r '参数。关键字' read '用于读取整个文件。</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lg"><img src="../Images/fde854e37768d65d68dce664e3c234c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SWGpdefRUbRRHkTHqOkg-g.jpeg"/></div></div></figure><p id="0850" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以使用readlines关键字进行阅读。但是readlines将一次返回一行。</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lh"><img src="../Images/18c36595d4f8a7f81dd93f47b67e8ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JABP8QUdBI1MIe6Pnde8Gg.jpeg"/></div></div></figure><h2 id="f1bb" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">向文件中添加更多数据:</h2><p id="305c" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">如果您使用' w '参数写入文件，它将清除文件中的所有现有数据，然后写入新数据。为了防止这种情况，我们可以使用' a '参数。它会将新数据追加到文件的现有数据中。</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es li"><img src="../Images/528b10ee0795f86c015d7183ff8480b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtQR6IpcCjCUEdZ-e8Ee-g.jpeg"/></div></div></figure><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lj"><img src="../Images/b45fda0af4196525f21668ec8e57ab16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dK7br4FTp5Q8DgZxnuBYRw.jpeg"/></div></div></figure><h2 id="6a19" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">将一个文件的数据复制到另一个文件:</h2><p id="750a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">要将一个文件中的数据复制到另一个文件中，我们需要遵循以下两个步骤:</p><ol class=""><li id="5285" class="kk kl hi ih b ii ij im in iq km iu kn iy ko jc kp kq kr ks bi translated">读取第一个文件，并将其存储在变量。</li><li id="43cf" class="kk kl hi ih b ii kt im ku iq kv iu kw iy kx jc kp kq kr ks bi translated">打开另一个文件，写入变量数据，最后关闭文件。</li></ol><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lk"><img src="../Images/6e140a746d177b3e4af50ffb5c2e04b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_6ufH7PReZF5eIHz8dbw4Q.jpeg"/></div></div></figure><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es ll"><img src="../Images/6827c5d231e1ff4605ec188e7fb195e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HnVWGlyEOgDvf_sD5cvvcg.jpeg"/></div></div></figure><h2 id="2da1" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">正在复制图像文件:</h2><p id="5f70" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">复制图像文件类似于复制文本文件。图像是一个二进制文件，所以我们将使用' rb '参数，而打开图像文件。</p><p id="162e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">复制图像和文本文件的唯一区别是用于打开它的参数。</p><p id="2a23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看下面的例子:</p><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es lm"><img src="../Images/b955f451e205ba73509d2a477cc40bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A0r-fh8U1JWD3a6dwMWVLg.jpeg"/></div></div></figure><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es ln"><img src="../Images/e7ef920fdd235fbee767ee977483866d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q3pBLdOpimcfjrut3T-n0w.jpeg"/></div></div></figure></div></div>    
</body>
</html>