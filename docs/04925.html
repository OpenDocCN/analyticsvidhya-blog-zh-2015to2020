<html>
<head>
<title>Integer Programming for Graph Theory and Others with Python: 02 — Shortest Path / BigN</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现图论及其他的整数编程:02 —最短路径/ BigN</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/integer-programming-for-graph-theory-and-others-with-python-02-shortest-path-bign-4c359493b734?source=collection_archive---------26-----------------------#2020-04-05">https://medium.com/analytics-vidhya/integer-programming-for-graph-theory-and-others-with-python-02-shortest-path-bign-4c359493b734?source=collection_archive---------26-----------------------#2020-04-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d84cd869b6c3d7d3a1309f367c631ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*VO18TfCm3jqzP6VZeXtpkw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">有时候谷歌地图会带我们去这样的地方，对吧？</figcaption></figure><p id="ae90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本系列的前一篇博文中，我们讨论了什么是整数编程，以及如何用它来解决背包这个组合问题。这一次，我们将使用IP来解决最短路径问题，这个著名的问题在每次优步旅行或每次谷歌地图方向请求中都得到了解决。</p><h2 id="b071" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">什么是图？</h2><p id="10bf" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">简单来说，图是点(节点)和连接成对节点(边)的线的集合。每条边都可以有一个代表距离的权重，它们可以是有向的，也可以是无向的。有向图的边连接A点到B点，但这并不意味着B点连接A点。无向图是不言自明的。</p><h2 id="e00f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">最短路径问题</h2><p id="1848" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">基本上，给定一个图(为了简单起见，没有方向)，一个起点和一个终点，我们需要找出最小化成本的路径。通常成本是距离，但也可以是其他值，如时间或消耗的燃料。在这种情况下，我们将使用燃料所花的钱(相信我，我们稍后会知道为什么)。</p><p id="56b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图显示了这个问题的图表。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ko"><img src="../Images/c81ea70e77fcbf5d0b6d9de411dc75d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xXatSnuvvkrntd05EcAlw.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">无向图用于这个问题。</figcaption></figure><p id="ee9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，从变量开始。因为我们想要选择哪些边用于我们的路径，所以每个边将有一个二进制值:使用或不使用。因此，我们将为每条边创建一个范围在0和1之间的整数变量:</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="a468" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的目标函数将是所有变量的总和乘以各自的燃料成本。我们当然希望燃料成本最低，所以这是一个最小化问题。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="d120" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后但同样重要的是(这是有趣的地方)我们有约束！</p><p id="2386" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最简单的约束是，必须有一条边离开点A，一条边进入点Z，这是路径的基本部分。为了表示这一点，这意味着只有一条离开A的边可以是活动的，因此A-B或A-C或A-E是活动的。由于都是二元变量，所以三者之和一定是1。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="00ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于我们图表中的其他点，我们遵循这条规则:“进去的，必须出来！”</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/b12b0ea348287682de900a2432dd6729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*xV-TM9e3n092SS96zEvq_A.png"/></div></figure><p id="9a5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这意味着，如果有一条边进入点C，就一定有一条边离开C。因此，代表进入C的边的变量之和必须等于代表离开C的边的变量之和。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="eae0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你！我们制定了整个最短路径模型！现在我们只需要运行求解器并检查解决方案。</p><p id="e417" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">解决方案是:A — C — D — F — Z，油费10。很酷吧，嗯？这可以适用于任何图形！</p><h2 id="ab4a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">额外约束&amp; BigN:危险的世界末日道路！</h2><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es la"><img src="../Images/bb2ccc9e879ec11de869cb78be43ec11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thz-pipG1cpMisGS21tnnA.jpeg"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">也许世嘉应该使用整数规划之前，决定有阴影包装热</figcaption></figure><p id="7149" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">想象你在一个后世界末日的世界，你需要一把枪来保护你免受那些行尸走肉的僵尸。有些道路很危险，如果你打算使用这些道路，你必须买一把枪。但是枪是要花钱的，应该买枪还是直接走远路？</p><p id="e086" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们创建一个gun二进制变量，如果你买了它，它的值就是1。买这支枪要花5英镑。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="6e6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">危险的道路将是C-D，A-E和E-F。如果你至少要通过其中的一条，你需要买一把枪。</p><p id="9884" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">女士们先生们，我向你们介绍BigN！</p><p id="dafc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们把这三条边加起来。如果你不使用它们中的任何一个，总和的结果将是零。如果你这样做，它将是1或更大。如果将结果除以一个巨大的数，结果将大于或等于零，小于1，但永远不会等于或大于1。当然，我们可以将它除以2，因为这是总和的最大值，但是如果我们使用的是一个巨大的图表，并且我们不能仅仅通过查看它来推断，我们可以安全地使用一个巨大的数字。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="1def" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的技巧是，枪变量在优化函数中，所以求解器将试图最小化它，但它只能是零，如果这三个边都没有使用。让我们运行求解器并检查结果！</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="6218" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好消息！今天你不需要面对暴力来拯救你的后世界末日现金(炮弹，子弹，你认为货币会是什么？)，因为最便宜的航线是A-B-D-F-Z，总费用11。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es li"><img src="../Images/0f96b3e6f041b00aa400c4fed3d89caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*6K2XAziLgl14BfYyLsycCw.jpeg"/></div></figure><h2 id="4bd1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">下一集:最小生成树和旅行推销员</h2><div class="lj lk ez fb ll lm"><a rel="noopener follow" target="_blank" href="/@alexbrou/integer-programming-for-graph-theory-and-others-with-python-03-minimum-spanning-tree-and-42a5bd75b663"><div class="ln ab dw"><div class="lo ab lp cl cj lq"><h2 class="bd hj fi z dy lr ea eb ls ed ef hh bi translated">整数规划的图论和其他与Python:03-最小生成树和…</h2><div class="lt l"><h3 class="bd b fi z dy lr ea eb ls ed ef dx translated">大家好！我很高兴你看到了我系列的第三集！今天我们将解决图形中的两个一般性问题…</h3></div><div class="lu l"><p class="bd b fp z dy lr ea eb ls ed ef dx translated">medium.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma ik lm"/></div></div></a></div></div></div>    
</body>
</html>