<html>
<head>
<title>Connecting to the Probit API with Python — Getting Started</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 连接到 Probit API 入门</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/connecting-to-the-probit-api-with-python-getting-started-4bd18740a595?source=collection_archive---------16-----------------------#2020-10-31">https://medium.com/analytics-vidhya/connecting-to-the-probit-api-with-python-getting-started-4bd18740a595?source=collection_archive---------16-----------------------#2020-10-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/aad155daa71c0eea2ee3f78a27d19e63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jd2McdAf9h80nBGnBAWUjg.png"/></div></div></figure><p id="ae12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">币安、比特币基地、比特墨西哥……他们都很棒，但有时他们做不到。Crypto 经常奖励那些早期进入的人，Probit 在提供对一些利基令牌和有趣项目的访问方面做得很好。然而，与更流行的交换相比，他们的 API 可能有点棘手，尤其是对初学者而言。不过不要担心，你要找的人已经来了！</p><p id="54d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我将教你如何用 python 获取 API 密钥并链接到你的账户。我想任何读到这篇文章的人都已经有了一个 Probit 账户。如果没有，可以在这里注册<a class="ae jo" href="https://www.probit.com/en-us/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="2f67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦你创建了你的账户，你需要提供一些身份验证信息，这很简单，超出了本指南的范围。</p><p id="cbc5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转到“我的页面”:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/ec41cc6c51d874b8854af0122cea571c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kblFYYZZdiHIh_BS53JbQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">“我的页面”在最右边。</figcaption></figure><p id="bb9e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，转到“API”部分，进入“API 设置”。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/6d6cd11e4fb62f0f0ea89b8abcdea212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*d3uFD2lPhYppj-Xk8bRyBw.png"/></div></figure><p id="1f1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们创建我们的第一个 API。选择一个名称，然后单击“创建新密钥”。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/77d2b31d91adc47fa1ff64580f1946ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opD1XdPpPrwcBhFGf3N__Q.png"/></div></div></figure><p id="6383" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一点很重要，您现在应该已经意识到 Probit 非常重视安全性，并且有许多重复的身份验证。您将看到您的“客户 ID ”,它实际上是您的公钥和私钥，在您第一次查看后会被隐藏，所以请将它保存在安全的地方。从“编辑”按钮，您可以更改交易权限，提取资金，知识产权限制等。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/1db55efdfab037b14e0595680e9cec3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qo3HaKs0tIkkKr4pzMKKSQ.png"/></div></div></figure><p id="4787" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您应该将这些键保存为环境变量。这超出了本指南的范围，但是<a class="ae jo" href="https://www.youtube.com/watch?v=5iWhQWVXosU" rel="noopener ugc nofollow" target="_blank">如果你想学习如何使用这些，这里有</a>一个很好的教程。现在您需要知道的是，在我们的例子中，密钥是作为 PKEY 和 SKEY 导入的。</p><p id="8c86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们进入一些 python。不幸的是，Probit 指南只为 Javascript 提供了明确的指导。您还需要生成一个不记名令牌，以便发出请求，这与其他不需要这一点的 exchange API 略有不同。</p><p id="1974" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要生成我们的誓言密钥。您可以复制并粘贴下面的代码，只需将您的客户端 ID 替换为 PKEY 所在的位置，将您的密钥替换为 SKEY 所在的位置(不要将这些作为原始字符串输入是一个好习惯，您应该明确使用环境变量)。</p><p id="e90e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个脚本将打印一个带有我们的访问令牌的响应，以便我们可以读取我们的帐户信息。</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="54a0" class="kg kh hi kc b fi ki kj l kk kl">import requests<br/>import PKEY,SKEY<br/>import base64 <br/>import json</span><span id="6759" class="kg kh hi kc b fi km kj l kk kl"><br/>def oath_key():</span><span id="9049" class="kg kh hi kc b fi km kj l kk kl">    token_url = "<a class="ae jo" href="https://accounts.probit.com/token" rel="noopener ugc nofollow" target="_blank">https://accounts.probit.com/token</a>"<br/>    data_string = PKEY + ":" + SKEY</span><span id="2bbf" class="kg kh hi kc b fi km kj l kk kl">    data_bytes = data_string.encode("utf-8")<br/>    keyz = base64.b64encode(data_bytes)<br/>    base64_string = keyz.decode("utf-8")</span><span id="ecc1" class="kg kh hi kc b fi km kj l kk kl">    payload = {"grant_type": "client_credentials"}<br/>    headers = {<br/>        "authorization": "Basic " + base64_string,<br/>        "content-type": "application/json"<br/>    }</span><span id="19d4" class="kg kh hi kc b fi km kj l kk kl">    res = requests.request("POST", token_url, json=payload,     headers=headers)<br/>    data = res.json()</span><span id="8ad3" class="kg kh hi kc b fi km kj l kk kl">    json_str = json.dumps(data)<br/>    resp = json.loads(json_str)<br/>    print(resp)</span></pre><p id="9796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们访问我们的帐户信息并检查我们的余额。首先，我们将脚本指向 API url。接下来，我们需要用我们生成的访问令牌为我们的请求定义我们的头。</p><p id="8b1e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用请求库发出“GET”请求，包括 URL 和 headers 变量。我还添加了一点 for 循环来创建两个帐户数据列表，这只是为了演示，但实际上并不需要这样做。恭喜你。您现在已经访问了您的 API！</p><pre class="jq jr js jt fd kb kc kd ke aw kf bi"><span id="b2f8" class="kg kh hi kc b fi ki kj l kk kl">c_list = []<br/>amt_list = []<br/>def account_balance():<br/>        url = "<a class="ae jo" href="https://api.probit.com/api/exchange/v1/balance" rel="noopener ugc nofollow" target="_blank">https://api.probit.com/api/exchange/v1/balance</a>"</span><span id="741b" class="kg kh hi kc b fi km kj l kk kl">        headers = {"authorization": "Bearer " +  resp['access_token']}</span><span id="b256" class="kg kh hi kc b fi km kj l kk kl">        response = requests.request("GET", url, headers=headers)<br/>        coins = response.json()<br/>        coins_json_str = json.dumps(coins)<br/>        coins_resp = json.loads(coins_json_str)</span><span id="6810" class="kg kh hi kc b fi km kj l kk kl">        for li in coins_resp['data']:<br/>            if float(li['total']) &gt; 1:<br/>                c_list.append(li['currency_id'])<br/>                amt_list.append(li['total'])</span><span id="bd29" class="kg kh hi kc b fi km kj l kk kl">        return li['currency_id'],li['total']</span></pre><p id="60d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不言而喻，访问您的帐户余额并不是最令人兴奋的事情，但是您现在可以做 Probit API 允许您做的任何事情。你可以在这里找到更多<a class="ae jo" href="https://docs-en.probit.com/reference#marketdata" rel="noopener ugc nofollow" target="_blank">。玩得开心，记住风险管理是关键！</a></p></div></div>    
</body>
</html>