<html>
<head>
<title>The Top Movies of the Decade According to the Internet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">根据互联网，十年来最受欢迎的电影</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-top-movies-of-the-decade-according-to-the-internet-f6be0357c7fb?source=collection_archive---------17-----------------------#2020-01-03">https://medium.com/analytics-vidhya/the-top-movies-of-the-decade-according-to-the-internet-f6be0357c7fb?source=collection_archive---------17-----------------------#2020-01-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/256b96ba24998f7466fd3f72e1625dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*84Fs5_YgASTYcc75yXP8Hw.jpeg"/></div></div></figure><p id="4360" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是十年的尾声，随之而来的是100多份名单，声称他们拥有“十年来最好的电影”。在这种完全不同的信息下，很难理解十年来真正的顶级电影是什么。为了了解互联网精英的真实想法，我收集了35部十年最佳电影名单，并将它们组合在一起，就十年最佳电影达成共识。就个人而言，这个项目给了我一份过去10年错过的电影清单。我一定会全部看完，并发表评论！</p><p id="d25e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于那些只为名单而来的人，这里是:</p><p id="bae5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">十年前20部电影</strong></p><p id="5aad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.疯狂的麦克斯:狂暴之路<br/> 2。月光<br/> 3。滚出去<br/> 4。社交网络<br/> 5。淑女鸟<br/> 6。内勒温·戴维斯<br/> 7。少年时代<br/> 8。布达佩斯大饭店。大师<br/> 10。生命之树。罗马<br/> 12。杀人的行为。寄生虫<br/> 14。盗梦空间15。叫我你的名字。蜘蛛侠:进入蜘蛛世界。皮下<br/> 18。幻螺纹<br/> 19。颈部扭伤。到达</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="3a60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我将简要描述我如何收集数据，然后进入评分方法。我在文章接下来的部分的目的是给人们工具来搜索任何网站，并描述我的排名方法。</p><h1 id="7e76" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">数据收集</h1><p id="e230" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">所有的工作都是在一个<a class="ae ky" href="https://github.com/jmuddappa/decades_end/blob/master/Data%20Collection/Data%20Collection.ipynb" rel="noopener ugc nofollow" target="_blank">的笔记本上完成的。</a></p><p id="c980" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我用Scrapy从每个网站收集数据。这里有一个可重复使用的功能，你可以用它来抓取任何网站:</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="86c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该函数获取电影列表网站的URL和感兴趣的HTML标签。然后，该函数返回一个响应对象，其中包含带有标签的所有文本元素。为了找到只包含给定列表中标题文本的HTML标签，我使用了chrome扩展SelectorGadget，如下所示。它允许你点击网站中的一个元素，然后提供可以用来抓取信息的标签。</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="lf le l"/></div></figure><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="32ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">函数的结果如上所示。如你所见，它有一些与提取标题任务无关的信息，比如排名和HTML标签“<strong>”。为了清理这个列表，我使用了两个助手函数，</strong></p><ol class=""><li id="1413" class="lg lh hi is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo bi translated">remove_html:从列表中移除所有的html标签</li><li id="2703" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated">remove_non_chars:从列表中删除除字母、分号和破折号之外的所有字符</li></ol><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="f216" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦名单清理完毕，我就将它和排名一起手动添加到excel中。我的流程见下图。</p><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="lf le l"/></div></figure><p id="8a82" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我对35个网站重复了这个过程，结果得到了一个干净的电影数据库。现在有些网站是排名列表，有些是未排名列表。如果这个列表是一个未分级的列表，我会在这个分级栏中为所有的电影标上-1。</p><h1 id="23b7" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">数据清理</h1><p id="e221" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">所有这些都是在另一本<a class="ae ky" href="https://github.com/jmuddappa/decades_end/blob/master/Data%20Cleaning/Data%20Cleaning.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>中完成的。</p><p id="dac0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我建立数据库时，我注意到电影名称不一致:</p><ol class=""><li id="df31" class="lg lh hi is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo bi translated">拼写错误的电影</li></ol><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="27bb" class="lz jw hi lv b fi ma mb l mc md">Margaret, Margeret<br/>The Art of Killing, The Act of Killing</span></pre><p id="5d38" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.有些里面有多余的空间:</p><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="33db" class="lz jw hi lv b fi ma mb l mc md">Inside Out (one space at the end), Inside Out (no space at the end)</span></pre><p id="333f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.有些上面贴着日期:</p><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="2469" class="lz jw hi lv b fi ma mb l mc md">Inside Llewyn Davis (2013) , Inside Llewyn Davis</span></pre><p id="f72e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.有些人的号码已经掉了</p><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="e1f1" class="lz jw hi lv b fi ma mb l mc md">Toy Story -&gt; Toy Story 3 or Toy Story 4<br/>Years A Slave should be 12 Years A Slave</span></pre><p id="dbc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">问题2、3和4很容易部分解决。我使用了Python的功能，比如regex和strip来删除日期和多余的空格。然而，这些技术仍然存在不一致性。</p><p id="8eb1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">问题1也很难解决。文本不完全相同，因此这是我的数据集中的模糊不匹配问题。为了找到所有剩下的模糊标题，我使用了两种技术来处理这个问题:</p><ol class=""><li id="6ac5" class="lg lh hi is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo bi translated"><a class="ae ky" href="https://mattilyra.github.io/2017/05/23/document-deduplication-with-lsh.html" rel="noopener ugc nofollow" target="_blank">搜索</a>:最初，我使用了一个功能，可以扫描一系列文档，并根据阈值找到相似的文本。我用它来手动修复几个标题，但当我降低阈值时，我发现有太多的模糊不匹配需要手动修复。然后我决定用人工智能来帮我做这件事！</li><li id="1799" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated"><a class="ae ky" href="http://dedupeio.github.io" rel="noopener ugc nofollow" target="_blank">重复数据删除</a>:这是一个神奇的包，可以用来删除模糊不匹配的数据。</li></ol><p id="9074" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用重复数据删除，首先使用以下方法将其安装到您的Jupyter笔记本电脑中:</p><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="af92" class="lz jw hi lv b fi ma mb l mc md">!pip install pandas-dedupe</span></pre><figure class="kz la lb lc fd ij"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="d09b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在运行它，如上面的代码片段所示。当您运行重复数据删除命令时，该包将识别它认为不匹配的内容，并要求您验证它们是否不匹配。当你回答“是”或“否”时，人工智能会被训练来找出不匹配的地方。一旦训练完成，它会创建一个文件，其中包含所有不匹配的标题和一个置信度得分，以确定人工智能是否认为标题是相同的。</p><p id="e085" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数标题都是自动修复的，可信度得分超过90%。只有两个标题没有被重复数据删除完美解决，它们是:</p><p id="f4f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">o j:美国制造vs o.j:美国制造<br/>你的名字vs你的名字。</p><p id="eb22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我手动修复了这些问题，然后使用经过重复数据删除的标题创建了一个final.csv文件。最后，我留下了一个数据库，里面有来自35个来源的1500多本图书，其中有427本是独一无二的。</p><h1 id="bdd3" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建一个综合排名系统</h1><p id="2ad3" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">这部分的代码可以在<a class="ae ky" href="https://github.com/jmuddappa/decades_end/blob/master/Data%20Analysis/Feature%20Engineering.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="5f18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我开发了一个评分系统，找出在所有列表中重复次数最多、排名也很高的电影。这被证明是具有挑战性的，因为列表大小的可变性以及列表的分级/未分级性质。我开发的评分系统如下。如果在以下位置找到电影:</p><p id="e5d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">排名榜:</strong></p><p id="2106" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.前10名:3分</p><p id="90f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.10–20:2分</p><p id="b7fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.20–30:1分</p><p id="ad36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.30-100分:0.5分</p><p id="c877" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">未排名列表:</strong></p><p id="64ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.如果列表的大小小于10: 3点</p><p id="f61e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.如果列表的大小小于20: 2点</p><p id="ff9d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.如果列表的大小小于30: 1点</p><p id="fa85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.对于大于30的列表:0.5分</p><p id="d61b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我写了一个函数，可以根据上面的系统为每个数据点计算一个分数。然后，我根据每个标题进行分组，并根据总分返回前20个标题！该函数的输出是:</p><pre class="kz la lb lc fd lu lv lw lx aw ly bi"><span id="9156" class="lz jw hi lv b fi ma mb l mc md">mad max: fury road 67.5<br/>moonlight 62.5<br/>get out 50.0<br/>the social network 39.5<br/>lady bird 37.0<br/>inside llewyn davis 34.5<br/>boyhood 32.0<br/>the grand budapest hotel 30.0<br/>the master 30.0<br/>the tree of life 28.5<br/>roma 27.5<br/>the act of killing 27.0<br/>parasite 25.0<br/>inception 24.5<br/>call me by your name 22.5<br/>spider-man: into the spider-verse 22.0<br/>under the skin 22.0<br/>phantom thread 21.0<br/>whiplash 19.0<br/>arrival 17.0</span></pre><h1 id="91a6" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="f744" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">这是一个很棒的电影列表。我很惊讶地看到疯狂的麦克斯名列榜首，我一定会重温这部电影，并通过一个评论家的镜头观看它。我个人十年的前三名是:出去，寄生虫和蜘蛛侠：平行宇宙。</p><p id="123c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我还计划用这些数据做更多的事情。我正在开发一个强大的评分系统，让顶级导演、编剧、演员等参与进来。这并不像获得顶级电影那么简单，因为我需要考虑各种因素，比如演职人员的付费顺序。我还计划使用这些数据部署一个推荐系统，该系统使用余弦相似性作为度量，根据输入推荐相似的电影。当他们完成后，我一定会写一篇关于这两件事的博文。你可以在我的回购协议中跟踪我在这个项目上的进展:【https://github.com/jmuddappa/decades_end<a class="ae ky" href="https://github.com/jmuddappa/decades_end" rel="noopener ugc nofollow" target="_blank"/></p><p id="9a5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，感谢您阅读整篇文章。我有兴趣看到关于我的评分系统的反馈，或者任何我可以使用该数据集回答的有趣问题。</p></div></div>    
</body>
</html>