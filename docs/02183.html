<html>
<head>
<title>Build Movie Recommender in 15 mins!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在15分钟内建立电影推荐！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-movie-recommender-in-15-mins-64039dcbca40?source=collection_archive---------17-----------------------#2019-12-04">https://medium.com/analytics-vidhya/build-movie-recommender-in-15-mins-64039dcbca40?source=collection_archive---------17-----------------------#2019-12-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bf4662f6b035a1098ddac78d9e7a980d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4o6MgHcp7Ot16tEE0Yn3Zw.png"/></div></div></figure><p id="8d85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嘿伙计们，欢迎来到博客。这个博客将帮助你在简历中添加一个很酷的项目，即使你没有ML、python或编程的知识。每个题目我都会先教，然后再用。我必须告诉你，即使这是一个非常普通的项目，但在你的简历中看起来真的很酷。所以让我们开始吧。</p><p id="870f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在开始制作这个项目之前，快速概述一下项目的先决条件非常有帮助。</p><p id="2912" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">软件要求:- </strong></p><ol class=""><li id="3d96" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">Anaconda(巨蛇，不要与流行的python发行版混淆)。</li></ol><p id="c912" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，这就是你所需要的。</p><p id="edce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博客并不包括将GUI添加到项目中，我会写另一篇关于它的博客。此外，它涉及非常基本的ML算法，因为读者是假定初学者和复杂的算法是不是真的有必要在这个项目中。</p><p id="17fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们开始讨论<strong class="is hj">什么是机器学习？</strong></p><p id="dd07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">机器学习基本上是一个研究领域，它赋予机器从一个数据中学习并将该知识应用于另一个数据的能力。它根据经验进行改进，而无需显式编程。</p><p id="6f61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我补充另一个多余的解释，它来自互联网，基本上没有任何理由。</p><p id="3add" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“学习的过程始于观察或数据，如例子、直接经验或指导，以便在数据中寻找模式，并根据我们提供的例子在未来做出更好的决策。<strong class="is hj">主要目的是让计算机在没有人类干预或帮助的情况下自动学习</strong>，并相应地调整动作</p><p id="a5d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望这能澄清。</p><p id="25ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你已经清楚，我们将从我们的电影评级(数据)中学习，并将其应用到大量电影中，以预测用户应该观看哪些电影。</p><p id="34c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以问题是数据在哪里？就是这里:- <a class="ae jx" href="https://drive.google.com/file/d/1RGPh3XQ0eB0LqgA7vzsUZe_KWVvtSLz6/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">数据</a></p><p id="eb1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我从:-<a class="ae jx" href="https://datasets.imdbws.com/" rel="noopener ugc nofollow" target="_blank">https://datasets.imdbws.com/</a>那里偷了这个数据，这个数据真的很有用，它有2006年到2016年IMDB排名前100的电影。</p><p id="394c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">文档:-<a class="ae jx" href="https://www.imdb.com/interfaces/" rel="noopener ugc nofollow" target="_blank">https://www.imdb.com/interfaces/</a></p><p id="5e44" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如您所见，该数据可能如下所示</p><figure class="jz ka kb kc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/70e2c19d8be1b3a5fa4a7b8f641d9315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bN1beZjx-zYlWIVWR4vvfA.png"/></div></div></figure><p id="f900" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">很不错吧！。有几个领域，如流派，描述，评级等。我们将使用流派，评级和Metascore来推荐电影，让我们看看如何。</p><p id="2557" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望您下载了数据库，现在打开Anaconda并选择Spyder作为您的IDE并开始编写。</p><p id="dd36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们将导入python库。Python库只是一个函数和方法的集合，允许您在不编写代码的情况下执行许多操作。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="618c" class="ki kj hi ke b fi kk kl l km kn">import numpy as np<br/>import pandas as pd<br/></span></pre><p id="6e0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">numpy将帮助我们进行阵列操作，pandas将帮助我们添加数据库</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="ceaa" class="ki kj hi ke b fi kk kl l km kn">dataset =pd.read_csv('IMDB-Movie-Data.csv')</span></pre><p id="36a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在从右边部分选择数据库所在的文件夹，并在python IDE中运行这段代码来添加数据库。</p><p id="c27c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在在写下一部分之前，让我告诉你什么是因变量和自变量</p><p id="ecde" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自变量是被操纵或改变以预测因变量的变量。独立变量的另一个名字是预测值。因变量是依赖于自变量的变量，其值是要预测的。</p><p id="5d87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们代码中的因变量是genre、imdbrating和Metascore，独立于be用户评级(将在后面解释)。</p><p id="3d47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们不会使用数据中的所有列进行预测，所以像这样分离出所需的数据(不需要描述、参与者等):</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="56a4" class="ki kj hi ke b fi kk kl l km kn">impdataset=dataset.iloc[:,[1,2,6,8,10,11]]</span></pre><p id="0db1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这段代码将把所有行和给定列复制到变量impdataset。</p><p id="d7a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类别流派具有不能用作自变量的非数值数据集。所以，为了把它作为因变量，我们将把每一个流派作为不同的布尔变量。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="0eaf" class="ki kj hi ke b fi kk kl l km kn">impdataset['Action']=0<br/>impdataset['Comedy']=0<br/>impdataset['Sci-Fi']=0<br/>impdataset['Adventure']=0<br/>impdataset['Drama']=0<br/>impdataset['Horror']=0<br/>impdataset['Thriller']=0<br/>impdataset['Animation']=0<br/>impdataset['Romance']=0<br/>impdataset['Fantasy']=0<br/>impdataset['Family']=0<br/>impdataset['History']=0<br/>impdataset['Biography']=0<br/>impdataset['Music']=0<br/>impdataset['Mystery']=0<br/>impdataset['Crime']=0</span></pre><p id="c00e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，为了方便起见，我们将为不同变量命名流派。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="0bee" class="ki kj hi ke b fi kk kl l km kn">l='Action'<br/>a='Comedy'<br/>b='Sci-Fi'<br/>c='Adventure'<br/>d='Drama'<br/>e='Horror'<br/>f='Thriller'<br/>g='Animation'<br/>h='Romance'<br/>i='Fantasy'<br/>j='Family'<br/>k='History'<br/>m='Biography'<br/>n='Music'<br/>o='Mystery'<br/>z='Crime'</span></pre><p id="d77d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，首先我们导入数组库来使用数组，我们用float ('f ')数据类型创建数组p，最初用0表示。</p><p id="c51e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们循环1000次，循环数表示行或电影条目，其中p[i]对应于流派类别的数量(如“惊悚喜剧”将给出值2)。</p><p id="f739" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于每一个条目，我们检查它是否有一个特定的流派(a，b，c，d等对应于流派的变量)，如果有，我们增加其相应的布尔值为1，并增加p[i]。</p><p id="58c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们使用了x = imp dataset . loc[index]. genre . rfind(a，b，c，d…)，这一行不需要解释，如果没有找到，它将返回-1。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="ec1e" class="ki kj hi ke b fi kk kl l km kn">index=0<br/>import array<br/>p=array.array('f',[0])<br/>while(index&lt;1000):<br/>    p.append(0)<br/>    x=impdataset.loc[index].Genre.rfind(l)<br/>    if(x!=-1):<br/>        impdataset.loc[index,l]=impdataset.loc[index,l]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(a)<br/>    if(x!=-1):<br/>        impdataset.loc[index,a]=impdataset.loc[index,a]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(b)<br/>    if(x!=-1):<br/>        impdataset.loc[index,b]=impdataset.loc[index,b]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(c)<br/>    if(x!=-1):<br/>        impdataset.loc[index,c]=impdataset.loc[index,c]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(d)<br/>    if(x!=-1):<br/>        impdataset.loc[index,d]=impdataset.loc[index,d]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(e)<br/>    if(x!=-1):<br/>        impdataset.loc[index,e]=impdataset.loc[index,e]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(f)<br/>    if(x!=-1):<br/>        impdataset.loc[index,f]=impdataset.loc[index,f]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(g)<br/>    if(x!=-1):<br/>        impdataset.loc[index,g]=impdataset.loc[index,g]+1 <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(h)<br/>    if(x!=-1):<br/>        impdataset.loc[index,h]=impdataset.loc[index,h]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(i)<br/>    if(x!=-1):<br/>        impdataset.loc[index,i]=impdataset.loc[index,i]+1  <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(j)<br/>    if(x!=-1):<br/>        impdataset.loc[index,j]=impdataset.loc[index,j]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(k)<br/>    if(x!=-1):<br/>        impdataset.loc[index,k]=impdataset.loc[index,k]+1 <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(m)<br/>    if(x!=-1):<br/>        impdataset.loc[index,m]=impdataset.loc[index,m]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(n)<br/>    if(x!=-1):<br/>        impdataset.loc[index,n]=impdataset.loc[index,n]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(o)<br/>    if(x!=-1):<br/>        impdataset.loc[index,o]=impdataset.loc[index,o]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(z)<br/>    if(x!=-1):<br/>        impdataset.loc[index,z]=impdataset.loc[index,z]+1  <br/>        p[index]=p[index]+1<br/>    index=index+1</span></pre><p id="92a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我将制作另一个数据库，我将给出我的评级。我选了54，80，117，36，96，249，64，99，124，13的电影，分别给了9，9.7，8.5，9.2，7，8，8.2，9，9.5，8的评分。</p><p id="c382" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于每个评级，我将评级乘以流派数量，然后除以3，得到一个平均评级。(现在让我告诉你我为什么这么做，“惊悚剧悬疑”的p[i]=3，因此algo将读作a *惊悚+b *剧情+c *悬疑(其余将变为0)=评级，但如果只有“惊悚剧”，algo将读作a*惊悚+b *剧情=评级，如果只有“惊悚”存在，它将读作a*惊悚=评级。所以为了使它平均，我用流派的数量来划分它，不要担心它是bouncer，只是随大流，我后面也解释了)。</p><p id="79c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分配X作为自变量(X将有流派)，y作为因变量。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="99c2" class="ki kj hi ke b fi kk kl l km kn">traindata=impdataset.iloc[[54,80,117,36,96,249,64,99,124,133],:]<br/>traindata['Ratingbyme']=[9,9.7,8.5,9.2,7,8,8.2,9,9.5,8] <br/>for w in [54,80,117,36,96,249,64,99,124,133]:          traindata.loc[w,'Ratingbyme']=traindata.loc[w,'Ratingbyme']*p[w]/3   <br/>X=traindata.iloc[:,6:21].values<br/>y=traindata.iloc[:,22].values</span></pre><p id="aa4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在到了最重要的部分，算法。现在，我将告诉你我们实际上在做什么。</p><p id="da20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用线性回归作为我们的算法。那么什么是线性回归。</p><p id="0d0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">线性回归用于寻找两组连续变量之间的关系。一个是自变量，另一个是因变量。例如，y= m*x +C，基本上它所做的是遍历x和y的所有值，并找到m和C的值，使得实际y和预测y之间的所有差异最小”</p><p id="8015" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我可以花几个小时解释线性回归，但我建议你自己读一下。</p><p id="5c0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是简单的线性回归，我们将使用多元线性回归。它做同样的工作，但有多个独立变量，方程看起来像这样</p><p id="6e94" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Y= a*x1 + b*x2 + c*x3 ……</p><p id="9b41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中x1、x2是流派列的布尔值，a、b、c、d被称为变量的权重。因此，我们将使用这些流派列值和Y值(评级)来训练模型，以找到流派的权重值，然后我们使用Y= a*x1 + b*x2 + c*x3 ……来预测所有数据的Y。</p><p id="75ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你清楚这一点。现在最好的事情是，我们不必自己写代码，而是有人为我们写的，我们只需传递X和y来训练数据。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="bb15" class="ki kj hi ke b fi kk kl l km kn">from sklearn.linear_model import LinearRegression <br/>regressor=LinearRegression()<br/>regressor.fit(X,y)</span></pre><p id="049e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此代码导入线性回归并为我们实现，regressor.fit(X，y)训练数据。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e1d6" class="ki kj hi ke b fi kk kl l km kn"><br/>impdataset['ratingbyme']=regressor.predict(impdataset.iloc[:,6:21])<br/>traindata['ratingbyme1']=regressor.predict(X)</span></pre><p id="987c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在regressor.predict预测所有数据集的等级。我们制作第二个变量ratingbyme1来比较我们的评级和模型刚刚给出的值。这叫做测试。</p><p id="21ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">宾果现在我们到了最后一部分，现在我要做的是所谓的职业玩家的举动，假设一部电影有惊悚悬疑类别，我们的算法发现惊悚的权重为2.5，悬疑为3.5，所以评级加起来为6，但如果一部电影有惊悚悬疑剧，评级将达到2.5+ 3.5 + 2(戏剧)，= 8，更多的类型给出更多的评级，这很不公平，所以我们做的是按类型评级，而不是只评级，现在两部电影都将有6/2*3 = 9和8/3*3</p><p id="9d42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看看下面的代码，直到第6行，我希望它能让你清楚，现在我们有了按流派给出的评级，实际imdb评级和Metascore。因此，我们设计了一个公式，将给出最终评级为imdbrating*(最终评级*20 + Metascore)(此公式使得genre-rating(满分为100)的权重是Metascore的两倍)，您所要做的就是运行代码，并在变量部分中，根据此评级对数据进行排序。你会有你推荐的电影。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="f2e1" class="ki kj hi ke b fi kk kl l km kn">index=0<br/>while(index&lt;1000):<br/>    f=float(impdataset.loc[index,'ratingbyme'])<br/>    if(p[index]!=0):<br/>      f=f/float(p[index])<br/>    impdataset.loc[index,'ratingbyme']=f*3<br/>    int metascore=impdataset.loc[index,'Metascore']<br/>    float sc=((20*impdataset.loc[index,'Rating'])+metascore)<br/>        impdataset.loc[index,'finalscore']=impdataset.loc[index,'ratingbyme']*sc<br/>    index=index+1</span></pre><p id="1b79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">答对了，你成功了，不一定是项目，但至少是博客。我希望你喜欢它，并请评论你的评论和疑问。我会写一篇博客，把这个项目转变成一个网站，在此之前，请欣赏并阅读我的另一个博客——<a class="ae jx" rel="noopener" href="/@pranjalshivalol/how-i-got-internship-at-goldman-sachs-463138b8719a">博客</a>。和平。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="a5d1" class="ki kj hi ke b fi kk kl l km kn">import numpy as np<br/>import pandas as pd</span><span id="36e0" class="ki kj hi ke b fi ko kl l km kn">dataset =pd.read_csv('IMDB-Movie-Data.csv')<br/>impdataset=dataset.iloc[:,[1,2,6,8,10,11]]<br/>impdataset['Action']=0<br/>impdataset['Comedy']=0<br/>impdataset['Sci-Fi']=0<br/>impdataset['Adventure']=0<br/>impdataset['Drama']=0<br/>impdataset['Horror']=0<br/>impdataset['Thriller']=0<br/>impdataset['Animation']=0<br/>impdataset['Romance']=0<br/>impdataset['Fantasy']=0<br/>impdataset['Family']=0<br/>impdataset['History']=0<br/>impdataset['Biography']=0<br/>impdataset['Music']=0<br/>impdataset['Mystery']=0<br/>impdataset['Crime']=0<br/>l='Action'<br/>a='Comedy'<br/>b='Sci-Fi'<br/>c='Adventure'<br/>d='Drama'<br/>e='Horror'<br/>f='Thriller'<br/>g='Animation'<br/>h='Romance'<br/>i='Fantasy'<br/>j='Family'<br/>k='History'<br/>m='Biography'<br/>n='Music'<br/>o='Mystery'<br/>z='Crime'<br/>index=0<br/>import array<br/>p=array.array('f',[0])<br/>while(index&lt;1000):<br/>    p.append(0)<br/>    x=impdataset.loc[index].Genre.rfind(l)<br/>    if(x!=-1):<br/>        impdataset.loc[index,l]=impdataset.loc[index,l]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(a)<br/>    if(x!=-1):<br/>        impdataset.loc[index,a]=impdataset.loc[index,a]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(b)<br/>    if(x!=-1):<br/>        impdataset.loc[index,b]=impdataset.loc[index,b]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(c)<br/>    if(x!=-1):<br/>        impdataset.loc[index,c]=impdataset.loc[index,c]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(d)<br/>    if(x!=-1):<br/>        impdataset.loc[index,d]=impdataset.loc[index,d]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(e)<br/>    if(x!=-1):<br/>        impdataset.loc[index,e]=impdataset.loc[index,e]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(f)<br/>    if(x!=-1):<br/>        impdataset.loc[index,f]=impdataset.loc[index,f]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(g)<br/>    if(x!=-1):<br/>        impdataset.loc[index,g]=impdataset.loc[index,g]+1 <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(h)<br/>    if(x!=-1):<br/>        impdataset.loc[index,h]=impdataset.loc[index,h]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(i)<br/>    if(x!=-1):<br/>        impdataset.loc[index,i]=impdataset.loc[index,i]+1  <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(j)<br/>    if(x!=-1):<br/>        impdataset.loc[index,j]=impdataset.loc[index,j]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(k)<br/>    if(x!=-1):<br/>        impdataset.loc[index,k]=impdataset.loc[index,k]+1 <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(m)<br/>    if(x!=-1):<br/>        impdataset.loc[index,m]=impdataset.loc[index,m]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(n)<br/>    if(x!=-1):<br/>        impdataset.loc[index,n]=impdataset.loc[index,n]+1   <br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(o)<br/>    if(x!=-1):<br/>        impdataset.loc[index,o]=impdataset.loc[index,o]+1<br/>        p[index]=p[index]+1<br/>    x=impdataset.loc[index].Genre.rfind(z)<br/>    if(x!=-1):<br/>        impdataset.loc[index,z]=impdataset.loc[index,z]+1  <br/>        p[index]=p[index]+1<br/>    index=index+1<br/>traindata=impdataset.iloc[[54,80,117,36,96,249,64,99,124,133],:]<br/>traindata['Ratingbyme']=[9,9.7,8.5,9.2,7,8,8.2,9,9.5,8] <br/>for w in [54,80,117,36,96,249,64,99,124,133]:<br/>  traindata.loc[w,'Ratingbyme']=traindata.loc[w,'Ratingbyme']*p[w]/3   <br/>X=traindata.iloc[:,6:21].values<br/>y=traindata.iloc[:,22].values<br/>    <br/>from sklearn.linear_model import LinearRegression <br/>regressor=LinearRegression()<br/>regressor.fit(X,y)<br/>    <br/>impdataset['ratingbyme']=regressor.predict(impdataset.iloc[:,6:21])<br/>traindata['ratingbyme1']=regressor.predict(X)<br/>index=0<br/>while(index&lt;1000):<br/>    f=float(impdataset.loc[index,'ratingbyme'])<br/>    if(p[index]!=0):<br/>      f=f/float(p[index])   <br/>    impdataset.loc[index,'ratingbyme']=f*3<br/>    int metascore=impdataset.loc[index,'Metascore']<br/>    float sc=((20*impdataset.loc[index,'Rating'])+metascore)<br/>    impdataset.loc[index,'finalscore']=impdataset.loc[index,'ratingbyme']*sc<br/>    index=index+1</span></pre></div></div>    
</body>
</html>