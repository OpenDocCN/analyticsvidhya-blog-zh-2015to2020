<html>
<head>
<title>Geometric Transformations of Images using OpenCV|Image Processing Part-1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenCV的图像几何变换|图像处理第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/geometric-transformations-of-images-using-opencv-image-processing-part-1-828c9bf98aa7?source=collection_archive---------4-----------------------#2020-07-23">https://medium.com/analytics-vidhya/geometric-transformations-of-images-using-opencv-image-processing-part-1-828c9bf98aa7?source=collection_archive---------4-----------------------#2020-07-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d90d6439efb8d3f58a88bb3ebcf2b353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/1*fYKO3F-577AnK8KNNw2hgA.gif"/></div></figure><p id="4d33" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本文中，我们将学习如何使用Python语言中的OpenCV对图像执行几何变换算法。</p><p id="f006" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将从简单介绍一下图像处理开始，然后继续看图像处理可以派上用场的不同应用/场景。那么，让我们开始吧！</p><h2 id="df86" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">什么是图像处理？</h2><p id="f7f9" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">在深入研究图像处理之前，了解图像处理到底是什么以及它在更大范围内的作用是很重要的。图像处理通常被称为“数字图像处理”，其经常使用的领域是“计算机视觉”。</p><p id="d7ee" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">图像处理算法和计算机视觉(CV)算法都将图像作为输入；然而，在图像处理中，输出也是一个<em class="kk">图像</em>，而在计算机视觉中，输出可以是关于图像的一些<em class="kk">特征/信息。</em></p><h2 id="2696" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">安装OpenCV</h2><p id="acf2" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">要在您的系统上安装OpenCV，请运行以下pip命令-</p><p id="262f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于Windows:</p><blockquote class="kl km kn"><p id="946a" class="im in kk io b ip iq ir is it iu iv iw ko iy iz ja kp jc jd je kq jg jh ji jj hb bi translated">pip安装opencv-python</p></blockquote><p id="a856" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于MacOS:</p><blockquote class="kl km kn"><p id="3fdd" class="im in kk io b ip iq ir is it iu iv iw ko iy iz ja kp jc jd je kq jg jh ji jj hb bi translated">brew安装opencv 3-with-contrib-with-python 3</p></blockquote><p id="1501" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在OpenCV已经成功安装在我们的系统中，我们已经准备好了。让我们用一些图片来娱乐一下吧！</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kr"><img src="../Images/2672da1e52a45939aea6907754d56c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WV4pr7mgcXiIKoTWQz9BFw.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">要求已经得到满足，因为我已经在我的系统中安装了它</figcaption></figure></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><h1 id="a32e" class="ll jl hi bd jm lm ln lo jq lp lq lr ju ls lt lu jx lv lw lx ka ly lz ma kd mb bi translated">让我们开始使用OpenCV库-</h1><h2 id="735c" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">1.导入所需的库</h2><blockquote class="kl km kn"><p id="0a4c" class="im in kk io b ip iq ir is it iu iv iw ko iy iz ja kp jc jd je kq jg jh ji jj hb bi translated"><em class="hi"> cv2 </em> -用于OpenCV(用于图像处理)</p><p id="33e1" class="im in kk io b ip iq ir is it iu iv iw ko iy iz ja kp jc jd je kq jg jh ji jj hb bi translated"><em class="hi"> matplotlib </em> -用于matplotlib(用于绘图和可视化)</p><p id="0cc5" class="im in kk io b ip iq ir is it iu iv iw ko iy iz ja kp jc jd je kq jg jh ji jj hb bi translated"><em class="hi"> numpy </em> -用于numpy(用于科学计算)</p></blockquote><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mc"><img src="../Images/f1b684f5d91400cd2bd7b796c5ede214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FjMaF3VkBVpElovAxcFwPA.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">必需的库</figcaption></figure><h2 id="4096" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">2.使用OpenCV库读取图像</h2><p id="55c7" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">我们可以使用OpenCV和Matplotlib库来读取图像。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es md"><img src="../Images/25f7873ec2299062d7c8d9108fa9b713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*EZi48v-SlLWctSzOqw_iiw.png"/></div><figcaption class="la lb et er es lc ld bd b be z dx translated">打开图像</figcaption></figure><h2 id="555e" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">3.图像分析</h2><p id="a4c3" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">了解图像的类型或形状。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es me"><img src="../Images/127788f7c4c2501356c23e1717a81437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*MgA-IrQ0iT7BoW5aYN_WXQ.png"/></div></figure><h2 id="6de9" class="jk jl hi bd jm jn jo jp jq jr js jt ju ix jv jw jx jb jy jz ka jf kb kc kd ke bi translated">4.图像的几何变换</h2><p id="67dc" class="pw-post-body-paragraph im in hi io b ip kf ir is it kg iv iw ix kh iz ja jb ki jd je jf kj jh ji jj hb bi translated">学习对图像应用不同的几何变换，如缩放、平移、旋转、仿射变换等。</p><ul class=""><li id="40db" class="mf mg hi io b ip iq it iu ix mh jb mi jf mj jj mk ml mm mn bi translated"><strong class="io hj"> <em class="kk">调整图像大小(缩放)</em> </strong></li></ul><p id="4eaa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">缩放只是调整图像的大小。为此，OpenCV附带了一个函数<strong class="io hj"> cv2.resize() </strong>。可以手动指定图像的大小，也可以指定缩放因子。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/03e06c127f9d69e8aaeb2e9ba993bf94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*hLQkzL4EqcRxglaDEdQpuQ.png"/></div><figcaption class="la lb et er es lc ld bd b be z dx translated">调整图像输出大小</figcaption></figure><ul class=""><li id="04ce" class="mf mg hi io b ip iq it iu ix mh jb mi jf mj jj mk ml mm mn bi translated"><strong class="io hj"> <em class="kk">旋转图像</em> </strong></li></ul><p id="1a17" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">图像旋转角度θ是通过以下形式的变换矩阵实现的</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/d1b0571c64bf86358ca9009197e9742d.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*ijGxRffJUkGorD3FkmpAnw.png"/></div></figure><p id="d7a3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是OpenCV提供了可调节旋转中心的缩放旋转，因此您可以在任何您喜欢的位置旋转。修改后的变换矩阵由下式给出</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mq"><img src="../Images/c342f3d6413009c7b5e2795ae57a1a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCwx4eZLutYQjtW4Tsk03g.png"/></div></div></figure><p id="41c4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了找到这个变换矩阵，OpenCV提供了一个函数，<strong class="io hj">cv2 . getrotationmatrix 2d</strong>。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es mr"><img src="../Images/6abc02bff3f20601076c467d56746474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*sPRRrC9cu-dMyJbWS-1s8A.png"/></div><figcaption class="la lb et er es lc ld bd b be z dx translated">旋转图像输出</figcaption></figure><ul class=""><li id="d5d2" class="mf mg hi io b ip iq it iu ix mh jb mi jf mj jj mk ml mm mn bi translated"><strong class="io hj"> <em class="kk">仿射变换</em> </strong></li></ul><p id="1d8e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="kk">在仿射变换中，原始图像中的所有平行线在输出图像中仍然是平行的。</em>为了找到变换矩阵，我们需要来自输入图像的<em class="kk">三个</em> <em class="kk">点</em>以及它们在输出图像中的对应位置。然后<strong class="io hj"> cv2.getAffineTransform </strong>将创建一个2×3的矩阵，该矩阵将被传递给<strong class="io hj"> cv2.warpAffine </strong>。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es et"><img src="../Images/401551aa5fde7e3c30867c97efd953c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bp6GvLDFAGsLzAQGLhL3gw.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">仿射变换输出</figcaption></figure><ul class=""><li id="7aa0" class="mf mg hi io b ip iq it iu ix mh jb mi jf mj jj mk ml mm mn bi translated"><strong class="io hj"> <em class="kk">透视变换</em> </strong></li></ul><p id="6396" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于透视变换，你需要一个3x3的变换矩阵。<em class="kk">即使变换后，直线仍将保持直线。</em>为了找到这个变换矩阵，我们需要输入图像上的<em class="kk"> 4个点</em>和输出图像上的对应点。这4个点中，有3个不应该是共线的。然后通过函数<strong class="io hj">cv2 . getperspective transform</strong>可以找到变换矩阵。然后用这个3x3变换矩阵应用<strong class="io hj"> cv2.warpPerspective </strong>。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es ms"><img src="../Images/464d92604d5fab469e3dfad54119a979.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-q-qc63XDptBJWZ4Nh4gHg.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">透视变换输出</figcaption></figure><p id="c1e7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就把我们带到了本文的结尾。希望你已经很清楚的理解了Python中OpenCV的图像处理基础知识。<strong class="io hj"> <em class="kk">确保你尽可能多的练习</em> </strong>。</p><p id="30c3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">请留意本系列中的其他<a class="ae mt" href="https://github.com/Ravjot03/Image-Processing" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>，它们将解释使用Python中的OpenCV进行图像处理的各个其他方面。</p><p id="25b4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你想查看更多与数据科学和机器学习相关的资源，你可以参考我的<a class="ae mt" href="https://github.com/Ravjot03" rel="noopener ugc nofollow" target="_blank"> Github账户</a>。</p><p id="e72f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">希望你喜欢这个帖子。</p></div></div>    
</body>
</html>