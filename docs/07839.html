<html>
<head>
<title>Sentiment Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sentiment-analysis-a360c915ff7a?source=collection_archive---------14-----------------------#2020-07-09">https://medium.com/analytics-vidhya/sentiment-analysis-a360c915ff7a?source=collection_archive---------14-----------------------#2020-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0aae21142003016df5180fad83bac236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DC2fkUoJBfThgebZBd06uA.jpeg"/></div></div></figure><p id="79d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">情感分析是对一段文本中表达的观点进行计算识别和分类的过程，尤其是为了确定作者对特定主题、产品等的态度。是正的、负的或中性的。基本上就是对情绪的解读和分类。</p><p id="757f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">情感分析旨在检测快乐、悲伤、愤怒等情绪。许多这样的分析使用词典或复杂的机器学习算法。</p><p id="63fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">情绪分析对社交媒体监控特别有用，因为它通过提供定性的见解，超越了赞或转发的数量。</p><h2 id="d3f3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">如何分析推特数据:</strong></h2><p id="c003" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">对twitter数据执行情感分析包括以下步骤:</p><ol class=""><li id="f451" class="ko kp hi is b it iu ix iy jb kq jf kr jj ks jn kt ku kv kw bi translated">收集twitter数据:下载的Twitter数据代表我们试图发现的东西，这一点非常重要。因此，我们将提取推文进行分析。这种提取是在不同Twitter APIs的帮助下完成的。这里，我们将使用<em class="kx"> GetOldTweets3 </em>来提取数据。</li><li id="95c7" class="ko kp hi is b it ky ix kz jb la jf lb jj lc jn kt ku kv kw bi translated">清理收集的数据:提取的tweets可能包含不相关的标点符号，可能对分析没有帮助；需要在分析前清理干净。</li><li id="ef20" class="ko kp hi is b it ky ix kz jb la jf lb jj lc jn kt ku kv kw bi translated">分析数据:分析数据会让你更清楚地了解数据(推文)试图传达什么，也就是说，它将有助于理解推文背后的情绪。这种分析还可以确定人们对特定主题、问题或产品的看法。</li><li id="6f2f" class="ko kp hi is b it ky ix kz jb la jf lb jj lc jn kt ku kv kw bi translated">可视化分析:可视化有助于以简单有效的方式理解数据。</li></ol><h2 id="8574" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">让我们开始:</strong></h2><p id="d910" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">如上所述，我们将使用<em class="kx"> GetOldTweets3 </em>库来提取推文。</p><p id="3dc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kx">GetOldTweets 3:</em>GetOldTweets 3是原杰弗逊·恩里克<a class="ae ld" href="https://github.com/Jefferson-Henrique/GetOldTweets-python" rel="noopener ugc nofollow" target="_blank"> GetOldTweets-python </a>的改进分叉。它修复了已知的问题，并增加了一些功能，如计算转发次数，搜索多个用户的帐户等。GetOldTweets3只支持Python 3。<em class="kx"> GetOldTweets3 </em>让您可以使用各种搜索参数(如开始/结束日期、用户名、文本查询搜索和参考位置区域)自由地抓取数据。此外，您可以指定想要包含哪些tweet属性。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/ce2e051d71cdd23c8593b9c126ffc687.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K6zTZFvTM_hM3iwtg3QOnw.jpeg"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">例子</figcaption></figure><h2 id="3021" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">输出:</strong></h2><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/3b56720c47a32f01f6fb7876d3b69495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VIYbdXsXdyEsTsI4CZldOw.jpeg"/></div></div></figure><p id="7937" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了执行情感分析，我们将进行类似的查询搜索来提取推文。为了进行分析，我们将随机选取一个主题，比如说“拉胡尔·甘地”😉并且会尝试分析与他相关的推文。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/df51366a3a3bc0cdcda70926d1f560c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvmwrJ54F5Lsp4fOwOtyyg.jpeg"/></div></div></figure><h2 id="3be3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">阅读推文:</strong></h2><p id="835b" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">以下代码将有助于阅读下载的推文，也有助于清理推文。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/32560284fc31f08d9b39a278898814fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N4tLNosBuN1K_KSdHVdEyQ.jpeg"/></div></div></figure><h2 id="8476" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">输出:</h2><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/918ab684dce63442a5651326bd9f60fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vQxjJ8QSH_RNUGiLtvPXOA.jpeg"/></div></div></figure><p id="4e97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了简化我们的工作，我们可以使用NLTK(自然语言工具包)。NLTK旨在支持NLP或密切相关领域的研究和教学，包括经验语言学、认知科学、人工智能、信息检索和机器学习。NLTK已经被成功地用作教学工具、个人学习工具以及原型和构建研究系统的平台。NLTK支持分类、标记化、词干化、标记、解析和语义推理功能。</p><p id="e3b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，有两种方法可以解决这个问题:</p><p id="ab5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.使用NLTK</p><p id="4d15" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.不使用NLTK</p><p id="ed04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，我将以两种方式解释分析，即使用NLTK和不使用NLTK。</p><h2 id="2b1c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">无NLTK: </strong></h2><p id="2b40" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">停用词(Stop Word):停用词是一个常用词(如“the”、“A”、“an”、“in”)，搜索引擎在为搜索条目编制索引时以及在作为搜索查询的结果检索它们时都会将其忽略。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/099db36746ae3b0580dd8fd2770681df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ZtGEljpmO9GjK1zUUgdiQ.jpeg"/></div></div></figure><p id="6012" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这段代码将帮助我们从文本中删除停用词。这些用过的停用词都可以在网上找到。</p><h2 id="0a2c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">与NLTK: </strong></h2><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/7d5d3bc84a363263e1105b2a36018324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*xKg1LLH1_pKFHlPpgpUbHg.jpeg"/></div></figure><p id="1c8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与前面的代码不同，我们使用word_tokenize进行标记化。NLTK包支持多种语言。此外，这个软件包有不同语言的停用词。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/35e8ed80d0767772808d922f92454486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wsFjrxiKF9KepM-34p4i1g.jpeg"/></div></div></figure><p id="c8e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了分析推文的情绪，我们将使用emotion.txt文件。该文件包含推文中使用的每个词的预定义情绪。这里，我们检查final_word列表中的单词是否出现在emotion.txt中。</p><p id="bee2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">计数变量对分析中出现的情绪数量进行计数。这个计数变量将帮助我们可视化推文。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/3d0219dffe6b7eb7d567c824d62997a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jbLaWLNnWE7IdrYKLC1QQ.jpeg"/></div></div></figure><h2 id="539a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">可视化:</strong></h2><p id="666d" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">数据可视化是信息和数据的图形化表示。通过使用图表、图形和地图等视觉元素。这些可视化提供了一种便捷的方式来查看和理解与“RahulGandhi”相关的推文中的趋势和情绪模式。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/898483b0900463ee9ad865bd15ef8644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*Rt-EOjwxhvDvt7TTdOZwjA.jpeg"/></div></figure><h2 id="801e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">输出:</h2><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/6c17833e3becd0db4d739960fdff727a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*_kk4NfusfsDig4e1Zurrxw.jpeg"/></div></figure><p id="c1e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个条形图解释了与“RahulGandhi”相关的推文的情绪类型。从这个图表中，我们可以清楚地看到，大多数与其相关的推文要么是快乐的，要么是悲伤的，其次是恐惧的，被吸引的和无所畏惧的。(注意:这一分析可能会有所不同，因为它仅针对700条推文)</p><h2 id="1e39" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">极性:</strong></h2><p id="019b" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">情感分析中的极性是指识别情感取向(积极、中性和消极)。为了计算极性，我们将从<em class="kx">nltk . sensitivity . Vader .</em>导入<em class="kx">SentimentIntensityAnalyzer</em>，这将给出负极性、正极性、中性和复合极性的分数。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/a0199aba75a2f34182b01e5d040249a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vAndhn8-TSmGI3KEWsKEA.jpeg"/></div></div></figure><h2 id="990c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">输出:</h2><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/2543c2d213fdcf1c9aaa1a4d18e6c29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*DMakHpujco9fLronMY8FQw.jpeg"/></div></figure><p id="5d6c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从输出来看，很明显，对其进行分析的700条推文大多是正面的，因为正面得分大于负面得分。我们还可以使用“if-else”来自动生成结果。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es et"><img src="../Images/f9ba162728be89fc6fa6d2565efbadb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFTi8Cho0im_36P0ucMkGA.jpeg"/></div></div></figure><p id="db23" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">结论:</strong></p><p id="e94e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如今，情感分析或观点挖掘是机器学习中的一个热门话题。由于英语语言的复杂性，并且如果我们考虑诸如汉语、印地语、德语等其他语言，甚至更复杂，所以我们仍然很难非常准确地检测文本语料库的情感。</p><p id="46fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的<a class="ae ld" href="https://github.com/adityadhapola/SentimentAnalysisTwitter" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上有这个代码。</p></div></div>    
</body>
</html>