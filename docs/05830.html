<html>
<head>
<title>Animated Stepo in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤动中的动画舞步</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/animated-stepo-in-flutter-f53fa777ac0f?source=collection_archive---------23-----------------------#2020-05-03">https://medium.com/analytics-vidhya/animated-stepo-in-flutter-f53fa777ac0f?source=collection_archive---------23-----------------------#2020-05-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="17a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">说到<strong class="ih hj">用户体验</strong>，动画是必不可少的东西之一，它在增强用户体验方面发挥着重要作用，让你的应用程序更具交互性，让你的用户更乐于使用应用程序。</p><p id="080f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我正在探索运球的动画组件，在那里我发现了<a class="ae jd" href="https://dribbble.com/shots/5687260-Stepper-XXII" rel="noopener ugc nofollow" target="_blank">这个设计</a>，并发现它非常有趣和有用。所以，我想把这个步进器设计用在flutter中。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/c15403195aca952663eb02dc06693197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*51eHusPgB3ZblTNIMo6tWg.gif"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">【https://dribbble.com/shots/5687260-Stepper-XXII T4】</figcaption></figure><h1 id="7020" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">为什么我要用Flutter？</h1><p id="f2a1" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">由于我现在已经做了快一年的flutter开发者，我个人感觉flutter对动画有很大的支持。我们可以用更少的努力和时间取得比预期更多的成就。</p><p id="df54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你准备好了，让我们开始吧！</p><p id="4d20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">页（page的缩写）s:这篇文章认为你已经对Flutter小部件和工作环境有了基本的了解。</p><h1 id="2c1d" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">所需的组件和动画</h1><h2 id="460f" class="kt jr hi bd js ku kv kw jw kx ky kz ka iq la lb ke iu lc ld ki iy le lf km lg bi translated">背景缩放动画(按钮点击效果)</h2><p id="0cb8" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">为了制作按钮点击的动画效果，我使用了<a class="ae jd" href="https://api.flutter.dev/flutter/widgets/Transform-class.html" rel="noopener ugc nofollow" target="_blank"> Transform </a>小部件的scale属性在给定的持续时间内缩小和放大按钮的大小，如下所示:</p><p id="6441" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为缩放动画创建一个<a class="ae jd" href="https://api.flutter.dev/flutter/animation/AnimationController-class.html" rel="noopener ugc nofollow" target="_blank">动画控制器</a>和<a class="ae jd" href="https://api.flutter.dev/flutter/animation/Animation-class.html" rel="noopener ugc nofollow" target="_blank">动画</a>对象</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="766b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在用Transform小部件包装容器小部件，并使用<a class="ae jd" href="https://api.flutter.dev/flutter/widgets/Transform/Transform.scale.html" rel="noopener ugc nofollow" target="_blank"> scale </a>属性缩放小部件。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="adf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要开始播放动画，只需调用</p><pre class="jf jg jh ji fd lj lk ll lm aw ln bi"><span id="250f" class="kt jr hi lk b fi lo lp l lq lr">scaleAnimationController.forward();</span></pre><p id="b1ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们已经添加了</p><pre class="jf jg jh ji fd lj lk ll lm aw ln bi"><span id="73cb" class="kt jr hi lk b fi lo lp l lq lr">scaleAnimationController.reverse();</span></pre><p id="6020" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在动画的状态监听器，所以它会重新缩放部件回到原来的比例，从而给它一个有弹性的效果。</p><h2 id="5197" class="kt jr hi bd js ku kv kw jw kx ky kz ka iq la lb ke iu lc ld ki iy le lf km lg bi translated">移动文本(翻译动画)</h2><p id="cbb5" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">现在，我们将使用Transform小部件的翻译功能来移动容器中的文本，并制作偏移动画。</p><p id="fb2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个用于翻译动画的<a class="ae jd" href="https://api.flutter.dev/flutter/animation/AnimationController-class.html" rel="noopener ugc nofollow" target="_blank">动画控制器</a>和<a class="ae jd" href="https://api.flutter.dev/flutter/animation/Animation-class.html" rel="noopener ugc nofollow" target="_blank">动画</a>对象</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="33c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在将待翻译的文本小部件包装在<a class="ae jd" href="https://api.flutter.dev/flutter/widgets/Transform/Transform.translate.html" rel="noopener ugc nofollow" target="_blank"> Transform.translate </a>中，并使用offset属性:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="75f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将使文本从中心到右边的位置动画。现在要开始播放动画，只需调用:</p><pre class="jf jg jh ji fd lj lk ll lm aw ln bi"><span id="bb35" class="kt jr hi lk b fi lo lp l lq lr">textAnimationController.forward();</span></pre><p id="663b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了向相反方向移动文本，只需将结束值改为负值。因此，要使动画向负方向移动，您的文本动画应该是:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="f560" class="kt jr hi bd js ku kv kw jw kx ky kz ka iq la lb ke iu lc ld ki iy le lf km lg bi translated">移动文本(翻译动画)</h2><p id="e124" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">值得注意的是，图标的移动距离是文本的一半，因此对于图标动画，逻辑是相同的，但是唯一的区别是图标动画的结束值和持续时间分别是文本动画和文本动画持续时间的结束值的一半。</p><p id="6bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以图标的动画和控制器应该是:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="0388" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在<a class="ae jd" href="https://api.flutter.dev/flutter/widgets/Transform/Transform.translate.html" rel="noopener ugc nofollow" target="_blank"> Transform.translate </a>中包装要翻译的文本小部件，并使用offset属性:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><h1 id="706c" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">同步所有动画</h1><p id="40b9" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">既然现在我们已经准备好了所有的部件，它们只是被添加到堆栈中，然后点击按钮，动画应该在一个给定的系列中工作，以实现我们的目标。我创造了一种神奇的方法，即<strong class="ih hj"> handleOnTap </strong>:</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="9fdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了实现这个目标，我们需要在右侧和左侧都实现它。右边是递增计数器，左边是递减计数器。</p><h1 id="5ccd" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ls"><img src="../Images/84e30e1a6d110ce3bbee2d0f21eb9a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*ZLDWsPG3Z_97t_6pQoI6lg.gif"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated"><a class="ae jd" href="https://github.com/hd-motion/flutter_stepo" rel="noopener ugc nofollow" target="_blank">来自flutter_stepo的演示gif</a></figcaption></figure><p id="9f35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加油..！，我们通过仔细观察动画和应用flutter的一些动画属性，成功地将上述设计转换为代码。</p><p id="6d3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用Stepo作为定制的小部件，您可以从pub:</p><div class="lt lu ez fb lv lw"><a href="https://pub.dev/packages/stepo" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">stepo |颤振套件</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">一个高度可定制的动画单位步进飞镖SDK版本&gt; = 2.1.0添加包依赖…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">公共开发</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk jk lw"/></div></div></a></div><h2 id="efe7" class="kt jr hi bd js ku kv kw jw kx ky kz ka iq la lb ke iu lc ld ki iy le lf km lg bi translated">或者</h2><p id="bbc0" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">您可以在Github上查看该项目的完整源代码:</p><div class="lt lu ez fb lv lw"><a href="https://github.com/hd-motion/flutter_stepo" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">高清运动/颤动_步进</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">一个高度可定制的动画单位步进飞镖SDK版本&gt; = 2.1.0添加包导入…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">github.com</p></div></div><div class="mf l"><div class="ml l mh mi mj mf mk jk lw"/></div></div></a></div></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><p id="148b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您阅读这篇文章。随时欢迎反馈。如果你喜欢它，请点击拍手按钮，并分享这篇文章。</p><p id="7ae0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以在<a class="ae jd" href="https://github.com/harpreetseera" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae jd" href="https://www.linkedin.com/in/harpreetseera/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>&amp;<a class="ae jd" href="https://twitter.com/Harpreet_Seera" rel="noopener ugc nofollow" target="_blank">Twitter</a>上和我联系。</p><p id="eff8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢<a class="ae jd" href="https://github.com/damanpreetsb" rel="noopener ugc nofollow" target="_blank"> Damanpreet Singh </a>的帮助和支持。</p></div></div>    
</body>
</html>