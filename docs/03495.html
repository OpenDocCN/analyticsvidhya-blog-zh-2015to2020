<html>
<head>
<title>Basic, Arithmetic and Bitwise Operations on images with OPEN-CV — PART-4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OPEN-CV对图像进行基本运算、算术运算和位运算—第4部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/basic-arithmetic-and-bitwise-operations-on-images-with-open-cv-part-4-87d04e2a42c?source=collection_archive---------11-----------------------#2020-02-04">https://medium.com/analytics-vidhya/basic-arithmetic-and-bitwise-operations-on-images-with-open-cv-part-4-87d04e2a42c?source=collection_archive---------11-----------------------#2020-02-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a8e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="jd je ge" href="https://medium.com/u/67d9cdce33af?source=post_page-----87d04e2a42c--------------------------------" rel="noopener" target="_blank">克里斯·盖奇</a> <a class="jd je ge" href="https://medium.com/u/c74166e439e0?source=post_page-----87d04e2a42c--------------------------------" rel="noopener" target="_blank">毕达哥拉斯</a> <a class="jd je ge" href="https://medium.com/u/b96707e2650f?source=post_page-----87d04e2a42c--------------------------------" rel="noopener" target="_blank"> Opencv Funs </a></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/3bf4bb79ec0c692fcd4f5247c7cb157c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzle4q3bjs63K7JFIabh3w.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">打开CV第4部分</figcaption></figure><p id="57cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第3部分，点击<a class="ae jv" rel="noopener" href="/@vishwasu2001/handling-mouse-events-in-open-cv-part-3-3dfdd59ab2f6">此处</a>。</p><p id="40f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个博客中，我们将了解一些算术和位运算。所以让我们开始—</p><p id="0a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将看到如何在打开的简历中添加两张图片</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="8a76" class="kb kc hi jx b fi kd ke l kf kg">img1=cv2.imread(<strong class="jx hj">'input_dog.jpg'</strong>)<br/>img2=cv2.imread(<strong class="jx hj">'nature.jpg'</strong>)</span></pre><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kh"><img src="../Images/623467c2ee17b329c20b9bbeb0509ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXKGVwpOQVDStJit7C-txw.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">nature.jpg和input_dog.jpg</figcaption></figure><p id="00b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，我们用<strong class="ih hj"> cv2.imread() </strong>方法读取图像。</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="b8c8" class="kb kc hi jx b fi kd ke l kf kg">img1=cv2.resize(img1,(512,512))<br/>img2=cv2.resize(img2,(512,512))</span></pre><p id="9b11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们调整图像的大小(用<strong class="ih hj"> cv2.resize() </strong>第一个参数是你要调整大小的图像，第二个参数是大小),因为在open cv中你只能添加两个相似大小的图像。</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="1de9" class="kb kc hi jx b fi kd ke l kf kg">dst=cv2.add(img1,img2)<br/>cv2.imshow(<strong class="jx hj">'dest'</strong>,dst)</span></pre><p id="9121" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们用<strong class="ih hj"> cv2.add()添加图像。</strong></p><p id="8c47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加后的结果图像是-</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ki"><img src="../Images/ffefb1cf6d2975f7d8968e77db5c643d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*tN083xJbaDxZQmhErUrywg.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">输出图像</figcaption></figure><p id="6273" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也可以通过<strong class="ih hj"> cv2.addWeighted() </strong>给每张图片增加一些权重，比如你想显示第一张图片多于第二张图片。参见下面的代码—</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="3646" class="kb kc hi jx b fi kd ke l kf kg">dst1=cv2.addWeighted(img1,0.5,img2,0.5,0)</span></pre><p id="9082" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码背后的公式是—</p><blockquote class="kj kk kl"><p id="60f2" class="if ig km ih b ii ij ik il im in io ip kn ir is it ko iv iw ix kp iz ja jb jc hb bi translated">dst 1 = img 1 * 0.5+img 2 * 0.5+c<br/>dst 1 =结果图像<br/> img1 * 0.5 = img1 * img1权重<br/> img2 * 0.5 = img2 * img2权重</p></blockquote><p id="5103" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，参数是第一图像、第一图像权重、第二图像、第二图像权重和标量权重(c)。</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="bc58" class="kb kc hi jx b fi kd ke l kf kg">cv2.imshow(<strong class="jx hj">'dest1'</strong>,dst1)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><p id="feb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你知道这个代码，我在前面的部分已经解释过了。</p><p id="484a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加权图像的结果是—</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ki"><img src="../Images/e16e1b98ab8acd9c1b7434893c730aad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*W5WOmLHurYpwArRAUw3rEg.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">加权图像</figcaption></figure><p id="8243" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，现在看看一些位运算—</p><p id="ece0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这些操作，我们将在numpy的帮助下制作一些图像。</p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="f36d" class="kb kc hi jx b fi kd ke l kf kg">img1=np.zeros((250,500,3),np.uint8)<br/>img1=cv2.rectangle(img1,(200,0),(300,100),(255,255,255),-1)<br/>img2=np.zeros((250,500,3),np.uint8)<br/>img2=cv2.rectangle(img2,(250,0),(500,500),(255,255,255),-1)</span></pre><p id="22a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，我们正在制作img1 numpy零数组，这意味着这将生成黑色图像，然后我们在图像上制作白色矩形，我不会解释关于<strong class="ih hj"> cv2.rectangle() </strong>的内容，因为在前面的部分中我已经做过了。就像这样，我们制作了两张看起来像这样的图片—</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kq"><img src="../Images/c1734d401a3c566b8a35e393e7748504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOOMoPwoeK2gqCa0peEKVA.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">形象</figcaption></figure><p id="52e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们将对这两幅图像执行所有的位运算。</p><ol class=""><li id="9098" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">我们将在这里看到<strong class="ih hj">和操作员</strong></li></ol><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="1b3d" class="kb kc hi jx b fi kd ke l kf kg">des=cv2.bitwise_and(img1,img2)<br/>cv2.imshow(<strong class="jx hj">'img1'</strong>,img1)<br/>cv2.imshow(<strong class="jx hj">'img2'</strong>,img2)<br/>cv2.imshow(<strong class="jx hj">'des'</strong>,des)</span></pre><p id="05e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> cv2.bitwise_and() </strong>方法的工作方式类似于逻辑运算符and。你自己把img1，img2，des图像和这个和真值表匹配一下就可以理解了— <br/>这里0是黑，1是白—</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es la"><img src="../Images/8886f9048433c4b0142fb8c291c23c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AEZdy5iAVSts9OK-.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">经营者</figcaption></figure><p id="020a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出(des图像)是—</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lb"><img src="../Images/22b6d693da3ca33b5b1f305716a0da1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*rsGxfWWx_VlVMoUWpVoTSA.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">des图像(按位AND的结果)</figcaption></figure><p id="79cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj"> OR运算符— </strong></p><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="91e8" class="kb kc hi jx b fi kd ke l kf kg">bitwise_or=cv2.bitwise_or(img1,img2)<br/><br/>cv2.imshow(<strong class="jx hj">'</strong>bitwise_or<strong class="jx hj">'</strong>,bitwise_or)</span></pre><p id="b7fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请运行代码，并尝试理解与图像和上述或真值表。因此，当两个图像中的哪个区域是黑色时，它将与黑色相同(参见真值表，其中0+0=0)。这是所有运营商背后的理念。所以从现在起，我将只向您展示一个包含所有操作符的代码。<br/>OR运算符结果在此——</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lc"><img src="../Images/7ef9c3a7de14de2eef890ff692225e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*aNS-1l0F2s1059TqmqYLeA.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">或操作员结果图像</figcaption></figure><pre class="jg jh ji jj fd jw jx jy jz aw ka bi"><span id="c0ed" class="kb kc hi jx b fi kd ke l kf kg">bitwise_xor=cv2.bitwise_xor(img1,img2)<br/>bitwise_not=cv2.bitwise_not(img1,img2)<br/><br/>cv2.imshow(<strong class="jx hj">'bitwise_xor'</strong>,bitwise_xor)<br/>cv2.imshow(<strong class="jx hj">'bitwise_not'</strong>,bitwise_not)</span></pre><p id="e791" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上代码用于异或和非运算。</p><p id="977b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个博客到此为止。</p><p id="8a6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你喜欢它。</p><p id="8ed6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你。</p></div></div>    
</body>
</html>