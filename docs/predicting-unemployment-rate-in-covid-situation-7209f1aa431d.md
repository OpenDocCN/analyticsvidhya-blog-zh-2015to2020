# COVID 情形下的失业率预测

> 原文：<https://medium.com/analytics-vidhya/predicting-unemployment-rate-in-covid-situation-7209f1aa431d?source=collection_archive---------17----------------------->

新冠肺炎疫情让全球数百万人失业。

*这项研究是通过使用机器学习来预测未来一年的失业率。它利用了欧洲联盟开放数据门户网站上发布的开放源数据集。*

# 探索性数据分析

![](img/5001cc0b4450d7257eb7b951f7bdc4e4.png)

来自欧盟开放数据门户的原始数据

原始数据集包含来自不同国家的 2000 多条记录。然而，数据中有包含多个合并信息的列，所以首先我需要从复合特征中提取单独的特征。因此，需要一些数据格式化。

我从数据集中取出第一列，并根据逗号(，)将其拆分，然后将处理过的列合并到原始数据集中。

![](img/20a166e971b44f2a6fccf49d10920e6e.png)![](img/2e9a6134fe6c492212570ccc85a73776.png)

在这个实验中，我专注于每个国家过去 10 年的数据。因此，我手动选择了如下所示的列。

![](img/1fb95f149f3eb84918eb0a0fd0c8b737.png)

在 dataframe 中，可以看到我们有一个名为 *geo_time* (后来重命名为 *Country_code* )的列，有不同的国家代码。

因此，我花了一点额外的精力来收集所有国家代码的列表以及它们各自的国名。

然后这个列表以熊猫数据帧的形式被获取。

![](img/72ddae64677c521aee81682c77182d22.png)

国家代码和国家名称

我后来将这个数据帧与原始数据帧合并。

![](img/de1076bb12fb7ce42cd5bc7abd2b07cd.png)

# 可视化数据

对于逐月可视化，有必要将数据框架转换为枢纽数据集(转置)，以便生成时间序列数据。

![](img/3896bb8f02b5dcbcf7a208965c46144d.png)

通过删除包含空格和非数值的值，对数据帧做了进一步的清理。

![](img/ca92f9ffee364bc5d6817e1a08fc36bb.png)

因此，我将日期列拆分为年和月，然后按年分组以获得总失业人数。

![](img/5c208351d89afdc2849cfe7499aed854.png)![](img/128c0574101ad4eec579dde2943e5ec9.png)![](img/2b03bd55037512f7808ad18d0c76004e.png)

从上图可以明显看出，美国在去年进行了大量的裁员，其次是土耳其。

西班牙在 2013 年经历了最严重的衰退，此后，它在各公司大力发展劳动力。

因为我在这个实验中的主要目的是关注 COVID 的情况，所以我决定只获取 2019-2020 年期间的见解。

因此，我对 Year 列应用了值为 *2019* 和 *2020* 的过滤器，之后我得到了下图。

![](img/19a44b5ba7ade2fddbf7f367e21a7717.png)

2019-2020 年的失业率

今年 4 月，美国公司进行了大规模裁员，之后这种趋势在该国开始减少。

## **按年龄组**

![](img/009fff09d27a3ff44a92d97a1eb26907.png)

在被解雇的人中，受影响最大的年龄组是 25-74 岁。

## 可视化最近十年的数据

![](img/5d2512e11e5cbe6ed5d7a85fcdbd0c49.png)![](img/ab2a8643da34bde36df9b6330696f750.png)

过去十年的失业率

上面突出显示的图表中的突然峰值是在 COVID 情况下出现的。

我需要上面的数据来建立一个有效的模型。

# 数据建模

我想对一个特定的国家进行预测。所以，我随便选了一个(就说西班牙吧)。

![](img/640abff4bdcda93cbcffd1f55691c3ea.png)

过去 10 年西班牙的失业趋势

上述数据显然是非平稳数据。因此，我进行了 ***增强迪基富勒测试*** 来通过 p 值检查平稳性。

![](img/3c03566a2468050bb0629ae14d6e717c.png)![](img/ad3e513d2adeb6ae79cc0c1c894b0c95.png)

根据上图，当前 p 值大于 0.05。

因此，我必须通过对时间序列取对数，然后求差分，将数据转换成平稳数据。*供参考，可以访问我的* [*其他文章*](/analytics-vidhya/time-series-modelling-arima-82453bac7de) *关于利用 ARIMA 模型进行时间序列分析。*

![](img/58c1198c24b8d0e7dc999d4d07bdd23e.png)

重复进行该过程，直到 p 值低于 0.05

![](img/5339f80707d2f7659af986abd3d7bd46.png)

我想让建模部分尽可能简单。因此，我决定选择 ARIMA 模型来模拟我的时间序列数据。

现在，对于 ARIMA 模型，我们需要 p 和 q 值，这是通过使用 PACF(部分自相关)和 ACF(自相关)图确定的。

![](img/7a6b5e3e7977f32c32cea87c31fd3e40.png)![](img/a1f8f8d7715862c98b7014b9334777fb.png)

## 培训 ARIMA 模型

![](img/2d5699c11974fa64c61201ba47b8f1e1.png)

我做了残差的核密度估计(KDE)图，它几乎是正态分布，因此表明我的预测是可信的。

![](img/c3375fe853909e7c3b769166b0dbd64c.png)![](img/893f55ed072827532b263bf6e43bc7bd.png)![](img/007f9e3b06c175c2c92882b75635bda3.png)

## 评估均方误差

![](img/48b981eed6b041bc563babbe708579ff.png)

# 预测未来失业人数

我们现在希望看到或预测西班牙未来两年的失业人数，即从 2020 年 9 月到 2022 年 6 月。

![](img/4a04a6fe2155c07f9b51077a8bcee7a9.png)![](img/635b405a6c95446e2cab54a0534985de.png)

上面的图表告诉我们，西班牙未来两年的失业率几乎是稳定的，只是略有上升。

希望你喜欢这篇文章。如果你有什么意见和建议，请随时写下来。