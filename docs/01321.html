<html>
<head>
<title>Automate your conference badges generation for all attendees</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为所有与会者自动生成会议徽章</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automate-your-conference-badges-generation-for-all-attendees-c075e83e380?source=collection_archive---------17-----------------------#2019-10-14">https://medium.com/analytics-vidhya/automate-your-conference-badges-generation-for-all-attendees-c075e83e380?source=collection_archive---------17-----------------------#2019-10-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/52f241c56fff3a342603ed8a0974d921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fhsk8z_C2-IOx6adaqS6A.png"/></div></div></figure><p id="539e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一个<strong class="is hj">开发者会议团队</strong>的成员，我在网上搜索一个<strong class="is hj">简单的</strong>和<strong class="is hj">开源的</strong>解决方案来<strong class="is hj">生成会议徽章</strong>却没有任何成功。我找到了一些商业解决方案，但就活动的成熟度而言，成本太高了。</p><p id="5edb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我决定创建一个简单的方法来从一个模板和一个与会者列表中自动生成所有的会议徽章。我还希望与会者能够在徽章上闪烁二维码，并保留持有者的详细信息作为电话联系。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/677441905c1ff47954dc124262e8eecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*lKvzxmtgVwCdg2XyrbJuMQ.png"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="0ef5" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">构建解决方案</h1><p id="214e" class="pw-post-body-paragraph iq ir hi is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hb bi translated">我选择<strong class="is hj"> bash脚本</strong>来编写应用程序。</p><h2 id="4c78" class="ld kb hi bd kc le lf lg kg lh li lj kk jb lk ll ko jf lm ln ks jj lo lp kw lq bi translated">步骤1 —阅读与会者名单</h2><p id="3dc3" class="pw-post-body-paragraph iq ir hi is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hb bi translated">我选择<strong class="is hj"> csv </strong>作为阅读与会者名单的格式。这是一个你可以很容易从事件管理系统得到的输出，比如<a class="ae lr" href="https://www.eventbrite.com/" rel="noopener ugc nofollow" target="_blank"> Eventbrite </a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/5d39f63e79ccb811c788952f88474550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AII_RWpZ_9aQSNxDbmHYYQ.jpeg"/></div></div></figure><pre class="jp jq jr js fd lt lu lv lw aw lx bi"><span id="4462" class="ld kb hi lu b fi ly lz l ma mb">while IFS=";" read f1 f2 f3 f4 f5 f6 f7 f8<br/>do<br/><br/>...<br/>done &lt; $CSV_FILENAME</span></pre><h2 id="37d6" class="ld kb hi bd kc le lf lg kg lh li lj kk jb lk ll ko jf lm ln ks jj lo lp kw lq bi translated">步骤2-描述徽章格式</h2><pre class="jp jq jr js fd lt lu lv lw aw lx bi"><span id="7416" class="ld kb hi lu b fi ly lz l ma mb">CSV_FILENAME="data.csv"<br/>BADGE_TEMPLATE_FILENAME="badge_template.jpg"<br/><br/>QRCODE_OFFSET_X_Y=-300+670 #FORMAT: +XXX-YYY<br/>QRCODE_SIZE="250x250"       #FORMAT: 800x800<br/><br/>TEXT1_OFFSET_X_Y=+00-100<br/>TEXT1_FONT_FILENAME="fonts/StagSans-Medium.otf"<br/><br/>TEXT2_OFFSET_X_Y=+00+50<br/>TEXT2_FONT_FILENAME="fonts/StagSans-Medium.otf"<br/><br/>TEXT3_OFFSET_X_Y=+00+200<br/>TEXT3_FONT_FILENAME="fonts/StagSans-Light.otf"<br/><br/>TEXT4_OFFSET_X_Y=+00+350<br/>TEXT4_FONT_FILENAME="fonts/StagSans-Light.otf"<br/><br/>TEXT_SIZE=130<br/>TEXT_COLOR="black"</span></pre><h2 id="535e" class="ld kb hi bd kc le lf lg kg lh li lj kk jb lk ll ko jf lm ln ks jj lo lp kw lq bi translated">第3步—生成二维码</h2><p id="8d53" class="pw-post-body-paragraph iq ir hi is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hb bi translated">我使用<a class="ae lr" href="https://chart.googleapis.com/chart" rel="noopener ugc nofollow" target="_blank"> Google Chart API </a>使用<strong class="is hj"> VCard格式</strong>的数据来正确触发<strong class="is hj"> iOS </strong>和<strong class="is hj"> Android </strong>上的二维码</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/fd9f8e29ec6d4ef0a1abd4f7261d245e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ig2FX9gGFrFxb5iuN98cMw.jpeg"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><pre class="jp jq jr js fd lt lu lv lw aw lx bi"><span id="0c72" class="ld kb hi lu b fi ly lz l ma mb">url="https://chart.googleapis.com/chart?chld=L|0&amp;chs=255x255&amp;cht=qr&amp;chl=BEGIN%3AVCARD%0AN%3A${f7}%20${f8}%0ATEL%3A${f5}%0AEMAIL%3A${f6}%0AEND%3AVCARD"<br/>wget -O out/temp_qrcode.png $url</span></pre><h2 id="eb45" class="ld kb hi bd kc le lf lg kg lh li lj kk jb lk ll ko jf lm ln ks jj lo lp kw lq bi translated">步骤4 —在工卡上插入文本数据</h2><p id="39ff" class="pw-post-body-paragraph iq ir hi is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hb bi translated">首先，我创建我的徽章模板，如下所示:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es md"><img src="../Images/c2f26fe52b16e55acad232947a08a031.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*_x3HP5qN1Lqgo7eyoGl7XA.jpeg"/></div></figure><p id="c0ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了插入<strong class="is hj">文本</strong>和<strong class="is hj">图像</strong>如名称、标志……我使用了<a class="ae lr" href="https://imagemagick.org/" rel="noopener ugc nofollow" target="_blank"> imagemagick </a>，一个命令行工具来创建、编辑、合成或转换位图图像。</p><pre class="jp jq jr js fd lt lu lv lw aw lx bi"><span id="fc30" class="ld kb hi lu b fi ly lz l ma mb">convert -resize $QRCODE_SIZE out/temp_qrcode.png out/temp_qrcode.png<br/>composite -gravity center  -quality 100 -geometry $QRCODE_OFFSET_X_Y out/temp_qrcode.png $BADGE_TEMPLATE_FILENAME out/result.png<br/><br/># insert the firsname of a participant<br/>convert -font $TEXT1_FONT_FILENAME -fill $TEXT_COLOR -pointsize $TEXT_SIZE -gravity center  -quality 100  -draw "text $TEXT1_OFFSET_X_Y '${f1}'" out/result.png out/result_withtext1_${counter}.png<br/># insert the lastname of a participant<br/>convert -font $TEXT2_FONT_FILENAME -fill $TEXT_COLOR -pointsize $TEXT_SIZE -gravity center  -quality 100  -draw "text $TEXT2_OFFSET_X_Y '${f2}'" out/result_withtext1_${counter}.png out/result_withtext2_${counter}.png<br/># insert the company of a participant<br/>convert -font $TEXT3_FONT_FILENAME -fill $TEXT_COLOR -pointsize $TEXT_SIZE -gravity center  -quality 100  -draw "text $TEXT3_OFFSET_X_Y '${f3}'" out/result_withtext2_${counter}.png out/result_withtext3_${counter}.png<br/># insert the country of a participant<br/>convert -font $TEXT4_FONT_FILENAME -fill $TEXT_COLOR -pointsize $TEXT_SIZE -gravity center  -quality 100  -draw "text $TEXT4_OFFSET_X_Y '${f4}'" out/result_withtext3_${counter}.png out/result_withtext4_${counter}.png</span></pre><h1 id="2b5d" class="ka kb hi bd kc kd me kf kg kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx bi translated">使用</h1><ol class=""><li id="55cd" class="mj mk hi is b it ky ix kz jb ml jf mm jj mn jn mo mp mq mr bi translated">在脚本sh文件上定义所有<strong class="is hj">变量</strong>，为文本字体、徽章图像模板、csv数据提供路径。</li><li id="fc83" class="mj mk hi is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr bi translated">然后，您可以<strong class="is hj">调用</strong>脚本，如下所示:</li></ol><pre class="jp jq jr js fd lt lu lv lw aw lx bi"><span id="bfb4" class="ld kb hi lu b fi ly lz l ma mb">user:/home/user$./badge_generator.sh<br/>--2019-07-26 17:34:11--  https://chart.googleapis.com/chart?chld=L%7C0&amp;chs=255x255&amp;cht=qr&amp;chl=BEGIN%3AVCARD%0AN%3Alorem1%20Ipsum%0D%0ATEL%3A%2B436763964598%0AEMAIL%3Alorem1@ipsum.com%0AEND%3AVCARD<br/>Length: 1641 (1.6K) [image/png]<br/>Saving to: ‘out/temp_qrcode.png’<br/>out/temp_qrcode.png           100%[=================================================&gt;]   1.60K  --.-KB/s    in 0s<br/>2019-07-26 17:34:11 (6.28 MB/s) - ‘out/temp_qrcode.png’ saved [1641/1641]<br/><br/>--2019-07-26 17:34:20--  https://chart.googleapis.com/chart?chld=L%7C0&amp;chs=255x255&amp;cht=qr&amp;chl=BEGIN%3AVCARD%0AN%3Alorem1%20Ipsum%0D%0ATEL%3A%2B436763964598%0AEMAIL%3Alorem1@ipsum.com%0AEND%3AVCARD<br/>Length: 1641 (1.6K) [image/png]<br/>Saving to: ‘out/temp_qrcode.png’<br/>out/temp_qrcode.png           100%[=================================================&gt;]   1.60K  --.-KB/s    in 0s<br/><br/>2019-07-26 17:34:20 (6.21 MB/s) - ‘out/temp_qrcode.png’ saved [1641/1641]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mx"><img src="../Images/56e0c45d8202f5084a4179685fe22748.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*yGDwPrppu-JkSeLeB0zUwg.jpeg"/></div></figure><p id="ea79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">检查<code class="du my mz na lu b">out</code>文件夹… tadaa！您的所有徽章都已生成！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nb"><img src="../Images/94351b6265f514217ecd39df7eff370b.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*7Usz7NyemAwfcFqxpui9Cg.jpeg"/></div></figure><h1 id="ea44" class="ka kb hi bd kc kd me kf kg kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx bi translated">丰富</h1><ul class=""><li id="8dfc" class="mj mk hi is b it ky ix kz jb ml jf mm jj mn jn nc mp mq mr bi translated">更好的命令行管理:<strong class="is hj">参数</strong>代替变量</li><li id="b286" class="mj mk hi is b it ms ix mt jb mu jf mv jj mw jn nc mp mq mr bi translated">脚本表演:30分钟，700人参加。或许一个本地二维码生成系统可以做到这一点？</li><li id="4e51" class="mj mk hi is b it ms ix mt jb mu jf mv jj mw jn nc mp mq mr bi translated">特殊字符支持:现在你需要VCard直接对CSV文件中的特殊字符进行HTML编码</li><li id="81fb" class="mj mk hi is b it ms ix mt jb mu jf mv jj mw jn nc mp mq mr bi translated">开发一个web应用程序:能够<strong class="is hj">在云上使用它</strong>有更好的UX</li></ul><h1 id="2683" class="ka kb hi bd kc kd me kf kg kh mf kj kk kl mg kn ko kp mh kr ks kt mi kv kw kx bi translated">今天就到这里吧！</h1><p id="7153" class="pw-post-body-paragraph iq ir hi is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hb bi translated">项目可以<strong class="is hj">分叉</strong>与最终脚本<a class="ae lr" href="https://gitlab.com/gharbi.tech-articles/2019-04-10-conference-badges-automation" rel="noopener ugc nofollow" target="_blank">在这里</a></p><p id="4938" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lr" href="https://twitter.com/__brah" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="nd">@ _ _布拉</em> </strong> </a></p></div></div>    
</body>
</html>