<html>
<head>
<title>How To Encode Your Categorical Features</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编码你的分类特征</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/encoding-categorical-variables-as-dummy-variables-279c7d6c2e8f?source=collection_archive---------1-----------------------#2019-03-31">https://medium.com/analytics-vidhya/encoding-categorical-variables-as-dummy-variables-279c7d6c2e8f?source=collection_archive---------1-----------------------#2019-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d4c77b2ee3f2f0a5089aad1ae8bd9c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DduGcQP_SRrOml3wNyeS2A.jpeg"/></div></div></figure><p id="4a65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一篇关于将分类变量编码为虚拟变量的动机和最佳实践的短文。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="a67a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设你有一个分类变量，比如眼睛的颜色。该值的范围为1-4，其中1代表棕色，2代表绿色，3代表蓝色，4代表灰色。数值2并不意味着绿色比棕色重要两倍，但计算机会简单地将这些类别作为数值读取。因此，当我们把这样的分类变量传递到我们的分析中时，它可能会以一种错误的方式给不同的颜色赋予错误的重要性。这就是伪编码的用武之地。下面的笔记本简单介绍了如何使用这个名字很神奇的<em class="jv"> get_dummies </em>函数。</p><figure class="jw jx jy jz fd ij"><div class="bz dy l di"><div class="ka kb l"/></div></figure><p id="9202" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jv"> drop_first </em>删除第一个分类变量列。我们为什么要这样做？原因有两个。首先，您可以使用<em class="jv"> n-1 </em>虚拟特征<em class="jv">来表示<em class="jv"> n </em>个特征。</em>考虑上述示例，如果<em class="jv"> eye_color_2 </em>、<em class="jv"> eye_color_3 </em>和<em class="jv"> eye_color_4 </em>都为0，则这自动意味着<em class="jv"> eye_color_1 </em>为1。因此，我们实际上并不需要其中的一列。</p><p id="7dac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这不仅仅是为了让你的数据集变得整洁或者更小。我们总想这样做的第二个原因是为了避免<a class="ae kc" href="https://www.algosome.com/articles/dummy-variable-trap-regression.html" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"/></a><strong class="is hj">的哑变量陷阱。</strong>虚拟变量陷阱是一个数据科学家可能会发现自己陷入的陷阱，现在他们的回归模型突然对他们的数据集不起作用了。这是因为列之间存在多重共线性。这在回归模型中是非常不理想的。</p><p id="7810" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我编写了一个简洁的函数if，它将转换list <em class="jv">列中的所有分类特性，</em>将这些列追加到数据集，最后删除原始分类列。</p><figure class="jw jx jy jz fd ij"><div class="bz dy l di"><div class="ka kb l"/></div></figure><p id="d97f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在下面看到它的运行情况:</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/d79dd5af7e5ca15a019add4c1bab472e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-X_NbwewMkP2m07z3Egrw.png"/></div></div></figure><h1 id="b4c7" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">结论</h1><p id="e410" class="pw-post-body-paragraph iq ir hi is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hb bi translated">如果希望模型正常工作，请在使用get_dummies时始终启用drop_first选项。</p></div></div>    
</body>
</html>