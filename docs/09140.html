<html>
<head>
<title>Using Location Statistics to map AFL player roles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用位置统计来映射AFL玩家角色</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-location-statistics-to-identify-afl-player-positions-cf6d50572c96?source=collection_archive---------18-----------------------#2020-08-26">https://medium.com/analytics-vidhya/using-location-statistics-to-identify-afl-player-positions-cf6d50572c96?source=collection_archive---------18-----------------------#2020-08-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a37e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">沃利在哪里…讲述玩家角色故事的统计数据</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/1b585ec80cd058ccbf8825535a21931b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UWtEPiAwEWxeuCyaQUHIpw.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://www.flickr.com/photos/40201951@N00/5826998830" rel="noopener ugc nofollow" target="_blank"><a class="ae jn" href="https://www.flickr.com/photos/40201951@N00" rel="noopener ugc nofollow" target="_blank">NatalieTracy</a>创作的</a>获得<a class="ae jn" href="https://creativecommons.org/licenses/by-sa/2.0/?ref=ccsearch&amp;atype=rich" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 2.0 </a>授权</figcaption></figure><p id="b135" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">先前研究的一个偶然发现是，在缺少视频镜头和/或球动作的实际x-y坐标的情况下，一些球员统计数据包含足够的信息来定义球员位置。</p><div class="kk kl ez fb km kn"><a rel="noopener follow" target="_blank" href="/analytics-vidhya/classifying-afl-team-stats-cd163f3c42e8"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">分类AFL球队统计</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">使用聚类分析识别AFL团队统计中有意义的结构</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">medium.com</p></div></div><div class="kw l"><div class="kx l ky kz la kw lb jh kn"/></div></div></a></div><p id="7daf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们的起点是下面的图表，它显示了按球员位置分组的每个变量的相对频率。左边的图表是一个痛苦的手动排序统计数据的过程——它确实清楚地显示了场上的平均位置——防守50，中场50，前锋50——这反过来又很好地对应了球员的位置。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/462b373916a524e0c9a0264bc9a6284f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sl1LoloFhGA5zznCApAdZg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">按位置信息统计细分玩家位置:手动过程与PCA</figcaption></figure><p id="4ac2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">右边的主成分图更好地说明了我们的理论，位置信息统计是区分玩家位置的可行方法。穿过颜色簇的轴可以解释为场上的不同位置，即红色=防守50，米色=前锋50，蓝色=中场。</p><p id="6575" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在接下来的分析中，我们使用位置统计数据作为场上相对位置的代理，通过稳健的机器学习算法来反解整个赛季的球员位置。</p><p id="58fa" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">玩家的角色是不固定的，虽然他们可能会扮演一个主导角色，但也有玩家可能会转移到另一个领域，在短时间内扮演另一个角色。我们将使用我们的数据子集来确定角色的类型，而不是比较该角色中玩家表现的质量。这样做可以让我们识别AFL幻想球员位置标签和实际球员动作之间的不匹配——希望在球员选择方面获得优势。</p><p id="9f59" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">作为这一分析的一部分，我们开发了一个简单的应用程序，允许用户探索每个玩家的模型结果(在“玩家”标签中)。</p><h2 id="ac97" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated">数据质量</h2><p id="db7b" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">对于本文，我们使用Footywire的<a class="ae jn" href="https://www.footywire.com/afl/footy/dream_team_round?year=2019&amp;round=1&amp;p=MI&amp;s=S" rel="noopener ugc nofollow" target="_blank"> AFL fantasy </a>或梦之队(DT)比赛所定义的球员位置作为事实的来源。难就难在这里:<strong class="jq hj">他们只在赛季末绝对正确</strong>。为什么？</p><ul class=""><li id="0c33" class="md me hi jq b jr js ju jv jx mf kb mg kf mh kj mi mj mk ml bi translated">在DT中，有四个关键位置——后卫、前锋、中场和前锋。大多数玩家只属于这些类别中的一种。</li><li id="f9f1" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">大约15%的玩家是双位玩家，这意味着他们被指定了多个角色。这个称号是由<a class="ae jn" href="https://www.championdata.com/home" rel="noopener ugc nofollow" target="_blank">冠军数据</a>决定的——我们的理解是它使用了最近50场比赛的球员统计数据。双位置球员在每个赛季开始时公布，之后每6场比赛公布一次。</li><li id="19d1" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">对来自<a class="ae jn" href="https://www.footywire.com/afl/footy/dream_team_breakevens" rel="noopener ugc nofollow" target="_blank"> Footywire </a>的数据的初步分析没有反映出在单个赛季s中任何球员从单个位置升级到双个位置——这意味着该赛季最后一场比赛的位置被追溯应用到该赛季所有过去的比赛——因此，为了查看这些变化，我们需要依靠<a class="ae jn" href="https://dreamteamtalk.com/2019/10/04/lachie-whitfield-to-be-a-mid-fwd-and-other-2020-afl-fantasy-player-positions/" rel="noopener ugc nofollow" target="_blank">书面文章</a>,这并不理想。</li></ul><p id="2191" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">双位置球员在DT中有额外的价值，因为他们在团队建设方面提供了灵活性。因此，识别在赛季中有更高机会被宣布为DPP的球员的能力是这一分析的最初动机。</p><h2 id="cdb0" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated"><strong class="ak">数据和方法</strong></h2><p id="9495" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">2015-2020赛季的球员位置和位置统计数据是从Footywire刮来的，其中包括总共48，000个球员比赛组合。</p><p id="681f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该模型在2015-2019赛季的单人球员位置上进行了训练，并在2020年的单人球员位置集上进行了验证。最终分析应用于整个玩家数据集中的数据。我们确定的提供现场位置信息的变量有:</p><ul class=""><li id="58da" class="md me hi jq b jr js ju jv jx mf kb mg kf mh kj mi mj mk ml bi translated">前锋50分:进球(GL)，后卫(BH)，内线50分(I5)，内线50分(T5)，内线50分(M5)，进球助攻(GA)</li><li id="79ca" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">防守50:篮板50(R5)</li><li id="7884" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">中场:中锋解围(CC)，不包括进球的得分(SX)</li><li id="144c" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">不在向前50:铲球不在50内(TX)，标记不在50内(MX)-两者都计算为总数与50内统计之间的差异。</li></ul><p id="0da4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，我们还包括玩家信息，如经验(游戏数的对数)和身高，以改善模型结果。</p><p id="c3fd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">考虑到2020年的短格式比赛，我们已经通过1.25的乘数调整了赛季统计数据，以便它们可以在相同的规模上标准化。</p><p id="7941" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从数据集，我们建立了几个多类分类模型——<a class="ae jn" href="https://en.wikipedia.org/wiki/Random_forest" rel="noopener ugc nofollow" target="_blank">随机森林</a>、<a class="ae jn" href="https://en.wikipedia.org/wiki/Gradient_boosting" rel="noopener ugc nofollow" target="_blank">梯度推进</a>和<a class="ae jn" href="https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm" rel="noopener ugc nofollow" target="_blank">KNN</a>——并将预测汇总成最终模型。在2020年最后一组看不见的数据中，模型根据DT球员位置数据对77%的观察值进行了准确分类。</p><h2 id="5c51" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated"><strong class="ak">结果和观察结果</strong></h2><p id="d667" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">为了充分评价和理解模型预测，我们将结果分为三类:( 1)单位置玩家准确预测;( 2)单位置玩家不一致预测;( 3)双位置玩家预测。</p><p id="9a41" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该模型计算给定玩家的每个角色类型的投票数，其中每个投票可以被解释为执行每个玩家角色的时间百分比(因此映射到场上的特定位置)。在结果中，该模型最高对应于后卫的所列DT球员位置，最低对应于中场。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="ab fe cl mr"><img src="../Images/c11a905c0e0a97151677552b3b129562.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ox8Z9u4y2Ts2Qn6XEIP5gA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模型性能与冠军数据(DT)方法的一致性</figcaption></figure><p id="b612" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">每个玩家的图表简明地显示了以下信息:</p><ul class=""><li id="b737" class="md me hi jq b jr js ju jv jx mf kb mg kf mh kj mi mj mk ml bi translated">主导角色是每个角色最深的颜色块——防守、前锋、中场和前锋。</li><li id="ddfc" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">在0.70的阈值下，过去10场比赛的平均玩家角色被确定为图表中最右边的观察值。请注意，虽然DT方法使用50场比赛的平均值，但我们试图通过使用更少的比赛来更符合当前情况。</li><li id="0c44" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">为了对我们的结果质量进行基准测试，我们还考虑了最近比赛的实际<a class="ae jn" href="http://www.fanfooty.com.au/game/teamsheets.php" rel="noopener ugc nofollow" target="_blank">球队阵容</a>。</li></ul><p id="666c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">单位球员准确预测</strong>该模型准确预测单位球员，其中DT位置和实际球队阵容之间存在共识。这些球员通常在多个赛季中保持一致的比赛位置。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/69ff2c35119cbd2bcff32a3aa84ae759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9DpOg5YsVbiw87mImptS-Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">结果:一致预测单位置球员</figcaption></figure><p id="9713" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">单位置玩家预测不一致</strong>在下图中，我们确定了模型对单位置玩家与DT方法有不同共识的玩家。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/a5d2d6b9af96b57a3d0cb1029a4e2777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bv5nRO84WLHv1qsQNIAilg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">结果:预测不一致的单个预测玩家</figcaption></figure><ul class=""><li id="6014" class="md me hi jq b jr js ju jv jx mf kb mg kf mh kj mi mj mk ml bi translated">我们注意到DT方法在识别赛季间转换位置的球员方面的滞后。这是因为DT方法使用了50场比赛的平均值——比两个赛季还长。</li><li id="42b7" class="md me hi jq b jr mm ju mn jx mo kb mp kf mq kj mi mj mk ml bi translated">单个回合的模型评估提供了一个更丰富的玩家角色随赛季发展的流动性视图——允许我们可视化玩家广度。</li></ul><p id="cad1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">双位玩家</strong>与预测不一致的单位玩家类似，我们可以观察到DPP的DT方法中的滞后。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/00f54dd89b520aac6ffae82ff19b59ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cKtjVQv8p_Zq5UMSCWIztQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">结果:双位置球员</figcaption></figure><p id="d7c7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">结合实际团队阵容数据检查模型结果，让我们对模型预测和结果解释充满信心。</p><h2 id="b140" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated"><strong class="ak">模型应用</strong></h2><p id="6810" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">分析的应用之一是考虑DT位置和模型预测之间的差异。下表显示了迄今为止2020赛季的顶级球员差异。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/0fbc4dd32d1179dfa12e691705401705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_5KOOI0C22oiZqXK2j3mBw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">DT位置和模型预测之间的差异</figcaption></figure><h2 id="4d77" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated"><strong class="ak">反思和后续步骤</strong></h2><p id="99fd" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">该模型已经产生了有希望的结果，即能够基于包含一些位置信息的场上统计数据来识别球员位置。</p><p id="69df" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">模型的不准确性来自于比赛中几乎没有触球的球员——因为模型预测是基于变量之间的实际和相对相互作用，而相对较少的比赛观察可以产生不寻常的预测——这最有可能适用于受伤的球员、新秀或连续表现不佳的球员。</p><p id="915d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">作为这种分析的一部分，我们开发了一个简单的应用程序，允许用户探索每个球员的模型结果。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/7d8b045211f7b730730d66e9ff6a56e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-aUU7aQ7LkB1bvZW-MJFg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://denisewong1.shinyapps.io/AFLapp/" rel="noopener ugc nofollow" target="_blank">https://denisewong1.shinyapps.io/AFLapp/</a></figcaption></figure><h2 id="629b" class="ld le hi bd lf lg lh li lj lk ll lm ln jx lo lp lq kb lr ls lt kf lu lv lw lx bi translated"><strong class="ak">参考文献</strong></h2><p id="5d63" class="pw-post-body-paragraph jo jp hi jq b jr ly ij jt ju lz im jw jx ma jz ka kb mb kd ke kf mc kh ki kj hb bi translated">1.Footywire AFL奇幻玩家排名(<a class="ae jn" href="https://www.footywire.com/afl/footy/dream_team_round?year=2019&amp;round=1&amp;p=MI&amp;s=S" rel="noopener ugc nofollow" target="_blank">链接</a>)</p><p id="3c77" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">2.双位置玩家(<a class="ae jn" href="https://www.afl.com.au/news/74828/last-shout-final-round-of-dual-position-players-revealed" rel="noopener ugc nofollow" target="_blank">链接</a>)和(<a class="ae jn" href="https://www.afl.com.au/news/130934/new-dual-position-players-revealed-fading-hawk-given-new-lease-of-life" rel="noopener ugc nofollow" target="_blank">链接</a>)</p><p id="ca0c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">3.主成分分析(<a class="ae jn" href="http://www.sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/112-pca-principal-component-analysis-essentials/" rel="noopener ugc nofollow" target="_blank">环节</a>)</p><p id="a886" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">4.AFL球员赛季价格和位置(<a class="ae jn" href="https://dreamteamtalk.com/category/preseason/2019-prices/" rel="noopener ugc nofollow" target="_blank">链接</a>)和(<a class="ae jn" href="https://dreamteamtalk.com/category/preseason/2020-prices/" rel="noopener ugc nofollow" target="_blank">链接</a>)</p><p id="41d5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">5.通过Arc使用公共数据对球员位置进行分类(<a class="ae jn" href="https://thearcfooty.com/2016/10/15/classifying-players-positions-using-public-data/" rel="noopener ugc nofollow" target="_blank">链接</a>)</p><p id="5ae5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">6.根据MatterOfStats ( <a class="ae jn" href="http://www.matterofstats.com/mafl-stats-journal/2018/11/20/classifying-recent-afl-players-by-position" rel="noopener ugc nofollow" target="_blank"> link </a>)的位置对最近的AFL球员进行分类</p></div></div>    
</body>
</html>