<html>
<head>
<title>Understanding Image Augmentation Using Keras(Tensorflow)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Keras(Tensorflow)理解图像增强</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-image-augmentation-using-keras-tensorflow-a6341669d9ca?source=collection_archive---------3-----------------------#2020-05-17">https://medium.com/analytics-vidhya/understanding-image-augmentation-using-keras-tensorflow-a6341669d9ca?source=collection_archive---------3-----------------------#2020-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="18db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们想要建立任何深度学习模型时，我们需要处理更多的图像数据，但当我们的图像数量有限时，图像增强就成了比赛的一部分。<strong class="ih hj">图像增强是一种通过使用多种图像处理技术(如旋转、亮度、移动图像像素、水平和垂直翻转图像等)来人工扩展图像数据集的方法。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b58a9f431275e343592743902913b619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4hDscg489eopmyaz"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">在狮子图像上执行的图像增强</figcaption></figure><p id="5f8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在深度学习中，当我们拥有非常少的数据量时，如果我们训练模型，那么我们可以实现高训练精度，但我们将实现非常低的样本外精度，这可能导致模型的过度拟合。因此，为了减少这个问题，图像增强可以应用于深度学习</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/b43be9e6df821a3d06e3b1b6608c2196.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xpbHbJSnBNVHw2dd.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">随着数据集大小的增加，过拟合误差减小</figcaption></figure><h1 id="528f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">使用Keras实现图像增强:-</h1><p id="8c1e" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了增加图像数据集的大小，Keras提供了一个名为ImageDataGenerator的函数，在该函数中，我们可以通过更改函数内部的参数来对图像执行各种转换。首先要使用这个函数，我们需要从keras.preprocessing.image导入ImageDataGenerator</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="d162" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入后，我们需要用这个函数创建一个对象，在这里我们需要声明参数，通过应用不同的预处理技术来改变图像。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="a8f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们没有应用声明的任何参数，则应用默认参数。ImageDataGenerator函数中的默认参数如下所示。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="9724" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要创建一个迭代器，批量获取图像和循环。有三种方法可以将图像流入ImageDataGenerator对象。他们是</p><ol class=""><li id="1e3f" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">使用<em class="li">流程</em>方法:-</li></ol><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="4b80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中x，y分别是数据和标签数组。</p><p id="8e01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.使用<em class="li"> flow_from_dataframe </em>方法:-</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="a8c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取数据框和目录路径+生成批处理。生成的批次包含扩充/标准化的数据。</p><p id="56cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.使用<em class="li"> flow_from_directory </em>方法:-</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="4e81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取到一个目录的路径并生成批量的扩充数据。</p><p id="de00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建迭代器后，我们需要调用next()方法，该方法包含长度为batch_size的图像和标签数组。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="ecae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整的过程如下面的代码所示</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="3e8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lj"><img src="../Images/259b6d81e78eab6c0ce9f1670ecca8e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*n1qnUsAa3xUzjkfoP9I_0g.png"/></div></figure><h1 id="9fcb" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">探索ImageDataGenerator中的参数:-</h1><ol class=""><li id="d6d2" class="kz la hi ih b ii ks im kt iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj">旋转:- </strong></li></ol><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="a799" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们用一个值指定<em class="li">旋转范围</em>时，图像用一个从+(旋转范围)到-(旋转范围)的随机值旋转。</p><p id="53c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是下面显示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/b57893f82965c22af86666321d9799ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RG0iTGHc7inXkJiGhnRaIg.png"/></div></div></figure><p id="023d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。高度移动:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="680d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们指定<em class="li"> height_shift_range </em>的值时，将发生以下情况:-</p><ol class=""><li id="3962" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">如果一个值是一个浮点数，那么它将代表图像在顶部和底部任意方向随机移动的总高度分数的上限。</li><li id="7bfb" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated">如果一个值是一个表示像素的整数列表，那么任何值都是从这个列表中随机选取的，并且图像被随机移动这些像素。</li></ol><p id="9c35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是一个如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/5d6f07efbb0f4179b5340a5cac6ca65a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4fNLhbyV9iJOK0ga6Wqlw.png"/></div></div></figure><p id="17db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。宽度移动:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="b0e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们指定<em class="li">高度_偏移_范围</em>的值时，将会发生以下情况</p><ol class=""><li id="7417" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">如果一个值是一个浮点数，那么它将代表图像在左右任意方向随机移动的总宽度分数的上限。</li><li id="3826" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated">如果一个值是一个表示像素的整数列表，那么从这个列表中随机取出任何值，图像被随机移动这些像素。</li></ol><p id="f64f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是一个如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/afd0a0b344f463d2365eecf650df0c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qU_yHGO0OZl-Fq4HX63zDw.png"/></div></div></figure><p id="cd88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。水平翻转:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="f693" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下<em class="li">水平_翻转</em>值为<strong class="ih hj">假</strong>。如果我们将<em class="li">水平翻转</em>值指定为<strong class="ih hj">真</strong>，那么图像将左右水平翻转。</p><p id="5690" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/d19101d685ed100813a69cc4490522a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xgVLTRQueGFMo3FSLaWXuw.png"/></div></div></figure><p id="fde8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。垂直移位:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="80e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下<em class="li">垂直_翻转</em>值为<strong class="ih hj">假</strong>。如果我们指定<em class="li">垂直翻转</em>值为<strong class="ih hj">真</strong>，那么图像将垂直翻转到顶部或底部。</p><p id="fcc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/5fa0e09db6566a662335117c8ea3dc64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1YDTQv_wsf6xiHTl37pfqw.png"/></div></div></figure><p id="84ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 6。剪切强度:- </strong></p><p id="3802" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">剪切变换是倾斜图像的过程。它不同于旋转，因为在旋转中，我们将旋转图像，但在剪切中，我们固定一个轴，并以某个角度拉伸图像，该角度称为剪切角。这是一种在旋转中观察不到的拉伸。shear_range的值将是float，它表示逆时针方向的剪切角度，单位为度。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="d65a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出如下图所示:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/de3ad0c1a00e9e22984933b523a35ecb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FruvZK19M5eApQL7ZoDq-A.png"/></div></div></figure><p id="2fe6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 7。缩放范围:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="4a50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们指定<em class="li"> zoom_range </em>值时</p><ol class=""><li id="2533" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">如果该值为float，则它表示基于[1-value，1+value]范围内的随机值要放大/缩小的图像部分。</li><li id="dff6" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated">如果是以[lower，higher]形式的列表，则生成的图像将在上述指定范围内缩放。基于该值，图像将被放大或缩小。</li></ol><p id="b299" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/86ab47bb0e03d4e89acb7d73d8247709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pog_2O6W88OKYpilazDipw.png"/></div></div></figure><p id="496d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 8。亮度等级:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="1c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要以列表的形式指定<em class="li"> brightness_range </em>【更低，更高】。所生成的图像将具有上述给定范围内的亮度。</p><p id="903f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出将是如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/3f253d5caa5e913f9c474e69b6f1aef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZeAicVlpdSsNd2J2Mzp1Q.png"/></div></div></figure><p id="5e64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 9。重新调整:- </strong></p><p id="9e87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Rescale是一个值，在进行任何其他处理之前，我们会将数据乘以该值。我们的原始图像由0–255范围内的RGB系数组成，但这样的值对于我们的模型来说太大而无法处理(给定典型的学习率)，因此我们的目标值在0和1之间，而不是用1/255进行缩放。因素(描述摘自<a class="ae lt" href="https://blog.keras.io/building-powerful-image-classification-models-using-very-little-data.html" rel="noopener ugc nofollow" target="_blank">https://blog . keras . io/building-powerful-image-class ification-models-using-very-little-data . html</a>)</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="5b49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是一个如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/1d96086f22462ac485616556ab0f66a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qE4hKcGBoard83xsiNJjQ.png"/></div></div></figure><p id="4e30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你看到上面的图像，一切都是黑色的。为什么会发生这种情况？这怎么整改？</p><p id="b960" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们需要把图像转换成float64，但是在上面的代码中，我们把它转换成int8，所以每个值都变成0。</p><p id="3d9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是浮点转换代码:-</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="3208" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是一个如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/cafa96eea058d37b9abd9605603d3fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAYZdLaXnOkJ6j590F4DQQ.png"/></div></div></figure><p id="5a3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 10。预处理功能:- </strong></p><p id="6552" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预处理函数是将应用于每个输入的函数。该功能将在图像调整大小和放大后运行。该函数应该采用一个参数:一个图像(秩为3的Numpy张量),并且应该输出具有相同形状的Numpy张量。</p><p id="ca55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们使用深度学习中预训练的模型(如VGG16、Resnet50、mobile net)时，我们需要为ImageDataGenerator指定预处理函数，以便根据模型对输入进行预处理。这将因型号而异。如果我们使用预先训练的模型，即移动网络v2，则代码如下</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="911c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码的输出是一个如下所示的图像:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/36c3ba9638c17fa5889009b7482294bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_AoktSTeUzAAek-rAIvT9g.png"/></div></div></figure><p id="2647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 11。频道转换:- </strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="96d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们指定<em class="li"> channel_shift_range </em>的值时，将根据上述固定值对输入图像的RGB颜色通道进行随机通道移位。上述代码的输出如下图所示:-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/5f2bc56fd23a61b4e1b2fecfc4e48e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzcrSXpGdh9s1zWybXlpXQ.png"/></div></div></figure><p id="e7cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是ImageDataGenerator函数中的一些参数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/19ebc44e1c36b53aafe5baf2b37dcaff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsCHOKazmqeadFuYvDyxUg.png"/></div></div></figure><p id="f248" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一些我们很少用到的论点。他们是</p><ol class=""><li id="5f74" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated"><strong class="ih hj"> fill_mode </strong>:为{"constant "、" nearest "、" reflect "或" wrap"}之一。默认值为“最近”。输入边界外的点根据给定的模式填充:—'常量':kkkkkkkkk | ABCD | kkkkkkkk(cval = k)—'最近的':aaaaaaaa|abcd|dddddddd —'反射':abcddcba|abcd|dcbaabcd —'换行':abcdabcd|abcd|abcdabcd</li><li id="61be" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj"> cval </strong> : Float或Int。当<code class="du lv lw lx ly b">fill_mode = "constant"</code>时，用于边界外的点的值。</li><li id="7193" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj"> featurewise_center </strong>:布尔值。将数据集的输入平均值设置为0，按特征。</li><li id="5033" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj"> samplewise_center </strong>:布尔型。将每个样本平均值设置为0。</li><li id="f5ba" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj">feature wise _ STD _ normalization</strong>:布尔型。按要素将输入除以数据集的标准差。</li><li id="b03b" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj">sample wise _ STD _ normalization</strong>:布尔型。将每个输入除以其标准差。</li><li id="b318" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj">zca _ε</strong>:ε为zca美白。默认值为1e-6。</li><li id="f1c6" class="kz la hi ih b ii lo im lp iq lq iu lr iy ls jc le lf lg lh bi translated"><strong class="ih hj"> zca_whitening </strong>:布尔型。应用ZCA美白。</li></ol><p id="7955" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用图像增强生成的图像样本通常会导致现有数据样本集增加近3到4倍。这样，在Keras的帮助下，我们可以进行图像增强，这将在深度学习领域得到广泛应用。</p></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><p id="825f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请👏。</p><h2 id="46c2" class="mg jv hi bd jw mh mi mj ka mk ml mm ke iq mn mo ki iu mp mq km iy mr ms kq mt bi translated">参考资料:-</h2><div class="mu mv ez fb mw mx"><a href="https://keras.io/api/preprocessing/image/#imagedatagenerator-class" rel="noopener  ugc nofollow" target="_blank"><div class="my ab dw"><div class="mz ab na cl cj nb"><h2 class="bd hj fi z dy nc ea eb nd ed ef hh bi translated">Keras文档:图像数据预处理</h2><div class="ne l"><h3 class="bd b fi z dy nc ea eb nd ed ef dx translated">从目录中的图像文件生成TF . data . dataset。如果您的目录结构是:然后调用…</h3></div><div class="nf l"><p class="bd b fp z dy nc ea eb nd ed ef dx translated">keras.io</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jn mx"/></div></div></a></div><div class="mu mv ez fb mw mx"><a href="https://www.tensorflow.org/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab dw"><div class="mz ab na cl cj nb"><h2 class="bd hj fi z dy nc ea eb nd ed ef hh bi translated">张量流</h2><div class="ne l"><h3 class="bd b fi z dy nc ea eb nd ed ef dx translated">一个面向所有人的端到端开源机器学习平台。探索TensorFlow灵活的工具生态系统…</h3></div><div class="nf l"><p class="bd b fp z dy nc ea eb nd ed ef dx translated">www.tensorflow.org</p></div></div><div class="ng l"><div class="nm l ni nj nk ng nl jn mx"/></div></div></a></div></div></div>    
</body>
</html>