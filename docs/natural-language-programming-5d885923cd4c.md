# 自然语言程序设计

> 原文：<https://medium.com/analytics-vidhya/natural-language-programming-5d885923cd4c?source=collection_archive---------22----------------------->

> 自然语言处理帮助机器阅读文本，模拟人类理解情感的能力
> 
> 它用于检测客户对产品或服务等的意见。

![](img/ccf1e839272f84fa1fb12549d8f0921d.png)

从上一篇博客中，我们了解了如何从亚马逊网站上删除客户评论数据。如果没有浏览我提到的博客，请点击下面的链接

[https://medium . com/@ nandamurideepya 135/scraping-Amazon-reviews-fc 13617 E0 ba 1](/@nandamuridedeepya135/scraping-amazon-reviews-fc13617e0ba1)

在这个博客中，我们学习如何从总体评论中理解正面和负面的评论。让我们看看过程

**第一步**:先安装库

![](img/65f56a40d4169e1a23080d61a9e051f5.png)

**步骤 2** :导入数据集，检查包含的信息、列数和行数

![](img/cf27d3fe8340e4ad8a61704c8a3c1c1d.png)

我们需要通过删除不必要的东西来清理评论，比如 URL、多余的空格、表情符号、标点符号、停用词、词干词(比如 ing)以及通过用空格分隔单词来将大写字母转换成小写字母，因此我们编写了一个函数来声明所有这些因素。

![](img/48beb15f48b4456ca68aa2007fc5b131.png)

***第四步*** :新建一列，用于保存已清理的评论。

![](img/e7faa40999e9ef1ce9d58233619ec082.png)

**Step-5** :如果我们想从所有评论中观察到频繁出现的词，我们使用词云。

安装单词云

![](img/5fea00e5386f691104b84ee2d2bdff42.png)![](img/f94e9abba2367a2633ef7fba947c9380.png)

从图中我们可以看到，笔记本电脑，mac book pro，MS-office，价值，金钱，电池寿命，价格电池备份，重量轻是所有评论中使用频率最高的词。单词的大小取决于它们在评论中出现的频率。

**步骤 6** :删除文本之间的' \n '，并相应地连接文本

![](img/6d58650a0316b8bff35b36585c25b65f.png)

**步骤 7** :我们使用记号化将文本分解成更小的元素。

![](img/b3d2fd76355a4a910a4b9880f41b7b8c.png)

**第八步**:词干化是产生词根/基本词的形态变体的过程。以便提供有意义的审查见解。

![](img/1df8e6eca8c94ee69bbee70d536e0ccd.png)

**步骤 9** :我们使用 Gensim 和语料库为所有评论创建词典

![](img/7fc8300c85b05307af5213d79e053b53.png)

**步骤 10** :识别我们需要安装库的文本评论的情绪。

![](img/6c542e3556eed9cae88513e9adb2e425.png)

**Step-11** :通过将所有评论作为句子发送，编写一个分析情感评分的函数。

![](img/73dc45205f04054057e93698176ba72d.png)

> ***注:***

*   我们正在计算每个干净评论的复合分数，因为要分析情绪，我们需要评级。
*   但是提取的数据只包含评论，没有评级，所以遵循情感分析器分数和复合分数。

> ***Step-12*** *:比如让我们把一句话的感悟赋予为“* ***苹果笔记本电脑超级惊艳*** *”来检验感悟的得分。*

![](img/813ce9be35c93f8f1ad22f65b9ad7e4e.png)

**步骤-13** :我们为所有清理后的评论定义一个函数，计算复合得分

![](img/f6d5d008973e8cf2bfbeb34c18a0dc2a.png)

**步骤-14** :为了划分文本的情感，我们对复合得分取一定的阈值。

我们以复合得分为参考，并指定某个阈值为 0.5，定义“得分> 0.5 为正面”，“得分<0.5 as Negative”, “Score=0.5 as Neutral”.

![](img/190e7cf5f99bf79d51b618ea263730c6.png)

**步骤-15** :现在我们存储正面评价和负面评价

![](img/93024ba0ea3e3538ad16e241b18df80d.png)

**第 16 步**:现在检查评论中的前 20 个正面和负面词汇。这不是强制性的只检查 20 个，你可以想检查多少就检查多少。但是我只拿 20 块

![](img/a9746380bc8db6f358bc47f129fd521b.png)

**步骤-17** :现在检查从正负和负正中移除的单词的值

![](img/4874abb771e8902fe5917b41bd3e1964.png)

**Step-18** :定义一个函数，检查所有前 20 个正负词的图形

![](img/a57fd778401db44196866b8eb6a72bbc.png)

**输出**:

![](img/1767acd71b1f636fea6ec3ed751c3b29.png)

**第 19 步**:我们对正面和负面评论进行二元语法和三元语法分析，以检查评论中有意义的见解。这在 unigram 中并不常见

![](img/f6bfa4011e3260f9bf4e1e05751a81d8.png)

在上面的代码中，如果我们改变“n”的值，

*   如果 n=1，那么它是一元文法
*   如果 n=2，那么它就是二元模型
*   如果 n=3，那么它是三元模型等等。

根据二元模型和三元模型绘制图表。

![](img/bf1d1e69fb171d222ab524b06f21275d.png)

> ***注*** *:三卦图遵循相同的代码。*

**步骤 20:** 我们使用词云来查看清洗后的评论中最常出现的正面词和负面词。

将情绪改为消极的，以便发现消极的词语。

![](img/4287ceeeb976174066aabed02abf5f2b.png)

> ***注:*** *使用以上代码查找为负面评价。*

通过这种方式，我们将分析每一个顾客评论的情绪。🙂