<html>
<head>
<title>Create geoMaps using graph objects and geoJSON-plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用图形对象和 geoJSON-plotly 创建地理地图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/create-geomaps-using-graph-objects-and-geojson-plotly-dcfb4067e3a6?source=collection_archive---------4-----------------------#2020-12-06">https://medium.com/analytics-vidhya/create-geomaps-using-graph-objects-and-geojson-plotly-dcfb4067e3a6?source=collection_archive---------4-----------------------#2020-12-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6ece28103e1937c9eb9ed9343a5d461b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6XbGtjamklh2juX2szt1w.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@xarch?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">埃里克 X </a>在<a class="ae iu" href="https://unsplash.com/s/photos/globe-lights?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="a08c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大家好！所以这篇文章是关于直接使用图形对象来创建地理地图的。Plotly 的 Python 图形库制作出交互式的、出版物质量的图形。</p><ul class=""><li id="77d4" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">概观</li><li id="4222" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">在 Jupyter 笔记本上安装</li><li id="8ead" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">如何为美国以外的国家创建地图？</li><li id="1547" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">直接使用图形对象。</li><li id="e11e" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">使用 geoJSON 创建地图！</li></ul><h1 id="762d" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">概观</h1><p id="5abb" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">plotly.py 是一个交互式的、开源的、基于浏览器的 Python 图形库</p><p id="85d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lk ll lm ln b">plotly.py</code>构建于 plotly.js 之上，是一个高级的、声明性的图表库。plotly.js 提供了 30 多种图表类型，包括科学图表、3D 图表、统计图表、SVG 地图、金融图表等等。</p><h1 id="fbec" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">装置</h1><p id="4366" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">如果你正在使用 anaconda，那么你可以在你的<code class="du lk ll lm ln b">terminal</code>或<code class="du lk ll lm ln b">jupyter notebook</code>上简单地使用这个命令下载它。</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="3cb6" class="lw ki hi ln b fi lx ly l lz ma">conda install -c plotly plotly</span></pre><p id="642d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运筹学</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="2025" class="lw ki hi ln b fi lx ly l lz ma">conda install -c plotly/label/test plotly</span></pre><p id="d7e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果 Anaconda 对您来说太难了，那么您可以使用<code class="du lk ll lm ln b">pip</code>下载它</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="ae80" class="lw ki hi ln b fi lx ly l lz ma">pip install plotly==4.13.0</span></pre><h1 id="e839" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">JupyterLab 支持(Python 3.5 以上)</h1><p id="2cdd" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">为了在 JupyterLab 中使用，使用 pip 安装<code class="du lk ll lm ln b">jupyterlab</code>和<code class="du lk ll lm ln b">ipywidgets</code>包。</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="61b0" class="lw ki hi ln b fi lx ly l lz ma">pip install jupyterlab "ipywidgets==7.5"</span></pre><p id="2627" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者康达。</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="5f1e" class="lw ki hi ln b fi lx ly l lz ma">conda install jupyterlab "ipywidgets=7.5"</span></pre><h1 id="4b05" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">创建除美国以外的其他国家的地图</h1><p id="f3f5" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated"><code class="du lk ll lm ln b">go.choropleth</code>函数接受许多参数来创建地图，其中最重要的是<code class="du lk ll lm ln b">locationmode</code>和<code class="du lk ll lm ln b">countries</code></p><p id="d139" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lk ll lm ln b">locationmode</code>只能将 3 个变量识别为“ISO-3”、“美国-州”或“国家名称”之一。这种方法只适用于美国各县</p><p id="c2d4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你在为美国制作一张地图，它会是这样的，</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="1627" class="lw ki hi ln b fi lx ly l lz ma">px.choropleth(df, <br/>            locations='State_Code',<br/>             color="Crime_Record",<br/>              animation_frame="Year",<br/>            color_continuous_scale="Inferno",<br/>              locationmode="USA-states",<br/>               scope="usa",<br/>             range_color=(0,20),<br/>             title='Crime By State',<br/>             height=750)</span></pre><p id="a1a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它会给你一张这样漂亮的地图，</p><figure class="lo lp lq lr fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/91896c86ec5fe2ba77dddcacc998a9f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*QMsQRTthnWlqaXj7knC_xg.png"/></div></figure><p id="8082" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意这条线</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="0672" class="lw ki hi ln b fi lx ly l lz ma">locationmode=”USA-states”</span></pre><p id="a160" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它确定用于将<code class="du lk ll lm ln b">locations</code>中的条目与地图上的区域相匹配的一组位置。<code class="du lk ll lm ln b">locations</code>由每个国家或州的州代码组成。例如<code class="du lk ll lm ln b">AL</code>代表阿拉巴马、<code class="du lk ll lm ln b">CF</code>代表中非或<code class="du lk ll lm ln b">IND</code>代表印度。</p><p id="dbf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您使用美国-美国各州的位置模式时，您不需要指定<code class="du lk ll lm ln b">geoJSON id</code>，但对于其他国家，您必须指定。举个例子，</p><h1 id="2146" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">2001-2010 年报告的强奸案件</h1><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="eb72" class="lw ki hi ln b fi lx ly l lz ma">import pandas as pd<br/>import plotly.express as px</span><span id="6f7c" class="lw ki hi ln b fi mc ly l lz ma">df =pd.read_csv('path_to_file/Rape_Cases_Reported2001-2010.csv`)<br/></span></pre><figure class="lo lp lq lr fd ij er es paragraph-image"><div class="er es md"><img src="../Images/96e9e96a2460cba85fe5ff138dbcfedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*BxzOGSSf3-DSZcZ5S1NQGA.png"/></div></figure><p id="5330" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们编写绘制图形的函数，</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="5e0e" class="lw ki hi ln b fi lx ly l lz ma">fig=px.choropleth(df1,<br/>             geojson="<a class="ae iu" href="https://gist.githubusercontent.com/jbrobst/56c13bbbf9d97d187fea01ca62ea5112/raw/e388c4cae20aa53cb5090210a42ebb9b765c0a36/india_states.geojson" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/jbrobst/56c13bbbf9d97d187fea01ca62ea5112/raw/e388c4cae20aa53cb5090210a42ebb9b765c0a36/india_states.geojson</a>",</span><span id="04e9" class="lw ki hi ln b fi mc ly l lz ma">             featureidkey='properties.ST_NM',   <br/>             locations='Area_Name',        #column in dataframe<br/>              animation_frame='Year',       #dataframe<br/>              color='Rape_Cases_Reported',  #dataframe<br/>              color_continuous_scale='Inferno',<br/>               title='Rape cases across the states' ,  <br/>               height=700<br/>              )</span><span id="9c96" class="lw ki hi ln b fi mc ly l lz ma">fig.update_geos(fitbounds="locations", visible=False)</span><span id="01fb" class="lw ki hi ln b fi mc ly l lz ma">fig.show()</span></pre><figure class="lo lp lq lr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/6c9a04def6b07b169b07d8337a4d9856.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7JF6_M6DgMZCo-T3de3Vnw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">动画不足</figcaption></figure><p id="c888" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里提供了 geoJSON 文件，它将其值映射到<code class="du lk ll lm ln b">locations</code>,这些值或者是国家代码，或者是专有名称。<code class="du lk ll lm ln b">featureidkey</code>指定 GeoJSON 特征对象中字段的路径，用于匹配传入<code class="du lk ll lm ln b">locations</code>的值。</p><p id="0167" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mf">下载</em> <a class="ae iu" href="https://github.com/Irene-123/Data-sets/blob/main/Rape_cases.zip" rel="noopener ugc nofollow" target="_blank"> <em class="mf"> Jupyter 笔记本及其数据</em> </a></p><p id="057b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">好吧，那么没有 geoJSON 还有更简单的方法吗？</strong></p><h1 id="1f54" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">策划任何国家的邻国</h1><p id="e9ae" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">让我们以非洲的苏丹为例。我想展示苏丹的所有邻国，并突出它们。</p><p id="5ada" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">导入的模块-</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="96af" class="lw ki hi ln b fi lx ly l lz ma">import chart_studio<br/>import plotly.graph_objs as gobj<br/>import pandas as pd<br/>from plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot<br/>init_notebook_mode(connected=True)</span></pre><p id="1e7e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">快速提示:如果它给你<code class="du lk ll lm ln b">chart_studio</code>输入错误</p><ul class=""><li id="c1d4" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">蟒蛇</li></ul><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="1849" class="lw ki hi ln b fi lx ly l lz ma">conda install -c plotly chart-studio            OR <br/>conda install -c plotly/label/test chart-studio</span></pre><ul class=""><li id="359f" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">点</li></ul><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="535c" class="lw ki hi ln b fi lx ly l lz ma">pip install chart-studio</span></pre><p id="5ca0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好的，让我们画出苏丹的邻国</p><figure class="lo lp lq lr fd ij"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="e471" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出-</p><figure class="lo lp lq lr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/9904d85112ae6209d15df95b99410d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VPpE0mi4hGU27WODHp4cNg.png"/></div></div></figure><p id="ecad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以这里我没有使用<code class="du lk ll lm ln b">geoJSON</code>，而是使用国家代码作为<code class="du lk ll lm ln b">list or array</code>，并将它们嵌入到参数<code class="du lk ll lm ln b">text</code>中，并将其自身映射到国家名称<code class="du lk ll lm ln b">locations</code></p><h1 id="7df7" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">直接使用图形对象</strong></h1><h2 id="a9da" class="lw ki hi bd kj mj mk ml kn mm mn mo kr jg mp mq kv jk mr ms kz jo mt mu ld mv bi translated">什么是图形对象？</h2><p id="c6b1" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">由 plotly Python 库创建、操作和渲染的图形由树状数据结构表示<a class="ae iu" href="https://plotly.com/python/figure-structure/" rel="noopener ugc nofollow" target="_blank">,这些数据结构自动序列化到 JSON 以供 Plotly.js JavaScript 库渲染。</a></p><p id="0fa7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些树由称为“属性”的命名节点组成，其结构由 Plotly.js 图形模式定义，该模式以<a class="ae iu" href="https://raw.githubusercontent.com/plotly/plotly.js/master/dist/plot-schema.json" rel="noopener ugc nofollow" target="_blank">机器可读形式</a>提供。</p><blockquote class="mw mx my"><p id="68cf" class="iv iw mf ix b iy iz ja jb jc jd je jf mz jh ji jj na jl jm jn nb jp jq jr js hb bi translated"><strong class="ix hj"/><code class="du lk ll lm ln b">plotly.graph_objects</code><strong class="ix hj">模块(通常导入为</strong> <code class="du lk ll lm ln b">go</code> <strong class="ix hj">)包含一个自动生成的 Python 类</strong><a class="ae iu" href="https://plotly.com/python-api-reference/plotly.graph_objects.html#graph-objects" rel="noopener ugc nofollow" target="_blank"/><strong class="ix hj">层次结构，该层次结构表示该图模式中的非叶节点。术语“图形对象”指的是这些类的实例。</strong></p></blockquote><h2 id="6e5b" class="lw ki hi bd kj mj mk ml kn mm mn mo kr jg mp mq kv jk mr ms kz jo mt mu ld mv bi translated">与字典相比的图形对象</h2><ul class=""><li id="99a0" class="jt ju hi ix b iy lf jc lg jg nc jk nd jo ne js jy jz ka kb bi translated">图形对象提供精确的数据验证</li><li id="7ed8" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">图形对象的属性可以使用字典式关键字查找(如<code class="du lk ll lm ln b">fig["layout"]</code>)或类式属性访问(如<code class="du lk ll lm ln b">fig.layout</code>)来访问</li><li id="9ae2" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">图形对象支持附加渲染(<code class="du lk ll lm ln b">.show()</code>)和导出函数(<code class="du lk ll lm ln b">.write_image()</code>)，这些函数从<a class="ae iu" href="https://plotly.com/python-api-reference/plotly.io.html" rel="noopener ugc nofollow" target="_blank"/><code class="du lk ll lm ln b"><a class="ae iu" href="https://plotly.com/python-api-reference/plotly.io.html" rel="noopener ugc nofollow" target="_blank">plotly.io</a></code><a class="ae iu" href="https://plotly.com/python-api-reference/plotly.io.html" rel="noopener ugc nofollow" target="_blank">模块</a>中自动调用适当的函数。</li></ul><p id="0ebc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们举一个例子:</p><p id="6310" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">截至 2020 年 12 月 5 日印度的新冠肺炎活跃病例</p><ol class=""><li id="cea7" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js nf jz ka kb bi translated">导入必要的模块</li></ol><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="4fff" class="lw ki hi ln b fi lx ly l lz ma">import pandas as pd<br/>import plotly.graph_objects as go</span></pre><p id="743e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.导入 geoJSON 文件和参数</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="9d44" class="lw ki hi ln b fi lx ly l lz ma">geojson="<a class="ae iu" href="https://gist.githubusercontent.com/jbrobst/56c13bbbf9d97d187fea01ca62ea5112/raw/e388c4cae20aa53cb5090210a42ebb9b765c0a36/india_states.geojson" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/jbrobst/56c13bbbf9d97d187fea01ca62ea5112/raw/e388c4cae20aa53cb5090210a42ebb9b765c0a36/india_states.geojson</a>",</span><span id="3c31" class="lw ki hi ln b fi mc ly l lz ma">    featureidkey='properties.ST_NM',   #property of geoJSON file <br/>    locationmode='geojson-id',    <br/>    locations=data['State'],<br/>    z=data['Active_Cases'],  #importing column consisting of   <br/>                              #active cases data            </span><span id="6fce" class="lw ki hi ln b fi mc ly l lz ma">    autocolorscale=False,<br/>    colorscale='Reds',<br/>    marker_line_color='peachpuff',</span></pre><p id="ec50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.创建彩条及其数据</p><figure class="lo lp lq lr fd ij er es paragraph-image"><div class="er es ng"><img src="../Images/80f61f4c9b68fbfa6d926f2be3b9cc96.png" data-original-src="https://miro.medium.com/v2/resize:fit:246/format:webp/1*B_SESV5cxjTXZ97423pFSQ.png"/></div></figure><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="0bee" class="lw ki hi ln b fi lx ly l lz ma">colorbar=dict(<br/>             title={'text':"Active Cases"},<br/>              thickness=15,<br/>              len=0.35,<br/>              bgcolor='rgba(255,255,255,0.6)',<br/>              tick0=0,<br/>               dtick=20000,<br/>               xanchor='left',<br/>                x=0.01,<br/>               yanchor='bottom',<br/>               y=0.05<br/>               )</span></pre><p id="9fb5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.提供经度和纬度</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="b166" class="lw ki hi ln b fi lx ly l lz ma">fig.update_geos(<br/>         visible=False,<br/>         projection=dict(<br/>                   type='conic conformal',<br/>                    parallels=[12.4729,35.1728055],<br/>                   rotation={'lat':24,'lon':80}),<br/>         lonaxis={'range':[68,98]},<br/>         lataxis={'range':[6,38]})</span></pre><p id="a8d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.完成图表</p><pre class="lo lp lq lr fd ls ln lt lu aw lv bi"><span id="2891" class="lw ki hi ln b fi lx ly l lz ma">fig.update_layout(<br/>    title=dict(<br/>            text="Active cases COVID-19 Cases in India by states as of December 5th,2020",<br/>            xanchor='center',<br/>            x=0.5,<br/>            yref='paper',<br/>            yanchor='bottom',<br/>            y=1,<br/>            pad={'b':10}),<br/>            margin={'r':0,'t':30,'l':0,'b':0},<br/>            height=550,<br/>            width=550<br/>      )</span></pre><p id="18e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:-</p><figure class="lo lp lq lr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/4c3483afbd2fba101a9f7e08ee3b4128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8--jJ_iBu9ERW8KVwV2ug.png"/></div></div></figure><p id="375b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者</p><figure class="lo lp lq lr fd ij er es paragraph-image"><div class="er es ni"><img src="../Images/a6585957dc4f46d39e52d4b88b6d84ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*F2Vm2pv51oBiLjNXWPCMGw.png"/></div></figure><p id="4641" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下载<a class="ae iu" href="https://github.com/Irene-123/Data-sets/blob/main/Active_cases.zip" rel="noopener ugc nofollow" target="_blank"> jupyter 笔记本及其数据</a></p><p id="c9aa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mf">对强奸案件的分析-下载</em> <a class="ae iu" href="https://github.com/Irene-123/Data-sets/blob/main/Rape_cases.zip" rel="noopener ugc nofollow" target="_blank"> <em class="mf"> Jupyter 笔记本及其数据</em> </a></p><p id="682c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mf">主动案例分析-下载</em> <a class="ae iu" href="https://github.com/Irene-123/Data-sets/blob/main/Active_cases.zip" rel="noopener ugc nofollow" target="_blank"> <em class="mf"> jupyter 笔记本及其数据</em> </a></p><p id="f614" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">想了解更多关于 geoJSON 的信息，这里有一个很棒的<a class="ae iu" href="https://macwright.com/2015/03/23/geojson-second-bite.html" rel="noopener ugc nofollow" target="_blank">网站</a>对 geoJSON 进行了深入而清晰的解释，一定要去看看！</p><p id="7759" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>