<html>
<head>
<title>The Journey from Development to Production Part 2: Project Governance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从开发到生产的旅程第2部分:项目治理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-journey-from-development-to-production-part-2-project-governance-822daf922b15?source=collection_archive---------13-----------------------#2020-01-22">https://medium.com/analytics-vidhya/the-journey-from-development-to-production-part-2-project-governance-822daf922b15?source=collection_archive---------13-----------------------#2020-01-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="bb6d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">项目治理&amp;合规性是开发任何解决问题的ML系统中最重要的因素。在这里我将分享所有的ToDos和FOSS工具。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/694297e067bb67c77a6d087c328e2121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h888lUfzZcN_W4_ZgSNEyQ.png"/></div></div></figure><p id="1da5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是系列文章的第二部分<strong class="jl hj"> <em class="kf">从开发到生产的旅程，</em> </strong>如果您还没有阅读第1部分，那么我强烈建议您先阅读它，因为它解释了在任何有效的项目治理中我们需要什么方法&amp;头脑。</p><div class="kg kh ez fb ki kj"><a rel="noopener follow" target="_blank" href="/@desardaakash/the-journey-from-development-to-production-part-1-building-with-the-right-approach-4ad5f67ce0de"><div class="kk ab dw"><div class="kl ab km cl cj kn"><h2 class="bd hj fi z dy ko ea eb kp ed ef hh bi translated">从开发到生产的旅程第1部分:用“正确的方法”构建</h2><div class="kq l"><h3 class="bd b fi z dy ko ea eb kp ed ef dx translated">这是一个关于如何快速开发ML系统的系列，也是最大化生产准备的系列。这将是一个…</h3></div><div class="kr l"><p class="bd b fp z dy ko ea eb kp ed ef dx translated">medium.com</p></div></div><div class="ks l"><div class="kt l ku kv kw ks kx jh kj"/></div></div></a></div><h2 id="d5c4" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">什么是项目治理？为什么它如此重要？这似乎太没技术含量了？</h2><p id="99ad" class="pw-post-body-paragraph jj jk hi jl b jm lt ij jo jp lu im jr js lv ju jv jw lw jy jz ka lx kc kd ke hb bi translated">事实上，项目治理与技术无关，但是相信我，适应它会给任何ML项目带来巨大的收益。(我们都在我的工作中……:))</p><p id="56f7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> <em class="kf">项目治理是</em> </strong></p><ul class=""><li id="3f87" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated">监督职能涵盖项目生命周期，为项目经理和团队提供管理和控制项目的结构、流程、决策模型和工具，同时确保项目的成功交付。这是一个至关重要的因素，尤其是对于复杂和高风险的项目。</li><li id="ce7e" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">它定义、记录并传达一致的项目实践，以提供控制项目并确保其成功的综合方法。它包含了一个项目决策的框架，定义了完成项目的角色、职责和责任，并控制了项目经理的效率。</li></ul><p id="5ec7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">它已经在其他领域证明了它的有效性，所以机器学习领域也不例外</p><h2 id="fe9d" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">如何适应有效的项目治理？</h2><h2 id="46b0" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">1.治理模式:</h2><ul class=""><li id="73d6" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">基于项目的范围、时间表、复杂性、风险、涉众和对组织的重要性，组织应该制定项目治理所需的关键元素的基线。</li><li id="7f50" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">应该有一个主要的工具，它基于上面的一些指标来决定您的治理框架需要什么样的改变，以及哪些组件是强制性的。</li></ul><h2 id="851d" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">2.问责制和责任:</h2><ul class=""><li id="5995" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">定义责任和职责是项目经理的核心任务。问责和责任分配不当将对本组织的运作效力产生负面影响。</li><li id="d475" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">在定义这两个因素时，项目经理不仅需要定义谁负责，还需要定义谁负责、咨询和通知项目的每个可交付成果。</li></ul><h2 id="c6e0" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">3.项目初始化:</h2><ul class=""><li id="eb19" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">合作中最可怕的陷阱之一是“困惑陷阱”。当每个人都有不同的项目结构时，就会出现这种情况。至少30%的时间将被浪费在理解项目上，而不是实际的执行上。每个团队成员必须遵循相同的项目结构。</li><li id="4b57" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">使用<a class="ae mp" href="https://drivendata.github.io/cookiecutter-data-science/" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj"> <em class="kf"> Cookiecutter数据科学</em> </strong> </a> <strong class="jl hj"> <em class="kf">。</em> </strong>这是一个逻辑合理、标准化但灵活的项目结构，用于进行和共享数据科学工作。使用&amp;非常简单，他们也有很好的文档。</li></ul><pre class="iy iz ja jb fd mq mr ms mt aw mu bi"><span id="0ce4" class="ky kz hi mr b fi mv mw l mx my"># Install<br/>pip install cookiecutter</span><span id="e04b" class="ky kz hi mr b fi mz mw l mx my"># Init is as simple as <br/>cookiecutter <a class="ae mp" href="https://github.com/drivendata/cookiecutter-data-science" rel="noopener ugc nofollow" target="_blank">https://github.com/drivendata/cookiecutter-data-science</a></span></pre><h2 id="7148" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">4.Git运营与合规:</h2><ul class=""><li id="1b0a" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">Git是21世纪软件开发中最重要的创新。使用Git (&amp;任何遥控器，如GitHub或GitLab等)来跟踪你的项目。(<em class="kf">注意:我假设你理解Git或者对它有一个基本的概念，如果没有，那么请把所有的东西留在后面&amp;学习它。</em>)</li><li id="dc08" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">正如我在第1部分中提到的，Git使我们能够轻松地适应微服务。</li></ul><p id="8b1a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可以有一个独立的分支，用于训练、推理和服务。这样每个团队成员都可以独立工作，但同时又可以合作</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es na"><img src="../Images/568d67b9f6ae643529098fe96588d16d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6B53wd7SZD21Q1H0.png"/></div></div></figure><p id="357d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">应该遵循的一些最佳实践:</strong></p><ul class=""><li id="65d0" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated">每个人都必须指定:<br/>→git config<a class="ae mp" href="http://user.name/" rel="noopener ugc nofollow" target="_blank">user . Name</a>" Your Name "<br/>→git config user . email "<a class="ae mp" href="mailto:email@quantiphi.com" rel="noopener ugc nofollow" target="_blank">email@something.com</a>"<br/>→大型文件(如重量文件、大型csv、图像等)不应包含在回购中。<br/>→主分支应始终无bug并准备运行。<br/> →每个变更或提交的记录应该是直观的。</li></ul><p id="5471" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">git日志记录惯例:</strong><br/>→每次提交都必须包含一些信息性消息。</p><ul class=""><li id="ad7e" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated">编写git提交消息的约定:</li></ul><p id="2fe2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→{流程逻辑/代码/文件夹结构重构/更改/(任何类似种类的主动消息)} &lt;<em class="kf">不超过五个字</em> &gt;对于{ class:class name/method:method method name/file }&lt;<em class="kf">提及{branch}中的所有层级</em> &gt;</p><p id="86ee" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> <em class="kf">类似</em> </strong>的特例</p><ul class=""><li id="522c" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated"><strong class="jl hj">合并分支:</strong>分支必须通过某种测试。</li></ul><p id="e03d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→编写git提交消息的惯例:{任何一个或两个主要逻辑的总结}</p><ul class=""><li id="beeb" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated"><strong class="jl hj">解决问题:</strong>{问题编号/问题名称} <br/> →提交消息不应超过50个字符(包括空格)<br/> →使用命令性语言</li></ul><p id="fbe1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> <em class="kf">号外:阅读这篇牛逼的</em> </strong> <a class="ae mp" href="https://chris.beams.io/posts/git-commit/" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj"> <em class="kf">博客</em> </strong> </a> <strong class="jl hj"> <em class="kf">上写的有效提交消息。</em>T13】</strong></p><h2 id="e749" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">5.数据VCS使用<a class="ae mp" href="http://pip install cookiecutter" rel="noopener ugc nofollow" target="_blank"> DVC </a>:</h2><ul class=""><li id="0c3a" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">数据是任何ML系统的关键组成部分之一。因此，像我们的代码一样对它们进行版本控制是非常重要的。但是数据很大(以GBs、Tbs等为单位),这使得它无法使用Git对它们进行版本控制。于是就有了<a class="ae mp" href="http://pip install cookiecutter" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj"><em class="kf"/></strong></a><strong class="jl hj"><em class="kf"/></strong>来解救我们。我建议你先浏览一下他们的文档，这是最好的文档之一。</li><li id="6003" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">DVC与云存储(如AWS s3、GCP存储等)以及本地存储配合得非常好(&amp; easy)。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/8dd8bdadebce1cbcf2e23cb959caecf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*q7L0kQaSLI9YDKtvLFat6w.png"/></div></figure><p id="3007" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">DVC教程(不用说，这将是基础知识，在这里我的目标是给你一个简单的想法。您可以在他们的文档中找到更多高级主题和教程)</p><pre class="iy iz ja jb fd mq mr ms mt aw mu bi"><span id="a09f" class="ky kz hi mr b fi mv mw l mx my"># Step 0: Install<br/>pip install dvc<br/>pip install dvc[gs] #If install fo gcp storage or likewise</span><span id="fdd9" class="ky kz hi mr b fi mz mw l mx my"># Step 1: Setup<br/># DVC a Git enabled project <br/>git init .<br/>dvc init</span><span id="10c7" class="ky kz hi mr b fi mz mw l mx my"># Step 2: Add remote; Remote is just a backend to store DVC versioned data<br/>dvc remote add -d myremote /location/on/disk #Local Remote<br/>dvc remote add -d myremote gs://some/bucket #GCP storage</span><span id="dc19" class="ky kz hi mr b fi mz mw l mx my"># Step 3: Adding Data to DVC<br/>dvc add ./data<br/>#additional steps for cloud storage<br/>dvc push</span></pre><ul class=""><li id="4beb" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated">我们还可以与他人共享DVC版本数据</li></ul><pre class="iy iz ja jb fd mq mr ms mt aw mu bi"><span id="cad8" class="ky kz hi mr b fi mv mw l mx my"># Sharing data<br/>git clone some-repo-having-dvc@someremote.git<br/>dvc fetch</span></pre><ul class=""><li id="a5ee" class="ly lz hi jl b jm jn jp jq js ma jw mb ka mc ke md me mf mg bi translated">数据VCS的最大好处是时间旅行。我知道，为不同的数据维护不同的文件夹是非常痛苦的。用不同的变量分离和合并它们，就像超参数调谐一样，是一种蛮力。但这可以通过使用<strong class="jl hj"> <em class="kf">数据时间旅行在瞬间完成。</em> </strong></li></ul><h2 id="a0a0" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">实现数据时间旅行的一些专业技巧</h2><p id="a378" class="pw-post-body-paragraph jj jk hi jl b jm lt ij jo jp lu im jr js lv ju jv jw lw jy jz ka lx kc kd ke hb bi translated">有多种方法可以做到这一点，但我会分享最适合我们的方法。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/106bbdfa2b1f4594e0d780035e89a618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UfpP65diAQZtBuXG.png"/></div></div></figure><p id="ee1c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→我们将使用Git和DVC</p><p id="0c36" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→让我们假设您每两周(或任何日期，不重要)添加一次新数据。<em class="kf">我假设你理解‘git tag’</em></p><pre class="iy iz ja jb fd mq mr ms mt aw mu bi"><span id="840a" class="ky kz hi mr b fi mv mw l mx my"># Step 1: Add data to dvc<br/>dvc add ./data</span><span id="9611" class="ky kz hi mr b fi mz mw l mx my">#git tag to version data <br/>git tag &lt;date&gt; # date can be replace by anything, it's just that date make it easy to backtrack it</span><span id="1d93" class="ky kz hi mr b fi mz mw l mx my"># Step 2: Assumming you have added new data to same ./data<br/>dvc add ./data<br/>git tag &lt;new date&gt;</span><span id="a260" class="ky kz hi mr b fi mz mw l mx my"># Step 3: Assuming new data diddn't work for &amp; older data was good<br/>git checkout &lt;date&gt;<br/>dvc checkout<br/># Thats it you just did a time travel with just two steps...</span></pre><p id="c70a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→代替git标记，我们也可以使用git分支，但是考虑到您已经有很多微服务分支，这会使它变得更加混乱。</p><p id="8b06" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">→ <strong class="jl hj">可选:</strong>总是尝试在主分支中使用DVC。如果你想使用某种实验数据然后创建一个新的分支&amp;然后使用它。请勿干扰主分支的良好数据</p><p id="f2fa" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">注意:关于DVC还有很多要讨论的。所以我会专门为DVC写一篇博客</p><h2 id="a3db" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">6.使用<a class="ae mp" href="https://mlflow.org" rel="noopener ugc nofollow" target="_blank"> MLflow </a>进行ML作业跟踪:</h2><ul class=""><li id="dcf2" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke md me mf mg bi translated">这一部分是可选的，但是如果你把它结合到你的项目中，它会被证明是非常重要的。</li><li id="e2d7" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">MLFlow不完全是项目治理的一部分，但更像ML工作跟踪(像跟踪培训)，比较结果，重现旧的结果，等等。所以我认为它可能在项目治理中找不到空间，但是在整体开发中会起到重要的作用。</li><li id="7dbe" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke md me mf mg bi translated">所以我会坚持让你去找他们的医生，探索一下。将它集成到您的项目中非常容易。他们也有非常直观的文档和很好的教程。</li></ul><h2 id="6649" class="ky kz hi bd la lb lc ld le lf lg lh li js lj lk ll jw lm ln lo ka lp lq lr ls bi translated">让我们回顾一下第一部分和第二部分的故事，好吗？</h2><ol class=""><li id="7eb7" class="ly lz hi jl b jm lt jp lu js mm jw mn ka mo ke nd me mf mg bi translated">在动手之前，首先要有一个涉及所有利益相关者的生命周期。</li><li id="2b8b" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke nd me mf mg bi translated">使用微服务方法开发</li><li id="bb3b" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke nd me mf mg bi translated">打包每个服务(使用docker之类的容器技术)</li><li id="0345" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke nd me mf mg bi translated">治理项目，快速开发，但有效协作</li><li id="12ae" class="ly lz hi jl b jm mh jp mi js mj jw mk ka ml ke nd me mf mg bi translated">用git跟踪代码，用DVC跟踪数据，用MLflow做实验。</li></ol></div></div>    
</body>
</html>