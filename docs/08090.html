<html>
<head>
<title>Create your own dataset for YOLOv4 object detection in 5 minutes !</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在5分钟内为YOLOv4对象检测创建您自己的数据集！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/create-your-own-dataset-for-yolov4-object-detection-in-5-minutes-fdc988231088?source=collection_archive---------3-----------------------#2020-07-17">https://medium.com/analytics-vidhya/create-your-own-dataset-for-yolov4-object-detection-in-5-minutes-fdc988231088?source=collection_archive---------3-----------------------#2020-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="5e66" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这是一个使用Google的开放图像数据集创建你自己的定制数据集的教程，用于使用Darknet执行YOLOv4对象检测！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/04dd2b37b263f4639fad2234b9d5484a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VluiXEpyenaqzuBkhtY3iA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图片摘自Aleksey Bochkovskiy的medium文章:<a class="ae jn" rel="noopener" href="/@alexeyab84/yolov4-the-most-accurate-real-time-neural-network-on-ms-coco-dataset-73adfd3602fe">https://medium . com/@ alexeyab 84/yolov 4-the-most-accurate-real-time-neural-network-on-ms-coco-dataset-73 adfd 3602 Fe</a></figcaption></figure><p id="4797" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">YOLOv4是“技术上”最先进的物体探测器。这是因为有些人可能会支持YOLOv5，但由于这是一个高度争议的时刻，让我们现在就用YOLOv4。我不打算深入这项技术是什么，但我将直接进入创建您自己的定制数据集的方法，该数据集可用于YOLOv4和Darknet使用<a class="ae jn" href="https://opensource.google/projects/open-images-dataset" rel="noopener ugc nofollow" target="_blank">谷歌的开放图像数据集</a>进行对象检测，该数据集有600类图像数据可供您选择。</p><p id="e8b5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">向<a class="ae jn" href="https://vittoriomazzia.com/" rel="noopener ugc nofollow" target="_blank">维托里奥·马齐</a>大声欢呼，他构建了一个惊人的工具包，用于从<a class="ae jn" href="https://storage.googleapis.com/openimages/web/index.html" rel="noopener ugc nofollow" target="_blank">开放图像数据集</a>下载和标记图像。还要特别感谢<a class="ae jn" href="https://www.youtube.com/channel/UCrydcKaojc44XnuXrfhlV8Q/featured" rel="noopener ugc nofollow" target="_blank">人工智能的家伙</a>创造了一个伟大的方法来使用YOLOv4格式的注释来标记这些图像。这篇文章的灵感来自他们的创作。</p><p id="0244" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">查看他们的github repos，了解相同内容的详细解释:</p><div class="kk kl ez fb km kn"><a href="https://github.com/EscVM/OIDv4_ToolKit" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">EscVM/OIDv4_ToolKit</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">您是否希望构建您的个人对象检测器，但没有足够的图像来训练您的模型？你想不想…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">github.com</p></div></div><div class="kw l"><div class="kx l ky kz la kw lb jh kn"/></div></div></a></div><div class="kk kl ez fb km kn"><a href="https://github.com/theAIGuysCode/OIDv4_ToolKit" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">公平代码/oid v4 _工具包</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">convert_annotations.py通常使用工具包从打开的图像数据集中收集图像。收集图像后，只需运行…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">github.com</p></div></div><div class="kw l"><div class="lc l ky kz la kw lb jh kn"/></div></div></a></div><p id="b93b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注意</strong>:您需要在本地机器上下载Python，下面提到的步骤才能工作。所以如果你还没有的话，从<a class="ae jn" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><h1 id="eeb9" class="ld le hi bd lf lg lh li lj lk ll lm ln io lo ip lp ir lq is lr iu ls iv lt lu bi translated"><strong class="ak">创建您自己的数据集的步骤</strong>:</h1><ul class=""><li id="7cde" class="lv lw hi jq b jr lx ju ly jx lz kb ma kf mb kj mc md me mf bi translated"><strong class="jq hj">步骤1 </strong>:首先，进入您的命令提示符或终端，键入以下命令，将aiguisscode/oid v4 _ ToolKit的github repo克隆到您的本地计算机的首选文件夹中。</li></ul><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="3919" class="ml le hi mh b fi mm mn l mo mp">git clone <a class="ae jn" href="https://github.com/theAIGuysCode/OIDv4_ToolKit.git" rel="noopener ugc nofollow" target="_blank">https://github.com/theAIGuysCode/OIDv4_ToolKit.git</a></span></pre><p id="c0eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你也可以直接从repo下载zip文件。</p><ul class=""><li id="fd86" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤2 </strong>:从您的终端进入文件夹‘oid v4 _ ToolKit’并输入:</li></ul><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="cf6c" class="ml le hi mh b fi mm mn l mo mp">pip install -r requirements.txt</span></pre><p id="ad33" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将为您提供实现这个项目所需的所有库。</p><ul class=""><li id="89c5" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤3 </strong>:现在你已经准备好了所有的要求，前往<a class="ae jn" href="https://storage.googleapis.com/openimages/web/index.html" rel="noopener ugc nofollow" target="_blank">开放图像数据集</a>网站，选择你感兴趣的图像类别。让我们假设你对三个类感兴趣:气球、人和狗。要从这三个类中获取图像，请回到您的终端，在同一个“OIDv4_ToolKit”文件夹中，键入:</li></ul><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="5a86" class="ml le hi mh b fi mm mn l mo mp">python main.py downloader --classes Balloon Person Dog --type_csv train --limit 200</span></pre><p id="df76" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将在一个名为“train”的新文件夹中下载每个类别的200张图片。用于训练的数据越多，模型就越好。所以，如果你有足够的资源，你可以随意下载你想要的图片。</p><p id="236f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">注意</strong>如果你有一个包含空格的类名，用下划线代替空格。例如，“车辆登记牌照”将变成“车辆登记牌照”。</p><ul class=""><li id="2ab4" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">第四步</strong>:下载开始时，会问你两次是否要下载一些缺失的文件。两次都按y。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mt"><img src="../Images/33fc33ae7f759894929640bff8f68a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*69xiylkqSM2Gz7JKndEGDQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">截图取自AI Guys Youtube频道:<a class="ae jn" href="https://www.youtube.com/watch?v=_4A9inxGqRM" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=_4A9inxGqRM</a></figcaption></figure><ul class=""><li id="6dc9" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤5 </strong>:再次重复步骤3，但这次将命令中的‘train’改为‘validation ’,并将此处的图像数量减少到40(20%的训练数据)。这样做是为了在训练后评估您的自定义对象检测器。</li></ul><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="c7d2" class="ml le hi mh b fi mm mn l mo mp">python main.py downloader --classes Balloon Person Dog --type_csv validation --limit 40</span></pre><p id="0c4a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您也可以对测试文件夹再做一次同样的操作，但是这是可选的。</p><p id="1fff" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们从工具包中得到的标签不是正确的YOLOv4格式。但是我们可以按照步骤6和7将它们转换成正确的格式。</p><ul class=""><li id="7587" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤6 </strong>:在根OIDv4_ToolKit文件夹中，打开文件‘classes . txt’并编辑它，使之包含您刚刚下载的类，每行一个。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mu"><img src="../Images/1a0fcef0e7d801faa02796eecae52aab.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*-qePQHDsj7JISYrqFsD_2A.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">classes.txt</figcaption></figure><ul class=""><li id="4e8f" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤7 </strong>:现在运行该命令，将OIDv4_Toolkit生成的标签转换为YOLOv4标签:</li></ul><pre class="iy iz ja jb fd mg mh mi mj aw mk bi"><span id="ee93" class="ml le hi mh b fi mm mn l mo mp">python convert_annotations.py</span></pre><p id="c4ca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将转换训练和验证数据集标签，现在darknet可以使用它们来正确地训练我们的自定义对象检测器。</p><ul class=""><li id="2c95" class="lv lw hi jq b jr js ju jv jx mq kb mr kf ms kj mc md me mf bi translated"><strong class="jq hj">步骤8 </strong>:移除训练和验证文件夹中包含非YOLOv4格式标签的旧“标签”文件夹。</li></ul><p id="2fa6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，我们已经准备好用YOLOv4和darknet开始我们的自定义对象检测了！！😬 🙌</p><p id="1f52" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我已经用这种方法获得并标记了出租车的图像，用它我创建了一个出租车检测器项目。考虑访问我的Github repo，深入了解如何使用YOLOv4 -训练您的第一个对象检测器</p><div class="kk kl ez fb km kn"><a href="https://github.com/adityarc19/taxi-detector-with-yolov4" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">adit yarc 19/带yolov的出租车检测器4</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">这是一个出租车检测器项目，在给定的图像中识别出租车。我已经从网上下载了200张出租车的高清图像…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">github.com</p></div></div><div class="kw l"><div class="mv l ky kz la kw lb jh kn"/></div></div></a></div><p id="3e9d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">感谢阅读！</p></div></div>    
</body>
</html>