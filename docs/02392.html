<html>
<head>
<title>Revisiting Raindrops in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python中重温雨滴</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/revisiting-raindrops-in-python-abc4fbb23f4e?source=collection_archive---------15-----------------------#2019-12-14">https://medium.com/analytics-vidhya/revisiting-raindrops-in-python-abc4fbb23f4e?source=collection_archive---------15-----------------------#2019-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a36065f6294a6260c07967aaacfe9d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P7e6ufIWb9COX-53XicSgw.jpeg"/></div></div></figure><p id="73d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不久前，我在<a class="ae jo" href="http://exercism.io" rel="noopener ugc nofollow" target="_blank">exercisem . io</a>上的Python轨道中展示了<a class="ae jo" rel="noopener" href="/@losimprov/raindrops-in-python-e72a3e4941ab">对雨滴问题</a>的解决方案——类似于经典的FizzBuzz问题。</p><p id="f113" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是这个问题的简要回顾:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="5533" class="jy jz hi ju b fi ka kb l kc kd">Your task is to convert a number into a string that contains raindrop sounds corresponding to certain potential factors. A factor is a number that evenly divides into another number, leaving no remainder. </span><span id="970d" class="jy jz hi ju b fi ke kb l kc kd">The simplest way to test if a one number is a factor of another is to use the <a class="ae jo" href="https://en.wikipedia.org/wiki/Modulo_operation" rel="noopener ugc nofollow" target="_blank">modulo operation</a>.</span><span id="0420" class="jy jz hi ju b fi ke kb l kc kd">The rules of raindrops are that if a given number:<br/>• has 3 as a factor, add ‘Pling’ to the result.<br/>• has 5 as a factor, add ‘Plang’ to the result.<br/>• has 7 as a factor, add ‘Plong’ to the result.<br/><em class="kf">• does not</em> have any of 3, 5, or 7 as a factor, the result should be the digits of the number.</span><span id="d0fb" class="jy jz hi ju b fi ke kb l kc kd"><strong class="ju hj">Examples</strong></span><span id="ee71" class="jy jz hi ju b fi ke kb l kc kd">28 has 7 as a factor, but not 3 or 5, so the result would be “Plong”.</span><span id="b723" class="jy jz hi ju b fi ke kb l kc kd">30 has both 3 and 5 as factors, but not 7, so the result would be “PlingPlang”.</span><span id="0041" class="jy jz hi ju b fi ke kb l kc kd">34 is not factored by 3, 5, or 7, so the result would be “34”.</span></pre><p id="24eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">解决方案是:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="837b" class="jy jz hi ju b fi ka kb l kc kd">def convert(number):<br/> output = ‘’<br/> if number % 3 == 0:<br/> output += ‘Pling’</span><span id="a1b7" class="jy jz hi ju b fi ke kb l kc kd">if number % 5 == 0:<br/> output += ‘Plang’</span><span id="4fbb" class="jy jz hi ju b fi ke kb l kc kd">if number % 7 == 0:<br/> output += ‘Plong’</span><span id="f587" class="jy jz hi ju b fi ke kb l kc kd">if output is ‘’:<br/> return str(number)<br/> <br/> return output</span></pre><p id="95a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">没事的。这是一个非常实用、有效的解决方案。一匹老黄牛。但这并不能完全扩大规模。如果我们想最终增加几十个因素呢？我们必须为每一个都写“如果”语句吗？将这些因素放在一个数据结构中，然后遍历它会更有效。此外，用Python创建字符串相对较慢，因为程序会在运行时不断地重新创建然后销毁这些数据。将单个字符串附加到单个列表中，然后连接该列表，如果我们最终要扩大规模，会使程序运行得更快。</p><p id="de22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑到这些因素，让我们试着重构这个坏男孩。</p><p id="67c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一些需要记住的事情:</p><ul class=""><li id="46d3" class="kg kh hi is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko bi translated">这种解决方案在许多因素下都不太适用。将这些因素放入数据结构并遍历它会更有效。</li><li id="836c" class="kg kh hi is b it kp ix kq jb kr jf ks jj kt jn kl km kn ko bi translated">在Python中创建字符串相对较慢。最好不要经常这样做，尤其是对于较大的程序。</li><li id="07bc" class="kg kh hi is b it kp ix kq jb kr jf ks jj kt jn kl km kn ko bi translated">可以在returns语句中包含or条件。你可以写<code class="du ku kv kw ju b">if not output</code>，或者更短的<code class="du ku kv kw ju b">return output or str(number)</code>。</li></ul><p id="a3a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑到这一点，我们得到这个:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="9dc5" class="jy jz hi ju b fi ka kb l kc kd">def convert(number):<br/>    factors = []<br/>    output = ''<br/>    tu = {1:'Pling', 2:'Plang', 3:'Plong'}<br/>    <br/>    if number % 3 == 0:<br/>        factors += tu[1]<br/><br/>    if number % 5 == 0:<br/>        factors += tu[2]<br/><br/>    if number % 7 == 0:<br/>        factors += tu[3]<br/><br/>    return output.join(factors) or str(number)</span></pre><p id="ff9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过使用字典，我们可以以多种方式迭代和评估<em class="kf">号</em>。如果<em class="kf">号</em>满足要求，我们在那个特定的键上追加字典的值。</p><p id="6529" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们想给这个程序添加更多的需求，我们可以把它们添加到字典中，并添加新的‘if’子句。</p><p id="a728" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它变短了吗？没有。它是否通过不连续创建字符串来遵循经济数据使用的最佳实践？你打赌。它是否建立了一个数据结构，使得迭代和评估变得简单？毋庸置疑。</p><p id="07f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们不是在每次运行程序时都创建字符串，而是将单个字符串值附加到一个列表中，以后再将它们连接起来。</p><p id="d50b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请继续关注《雨滴》的激动人心的结局，当我们拿出切肉刀，开始对那些“如果”陈述做一些修整…</p></div></div>    
</body>
</html>