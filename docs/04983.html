<html>
<head>
<title>Audio Data Processing— Feature Extraction — Essential Science &amp; Concepts behind them — Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">音频数据处理—特征提取—基础科学及其背后的概念—第一部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/audio-data-processing-feature-extraction-science-concepts-behind-them-be97fbd587d8?source=collection_archive---------4-----------------------#2020-04-07">https://medium.com/analytics-vidhya/audio-data-processing-feature-extraction-science-concepts-behind-them-be97fbd587d8?source=collection_archive---------4-----------------------#2020-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/f24ac924816e85754fa91ab63f922ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Zx9QAMPzxhama9O4q9xWXg.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">音频信号处理— <a class="ae iq" href="https://www.eeweb.com/quizzes/audio-signal-processing" rel="noopener ugc nofollow" target="_blank"> src </a></figcaption></figure><p id="9a88" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">注意:本系列的第2部分有工作代码解释，可在<a class="ae iq" rel="noopener" href="/analytics-vidhya/audio-data-processing-feature-extraction-essential-science-concepts-behind-them-part-2-9c738e6a7f99">这里</a>找到。</p><p id="e620" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">互联网上有很多有用的博客，解释了针对深度学习的各种应用的特征提取活动处理音频数据背后的概念。这些博客信息量很大，但我还是学到了关于音频文件中特征提取过程的新东西，这个博客系列是为了向其他爱好者总结这些理解。</p><p id="61b7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">首先，与图像处理相比，音频信号处理的概念有点复杂，因为可视化音频数据不像图像那样容易。然而，这个概念非常相似，python中有非常强大的库，比如librosa——它为我们完成了大部分任务。本文使用的Python笔记本可以在<a class="ae iq" href="https://github.com/VVasanth/MachineLearning/tree/master/AudioDataProcessing" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/e73e1174801c28b2ae928a76b6f597ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*L1Vs5flw34BuXAA_SfxuJQ.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">音频背后的理论</figcaption></figure><p id="d0f0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们从一些理论开始，什么是声波？声波是每当任何声音发生时空气分子的振动，声音以波的形式从发出者传播到接收者。</p><p id="9b12" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">因此，这种波有3个属性——振幅、频率和时间。</p><p id="33c8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→振幅代表波信号的大小，通常以分贝(dB)为单位。</p><p id="7604" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→时间就是时标，我们都知道。</p><p id="4218" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→频率代表波在一秒钟内经历的完整周期数，单位为Hz。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/14c43ed9e2381089540eaa979e34149b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*atOyLT5-IKr3iKSjt_vh3g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">音频波的3D视图。<a class="ae iq" href="http://ataspinar.com/2018/04/04/machine-learning-with-signal-processing-techniques/" rel="noopener ugc nofollow" target="_blank"> src </a></figcaption></figure><p id="c93a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">每个生物都有不同的声波听觉范围。我们(人类)可以听到20赫兹到20，000赫兹范围内的声波。狗可以听到高达45K Hz的声波，海豚可以听到150K Hz。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/fbf277877432b6c948460b4f9ebc0b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*ja6i0P00DeaVlsDaxwNvUg.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">不同动物的听觉范围。<a class="ae iq" href="http://www.cochlea.org/en/hear/human-auditory-range" rel="noopener ugc nofollow" target="_blank"> src </a></figcaption></figure><p id="cde2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">由于人类听觉范围约为20K Hz，许多库中音频文件的采样率默认设置为每秒22050次。我们可以根据需要增加/减少它。</p><p id="93ba" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">等等，首先，什么是音频采样速率？假设你有一台录音机，正在播放一首音乐，你想把它录下来。注意:音频波本质上是连续的，但我们的大多数处理引擎都是为处理数字/离散信号而设计的。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jw"><img src="../Images/d8e769e9eb07997832b47a6ee1421983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PXdJYrdHq6fKa4x6v-DTdg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">采样率。</figcaption></figure><p id="1b94" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">开始录音时，录音机会以非常高的速率记录音频信号的幅度，范围为每秒22K值。假设您已经录制了5秒钟的音频，那么音频文件将包含(22K * 5)个录制信号的幅度值。因此，采样率对应于每秒记录这些音频波的速率。</p><p id="656d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">此外，请注意，我们处理的声波通常是1000个独立波信号的组合，每个信号的频率都不同。客观地说，假设你正在听一场音乐会，吉他、鼓和键盘乐器一前一后地演奏。当我们录制这种音频时，每种乐器都会产生不同的音频波，我们听到的是由各种乐器产生的1000个单个音频波的合并音频波。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/ce2db71489f074142634d8099e462b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*6BBUgwmSCwbHXaa1_QWt6A.jpeg"/></div></figure><p id="b796" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在处理音频数据时，该合并的音频波将被分离成其各自频率的单独的波。这个过程对于在三维(振幅、频率和时间)中观察音频波非常关键，并且为此目的使用了“<strong class="it hj">快速</strong> <strong class="it hj">傅立叶变换(FFT) </strong>”的概念。我们不会深入讨论什么是“傅立叶变换”的理论，但我们会在下一节看到它有多强大。</p><p id="88b7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">理论已经讲得够多了，让我们研究几个波浪数据来理解上面的概念。为了理解“快速傅立叶变换”的概念，这个<a class="ae iq" href="https://towardsdatascience.com/understanding-audio-data-fourier-transform-fft-spectrogram-and-speech-recognition-a4072d228520" rel="noopener" target="_blank">博客</a>包含了很好的解释——我将用我的语言和代码复制同样的内容。</p><p id="bb60" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们生成一个频率为3Hz、幅度为1单位的简单正弦波，如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/040d7a3b9a76dfbf0d7468e95983cab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*dhs2BsoB566KW3JLDx1hXA.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">Python代码生成频率为3 Hz的正弦波</figcaption></figure><p id="027e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这将产生正弦波，如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/1f9f2bd07cc035792f70d450f2e24e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*ghqhNq_J-ME4NYXi1ff--g.png"/></div></figure><p id="4752" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如上所述，FFT用于获得给定波的频率和幅度。让我们使用sklearn编写从上述波形中提取频率的函数:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/fe05e8588ea4236a872a7d9c17edb3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*PW06AnV1uqFq2l03-7zZdg.png"/></div></figure><p id="c21f" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当我们将上述波值传递到这个“fft_plot”函数中时，它将识别波的频率和大小。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ke"><img src="../Images/1972453febc7f83e40a7e8a46dbf4426.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*hzGoq_bPyiY6kvjNEvAxVg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">由“fft_plot”功能识别的频率值</figcaption></figure><p id="0e19" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">您可以使用不同的频率值和幅度值来尝试相同的函数，并观察“fft_plot”函数是否能正确识别频率值。</p><p id="900b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在，让我们假设你有一个声波，它是两个波的组合，我们想看看“FFT”如何帮助我们。让我们继续。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kf"><img src="../Images/9240590045a7da65a8e7591b5c271ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QiwKYs7pW1hT8_nxvqnZDA.jpeg"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">快速傅里叶变换</figcaption></figure><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kg"><img src="../Images/748e35f4c6dd12fcf090823d730c3082.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*Z5KRWkLTBFhf2CuXgsz-IA.png"/></div></div></figure><p id="c02c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">产生频率为11Hz、幅度为2个单位的正弦波。一旦生成，正弦波将看起来像这样。</p><p id="6da0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在将两个正弦波相加，得到合并的正弦波。合并的正弦波看起来如下所示。</p><p id="c1bb" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">合并正弦波:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/5e33b84cb268fac446a091f6c709b666.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*o1B_3C_uRZuWrBXWz-fXZg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">两个不同频率的合并正弦波</figcaption></figure><p id="e319" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">一旦我们馈入合并波，FFT函数将帮助我们分离两个波，并找到各自波的频率，如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/7adfea4fed523305a8d6ab3db4c432ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*J2FNeQVSmseBULSHUBrtsg.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">FFT有助于识别合并波中出现的单个波的频率</figcaption></figure><p id="84c0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如前所述，我们听到的实时声音是1000个单个波的组合，通过应用FFT，我们可以将它们提取到各自的频率。让我们在实时音频上试试这个。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/fbaab438481a71674349b4956f026218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*POgwz4BZAB1V5jG52ur2dg.png"/></div></figure><p id="b374" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当我们在wave plt上绘制音频时，这是音频波形的样子:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/3895c135fb1fe87bb3fa1e02725bb52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*QFzQc5i06k9E9dRReEUn_A.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">实时样本音频波形图</figcaption></figure><p id="a1e8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在，让我们将该音频波传递给FFT函数，观察该音频包含多少个单独的频率波:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/74b92281e4466d7b8cb636880fc1e632.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*dQUe02YtHrN2MQy9Dl7o4g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">样本音频波的FFT输出</figcaption></figure><p id="90cd" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">正如您在上面的图中观察到的，FFT函数已经识别了给定音频中的8000多个单独的波，其中100–1000hz范围内的波具有较高的幅度。</p><p id="4d26" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">总结一下:</p><p id="126a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→每个声波都有3个不同的维度——振幅、频率和时间。</p><p id="3ba8" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→我们听到的实时音频是数千个独立声波的组合。</p><p id="ae7b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→为了处理音频文件，我们需要处理三维音频数据。</p><p id="aea1" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">→傅里叶变换用于从合并波中提取单个波的信息。</p><p id="c480" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">提取频率信息后，我们可以使用声谱图以3D形式显示声波，如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/ed0861be266b7c1f63a33997aba92a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*cYDn_vV8mDq4XYG8MId_ww.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">音频文件的样本频谱图</figcaption></figure><p id="5034" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是该系列的第1部分，在下一篇文章中，我们将详细讨论Mel频率系数以及音频数据在特征提取过程中是如何转换的。请小心。谢谢！</p><p id="79c5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">参考资料:</p><div class="km kn ez fb ko kp"><a href="https://towardsdatascience.com/understanding-audio-data-fourier-transform-fft-spectrogram-and-speech-recognition-a4072d228520" rel="noopener follow" target="_blank"><div class="kq ab dw"><div class="kr ab ks cl cj kt"><h2 class="bd hj fi z dy ku ea eb kv ed ef hh bi translated">了解音频数据、傅立叶变换、FFT、频谱图和语音识别</h2><div class="kw l"><h3 class="bd b fi z dy ku ea eb kv ed ef dx translated">使用python进行音频数据分析(声音分析)的介绍</h3></div><div class="kx l"><p class="bd b fp z dy ku ea eb kv ed ef dx translated">towardsdatascience.com</p></div></div><div class="ky l"><div class="kz l la lb lc ky ld ik kp"/></div></div></a></div><div class="km kn ez fb ko kp"><a href="https://towardsdatascience.com/extract-features-of-music-75a3f9bc265d" rel="noopener follow" target="_blank"><div class="kq ab dw"><div class="kr ab ks cl cj kt"><h2 class="bd hj fi z dy ku ea eb kv ed ef hh bi translated">提取音乐特征</h2><div class="kw l"><h3 class="bd b fi z dy ku ea eb kv ed ef dx translated">特征提取是机器学习的重要组成部分。我们将在这里提取音乐的特征，并将使用它…</h3></div><div class="kx l"><p class="bd b fp z dy ku ea eb kv ed ef dx translated">towardsdatascience.com</p></div></div><div class="ky l"><div class="le l la lb lc ky ld ik kp"/></div></div></a></div></div></div>    
</body>
</html>