<html>
<head>
<title>Reinforcement Learning to Reduce Building Energy Consumption</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">强化学习降低建筑能耗</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/reinforcement-learning-to-reduce-building-energy-consumption-bb7e7ffa13b2?source=collection_archive---------4-----------------------#2019-11-28">https://medium.com/analytics-vidhya/reinforcement-learning-to-reduce-building-energy-consumption-bb7e7ffa13b2?source=collection_archive---------4-----------------------#2019-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/78e62f7eea4edaea3da3efdbfbb340ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1u2qrIR1Q6R3IOg6.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">资料来源:哥伦比亚大学地球研究所</figcaption></figure><p id="d5c5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">仅建筑物的供暖、通风和空调就占全球能源需求<strong class="ix hj">【1】</strong>的近<em class="jt"> 40% </em> <em class="jt">。</em></p><blockquote class="ju jv jw"><p id="928a" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">节约能源的需求日益成为对抗气候变化的基础。我们一直在研究一种基于云的RL算法，该算法可以改造现有的HVAC控制以获得实质性的结果。</p></blockquote><p id="b8f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在过去的十年中，已经提出了一种依靠人工智能的新型控制。特别是，我们将强调基于<em class="jt">强化学习</em> (RL)的数据驱动控制，因为它们从一开始就显示出作为HVAC控制<strong class="ix hj">【2】</strong>的有希望的结果。</p><p id="b5ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用RL升级空调系统有两种主要方式:在新系统上实施RL或改造现有系统。第一种方法适用于供暖和空调系统的制造商，而后者可以应用于任何可以远程控制的现有工厂。</p><p id="11a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们设计了一种基于云的RL算法，通过远程读取环境数据来不断学习如何优化功耗，从而定义HVAC设置点。基于云的解决方案适合扩展到大量建筑。</p><blockquote class="ka"><p id="0943" class="kb kc hi bd kd ke kf kg kh ki kj js dx translated">我们的测试表明，两个不同位置的一次能源消耗降低了5.4%至9.4%，保证了一流控制的相同热舒适性。</p></blockquote><p id="d6bb" class="pw-post-body-paragraph iv iw hi ix b iy kk ja jb jc kl je jf jg km ji jj jk kn jm jn jo ko jq jr js hb bi translated">传统上，HVAC系统由基于<em class="jt">模型的</em>(例如，模型预测控制)<em class="jt"> </em>和基于<em class="jt">规则的</em>控制来控制:</p><h1 id="736f" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">模型预测控制</h1><p id="83ca" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">基本的MPC概念可以总结如下。假设我们希望控制一个多输入多输出的过程，同时满足输入和输出变量的不等式约束。如果过程的相当精确的动态模型是可用的，则模型和当前测量可用于预测输出的未来值。然后，可以基于预测和测量来计算输入变量的适当变化。</p><p id="337b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本质上，MPC可以适应复杂的热力学，并在单个建筑的节能方面取得优异的结果。沿着这个思路，有一个重要的问题:这种模型的改造应用需要为每一个既有建筑开发一个热能模型。同样，很明显，模型的性能依赖于它的质量，拥有一个相当精确的模型通常是昂贵的。高初始投资是基于模型方法的主要问题之一<strong class="ix hj">【3】</strong>。同样，对于建筑物的任何能效干预，都必须重新构建或调整模型，这又需要领域专家的昂贵参与。</p><h1 id="19c9" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">基于规则的控制(RBC)</h1><p id="88a6" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">基于规则的建模是一种使用一组规则的方法，这些规则<em class="jt">间接地</em>指定了一个数学模型。当规则集明显比它所暗示的模型简单时，这种方法特别有效，因为模型是有限数量的模式的重复表现。</p><p id="d1a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，红细胞是最先进的无模型质控品，代表了行业标准。无模型解决方案可能会扩大规模，因为没有模型使得解决方案可以轻松地应用于不同的建筑，而不需要领域专家。RBC的主要缺点是它们很难被优化调整，因为它们对耦合的建筑和工厂热力学的内在复杂性的适应性不够。</p><h1 id="e15a" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">强化学习(RL)控制</h1><p id="86d7" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">在介绍RL控件的优点之前，我们先简单说一下RL本身。用萨顿和巴尔托<strong class="ix hj">【4】</strong>的话说:</p><blockquote class="ju jv jw"><p id="5dcd" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><em class="hi">强化学习是学习做什么——如何将情况映射到行动——以便最大化数字奖励信号。学习者没有被告知要采取哪些行动，而是必须通过尝试来发现哪些行动会产生最大的回报。在最有趣和最具挑战性的案例中，行动不仅会影响眼前的奖励，还会影响下一个情境，进而影响所有后续的奖励。这两个特征——试错搜索和延迟奖励——是强化学习的两个最重要的区别特征。</em></p></blockquote><p id="ea8d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的例子中，RL算法直接与HVAC控制系统交互。它使用现场收集的实时数据不断适应受控环境，而无需访问建筑的热能模型。通过这种方式，RL解决方案可以节省一次能源，降低运营成本，同时仍然适用于大规模应用。</p><p id="16e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，需要在运行成本较高的HVAC系统的大规模应用中引入RL控制，例如负责大量温度调节的应用。</p><p id="039d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以方便地实现RL解决方案的建筑使用类之一是<em class="jt">超市</em>类。根据定义，超市是具有可变热负荷和复杂职业模式的分布广泛的建筑物，从HVAC控制的角度来看，这些建筑物引入了不可忽略的随机成分。</p><p id="90e0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将通过使用强化学习的框架来形式化这个问题，让我们以一种更好的方式将它联系起来。</p><h1 id="3d00" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">强化学习解决方案</h1><p id="585d" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">在RL中，一个<em class="jt">代理</em>与一个<em class="jt">环境</em>交互，并学习最佳的行动顺序，由一个策略来表示，以达到期望的目标。如<strong class="ix hj">【4】</strong>所述:</p><blockquote class="ju jv jw"><p id="fc34" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">学习者和决策者被称为代理人。它与之交互的东西，包括代理之外的一切，被称为环境。这些不断地相互作用，主体选择动作，环境响应这些动作并向主体呈现新的情况。</p></blockquote><figure class="lt lu lv lw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/6b9694de72e4a53acfc9438599416301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*otoVWTTZV5HhveaB.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1 : <a class="ae iu" href="https://www.researchgate.net/figure/The-agent-environment-interaction-process_fig2_321487567" rel="noopener ugc nofollow" target="_blank">研究之门</a></figcaption></figure><p id="984f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的工作中，环境是一个超市建筑。奖励表达了代理的学习目标:返回给代理的标量值，它告诉我们代理相对于学习目标的行为。</p><p id="1d43" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">代理人和环境之间的相互作用导致了一个决策过程:回报作为反馈。我们通过一个<strong class="ix hj"><em class="jt">m</em></strong><em class="jt">arkov</em><strong class="ix hj"><em class="jt">d</em></strong><em class="jt">决策</em> <strong class="ix hj"> <em class="jt"> P </em> </strong> <em class="jt">进程</em> ( <strong class="ix hj"> MDP </strong>)来形式化这种交互，这通过一个有限有序列表来彻底描述，即一个<em class="jt">元组— </em> <strong class="ix hj"> <em class="jt"> ( S <em class="jt"> A </em>是动作的集合，<em class="jt">r</em>:<em class="jt">s</em>x<em class="jt">a</em>→r是奖励函数，𝑃是一个状态-动作对到下一个状态𝑃的转移概率:<em class="jt">s</em>x<em class="jt">a</em>x<em class="jt">s</em>→<em class="jt">0，1 </em>。</em></strong></p><p id="685d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">直观地说，只要我们知道我们在哪里(<em class="jt"> S </em>)，我们可以采取哪些行动(<em class="jt"> A </em>)，之前的行动是否好(<em class="jt"> r </em>)以及我们过去关于环境的经验(收集的过渡集)，我们就可以<em class="jt">决定</em>如何解决一个决策问题。术语<em class="jt">马尔可夫</em>与<em class="jt">马尔可夫</em>假设相关，即代理观察到的状态最终代表了关于环境的有用信息。在实际应用中，我们已经将马尔可夫假设放宽到有利于"<em class="jt">准马尔可夫</em>"的条件，智能体无法观察到环境的完整表示:<em class="jt">"智能体观察到的状态接近实际状态"</em><strong class="ix hj">【4】</strong>。</p><blockquote class="ju jv jw"><p id="9803" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">为了建立一个准马尔可夫状态，我们需要仔细选择代理观察的信号。我们通过仅使用所有HVAC已经可用的信号获得了良好的状态，因为它们已经被HVAC监控系统使用。不需要其他硬件来以可扩展的方式应用该解决方案。</p></blockquote><p id="a659" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在一系列时间步骤(时间是离散的)中，代理改进它的策略，这代表它在环境中的行为，其中ℙ(是一组动作的概率分布。政策改进程序的目标是达到<em class="jt">最优政策</em> π*，定义为使<em class="jt">预期贴现回报</em>最大化的政策:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/201da37e6bf76be0b6bc17f39594f5a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*6nJTk32KLo0NlSUV.png"/></div></figure><p id="b994" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其中𝛾 ∈ [ <em class="jt"> 0，1 </em></p><p id="26d4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">再说一次，非正式地说，策略只不过是我们的代理人参与的"<em class="jt">动态</em>"策略。</p><p id="057b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将这种形式转化为HVAC控制系统，RL算法的目标是在满足舒适性约束的同时节省能量。在这类问题中，我们必须考虑舒适组件和消耗的一次能源之间的权衡。</p><p id="44a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">舒适约束被定义为内部空气温度的可接受区间[ <em class="jt"> T，T </em> ]，其中<em class="jt"> T和T</em><em class="jt"/>都取决于季节。例如，间隔[ <em class="jt"> T，T </em> ]在冬季固定为[16 <em class="jt"> C </em>，19 <em class="jt"> C </em>，在夏季固定为[23 <em class="jt"> C </em>，25<em class="jt">C</em><strong class="ix hj">【5】</strong>。</p><p id="10d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，每个时间步的回报是两个部分的总和，第一部分与<em class="jt">成本</em>相关，第二部分与<em class="jt">舒适度</em>相关:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/70c6ca9b3fcbb2f2c39d101cd79022a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*kGXZpQT6bxB91dHa.png"/></div></figure><p id="ea3f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这两个组件定义为:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/1e059a411e2e41c21dd9822923ea72ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*YZifILN1yR-W8N2J.png"/></div></figure><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/ca529bd92d3444148a5b651f8dba6406.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*hRW1ZMbkw49sCNDP.png"/></div></figure><p id="71a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其中<strong class="ix hj"> <em class="jt"> c </em> </strong>是电能和热能成本的总和，在每个时间步更新，<strong class="ix hj"> λ </strong>是舒适度和成本成分之间的折衷参数，<strong class="ix hj"> <em class="jt"> p </em> </strong>是约束惩罚因子，定义为:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/69ad64d3f19b01823abfb521bd722ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*eRRH-p1RboO5Sx4Y.png"/></div></figure><p id="84a5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当温度超出舒适范围时，应用于<strong class="ix hj"> <em class="jt"> p </em> </strong>的指数函数说明了舒适分量的更大重要性。</p><p id="4a85" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在实际应用中，我们需要找到一种方法来估计受控区域的舒适度，以便调整参数<strong class="ix hj"> λ </strong>。数学上，我们可以通过将舒适约束(即<em class="jt"> T </em>在区间[ <em class="jt"> T，T </em> ]内)视为<em class="jt">随机约束</em>来解决这个问题。其思想是，给定一个温度<em class="jt"> T </em>和一个可能超过的值𝛥 <em class="jt"> T </em>，代理只能以有限的概率让温度超过<em class="jt"> T </em> +𝛥 <em class="jt"> T </em>。</p><p id="330e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从技术上讲，为了定义随机约束，我们首先计算一天中每小时记录的内部空气温度值<em class="jt"> T </em>的经验概率密度函数。我们可以在图2中看到不同控制系统的密度示例。</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/6e042ea2fe5fd525e35b514e4aff0870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*b4jt-k72uMU-BGgp.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图2:冬季试验期间工作日通过RL方法(红色)和RBC方法(绿色)达到的温度示例。这些区域显示了开放时间内温度的经验pdf，按小时分组。</figcaption></figure><p id="0353" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">RL的超标量与RBC控制量完全相同(在一天的不同时间，在16°C时，查看蓝线下方)。在冬季供暖季节，理论上的最佳控制应该将温度保持在略高于16°C，因为舒适约束得到满足，并且消耗最小。很明显，RL比RBC更接近最佳行为。</em></p><p id="67f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如前所述，RL算法通过收集关于环境动态的信息来不断改进其策略。为了完成我们的食谱，我们还需要一种配料:q函数。从状态<em class="jt"> s </em>开始，选择一个动作<em class="jt"> a </em>并遵循一个策略π所获得的回报的期望值称为策略π的<em class="jt"> q函数</em>:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/bd8e8124bc7882baf1cfc932dd8a3a25.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*lw6eHAmC1a3a2Fok.png"/></div></figure><p id="d00c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的代理将为每一对<em class="jt"> (s，a) </em>计算<em class="jt"> q </em>的近似值(即<strong class="ix hj"> <em class="jt"> Q </em> </strong>或<strong class="ix hj"><em class="jt">Q-函数</em> </strong>)。</p><p id="7701" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最优策略满足<em class="jt">贝尔曼最优方程</em>:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/5a6aeece5a4a6c9c6f8052307a3a7e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*T-6IWPBsFeDSsNxR.png"/></div></figure><p id="f006" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这为迭代方法打开了许多大门，以便获得最佳Q函数。事实上，这导致了Q学习算法:在转换(即，时间步长)之后，Q函数以如下方式更新:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/7e0ff1a7bae0bb6c37086723d1f849f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*Kv3SdBKdA5uKUWPa.png"/></div></figure><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/fe6ac344687a17a61da361f34f4e0b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*JSTf4fypp9mLaBgu.png"/></div></figure><p id="f03b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其中𝛼 ∈ [ <em class="jt"> 0，1 </em> ]是学习率。为了改进Q函数近似，甚至可以将这种形式扩展到<strong class="ix hj"> <em class="jt"> K </em> </strong>连续转换，也就是说，我们将记住多个时间步长并将它们引入Q函数的评估中，以便获得更精确的值。</p><p id="9882" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当状态和动作空间有限且足够小时，Q函数可以用<em class="jt">表格形式</em>表示，其近似以及控制策略推导都很简单。然而，当处理连续的或非常大的离散的状态和动作空间时，Q函数不能再由每个状态-动作对有一个条目的表来表示。</p><p id="f1f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在实践中，RL在HVAC控制中的应用受到<em class="jt">维数灾难</em>的困扰:由于状态空间的高维性以及建筑物动态的非线性，它需要<em class="jt">非线性回归</em>算法。</p><p id="2b95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了克服这个<em class="jt">泛化</em>问题，一个特别吸引人的框架是Ernst<strong class="ix hj">【6】</strong>使用的框架，它应用了<em class="jt">拟合值迭代</em>的思想(即<em class="jt"/><strong class="ix hj"><em class="jt">F</em></strong><em class="jt">itted</em><strong class="ix hj"><em class="jt">Q</em></strong><em class="jt">-</em><strong class="ix hj"><em class="jt">I</em></strong><em class="jt">迭代)</em></p><p id="ead3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">FQI属于<em class="jt">批处理模式</em> RL算法家族。术语<em class="jt">“批处理模式”</em>指的是允许算法使用任意大小的转换集在单个步骤中产生其控制策略。基本上，FQI假设一个<em class="jt">缓冲器</em>(即一组)过去的转换:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/89fbb7a680c5425f0c8f516eee54b059.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*qxzjBY5hELeQSEcL.png"/></div></figure><p id="1290" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">已被收集，其中<em class="jt"> t </em>是当前时间步长。</p><p id="e0cd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，为了提高q函数近似<strong class="ix hj"> Q̂ </strong>的精度，它对转换集进行迭代回归。该算法通过使用多步Q-Learning来改进其对每个转变的响应变量值的近似:</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/c5ec5bd304a2f39616e0c3c996484e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*Ci-1bfMuuLxJ3lou.png"/></div></figure><p id="76bc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第<em class="jt">n</em>步的<strong class="ix hj"> Q̂ </strong>近似器用于导出新策略，并因此获得新的转换。为了完整起见，我们将该算法的伪代码总结为<strong class="ix hj"><em class="jt">M</em></strong><em class="jt">ulti-</em><strong class="ix hj"><em class="jt">S</em></strong><em class="jt">TEP</em><strong class="ix hj"><em class="jt">F</em></strong><em class="jt">itted</em><strong class="ix hj"><em class="jt">Q</em></strong><em class="jt">-</em><strong class="ix hj">I</strong><em class="jt">迭代</em></p><figure class="lt lu lv lw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/943fe4021867b73c78434268fb649b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hqGiknszZ719Op7m.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图3:拟合Q迭代算法伪代码。</figcaption></figure><p id="3f95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了进一步改进，我们将该算法与一个<em class="jt">ε-贪婪</em>策略相结合，以便探索环境并且不陷入局部最小值。</p><p id="f2b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">什么是<em class="jt"> ε贪婪</em>政策？</p><p id="5400" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">贪婪的行动选择总是利用当前的知识来最大化眼前的回报；它根本不花时间对明显低劣的行为进行取样，看看它们是否真的更好。一个简单的替代方案是在大多数时间里贪婪地行动，但是每隔一段时间，比如说以小概率ε，而不是从所有具有相等概率的行动中随机选择，独立于行动值估计。我们使用这种近乎贪婪的动作选择规则<em class="jt"> ε </em>来调用方法——贪婪方法。</p><p id="116c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的例子中，策略要求代理以概率1-ε选择具有最大估计Q值的动作，并以概率ε选择随机动作。</p><h1 id="c2cc" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="6d43" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">通过使用之前介绍的RL框架，<a class="ae iu" href="https://energyplus.net/" rel="noopener ugc nofollow" target="_blank"><em class="jt">energy plus 8.5</em></a>。开发建筑模型和<a class="ae iu" href="https://simulationresearch.lbl.gov/projects/building-controls-virtual-test-bed" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="jt">B</em></strong><em class="jt"><strong class="ix hj"><em class="jt">C</em></strong><em class="jt">控件</em><strong class="ix hj"><em class="jt">V</em></strong><em class="jt">irtual</em><strong class="ix hj"><em class="jt">T</em></strong><em class="jt">est</em><strong class="ix hj"><em class="jt">B</em>(<strong class="ix hj"> BCVTB </strong>)对于通信接口，我们定义了完整的仿真框架。</strong></em></a></p><p id="5bf7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的方法表明，RL控制是一种可行的改造解决方案，特别是当设计值不再足以保证热舒适性要求时，因为HVAC系统的退化。由于RL控制通过与环境的交互来学习，它可以在每个气候带实现节能。为了最大限度地节省能量并获得接近最优的控制，在改变气候区时，应考虑重新调整<strong class="ix hj"> λ </strong>权衡参数。</p><blockquote class="ju jv jw"><p id="e902" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">虽然以前尝试<strong class="ix hj">【8】</strong>将RL应用于HVAC控制需要100个月的训练才能达到好的结果，但是我们的算法不需要超过12个月的训练，也就是说只有两个完整的夏季和冬季。</p></blockquote><h1 id="a576" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">参考</h1><p id="b767" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated"><strong class="ix hj"/><em class="jt">佩雷斯-伦巴第，l，j .奥尔蒂斯，c .普特</em> (2008，01)。建筑能耗信息综述。能源和建筑40，394–398。</p><p id="f1c5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【2】</strong><em class="jt">吕朗斯，f .，s .亚科韦拉，b .克拉森，r .贝尔曼斯</em> (2015)。使用无模型强化学习的具有倒退策略的热泵恒温器的学习代理。能量8 (8)，8300–8318。</p><p id="9663" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【3】</strong><em class="jt">Sturzenegger，d .，D. Gyalistras，M. Morari，R. S. Smith </em> (2016)。瑞士办公楼的模型预测气候控制:实施、结果和成本效益分析。IEEE控制系统技术汇刊24(1)，1–12。</p><p id="a85c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">萨顿、R. S .和A. G .巴尔托(1998年)。强化学习导论，第135卷。麻省理工学院出版社剑桥。</p><p id="f703" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【5】</strong><em class="jt">斯蒂安，L </em>。(2001).Impianti di climatizzazione。暖通空调系统。应用程序]。Tecniche Nuove。</p><p id="fa49" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【6】</strong><em class="jt">恩斯特、d、p .格茨和l .韦汉高</em> (2005)。基于树的批量模式强化学习。机器学习研究杂志6，503–556。</p><p id="8bbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【7】</strong><em class="jt">吉厄茨、p、d .恩斯特和l .韦汉高</em> (2006)。极度随机化的树。机器学习63(1)，3–42。</p><p id="c725" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">【8】</strong>天舒W <em class="jt">。、</em>阎志W. <em class="jt">、</em>朱七(2017)。<a class="ae iu" href="https://ywang393.expressions.syr.edu/wp-content/uploads/2016/07/Deep-reinforcement-learning-for-HVAC-control-in-smart-buildings.pdf" rel="noopener ugc nofollow" target="_blank">楼宇暖通空调控制深度强化学习</a>。</p></div></div>    
</body>
</html>