<html>
<head>
<title>Build your own Optical Character Recognition (OCR) System using Google’s Tesseract and OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Google的Tesseract和OpenCV构建您自己的光学字符识别(OCR)系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-your-own-optical-character-recognition-ocr-system-using-googles-tesseract-and-opencv-6bf40d2a6ae?source=collection_archive---------19-----------------------#2020-05-16">https://medium.com/analytics-vidhya/build-your-own-optical-character-recognition-ocr-system-using-googles-tesseract-and-opencv-6bf40d2a6ae?source=collection_archive---------19-----------------------#2020-05-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="7adb" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">概观</h1><ul class=""><li id="db52" class="jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">光学字符识别(OCR)是计算机视觉领域中广泛使用的系统</li><li id="3c4e" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">了解如何为各种任务构建自己的OCR</li><li id="2fcd" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">我们将利用OpenCV库和Tesseract来构建OCR系统</li></ul><h1 id="db94" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="2f36" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">你还记得在一次考试中你不得不填写正确答案的那些日子吗？或者你在第一份工作前做的能力倾向测试怎么样？我能清晰地回忆起奥林匹克竞赛和多项选择测试，大学和组织使用光学字符识别(OCR)系统成群结队地给答卷评分。</p><p id="ead6" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">老实说，OCR在很多行业和功能中都有应用。因此，从扫描文件——银行对账单、收据、手写文件、优惠券等。，到在自动驾驶汽车中阅读街道标志——这些都属于OCR的范畴。</p><p id="ccb2" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">几十年前，OCR系统的构建非常昂贵和繁琐。但是计算机视觉和深度学习领域的进步意味着我们现在就可以建立自己的OCR系统！</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ku"><img src="../Images/288629cc8c310c438f4367af8b7a6212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SKTvcLLO_ybYOoAN.jpg"/></div></div></figure><p id="95bd" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">但是建立一个OCR系统并不是一件简单的事情。首先，它充满了各种问题，比如图像中不同的字体、对比度差、图像中有多个对象等等。</p><p id="04b5" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">因此，在本文中，我们将探索一些非常著名和有效的OCR任务方法，以及如何自己实现一个。</p><p id="6b08" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><em class="lg">如果你是物体检测和计算机视觉的新手，我建议浏览以下资源:</em></p><ul class=""><li id="54e4" class="jd je hi jf b jg kp ji kq jk lh jm li jo lj jq jr js jt ju bi translated"><a class="ae lk" href="https://www.analyticsvidhya.com/blog/2018/10/a-step-by-step-introduction-to-the-basic-object-detection-algorithms-part-1/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank"> <em class="lg">基本物体检测算法分步介绍</em> </a></li><li id="be25" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><a class="ae lk" href="https://courses.analyticsvidhya.com/courses/computer-vision-using-deep-learning-version2?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank"> <em class="lg">计算机视觉教程</em> </a></li></ul><h1 id="65c4" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">目录</h1><ol class=""><li id="e8a9" class="jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq ll js jt ju bi translated">什么是光学字符识别(OCR)？</li><li id="fccb" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq ll js jt ju bi translated">现实世界中流行的OCR应用程序</li><li id="43b9" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq ll js jt ju bi translated">使用Tesseract OCR进行文本识别</li><li id="2a71" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq ll js jt ju bi translated">文本检测的不同方法</li></ol><h1 id="128e" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是光学字符识别(OCR)？</h1><p id="d6b3" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">我们先来了解一下OCR是什么，以防你之前没有碰到过这个概念。</p><blockquote class="lm"><p id="858b" class="ln lo hi bd lp lq lr ls lt lu lv jq dx translated"><em class="lw"> OCR，即光学字符识别，是识别图像中的文本并将其转换为电子形式的过程。这些图像可以是手写文本、打印文本，如文档、收据、名片等。，甚至是自然风光照片。</em></p></blockquote><p id="a976" class="pw-post-body-paragraph ka kb hi jf b jg lx kc kd ji ly ke kf jk lz kh ki jm ma kk kl jo mb kn ko jq hb bi translated">OCR有两个部分。第一部分是<strong class="jf hj">文本检测</strong>，其中确定图像内的文本部分。图像中文本的定位对于OCR的第二部分很重要，即<strong class="jf hj">文本识别</strong>，从图像中提取文本。综合使用这些技术，你就可以从任何图像中提取文本。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mc"><img src="../Images/5bc866fd7526e350180fc344b3150573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/0*UF8x7v6P6KA9atuQ.png"/></div></figure><p id="acb7" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">但是没有什么是完美的，OCR也不例外。然而，随着深度学习的出现，这一问题有可能获得更好和更通用的解决方案。</p><p id="0bc5" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">在我们深入研究如何构建自己的OCR之前，让我们先来看看一些流行的OCR应用程序。</p><h1 id="0fe9" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">现实世界中流行的OCR应用程序</h1><p id="1d32" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">OCR在各行各业都有广泛的应用(主要目的是减少人工操作)。它已经融入到我们的日常生活中，以至于我们几乎没有注意到它！但他们肯定会努力带来更好的用户体验。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es md"><img src="../Images/ce8d8a7891f489f2cdea6ea95e54f27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/0*2Az5m0I1e0ZdWE1e.jpg"/></div></figure><p id="b916" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OCR用于<strong class="jf hj">手写识别任务</strong>提取信息。这个领域正在进行大量的工作，我们已经取得了一些真正重大的进展。微软已经提出了一个令人敬畏的数学应用程序<a class="ae lk" href="https://www.microsoft.com/en-us/ai/ai-lab-microsoft-math" rel="noopener ugc nofollow" target="_blank"/>,它将手写的数学方程作为输入，并生成解决方案以及工作的一步一步的解释。</p><p id="4f79" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OCR越来越多地被各行各业用于数字化，以减少手工工作量。这使得从商业文档、收据、发票、护照等中提取和存储信息变得非常容易和高效。此外，当您为KYC(了解您的客户)上传文档时，OCR用于从这些文档中提取信息并存储它们以供将来参考。</p><p id="963c" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OCR还用于书籍扫描，将原始图像转换成数字文本格式。许多大型项目，如古登堡计划、百万图书计划和谷歌图书，都使用OCR来扫描和数字化图书，并将作品存储为档案。</p><p id="556c" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><strong class="jf hj">银行业</strong>也越来越多地使用OCR来归档与客户相关的文书工作，如入职材料，以轻松创建客户存储库。这大大减少了入职时间，从而改善了用户体验。此外，银行使用OCR从支票中提取账号、金额、支票号码等信息，以加快处理速度。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es me"><img src="../Images/d8e93787815ced97223bd7ffe6d3f10b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*les-hgNxIliGLWkN.jpeg"/></div></div></figure><p id="c709" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OCR的应用是不完整的，没有提到它们在<strong class="jf hj">自动驾驶汽车</strong>中的使用。自动驾驶汽车广泛依赖OCR来读取路标和交通标志。对这些标志的有效理解使自动驾驶汽车对行人和路上行驶的其他车辆来说是安全的。</p><p id="7977" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OCR的应用肯定还有很多，比如车辆牌照识别、将扫描文档转换成可编辑的word文档等等。我很想听听你使用OCR的经历——请在下面的评论区告诉我。</p><p id="ec5a" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">使用OCR的数字化显然具有广泛的优势，如文本的轻松存储和操作，更不用说您可以应用于这些数据的深不可测的分析量了！OCR绝对是计算机视觉最重要的领域之一。</p><p id="d896" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">现在，让我们来看看最著名和最广泛使用的文本识别技术之一——tessera CT。</p><h1 id="25a5" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">使用Tesseract OCR进行文本识别</h1><p id="19f9" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">Tesseract是一个开源的OCR引擎，最初是由惠普公司开发的专有软件，但后来在2005年被开源。从那以后，谷歌采纳了这个项目并赞助了它的开发。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mf"><img src="../Images/0f39d9cd2378f1eddfecbab624d235c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/0*MrcpXg-s5QQkiLE1.png"/></div></figure><p id="5534" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">截至今天，Tesseract可以检测超过100种语言，甚至可以处理从右向左的文本，如阿拉伯语或希伯来语！难怪它被谷歌用于移动设备、视频和Gmail的图像垃圾检测算法中的文本检测。</p><p id="4970" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">从版本4开始，Google对这个OCR引擎进行了重大改进。Tesseract 4.0增加了新的OCR引擎，该引擎使用基于<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2017/12/fundamentals-of-deep-learning-introduction-to-lstm/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank"> LSTM </a>(长短期记忆)的神经网络系统，这是序列预测问题最有效的解决方案之一。尽管它以前使用模式匹配的OCR引擎仍然可以作为遗留代码使用。</p><p id="eb2a" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">一旦<a class="ae lk" href="https://tesseract-ocr.github.io/tessdoc/Home.html" rel="noopener ugc nofollow" target="_blank">将</a>宇宙魔方下载到你的系统上，你就可以很容易地<a class="ae lk" href="https://tesseract-ocr.github.io/tessdoc/Command-Line-Usage.html" rel="noopener ugc nofollow" target="_blank">使用下面的命令从命令行运行</a>:</p><pre class="kv kw kx ky fd mg mh mi mj aw mk bi"><span id="287a" class="ml ig hi mh b fi mm mn l mo mp"><strong class="mh hj"><em class="lg">tesseract &lt;test_image&gt; &lt;output_file_name&gt; -l &lt;language(s)&gt; --oem &lt;mode&gt; --psm &lt;mode&gt;</em></strong></span></pre><p id="3a65" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">您可以更改立方体配置，以获得最适合您的图像的结果:</p><ol class=""><li id="a8bc" class="jd je hi jf b jg kp ji kq jk lh jm li jo lj jq ll js jt ju bi translated"><strong class="jf hj"> Langue (-l) </strong> —您可以使用Tesseract检测单一语言或多种语言</li><li id="12fe" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq ll js jt ju bi translated"><strong class="jf hj"> OCR引擎模式(-oem) </strong> —众所周知，Tesseract 4同时拥有LSTM和传统OCR引擎。然而，基于它们的组合，有4种有效操作模式</li></ol><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mq"><img src="../Images/81ae03feac22e77a01d37f73820af1c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/0*oPgUbyqXImvefGKw.png"/></div></figure><p id="fc8d" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">3.<strong class="jf hj">页面分割(-psm) </strong> —可根据图像中的文字进行调整，以获得更好的效果</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mr"><img src="../Images/910bb57042c19455fab8fede6c8408bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*VlCivQNQ7z7YR889.png"/></div></figure><h1 id="01cf" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">Pyteseract</h1><p id="4853" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">然而，除了命令行方法，您还可以使用<a class="ae lk" href="https://github.com/madmaze/pytesseract" rel="noopener ugc nofollow" target="_blank">pytesseracat</a>——Tesseract的Python包装器。使用它，您可以通过编写一个简单的Python脚本，使用Tesseract OCR轻松实现自己的文本识别器。</p><p id="e39e" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">您可以使用<strong class="jf hj"><em class="lg">pip install pytesserac</em></strong>命令下载pytesserac。</p><p id="63a6" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">Pytesseract中的主函数是<strong class="jf hj"> image_to_text() </strong>，它将图像和命令行选项作为其参数:</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="ms mt l"/></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mu"><img src="../Images/ff8d33f6bd21c3fe7e1527746c245ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/0*ZYVmoKNN2fe6bSBL.png"/></div></figure><h1 id="6a59" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">宇宙魔方的挑战是什么？</h1><p id="11b7" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">众所周知宇宙魔方并不完美。当图像有很多噪声或者当语言的字体不是Tesseract OCR训练的字体时，它的性能很差。其他条件如文本的亮度或偏斜度也会影响Tesseract的性能。然而，这是一个低投入、高产出的文本识别的良好起点。</p><h1 id="31f4" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">文本检测的不同方法</h1><p id="b5ac" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">Tesseract假设输入文本图像相当干净。不幸的是，许多输入图像将包含过多的对象，而不仅仅是一个干净的预处理文本。因此，必须有一个好的文本检测系统，能够检测文本，然后可以很容易地提取。</p><p id="1a65" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">文本检测有几种方法:</p><ul class=""><li id="4449" class="jd je hi jf b jg kp ji kq jk lh jm li jo lj jq jr js jt ju bi translated">OpenCV的传统使用方式</li><li id="1d38" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">使用深度学习模型的当代方式，以及</li><li id="d7af" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">构建您自己的定制模型</li></ul><h1 id="cd3f" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">使用OpenCV进行文本检测</h1><p id="efb2" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">使用<strong class="jf hj"> OpenCV </strong>进行文本检测是经典的做法。您可以应用<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2019/03/opencv-functions-computer-vision-python/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank">各种操作</a>，如图像大小调整、模糊、阈值、形态学操作等。来清理图像。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="ms mt l"/></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mv"><img src="../Images/e96bf3eeb7eae88f30391d89c0175814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/0*x5yVsLk0QgUQYuwA.png"/></div></figure><p id="a4ea" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">在这里，我们有灰度，模糊和阈值图像，在这个顺序。</p><p id="ba72" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">完成后，您可以使用OpenCV轮廓检测来检测轮廓，以提取大块数据:</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="0e1a" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">最后，您可以在预测文本的轮廓上应用文本识别:</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="ms mt l"/></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mw"><img src="../Images/831ffa9a3f43233127cc2c9ef07b17e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*pEAVoS_gwucKMMdSli_1mw.png"/></div></figure><p id="ce34" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">上图中的结果是通过最少的预处理和轮廓检测，然后使用Pytesseract进行文本识别而获得的。显然，轮廓并没有每次都检测到文本。</p><p id="3046" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">但是，使用OpenCV进行文本检测仍然是一项单调乏味的任务，需要对参数进行大量修改。此外，它在推广方面做得不好。更好的方法是使用东方文本检测模型。</p><h1 id="bfb3" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">当代深度学习模型— EAST</h1><p id="fba6" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">EAST，即高效准确的场景文本检测器，是一种深度学习模型，用于从自然场景图像中检测文本。它非常快速和准确，因为它能够以13.2fps的速度检测720p的图像，F值为0.7820。</p><p id="0fd1" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">该模型由一个完全卷积网络和一个非最大抑制级组成，用于预测单词或文本行。然而，该模型不包括在其他先前模型中涉及的一些中间步骤，如候选提议、文本区域形成和词分割，这允许优化的模型。</p><p id="79b5" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">你可以看看作者在他们的论文中将EAST模型与以前的其他模型进行比较时提供的下图:</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mx"><img src="../Images/b9b43b542b1490708c8ccdbe73854924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iHRjXSI096b1v-jK.png"/></div></div></figure><p id="85da" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">东部有一个U型网络。网络的第一部分由在ImageNet数据集上训练的卷积层组成。下一部分是特征合并分支，其将当前特征图与来自前一阶段的未缓冲的特征图连接起来。</p><p id="f714" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">随后是卷积层，以减少计算并产生输出特征图。最后，使用卷积层，输出是显示文本存在的分数图和覆盖文本的旋转框或四边形的几何图。这可以从研究论文中包含的架构图像中直观地理解:</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es my"><img src="../Images/ea393992c09b528e8dbb41a6e2859ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/0*OzVAOO2B3HArcpXE.png"/></div></figure><p id="e59d" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><em class="lg">我强烈建议你通过</em> <a class="ae lk" href="https://arxiv.org/abs/1704.03155" rel="noopener ugc nofollow" target="_blank"> <em class="lg">论文</em> </a> <em class="lg">自己去好好了解一下东方模式。</em></p><p id="2596" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">OpenCV从3.4版本开始包含了东方文本检测器模型。这使得实现你自己的文本检测器非常方便。生成的本地化文本框可以通过Tesseract OCR来提取文本，您将拥有一个完整的端到端OCR模型。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mz"><img src="../Images/e3450cea922e97018398d3bcfa5686b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/0*gQHJMB1VTlNbWeGM.png"/></div></figure><h1 id="9c8d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">使用TensorFlow对象API进行文本检测的自定义模型</h1><p id="c3b5" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">构建文本检测器的最后一种方法是使用定制的文本检测器模型，该模型使用了<a class="ae lk" href="https://github.com/tensorflow/models/tree/master/research/object_detection" rel="noopener ugc nofollow" target="_blank"> TensorFlow对象API </a>。它是一个开源框架，用于为对象检测任务建立深度学习模型。要详细了解，建议先过一遍这篇详细的<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2020/04/build-your-own-object-detection-model-using-tensorflow-api/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank">文章</a>。</p><p id="0f4c" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">要构建您的自定义文本检测器，您显然需要一个包含相当多图像的数据集，至少超过100个。然后你需要对这些图像进行注释，这样模型就可以知道目标物体在哪里，了解它的一切。最后，你可以根据性能和速度之间的权衡，从预先训练好的模型中选择一个，来自<a class="ae lk" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md" rel="noopener ugc nofollow" target="_blank"> TensorFlow的检测模型zoo </a>。你可以参考这篇全面的<a class="ae lk" href="https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/training.html#configuring-a-training-pipeline" rel="noopener ugc nofollow" target="_blank">博客</a>来构建你的定制模型。</p><p id="bab2" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">现在，训练可能需要一些计算，但是如果你真的没有足够的计算，不要担心！您可以使用Google Colaboratory来满足您的所有需求！这篇<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2020/03/google-colab-machine-learning-deep-learning/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank">文章</a>将教你如何有效地使用它。</p><p id="0c14" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">最后，如果您想更进一步，构建一个YOLO最先进的文本检测器模型，<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2018/12/practical-guide-object-detection-yolo-framewor-python/?utm_source=blog&amp;utm_medium=build-your-own-ocr-google-tesseract-opencv" rel="noopener ugc nofollow" target="_blank">这篇</a>文章将是理解它的所有本质的垫脚石，您将有一个良好的开端！</p><h1 id="4d7a" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结束注释</h1><p id="e9ce" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">在本文中，我们讨论了OCR中的问题以及可以用来解决该任务的各种方法。我们还讨论了这些方法的各种缺点，以及为什么OCR不像看起来那么容易！</p><p id="fb32" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">你以前使用过OCR应用程序吗？在此之后，您计划构建什么样的OCR用例？请在下面告诉我您的想法和反馈。</p><h1 id="a573" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">你也可以在分析Vidhya的Android应用上阅读这篇文章</h1><p id="085a" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated"><em class="lg">原载于2020年5月16日https://www.analyticsvidhya.com</em><em class="lg">的</em> <a class="ae lk" href="https://www.analyticsvidhya.com/blog/2020/05/build-your-own-ocr-google-tesseract-opencv/" rel="noopener ugc nofollow" target="_blank"> <em class="lg">。</em></a></p></div></div>    
</body>
</html>