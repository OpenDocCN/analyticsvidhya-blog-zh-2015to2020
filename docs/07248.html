<html>
<head>
<title>COVID-19: A Quick Peek on the Peaks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新冠肺炎:对山峰的一瞥</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/covid-19-a-quick-peek-on-the-peaks-fa5f4e7b4e89?source=collection_archive---------16-----------------------#2020-06-18">https://medium.com/analytics-vidhya/covid-19-a-quick-peek-on-the-peaks-fa5f4e7b4e89?source=collection_archive---------16-----------------------#2020-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9db1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过使用Python可视化全球数据，对(新型冠状病毒)进行简短而全面的分析。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3236c84ab06f32aef522d2d5649b1f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y_2Dd4TlRktz4SO8.jpg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.google.com/imgres?imgurl=https%3A%2F%2Fmiro.medium.com%2Fmax%2F1000%2F0*_NiZ9ixMajXPZR1k.jpg&amp;imgrefurl=https%3A%2F%2Ftowardsdatascience.com%2Fgetting-started-with-internet-data-analysis-traffic-analysis-594144ba2b52&amp;tbnid=V8sxOVdISTZ5jM&amp;vet=12ahUKEwi8tPWXzfHpAhVTFHIKHfK5BIYQMygTegUIARDKAQ..i&amp;docid=wZ75BIyOMESFUM&amp;w=1000&amp;h=564&amp;q=data%20analysis%20pencil&amp;ved=2ahUKEwi8tPWXzfHpAhVTFHIKHfK5BIYQMygTegUIARDKAQ" rel="noopener ugc nofollow" target="_blank">图像来源</a></figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="6864" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着世界各地新冠肺炎病例的增加，在这种封锁下，像我的数据科学爱好者同伴一样，我也决定看看由<a class="ae jt" href="https://github.com/CSSEGISandData/COVID-19" rel="noopener ugc nofollow" target="_blank">约翰霍普金斯大学</a>提供的每日数据，并根据我头脑中的好奇心驱动的问题，通过收集、争论和可视化情况进行一些分析。</p><p id="392a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧！</p><p id="4cda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kb">目录:</em> </strong> <br/> 1。收集数据<br/> 2。数据角力<br/> 3。数据分析和可视化:<br/> a)为确诊病例创建世界地图的图谱。<br/> b)印度封锁的影响。<br/> c)生成几个国家的皮尔逊相关热图。<br/> d)绘制任何国家数据的滚动平均值。绘制任何国家的死亡率和恢复率。</p><h1 id="ee2d" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">收集并首先查看数据</h1><p id="965a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated"><em class="kb">从pywget导入wget </em></p><p id="e4fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将为您获取可下载的文件，并将它们保存在本地系统中。现在，您已经在原始CSV中获得了数据。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="2041" class="lk kd hi lg b fi ll lm l ln lo">urls = [<br/> ‘<a class="ae jt" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv%27" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'</a>,<br/> ‘<a class="ae jt" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv%27" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'</a>,<br/> ‘<a class="ae jt" href="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv%27" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'</a>]<br/> [wget.download(url) for url in urls]</span></pre><p id="6502" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kb">进口熊猫做pd </em></p><p id="99c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是使用<em class="kb"> pandas read_csv() </em>函数读取您的csv并生成数据帧。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="e147" class="lk kd hi lg b fi ll lm l ln lo">confirmed_df = pd.read_csv('time_series_covid19_confirmed_global.csv')</span><span id="a9b0" class="lk kd hi lg b fi lp lm l ln lo">deaths_df = pd.read_csv('time_series_covid19_deaths_global.csv')</span><span id="3dc7" class="lk kd hi lg b fi lp lm l ln lo">recovered_df = pd.read_csv('time_series_covid19_recovered_global.csv')</span></pre><p id="f03c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过打印任一数据帧的前五行，我们将会找到如下的国家每日数据:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lq"><img src="../Images/9557a91ca94c4e7ad1aa84b02d28d943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*92x23XCbrjD4L-wbY3rrow.png"/></div></figure><h1 id="5745" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">争论数据</h1><p id="bd59" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated"><em class="kb">导入numpy作为np </em></p><p id="93e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们希望我们的数据是纵向格式的，这样我们就可以得到一天格式的数据。为此，我们在每个数据帧上使用<em class="kb"> </em> pd.melt() <em class="kb"> </em>，最后使用pd.merge()将所有三个数据帧合并成一个别名为<em class="kb"> complete_df </em>的数据帧。此外，我们使用<em class="kb"> pd.to_datetime()将我们的“Date”列转换为DateTime对象。</em>这将有助于时间序列分析。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="fa48" class="lk kd hi lg b fi ll lm l ln lo">confirmed_df_melted = confirmed_df.melt(<br/>    id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], <br/>    var_name='Date', <br/>    value_name='Confirmed')</span><span id="f3d2" class="lk kd hi lg b fi lp lm l ln lo">deaths_df_melted = deaths_df.melt(<br/>    id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'], <br/>    var_name='Date', <br/>    value_name='Deaths')</span><span id="dc9a" class="lk kd hi lg b fi lp lm l ln lo">recovered_df_melted = recovered_df.melt(<br/>    id_vars=['Province/State', 'Country/Region', 'Lat', 'Long'],  <br/>    var_name='Date', <br/>    value_name='Recovered')</span><span id="50f9" class="lk kd hi lg b fi lp lm l ln lo">complete_df = confirmed_df_melted.merge(<br/>  right=deaths_df_melted, <br/>  how='left',<br/>  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long'] )</span><span id="d724" class="lk kd hi lg b fi lp lm l ln lo">complete_df = complete_df.merge(<br/>  right=recovered_df_melted, <br/>  how='left',<br/>  on=['Province/State', 'Country/Region', 'Date', 'Lat', 'Long'] )</span><span id="dd1f" class="lk kd hi lg b fi lp lm l ln lo">complete_df['Date']=pd.to_datetime(complete_df['Date'])</span></pre><p id="afa7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们通过从<em class="kb">确认的</em>列中减去<em class="kb">死亡</em>和<em class="kb">康复</em>列来找到活跃病例的数量，并将该系列作为别名为<em class="kb">活跃</em>的列添加到我们的数据框中。按<em class="kb">日期</em>和<em class="kb">国家/地区</em>对数据帧进行分组并应用。对<em class="kb">求和()。groupby() </em>对象，它将为我们提供每列中案例的总数。</p><p id="065b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了找到每个类别中案例的每日变化，我们创建一个临时数据框temp并应用。diff()函数并添加单独的列<em class="kb"> New_Cases，New_Deaths，New_Recovered。</em>进一步，我们将<em class="kb"> temp </em>和<em class="kb"> complete_df </em>合并，并将<em class="kb"> Date </em>列设置为索引。我们的数据框现在已经准备好进行一些可视化和分析了！</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="3133" class="lk kd hi lg b fi ll lm l ln lo">complete_df['Active'] = complete_df['Confirmed'] - complete_df['Deaths'] - complete_df['Recovered']<br/>complete_df = complete_df.groupby(['Date', 'Country/Region'])['Confirmed', 'Deaths', 'Recovered', 'Active'].sum().reset_index()</span><span id="2548" class="lk kd hi lg b fi lp lm l ln lo">temp = complete_df.groupby(['Country/Region', 'Date', ])['Confirmed', 'Deaths', 'Recovered']<br/>temp = temp.sum().diff().reset_index()</span><span id="d2f4" class="lk kd hi lg b fi lp lm l ln lo">mask = temp['Country/Region'] != temp['Country/Region'].shift(1)<br/>temp.loc[mask, 'Confirmed'] = np.nan<br/>temp.loc[mask, 'Deaths'] = np.nan<br/>temp.loc[mask, 'Recovered'] = np.nan</span><span id="1df8" class="lk kd hi lg b fi lp lm l ln lo">temp.columns = ['Country/Region', 'Date', 'New_Cases', 'New_Deaths', 'New_Recovered']<br/>complete_df = pd.merge(complete_df, temp, on=['Country/Region', 'Date'])<br/>complete_df = complete_df.fillna(0)<br/>cols = ['Confirmed','Active','Recovered','New_Cases', 'New_Deaths', 'New_Recovered']<br/>complete_df[cols] = complete_df[cols].astype('int')</span><span id="4284" class="lk kd hi lg b fi lp lm l ln lo">complete_df['New_Cases'] = complete_df['New_Cases'].apply(lambda x: 0 if x&lt;0 else x)</span><span id="6e60" class="lk kd hi lg b fi lp lm l ln lo">complete_df=complete_df.set_index(complete_df['Date'])<br/>complete_df.drop('Date',axis=1,inplace=True)</span><span id="4ffe" class="lk kd hi lg b fi lp lm l ln lo">df_India = complete_df.loc[complete_df['Country/Region']=='India']</span><span id="4551" class="lk kd hi lg b fi lp lm l ln lo">complete_df.tail()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/b20f98cc096db00b505f04d8e23e88a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tSCTeSKeGrh8liWTAkwKQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">comlete_df数据帧的最后5行</figcaption></figure><h1 id="40c3" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">分析和可视化</h1><blockquote class="ls lt lu"><p id="393d" class="if ig kb ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><strong class="ih hj">一张世界地图！</strong></p></blockquote><p id="d5e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kb">导入geopandas作为gpd，导入mapclassify，导入descartes </em></p><p id="b4f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们从<em class="kb">GPD . datasets . get _ path()</em>加载一个geopandas数据帧，合并两个数据帧:<em class="kb"> world </em>和<em class="kb"> complete_df。</em>此后，我们使用<a class="ae jt" href="http://wiki.gis.com/wiki/index.php/Quantile#:~:text=Quantile%20classification%20is%20a%20data,makes%20the%20intervals%20uneven%20sizes." rel="noopener ugc nofollow" target="_blank">‘分位数’</a>分类方案对我们的数字进行分类，绘制出<em class="kb">确认的</em>列的数据。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="dc77" class="lk kd hi lg b fi ll lm l ln lo">world = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))<br/>world.at[4,'name']='US'<br/>total_conf_cd = complete_df.loc['2020-04-27'][['Country/Region','Confirmed']]<br/>plot_data = pd.merge(world, total_conf_cd, how='inner', right_on = 'Country/Region', left_on= 'name')<br/>plot_data=gpd.GeoDataFrame(plot_data)</span><span id="a11e" class="lk kd hi lg b fi lp lm l ln lo">fig = plt.figure()<br/>ax = plot_data.plot(column='Confirmed', scheme='quantiles',legend=True,legend_kwds={'loc': 'lower left'},figsize=(30,30))<br/>ax.set_axis_off()<br/>plt.style.use('classic')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/bbb0ba6f5eaf093b83c7ae3925c6f0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RrPe_nmpEdUKAc-sSdZJJg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">一些国家缺少的数据用白色表示。</figcaption></figure><blockquote class="ls lt lu"><p id="caba" class="if ig kb ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><strong class="ih hj">印度封锁的影响！</strong></p></blockquote><p id="5257" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kb">将seaborn导入为sns，从日期时间导入日期时间</em></p><p id="2cbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自2020年3月25日起，印度被完全封锁。让我们看看它对每天报告的病例率的影响。为此，我们在封锁开始后对印度的数据进行了子集划分。我们通过<em class="kb">计算变化率。pct_change() </em>并使用<em class="kb">。seaborn的lineplot() </em>来绘制我们的数据。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="c9bc" class="lk kd hi lg b fi ll lm l ln lo">df_india_ld = df_India['2020-03-25':]</span><span id="015b" class="lk kd hi lg b fi lp lm l ln lo">df_india_ld = df_india_ld.mask(df_india_ld==0).fillna(df_india_ld.mean())<br/>df_india_ld_ncases = df_india_ld.New_Cases.resample('W').mean().pct_change().to_frame()<br/>df_india_ld_nrecov = df_india_ld.New_Recovered.resample('W').mean().pct_change().to_frame()<br/>df_india_ld_ndeath = df_india_ld.New_Deaths.resample('W').mean().pct_change().to_frame()</span><span id="d67a" class="lk kd hi lg b fi lp lm l ln lo">x = [x.date().strftime("%m/%d/%Y") for x in df_india_ld_ncases.index]</span><span id="782b" class="lk kd hi lg b fi lp lm l ln lo">plt.style.use('ggplot')<br/>fig, ax = plt.subplots(nrows=3,sharey=True,sharex=True, figsize = (15,12))<br/>fig.text(0.04,0.5,'Weekly Percentage Change /100', va='center', rotation='vertical')<br/>fig.suptitle("Analysis after lockdown (India)", fontsize=16)<br/>sns.lineplot(data = df_india_ld_ncases, x = x, y= df_india_ld_ncases['New_Cases'], marker = 's' , ax=ax[0])<br/>sns.lineplot(data = df_india_ld_nrecov, x = x, y= df_india_ld_nrecov['New_Recovered'], marker = 's' , ax=ax[1])<br/>sns.lineplot(data = df_india_ld_ndeath, x = x, y= df_india_ld_ndeath['New_Deaths'], marker = 's' , ax=ax[2])</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/219460be878c85a70ba23da1fd7aae33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eAeppOomT7zY9hFXDzxT3Q.png"/></div></div></figure><p id="a497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如图表所示，这一时期的利率相当稳定。</p><blockquote class="ls lt lu"><p id="8fe6" class="if ig kb ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><strong class="ih hj">一些主要国家的皮尔逊相关热图！</strong></p></blockquote><p id="0d94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们试图了解不同指标参数之间的相关性，并与其他国家的指标进行比较。通过<em class="kb">计算数据帧列的相关矩阵。corr() </em>熊猫的方法这里我们通过‘皮尔逊’作为计算系数的方法。可以使用其他<a class="ae jt" href="https://www.statisticssolutions.com/correlation-pearson-kendall-spearman/" rel="noopener ugc nofollow" target="_blank">相关系数</a>，如“肯德尔”或“斯皮尔曼”。随后，该关联矩阵用于生成所需的热图。</p><p id="fbb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，我们会发现，在一些国家，恢复的<em class="kb">与活跃的<em class="kb">之间的相关性与其他国家相比相对较低。这说明了一些事情！</em></em></p><p id="7177" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kb">注意:假设变量之间是线性关系。</em></p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="c543" class="lk kd hi lg b fi ll lm l ln lo">top_5_and_india = ['US','Spain','Italy','United Kingdom','France','India']</span><span id="b672" class="lk kd hi lg b fi lp lm l ln lo">complete_df_corr = complete_df.loc[complete_df['Country/Region'].isin(top_5_and_india)].iloc[:,:5]</span><span id="ca74" class="lk kd hi lg b fi lp lm l ln lo">fig , ax = plt.subplots(nrows=2,ncols=3,figsize=(15,12))<br/>fig.tight_layout(pad = 7.0)<br/>fig.suptitle("Pearson Correlation Heatmap of 6 Major Countries" , fontsize = 15)<br/>def plot_corr(m,i,j,t):<br/>    sns.heatmap(m,ax=ax[i,j], cmap= 'Blues',annot = True)<br/>    ax[i,j].set_title(t)<br/>    ax[i,j].tick_params(axis='x', rotation=90)<br/>    ax[i,j].tick_params(axis='y', rotation=0)<br/>            <br/>l = [[0,0],[0,1],[0,2],[1,0],[1,1],[1,2]]<br/>for i in range(6):<br/>    data = complete_df_corr[complete_df_corr['Country/Region']==top_5_and_india[i]]<br/>    mat = data.corr(method='pearson')<br/>    x,y = l[i]<br/>    plot_corr(mat,x,y,top_5_and_india[i])</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ma"><img src="../Images/a016ac298f0f8e1b0bbdd9a2be17e9cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0tnyt5VNc_Whhs4c4812vg.png"/></div></div></figure><blockquote class="ls lt lu"><p id="7cbe" class="if ig kb ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><strong class="ih hj">密谋任何国家数据的滚动手段！</strong></p></blockquote><p id="89f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一分析中，我们感兴趣地看到全世界疫情的确诊病例、死亡病例和康复病例的数量的总体每日上升/下降。为了平滑我们的情节，我们使用了一个7天的<a class="ae jt" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rolling.html" rel="noopener ugc nofollow" target="_blank">滚动窗口平均</a>技术和<em class="kb">。seaborn图书馆的lineplot() </em>。</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="0cbb" class="lk kd hi lg b fi ll lm l ln lo">def plot_rolling_means(country):<br/>    country_c = country['New_Cases'].rolling('7D').mean()<br/>    country_r = country['New_Recovered'].rolling('7D').mean()<br/>    country_d = country['New_Deaths'].rolling('7D').mean()<br/>    sns.lineplot(data = country_c)<br/>    sns.lineplot(data = country_r)<br/>    sns.lineplot(data = country_d)<br/>    plt.xticks(rotation = 90)<br/>    plt.legend(['Confirmed','Recovered','Deaths'])<br/>    plt.title("Rolling Means : " + s)</span><span id="1a7c" class="lk kd hi lg b fi lp lm l ln lo">s = input("Enter any country as input like : India, US, China, France, etc. : ")<br/>df_country = complete_df.loc[complete_df['Country/Region']==s]<br/>plot_rolling_means(df_country)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/921de3c8009ef80b15bd35796433e217.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*3XzLyuCqGHs8-N8lRfBgqg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">信息丰富的可视化。</figcaption></figure><blockquote class="ls lt lu"><p id="adce" class="if ig kb ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><strong class="ih hj">任何国家的死亡率和恢复率！</strong></p></blockquote><p id="ba32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本笔记本的最后一次分析中，我们根据总确诊病例绘制了死亡率和恢复率，并了解了这些数据每天是如何变化的。我们希望看到复苏趋势持续增长，而死亡率则相反。观察你的国家的表现。手指交叉！</p><pre class="je jf jg jh fd lf lg lh li aw lj bi"><span id="bcc8" class="lk kd hi lg b fi ll lm l ln lo">country = input("Enter any country as input like : India, US, China, France, etc. to show their Mortality and Death Rate : ")<br/>df_country = complete_df.loc[complete_df['Country/Region']==country]<br/>fig , ax = plt.subplots(ncols = 2,figsize=(15,12))<br/>plt.style.use('seaborn-darkgrid')<br/>def rates(data):<br/>    mortality = data['Deaths']/data['Confirmed'] * 100<br/>    recovery = data['Recovered']/data['Confirmed'] * 100<br/>    ax1 = plt.subplot(1,2,1)<br/>    plt.plot(data.index,mortality , marker = 'o' , linewidth = 0 , alpha = 0.7 , markersize = 6 , <br/>             markeredgecolor = 'g' , markeredgewidth = 1.2 , markerfacecolor='r')<br/>    plt.xticks(rotation = 90)<br/>    plt.yticks(size = 12)<br/>    plt.ylabel("Rate in Percentage" , fontsize = 12)<br/>    plt.title("Mortality")<br/>    ax2 = plt.subplot(1,2,2 ,sharey = ax1)<br/>    plt.plot(data.index, recovery , marker = 'o' , linewidth = 0 , alpha = 0.7 , markersize = 6 ,<br/>             markeredgecolor = 'g' , markeredgewidth = 1.2 , markerfacecolor='r')<br/>    plt.xticks(rotation = 90)<br/>    plt.yticks(size = 12)<br/>    plt.title("Recovery")<br/>    fig.suptitle("Mortality and Recovery Rate (in terms of Confirmed Cases) : " + country , fontsize = 20)<br/>    plt.show()<br/>rates(df_country)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/03bae6aae5b00067048dbf350f7c7dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIhJ0DCHkd2jXa_jzmCHJg.png"/></div></div></figure><p id="eb27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总而言之，我们可以说冠状病毒的爆发在世界各地产生了不同的影响，不同的国家以他们的方式处理这种情况，但关注的问题仍然是一样的:每个人的安全。看起来发达国家和发展中国家受疫情的影响更大。在这场自然秀中，我们人类需要学习很多东西，我们不能对我们所目睹的一无所知。让我们期待最好的结果吧！这一切都会过去的。</p><p id="2b0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kb">注:</em> </strong>好吧，这是我作为学生的第一篇文章，我觉得很得意！你可以在我的Github上找到这个笔记本。</p><div class="md me ez fb mf mg"><a href="https://www.linkedin.com/in/swarn6/" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hj fi z dy ml ea eb mm ed ef hh bi translated">Swarnim Pandey - SRM大学-印度北方邦勒克瑙| LinkedIn</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">查看世界上最大的职业社区LinkedIn上的Swarnim Pandey的个人资料。Swarnim有2份工作列在…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">www.linkedin.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jn mg"/></div></div></a></div></div></div>    
</body>
</html>