<html>
<head>
<title>Predicting a PGA Tour Winner (Part 2 — K-Means Clustering, Decision Trees &amp; Prediction)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测PGA巡回赛冠军(第2部分— K均值聚类、决策树和预测)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predicting-a-pga-tour-winner-part-2-k-means-clustering-decision-trees-prediction-72b42c788c55?source=collection_archive---------13-----------------------#2020-04-22">https://medium.com/analytics-vidhya/predicting-a-pga-tour-winner-part-2-k-means-clustering-decision-trees-prediction-72b42c788c55?source=collection_archive---------13-----------------------#2020-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d201" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如所承诺的，这是第2部分—激动人心的DataMagic。</p><p id="7b0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你还没有读过<a class="ae jd" href="http://Part 1 — Exploration and Regression Models" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">第1部分——探索和回归模型</strong> </a>，我建议你在开始阅读本书之前先去读一读。它应该不到5分钟，并给出了一个温和的数据集介绍，以及我的项目动机。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/ae1709c914fe12d7350053cc6847aae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/0*yjFvw0WhOOzv7Ata.jpg"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">乔恩·拉姆，2019年西班牙公开赛</figcaption></figure><p id="8970" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果您正在寻找一行文字来提醒我们之前到达的位置，这里有一些上下文:</p><p id="7cf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jq">现在是2019年9月下旬，我得到了一个干净的数据集，其中包含2010-2018赛季的PGA球员统计数据，以及截至8月底的2019年数据。我想用往年的数据来预测谁会赢得下一场锦标赛… </em> </strong></p><p id="b26e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…从我的角度来看，更重要的是，此时赌注已经提高，因为我已经承诺在我的模型最喜欢的玩家身上下注。</p><h1 id="eb2d" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">k均值聚类</h1><p id="f55d" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">K-均值聚类是一种分类方法，通过这种方法，您可以基于最佳拟合将大量数据点分成K个类别。不同的算法使用不同的方法来决定什么是最适合的，但是K-Means聚类是使用最广泛的方法之一。</p><p id="dadd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该算法从对应于每个类别的K个质心(下图中为3个)开始，然后根据最接近的质心(欧几里德距离)为每个数据点分配一个类别。然后，它重新计算质心位置，将其放置在该类别中所有点的正中间。</p><p id="8b30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该算法以这种方式继续，迭代通过几个可能的质心，每次减少每个数据点到其最近质心的总距离，直到聚类已经稳定在它们的最佳位置。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ku"><img src="../Images/5f95c2811083d57e5c78164b67cba2c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/1*7Wqfd1ss1cCKdCgw-MkpYw.gif"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">k-均值聚类收敛(维基百科)</figcaption></figure><p id="01be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图显示了K-Means聚类算法在x和y两个维度上的工作，但是我正在处理的数据(经过大量缩小)有21个变量，从旅游收入到平均驾驶距离，再到监管中的%果岭命中率。所以试着想象同样的过程，超过21个维度——如果可以的话，这是令人印象深刻的，大多数人倾向于停留在3个以上的维度上。</p><p id="488a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这个过程中得到的一个有希望的启示是，赚到的钱是几个其他变量的一个很好的指标，所以几乎每个与钱相关的变量都有非常清晰的类别。</p><p id="05b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>在没有金钱作为变量的情况下进行这一过程可能会很有趣，以查看是否有玩家群体拥有类似的游戏，但是为了预测赢家，这种方法很有效。想找2类(浅紫色，下图)的人。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kv"><img src="../Images/0e6734c8cdc9ffc1a0fa9868b9586e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAha6xAUrSzIyRwSZKgJ_Q.png"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">K-均值聚类(K=4 ),以货币对平均值绘制。每轮推杆数</figcaption></figure><h1 id="3a48" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">决策树分类器</h1><p id="7636" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">使用上述K均值聚类，我随后对2010年至2018年的数据运行了一个决策树模型(这一次排除了货币作为一个变量)，以确定定义每个类别的有限规则集。仅用4条规则，我就能以60%的准确率识别一个玩家是否属于每个类别。然后将这些规则应用到2019年的数据中，我可以找到这名球员“最有可能成功”。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es la"><img src="../Images/2465ce7011b10d41608f93db117e1ab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hFQqy0NANsejjnDd"/></div></div></figure><p id="b1fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我要坦白的地方，也是我恳求你从我的错误中吸取教训并再次检查你的工作的地方！</p><h1 id="f1dc" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">短暂的插曲(打赌)</h1><p id="d663" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">最初，我用4层(如上)运行决策树，成功地将玩家分为3类(橙色、绿色、紫色)，其中紫色组表现最好。因此，我采用了导致最右边紫色框的规则，并将这些过滤器应用于2019年的数据，以给出本赛季迄今为止的一组4名高绩效球员。</p><p id="a7b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">乔恩·拉姆就是其中之一。我接触过高尔夫球世界，这是一个我熟悉并能理解的名字。所以我<strong class="ih hj"> <em class="jq">立即</em> </strong>在他身上下了20英镑的赌注(每种方式，因为我是一只胆小的猫)，让他进入下一场比赛的前5名，接下来的周末在马德里举行的西班牙公开赛。</p><p id="afa7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jq">紧接着</em> </strong>下注之后，我意识到我在决策树上只看到了3种颜色，我<em class="jq">应该</em>一直在寻找第4种颜色，蓝色。所以在这一点上，我仍然为下了那个赌注而自责，我给我的决策树添加了第五层，重新运行了我的计算。</p><h1 id="ff0b" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">…回到最终的决策树</h1><p id="a268" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">正如我之前所说的，仅使用<strong class="ih hj"> <em class="jq"> 5个“规则”</em> </strong>我就可以识别一个球员是否属于每个类别(这次，包括表现最好的一个)，准确率为60%。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es la"><img src="../Images/0fcb2fb2491a8071441d1574573c9693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GcMpdBjNsibc4f1K"/></div></div></figure><p id="35d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通向<strong class="ih hj">蓝色</strong>框(如上)的5条“规则”以及2010-2018年间成功玩家的最佳标识符如下:</p><ol class=""><li id="2ec3" class="lb lc hi ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">小鸟转换率&gt; 28.5%</li><li id="84ba" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">好球率&gt; 79.9%(击中球道或为下一杆打好位置)</li><li id="ccc1" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">规则中的最大连续果岭数&gt; 14.5</li><li id="37e6" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">从驱动器到孔的平均距离&lt; 156 yds</li><li id="807a" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">and finally… Birdie Conversion &gt; 32.15%</li></ol><p id="f23d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">小鸟转换是如此重要的一个功能，它出现了两次，所以在我2019年的计算中，我可以取较大的值。</p><h1 id="17b8" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">结论</h1><p id="e319" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">把这些参数应用到2019年的数据上，留给我的只有一个选手:<strong class="ih hj">卡梅隆冠军。</strong></p><p id="174d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快速的谷歌搜索告诉了我我需要知道的一切——他昨天在… <strong class="ih hj"> <em class="jq">参加的最后一场锦标赛中获胜。</em> </strong>我2019年的数据不包括这场比赛，这意味着如果我提前一周进行计算(并有勇气将20英镑的赌注押在一个我没听说过的人身上)，我会预测一名赔率为90-1的球员在西夫韦公开赛上赢得660万美元，并赚了1800美元。</p><p id="9141" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好消息是，发现这一点的痛苦在接下来的周末有所减轻，当时我对乔恩·拉姆的下注成功了(他实际上赢得了西班牙公开赛)，让我领先40分。不过，另一种选择可能会更好。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lp"><img src="../Images/a607c58741d255e7713db02b09eeccda.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*hNfQhD-YtjDGMeWJ"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">乔恩·拉姆——成为一个传奇</figcaption></figure><h1 id="10b2" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">结束语</h1><p id="967c" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">我不是赌徒。我很少下注，也不会辞职去从事体育博彩。然而，这向我证明了一件事，数据科学<strong class="ih hj"> <em class="jq">是神奇的。</em> </strong></p><p id="d155" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对此有一点需要注意的是，和大多数事情一样，使用机器学习技术对你有利，重要的是要知道<em class="jq">为什么</em>会起作用。机器学习可以是驾驶舱，但(至少在机器人接管之前)永远需要一名飞行员。</p><blockquote class="lq"><p id="5508" class="lr ls hi bd lt lu lv lw lx ly lz jc dx translated">“用统计而不用逻辑是错误的，但用逻辑而不用统计不是错误的。”</p><p id="1e12" class="lr ls hi bd lt lu lv lw lx ly lz jc dx translated">——纳西姆·塔勒布，被随机性愚弄</p></blockquote><p id="ae40" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mc is it iu md iw ix iy me ja jb jc hb bi translated">最后，我想提一下我的经历和先前的知识是如何影响我决定何时下注，何时不下注的。这是一个比这里所能涵盖的更大的话题，但是在我们做出的每一个决定中，直觉都扮演着重要的角色，也许比我们愿意相信的还要重要。因此，当谈到查看数据时，我认为倾听我们的直觉、接受它们、挑战它们并找出“直觉”到底来自哪里也很重要。意识到我们的偏见，并具备接受新信息和改变我们想法的能力，是做出持续良好决策的第一步。</p></div></div>    
</body>
</html>