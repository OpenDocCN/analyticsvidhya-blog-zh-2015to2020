<html>
<head>
<title>Analyzing San Francisco rental market through Airbnb data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Airbnb数据分析旧金山租房市场</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analyzing-san-francisco-rental-market-through-airbnb-data-7e0f1a80be9d?source=collection_archive---------25-----------------------#2020-08-03">https://medium.com/analytics-vidhya/analyzing-san-francisco-rental-market-through-airbnb-data-7e0f1a80be9d?source=collection_archive---------25-----------------------#2020-08-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a416" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我开始了成为数据科学家的旅程，作为我的第一个数据分析项目，我通过Airbnb数据分析了旧金山的租赁市场。我使用这个分析主要是为了习惯Pythons库和操作真实数据，所以这个报告涵盖了很多数据分析的基本过程。我使用了Pandas、Matplotlib和Seaborn图书馆，在我的分析结束时，我使用leav图书馆创建了该城市的租赁价格choropleth地图。作为我的第一份数据分析，这份报告相当不错。希望你喜欢。</p><p id="5e7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要强调的是，本分析中使用的所有数据都来自冠状病毒爆发前的一段时间，因此本分析当然不能代表当今的现实。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/98cf470855f0228cc91b45f7034752bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yy-8EVjLgtMRr1Ek5P2y0Q.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图1:旧金山和金门大桥。</figcaption></figure><p id="a044" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Airbnb被认为是世界上最大的酒店公司之一，没有一家酒店。</p><p id="5df3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该网站将愿意出租公寓或房间的房东与旅行者联系起来。通过这种方式，Airbnb为大城市的住宿提供了一个有趣的替代选择。</p><p id="b4a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">截至2018年底，这家成立仅10年的创业公司已经<strong class="ih hj">在全球接待了超过3亿人</strong>，真正挑战了传统连锁酒店。</p><p id="bae2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Airbnb的一项伟大举措是让世界上一些最大城市的数据可用。可以从Airbnb 内的网站<a class="ae jt" href="http://insideairbnb.com/get-the-data.html" rel="noopener ugc nofollow" target="_blank">获得真实数据，以开发数据科学项目和解决方案。</a></p><p id="7bb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本报告旨在让您习惯于使用常见Python库的基本命令来操作真实数据。获得了良好的见解和相关信息。创建旧金山租金价格的choropleth地图证明了叶图书馆的强大。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/be283fe7df7967f57e7746918220e537.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*fwGvON5P96r3SGSOVIugCA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图2: Airbnb。</figcaption></figure><h1 id="9421" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">获取数据</h1><p id="8600" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">本报告中使用的所有数据均取自Airbnb 内部的<a class="ae jt" href="http://insideairbnb.com/get-the-data.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="ec4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此分析中，使用了以下档案:</p><ul class=""><li id="6713" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated"><code class="du lh li lj lk b">listings.csv</code> - <em class="ll">旧金山列表的汇总信息和指标(有利于可视化)。</em></li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/1f3c5773299a84e614298778d3dbaa9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-V0gcj5aJWkJ3HUxsTzQ9A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图3:导入库和数据集。</figcaption></figure><h1 id="c7b5" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">变量名</strong></h1><ul class=""><li id="c07a" class="ky kz hi ih b ii kt im ku iq ln iu lo iy lp jc ld le lf lg bi translated"><code class="du lh li lj lk b">id</code> -物业id</li><li id="4c25" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">name</code> -物业名称</li><li id="39d4" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">host_id</code> -业主id</li><li id="8f82" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">host_name</code> -主持人姓名</li><li id="5b68" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">neighbourhood_group</code> -该列没有值</li><li id="3dbc" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">neighbourhood</code> -小区名称</li><li id="3ea0" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">latitude</code> -房产纬度坐标</li><li id="32b6" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">longitude</code> -房产经度坐标</li><li id="b15f" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">room_type</code> -提供的房间类型</li><li id="f647" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">price</code> -租赁价格</li><li id="36a3" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">minimum_nights</code> -客人可预订的最少住宿天数</li><li id="0ac3" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">number_of_reviews</code> -酒店获得的点评数量</li><li id="cea9" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">last_review</code> -最近一次审查的日期</li><li id="afc8" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">reviews_per_month</code> -每月审核次数</li><li id="a651" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">calculated_host_listings_count</code> -主人拥有的财产数量</li><li id="15db" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">availability_365</code>-365天中的可用天数</li></ul><p id="cf78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始分析之前，让我们检查数据集的前5行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/9420b6bf6785a8f787dea6763df71ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIiwDw411wfzjl9BMl7Izw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图4:数据集的第一眼。</figcaption></figure><h1 id="f7c1" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">知道我们数据集的大小。</h1><p id="09ad" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">我的数据集有多少变量和输入？数据集中有哪些类型的变量？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lw"><img src="../Images/3f58d92043d0471f63bdc0d8f2af27f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*M4hXFW01CptUKwVZ8b3d4A.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图5:数据集信息。</figcaption></figure><h1 id="1bdd" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">数据集有多完整？</h1><p id="9484" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">下一步是查看数据集显示了多少空值。数据集质量与空值的数量直接相关。理解空值与输入总数相比有多重要很重要。</p><ul class=""><li id="12cc" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">可以看到，整个<code class="du lh li lj lk b">neighbourhood_group</code>列呈现100%的空值。</li><li id="aa31" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">变量<code class="du lh li lj lk b">reviews_per_month</code>和<code class="du lh li lj lk b">last_review</code>表示大约23%的空值。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lx"><img src="../Images/82b83322fbee3441bdccb88f6714e506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*EE52_9dxNYqiReIYhpxq3A.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图6:数据集变量和空变量。</figcaption></figure><h1 id="0bcd" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">分析变量分布</h1><p id="79fb" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">直方图是显示变量分布的好方法。让我们看看这个分析中的变量是如何表现的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/c062856bbf012a2c64533c36d6cac2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xUqaTtmbXrCGYzSJWffD1w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图7:变量分布。</figcaption></figure><h1 id="4ed7" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">有离群值吗？</h1><p id="4329" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">基于上面的直方图分析，可以说肯定存在异常值。这些值扭曲了分布，并不代表本报告中要分析的值。有两种方法可以证明异常值的存在:</p><ul class=""><li id="814b" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">通过<code class="du lh li lj lk b">describe()</code>方法统计汇总。</li><li id="53ce" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">绘制变量的<code class="du lh li lj lk b">boxplots</code>。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/8ea174bc76ad6764de68929bc16e3e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bTbgVIEmzMwlgg9MFd8eUA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图8:数据集统计。</figcaption></figure><p id="4eb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是从这一简要分析中得出的一些结论:</p><ul class=""><li id="4aa2" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">75%的变量<code class="du lh li lj lk b">price</code>低于229，但其最大值是25000。</li><li id="f249" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated"><code class="du lh li lj lk b">minimum_nights</code>的最大值在一年365天以上。</li></ul><h2 id="57d9" class="ma jw hi bd jx mb mc md kb me mf mg kf iq mh mi kj iu mj mk kn iy ml mm kr mn bi translated">最小_夜的箱线图</h2><p id="9d74" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">箱线图是发现异常值的好工具。让我们看看是否有一些最小夜数的变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/22a0c46193cdc21a004215463cba9ab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u1_DajL40-burKyEwRdlmQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图9:箱线图和异常值。</figcaption></figure><p id="82f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个简单的分析告诉我们，有一个值破坏了我们的分析。它需要移除。</p><h2 id="8605" class="ma jw hi bd jx mb mc md kb me mf mg kf iq mh mi kj iu mj mk kn iy ml mm kr mn bi translated">价格箱线图</h2><p id="68bd" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">让我们对变量<code class="du lh li lj lk b">price</code>进行同样的操作。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/38075a590db441c5575e306b6d974ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fMkZhT34F4dzE3jrOXIEXA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图10:箱线图和异常值。</figcaption></figure><h2 id="4ca6" class="ma jw hi bd jx mb mc md kb me mf mg kf iq mh mi kj iu mj mk kn iy ml mm kr mn bi translated">无异常值的直方图</h2><p id="0904" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">以下程序将从我们的分析中移除异常值，然后绘制更新的直方图。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/11131ea0eff6cdaf15ca0016dcdaab7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylXqWtZLDmWvcA3_Xn_f4w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图11:异常值去除。</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mr"><img src="../Images/2e075651c77645cdfd868f4e4c7cb40d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BjjLAhR64nZT7XuSJVAnlQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图12:数据清理后的变量分布。</figcaption></figure><h1 id="a441" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">变量相关性</h1><p id="ec80" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated"><strong class="ih hj">相关性</strong>或<strong class="ih hj">相关性</strong>是两个变量之间的统计关系。我们的目标是在我们的数据集中找到它。</p><p id="473a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种关系是可以测量的，相关系数的目的是确定这种关系有多强。只有两个程序来识别这些变量中存在的相关性:</p><ul class=""><li id="ec19" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">生成相关矩阵。</li><li id="0229" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">使用<code class="du lh li lj lk b">seaborn</code>库从该矩阵创建热图。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/61659095d9fea0c277b93d366be033df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NflrCCZgR3JzoWbcYwDs4Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图13:相关矩阵。</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mt"><img src="../Images/6c050787ca2f9ecf986e678e7314c328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*AovlNZB2loHN4-HCvfQChA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图14:关联矩阵的热图。</figcaption></figure><h1 id="fad4" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">最好的出租物业是什么？</h1><p id="ca22" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">如果你已经使用过Airbnb服务，你可能知道有不同类型的房间。从整栋房子到合租公寓。为了了解最常出租的房产类型，我们将对变量<code class="du lh li lj lk b">romm_type</code>使用<code class="du lh li lj lk b">value_count()</code>方法，并计算每种房间的租金数量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/6e5c8b61f68cca21302b8100a02bbd8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*va04b5N1VG3a9d8lLFLZGg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图15:数据集信息。</figcaption></figure><p id="e2d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于这一分析，可以说大多数可用房间(约60%)是整个家庭/公寓，而酒店房间仅占可用房间总数的1.2%。</p><h1 id="c91e" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">旧金山生活成本最高的地区是哪里？</h1><p id="6023" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">使用操作<code class="du lh li lj lk b">groupby()</code>可以比较变量a。在这种情况下，我们的想法是根据租金价格来比较各个社区。结果显示，太平洋高地、格伦公园和码头是旧金山生活成本最高的三个街区。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/78c4c13617fa3fcab288477a0ec36ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nc3dhZDGIe8S6jdIXtjRIQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图16:旧金山最昂贵的社区。</figcaption></figure><p id="f2f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为数据集表示属性的纬度和经度，所以可以绘制每个坐标。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/9653fdcba7d907347739f3b9c6d6dd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TPyftMawV3VmLhXGBg9lPw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图17:房产位置和租金价格。</figcaption></figure><h1 id="d3d3" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">通过leav可视化地图中的属性位置</h1><p id="f4c4" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">Folium是一个强大的库，它结合了Python处理数据的效率和JavaScript map库<code class="du lh li lj lk b">Leaflet</code>。然而，为了使用谷歌地图找到少数几个合适的酒店，我们需要绘制7814个酒店的地图。<code class="du lh li lj lk b">Folium</code>为其提供了合适的解决方案。</p><p id="d517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步是导入叶库。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/c006bb99deccacc343dc927cc8ba5e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*pLiUHVZ0U79PaECdNAT78Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图18:创建一个叶子地图。</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/98baa99f4238be7d5bb68364a5526d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-XjdK8TfkIfARG8m2Fh7lg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图19:旧金山树叶地图。</figcaption></figure><p id="6562" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看出这个库是多么的简单和强大。我们已经有了一张来自旧金山的好地图。尽管如此，如果能有一张地图显示城市每个地区的消费水平，那就太好了。这可以通过<code class="du lh li lj lk b">Cloropleth</code>使用热图来完成。因此，要完成这项任务，有必要知道这些房产的邮政编码。我们的数据集不提供这些信息，因此将使用更完整的数据。这个数据集也可以在Airbnb 的<a class="ae jt" href="http://insideairbnb.com/get-the-data.html" rel="noopener ugc nofollow" target="_blank">上找到。</a></p><p id="82b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">已经完成了许多清理数据的过程，但是这里不打算介绍它们。关于代码的更多细节，完整的分析可以在我的GitHub库中找到。</p><p id="6ac0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了！现在考虑到我们的数据集是绝对干净的，让我们用<strong class="ih hj">叶绘制地图。</strong></p><p id="6186" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我们将执行以下步骤:</p><ul class=""><li id="f112" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">创造一个形象</li><li id="ec40" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">创建地图</li><li id="7526" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">创建Choropleth地图。</li><li id="4a7d" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">在地图上创建一些标记，指向旧金山的一些著名景点。</li><li id="3c78" class="ky kz hi ih b ii lq im lr iq ls iu lt iy lu jc ld le lf lg bi translated">显示地图</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mz"><img src="../Images/9997c808e263672c3caa064909e56043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-MHnA0LkR2S3ISGH1Jo3JQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图20:通过leav库创建choropleth图。</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/34ef4c45d63dd830189bd3f4f7726377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*filEDd5R3HGUf1D2fHw9SQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图21:choropleth地图上的旧金山租金价格。</figcaption></figure><p id="7866" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些旅游景点(如金门大桥、渔人码头、金门公园和美国电话电报公司公园)已在地图上标出。</p><p id="c08d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">整个分析，包括交互式的叶子地图，都可以在我的<a class="ae jt" href="https://github.com/JoaoSiqueiraDS/Joao_Siqueira_Portifolio" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> GitHub存储库中找到。</em> </a></p><h1 id="36ac" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="03e1" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">首先，本分析的主要目标已经实现，即使用基本的Python命令来操纵真实数据并从中获得洞察力，并了解这些命令有多么有用和强大。</p><p id="9ad5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于分析本身，结果表明，基于对Airbnb数据集的这种肤浅分析，有可能看到离群值如何干扰分析。然而，旧金山生活成本最高的10个地区在价格上并没有太大差异(最贵地区和第十贵地区之间的价格差距只有50美元左右)。对choropleth地图的分析指出，最昂贵的租赁位于旅游景点附近。</p><p id="f2c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，此分析中使用的数据集不是完整的版本，因此它只对表面分析有用。为了更好地理解和更彻底地研究，建议使用更完整的数据集，包括106个属性。</p></div></div>    
</body>
</html>