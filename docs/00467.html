<html>
<head>
<title>A simple OpenCV demonstration for facial/face detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的OpenCV人脸检测演示</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-simple-opencv-demonstration-for-facial-face-detection-31c94e7ea05d?source=collection_archive---------2-----------------------#2019-07-02">https://medium.com/analytics-vidhya/a-simple-opencv-demonstration-for-facial-face-detection-31c94e7ea05d?source=collection_archive---------2-----------------------#2019-07-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="a6da" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated"><strong class="ak"> 1。简介</strong></h1><p id="7f06" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">近年来，面部和物体检测的需求急剧增加，原因是在安全、健康等领域的使用增加，甚至是在中国捕捉乱穿马路者。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/7674095947e04a874726c036cb77d663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SxvG6cVTS6FkFPMyMFVMcQ.jpeg"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">面部识别检测乱穿马路者</figcaption></figure><p id="794a" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">随着我们进入第四次工业革命，面部识别的用例将大幅增加，并演变到更多领域。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="10f3" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated"><strong class="ak"> 2。为Python打开CV</strong></h1><p id="a1b9" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">今天在这里，我不打算教你如何做面部识别，因为这可能需要一个小时的教程本身，但只是一个简单的面部识别脚本在python中使用自己的摄像头！</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ld"><img src="../Images/f86d0dee14dbb81b5cd93dfed2c25b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8Il5ethl3YFh0M9XKVz-A.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">英特尔的OpenCV是一款用于面部和物体检测的开源软件</figcaption></figure><p id="ac8b" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">我们将使用英特尔的OpenCV，这是一个开源编程函数计算机视觉！</p><p id="663d" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">首先，让我们先在您的计算机上安装OpenCV！我个人是通过anaconda使用jupyter的，所以我通过anaconda安装了它！你可以在下面找到下载链接！</p><div class="le lf ez fb lg lh"><a href="https://anaconda.org/conda-forge/opencv" rel="noopener  ugc nofollow" target="_blank"><div class="li ab dw"><div class="lj ab lk cl cj ll"><h2 class="bd hj fi z dy lm ea eb ln ed ef hh bi translated">Opencv :: Anaconda云</h2><div class="lo l"><h3 class="bd b fi z dy lm ea eb ln ed ef dx translated">编辑描述</h3></div><div class="lp l"><p class="bd b fp z dy lm ea eb ln ed ef dx translated">anaconda.org</p></div></div></div></a></div><p id="27c2" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">完成后，让我们打开笔记本开始吧！首先，我们将导入cv2和numpy包</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es lq"><img src="../Images/164983d068ce6bdec51587c83b55b510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*8EXQa3LJQeg7aOJlnFWyrQ.png"/></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">导入包</figcaption></figure><p id="777f" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">接下来，我们将下载用于人脸和眼睛检测的级联分类器</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="f6a2" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">3.什么是瀑布？</h1><p id="5c7e" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我一直认为，你应该了解你正在应用/使用的东西，以便充分理解其工作原理并获得更好的理解，所以在这里我将试图简单地解释什么是级联！</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es lr"><img src="../Images/352aac7ae37d99e8a291ebc4adb9dc40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*MWjZ2Vt5_Ilkcy7WfiBjJQ.png"/></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">面部瀑布的例子</figcaption></figure><p id="1efa" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated"><strong class="jm hj">注意:</strong>实际的叶栅比这更复杂，但这只是一个例子！</p><p id="ac3e" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">级联就像一个窗口，检测我们想要检测的对象/面部的特征。在上面的例子中，我们可以看到2个不同的级联特征用于检测人脸。</p><p id="fbb0" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">水平特征依赖于这样的事实，即<strong class="jm hj">眼睛通常比脸的脸颊</strong>更暗，因此它被用于检测眼睛的位置。</p><p id="a788" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">垂直特征依赖于这样一个事实，即<strong class="jm hj">鼻梁经常与同样较暗的眼睛区域</strong>形成对比(我们更突出的鼻子比凹陷的眼睛区域更亮)。</p><h1 id="a6e6" class="im in hi bd io ip ls ir is it lt iv iw ix lu iz ja jb lv jd je jf lw jh ji jj bi translated">4.实现和下载级联</h1><div class="le lf ez fb lg lh"><a href="https://github.com/opencv/opencv/tree/master/data/haarcascades" rel="noopener  ugc nofollow" target="_blank"><div class="li ab dw"><div class="lj ab lk cl cj ll"><h2 class="bd hj fi z dy lm ea eb ln ed ef hh bi translated">opencv/opencv</h2><div class="lo l"><h3 class="bd b fi z dy lm ea eb ln ed ef dx translated">开源计算机视觉库。在GitHub上创建一个帐户，为opencv/opencv开发做贡献。</h3></div><div class="lp l"><p class="bd b fp z dy lm ea eb ln ed ef dx translated">github.com</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc ks lh"/></div></div></a></div><p id="4f4b" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">你需要为我们今天的面部检测练习下载面部和眼睛级联，链接在上面！</p><p id="4c63" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">完成后，我们现在将为级联分类器分配一个变量！</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/d62b89b69697470fdc0095b1548e4677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*asxSPxD2Gv3bmiSnzZ_mSQ.png"/></div></div></figure><p id="85dd" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">现在，我们将使用视频捕捉来打开我们的网络摄像头！您应该将它设置为0来操作您的网络摄像机，除非您有一个以上的网络摄像机，在这种情况下，您可能必须使用“1”来代替</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es me"><img src="../Images/c7485e3e2761adc42347b7d6035fca43.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*S7xsmnk5OexlkzJUxGDIFA.png"/></div></figure><p id="b1ea" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">有趣的事情开始了！</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mf"><img src="../Images/796e4199a07d926c492604f4398f8ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uuq0OFBZPq_cpNLuPGbqLw.png"/></div></div></figure><p id="c8dd" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">我们在这里做的是，首先将我们拥有的图像(来自网络摄像头)转换成灰度。<strong class="jm hj">对图像进行灰度处理可确保检测更加容易</strong>但我们将在彩色图像/进纸上显示检测结果。</p><p id="7641" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">同样，在级联中，有2个主要因素会影响检测</p><ol class=""><li id="e7f8" class="mg mh hi jm b jn ky jr kz jv mi jz mj kd mk kh ml mm mn mo bi translated"><strong class="jm hj">比例因子</strong></li></ol><p id="4d51" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">这意味着如果存在的话，在图像中检测到该大小的面部。然而，通过重新缩放输入图像，你可以将较大的脸调整为较小的脸，使其能够被算法<strong class="jm hj">检测到。或者换句话说，如果图像很大，我们倾向于增加比例因子</strong>。通常，1.1或1.2应该足够了</p><p id="deb4" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated"><strong class="jm hj"> 2。近邻</strong></p><p id="248d" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">它是保持检测所需的相邻矩形的数量。通常3-6个就足够了</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mp"><img src="../Images/ca31197a1f4c37a8fddf937ad1aee918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zflKmwWkTi2-bvC6CMQwNg.png"/></div></div></figure><p id="79e8" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">这里，(x，y，w，h)表示x和y坐标，w表示宽度，h表示高度。</p><p id="25f2" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">cv2.rectangle是cv2中的一个函数，它允许你通过传递图像、左下角坐标、右上角坐标以及矩形的颜色(255，0，0表示红色，这是一个RGB像素代码)来绘制一个矩形，最后是我设置为2的厚度</p><p id="c5d1" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">roi_gray稍后再次用于眼睛检测！ROI代表图像的区域，以防有人想知道！</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mq"><img src="../Images/3203ddab22e148469dd5f52603c608df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*wST0mxkh428Ub6QgI_6aZA.png"/></div></figure><p id="b8e7" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">这是这部分的整个代码的样子。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mr"><img src="../Images/ad40732dc7b8374a51753fcee06495c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPH7n2N-oiqyG67nRkugmA.png"/></div></div></figure><p id="1523" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">最后几个部分只是cv2.imshow来显示图像，并使用一个waitkey，这样你就可以在你的窗口上按下“esc”键来跳出记录并停止这个过程。</p><p id="6347" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">cap.release还会释放网络摄像头并暂停它！</p><p id="a781" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">你也可以访问我的github获得完整的代码，它基本上是所有这些片段的组合。<a class="ae ms" href="https://github.com/k-choonkiat/Python-Machine-Learning-/blob/master/OpenCV%20video.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/k-choon kiat/Python-Machine-Learning-/blob/master/OpenCV % 20 video . ipynb</a></p><p id="7eca" class="pw-post-body-paragraph jk jl hi jm b jn ky jp jq jr kz jt ju jv la jx jy jz lb kb kc kd lc kf kg kh hb bi translated">或者，你可以在youtube上观看sentdex的现场演示来解释它</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="mt mu l"/></div></figure></div></div>    
</body>
</html>