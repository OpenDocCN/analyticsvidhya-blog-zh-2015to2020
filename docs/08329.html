<html>
<head>
<title>Deploy an ML model using APIs on local as well as AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在本地和AWS上使用API部署ML模型</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/deploy-an-ml-model-using-apis-on-local-as-well-as-aws-cf7d7b0d0ed7?source=collection_archive---------18-----------------------#2020-07-25">https://medium.com/analytics-vidhya/deploy-an-ml-model-using-apis-on-local-as-well-as-aws-cf7d7b0d0ed7?source=collection_archive---------18-----------------------#2020-07-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/5e94a1175f6454472385f6e330ed26cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wLvbADD1NUB7h4i_.jpg"/></div></div></figure><div class=""/><p id="20e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">什么是API？</strong></p><p id="55c2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用非常简单的语言来说，就是函数调用。换句话说，调用一个函数很可能来自一个不同的机器，这个机器只不过是一个服务器。输出数据集采用json或XML格式。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es jo"><img src="../Images/a1e0ff7f39c4b70161d52fb7db66c348.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/0*50mfSnsjZUMoSZMF.png"/></div></figure><p id="ab38" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以有两个步骤，这个博客的一部分告诉你如何在你自己的机器上部署你的模型，第二部分告诉你如何在AWS上部署。</p><p id="fa85" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">使用的步骤:</strong></p><ol class=""><li id="b65a" class="jt ju ht is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">在您的本地机器(Amazon Fine Food reviews)上构建一个模型，并将该模型和其他与模型相关的关键变量存储在。pkl文件</li></ol><p id="610b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.在AWS上启动一个微实例。</p><p id="97d8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.连接到AWS盒[ssh]</p><p id="7456" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.将文件移动到AWS EC2实例/盒子[scp]</p><p id="3725" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.在AWS盒子上安装所有需要的软件包。</p><p id="cd1a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.在AWS盒子上运行app.py。</p><p id="003a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.在浏览器中检查输出。</p><p id="58dc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">所需软件:</strong></p><p id="b9d8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.蟒蛇:</p><p id="882e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">a.Windows 64位:<a class="ae kc" href="https://repo.continuum.io/archive/Anaconda3-5.2.0-Windows-x86_64.exe" rel="noopener ugc nofollow" target="_blank">https://repo . continuum . io/archive/anaconda 3-5 . 2 . 0-Windows-x86 _ 64 . exe</a></p><p id="7baf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">b.Windows 32位:<a class="ae kc" href="https://repo.continuum.io/archive/Anaconda3-5.2.0-Windows-x86.exe" rel="noopener ugc nofollow" target="_blank">https://repo . continuum . io/archive/anaconda 3-5 . 2 . 0-Windows-x86 . exe</a></p><p id="8342" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">c.MAC:<a class="ae kc" href="https://repo.continuum.io/archive/Anaconda3-5.2.0-MacOSX-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo . continuum . io/archive/anaconda 3-5 . 2 . 0-ma cosx-x86 _ 64 . sh</a></p><p id="aacc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">d.Linux 64位:<a class="ae kc" href="https://repo.continuum.io/archive/Anaconda3-5.2.0-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo . continuum . io/archive/anaconda 3-5 . 2 . 0-Linux-x86 _ 64 . sh</a></p><p id="fb77" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">e.Linux 32位:<a class="ae kc" href="https://repo.continuum.io/archive/Anaconda3-5.2.0-Linux-x86.sh" rel="noopener ugc nofollow" target="_blank">https://repo . continuum . io/archive/anaconda 3-5 . 2 . 0-Linux-x86 . sh</a></p><p id="8e78" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">f.查一下《蟒蛇》以前的档案:<a class="ae kc" href="https://repo.continuum.io/archive/" rel="noopener ugc nofollow" target="_blank">https://repo.continuum.io/archive/</a></p><p id="15ca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">套餐需求:</strong></p><p id="0a93" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">pip3，pandas，NumPy，sklearn，beautifulsoup4，lxml，flask，re</p><p id="238d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以把这些包都复制过来，这样试试:<a class="ae kc" href="https://stackoverflow.com/a/15593865/4084039" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/a/15593865/4084039</a></p><p id="ee3d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据集:我们正在使用的数据集是亚马逊美食评论</p><h1 id="19ba" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">[1]本地盒上的代码(本地机器)</h1><p id="a567" class="pw-post-body-paragraph iq ir ht is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">打开Anaconda提示符，并按照以下步骤操作:在Github链接中使用的代码，带有目录的裁剪屏幕</p><div class="hh hi ez fb hj lg"><a href="https://github.com/ranasingh-gkp/Deployment_Models_LOCAL_AWS/tree/master/AFR" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hu fi z dy ll ea eb lm ed ef hs bi translated">Rana Singh-gkp/Deployment _ Models _ LOCAL _ AWS</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">在GitHub上创建一个帐户，为Rana Singh-gkp/Deployment _ Models _ LOCAL _ AWS开发做贡献。</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">github.com</p></div></div><div class="lp l"><div class="lq l lr ls lt lp lu hp lg"/></div></div></a></div><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/58b7c4758c9b0feac7c587d4552689fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*PXfTNXMAq6oMK7dv5sWNSg.png"/></div></figure><p id="7ed2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.转到代码目录。(&gt; cd“目录的路径”)</p><p id="8e3b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.运行“python3 app.py”</p><p id="8717" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.浏览器:<a class="ae kc" href="http://localhost:8080/index" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/index</a></p><p id="4b38" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的浏览器中，会出现一个窗口框，将文本粘贴到该框中</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es lw"><img src="../Images/ffad99c55674300f8b2b0731d209d6d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*RVnU2LEOkoyYMZiJlN4u8A.png"/></div></figure><p id="add4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您将在本地浏览器中找到答案:</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/c12f7fefee10cf1d0023f482d69859ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*skGvCGmQvgdpGlLMXQLUBg.png"/></div></figure><p id="13f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> → </strong>现在让我浏览一下目录中的所有文件并在后端处理</p><p id="7c12" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">首先:model.py - &gt; </strong>请浏览我的GitHub链接上的代码</p><p id="e808" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ly">流程:</em>从SQLite(database.sqlite)加载数据&gt;训练数据&gt;将模型存储在pkl文件(model.pkl，count_vect.pkl)中</p><p id="6fa8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第二:</strong><a class="ae kc" href="https://github.com/ranasingh-gkp/Deployment_Models_LOCAL_AWS/blob/master/AFR/templates/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">index.html</strong></a></p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/50e93d4a5a67225b239be66d4b974b6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*KNqzFx1YjeAFTSIu53pIPA.png"/></div></figure><p id="62e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，您粘贴到review_text框中的任何内容，在点击提交按钮后，都将作为输入发布到<em class="ly">预测函数</em>。</p><p id="963f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">第三:app.py </strong></p><p id="68b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它使用flask构建API，基本上加载model.py中创建的模型，导入一些预处理函数，并从HTML导入数据集，使用predict函数预测输出。(请浏览代码)</p><p id="b490" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ly">祝贺:</em>您将在本地web浏览器上看到使用HTML页面的输出</p><h1 id="cbf3" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">[2]在AWS上启动一个微实例。</h1><p id="8073" class="pw-post-body-paragraph iq ir ht is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">在AWS上启动一个微实例。</p><p id="c88d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上，你想在AWS上租赁一个机器来进行计算。租赁的盒子被称为弹性计算云(ECC)。EC2帮助我们租赁了不止一个计算箱。</p><p id="1523" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我们遵循上一个案例中的所有步骤a，但是我们将在AWS服务器上部署。</p><p id="fb11" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ly">为</em> <strong class="is hu">创建实例</strong> <em class="ly">执行以下步骤:</em></p><p id="b929" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.创建一个AWS账户<a class="ae kc" href="https://aws.amazon.com" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com</a>，</p><p id="da8e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae kc" href="https://portal.aws.amazon.com/billing/signup#/start" rel="noopener ugc nofollow" target="_blank">https://portal.aws.amazon.com/billing/signup#/start</a></p><p id="140b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.登录:<a class="ae kc" href="https://console.aws.amazon.com" rel="noopener ugc nofollow" target="_blank">https://console.aws.amazon.com</a></p><p id="dc04" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">登录后:</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ma"><img src="../Images/b01b56ee6630fbc9996cfa3a088faaae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*a1Ic0m8ddlqSX1XsEQWwnw.png"/></div></figure><p id="7f5f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在启动EC2实例</p><p id="acf1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.选择ubuntu免费轮胎</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mb"><img src="../Images/a29b6efaffd7318c04efc8de6d75fab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Dc53rmrBuP13ATA_ZJ1KQ.png"/></div></div></figure><p id="5444" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">亚马逊为你的实验提供了免费的Ubuntu机器。这只是为了实验，但实际上您将选择一台更强大的机器进行部署并支付费用。<strong class="is hu">点击选择</strong></p><p id="f1fc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.选择t2.micro免费层合格</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/8004d86681416f7080bd9f0a377cb21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qnQRx5jpO2Vr5IF4nptF4w.png"/></div></div></figure><p id="2328" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">检查实验的t2.micro实例。根据您的部署要求选择框。点击<strong class="is hu">查看并启动</strong></p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es md"><img src="../Images/5d59b8e089403a9978e254c185e906a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uU1HIcEr3BeDs_qUdajmhw.png"/></div></div></figure><p id="f440" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在点击<strong class="is hu">发射</strong></p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es me"><img src="../Images/fc2c11b5ba2fd99fa4952cc13601c7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zaRCrqIkTxSEnxa9QbwdcA.png"/></div></div></figure><p id="8a4f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">key pair——给你一个加密的密钥，让你安全地登录AWS上的远程实例(box)。下载密钥对并启动实例。下载密钥对<strong class="is hu">。pem "文件</strong>,该文件位于将用于连接本地机器和aws机器的位置。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mf"><img src="../Images/e20ff54bb0eebf03f78478cd6d0a6d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G_56JxSIZ7XN89aZqoyRpQ.png"/></div></div></figure><p id="b7a9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您将看到这个屏幕，您已经成功启动了EC2实例，现在我们需要在其中启动一个flask API。</p><p id="8e18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.创建安全组</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mg"><img src="../Images/86f6bebf57ea8539425272ed716d6757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*Lj3GfmQ8xRTnTwVm64X5nw.png"/></div></figure><p id="5b69" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">选择“网络与安全”-&gt;“安全组”，然后点击“创建安全组”。这里，安全组意味着谁可以访问实例(框)。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mh"><img src="../Images/5c20ae7ad02a827011e36d4f6f048cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epPFDB4jkAgPjuwombJS2g.png"/></div></div></figure><p id="8f07" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">保留所有默认值。点击<strong class="is hu">创建</strong></p><p id="7d34" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.然后将特定的安全组添加到网络接口</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mi"><img src="../Images/bc3a41a2621ae3d27babfeb4b58ad822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hf5boM9hELym1tdwex80Ig.png"/></div></div></figure><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mj"><img src="../Images/2d90a632a5c596083d274ccc73a466dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zYWN81gFzl-I_YkXmxL5Vg.png"/></div></div></figure><h2 id="a7ee" class="mk ke ht bd kf ml mm mn kj mo mp mq kn jb mr ms kr jf mt mu kv jj mv mw kz mx bi translated">[3]连接到AWS盒</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="ab fe cl my"><img src="../Images/044f6069c8bbf161475cc5da53c85cb4.png" data-original-src="https://miro.medium.com/v2/format:webp/0*_IXM0ytJ1lffRqrr.png"/></div></figure><p id="6998" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，这里您需要在本地cmd上使用ssh命令将您的机器与AWS机器连接起来。现在打开你的系统命令提示符(cmd)并把目录改为<strong class="is hu">。pem文件</strong>已定位。</p><p id="ed0d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请遵循下图中的示例代码。在创建的实例上单击鼠标右键，您将看到此窗口</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es mz"><img src="../Images/eb9353340f456741e3df9cbbde410bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*vg-2jWNPXvyVdPiYq8r2Ow.png"/></div></figure><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es na"><img src="../Images/2b89e8dab6ac8e63a3632e2281f016d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*59Ck0-RkyQzNDumn4un-pA.png"/></div></figure><p id="d511" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按回车键后-&gt;</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nb"><img src="../Images/a925938b39feb4b7cd398672517fb465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*8FARaYA1CbRUySLhgPZHSg.png"/></div></figure><p id="c96f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您已经远程登录到AWS box。这是一个Linux命令提示符。现在，您必须安全地将数据传输到AWS盒。</p><h2 id="078c" class="mk ke ht bd kf ml mm mn kj mo mp mq kn jb mr ms kr jf mt mu kv jj mv mw kz mx bi translated">[4]将文件移动到AWS EC2实例/盒子[]</h2><p id="4c64" class="pw-post-body-paragraph iq ir ht is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">在您的本地系统上打开另一个cmd，并按照代码进行操作。复制文件的命令行</p><p id="cfc2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">c:\ Users \ Asus \ one drive \ Desktop &gt; scp-r-I " for _ live . PEM "。/AFR</p><p id="8b27" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ubuntu@ec2–13–59–191–237.us-east-2.compute.amazonaws.com:~/</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nc"><img src="../Images/7b6145cfa06c35ddf8ab9de63dc1b4bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*ifLnp4SP6Hy0FTV_zBcMng.png"/></div></figure><h2 id="171f" class="mk ke ht bd kf ml mm mn kj mo mp mq kn jb mr ms kr jf mt mu kv jj mv mw kz mx bi translated"><strong class="ak"> [5]在AWS盒上安装所有需要的包。</strong></h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nd"><img src="../Images/eeb1af5fdea511e5b46a720eda41bca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*ixlwngcHWgqTvH2XPQkWrA.png"/></div></figure><h2 id="d643" class="mk ke ht bd kf ml mm mn kj mo mp mq kn jb mr ms kr jf mt mu kv jj mv mw kz mx bi translated">[6]在AWS盒子上运行app.py。</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ne"><img src="../Images/d22ca4af8f3ab0fd1339434e0694d8a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*xq3EpF3J85egD53EZ4mWIw.png"/></div></figure><p id="a0a2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们不需要database和model.py，因为他们曾经训练过模型。但是保留模型将用于预测的所有数据集或字典。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nf"><img src="../Images/903567c02582fa073f45c1fda93f25db.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*aaornJaStVjS4xFokiV52w.png"/></div></figure><p id="37b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为<strong class="is hu"> model.pkl和count_vect.pkl </strong>总是被使用，所以它最好保存为一个<strong class="is hu">全局变量</strong>以避免每次点击时上传。</p><p id="1d7d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae kc" href="https://github.com/ranasingh-gkp/Deployment_Models_LOCAL_AWS/blob/master/AFR/app.py" rel="noopener ugc nofollow" target="_blank">https://github . com/Rana Singh-gkp/Deployment _ Models _ LOCAL _ AWS/blob/master/AFR/app . py</a></p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es ng"><img src="../Images/9463376c9e0bbbde5636a7a406e7712f.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*DYI8B29EHyTWy9C1ZfqmSw.png"/></div></figure><p id="d6c3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它在AWS盒子上运行。</p><h2 id="0acb" class="mk ke ht bd kf ml mm mn kj mo mp mq kn jb mr ms kr jf mt mu kv jj mv mw kz mx bi translated">[8]在浏览器中检查输出。</h2><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es nh"><img src="../Images/f140844f82c055ae69e04e24afe626d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*ozAo5QScEJIWgJIQSLBG-Q.png"/></div></figure><p id="ee40" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">= = = = = = = = = = = = = = = end = = = = = = = = = = = = = = = = = = = =</p><h1 id="2b74" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">参考:</h1><ol class=""><li id="aecd" class="jt ju ht is b it lb ix lc jb ni jf nj jj nk jn jy jz ka kb bi translated">上述案例中使用的代码</li></ol><div class="hh hi ez fb hj lg"><a href="https://github.com/ranasingh-gkp/Deployment_Models_LOCAL_AWS/tree/master/AFR" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hu fi z dy ll ea eb lm ed ef hs bi translated">Rana Singh-gkp/Deployment _ Models _ LOCAL _ AWS</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">在GitHub上创建一个帐户，为Rana Singh-gkp/Deployment _ Models _ LOCAL _ AWS开发做贡献。</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">github.com</p></div></div><div class="lp l"><div class="lq l lr ls lt lp lu hp lg"/></div></div></a></div><p id="28a7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.图片来自谷歌图片。</p><p id="1757" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.AWS文档</p></div></div>    
</body>
</html>