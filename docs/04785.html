<html>
<head>
<title>Create a Pie Chart in Kibana</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在基巴纳创建饼图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/create-a-pie-chart-in-kibana-2a8e7092f800?source=collection_archive---------20-----------------------#2020-03-31">https://medium.com/analytics-vidhya/create-a-pie-chart-in-kibana-2a8e7092f800?source=collection_archive---------20-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/daa74e9662c39f5fcf30f5a914e7907c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJw22tZDHa5SGHtvNhiHuA.png"/></div></div></figure><p id="0795" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇博客中，我将解释如何在Kibana中创建一个饼图来显示通过Filebeat捕获的Apache2日志数据。因此，基本上我将绘制饼图来显示多个字段值，如响应代码、HTTP方法和发送的总字节数。</p><p id="ff86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将创建一个简单的饼图，显示多维数据，并为每个字段创建存储桶。我们将使用以下Filebeat数据结构来创建饼图:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="6eb4" class="jx jy hi jt b fi jz ka l kb kc">{<br/>  "_index": "filebeat-6.5.2-2018.12.13",<br/>  "_type": "doc",<br/>  "_id": "-Z9Ap2cBI_XuAVP8QgYj",<br/>  "_version": 1,<br/>  "_score": null,<br/>  "_source": {<br/>    "offset": 2508,<br/>    "apache2": {<br/>      "access": {<br/>        "referrer": "http://localhost/test/admin.php?username=root&amp;db=mysite",<br/>        "response_code": "200",<br/>        "remote_ip": "127.0.0.1",<br/>        "method": "GET",<br/>        "user_name": "-",<br/>        "http_version": "1.1",<br/>        "body_sent": {<br/>          "bytes": "4180"<br/>        },<br/>        "url": "/test/admin.php?username=root&amp;db=mysite&amp;script=db",<br/>        "user_agent": {<br/>          "original": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0",<br/>          "major": "63",<br/>          "minor": "0",<br/>          "os": "Ubuntu",<br/>          "name": "Firefox",<br/>          "os_name": "Ubuntu",<br/>          "device": "Other"<br/>        }<br/>      }<br/>    },<br/>    "prospector": {<br/>      "type": "log"<br/>    },<br/>    "read_timestamp": "2018-12-13T10:56:32.756Z",<br/>    "source": "/var/log/apache2/access.log",<br/>    "fileset": {<br/>      "module": "apache2",<br/>      "name": "access"<br/>    },<br/>    "input": {<br/>      "type": "log"<br/>    },<br/>    "@timestamp": "2018-12-13T08:03:29.000Z",<br/>    "beat": {<br/>      "hostname": "DLILPTP0305",<br/>      "name": "DLILPTP0305",<br/>      "version": "6.5.2"<br/>    },<br/>    "host": {<br/>      "name": "DLILPTP0305"<br/>    }<br/>  },<br/>  "fields": {<br/>    "@timestamp": [<br/>      "2018-12-13T08:03:29.000Z"<br/>    ]<br/>  },<br/>  "highlight": {<br/>    "apache2.access.method": [<br/>      "@kibana-highlighted-field@GET@/kibana-highlighted-field@"<br/>    ]<br/>  },<br/>  "sort": [<br/>    1544688209000<br/>  ]<br/>}</span></pre><p id="fdc8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">filebeat索引的上述文档显示了Apache日志数据的指标。因此，我将使用该文档中的字段来创建饼图。我们需要执行以下操作来创建图表:</p><ul class=""><li id="205b" class="kd ke hi is b it iu ix iy jb kf jf kg jj kh jn ki kj kk kl bi translated">点击左侧菜单中的可视化链接。这将打开保存可视化链接。</li><li id="4f4d" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">单击加号图标创建新的可视化效果。</li><li id="bd5c" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">从选择可视化类型屏幕中，单击饼图框。这将打开一个屏幕来选择索引或保存的搜索对象。</li><li id="8b43" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">如果您有Filebeat索引，请单击Filebeat，或者选择您自己的索引模式。</li><li id="25dc" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">选择“度量”选项下的计数。</li><li id="94d0" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">在桶选项下，选择聚合术语，并在字段选项下选择Apache的response_code字段。</li><li id="bb6c" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">根据字段名添加自定义标签。</li><li id="6c20" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">现在，单击“添加子桶”按钮，添加更多要聚合的字段。</li><li id="db9f" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">为聚合添加HTTP方法和发送的总字节数字段。</li><li id="4abb" class="kd ke hi is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">添加完所有这些字段后，单击配置面板上的“应用更改”按钮图标。</li></ul><p id="c4dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将加载可视化，如下面的屏幕截图所示。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/6e486941fdb39140b27f5f7488472cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*6iXD2jnpcGGn3Za_8SoDFg.png"/></div></figure><p id="a5e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以单击可视化的任何部分来深入查看图表，这样我们就可以使用可视化获得所需的数据集。例如，如果我们只想查看响应代码为302的POST请求，我们可以直接点击这些部分来过滤图表。</p><p id="0825" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ks">如果你觉得这篇文章很有趣，那么你可以探索一下“</em> <a class="ae kt" href="https://www.amazon.com/Mastering-Kibana-6-x-Visualize-histograms/dp/1788831039/ref=olp_product_details?_encoding=UTF8&amp;me=" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">【掌握基巴纳6.0 </em> </strong> </a> <em class="ks">”、</em> <a class="ae kt" href="https://www.amazon.com/Kibana-Quick-Start-Guide-Elasticsearch/dp/1789804035" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">基巴纳7快速入门指南</em> </strong> </a> <em class="ks">”、</em> <a class="ae kt" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">学习基巴纳7 </em> </strong> </a> <em class="ks">”和</em> <a class="ae kt" href="https://www.amazon.com/gp/product/1789803322?pf_rd_p=2d1ab404-3b11-4c97-b3db-48081e145e35" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">弹性搜索</em></strong></a></p><p id="dabc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有任何疑问，请留下您的评论。如果你喜欢这个博客，请鼓掌并分享。你也可以在推特上关注我:<a class="ae kt" href="https://twitter.com/anu4udilse" rel="noopener ugc nofollow" target="_blank">https://twitter.com/anu4udilse</a></p><p id="fc5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">BookAuthority 6有史以来最好的弹性堆栈书籍<br/> 1- <a class="ae kt" href="https://www.amazon.com/Mastering-Kibana-6-x-Visualize-histograms/dp/1788831039/ref=olp_product_details?_encoding=UTF8&amp;me=" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">掌握基巴纳6.0 </em> </strong> </a>【阿努拉格·斯里瓦斯塔瓦】<br/> 3- <a class="ae kt" href="https://www.amazon.com/Kibana-Quick-Start-Guide-Elasticsearch/dp/1789804035" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">基巴纳7快速入门指南</em> </strong> </a>【阿努拉格·斯里瓦斯塔瓦】<br/> 5- <a class="ae kt" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="ks">学习基巴纳7 </em> </strong> </a>(阿努拉格·斯里瓦斯塔瓦</p></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><p id="442a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ks">原载于</em><a class="ae kt" href="https://bqstack.com/b/detail/93/Create-a-Pie-Chart-in-Kibana" rel="noopener ugc nofollow" target="_blank"><em class="ks">https://bqstack.com</em></a><em class="ks">。</em></p></div></div>    
</body>
</html>