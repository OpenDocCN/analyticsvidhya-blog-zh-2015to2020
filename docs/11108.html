<html>
<head>
<title>Level Circles Visualization -Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">水平圆可视化-Python</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/visualization-of-the-level-circles-of-a-real-function-of-two-variables-%E2%84%9D%C2%B2-in-%E2%84%9D-with-python-9414922c88b1?source=collection_archive---------7-----------------------#2020-11-18">https://medium.com/analytics-vidhya/visualization-of-the-level-circles-of-a-real-function-of-two-variables-%E2%84%9D%C2%B2-in-%E2%84%9D-with-python-9414922c88b1?source=collection_archive---------7-----------------------#2020-11-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="0d69" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这篇文章中，我将向你展示如何从水平圆的角度来绘制ℝ的ℝ函数。以下是一些您能够生成的可视化示例:</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/d016c33a7ab5b26eb243af902996362a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*djFF6oQI1NPvGF7MoK6ipw.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">作者图片</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="e2eb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae ka" href="https://github.com/joctet/Level_Circles_Visualization" rel="noopener ugc nofollow" target="_blank">链接 GitHub repo 下载笔记本。</a></p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="ed26" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您已经学习了教程“<a class="ae ka" rel="noopener" href="/@JosephinePc/3d-visualization-of-a-function-of-two-variables-from-ℝ²-into-ℝ-with-python-matplotlib-5bd3df39fc94">使用 Python </a>在ℝ实现ℝ函数的 3D 可视化”，您可以直接进入本教程的“可视化”部分，因为数据的预处理是相同的。</p><p id="1f2b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，要安装/导入一些 python 库:</p><h2 id="6fc5" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">装置</h2><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="869e" class="kb kc hi kx b fi lb lc l ld le">pip install numpy<br/>pip install matplotlib</span></pre><h2 id="704c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">导入</h2><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="7d4b" class="kb kc hi kx b fi lb lc l ld le">import numpy as np<br/>import matplotlib.pyplot as plt</span></pre><h2 id="7f97" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">预处理</h2><p id="3a86" class="pw-post-body-paragraph im in hi io b ip lf ir is it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj hb bi translated">设函数 f 从ℝ到ℝ.对于ℝ的任何一对夫妇(x，y ):</p><p id="bd46" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">f(x，y) = 2*x — x*y + 2*y</p><p id="6e7c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">函数 f 在 python 中定义如下:</p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="f5bd" class="kb kc hi kx b fi lb lc l ld le">def f(x, y):<br/>    return 2*x**2 - x*y + 2*y**2</span></pre><p id="bd73" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们从实数ℝ集合中为 x 和 y 选择一个值范围(我将以[-100，100]为例，每个变量有 100 个值)。</p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="0327" class="kb kc hi kx b fi lb lc l ld le">x = np.linspace(-100, 100, 100)<br/>y = np.linspace(-100, 100, 100)</span></pre><p id="bccb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后，我们将创建一个包含所有值对(xi，易)的值数组，其中 xi 在 x 轴上，易在 y 轴上</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lk"><img src="../Images/80fc03e90b299668625bdea1d013333f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*wf4GYfx5YbsymlI5pXX-Yw.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">x 和 y 在其值范围内的映射(图片由作者提供)</figcaption></figure><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="24a4" class="kb kc hi kx b fi lb lc l ld le">X, Y = np.meshgrid(x, y)</span></pre><p id="1406" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后，我们为每对值(xi，易)计算上面定义的函数的值，并将这些值存储在新的变量 Z 中:</p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="dddf" class="kb kc hi kx b fi lb lc l ld le">Z = function(X,Y)</span></pre><p id="6f9d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之后，只需将 Z 显示为 X 和 y 的函数。</p><h2 id="afee" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">形象化</h2><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="3fbb" class="kb kc hi kx b fi lb lc l ld le">fig = plt.figure()</span><span id="ec0f" class="kb kc hi kx b fi ll lc l ld le">contours = plt.contour(X, Y, Z)</span><span id="d706" class="kb kc hi kx b fi ll lc l ld le">plt.title("Level circles of our function", fontsize=13)</span><span id="b39d" class="kb kc hi kx b fi ll lc l ld le">plt.xlabel('x', fontsize=11)</span><span id="7a65" class="kb kc hi kx b fi ll lc l ld le">plt.ylabel('y', fontsize=11)</span><span id="185f" class="kb kc hi kx b fi ll lc l ld le">plt.show()</span></pre><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lm"><img src="../Images/4824f914ea59d601b340698a0cfeacef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*RNm9QdKT0jtKrVuUvyu7QQ.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">作者图片</figcaption></figure><p id="0c0b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这并不疯狂。幸运的是，我们可以更进一步，选择水平圆的数量(“levels”:这里默认水平= 5)，定义图形的大小(figsize)，显示水平圆的值(plt.clabel)，选择水平圆上显示的字符的大小(fontsize)，添加色标(colorbar)，修改色标(cmap:我为 cmap 放了一个可能值的列表)…</p><h2 id="9ea1" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">一个更完整的例子</h2><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="a459" class="kb kc hi kx b fi lb lc l ld le">fig = plt.figure(figsize = (10,7))</span><span id="10dc" class="kb kc hi kx b fi ll lc l ld le">contours = plt.contour(Z, levels = 20, cmap = 'jet')</span><span id="5074" class="kb kc hi kx b fi ll lc l ld le">plt.clabel(contours, inline = True, fontsize = 9)</span><span id="cc9d" class="kb kc hi kx b fi ll lc l ld le">plt.title("Level circles of our function", fontsize=13)</span><span id="30ed" class="kb kc hi kx b fi ll lc l ld le">plt.xlabel('x', fontsize=11)</span><span id="4de1" class="kb kc hi kx b fi ll lc l ld le">plt.ylabel('y', fontsize=11)</span><span id="90b6" class="kb kc hi kx b fi ll lc l ld le">plt.colorbar()</span><span id="0fe9" class="kb kc hi kx b fi ll lc l ld le">plt.show()</span></pre><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ln"><img src="../Images/47362c9f0613502958be3d8633464a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rKccvUnLD19IAcKHjKMpA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">作者图片</figcaption></figure><p id="ee4b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">更漂亮！</p><h2 id="5b19" class="kb kc hi bd kd ke kf kg kh ki kj kk kl ix km kn ko jb kp kq kr jf ks kt ku kv bi translated">水平圆的一种变体</h2><p id="cdfc" class="pw-post-body-paragraph im in hi io b ip lf ir is it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj hb bi translated">我们也可以连续地表示我们在 2D 函数中的变化。</p><pre class="jl jm jn jo fd kw kx ky kz aw la bi"><span id="474f" class="kb kc hi kx b fi lb lc l ld le">fig = plt.figure(figsize = (10,7))</span><span id="7be6" class="kb kc hi kx b fi ll lc l ld le">plt.imshow(Z, extent = [-100,100,-100,100], origin = 'lower', cmap = 'hot', alpha = 1)</span><span id="1ddd" class="kb kc hi kx b fi ll lc l ld le">plt.title("Level circles of our function", fontsize=13)</span><span id="f058" class="kb kc hi kx b fi ll lc l ld le">plt.xlabel('x', fontsize=11)</span><span id="e48f" class="kb kc hi kx b fi ll lc l ld le">plt.ylabel('y', fontsize=11)</span><span id="bb55" class="kb kc hi kx b fi ll lc l ld le">plt.colorbar()</span><span id="138d" class="kb kc hi kx b fi ll lc l ld le">plt.show()</span></pre><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lo"><img src="../Images/b047be132634171fbb2db6c53a10339a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*TbtGYzNrRuDBLgmAIqtAxg.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">作者图片</figcaption></figure><p id="057d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们可以修改颜色的强度(通过在 0 和 1 之间改变 alpha)，通过修改 cmap 修改颜色的比例…</p><p id="0e4b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">请注意在定义输出影像边界的范围参数中输入值:这里 x 和 y 取[-100，100]中的值。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="b302" class="lp kc hi bd kd lq lr ls kh lt lu lv kl lw lx ly ko lz ma mb kr mc md me ku mf bi translated">结论</h1><p id="cc6f" class="pw-post-body-paragraph im in hi io b ip lf ir is it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj hb bi translated">我们已经看到了在ℝ表示ℝ函数的几种方法，这得益于其水平圆，这在许多情况下是有用的，例如<a class="ae ka" href="https://josephinepicot.medium.com/visualize-the-gradient-descent-of-a-cost-function-with-its-level-circles-python-d8c850731b0a" rel="noopener">梯度下降期间成本函数演变的表示，如下所示:</a></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mg"><img src="../Images/def10c19d7a6ec3aaf088c3437288a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*8tUxFIP_zcQPs-1DwbltHg.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">作者图片</figcaption></figure><p id="681c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">正如我在文章开头所说，你可以在我的 GitHub 上找到笔记本。</p><p id="fcb7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你想更进一步，画出梯度下降过程中成本函数的演变，我建议你看一下这篇文章。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="f410" class="lp kc hi bd kd lq lr ls kh lt lu lv kl lw lx ly ko lz ma mb kr mc md me ku mf bi translated">我希望这篇文章对你有用！:)</h1></div></div>    
</body>
</html>