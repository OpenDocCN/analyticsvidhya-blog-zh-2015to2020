<html>
<head>
<title>IPL data analysis with Pandas and Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Pandas和Matplotlib进行IPL数据分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/ipl-data-analysis-with-pandas-and-matplotlib-cade024625de?source=collection_archive---------14-----------------------#2020-12-07">https://medium.com/analytics-vidhya/ipl-data-analysis-with-pandas-and-matplotlib-cade024625de?source=collection_archive---------14-----------------------#2020-12-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="aa2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨，大家好，希望你们会喜欢看印度超级联赛。你有兴趣分析同样的IPL数据吗？！那这篇文章就送给你了！！</p><p id="b3a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">本练习的先决条件:</strong></p><ul class=""><li id="d8c9" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">计算机编程语言</li><li id="e594" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">熊猫</li><li id="ec74" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Matplotlib</li><li id="0b5e" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">下载的数据集</li></ul><p id="c928" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">正在下载数据集:</strong></p><p id="1cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们下载数据集开始数据分析。下面的链接有IPL从2008年到2020年的全部数据，</p><div class="jr js ez fb jt ju"><a href="https://www.kaggle.com/patrickb1912/ipl-complete-dataset-20082020" rel="noopener  ugc nofollow" target="_blank"><div class="jv ab dw"><div class="jw ab jx cl cj jy"><h2 class="bd hj fi z dy jz ea eb ka ed ef hh bi translated">IPL完整数据集(2008-2020)</h2><div class="kb l"><h3 class="bd b fi z dy jz ea eb ka ed ef dx translated">最新和完整的IPL数据集</h3></div><div class="kc l"><p class="bd b fp z dy jz ea eb ka ed ef dx translated">www.kaggle.com</p></div></div><div class="kd l"><div class="ke l kf kg kh kd ki kj ju"/></div></div></a></div><p id="6a49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能需要登录以获取数据集。</p><p id="3192" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">咱们码:</strong></p><p id="01b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你下载了数据集，解压并准备使用它。这里我要分析文件“IPL Matches 2008–2020 . CSV”。它有所有比赛的细节，比如哪个队打了比赛，谁赢了，最佳球员等等..在这个练习中，我想知道每个队的总比赛次数。现在让我们导入必要的库，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="5e1f" class="kt ku hi kp b fi kv kw l kx ky">import pandas as pd</span><span id="ab8c" class="kt ku hi kp b fi kz kw l kx ky">import matplotlib.pyplot as plt</span></pre><p id="62b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们需要获取解压后的csv文件，并将其作为dataframe存储在一个变量中，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="571e" class="kt ku hi kp b fi kv kw l kx ky">df = pd.read_csv('/home/siddharth/Downloads/IPL Matches 2008-2020.csv',index_col='id')</span></pre><p id="3cf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用打印功能检查数据是否已加载到变量中，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="8d73" class="kt ku hi kp b fi kv kw l kx ky">print(df)</span></pre><p id="a55e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Dataframe是一种二维数据结构，类似于具有行和列的表格。因为我们需要找到所有球队的比赛总数，所以我们只需要引用两列(即“team1”和“team2”)。让我们得到两列的唯一值，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="2db0" class="kt ku hi kp b fi kv kw l kx ky">team1 = df['team1'].value_counts(dropna=False)<br/>team2 = df['team2'].value_counts(dropna=False)<br/>print(team1)</span></pre><p id="4289" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码片段中，我们获得了列team1和team2的唯一值。尝试打印team1系列(系列在dataframe中表示为一列)。</p><figure class="kk kl km kn fd lb er es paragraph-image"><div class="er es la"><img src="../Images/e7e9d2b0902d7f3a5539504c4b6a6625.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*d1eoOEn5anaPmibu1OAc3Q.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">拼写错误的团队名称</figcaption></figure><p id="4409" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能会注意到团队名称“Rising Pune Supergaints”缺少“s ”,这导致它将团队作为单独的值进行计数。</p><p id="3f01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们来清理数据:</strong></p><p id="72c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了清理数据，我们只需要将字符串替换为以“s”结尾的团队名称，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="4cf9" class="kt ku hi kp b fi kv kw l kx ky">df["team1"]=df["team1"].replace("Rising Pune Supergiant","Rising Pune Supergiants")<br/>df["team2"]=df["team2"].replace("Rising Pune Supergiant","Rising Pune Supergiants")</span></pre><p id="c89c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，上述代码将在系列team1和team2中用“Rising Pune Supergiants”替换“Rising Pune super giants”。现在，您将知道第一组和第二组系列中的正确队数，</p><figure class="kk kl km kn fd lb er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lh"><img src="../Images/f35202b7396778397253f1ab6ac104f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*_pC1Trw4_v0DpaJfyV0wyQ.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">修正了团队人数</figcaption></figure><p id="2483" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算球队的比赛总数:</strong></p><p id="c0ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了计算各队的比赛总数，您需要计算两列中球队名称的出现次数——“team 1”和“team2”。下面的逻辑将有助于获得所有球队的比赛总数，</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="e82f" class="kt ku hi kp b fi kv kw l kx ky">teams={}<br/>for i in team1.index:<br/>   t1=team1[i]<br/>   t2=team2[i]<br/>   teams[i]=t1+t2<br/>print(teams)</span></pre><p id="ae63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面这段代码中，我们将球队定义为一个字典，以球队名称作为键，以球队比赛的次数作为值。team1.index变量将保存team1列的整个索引值。我们试图在两列(“团队1”和“团队2”)中添加团队名称的出现次数。</p><p id="6fe7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们使用matplotlib在图形中绘制值和键。</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="280a" class="kt ku hi kp b fi kv kw l kx ky">plt.bar(range(len(teams)), teams.values(), align='edge')<br/>plt.xticks(range(len(teams)), list(teams.keys()),rotation=20)<br/>plt.show()</span></pre><p id="5c7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们试图用条形图显示输出，对y轴使用bar函数，对x轴使用xticks函数。然后使用show()函数显示它。</p><p id="514c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你得到的图表应该如下图所示，</p><figure class="kk kl km kn fd lb er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lm"><img src="../Images/6ce42bcff21799c660bb84037cc10a2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvDlEcyW-eSVUkGjRYYzRw.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">完整图形</figcaption></figure><p id="3d59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">完整代码:</strong></p><figure class="kk kl km kn fd lb"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="aa3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐分析！！:-)</p></div></div>    
</body>
</html>