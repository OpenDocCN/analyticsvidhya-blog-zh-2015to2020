<html>
<head>
<title>Build and Install TensorFlow for CPU from source code on Windows (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Windows上从源代码构建和安装TensorFlow for CPU(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-b56e0ba4241a?source=collection_archive---------14-----------------------#2020-07-10">https://medium.com/analytics-vidhya/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-b56e0ba4241a?source=collection_archive---------14-----------------------#2020-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="947e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你是否已经为在Windows 10上从源代码构建TensorFlow奋斗了很长时间？找不到一步到位的完整指南来指导如何做？那么这篇文章就是给你看的！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/b3c10c7f6b27c2fde6f60698a185775d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7zmTrpu0ccqIkiitKvDxQ.jpeg"/></div></div></figure><p id="1c36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这是描述如何在Windows上从源代码构建TensorFlow的两篇系列文章中的第一篇。如果你已经看完了这个帖子，你可以直接进入下一个帖子</strong> <a class="ae jq" rel="noopener" href="/@modaksada11/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-part-2-ae42600545c6"> <strong class="ih hj">这里</strong> </a> <strong class="ih hj">。</strong></p><p id="a59c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我关于medium的第一篇文章，我非常乐意分享我自己在Windows 10上从源代码构建和安装tensor flow 1 . 14 . 0版的经验。在这篇文章<em class="jd">(由两篇系列文章组成)</em>中，我将努力确保完整过程的所有细节都被包含在内<em class="jd">(因为我在解决一些小问题时做了很多努力！)</em>让你顺利走完整个流程。</p><p id="be3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们简单地讨论一下，当我们可以简单地安装TensorFlow时，为什么我们需要从源代码构建它。</p><h1 id="c54b" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated"><strong class="ak">为什么首先要从源代码构建？</strong></h1><blockquote class="kp kq kr"><p id="fdc7" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">顺便提一下，我在使用pip安装的TensorFlow v1.14.0时发现了这个“从源代码构建TensorFlow”的东西，在执行某个程序时，出现了以下消息</p></blockquote><blockquote class="kv"><p id="55df" class="kw kx hi bd ky kz la lb lc ld le jc dx translated">您的CPU支持此TensorFlow二进制文件未编译使用的指令:AVX AVX2</p></blockquote><blockquote class="kp kq kr"><p id="3367" class="if ig jd ih b ii lf ik il im lg io ip ks lh is it kt li iw ix ku lj ja jb jc hb bi translated">在这之后，我深入挖掘，发现了这种“从源代码构建”的方法。</p></blockquote><p id="02b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以基本上，安装任何python包(比如TensorFlow)都有两种标准方式。第一种是最基本的一种，也是通常使用的一种，通过使用<strong class="ih hj"> pip命令</strong>。该命令使用<strong class="ih hj">预装的二进制轮</strong>安装软件包。这个二进制文件被构建为在不同的系统上广泛兼容<strong class="ih hj">，因此<strong class="ih hj">不使用CPU扩展，因为这些扩展的兼容性可能因CPU而异</strong>。SSE4.1、SSE4.2、AVX、AVX2、FMA等CPU扩展。是非常有用的，并大大加快线性代数计算。因此，本质上第二种方法利用了这些CPU扩展的使用，因为我们自己构建了自己的二进制轮文件<em class="jd">(特定于我们的系统，因此它使用我们的系统支持的CPU扩展)</em>，然后使用这个<em class="jd">“自制”</em>二进制文件安装包，这就是我们将在本文中讨论的所谓的<strong class="ih hj">从源代码构建</strong>方法。</strong></p><blockquote class="kp kq kr"><p id="5fd5" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">关于上一段更详细的讨论可以在<a class="ae jq" href="https://stackoverflow.com/questions/47068709/your-cpu-supports-instructions-that-this-tensorflow-binary-was-not-compiled-to-u" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></blockquote><h2 id="1d25" class="lk js hi bd jt ll lm ln jx lo lp lq kb iq lr ls kf iu lt lu kj iy lv lw kn lx bi translated">这篇文章涉及:</h2><ul class=""><li id="a65e" class="ly lz hi ih b ii ma im mb iq mc iu md iy me jc mf mg mh mi bi translated">建筑<strong class="ih hj"> Tensorflow版本1.14.0 </strong></li><li id="15ff" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc mf mg mh mi bi translated">基于<strong class="ih hj"> Windows 10 x64处理器</strong></li><li id="f44f" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc mf mg mh mi bi translated">使用<strong class="ih hj"> Python 3.7 </strong></li><li id="45cc" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc mf mg mh mi bi translated">配置为<strong class="ih hj"> CPU专用设置</strong> <em class="jd">(本文不涉及为GPU构建tensor flow)</em></li></ul><p id="86be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">但是，该流程是通用的，也可以很容易地扩展到其他系统。尽管如此，我们必须记住构建任何TensorFlow版本的具体要求(此处给出了</strong><a class="ae jq" href="https://www.tensorflow.org/install/source_windows#tested_build_configurations" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"/></a><strong class="ih hj">),例如，要构建TensorFlow v1.14.0(我们将在本文中完成), Python 3.8不受支持。</strong></p><blockquote class="kp kq kr"><p id="d4f8" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">请注意，这里假设已经安装了Python和pip。如果没有，那么只需从<a class="ae jq" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">这里</a>安装所需的python版本。安装非常容易。另外，pip预装了python。</p><p id="7b8c" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">重要提示:</strong>python和pip安装完成后，将以下路径添加到<strong class="ih hj">环境系统变量</strong>(要了解更多关于如何操作的信息，请点击<a class="ae jq" href="https://docs.bazel.build/versions/master/windows.html#setting-environment-variables" rel="noopener ugc nofollow" target="_blank">此处</a>):</p></blockquote><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="8690" class="lk js hi mp b fi mt mu l mv mw">C:\Program Files\Python37<br/>C:\Program Files\Python37\Scripts</span></pre><h1 id="9f97" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">所涉及步骤的概述</h1><p id="0368" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">这篇文章被分成两个帖子的<strong class="ih hj">系列。第一篇文章非常详细地描述了所需的所有先决条件以及如何安装它们，然后第二篇文章<a class="ae jq" rel="noopener" href="/@modaksada11/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-part-2-ae42600545c6">描述了实际的“构建和安装”过程。总而言之，这提供了一个从源代码成功构建TensorFlow的完整方法。</a></strong></p><h2 id="994d" class="lk js hi bd jt ll lm ln jx lo lp lq kb iq lr ls kf iu lt lu kj iy lv lw kn lx bi translated">帖子1:先决条件</h2><ol class=""><li id="025c" class="ly lz hi ih b ii ma im mb iq mc iu md iy me jc na mg mh mi bi translated">卸载任何现有的TensorFlow安装</li><li id="2613" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">为Windows安装Git</li><li id="6828" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">安装MSYS2及其命令行工具</li><li id="08d8" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">安装Visual Studio社区2017以及Visual C++构建工具2015</li><li id="8ee3" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">安装Bazel</li><li id="7a58" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">安装所需的Python包</li></ol><h2 id="bcf3" class="lk js hi bd jt ll lm ln jx lo lp lq kb iq lr ls kf iu lt lu kj iy lv lw kn lx bi translated">帖子2:构建并安装TensorFlow ( <a class="ae jq" rel="noopener" href="/@modaksada11/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-part-2-ae42600545c6">链接到它</a>)</h2><ol class=""><li id="432f" class="ly lz hi ih b ii ma im mb iq mc iu md iy me jc na mg mh mi bi translated">克隆有源代码的官方TensorFlow repo</li><li id="0f48" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">使用Bazel配置构建参数</li><li id="a997" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">使用配置的参数构建TensorFlow包</li><li id="8616" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">使用pip为TensorFlow安装创建二进制轮文件</li><li id="f3f4" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated">Pip使用创建的二进制轮文件安装TensorFlow包</li><li id="16bb" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc na mg mh mi bi translated"><em class="jd">(可选)</em>测试TensorFlow安装</li></ol><blockquote class="kp kq kr"><p id="2cb4" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">官方网站(</strong> <a class="ae jq" href="https://www.tensorflow.org/install/source_windows" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">此处</strong> </a> <strong class="ih hj">)涵盖了其中一些步骤，但我发现对于任何初学者来说都有点不太容易理解！</strong></p></blockquote><p id="0f55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每个步骤之后，我将提供一个<strong class="ih hj">步骤检查</strong>，它将帮助您<strong class="ih hj"> </strong>确保该步骤是否已正确完成。这将有助于您在出现问题时进行调试！</p><h1 id="8479" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">步骤1:卸载任何现有的TensorFlow安装</h1><p id="fd4f" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">点击开始菜单，输入“运行”，然后按回车键。然后在对话框中键入“cmd”打开Windows命令提示符。现在执行以下命令:</p><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="32bd" class="lk js hi mp b fi mt mu l mv mw">pip uninstall tensorflow<br/>pip uninstall tensorflow-estimator<br/>pip uninstall tensorboard</span></pre><blockquote class="kp kq kr"><p id="c45f" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>有时仅使用<code class="du nb nc nd mp b">pip</code>可能会给出以下信息:</p></blockquote><blockquote class="kv"><p id="044e" class="kw kx hi bd ky kz la lb lc ld le jc dx translated">警告:pip正在被一个旧的脚本包装调用。这在pip的未来版本中将会失败。</p></blockquote><blockquote class="kp kq kr"><p id="867a" class="if ig jd ih b ii lf ik il im lg io ip ks lh is it kt li iw ix ku lj ja jb jc hb bi translated">因此，如果这个警告出现，对于这篇文章和下一篇文章中的所有命令，如果你想避免这个警告，你可以简单地用<code class="du nb nc nd mp b">python -m pip</code>代替<code class="du nb nc nd mp b">pip</code>！</p></blockquote><p id="6102" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，转到Python目录<code class="du nb nc nd mp b">C:\Users\&lt;Username&gt;\AppData\Roaming\Python\Python37\site-packages</code>，搜索任何名为“<em class="jd"> tensorflow </em>”、“<em class="jd"> tensorflow-estimator </em>”或“<em class="jd"> tensorboard </em>”的文件夹，如果找到任何此类文件夹，则将其删除。这是干净卸载所必需的。</p><blockquote class="kp kq kr"><p id="f6e0" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">您可能会找到类似“tensor flow _ estimator-2 . 2 . 0 . dist-info”等文件夹。使用<code class="du nb nc nd mp b">pip uninstall</code>后仍有剩余。所以只需手动删除这些。</p></blockquote><p id="7a43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>打开命令提示符，执行以下命令:</p><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="01a7" class="lk js hi mp b fi mt mu l mv mw">pip show tensorflow<br/>pip show tensorflow-estimator<br/>pip show tensorboard</span></pre><p id="853c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预期结果:</strong>如果卸载成功，那么你必须得到<em class="jd">“警告:找不到包”</em>以上三个语句的每一个。</p><h1 id="0a6f" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">步骤2:安装Git for Windows</h1><p id="da9c" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">要下载Git，请单击此处的<a class="ae jq" href="https://git-scm.com/downloads" rel="noopener ugc nofollow" target="_blank">并下载最新的Git windows版本。然后运行可执行安装文件，并简单地点击“下一步”，直到安装完成。将以下路径添加到<strong class="ih hj">环境系统变量</strong>(要了解更多关于如何做的信息，点击</a><a class="ae jq" href="https://docs.bazel.build/versions/master/windows.html#setting-environment-variables" rel="noopener ugc nofollow" target="_blank">此处</a>):</p><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="2a1c" class="lk js hi mp b fi mt mu l mv mw">C:\Program Files\Git<br/>C:\Program Files\Git\bin</span></pre><p id="fbba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>打开命令提示符，执行命令<code class="du nb nc nd mp b">git --version</code>。</p><p id="344c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预期结果:</strong>您应该得到一条消息<em class="jd">“git version&lt;version&gt;”</em>。</p><h1 id="ddca" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">步骤3:安装MSYS2及其命令行工具</h1><p id="f242" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">下载MSYS2安装文件<em class="jd"> msys2-x86_64- &lt;版本&gt;。exe </em>从<a class="ae jq" href="https://www.msys2.org/" rel="noopener ugc nofollow" target="_blank">到这里</a>。运行安装程序。</p><blockquote class="kp kq kr"><p id="6fc2" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>我建议不要更改默认的安装文件夹<code class="du nb nc nd mp b">C:\msys64</code>，因为即使是命名约定中的一个小错误(如文件夹名称中的空格)也会导致灾难性的失败！</p></blockquote><p id="bd3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">继续点击“下一步”,直到安装完成。完成后，将以下路径添加到<strong class="ih hj">环境系统变量</strong>(要了解更多关于如何做的信息，请点击<a class="ae jq" href="https://docs.bazel.build/versions/master/windows.html#setting-environment-variables" rel="noopener ugc nofollow" target="_blank">此处</a>):</p><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="6f25" class="lk js hi mp b fi mt mu l mv mw">C:\msys64<br/>C:\msys64\usr\bin</span></pre><p id="c4ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，点击开始菜单，搜索<em class="jd">“MSYS2 MSYS”</em>，打开MSYS 2外壳。现在按顺序执行以下命令:</p><blockquote class="kp kq kr"><p id="fcac" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">您可能需要在执行以下每个命令后关闭并重新打开msys2 shell(如果您看到一个警告，告诉您重新启动shell)。</p></blockquote><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="9467" class="lk js hi mp b fi mt mu l mv mw">pacman -Syu<br/>pacman -Su<br/>pacman -S git patch unzip</span></pre><p id="5551" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行完上述命令后，关闭“<em class="jd"> MSYS2 MSYS </em>”外壳。</p><p id="0e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>如果执行上述命令没有产生错误，并且所有必需的软件包(如果有的话)都已成功安装，那么您可以继续了！</p><h1 id="f4d1" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">步骤4:安装Visual Studio社区2017以及Visual C++构建工具2015</h1><p id="108b" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">转到<a class="ae jq" href="https://visualstudio.microsoft.com/vs/older-downloads/" rel="noopener ugc nofollow" target="_blank">这个链接</a>。然后在“旧下载”部分，点击2017年的“下载”按钮。您可能需要登录您的Microsoft帐户。现在，搜索“Visual Studio社区2017”。安装Visual Studio Community 2017的可执行文件(15.9版)。运行安装程序。</p><blockquote class="kp kq kr"><p id="544b" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated">同样，如果你想避免将来的问题，我建议不要改变默认的安装文件夹<code class="du nb nc nd mp b">C:\Program Files (x86)\Microsoft Visual Studio 14.0</code>！</p></blockquote><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ne"><img src="../Images/51f54de7bbaeb07c2c282e2822aafc02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1iUeLhDcCDz12cg3ivBgAg.png"/></div></div><figcaption class="nf ng et er es nh ni bd b be z dx translated"><strong class="bd jt">安装菜单</strong></figcaption></figure><p id="b5c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当安装菜单(如上所示)出现时，<strong class="ih hj">确保您选择了</strong>以下选项:</p><ul class=""><li id="13bc" class="ly lz hi ih b ii ij im in iq nj iu nk iy nl jc mf mg mh mi bi translated">用C++进行桌面开发(见上图左边部分)</li><li id="ca4f" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc mf mg mh mi bi translated">Windows 10 SDK最新版本(在本例中是10.0.17763.0)(见上图右侧)</li><li id="9689" class="ly lz hi ih b ii mj im mk iq ml iu mm iy mn jc mf mg mh mi bi translated">VC++ 2015.3 v14.00 (v140)桌面工具集(见上图右下方)</li></ul><p id="6843" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后点击安装按钮，等待它完成。</p><p id="b0fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>转到<code class="du nb nc nd mp b">C:\Program Files (x86)</code>，如果你看到一个名为“Microsoft Visual Studio 14.0”的文件夹，那么你就可以继续了！</p><h1 id="22a0" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">第五步:安装Bazel</h1><p id="f472" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">首先，从<a class="ae jq" href="https://www.tensorflow.org/install/source_windows#tested_build_configurations" rel="noopener ugc nofollow" target="_blank">这里</a>检查您尝试构建的TensorFlow版本所需的Bazel版本，然后从<a class="ae jq" href="https://github.com/bazelbuild/bazel/releases" rel="noopener ugc nofollow" target="_blank">这里</a>下载您的特定Bazel版本。</p><p id="0285" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出于本文的目的，为了使用python 3.7构建TensorFlow v1.14.0，我们将下载Bazel版本0.25.2。点击<a class="ae jq" href="https://github.com/bazelbuild/bazel/releases/download/0.25.2/bazel-0.25.2-windows-x86_64.exe" rel="noopener ugc nofollow" target="_blank">此链接</a>，可执行二进制文件的下载将自动开始。将二进制文件从“<em class="jd">bazel-0 . 25 . 2-windows-x86 _ 64 . exe</em>”重命名为“<em class="jd">bazel.exe</em>”。现在将这个二进制文件移动到你选择的任何文件夹，假设我们将它移动到<code class="du nb nc nd mp b">C:\Program Files</code>，然后将<code class="du nb nc nd mp b">C:\Program Files</code> <em class="jd">(或者你选择的文件夹的路径)</em>添加到环境系统变量。</p><blockquote class="kp kq kr"><p id="6cdc" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">提示:</strong>将Bazel二进制exe文件移动到该驱动器(C、D、E等)中至少有8–9 GB可用磁盘空间的文件夹中。你将在第二部分中看到，我们需要大约8-9gb的磁盘空间来使用Bazel构建TensorFlow包。</p></blockquote><p id="4c83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要创建3个新的环境系统变量。打开此处所述<a class="ae jq" href="https://docs.bazel.build/versions/master/windows.html#setting-environment-variables" rel="noopener ugc nofollow" target="_blank">的环境系统变量对话框，点击“系统变量”下的<strong class="ih hj">新建</strong>按钮，创建以下每个新变量:</a></p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="090a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>打开命令提示符，执行命令<code class="du nb nc nd mp b">bazel version</code>。</p><p id="68b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预期结果:</strong>您应该得到一条消息，显示关于Bazel的信息，比如版本、构建目标和时间戳等。</p><h1 id="c264" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">步骤6:安装所需的Python包</h1><p id="1a99" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mx is it iu my iw ix iy mz ja jb jc hb bi translated">最后，从源代码构建TensorFlow所需的所有先决条件的最后是必要的Python包。</p><p id="6198" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以在官方TensorFlow资源库的<a class="ae jq" href="https://github.com/tensorflow/tensorflow/blob/633c41f3ea2a3585d67740b79c2b4cc4b19da70b/tensorflow/tools/pip_package/setup.py#L54" rel="noopener ugc nofollow" target="_blank">这里</a>找到它的完整列表。</p><p id="1952" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了安装所有这些包，我在这里提供了一个GitHub Gist链接<a class="ae jq" href="https://gist.github.com/sadanand1120/cf8cbbcfaa878f5df1a25dd4ca423e11/archive/13974a7f162cdfe763d19d033277d37cf2dbbbcf.zip" rel="noopener ugc nofollow" target="_blank"/>，点击后会下载一个zip文件。拉开拉链。点击解压后的文件夹，你会发现里面有一个“requirements.txt”文件。复制“requirements.txt”并把它放在你选择的任何文件夹中(比如桌面)。现在，只需打开命令提示符并执行以下命令:</p><blockquote class="kp kq kr"><p id="b2e6" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>下面的/d标志只是让你改变驱动器，如果你现在在一个不同的驱动器。</p></blockquote><pre class="jf jg jh ji fd mo mp mq mr aw ms bi"><span id="0453" class="lk js hi mp b fi mt mu l mv mw">cd /d C:\Users\&lt;Username&gt;\Desktop<br/>pip install -r requirements.txt --no-deps</span></pre><p id="a7ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤检查:</strong>打开命令提示符，执行命令<code class="du nb nc nd mp b">pip list</code>。它将向您显示您已经安装的所有软件包的列表。</p><p id="2f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预期输出:</strong>您应该看到“requirements.txt”中列出的每一个包都出现在命令<code class="du nb nc nd mp b">pip list</code>的输出中，并带有所需的版本。</p><blockquote class="kp kq kr"><p id="9bb4" class="if ig jd ih b ii ij ik il im in io ip ks ir is it kt iv iw ix ku iz ja jb jc hb bi translated"><em class="hi">如果您已经成功通过了上述所有步骤，那么恭喜您！现在，您已经成功安装了从源代码构建TensorFlow的所有先决条件。</em></p></blockquote><p id="7bec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">希望你喜欢这篇文章！如果这里描述的过程对你有用，或者你在遵循这篇文章中提到的步骤时遇到了任何问题，请在下面的评论部分告诉我。</em></p><h2 id="f619" class="lk js hi bd jt ll lm ln jx lo lp lq kb iq lr ls kf iu lt lu kj iy lv lw kn lx bi translated">不要忘记看看这一系列两篇文章中的下一篇(也是最后一篇)。下一个帖子的链接是 <a class="ae jq" rel="noopener" href="/@modaksada11/build-and-install-tensorflow-for-cpu-from-source-code-on-windows-part-2-ae42600545c6"> <em class="no">这里是</em> </a> <em class="no">。</em></h2></div></div>    
</body>
</html>