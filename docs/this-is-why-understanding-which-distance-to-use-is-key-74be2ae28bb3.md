# 这就是为什么理解使用哪个距离是至关重要的

> 原文：<https://medium.com/analytics-vidhya/this-is-why-understanding-which-distance-to-use-is-key-74be2ae28bb3?source=collection_archive---------19----------------------->

## 了解如何为您的数据类型使用正确的距离

我们在机器学习算法中见过多少次这个距离参数？

![](img/16ca657afaa9d13fd1042061dae8a97b.png)

安妮·尼加德在 [Unsplash](https://unsplash.com/) 上的照片

但你有没有停下来想一想，它对你的成功可能是决定性的？

**剧透**:这不是一篇解释每一个距离是什么，甚至它们背后的数学原理的帖子。

在我上一个项目的开发过程中(最后的链接),我最终更深入地研究了这个主题，没有什么比分享这些发现更好的了。

这一切都是因为需要对一组数据进行集群化。聚类是根据它们之间的点的接近度形成的，并且这种接近度可以是距离，例如按照年龄对人进行分组(20 岁和 25 岁之间的距离是 5)，或者是相似度，例如具有 x 特征的公司和具有 y 特征的另一个公司(简而言之，我们比较它们是否在相同的部门、它们有多少雇员、它们的收入等。)，而正是在这个“测量”过程中，关键因素开始发挥作用:距离**。**

**好吧，但这里的主要问题是:如何选择这个距离？**

**第一个因素，也可能是最重要的因素是:**

**哪种**类型的数据**。**

**我们准备数据的方式决定了它的“面貌”，也就是说，它们是分类的、离散的还是连续的，这就是起点。**

**比如古老的欧几里德距离，它测量两点之间的直线距离。但是两点之间的直线距离不就代表了最短的距离，因此也是最好的吗？**

**和数据科学中的其他事情一样，答案是:**视情况而定！****

**如果你的数据完全是连续的或者完全是离散的，是的，这是一个很好的选择。**

**然而，曼哈顿距离，更容易解释的下一张图片，可以是一个更好的选择，但不幸的是，唯一的方法来评估这是测试这两个模型。**

**![](img/8878847f0806359aca0447887c2c4cfc.png)**

**摘自[维基百科](https://en.wiktionary.org/wiki/Manhattan_distance)**

**此外，人们很快认识到，当用欧几里德距离或曼哈顿距离测量时，无论是 0 还是 1 的排他性分类数据，尽管代表不同的维度，都将总是变成相似的低方差值。而如果目标是理解点与点之间的区别，相似的值是行不通的，对吗？**

**这就是相似性系数发挥作用的地方，例如，索伦森骰子可以测量点的重叠程度:**

**![](img/ed0f9948894234cebe90a292d396c65a.png)**

**取自 [StructSeg](https://structseg2019.grand-challenge.org/Evaluation/)**

**看着眼熟？**

**没错，来自混淆矩阵的 F1 分就应用了这个系数。**

**还有其他的相似系数，比如 Bray-Curtis。**

**然而，重要的是要知道，用其他距离类型测量二进制数据不会带来好的结果，尽管模型在这些距离类型下运行平稳。**

**所以，我们就这么定了，对吧？错，数据库通常包含混合类型的数据。这就是事情变得混乱的地方！将一个从 0 到无穷大变化的特性与另一个为 0 或 1 的特性进行比较并不简单。**

**显然，统计学天才不会让我们失望，因此我们有了高尔距离，例如，它结合了曼哈顿距离和骰子系数来解决这个问题。**

****注意**:对于那些想知道更多关于这个距离的人，你可以访问这个[链接](https://bit.ly/30zpQkS)，它附带了一个 Python 实现！这里是 R 仍然领先的地方😠可用的统计库及其工具的多样性更好。**

**但是我们选择距离还有进一步的考虑吗？**

**当然，特别是当我们处理聚类算法时，每种算法都有不同的解决方案。例如，著名的 K-means 倾向于生成相同大小和形状的“圆形”组，因为它的目标是最小化内部方差。因此，不在欧几里得类型内的距离可能不会收敛。你可以在这里想象这个算法如何工作[。](https://youtu.be/4b5d3muPQmA)**

**另一方面，K-medoids 是一种 PAM(medoids 周围的分区)类型的算法，它从给定点(medoids)开始，并最小化成对相异度的总和，从而设法用两种类型的距离实现良好的结果。然而，它在计算上更加昂贵(如果你希望理解它背后的数学，你可以看这个[视频](https://youtu.be/GApaAnGx3Fw))。**

**最后，同样重要的是，除非您正在构建自己的实现，否则您使用的库支持您选择的距离？或者它的行为是否与自定义距离矩阵一致？**

**总之，距离有多种类型，我们可以有意识地选择我们认为最正确的距离，甚至改变整个数据管道，以便我们能够使用特定的距离，因为它可以产生更好的结果。**

**[项目](https://github.com/Rpinto02/Similarity_Recommender)**

**[演示网络应用](https://market-lead-generator.herokuapp.com/)**

**[项目视频演示](https://youtu.be/82To-s2dl2o)**