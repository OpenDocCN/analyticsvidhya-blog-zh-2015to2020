# 高效锁定:不仅仅是新冠肺炎

> 原文：<https://medium.com/analytics-vidhya/an-algorithm-for-optimising-lockdown-schedules-for-epidemic-control-396265f442ec?source=collection_archive---------8----------------------->

[哈沙德·哈迪尔卡尔](https://www.linkedin.com/in/harshad-khadilkar-80609959/)、[塔努嘉·加努](https://www.linkedin.com/in/tanujabapat/)和[德瓦·普·西塔拉姆](https://www.linkedin.com/in/devaseetharam/)

(署名:“高效锁定:不仅仅是为了新冠肺炎”是一个由哈沙德·卡迪尔卡、塔努嘉·加努和德瓦·p·西塔拉姆联合进行的独立研究项目。)

# **简介**

![](img/96f9d2bc13c434eb98765dfa28274468.png)

**图 1——大流行的视觉史**(数据来源:[视觉资本家](https://www.visualcapitalist.com/history-of-pandemics-deadliest/))

如图 1 所示，在过去的 2000 年里，大流行已导致约 3 亿人死亡。尽管许多死亡人数只是估计数字，但值得注意的是，正如右下角拥挤的气泡所示，流行病的频率一直在增加。正如《纽约时报》的一篇文章所解释的那样，移民和城市扩张使人与人之间以及人与动物之间的距离越来越近，特别是在发展中国家，这增加了病毒传播的可能性。

为了减缓传染病的传播，政府正在使用一些社会隔离措施，包括关闭学校和工作场所、隔离、检疫、限制人员流动和取消大型集会。虽然这种封锁对减缓疫情蔓延至关重要，但人们对潜在的粮食短缺(T21)和经济影响(T23)等后果非常担忧。

为了帮助做出这一艰难的决策，我们提出了一种算法，该算法可以计算各个区域(如城市或地区)的锁定/释放时间表，同时平衡健康和经济因素。**根据疾病参数(传染性、妊娠期、症状持续时间、死亡概率)和人口特征(密度、运动倾向)来计算时间表**。我们已经在仿真中评估了该算法。在这篇文章中，我们提出了一个使用图的概念性概述。全面的技术细节在 [arxiv](http://arxiv.org/abs/2003.14093) 上发布的一篇论文中介绍，如需更多信息，请通过底部给出的电子邮件地址联系我们。

我们工作的主要贡献如下:

*   一个**强化学习(RL)算法**生成锁定时间表，最大限度地减少对社会健康和经济的影响。该算法设计有几个关键的好处:(I)虽然它是基于人工神经网络的，**它不是一个黑盒(**一个内部组件或逻辑对检查来说是不透明的系统)。可以查询输出的特征敏感度，以了解其锁定决策，(ii)该算法可以与不同的数据源交互并从中学习，例如模拟模型(疾病和网络)和真实数据储存库，以及(iii)由于该算法与抽象网络模型一起工作，所以它可以用于计算不同空间粒度(地区、城市、州等)的时间表。
*   一个**模拟框架**，可用于探索传染病的传播特征以及封锁对传播的影响。决策者可以使用这个框架来分析封锁决策的后果。例如，如果一旦 5%的人口被感染，城市就会被封锁，那么这种感染会持续多久？同样，流行病学家可以使用该框架来研究不同疾病模型和假设下的最优政策的特征。例如，他们可以研究不同潜伏期下疾病传播的最小实际比率。

# 放弃

在继续讨论之前，我们希望指出我们工作的局限性:

1.  这些作者都不是传染病专家。我们也意识到制作精确疾病模型的挑战。因此，我们只使用了来自现有文献的[疾病模型，这些模型具有相当程度的一致性。话虽如此，**我们非常有兴趣与流行病学家合作，他们可以从解决传染病传播的计算方法中受益**。](https://ij-healthgeographics.biomedcentral.com/articles/10.1186/1476-072X-8-50)
2.  这项研究中使用的网络模型是基本的，因为它考虑了人口规模和地理因素，但影响是宏观的。我们不在特定的个人和他们的运动水平上建模。然而，所提出的策略学习方法也可以与您自己的网络模型一起工作。
3.  我们在这个模拟研究中没有使用真实数据。然而，我们相信该模型将与真实数据一起工作，没有任何问题。

# 网络模型

![](img/0868d2cd2792b6ffdcddc5fe0b3d82d7.png)

图。2 -网络布局，气泡大小表示人口数量。黑线表示每个节点最强的连接，而蓝线表示下一组最强的连接。

我们已经生成了一个有 100 个节点(代表地点)和 10，000 个人的全连接网络。每个节点包含一定数量的个体，这些个体不需要均匀分布。每对节点之间的连接强度是 **(i)与两个节点的数量的乘积成正比，以及(ii)与它们之间距离的平方根成反比。**

# 疾病模型

我们使用在线[可用的](https://www.mdpi.com/2077-0383/9/2/523)新冠肺炎参数对疾病进行建模。具体来说，潜伏期(从接触病毒到症状首次出现之间的时间)为 5-10 天，实际感染期(从接触病毒到患者治愈或死亡之间的时间)为 7-14 天。

![](img/6bbe1ced9584b34bd479978f162b0591.png)

**图 3** —每个人的状态变化。s 易感，E 暴露，is 感染(&表现症状)，IA 感染但作为无症状携带者，D 死亡，R 痊愈。请注意，边上的数字是捕获概率。这时，我们假设 R 不会回到 S(没有再感染)。如果观察到再感染，下面描述的学习算法可扩展到包括再感染的可能性。

潜在的状态转换和相应的概率如图 3 所示。受感染的人可以立即开始传播疾病，只有大约 80%的人实际上表现出可见的症状，受感染者的死亡率为 2%。我们保守假设，如果暴露(有无症状)的人与易感宿主接触，传播概率是 100%。我们还假设康复的人不会再次感染，因为还没有明确证明是否会再次感染。此假设不是模型的组成部分，可以在不影响模型功能的情况下删除。同样，所有其他疾病特征都是模型的参数，可以进行调整。

# 模拟设置

我们在每个模拟中植入 50 名(0.5%)感染者，随机分布在 100 个节点上。在整个研究中，我们假设一个开放节点允许人们往返于网络中的其他开放节点。但是，出现症状的人不允许旅行到其他节点(但无症状和暴露的人可以这样做)。此外，有症状的人在节点内被隔离，但是一小部分人(尤其是没有表现出症状的人)仍然可以通过破坏隔离和/或进行必要的活动而在节点内传播。当一个节点被锁定时，所有往来于该节点的传输都会被阻止。

我们假设每个节点都可以选择每周锁定或打开一次。疫情每天都在演变，每个星期后，当局都可以做出这种二元决定。作为参考，我们定义了一组策略，如果节点中有症状的人的比例超过了预定义的阈值，则锁定任何给定的节点。我们使用了 5%、10%、20%、50%和 100%的阈值(最后一个值意味着节点永远不会被锁定)。

# 关键模拟结果

我们对两个特定场景进行了模拟:1 .节点永远不会被锁定。2.一旦任何给定的节点中有 5%的人口出现症状，该节点就被锁定(回想图 3，并不是每个携带疾病的人都会出现症状)。

![](img/32ec9efdccd0a84e2065e6a2dff9212c.png)

**图 4** —节点从未锁定时感染率的演变。x 轴以天为单位，最长为一年。x 轴以天为单位。感染计数是在 IS 和 IA 状态下汇总的。

![](img/3bbe28e28098195accf294ea71239324.png)

**图 5** —当每个节点中有症状的人的比例超过 5%时，当每个节点被锁定时感染率的演变。x 轴以天为单位。感染计数是在 IS 和 IA 状态下汇总的。

从这两个图中可以看出，即使在后一种情况下，也有 80%的人最终感染了这种疾病(绿色、红色和蓝色曲线的总和)。这有两个原因:

1.  感染模型允许所有人(有症状和无症状的人)和处于暴露(E)状态的人传播疾病。这是新冠肺炎的一个令人烦恼的特征:这种疾病比你从有症状的人数中所能看出的要普遍得多。
2.  由于我们的网络模型允许一小部分人在节点内循环，即使当它被锁定时，即使在锁定期间也可以看到缓慢的感染率。

因此，虽然积极的封锁政策在某种程度上减少了死亡人数和感染总数，但感染仍会持续近一整年。

# 强化学习

由于模拟运行显示了符合逻辑且一致的紧急行为，我们使用它来训练强化学习(RL)算法。该算法将结果的成本计算为 3 个重要指标的函数:(I)每个节点的锁定天数，(ii)感染总数，以及(iii)死亡总数。该模型运行了数百次模拟，以学习(找到)总成本最低的锁定策略。正如我们之前指出的，完整的细节可以在[这里](https://arxiv.org/abs/2003.14093)获得。

**该算法能够实现一个结果，即感染的峰值数量低于不愿意锁定的策略，但感染持续时间也低于最过分的锁定策略。**下图解释了我们正在谈论的内容。

从 10000 人的初始人群开始，RL 算法(平均)导致 3200 人的感染高峰，145 人在感染结束时死亡，流行病持续时间为 250 天。“锁定 50%有症状的人群”政策导致感染高峰为 4800 人，160 人死亡，流行病持续时间为 200 天。“锁定 5%有症状的人群”政策导致了 1775 人的感染高峰，130 人死亡，并且大多数模拟在流行病没有结束的情况下结束(在 1 岁时)。这意味着最终死亡人数仍有可能上升。

![](img/f187b0d3b30bb85f166fab475280db69.png)

**图 6** —多项政策的结果比较，在多次随机模拟运行中取平均值。条带表示标准偏差。除了强化学习(RL)之外，百分比标签指示阈值，超过该阈值节点将被锁定。具有 5%阈值的策略几乎一检测到第一个病例就被锁定；有 50%的政策是很不愿意这样做的。

**因为它不是一个黑盒算法，我们能够查询算法**来理解它什么时候决定锁定，什么时候喜欢让事情正常运行。下图显示了该政策对两个可能的决策驱动因素的“敏感性”:(I)一个节点(例如，城市)内出现症状的人口比例，以及(ii)总体(例如，在该国)出现症状的人口比例。红色点表示策略决定需要锁定。

![](img/6556c5327edd9074b49f7c08d3a8ebc1.png)

**图 7** —算法决定封锁的驱动因素之一是受感染的本地和整体人口的比例

图 7 表明，给定的节点保持开放是安全的，只要只有一小部分(5%左右)它自己的群体和整个群体出现症状。一旦两个分数中的一个增加超过 10%左右，就必须锁定该节点。

值得注意的是，我们的算法采用整体方法，通过考虑多个关键因素 — 1 来决定是否锁定节点**。该节点的人口，2。自身淋巴结中感染(有症状)的比例，3。总人口中受感染(有症状)的比例，4。在该节点中恢复的人口比例，5。节点中死亡部分，6。其他人群的潜在感染源，7。在过去几天中，该节点中有症状人群的分数增加，以及 8。在过去几天里，总体上有症状人群的比例增加。**

# 摘要

我们知道大量关于新冠肺炎·疫情的文献、博客和视觉化图像。本文的主要贡献在于，我们开发了一种方法，用于**自动计算最佳锁定，将影响(健康、社会和经济方面)降至最低。**我们使用一种被称为强化学习的**人工智能技术来实现这一点——谷歌的 [AlphaGo](https://en.wikipedia.org/wiki/AlphaGo) 和 [OpenAI Five](https://openai.com/projects/five/) 使用的同一类算法——但形式更简单。**

强化学习是一种相对容易理解的最佳决策方法，我们使用的模型实现起来相当简单。我们模型的简单性允许我们详细理解锁定决策，确保**算法*不是黑盒*** 。然而，决策的质量关键取决于准确的疾病模型。在高质量的疾病模型可用于新冠肺炎之前(大量专家致力于解决这一问题)，我们将不得不等待。

同时，我们欢迎您的反馈以及与流行病学家的合作。我们的电子邮件地址如下:

![](img/2ead75583d5c8407b6c4e6994b83b9db.png)

— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — —

## 确认

我们感谢[Perry Grossman](https://www.linkedin.com/in/perrygrossman/)博士提供的宝贵意见，帮助我们改进了这篇文章。