<html>
<head>
<title>How to Deploy a Dashboard to Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将仪表板部署到Heroku</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-deploy-a-dashboard-to-heroku-3b458f321c93?source=collection_archive---------5-----------------------#2020-10-30">https://medium.com/analytics-vidhya/how-to-deploy-a-dashboard-to-heroku-3b458f321c93?source=collection_archive---------5-----------------------#2020-10-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/3e6f2dad4a64bda2c1186333b9af031b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQSXYf_TG5cqQpoBTL_nKA.png"/></div></div></figure><div class=""/><p id="b34f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我将通过一个简单的例子向您展示如何将您用Python创建的仪表板部署到Heroku。如果你觉得这篇文章有用，别忘了<strong class="is hu">鼓掌</strong>！:-)</p><p id="bcda" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请准备好以下项目并开始工作:<br/> - Python <br/> - Heroku帐户-前往www.heroku.com<br/>-您选择的文本编辑器<br/> -来自世卫组织网站的数据，<a class="ae jo" href="https://apps.who.int/gho/athena/data/GHO/WHS8_110?filter=COUNTRY:*&amp;x-sideaxis=COUNTRY&amp;x-topaxis=GHO;YEAR&amp;profile=crosstable&amp;format=csv" rel="noopener ugc nofollow" target="_blank"> WHS8_110.csv </a></p><p id="aa77" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用Plotly和Dash在Python中创建仪表板超出了本文的范围。如果您想使用我创建的仪表板，您可以在这里找到代码，欢迎您使用它。请相应贷记:-)。<br/><a class="ae jo" href="https://github.com/CristinaSahoo/Immunization-Dashboard/blob/main/app.py" rel="noopener ugc nofollow" target="_blank">https://github . com/CristinaSahoo/Immunization-Dashboard/blob/main/app.py</a><br/>确保上面下载的数据，即CSV文件，与下面创建的app . py文件在同一个目录下。</p><p id="ff2b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">创建app.py文件。</strong> <br/>为此，你可以使用你喜欢的文本编辑器。创建文件并将其保存为Python文件后，扩展名为。py，在部署到Heroku之前，确保代码在您的计算机上运行没有任何错误。要检查这一点，在<strong class="is hu">终端</strong>中，将<strong class="is hu">当前目录设置为包含app.py文件</strong>的目录，运行:<br/> <strong class="is hu"> python app.py </strong> <br/>如果您看到如下消息，您就可以开始了。如果没有，请修复app.py文件中的错误，然后尝试再次运行它。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jp"><img src="../Images/192c732fe719ca9f269d90b20e801ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3iqhSea8sjAjwPkD09UEw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">Python脚本<strong class="bd jy"> app.py </strong>成功运行</figcaption></figure><p id="85fa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">要查看仪表板</strong>，请在浏览器中访问http://127.0.0.1:8050/</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jz"><img src="../Images/4450cf8d1ceaffb034a2d8329a7175cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kSxrHc1EfFGTJptD5aV1nA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">本地计算机上的仪表板</figcaption></figure><p id="7c36" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">唷！！到目前为止，一切顺利:-) <br/>作为一名初学者，我实际上花了相当长的时间才让这个简单的仪表板工作起来……这就是我的天啊！！反应。继续前进。</p><p id="4cfe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">将仪表板部署到Heroku。</strong></p><ol class=""><li id="b92c" class="ka kb ht is b it iu ix iy jb kc jf kd jj ke jn kf kg kh ki bi translated"><strong class="is hu">在您的本地机器上创建一个新目录</strong>，保存您的Dashboard app.py文件、CSV数据文件和其他Heroku相关文件。我把我的目录叫做免疫仪表板。打开一个终端窗口。在<strong class="is hu">终端</strong>中运行以下命令:<br/><em class="kj">$ mkdir Immunization-Dashboard<br/>$ CD Immunization-Dashboard</em><br/><strong class="is hu">将您的app.py文件和WHS8_110.csv文件</strong>移动或复制到您刚刚在上面创建的目录，Immunization-Dashboard目录。</li><li id="2381" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated">用一个空的repo初始化你的文件夹并激活一个虚拟环境。在<strong class="is hu">终端</strong>中，将当前目录设置为Immunization-Dashboard，运行以下命令:<br/><em class="kj">$ git init<br/>$ virtualenv venv<br/>$ source venv/bin/activate<br/></em>如果成功，您应该会在终端中看到以下内容:<br/> <em class="kj"> (venv) (base) </em> <br/>接下来的步骤都发生在同一个目录中。</li><li id="54af" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">创建一个gitignore文件</strong>。在<strong class="is hu">与上面</strong>相同的目录下创建一个. gitignore文件，Immunization-Dashboard，并添加下面的一行文本:<br/> <em class="kj"> venv <br/> *。pyc <br/>。DS_Store <br/>。环境</em></li><li id="afb7" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated">创建一个requirements.txt文件。通过在您的<strong class="is hu">终端</strong>中运行下面的命令来做到这一点:<br/><em class="kj">$ pip freeze&gt;requirements.txt</em><br/>我的requirements . txt文件看起来是这样的:<a class="ae jo" href="https://github.com/CristinaSahoo/Immunization-Dashboard/blob/main/requirements.txt" rel="noopener ugc nofollow" target="_blank">https://github . com/CristinaSahoo/Immunization-Dashboard/blob/main/requirements . txt</a><br/><strong class="is hu">重要！</strong><em class="kj">app . py文件中导入的每个包在requirements.txt文件中都必须有一个对应的行。例如，如果我在app.py文件中有“import pandas as pd”，我必须在requirements.txt文件中有“pandas==1.1.3”(版本可能不同)。检查以确保app.py文件中的所有导入都是如此。</em></li><li id="75ec" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">创建一个过程文件文件</strong>。在上面同一个目录下创建一个Procfile，Immunization-Dashboard，添加下面那行文字:<br/><em class="kj">web:guni corn app:server</em><br/>我的Procfile是这样的:<a class="ae jo" href="https://github.com/CristinaSahoo/Immunization-Dashboard/blob/main/Procfile" rel="noopener ugc nofollow" target="_blank">https://github . com/CristinaSahoo/Immunization-Dashboard/blob/main/proc file</a><br/><strong class="is hu">重要！</strong><em class="kj">“web:”后面有空格没问题，但是“app:”后面没有空格。确保app.py文件中有这样一行:<br/> server = app.server </em></li><li id="8277" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">检查点！</strong>您在Immunization-Dashboard目录中有这些文件/目录吗？<br/><em class="kj">app . py<br/>proc file<br/>requirements . txt<br/>venv(目录)<br/> WHS8_110.csv <br/>。git <br/>。gitignore </em>查看隐藏文件，如。饭桶还是。gitignore，您需要为您的本地机器启用适当的查看设置。对于我的MacBook Pro，我在Finder中使用了组合<em class="kj"> Command+Shift+Dot </em>。</li><li id="e63d" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">在这个虚拟环境中安装你的应用的依赖关系</strong>。在<strong class="is hu">终端</strong>中，保持<strong class="is hu">与上面</strong>相同的当前目录，运行命令:<br/><em class="kj">$ pip install-r requirements . txt</em></li><li id="e910" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated">在Heroku上创建您的应用程序。您将需要使用您之前在Heroku.com上创建的帐户。在<strong class="is hu">终端</strong>，运行:<br/> <em class="kj"> $ heroku创建免疫-dash-app </em></li><li id="2995" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">部署到Heroku </strong>。在<strong class="is hu">终端</strong>，运行:<br/> <em class="kj"> $ git add。<br/>$ git commit-m '…'<br/>$ git push heroku master<br/>$ heroku PS:scale web = 1</em></li><li id="b7e9" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">记得更新你的更改</strong>，如果你在改进时做了任何更改，即在app.py文件或你在上面创建的目录中的任何其他文件中更改或添加代码。如果你做了修改，在Heroku app上运行这个来更新它们:<br/> <em class="kj"> $ git add。<br/>$ git commit-m '…'<br/>$ git push heroku master</em></li><li id="aa2c" class="ka kb ht is b it kk ix kl jb km jf kn jj ko jn kf kg kh ki bi translated"><strong class="is hu">从你的Heroku帐户启动应用程序。</strong>进入你的Heroku账户，点击应用，然后启动应用。它应该会在您的浏览器中打开一个新的选项卡，您可以在其中查看仪表板并与之交互。我的在这里:<a class="ae jo" href="https://immunization-dash-app.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://immunization-dash-app.herokuapp.com/</a></li></ol><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kp"><img src="../Images/a01785068de5320092586e80ee5d39d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*63IiCu36j00i8wVmgbxjJA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">Heroku帐户—现在应该会列出应用程序</figcaption></figure><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kq"><img src="../Images/cb0e16b003a332d9052a50726167ecfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jq-EzcaJ3KpWHe3rbHYCRw.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">Heroku帐户—点击打开应用程序</figcaption></figure><p id="a67b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">搞定！！如果一切正常，你将能够在另一个浏览器标签或窗口中启动你的应用。它应该看起来像这样。</strong></p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kr"><img src="../Images/9e4d7954205d8544e63b221e7de84c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aeBslrih8rc20qRp3JvVNw.png"/></div></div></figure><p id="dcbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你觉得这篇文章有用，别忘了给<strong class="is hu">鼓掌</strong>！我将非常感激。</p><p id="738e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果这对你不起作用，我很乐意帮助你，所以不要犹豫，联系我(应该有一个方法来评论或联系作者)。</p><p id="b423" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝你今天休息愉快。<br/>下次见！</p></div></div>    
</body>
</html>