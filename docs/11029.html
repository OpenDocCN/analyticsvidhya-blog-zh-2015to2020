<html>
<head>
<title>Run Javascript from Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Python运行Javascript</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/run-javascript-from-python-c0fe8f8aeb1e?source=collection_archive---------0-----------------------#2020-11-15">https://medium.com/analytics-vidhya/run-javascript-from-python-c0fe8f8aeb1e?source=collection_archive---------0-----------------------#2020-11-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="db2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">读者您好，希望您和您的家人身体健康！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8313dffd707e2a6ec51ab3676445b7e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nXzHaP8hAGoJUqR4GJdoaw.png"/></div></div></figure><p id="dacf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Javascript是一种非常强大的语言，老实说，我是Js的新手，但我一直想知道，Js可以与Python集成吗？最近在网上冲浪，Js2Py模块出现在我的谷歌搜索中。</p><p id="c770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客文章中，我们将学习如何从Python脚本内部运行Javascript命令。我们将利用Js2Py模块。</p><p id="6c66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jp" href="https://github.com/ayushi7rawat/Ultimate-Python-Resource-Hub" rel="noopener ugc nofollow" target="_blank">查看python </a>中的终极资源库。发现有用就掉颗星！有什么要补充的吗？开个PR就一样了！</p><p id="10af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以参考我的YouTube视频教程来更好的理解和一步一步的指导。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jq jr l"/></div></figure><h1 id="ed89" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">这个博客将会涵盖什么</h1><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="5919" class="kv jt hi kr b fi kw kx l ky kz">1. Js2Py Introduction<br/>2. How to Run Javascript commands from inside Python script</span></pre><h1 id="a38b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Js2Py简介:</h1><p id="26a7" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">可以使用Js2Py将JavaScript翻译成Python。Js2Py是一个Python模块，可以用来将JavaScript翻译成Python &amp;充当用100%纯Python编写的JavaScript解释器。</p><ul class=""><li id="9b3f" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated">它将任何有效的JavaScript (ECMA脚本5.1)翻译成Python。</li><li id="e231" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">翻译是全自动的。</li><li id="32d9" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">没有任何依赖关系-仅使用标准python库。</li></ul><h1 id="2bec" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">局限性:</h1><p id="df8e" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">它有三个限制:</p><ul class=""><li id="8580" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated">忽略严格模式。</li><li id="61cb" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">不支持with语句。</li><li id="68e4" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">对eval will的间接调用被视为对eval的直接调用(因此总是在局部范围内进行eval)</li></ul><p id="6b9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想了解更多，可以参考<a class="ae jp" href="https://github.com/PiotrDabkowski/Js2Py" rel="noopener ugc nofollow" target="_blank"> Js2Py文档</a>。使用此链接导航到文档。</p><p id="c2e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在您已经了解了Js2Py的基础知识，我们可以前进到编码部分了。我们开始吧！</p><h1 id="60cc" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">该编码了！</h1><p id="3dc0" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">你可以在我的<a class="ae jp" href="https://github.com/ayushi7rawat/Youtube-Projects/tree/master/Run%20javascript%20in%20python" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>找到所有代码。发现有用就掉颗星。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/492f396f9c4f77d4361bf976516eafaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7VVrkN3bToJ8AU0U"/></div></div></figure><p id="6837" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了访问Python库，您需要将它安装到您的Python环境中，使用下面的命令来安装<code class="du lu lv lw kr b">Js2Py</code></p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="d77c" class="kv jt hi kr b fi kw kx l ky kz">pip install js2py</span></pre><p id="2ead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们在Python脚本中导入包。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="7bb3" class="kv jt hi kr b fi kw kx l ky kz">import js2py</span></pre><p id="d93d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">先说一个简单的<code class="du lu lv lw kr b">Hello World!</code>。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="6944" class="kv jt hi kr b fi kw kx l ky kz">#example 1<br/>#a js command<br/>js1 = 'console.log( "Hello World!" )'</span><span id="cb7e" class="kv jt hi kr b fi lx kx l ky kz">res1 = js2py.eval_js(js1)</span></pre><p id="bfc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看等价的<code class="du lu lv lw kr b">python</code>代码:</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="0e4c" class="kv jt hi kr b fi kw kx l ky kz">print('Hello World!')</span></pre><p id="c896" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以在这里，我们将<code class="du lu lv lw kr b">javascript</code>命令存储在<code class="du lu lv lw kr b">js1</code>中。我们将在这里使用来自<code class="du lu lv lw kr b">js2py</code>模块的<code class="du lu lv lw kr b">eval.js</code>方法，将我们的js代码传入其中并存储在<code class="du lu lv lw kr b">res1</code>中。最后我们输出我们的结果。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="3030" class="kv jt hi kr b fi kw kx l ky kz">#print the result<br/>res1</span><span id="0d12" class="kv jt hi kr b fi lx kx l ky kz">#OUTPUT: Hello World!</span></pre><p id="4e6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们来看另一个例子！让我们用Javascript创建一个加法函数。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="829b" class="kv jt hi kr b fi kw kx l ky kz">#exapmle 2<br/>#a js function<br/>js2 = '''function add(a, b){<br/>    return a + b;<br/>    }'''</span></pre><p id="870a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看等价的<code class="du lu lv lw kr b">python</code>代码:</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="a595" class="kv jt hi kr b fi kw kx l ky kz">def add(a, b):<br/>    return a+b</span></pre><p id="a22c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将它存储在<code class="du lu lv lw kr b">js2</code>中，为了使我们的程序更具交互性，让我们在python脚本中获取用户的输入。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="7224" class="kv jt hi kr b fi kw kx l ky kz">a = int(input('Enter a num: '))</span></pre><p id="4f08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在这里使用来自<code class="du lu lv lw kr b">js2py</code>模块的<code class="du lu lv lw kr b">eval.js</code>方法，将我们的js函数传入其中并存储在<code class="du lu lv lw kr b">res2</code>中。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="60f6" class="kv jt hi kr b fi kw kx l ky kz">res2 = js2py.eval_js(js2)</span></pre><p id="691f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，让我们打印出我们的结果。因此，保存并运行python脚本。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="5af5" class="kv jt hi kr b fi kw kx l ky kz">print(res2(a,3))</span></pre><p id="1e18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它将输出两个数的和。它将根据用户输入而变化。</p><p id="eec6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是Js2Py的一个基本工作示例。这是关于在Python脚本内部运行Javascript命令的全部内容。就是这样！</p><p id="a35f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很简单，不是吗？希望这篇教程有所帮助。我强烈推荐你去看看T4的YouTube视频，别忘了订阅我的频道。</p><p id="d86a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用Js2Py库，甚至探索更多的特性。</p><p id="3a98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在我的<a class="ae jp" href="https://github.com/ayushi7rawat/Youtube-Projects/tree/master/Run%20javascript%20in%20python" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>找到所有代码。发现有用就掉颗星。</p><p id="0e79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读，我很乐意通过<a class="ae jp" href="https://twitter.com/ayushi7rawat" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae jp" href="https://www.linkedin.com/in/ayushi7rawat/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>与您联系。</p><p id="7dbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请分享您的宝贵建议，感谢您的真诚反馈！</p><p id="5d20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你绝对应该看看我的其他博客:</p><ul class=""><li id="bb26" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/python-39-all-you-need-to-know" rel="noopener ugc nofollow" target="_blank"> Python 3.9:你需要知道的一切</a></li><li id="9ae5" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/the-ultimate-python-resource-hub" rel="noopener ugc nofollow" target="_blank">终极Python资源枢纽</a></li><li id="9a98" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/github-cli-10-all-you-need-to-know" rel="noopener ugc nofollow" target="_blank"> GitHub CLI 1.0:你需要知道的一切</a></li><li id="f780" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/become-a-better-programmer" rel="noopener ugc nofollow" target="_blank">成为更好的程序员</a></li><li id="431d" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/how-to-make-your-own-google-chrome-extension-1" rel="noopener ugc nofollow" target="_blank">如何制作自己的谷歌Chrome扩展</a></li><li id="e3e2" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated"><a class="ae jp" href="https://ayushirawat.com/create-your-own-audiobook-from-any-pdf-with-python" rel="noopener ugc nofollow" target="_blank">使用Python从任何pdf创建您自己的有声读物</a></li><li id="5a2c" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">你很重要，你的心理健康也很重要！</li></ul><h1 id="6f23" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">资源:</h1><ul class=""><li id="abe9" class="lf lg hi ih b ii la im lb iq ly iu lz iy ma jc lk ll lm ln bi translated"><a class="ae jp" href="https://github.com/PiotrDabkowski/Js2Py" rel="noopener ugc nofollow" target="_blank">github.com/PiotrDabkowski/Js2Py</a></li><li id="7c27" class="lf lg hi ih b ii lo im lp iq lq iu lr iy ls jc lk ll lm ln bi translated">【pypi.org/project/Js2Py/0.27 T2】号</li></ul><p id="3c25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的下一篇博客文章中再见，保重</p></div></div>    
</body>
</html>