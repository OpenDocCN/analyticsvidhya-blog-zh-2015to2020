<html>
<head>
<title>RESTful API with Python and Flask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和Flask的RESTful API</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/restful-api-with-python-and-flask-6e65e79a5e15?source=collection_archive---------6-----------------------#2019-12-29">https://medium.com/analytics-vidhya/restful-api-with-python-and-flask-6e65e79a5e15?source=collection_archive---------6-----------------------#2019-12-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/e18558ca70e0bd7272f0313ce42a941f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*XzIRJGujfqAiOV2EIQgR_Q.png"/></div></figure><p id="36b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Python是最流行的编程语言之一。python中有很多框架和库。Flask就是其中之一。在本文中，我将向您展示如何使用Flask构建一个简单的RESTful API。</p><p id="2041" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">开始之前，您需要在您的计算机上安装python 3。点击<a class="ae jk" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">这里</a>可以下载安装python 3。之后，您可以通过在终端上键入python-version或在windows中键入cmd来验证这一点。</p><p id="ad23" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要构建flask应用程序，首先我们需要通过pip类型安装Flask。在终端中安装Flask，然后按enter。flask安装成功后，现在我们可以构建我们的RESTApi了。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="0b06" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">创建服务器</h1><p id="84ba" class="pw-post-body-paragraph im in hi io b ip kq ir is it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj hb bi translated">首先，我们需要使用flask创建一个服务器。为此，我们需要创建一个新的python文件。我把它命名为app.py，代码看起来像贝娄。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/15adab19cc40715c3140f0016e531691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-f29oEkYjs5MQkvBf71z2Q.png"/></div></div></figure><p id="7bf5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我所做的是从flask导入Flask，并在端口5000创建我们的服务器。现在我们可以访问我们在<a class="ae jk" href="http://localhost:5000." rel="noopener ugc nofollow" target="_blank">的服务器http://localhost:5000。</a>现在在项目目录中打开终端，输入python app.py，按回车键。如果你看到类似贝娄的东西，我们就可以走了。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es le"><img src="../Images/3544a36b5bda8ce303a4bf3fbab81773.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNOPZwI-ITyAhnu3pdxCcg.png"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><p id="6d6e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们可以使用应用程序变量创建路线。我将向您展示如何创建获取、发布、上传和删除路线。</p></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="b371" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">获取请求</h1><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/9c0561d9a5dc11fd3e35d4a70be15ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gL1QUbBH54_clf3Fs8CZZg.png"/></div></div></figure><p id="8108" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">“/users”是我们的端点，所以如果我们使用postman转到“http://localhost/users”并且请求类型是get，我们就可以得到响应。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lf"><img src="../Images/0e28506779bd8ce50c5edd5990c9d6a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjdLHQpw4bSDYEXPpb2rgg.png"/></div></div></figure><h1 id="bea4" class="js jt hi bd ju jv lg jx jy jz lh kb kc kd li kf kg kh lj kj kk kl lk kn ko kp bi translated">获取带参数的请求</h1><p id="6bdd" class="pw-post-body-paragraph im in hi io b ip kq ir is it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj hb bi translated">我们可以像这样传递参数。我们需要把我们的参数类型放在rute路径中。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/685e633b3c7f7b5a1458bf7ec511ae7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h_RZzGaivYE0-j5Afb6ykw.png"/></div></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ll"><img src="../Images/008b48c40f91816a51c9850e215c1904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TW61uYbDK_EhNnfZUsklbw.png"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="ec72" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">发布请求</h1><p id="653d" class="pw-post-body-paragraph im in hi io b ip kq ir is it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj hb bi translated">在post请求中，我们需要从flask导入请求。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/6c1f284be2ff692c39f0445537c58a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-as7XAvCl4KtDw-pDhdiJQ.png"/></div></div></figure><p id="d659" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后我们可以访问请求体。如果我们需要以JSON的形式返回数据，那么我们需要以JSON的形式转换数据。我们可以使用“<em class="lm"> jsonify </em>”进行转换。首先，我们也需要导入它。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/067e1fae75c956d598ab3b31fd35c132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CZSU5KVQ-0fFcAKaDAD0Mw.png"/></div></div></figure><p id="8b91" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们可以进行post请求，并将数据作为JSON返回给客户机。代码看起来像贝娄。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ln"><img src="../Images/dfb1004ae6b3c608437287250cfbbf87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itpIoJQWn8J_APA6wt4yPw.png"/></div></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lo"><img src="../Images/77d6972e8b77656ed3f4f3c454eb727f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1K8N5uWwSnHkIAq32IS2w.png"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="f21b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">上传请求</h1><p id="3ce3" class="pw-post-body-paragraph im in hi io b ip kq ir is it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj hb bi translated">Put请求更有可能是POST请求。代码是这样的，</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ln"><img src="../Images/19b3aa3e510004130b426139a5b32357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BUNGQQX54IctT-yj4XQONQ.png"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><h1 id="0251" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">删除请求</h1><p id="0e88" class="pw-post-body-paragraph im in hi io b ip kq ir is it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj hb bi translated">在删除请求中，我们传递参数，通过参数找到元素并删除该项。像这样的代码，</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kv"><img src="../Images/a3188290c3c4eaddecf4853b8f79614b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZmuH89AmzMNYikEIc4gpA.png"/></div></div></figure></div><div class="ab cl jl jm gp jn" role="separator"><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq jr"/><span class="jo bw bk jp jq"/></div><div class="hb hc hd he hf"><p id="3b69" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我向你展示一个使用flask的完整CRUD应用程序。在这个例子中，我的所有数据保存在一个变量中，但在现实世界中，我们需要将数据保存在一个数据库中。</p><p id="72c6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我的示例中，我将创建具有姓名、年龄和职务的用户，并显示所有用户，按用户名称显示用户，如果没有找到用户，则显示错误消息，按用户名称编辑用户，最后按用户名称删除用户。这是我的完整例子。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ln"><img src="../Images/2328cb45ba64f0d9285fe5e5b8fe16b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s0B6NxJJoSVEY0Zj36beDw.png"/></div></div></figure><p id="3702" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">源代码<a class="ae jk" href="https://github.com/Hasi6/flask-rest-api" rel="noopener ugc nofollow" target="_blank"> <em class="lm">此处</em> </a>。</p><p id="a995" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">谢谢你。</p></div></div>    
</body>
</html>