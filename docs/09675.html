<html>
<head>
<title>Financial Time Series and Its Random Walk in R — ARIMA Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">金融时间序列及其在 R — ARIMA 模型中的随机游走</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/financial-time-series-and-your-random-walk-in-r-arima-model-a6461da78ecc?source=collection_archive---------2-----------------------#2020-09-16">https://medium.com/analytics-vidhya/financial-time-series-and-your-random-walk-in-r-arima-model-a6461da78ecc?source=collection_archive---------2-----------------------#2020-09-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fe53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">查看财务时间序列中最重要的统计特征是什么，以便进行预测分析。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/023db5cc69eb71840dd6c8e3e1c03092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IMf4KaOkx29UltGG0wv-UQ.jpeg"/></div></div></figure><p id="884c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jq translated"><span class="l jr js jt bm ju jv jw jx jy di"> S </span>股票市场价格高度不可预测和波动，因此其经验时间序列也有不确定因素。没有必要知道未来股票的确切价值，但我们可以对其股票价格的变动进行建模。</p><p id="5a43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将展示一个使用 ARIMA 模型的股票价格时间序列模型</p><p id="dcd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章涉及的主要话题是:</p><ul class=""><li id="8841" class="jz ka hi ih b ii ij im in iq kb iu kc iy kd jc ke kf kg kh bi translated">ACF 和 ADF 测试</li><li id="2511" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">平稳性检验</li><li id="3567" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">ARIMA 模型和容格盒测试</li><li id="b7a6" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">模型预测</li></ul><p id="9fe6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于预测分析的金融时间序列的最重要的统计特征是:</p><ul class=""><li id="541f" class="jz ka hi ih b ii ij im in iq kb iu kc iy kd jc ke kf kg kh bi translated">时间趋势——价格是上升还是下降？</li><li id="a5ee" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">没有回复到平均价格</li><li id="6231" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">变化率的表观恒定性</li><li id="eb49" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">随时间变化的波动性</li></ul><div class="jf jg jh ji fd ab cb"><figure class="kn jj ko kp kq kr ks paragraph-image"><img src="../Images/35ef53cef3a6a9d6adf0abba4c0d0f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*gGgqrkv2JUH-0EW-Ljc0HA.png"/></figure><figure class="kn jj kt kp kq kr ks paragraph-image"><img src="../Images/e81ac26d1a1e22f736c159c86e235870.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*YpAsQbm5nasIf31xKQbLDg.png"/><figcaption class="ku kv et er es kw kx bd b be z dx ky di kz la translated"><strong class="bd lb">左</strong> : S &amp; P 500 价格—有趋势的时间序列；<strong class="bd lb">右</strong> : S &amp; P 500 价格收益——平稳时间序列</figcaption></figure></div><p id="e255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">左上图是一个具有趋势(随机游走)的金融时间序列示例，显示了股票价格随时间的变化。这是这个系列的一个区别，它变成了右上方。右图是左图的价格回报，是平稳时间序列的一个例子(不是随机游走)。</p><p id="c0c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多金融时间序列可以用一个叫漂移随机游走的模型来表示。</p><h1 id="2750" class="lc ld hi bd lb le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">时间序列建模</h1><p id="54ae" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">首先，如果你的 r 上已经有了以下所有的包，那么它已经被加载了。否则，使用函数<em class="jd"> install.packages() </em>为每个包安装它们。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="097a" class="mj ld hi mf b fi mk ml l mm mn"><br/>#load packages<br/>library(IRdisplay)<br/>library(magrittr)<br/>library(tidyverse)<br/>library(scales)<br/>library(gridExtra)<br/>library(forecast)<br/>library(tseries)<br/>library(ggthemes)<br/></span></pre><p id="e747" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，加载了<em class="jd"> nflx </em>文件。包含网飞从 2013 年 1 月 1 日到 2018 年 1 月 1 日的股价。所有模型中使用的数据对应于<em class="jd"> Adj_Close </em>列，该列的股票价值在考虑任何公司行为后进行调整。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="2fbf" class="mj ld hi mf b fi mk ml l mm mn">nflx &lt;- read_csv("NFLX.csv")<br/>head(nflx)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mo"><img src="../Images/7cecbb9972a7bfd0853f4dbcdbf1c799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h-2yX4g3CvbKNtzMfwj8OQ.png"/></div></div></figure><p id="72f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">函数 summary 允许了解一些关于值的统计信息。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="3246" class="mj ld hi mf b fi mk ml l mm mn">summary(nflx$Adj_Close)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mp"><img src="../Images/8e8c10850ba070e57261e6c297e9392b.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*EC-19XtgS-SmJegSWgEdlA.png"/></div></figure><p id="98ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd"> dim() </em>函数设置对象的尺寸。数据帧有 1259 行和 7 列。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="8fdc" class="mj ld hi mf b fi mk ml l mm mn">dim(nflx)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mq"><img src="../Images/59dd3b35a02e831f08138b46bee37117.png" data-original-src="https://miro.medium.com/v2/resize:fit:222/format:webp/1*fmxJuHiHuBuJ4Bm_qbAzgQ.png"/></div></figure><h2 id="3ee0" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">随机漫步是平稳的吗？</h2><p id="17d0" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">大多数股票价格遵循随机漂移，因为它的特点是一系列的上升或下降趋势，并在方向上发生不可预见的变化。股票的价格有以下表达式:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ne"><img src="../Images/2270687a2fe08991c79f10cf512f8875.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/format:webp/1*sVE8hvT543NNCewW5w8a8g.png"/></div></figure><p id="cebf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">yt =当前价格</p><p id="08f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">yt-1 =以前的价格</p><p id="cfe3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">α= E(yt yt-1)。它代表对数价格 yt 的时间趋势，是模型的<em class="jd">漂移</em>。</p><p id="0628" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ε =白噪声(零均值随机数)</p><p id="71a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天的价格是昨天的价格，加上一些随机噪声。</p><p id="2abd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个块显示了绘制价格的代码，它们的趋势线，这样我们就可以检查它的平稳性。􏰨􏰛􏰙􏰯􏰩􏰧􏰩􏰘􏰙􏰩􏰧􏰡􏰨􏰡􏰦􏰗􏰧􏰙􏰧􏰉􏰛􏰑􏰙􏰧􏰡􏰧􏰧􏰤􏰯􏰖􏰛􏰙􏰕􏰨􏰙􏰧􏰣􏰨􏰕􏰄􏰨􏰡􏰧<strong class="ih hj">􏰧􏰛􏰡􏰛􏰙􏰕􏰨􏰡􏰘􏰙􏰛􏰗</strong>􏰉􏰄􏰑􏰙􏰢􏰑􏰘􏰩􏰱􏰤􏰙􏰘􏰩􏰧􏰛􏰑􏰡􏰛􏰛􏰑􏰩􏰙􏰨􏰛􏰩􏰘􏰨􏰡􏰦􏰧􏰛􏰘􏰤􏰢􏰛􏰤􏰘􏰩􏰧􏰕􏰮􏰛􏰑􏰩􏰧􏰩􏰘􏰙􏰩􏰧􏰫􏰕􏰨􏰕􏰛􏰢􏰑􏰡􏰨􏰚􏰩􏰕􏰪􏰩􏰘􏰛􏰙􏰯􏰩􏰬</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="1493" class="mj ld hi mf b fi mk ml l mm mn">#check time series plot</span><span id="4d56" class="mj ld hi mf b fi nf ml l mm mn">ggplot(nflx, aes(Date, Adj_Close)) + geom_line(colour='blue') + ggtitle("Netflix Closing Stock Prices")+ geom_smooth(method = "lm", formula = y ~ x, colour='black', linetype = "dashed")</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ng"><img src="../Images/7a81886cfa1641b9d0dc2bb72313a0c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHWpINBXw_k_8leA0j-prg.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">收盘股价-系列趋势</figcaption></figure><p id="feb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如之前所说，股票价格很难预测。上图显示了网飞价格的时间序列(蓝线)及其趋势(黑色虚线)。趋势是线性增加的，序列显示趋势线以上和以下的值，并且不具有回复到平均值的属性。因此，该序列是具有漂移的<em class="jd">非平稳序列，具有</em>正斜率α(漂移)。</p><h2 id="eedf" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">平稳性</h2><p id="857b" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">一个<em class="jd">严格平稳</em> <strong class="ih hj"> </strong>时间序列是一个每个值集合的概率行为与时移集合的概率行为相同的时间序列。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nh"><img src="../Images/9629b51467cac15fc58b7826578f7b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*UbM5l0Ijnp0VimffSivIiQ.png"/></div></figure><p id="7c22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">弱平稳性</em>时间序列模型在一段时间内均值不变，方差和自相关也不随时间变化。我们将使用术语<em class="jd">静止</em> <strong class="ih hj"> </strong>来表示<em class="jd">弱静止</em>；</p><p id="05b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们检查价格的自相关性(随机游走)，这意味着检查当前股票价格和不同时间的价格之间是否存在相关性。为此，我们将使用<em class="jd"> ggAcf() </em>函数。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="04a1" class="mj ld hi mf b fi mk ml l mm mn"># check ACF plot<br/>ggAcf(nflx$Adj_Close, type='correlation')</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ni"><img src="../Images/f47b8844145845e296156fb4d795373d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2het9ga7iL6WM8oX2aTbSQ.png"/></div></div></figure><p id="40bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自相关函数(ACF)值随着滞后减小，而不是快速衰减，并且显示出滞后之间的显著相关性(前一时间的自相关几乎保持不变)。这是典型的包含趋势的时间序列。</p><h2 id="ef78" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">ADF 测试</h2><p id="515c" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">扩充的 Dickey-Fuller 检验检验非平稳性的零假设。另一个假设是平稳性。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="c35d" class="mj ld hi mf b fi mk ml l mm mn">#run ADF test<br/>adf.test(nflx$Adj_Close)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nj"><img src="../Images/733be6d5fac653a9dee4d0998cb1e294.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*zmwXOzx-i7K7t6CuB3tBAg.png"/></div></div></figure><p id="9255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于 ADF 检验，零假设是序列遵循随机游走。因此，低 p 值 0.432(大于 0.05)意味着我们不能拒绝序列是非平稳(随机游走)的零假设。</p><h2 id="9eef" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">为什么选择 ARIMA？</h2><p id="0b42" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">ARIMA 代表阶(p，d，q)的自回归综合移动平均，其中:</p><ul class=""><li id="ee2e" class="jz ka hi ih b ii ij im in iq kb iu kc iy kd jc ke kf kg kh bi translated">p —自回归滞后的数量</li><li id="1e46" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">d——差分阶</li><li id="0e0c" class="jz ka hi ih b ii ki im kj iq kk iu kl iy km jc ke kf kg kh bi translated">q —移动平均滞后的数量</li></ul><p id="e285" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的时间序列具有非平稳性(趋势)的特征，那么有必要进行微分，以产生一个新的更符合平稳性假设的序列。</p><p id="577e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自回归项对应于变换序列的滞后(p)(即通过微分获得的平稳序列)，移动平均对应于随机误差的滞后(q)。“整合”一词指的是对原始序列进行微分以使其稳定的过程(d)。<br/>在 R 中，<em class="jd"> auto.arima() </em>函数根据 AIC( <em class="jd"> Akaike 信息标准</em>)、AICc ( <em class="jd">小样本量的 AICC</em>)或 BIC( <em class="jd">贝叶斯信息标准</em>)返回最佳 arima 模型。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="894e" class="mj ld hi mf b fi mk ml l mm mn"># fit ARIMA model<br/>arima.model &lt;- auto.arima(nflx$Adj_Close, allowdrift = T)<br/>arima.model</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nk"><img src="../Images/7e79243396766a0f05bd3c2ded6dbf10.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*SNk2QcFKy_1maASrkM3iRA.png"/></div></figure><p id="3ba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ARIMA 方法已经确定 p 和 q 的最大指示值是 0-ARIMA(0，1，0)。然而，<em class="jd"> auto.arima () </em>函数使用 max.p = 5 和 max.q = 5，因此 p 和 q 可能有其他更合适的值。</p><h2 id="4c79" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">模型拟合的残差</h2><p id="c6cd" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated"><em class="jd"> resid() </em>函数<em class="jd"> </em>从建模函数返回的对象中提取模型残差。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="2372" class="mj ld hi mf b fi mk ml l mm mn"># calculate residuals of each model<br/><br/>arima.residual &lt;- resid(arima.model)</span><span id="90e9" class="mj ld hi mf b fi nf ml l mm mn"># plot PACF of each models residuals<br/><br/>ggAcf(arima.residual, type = 'partial')</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nl"><img src="../Images/eceae677bd0942a3cb0bce178229fb99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UsXNTmLgYGFY69DEgNnVPg.png"/></div></div></figure><p id="aafc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">蓝色虚线表示自相关明显不同于零的地方，即不存在自相关。PACF 图衡量一个值与另一个值之间的相关性，该相关性是在之前的四个周期中发现的。</p><h2 id="5b46" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">永盒测试</h2><p id="e4c3" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">Ljung-Box 检验可以定义为数据独立分布的零假设(即没有自相关)</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="2b5b" class="mj ld hi mf b fi mk ml l mm mn">#run the Ljung Box test on the residuals<br/><br/>Box.test(arima.residual, type='Ljung-Box', lag=1)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es nm"><img src="../Images/55926ea0dc847c89ca0f2f6bff88befc.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*zBgnHY7WMoFISbIwycZ1nw.png"/></div></figure><p id="f04a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">容格检验表明残差是不相关的。</p><h2 id="5322" class="mj ld hi bd lb mr ms mt lh mu mv mw ll iq mx my lp iu mz na lt iy nb nc lx nd bi translated">预报</h2><p id="5b44" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated"><em class="jd"> forecast() </em>函数将预测未来 60 天的价格走势。</p><p id="0ebb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">提前预测的周期数= 60，置信区间宽度= 90</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="0e21" class="mj ld hi mf b fi mk ml l mm mn"># make forecast for model<br/><br/>arima.forecast &lt;- forecast(arima.model, h=60, level= 90)</span><span id="4d70" class="mj ld hi mf b fi nf ml l mm mn"># plot forecast for model<br/><br/>g1 &lt;- autoplot(arima.forecast)<br/>g1</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es nn"><img src="../Images/4c353211c9c157c09a28b0ccb96a604c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ucNYm8VJOWKbp6KgL9FNSQ.png"/></div></div></figure><p id="ddfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">蓝色带显示所需的预测。随机趋势有更宽的预测区间，因为误差是非平稳的。</p><pre class="jf jg jh ji fd me mf mg mh aw mi bi"><span id="2cf8" class="mj ld hi mf b fi mk ml l mm mn">forecast(arima.model, h=60, level=90)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es no"><img src="../Images/2ed4729a98eeef21bee9d509cbe35981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*hQy_PcLHg5xZyqhxgf7QfQ.png"/></div></figure><p id="4172" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面，我们可以找到总共 60 个预测值中的前 10 个值。预测从第 1260 行开始，继续原始数据帧中的值，有 1259 行。</p><p id="3122" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里我完成了这篇文章的例子。你可以在这里找到代码<a class="ae np" href="https://github.com/ssilvacris/Data_Science_RStudio/blob/master/Time_Series.Rmd" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>