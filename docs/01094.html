<html>
<head>
<title>Do Threes Appease?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">三安抚吗？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/do-threes-appease-5e3be97ce220?source=collection_archive---------10-----------------------#2019-09-30">https://medium.com/analytics-vidhya/do-threes-appease-5e3be97ce220?source=collection_archive---------10-----------------------#2019-09-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/eb01a53b3b0582c939993012e3f04a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wRCo-bNRYejesEz_T-DpzA.png"/></div></div></figure><div class=""/><div class=""><h2 id="73f3" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated">三分球是导致NBA人气上升还是下降？</h2></div><p id="e53f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我从小就一直在看篮球。当俄克拉荷马城最终获得他们的第一个职业NBA时间时，我对NBA的一切都押上了全部赌注。在过去的几年里，NBA的观众人数和上座率都出现了飙升，所以我想深入研究这些数据，看看像三分球的数量这样的东西，无论是命中还是尝试命中，是否可能是NBA受欢迎程度上升的原因。</p><p id="af5e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在本教程中，我将展示一些我在网上找到的NBA CSV。其中一个CSV有点乱，很难处理，所以我将展示我是如何清理数据的，以便更好地可视化我的发现。</p><p id="2567" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我的第一个CSV文件来自NBA.com，里面有你能想到的所有NBA数据。这是我从那里找到的一张照片:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/f373cdc977e1082c83ce3df58188a074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MkYVu8or-rNJY83xfPNuIg.png"/></div></div></figure><p id="dd7a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我将删除一些我认为对我们没有多大用处的列，这样我们就有了这个简单的数据框架:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div class="er es kj"><img src="../Images/1e4aca76452057e5580042e542b967a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*5W98HCUyu9fxj3Izg1BgNA.png"/></div></figure><p id="0328" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">然而，经过仔细检查，似乎在“起始年”列下，每个团队每年都有多个实例。例如，有30支NBA球队，因此对于每个赛季来说，“2015”将出现30次。让我们看看我们是否能找到一种方法来对抗它。</p><p id="6509" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在这里，我使用set.index()方法来重新排列数据，这可能有助于我们更好地了解NBA上座率数据中的情况:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/c7b20046a2bdcefc452094fb1071cf24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4YaflRtsCWKznGsRirKx5w.png"/></div></div></figure><p id="2323" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我想这样会好一点，但是让我们看看，如果我们在“起始年”拆分它会发生什么:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kl"><img src="../Images/33f8c6b5adbe1acc2530d5cd4359f297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kmEhoCbRFmNSuFRVVl71NA.png"/></div></div></figure><p id="dfad" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">好吧！这稍微好一点，但我看到我们有一些丢失的数据，让我们继续运行一点代码来替换我们的数据框中所有丢失的数据，或NaN。以下是我使用的代码:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div class="er es km"><img src="../Images/8053a0777ebd88b1fd17bd48a9e93740.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*PdgpanAcgnFoQhhwREuL7Q.png"/></div></figure><p id="4acb" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">成功了吗？</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div class="er es kn"><img src="../Images/ea124f63a6d7e423c484b25cb7ada670.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*yYW7e_4nPrgIWLTrkmT35A.png"/></div></figure><p id="d6b7" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">让我们仔细检查数据帧，看看我们是否将这些NaN设置为零</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ko"><img src="../Images/4793435c8f391d2f59f963e98e147361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1WUNZKGn15RGwnZ-ctgzdw.png"/></div></div></figure><p id="43ac" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在这种情况下，用零填充空值是行不通的，它会打乱我们的条形图。相反，我将使用下面这段代码用数据框的平均出勤率来填充空值:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kp"><img src="../Images/0e6afac23eaee4b6b1c797fa4c22a26e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*FROEkxnnI6qQsEfOWPu2DA.png"/></div></div></figure><p id="abe2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">现在，让我们看一个条形图，看看哪些团队的平均出席人数最高:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kq"><img src="../Images/8251607f6c06dfc7f58a7d0f6f816a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GapuuvGL2CUCd9QMCxFz9g.png"/></div></div></figure><p id="38fe" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">芝加哥公牛队在2000年至2015年期间的上座率最高。</p><p id="97ff" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">现在我已经展示了如何清理一些杂乱的数据，让我们找到一个我们可以挖掘的数据集，并尝试找到一些趋势！</p><p id="63f6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">正如你从这张图表中看到的，basketball-references.com，NBA电视观众人数自2002年以来一直呈上升趋势，但在过去两年有所下降。</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div class="ab fe cl kr"><img src="../Images/d946c577b274486d7ce6487e6165a302.png" data-original-src="https://miro.medium.com/v2/format:webp/1*vyIM-oQBy5jOaOy4X73UYA.png"/></div></figure><p id="0cc2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">让我们深入研究这些数据，看看是否能发现发生了什么事。我再次去basketball-reference.com寻找一些统计数据，并运行了2001年至2019年的NBA平均值。这些数据看起来是这样的:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ks"><img src="../Images/72a218ba74f21e4ce4c034d23d36468b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bby2C3-3vP_vHoCNViKwIA.png"/></div></div></figure><p id="64e2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我不知道其中一些统计数据的含义，如“Pace”或“ORB ”,因此我将删除我认为不重要的列，这样我们就有了一个如下所示的数据框:</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div class="er es kt"><img src="../Images/e442fa9d352e7bef93a26b4ac418d1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nv_KjD_wbQ2Zn-SYvay4zQ.png"/></div></figure><p id="3fff" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">下图从上个赛季开始，一直下降到2000-2001年。条形代表每个赛季每场比赛的平均三分球数。颜色代表平均每场比赛的三分出手次数。正如你将看到的，在2011-2012赛季，尝试和三分球开始上升。让我们看看每场比赛的个人犯规，也许这是对为什么现在这么多三分球被制造/尝试的影响。</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ku"><img src="../Images/d8daeae121286f12e8cb654dff1bda45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X48YM2FRkQ8kFsBudDBXUA.png"/></div></div></figure><p id="1876" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">从每场比赛，每支球队的平均个人犯规图表(下图)来看。看来肯定有事发生了。2005-2006赛季后，犯规开始急剧下降。不幸的是，数据并没有告诉我们NBA个人犯规急剧减少的原因。快速的谷歌搜索没有帮助，因为在如何判定个人犯规的协议上似乎没有任何明显的变化。</p><p id="c4fd" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">然而，如果我们看看上面的NBA电视收视率，我们会发现2005-2006赛季对NBA来说并不是一个好的收视赛季。也许有一些与NBA老板和官员的后台会议，他们同意让球员多一点身体接触，不允许这么多犯规？毕竟，犯规确实会拖慢比赛，这可能会导致不经意的球迷不停地换到下一个频道。</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kv"><img src="../Images/338188317702f469de84316b44cc1803.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uj0PGjcGWHdXKR4AFQE6qQ.png"/></div></div></figure><p id="120e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">下面是我对“赛季”、“三分尝试(蓝色)”和“个人犯规(橙色)”进行分组的图表</p><figure class="kf kg kh ki fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ko"><img src="../Images/4d729ac196bc6c9662a9921402e27096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CavETJcyzrpFu67a14ASCw.png"/></div></div></figure><p id="19d6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">似乎在个人犯规和三分出手之间有一些关联。在过去的三到四年里，个人犯规开始停滞不前，三分投篮开始飙升。</p><p id="3df0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><strong class="jk hu">结论:</strong></p><p id="4fe1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">从这里所做的小样本数据分析来看，有潜在的内部因素似乎对NBA的收视率有某种影响。我相信有足够的证据允许进一步的分析。在未来的Medium post中，我希望引入其他数据，例如每张门票的平均成本、不同体育场的食品成本、停车场的价格以及体育场周围的平均家庭收入。最后，我想在NBA比赛期间浏览一下Twitter，看看是否有任何独特或有趣的流行标签。将所有的数据合并成一个数据集，并进行多元回归测试，可能会让我们更仔细地了解是什么影响了NBA的上座率和收视率。</p><p id="f39a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><strong class="jk hu">偏差:</strong></p><p id="d899" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我没有感觉到我为这篇文章分析的数据有任何偏差。我使用的两个来源，NBA.com和Basketball-Reference.com以其大量的档案而闻名，我没有理由认为它们不准确。</p></div></div>    
</body>
</html>