<html>
<head>
<title>COVID Tweet Analysis — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">COVID推文分析—第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/covid-tweet-analysis-part-1-a88ef91f432f?source=collection_archive---------12-----------------------#2020-09-26">https://medium.com/analytics-vidhya/covid-tweet-analysis-part-1-a88ef91f432f?source=collection_archive---------12-----------------------#2020-09-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="852f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">探索COVID推文数据</h2></div><p id="d8fa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇博客中，我从Kaggle获取了COVID tweet数据集，并对其进行了探索，以了解人们在使用NLP技术谈论什么。</p><p id="101c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么让我们来了解一下新常态开端的数据吧！！</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/812dc9b3dfafa1fa5aa0fbf6210f8b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6FtUMxr6BxeI0HQZngZtw.png"/></div></div></figure><h1 id="727e" class="kf kg hi bd kh ki kj kk kl km kn ko kp io kq ip kr ir ks is kt iu ku iv kv kw bi translated">使用的数据集</h1><p id="cef1" class="pw-post-body-paragraph ix iy hi iz b ja kx ij jc jd ky im jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">我已经从Kaggle获取了数据集“<a class="ae lc" href="https://www.kaggle.com/datatattle/covid-19-nlp-text-classification" rel="noopener ugc nofollow" target="_blank">冠状病毒标记数据</a>”。这些推文已经从Twitter上撤下，人工标记也已经完成。这些名字和用户名都有代码，以避免任何隐私问题。有两个数据集可用——train.csv和test.csv。我使用train . CSV进行探索性分析。</p><p id="94ad" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">列呈</strong> :-</p><ul class=""><li id="8a69" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated">用户名</li><li id="cd19" class="ld le hi iz b ja lm jd ln jg lo jk lp jo lq js li lj lk ll bi translated">昵称</li><li id="7d81" class="ld le hi iz b ja lm jd ln jg lo jk lp jo lq js li lj lk ll bi translated">在发推文</li><li id="3ff6" class="ld le hi iz b ja lm jd ln jg lo jk lp jo lq js li lj lk ll bi translated">原始推文</li><li id="c382" class="ld le hi iz b ja lm jd ln jg lo jk lp jo lq js li lj lk ll bi translated">标签</li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lr"><img src="../Images/f145e730762e6845636e605bd2ece289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZnf9e8qCdSZiI2UsQCJVA.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">数据一瞥</figcaption></figure><h1 id="c9bb" class="kf kg hi bd kh ki kj kk kl km kn ko kp io kq ip kr ir ks is kt iu ku iv kv kw bi translated">探索COVID推文</h1><p id="9bb7" class="pw-post-body-paragraph ix iy hi iz b ja kx ij jc jd ky im jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">在所考虑的数据集中，我们有41k条记录。让我们开始探索这些twitter数据。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lw"><img src="../Images/300fbfd602c391902a43521a38a94789.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vc8Eh1x9rgjwRacSbL9aBA.png"/></div></div></figure><p id="2b44" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lx">检查是否存在缺失值</em> —只有'<strong class="iz hj">位置'</strong>列有大约8.5k的缺失值。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ly"><img src="../Images/2d251f31af2ffc3eb5f607323ebea057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TBSuuCiiIm8UbbuT_F0COw.png"/></div></div></figure><p id="bd06" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lx">检查每列唯一值的数量</em> -同时所有推文都有唯一的用户名和昵称。该数据集包含12.2K个唯一位置、5个唯一情感和30个唯一日期。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lz"><img src="../Images/82ec73055041adccc311040f967083ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nund5JEgkMIfyNYK11MwvQ.png"/></div></div></figure><p id="72d4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我刚刚检查了位置名称，以了解更多的数据。除了像“伦敦”、“休斯顿”这样的地名之外，还有一些嘈杂的地名，如“野生动物在哪里”、“你在哪里！”。虽然在这个分析中我不会使用位置变量，但了解可用数据集的质量总是有好处的。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ma"><img src="../Images/eb73ef593f7d12d50dc20defe3fec1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjKh4X4opwH5tmCLAvxT6Q.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">情感栏的分布</figcaption></figure><p id="f6e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此数据已被手动标记。正面和负面情绪的分布似乎非常接近，分别为28%和24%，而16%的推文非常正面，13%非常负面。</p><p id="62ed" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lx">查看推文中的提及次数(@Username)。</em></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mb"><img src="../Images/90372bf82762552196320d1db4ba695a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBZm1i4bFZSpkSqaaCpIaQ.png"/></div></div></figure><p id="e5e9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在检查“提及次数”这一列的统计数据时，最大值是21。我有点好奇，想看看这些推文会是什么样子…所以让我们看看吧！！！</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mc"><img src="../Images/d99408459aefc4d5b6852ce740e6abf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETQl0G11e1qDmI-tmEZEDQ.png"/></div></div></figure><p id="67c6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很明显，这些推文只有提及(@Username)，没有其他内容，因此可以被丢弃。</p><p id="2585" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以这是关于探索数据集中提到的变量，尽管我也检查了每条推文的标签数。你也可以考虑其他特征(比如一条推文的长度),并在分类任务中把它们作为变量。</p><h1 id="c352" class="kf kg hi bd kh ki kj kk kl km kn ko kp io kq ip kr ir ks is kt iu ku iv kv kw bi translated">数据解毒</h1><p id="eee0" class="pw-post-body-paragraph ix iy hi iz b ja kx ij jc jd ky im jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">数据清洗是文本分析的无名英雄！有多种方法可以实现这一点，主要取决于数据集和手头的任务。所以我们开始吧！！</p><ul class=""><li id="1303" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">删除推文中的网址</strong></li></ul><p id="f9ea" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df[' processed ']= df[' original tweet ']。替换(r'http\S+'，' '，regex=True)</p><ul class=""><li id="41d6" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">转换成小写</strong></li></ul><p id="ef16" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df['已处理']=df['已处理'].str.lower()</p><ul class=""><li id="c758" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">修复收缩，我正在使用收缩库</strong></li></ul><p id="18e8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df['已处理']=df['已处理']。应用(缩写. fix)</p><ul class=""><li id="f5c2" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">从推文中删除提及</strong></li></ul><p id="1ff1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df['已处理']=df['已处理']。apply(lambda x:[t for t in x . split()if not t . starts with(' @ ')])。应用(lambda x:“”。join(x))</p><ul class=""><li id="40c6" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">删除特殊字符和数字</strong></li></ul><p id="ae1b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df['已处理'] = df['已处理']。replace(r'[^A-Za-z]+'，' '，regex=True)</p><ul class=""><li id="f845" class="ld le hi iz b ja jb jd je jg lf jk lg jo lh js li lj lk ll bi translated"><strong class="iz hj">去除空白</strong></li></ul><p id="494c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">df['已处理']=df['已处理']。应用(lambda x : x.strip())</p><h1 id="91b0" class="kf kg hi bd kh ki kj kk kl km kn ko kp io kq ip kr ir ks is kt iu ku iv kv kw bi translated">使用WordCloud查看推文中的常用词</h1><p id="7e78" class="pw-post-body-paragraph ix iy hi iz b ja kx ij jc jd ky im jf jg kz ji jj jk la jm jn jo lb jq jr js hb bi translated">我已经使用<strong class="iz hj"> wordcloud </strong>库的<strong class="iz hj"> WordCloud </strong>函数构建了一个wordcloud。一句话里有很多单词云。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es md"><img src="../Images/e2d9248b7e2adea15765435af382772f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rBgntsJN6YUIobpt-hKMtA.png"/></div></div></figure><p id="6bca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的代码中，我们创建了一个“文本”变量，即一个字符串，该字符串组合了来自数据清理阶段的已处理tweets的所有单词。加载从wordcloud库中获得的停用词，我在这个集合中添加了一些词。由于这个数据集是专门关于COVID推文的，所以很明显我们会将COVID，冠状病毒作为频繁出现的词。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es me"><img src="../Images/07d7a6cda146a292a2768b62cb6cf1b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MRnp-mvdx0YR9euLNz5GHw.png"/></div></div></figure><p id="ea2c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在将类似于<strong class="iz hj">‘covid’，‘冠状病毒’</strong>的词添加到停用词集中后，最终的词云看起来是这样的。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mf"><img src="../Images/828c2b64b6793a7eb47c8d9734963888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yKwAjGSe8S0ASlURL-Z-Rw.png"/></div></div></figure><p id="8b98" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">像<strong class="iz hj">‘杂货店’，‘超市’，‘疫情’，‘洗手液’，‘网上购物’，‘抢购’，‘封锁’，‘卫生纸’</strong>这样的词在给定的推特数据集中是频繁出现的词。</p><p id="30ce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">至此，您已经完成了探索和理解COVID tweet数据的第1部分。在接下来的部分中，我们将从ML的角度分析这些推文，比如发现潜在的主题和建立情感分类器。</p><p id="b0e9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里可以参考完整代码<a class="ae lc" href="https://github.com/poojamahajan0712/COVID_tweet_analysis/blob/master/Covid_Tweet_Analysis_EDA.ipynb" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>