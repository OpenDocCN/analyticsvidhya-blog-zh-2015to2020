<html>
<head>
<title>Predicting Parts Required in the Field Service Industry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测现场服务行业所需的零件</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/parts-prediction-given-the-problem-description-6767c3d7e8ed?source=collection_archive---------8-----------------------#2019-09-14">https://medium.com/analytics-vidhya/parts-prediction-given-the-problem-description-6767c3d7e8ed?source=collection_archive---------8-----------------------#2019-09-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1233" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如果我们能够预测特定维修问题所需的零件，技术人员和服务公司可以节省大量资金</h2></div><h1 id="278a" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated"><strong class="ak">问题</strong></h1><p id="13b3" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">在现场服务行业(来修你的空调、冰箱或核电站的家伙！)，对于前来执行服务的技术人员来说，携带特定断电所需的部件非常重要，即我们需要能够根据客户以文本形式报告的症状来预测所需的部件。根据地理位置，多次往返会使服务公司花费150美元到1000美元不等。</p><h1 id="3ceb" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated"><strong class="ak">多标签分类</strong></h1><p id="8b1e" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我想尝试Google的AutoML多标签分类来解决这个问题。我为自行车维修用例编造了一些合成数据，如下所示:</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es kl"><img src="../Images/0abb0bb46acc0107844975a26619b205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*gMSVbuIjj3n27daPTS33-A.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">显示客户投诉和实际消耗的备件的样本数据</figcaption></figure><p id="58be" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">请注意，第一个投诉<em class="lc">“整修”</em>，导致所有11个零件的消耗。另一个类似<em class="lc">的抱怨“手柄弯曲。油漆磨掉了。”</em>导致<em class="lc">手柄</em>和<em class="lc">油漆</em>的消耗。此外，按照AutoML文档的建议，每个标签(部件)在训练数据中至少有1000行。</p><p id="1aea" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">最终的模型过度拟合，偏离了目标。</p><ol class=""><li id="71ac" class="ld le hi jr b js kx jv ky jy lf kc lg kg lh kk li lj lk ll bi translated">对于输入<em class="lc">“问题处理。座椅弯曲。”，</em>它确实预测了零件<em class="lc">手柄</em>和<em class="lc">座椅</em>，但是<em class="lc">发电机</em>也悄悄进来，因为训练数据<em class="lc">电气问题</em>映射到它。</li></ol><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/afb6e5681e16cc36422a49f4d864badd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u1umWdEpTCWut93nn-YloQ.png"/></div></div></figure><p id="84dd" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">2.该模型在输入“<em class="lc">refush”</em>时失败，仅推荐了少数几个零件，而所有11个零件都是必需的。尽管训练数据集确实有几行与<em class="lc">refresh</em>相关。对比一下人类的工作方式:在几次坠机事件后，航空公司没有禁止波音737 Max吗？同样的，即使线索很少，这个模型也应该能找到线索。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/6af5e2564cc36bb1e988b8b7f0bc7e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AyOjl9LVHjgr_QsKkgorcQ.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">显示所有标签都被选择的情况的训练数据</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es ls"><img src="../Images/cfd5b8a0e5df29f2ea3afcd1a9dd78c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*v3jizuBbV0OBsShRC6D9iA.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">AutoML Predict UI为输入更新推荐少量零件</figcaption></figure><p id="854e" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">3.此外，企业需要能够根据解决方案的成本对解决方案进行分类——便宜的解决方案可能是更换<em class="lc">管道</em>，而更昂贵的解决方案可能是更换整个装置。</p><p id="3aca" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">4.ImageNet多标签数据集使用1400万张图像作为训练数据，可以识别20，000个标签。我们不能指望每个客户和机器组合都有这样的数字。我们可能没有AutoML所要求的每个标签(部件)1000行。</p><p id="c2fe" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">5.我们可能有数千个独特的标签(零件)。甚至从历史数据库中生成训练数据的任务似乎也令人望而生畏——每个部分都有单独的一列。</p><p id="e140" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">6.我们还遇到了不推荐任何器件的情况！说当只是校准或重新启动机器，固定的问题！事后想想，这可以通过使用标签<em class="lc"> No_Parts_Required </em>来建模。</p><p id="829f" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">由于上述原因，我不得不放弃AutoML方法。</p><h1 id="bf7c" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">解决方案</h1><p id="5851" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">这个解决方案的灵感来自于<a class="ae lt" href="https://www.aquant.io/" rel="noopener ugc nofollow" target="_blank"> aquant.io的</a>优秀产品。这里可以看到一个简短的演示视频<a class="ae lt" href="https://youtu.be/l5LyTcO_fKI" rel="noopener ugc nofollow" target="_blank"/>。该方法似乎从非结构化数据(客户报告的问题描述)转移到驻留在关系数据库中的结构化/分类值集，这有助于查询症状共现&amp;最终零件。</p><h2 id="ed50" class="lu iy hi bd iz lv lw lx jd ly lz ma jh jy mb mc jj kc md me jl kg mf mg jn mh bi translated">空间服务</h2><p id="4075" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">因为从非结构化数据到结构化分类值是关键，所以理解英语语法是关键！该服务从问题描述中提取关键症状。下面是词性标注的一个例子，展示了语法结构，由spaCy 及其显示工具提供。这既是需求文档&amp;也促进了<a class="ae lt" href="https://technologyconversations.com/2013/12/20/test-driven-development-tdd-example-walkthrough/" rel="noopener ugc nofollow" target="_blank">测试驱动开发</a>。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es mi"><img src="../Images/7db2a9fbfe5b5bb021332634e5c1480c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*NpV_azpuNEHTqNojoqxMEg.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">打印机正在闪烁</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es mj"><img src="../Images/7c9ea4c5a21f36f9095ca2538f8c2e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*NX8qzyV1UWQtMcWppe25KQ.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">泵衰竭</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mk"><img src="../Images/cdd08894becc5ee8a1c5720839917f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhx_k2g54y5SH-97j-Z1rw.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">泵不工作</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es ml"><img src="../Images/068f0a9608e9b5c06d02b1887662f00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*qD9ZpeGrx5DxSes4zN_MVA.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">读取器失去连接</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mm"><img src="../Images/37fddc64d8065134268aa5d51aaaf16a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zycDDdaf61SFsDq9Ip0sLw.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">架子弯曲了</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mn"><img src="../Images/41c435c2f6ad1a80c385550ad15f9681.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*4KoUy1u844wQ6swRt2EiCA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">电力问题</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es mo"><img src="../Images/b878166afde730642e7e976e9df2caa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*abhYnwHA8V5tHrI8HGQ_5w.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">事件率问题</figcaption></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es mp"><img src="../Images/f4201c2ea14b6506c44e941967e6fc7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*53lT_WNQ4aY8YGFjUnrE0A.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">无法打印</figcaption></figure><p id="29b5" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">30+场景的完整列表在测试用例中！</p><h2 id="9272" class="lu iy hi bd iz lv lw lx jd ly lz ma jh jy mb mc jj kc md me jl kg mf mg jn mh bi translated">语义服务</h2><p id="226e" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">既然我们已经确定了关键症状，是时候移除重复症状了。例如，“<em class="lc">电池没电了”</em>是<em class="lc">“电池需要更换”的重复。</em> Tensorflow的Tensorflow Hub，附带了这个很酷的实用工具——通用句子编码器<a class="ae lt" href="https://tfhub.dev/google/universal-sentence-encoder/2" rel="noopener ugc nofollow" target="_blank"/>。由于重复的余弦距离<em class="lc">更接近于1.0，这消除了重复。</em></p><h2 id="75ef" class="lu iy hi bd iz lv lw lx jd ly lz ma jh jy mb mc jj kc md me jl kg mf mg jn mh bi translated">数据库服务</h2><p id="39af" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">看起来像这样的历史非结构化数据:</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mq"><img src="../Images/ee3918a1a8d3d20b70e8d50ccc59578c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkaZyoB6AIte_aVeiVMNzA.png"/></div></div></figure><p id="f021" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">简化为机器可能出现的症状的结构化分类主列表:</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mr"><img src="../Images/613981b8488b18e0bda17d19e1577148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2a4iYsLWShqrZLY3qgBpgw.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">机器的主要症状列表</figcaption></figure><p id="4672" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">并且还跟踪工作指令之间的症状共现</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es ms"><img src="../Images/b3efe25cd5999d071fba860c7f59f4b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*9t-5GaFG5rS69rZh3UEm4w.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">跟踪症状共现</figcaption></figure><p id="668b" class="pw-post-body-paragraph jp jq hi jr b js kx ij ju jv ky im jx jy kz ka kb kc la ke kf kg lb ki kj kk hb bi translated">这些数据与零件主数据一起为零件预测提供了动力。这种数据库模型还有另一个优点。由于我们知道哪些症状与其他症状同时出现，这可以作为处理分类的呼叫中心代理的检查表。因此，如果客户报告说<em class="lc">“泵不工作”</em>，呼叫中心代理可以问，<em class="lc">“是单元泄漏吗？”。</em>这为零件预测建立了一个清晰完整的输入。还支持从问题的完整文本中预测部分内容的另一种选择——通过管道运行文本，将文本解构为其根本症状。</p><h2 id="32e2" class="lu iy hi bd iz lv lw lx jd ly lz ma jh jy mb mc jj kc md me jl kg mf mg jn mh bi translated">休息服务</h2><p id="74cb" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">只有3种休息服务:</p><ol class=""><li id="0bb0" class="ld le hi jr b js kx jv ky jy lf kc lg kg lh kk li lj lk ll bi translated">获取下一个症状问题，这有助于呼叫中心代理询问客户</li><li id="f84c" class="ld le hi jr b js mt jv mu jy mv kc mw kg mx kk li lj lk ll bi translated">给定症状id(症状(A，B)存在，而C不存在)，获得预测</li><li id="67c4" class="ld le hi jr b js mt jv mu jy mv kc mw kg mx kk li lj lk ll bi translated">给定问题描述文本，获得预测</li></ol><h1 id="8c9e" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">演示和源代码</h1><p id="dc6b" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">演示视频是<a class="ae lt" href="https://youtu.be/mxsxe5ApARg" rel="noopener ugc nofollow" target="_blank">这里</a>T8】源代码是<a class="ae lt" href="https://github.com/navraj28/aquant" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>