<html>
<head>
<title>Analyzing US automotive industry using fredr, a FRED package in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R中的FRED软件包fredr分析美国汽车工业</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analyzing-us-automotive-industry-using-fredr-a-fred-package-in-r-f17ccd94fd00?source=collection_archive---------22-----------------------#2020-01-02">https://medium.com/analytics-vidhya/analyzing-us-automotive-industry-using-fredr-a-fred-package-in-r-f17ccd94fd00?source=collection_archive---------22-----------------------#2020-01-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ea85959a590206490cead7833114d082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*88ZwOeXRCChPphtL"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@carlodagnolo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Carlo D'Agnolo </a>拍摄的照片</figcaption></figure><p id="471e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">利用公开的弗雷德数据，我分析了美国汽车市场的历史数据，显示了美国汽车市场的历史趋势。</p><p id="f4b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">FRED是美国美联储系统的缩写，它在一个在线数据库中提供与美国经济相关的公共数据。该数据库包括与经济研究相关的各种指标。例如，关于美国国内汽车生产、汽车销售、汽车进口以及更多与美国汽车市场相关的时间序列数据。</p><p id="c428" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面我使用可用的fredr包设置了FRED API键，用于在R中检索FRED数据。我继续在数据库中搜索“汽车生产”。使用这个搜索词，fredr_series_search_text函数返回一个列表，其中包含与FRED US汽车生产数据相关的数据集摘要。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="20af" class="kc kd hi jy b fi ke kf l kg kh"><em class="ki"># install fredr package directly from CRAN</em><br/><em class="ki">#install.packages("fredr")</em><br/><em class="ki"># load package</em><br/><strong class="jy hj">library</strong>(fredr)</span><span id="1320" class="kc kd hi jy b fi kj kf l kg kh">## Warning: package 'fredr' was built under R version 3.6.2</span><span id="b3e5" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># set fredr API key</em><br/>fredr_set_key(api_key) <em class="ki"># api_key string must be retrieved from </em><a class="ae iu" href="https://research.stlouisfed.org/useraccount/apikey" rel="noopener ugc nofollow" target="_blank"><em class="ki">https://research.stlouisfed.org/useraccount/apikey</em></a></span><span id="be32" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># search database for a car production series</em><br/>search_ls &lt;- fredr_series_search_text("car production")</span><span id="ed9c" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># view column names of series search result list</em><br/>colnames(search_ls)</span><span id="50b8" class="kc kd hi jy b fi kj kf l kg kh">##  [1] "id"                        "realtime_start"           <br/>##  [3] "realtime_end"              "title"                    <br/>##  [5] "observation_start"         "observation_end"          <br/>##  [7] "frequency"                 "frequency_short"          <br/>##  [9] "units"                     "units_short"              <br/>## [11] "seasonal_adjustment"       "seasonal_adjustment_short"<br/>## [13] "last_updated"              "popularity"               <br/>## [15] "group_popularity"          "notes"</span></pre><p id="9211" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下图是基于FRED时间序列数据生成的，访问搜索结果包含的一个数据集。该图表以千辆为单位总结了经季节性调整的美国国内汽车产量的历史月度发展情况。可视化是在R中使用ggplot2包完成的。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="39b1" class="kc kd hi jy b fi ke kf l kg kh"><em class="ki"># loading ggplot2 R-package</em><br/><strong class="jy hj">library</strong>(ggplot2)</span><span id="130e" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># DAUPSA is id for seasonlly adjusted monthly domestic car production in units</em><br/>series_ls &lt;-fredr_series_observations(series_id = "DAUPSA") </span><span id="10b2" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># convert series list to dataframe</em><br/>series_df &lt;- do.call(cbind.data.frame, series_ls)</span><span id="e4f4" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># plotting data</em><br/>ggplot(series_df) + geom_line(mapping = aes(x=date,y=value), <br/>                              color = "red") +<br/>  ggtitle("Monthly US car production, seasonally adjusted [in thousands]") + <br/>  xlab("time") + <br/>  ylab("monthly cars produced [thousands of units]")</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/c2f2e67e9102d430ecde0eb10e94a092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77Nq8JEbGaUK-Iu-tWSkiA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1:经季节性调整的美国国内汽车月生产量[来源:弗雷德数据库]</figcaption></figure><p id="f66b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以上时间序列数据始于1993年。此后，国内汽车产量下降。</p><p id="f3dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">公开的FRED数据库还包括美国新进口汽车季度销售的时间序列数据。下图显示了以十亿美元计的历史销售趋势，考虑了进口到美国的新车的季度销售。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9488" class="kc kd hi jy b fi ke kf l kg kh"><em class="ki"># B149RC1Q027SBEA is id for US domestic sales of imported new cars, seasonally adjusted and in billions of USD</em><br/>series_df &lt;-do.call(cbind.data.frame,<br/>  fredr_series_observations(series_id = "B149RC1Q027SBEA"))</span><span id="5ebb" class="kc kd hi jy b fi kj kf l kg kh"><em class="ki"># plotting data</em><br/>ggplot(series_df) + geom_line(mapping = aes(x=date,y=value), <br/>                              color = "red") +<br/>  ggtitle("Quarterly US imported new car sales, seasonally adjusted [in billion USD]") + <br/>  xlab("time") + <br/>  ylab("quarterly new imported car sales [billion USD]")</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/caf2438f40e4662752168bec99240449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoCJoiz5ilt8Kt7DDFA3Sw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图2:美国新进口汽车季度销量[来源:弗雷德数据库]</figcaption></figure><p id="5e89" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">进口汽车的销量长期以来一直在增长。这一趋势直到最近才转为负面(2009年—全球金融危机，过去2-3年—美国汽车需求的负面趋势)。</p><p id="9010" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个简单的例子说明了如何在R中直接检索和处理FRED数据，例如作为一些主要工作流或分析的一部分。这种方法对于一些复杂的多步分析程序来说很方便，在这些程序中必须考虑多个数据源。直接从R脚本访问FRED数据的可能性简化了这些任务。</p><p id="5e46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关于如何在R中使用FRED(或例如OECD)数据的更多编码示例，请访问SupplyChainDataAnalytics.com<a class="ae iu" href="http://www.supplychaindataanalytics.com" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>