<html>
<head>
<title>Confusion Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混淆矩阵</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/confusion-matrix-8746245dcbd7?source=collection_archive---------25-----------------------#2020-05-31">https://medium.com/analytics-vidhya/confusion-matrix-8746245dcbd7?source=collection_archive---------25-----------------------#2020-05-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="9cca" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">当我们把<strong class="il hj"/>和<strong class="il hj">精度</strong>值混淆时，这非常有用</p></blockquote><p id="08eb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在本文中将讨论混淆矩阵的必要性，它只适用于分类类型的数据，其中响应/因变量是一个类别/水平/类。</p><p id="6b62" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">除此之外，还有一些重要的术语，如准确率、召回率，在分类中被称为度量标准。</p><h1 id="d5f3" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">什么是混淆矩阵？</h1><p id="06f8" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated"><strong class="il hj">混淆矩阵</strong>是一个表格，通常用于描述一个分类模型(或“分类器”)对一组真实值已知的测试数据的性能。它是在精确和回忆的帮助下形成的。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es kn"><img src="../Images/3109cfc81c3ea74785b49c6571c2a908.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*yssLnsujAsXo1n_BYpEgEw.png"/></div></figure><h1 id="126b" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">为什么是混淆矩阵？</h1><p id="808c" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">当您的数据不平衡时，根据模型的准确度来选择模型不是一个好方法。在这种情况下，我们需要更多的知识来做出决定。这里，混淆矩阵/分类报告对于选择哪个模型有利于预测非常有用。</p><p id="4703" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">不平衡数据</strong>，考虑我们在响应变量中有两个类别，其中80%的数据偏向一个类别。在这种情况下，模型将单独为该类运行良好。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h1 id="23db" class="jk jl hi bd jm jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh bi translated"><strong class="ak"> PYTHON —分类报告:</strong></h1><p id="21af" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">从包<strong class="il hj"> Sklearn </strong>，</p><pre class="ko kp kq kr fd lh li lj lk aw ll bi"><span id="f056" class="lm jl hi li b fi ln lo l lp lq">from sklearn.metrics import classification_report</span></pre><p id="9fad" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">假设我们有两个类(0 &amp; 1)分类数据，它们的分类报告将是这样的，</p><p id="a885" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">输出</strong>:</p><pre class="ko kp kq kr fd lh li lj lk aw ll bi"><span id="813a" class="lm jl hi li b fi ln lo l lp lq">               precision    recall  f1-score   support<br/><br/>           0       0.46      0.23      0.31      6640<br/>           1       0.73      0.88      0.79     15305<br/><br/>    accuracy                           0.68     21945<br/>   macro avg       0.59      0.56      0.55     21945<br/>weighted avg       0.64      0.68      0.65     21945</span></pre><p id="2ee1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">下面是对上述输出中出现的术语的解释。</p><h1 id="0413" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">背景:</h1><ol class=""><li id="46c3" class="lr ls hi il b im ki iq kj jh lt ji lu jj lv jg lw lx ly lz bi translated">精确</li><li id="89b2" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated">回忆</li><li id="d7a7" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated">f-β</li><li id="6624" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated">F1-分数</li><li id="f513" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated">支持</li></ol><p id="43ba" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">了解精确度、回忆或f1分数。首先，我们必须知道一些术语，</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mf"><img src="../Images/e804ac7a2f28533df59f021ba971ed88.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*-EYMA36RoBr0pWxTHQwqXA.png"/></div><figcaption class="mg mh et er es mi mj bd b be z dx translated">混淆矩阵</figcaption></figure><ol class=""><li id="d8a6" class="lr ls hi il b im in iq ir jh mk ji ml jj mm jg lw lx ly lz bi translated"><strong class="il hj">真阳性率(回忆):</strong>在全部实际阳性值中，有多少是实际阳性。公式=TP / (TP+FN)。它也被称为回忆(或)敏感性。</li><li id="a732" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated"><strong class="il hj">真阴性率:</strong>在全部实际负值中，有多少是实际负值。公式= TN/(TN+FP)。它也被称为特异性。</li><li id="b17a" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated"><strong class="il hj">假阳性率:</strong>总实际阳性值中，有多少负值被误预测为阳性。公式= FP/(TP+FN)</li><li id="8146" class="lr ls hi il b im ma iq mb jh mc ji md jj me jg lw lx ly lz bi translated"><strong class="il hj">假阴性率:</strong>在全部实际负值中，有多少正值被错误地预测为负值。公式= FN/(FP+TN)</li></ol><p id="a65c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在哪里，</p><p id="42f7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">TN-真阴性，TP-真阳性，FP-假阳性，FN-假阴性。</p><blockquote class="if ig ih"><p id="382b" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">注意:高真阳性率和高真阴性率的模型会更好</p></blockquote></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h1 id="9d6d" class="jk jl hi bd jm jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh bi translated"><strong class="ak"> 1。精度:</strong></h1><p id="eaa2" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">对于每一类，它被定义为真阳性与真阳性和假阳性之和的比率。正面预测的准确性。</p><p id="64ec" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">公式</strong> = &gt; TP / (TP+FP)为真正(或)TN/(TN+FN)为真负。</p><p id="e4e7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">简单地说，在所有预测的正值中，有多少是实际的正值。在精确度方面，假阳性率(FP)在处理真阳性率时起主要作用。所以我们主要集中在要不要根据问题来提高或者降低FP率。</p><p id="484f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">举例:正- </strong>非垃圾邮件<strong class="il hj">，负- </strong>垃圾邮件。</p><p id="fc32" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">对于垃圾邮件<strong class="il hj"> </strong>的检测，如果我们使用true positive也就是说在所有预测的非垃圾邮件中有多少实际上是非垃圾邮件。这里不需要使用真负利率和计算FN。</p><h1 id="04f4" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">2.回忆:</h1><p id="3121" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">1.出<strong class="il hj">总的实际正值</strong>值有多少是实际正值。也称为真阳性率和<strong class="il hj">灵敏度</strong>。</p><p id="a744" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">公式</strong> = &gt; TP / (TP+FN)</p><p id="e6ec" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">2.在<strong class="il hj">总实际负</strong>值中，当我们使用实际负利率时，实际负了多少。又称<strong class="il hj">特异性。</strong></p><p id="4991" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">公式</strong> = &gt; TN/(TN+FP)</p><p id="05f1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">举例:</strong> <strong class="il hj">阳性</strong>——无癌，<strong class="il hj">阴性</strong>——有癌。</p><p id="c2b4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">考虑一个癌症预测数据，如果我们用<strong class="il hj">真阳性率</strong>那么FN率是高还是低不成问题。因为他/她可以通过进一步的检查来确诊癌症。但是在这种情况下，FN越少越好。</p><p id="bcc0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果我们使用<strong class="il hj">真阴性率</strong>，那么FP将会产生影响，即癌症患者被预测为非癌症患者，这种情况很难出现，因此我们的FP率应该更低。</p><blockquote class="if ig ih"><p id="2b07" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">注:<em class="hi">精度</em>和<em class="hi">召回</em>即所谓的<strong class="il hj">信息检索</strong>。</p></blockquote><h1 id="6f62" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">3.F-Beta分数:</h1><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mn"><img src="../Images/706ce8b3d6deb51ba8951b690502f9c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hOp7euT-AJifGF2VdV-YDw.png"/></div></div></figure><p id="7cd1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">精度和召回率的加权调和平均值称为F-Beta得分。</p><h1 id="fdc8" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak"> 4。F1-分数:</strong></h1><p id="1e6b" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">它是从f-beta分数中推导出来的。具有高f1分数的模型被认为是最佳模型。</p><p id="488a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在f-β公式中当<strong class="il hj">β= 1时，</strong></p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es ms"><img src="../Images/e40afb618614d6efe582a87a35652040.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*IVJ4o65X52vVlzcooaipyA.png"/></div></figure><h1 id="667f" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">5.支持:</h1><p id="7038" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">支持度是位于该类中的真实响应的样本数。像值计数一样，它显示相应类中有多少值。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><blockquote class="if ig ih"><p id="2d16" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">混淆矩阵中还有一个我们在R编程语言中见过的重要术语，</p></blockquote><h2 id="cac2" class="lm jl hi bd jm mt mu mv jq mw mx my ju jh mz na jy ji nb nc kc jj nd ne kg nf bi translated">无信息率:</h2><p id="364c" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">如我们所知，在不平衡数据的情况下，模型会偏向任何类别，其中无信息率会更高，这意味着模型不会平等地预测每个类别。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h1 id="0c99" class="jk jl hi bd jm jn lc jp jq jr ld jt ju jv le jx jy jz lf kb kc kd lg kf kg kh bi translated">结论:</h1><p id="1aa2" class="pw-post-body-paragraph ii ij hi il b im ki io ip iq kj is it jh kk iw ix ji kl ja jb jj km je jf jg hb bi translated">工业人员利用精确度和召回率以及准确性来做出好的决策，以摆脱复杂的问题。因此，将得出结论，混淆矩阵是有用的决策，其结果总是更好。</p><p id="3f00" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">希望我已经用简单的解释涵盖了混淆矩阵中的大部分术语，如果我发现了任何话题，请在评论区告诉我，以便即兴创作即将到来的内容。</p><p id="51d4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">帮我接通:<a class="ae ng" href="http://www.linkedin.com/in/Ramkumar-R23" rel="noopener ugc nofollow" target="_blank">www.linkedin.com/in/Ramkumar-R23</a></p></div></div>    
</body>
</html>