<html>
<head>
<title>Can trees help taxi drivers in New York? — Decision Trees and Random Forest in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">树能帮助纽约的出租车司机吗？—R中的决策树和随机森林</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/can-trees-help-taxi-drivers-in-new-york-decision-trees-and-random-forest-in-r-6f6c194730d?source=collection_archive---------36-----------------------#2020-05-27">https://medium.com/analytics-vidhya/can-trees-help-taxi-drivers-in-new-york-decision-trees-and-random-forest-in-r-6f6c194730d?source=collection_archive---------36-----------------------#2020-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢互联网，我们可以看到我们从未去过的地方，谈论它们，甚至分析它们！嗯，我早上好？！我知道我听起来像是一个90年代刚刚发现互联网的人…但事实是我仍然在探索我们的一些能力。</p><p id="7a8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">多亏了Datacamp项目，我找到了49999个纽约出租车旅程数据集。我们将开始一段从决策树到随机森林算法的小旅程，并尝试帮助出租车司机。让我们开始吧！</p><p id="0371" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分析的第一部分基于datacamp指令。然后我会添加更多的库和分析。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/fdc7f37705908980136b74a1aa1073d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yeRAANef4yAkkWIIGPL80g.png"/></div></div></figure><p id="b607" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">徽章是每辆出租车的唯一标识。我们有取车日期、位置(经度和纬度)、行程长度和车费。我将重新排列数据集，如下所示:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="feee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们放大曼哈顿。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es js"><img src="../Images/4e25415a9d1fd7905326a58dd2c84d15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kAA6dkWlLvZp7hoNFDZ_Hg.png"/></div></div></figure><p id="5367" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来很花哨！这里有些注释。get_map()用于从google maps返回地图。现在同样的方法需要Google API的凭证。因此，这里使用预先生成的RDS对象。</p><p id="386d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生成第一棵树→</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/2c6f0065a0c799181000bb04589b6941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CnjmkeQ4zxXJIu1XaEYnDQ.png"/></div></div></figure><p id="3c56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这棵树说了什么？如果纬度小于40.7237(纬度&lt;40.7237) trips are more expensive (2.536&gt; 2.325)。虽然我们在构建模型时使用了long作为预测器，但是树中没有包括它，因为它不能提高预测。</p><p id="90e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从现有的数据中提取更多信息，并将其用作预测器。pickup_datetime是一个日期对象，它使我们能够提取该日期的小时、日和月。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="0ae0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候画另一个有更多预测的树了。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ju"><img src="../Images/fb352f4a01d5173755c59f1c1764bdaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PbjNEwExjQ00k2fASLnZSA.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jv"><img src="../Images/02a8af325786df6967311326b563657f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3B467Id--B8F35_dh3iBQ.png"/></div></div></figure><p id="3e8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管我们在模型中有更多的预测因子，但这些对模型的预测没有贡献。树，再次，仅仅是由纬度建造的。</p><p id="1433" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也许我们不需要在一棵树上有更多的节点，而是需要更多的树…甚至是一片森林。</p><p id="44f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一点上，概念上的澄清将是非常有益的。<a class="ae jw" href="https://towardsdatascience.com/understanding-random-forest-58381e0602d2" rel="noopener" target="_blank">你可以查看这个帖子。</a></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jx"><img src="../Images/1def37e12dd2f4d5e1c33be6b27d36ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPPZoDSQQ_c0r_Rz-p0__A.png"/></div></div></figure><p id="88c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">即使是森林也只能解释数据中2.84%的可变性。这远远落后于一个好的预测。</p><p id="e99d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">地图上的可视化将为我们的模型提供更清晰的视图。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><div class="je jf jg jh fd ab cb"><figure class="jy ji jz ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/493555f1089311c3ce1491ab55925e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*YR8WbDoJKfMP1bE7ENqhAw.png"/></div></figure><figure class="jy ji ke ka kb kc kd paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/576fc77059289da718e8ffa1051ecdf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*trPBN_ciY-us6bOOygBrRw.png"/></div></figure></div><p id="b229" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我无法帮助出租车司机，告诉他们提高收入的确切时间和地点，但对我来说，有一个小而有效的教训:市中心更贵。对许多人来说，这可能太明显了，但对那些不太了解曼哈顿的人来说，这仍是一个学习的过程。这值得一试。</p></div></div>    
</body>
</html>