<html>
<head>
<title>Integer Programming for Graph Theory and Others with Python: 01 - Introduction / Knapsack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现图论及其他的整数规划:01 -简介/背包</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/integer-programming-for-graph-theory-and-others-with-python-01-introduction-knapsack-6d5f0052a2c2?source=collection_archive---------20-----------------------#2020-04-05">https://medium.com/analytics-vidhya/integer-programming-for-graph-theory-and-others-with-python-01-introduction-knapsack-6d5f0052a2c2?source=collection_archive---------20-----------------------#2020-04-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7391" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自从我接触运筹学和人工智能以来，我一直对它着迷。回想我和若昂·佩德罗·佩德罗索教授的课，我被内容迷住了，而其他人则对写在黑板上的所有数字和多项式感到厌烦。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/74357619f633a23e08e89141d5ab79fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:344/format:webp/1*bhcpGpon8XcmUzU-69wUKA.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">若昂·佩德罗·佩德罗索教授(波尔图大学)。我遇到过的最好的老师。</figcaption></figure><p id="618b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那些方程式改变了我的生活。事实上，你可以将一个问题建模为一组等式和不等式，然后让一个算法找到最佳可能的解决方案，这是令人兴奋的。在我获得理学学士学位并开始找工作后，我会在面试中告诉每个人我有关于线性规划和试探法的技能，大多数面试官会看着我，问我在说什么。幸运的是，在为一家位于葡萄牙的名为Waterdog的软件公司工作时，我有机会独自面对一个优化项目。他们说“你告诉我们你擅长算法之类的，做这个吧”，我面临着一个通量优化问题，没有公司其他任何人的帮助，没有论文要读，什么都没有。我解决了这个问题，这也是我如何在以移动为导向的公司找到下两份工作的原因。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jp"><img src="../Images/576f88ecd90953f44d267ef764642e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sq3nHkejrtWQYC8mm_PiSw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">大西部铁路(GWR)的铁路图，可以使用整数规划作为成本最小化问题来生成</figcaption></figure><h2 id="5524" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated"><strong class="ak"> <em class="kp">这一系列博文会由哪些内容组成？</em>T3】</strong></h2><p id="201c" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">我将包括一些关于一般图论问题的教程，如最短路径、最小生成树、旅行推销员和流量问题，包括每个解决方案的Python代码，并在本系列的最后，展示如何编写一个完整的拼车优化解决方案。</p><h2 id="bb9c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated"><strong class="ak">T5什么是整数编程？ </strong></h2><p id="d910" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">整数规划是使用整数变量的线性规划的子集。简单地说，线性规划是一种优化方法，在这种方法中，您编写一个优化函数和一组算法约束，以找到一个具有优化函数的最高(或最低，我们将达到该值)值的解决方案，或者告诉您该问题的解决方案不存在。所有函数必须是1次或零次多项式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kv"><img src="../Images/71a0ce7bb4fcafe0fd0ad07b40fd091b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIQk2EOV2cRv_hsJzyiE4g.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">仅使用两个变量的线性规划模型和解决方案的可视化表示。</figcaption></figure><p id="0b96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个线性规划的例子:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="bedb" class="ju jv hi kx b fi lb lc l ld le">Optimization Function ( z ) = 7*x + 5*y , to maximize</span><span id="ca6c" class="ju jv hi kx b fi lf lc l ld le">where:</span><span id="e2ba" class="ju jv hi kx b fi lf lc l ld le">x + y ≤ 60</span><span id="5ba2" class="ju jv hi kx b fi lf lc l ld le">2x + 0.6y ≤ 65</span><span id="f958" class="ju jv hi kx b fi lf lc l ld le">x ≤ 30 and y ≤55 and x ≥ 0 and y ≥ 0</span></pre><p id="d0f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们通过线性规划求解器运行这个问题，我们会发现解x=20.714286和y=39.285714使优化函数最大化，达到341.428572的值。</p><p id="d665" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是使用PuLP解决这个问题的Python代码:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lg lh l"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">LP模型的Python代码，使用了PuLP包</figcaption></figure><p id="c25e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了明确起见，我们不能编写如下优化函数:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="b9eb" class="ju jv hi kx b fi lb lc l ld le">z = x*y</span></pre><p id="ca7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此函数不是一阶或零阶的多项式函数，因此不允许使用。这是编写LP模型时的一个大问题，有些问题根本无法用LP来解决。</p><h2 id="18f8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">一个整数规划的例子，背包问题:</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es li"><img src="../Images/d1a1f3a0269b7559b4c676747aa14e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RXdeoZrOePbBvwvgMLl-7g.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">我们能把这些都装进背包里吗？如果没有，我们带什么物品？整数规划可以解决这个！</figcaption></figure><p id="8721" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们想象一下，在新冠肺炎疫情期间，你要为你的家人去杂货店购物。你带着你的背包，但是你的背包只能承受这么多的重量而不会撕裂自己。你需要仔细选择购买哪些物品。</p><p id="4b19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简化起见，每个项目都有一个重要性值和一个权重值。这些项目如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lj"><img src="../Images/91d4b180daad1a3e84ba36760e7ece20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ru9w1XrrgxTfy3awW2UjA.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">数据这个问题要用整数规划来解决</figcaption></figure><p id="4ee0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的包只能装50公斤。你应该购买哪些物品？</p><p id="1e8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个场景中，我们的变量只能是整数(因为我们不能购买半罐金枪鱼)，所以我们必须这样定义它们。目标函数是所有变量之和乘以各自的重要性值，约束条件是变量之和乘以各自的权重小于或等于背包的重量限制。</p><p id="7d1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以这样模拟这个问题:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lg lh l"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">IP模型的Python代码</figcaption></figure><p id="0302" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个问题的解决方案是2个金枪鱼罐头，零瓶水和10个米袋，达到86的目标。</p><h2 id="b741" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">当我们有其他方法时，为什么要使用整数规划？</h2><p id="03d2" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">这是一个很好的观点。我们使用IP通过对目标函数和约束进行建模来解决问题，并且我们总是可以添加更多的约束！本系列将解决的问题之一是最短路径问题(请继续关注，这将在下一集介绍)，使用Djikstra的算法可以轻松解决该问题。但是，如果你从城市A开车到城市B，说“哦，我想检查一下刚刚建成的新道路，但是我不希望在我的整个路径上有任何重复的道路或街道”，你可能需要Dijkstra从坟墓里跳出来帮助你，或者你可以使用整数编程！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lk"><img src="../Images/1d29905cff8655edb05855ccb02269f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*9jtHOVZtdQnSU1DUo1AK0Q.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">年轻的埃德格·迪克斯特拉</figcaption></figure><p id="abb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其他一些问题，像旅行推销员，没有任何保证最优解的算法(他们有的只是启发式)，但是LP和IP保证了最优解。</p><p id="5916" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我看来，学习IP是一种可能在你最意想不到的时候派上用场的技能。如果你想与众不同，就不要学别人都在学的东西。</p><h2 id="8314" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">下一集:最短路径问题和BigN</h2><div class="ll lm ez fb ln lo"><a rel="noopener follow" target="_blank" href="/@alexbrou/integer-programming-for-graph-theory-and-others-with-python-02-shortest-path-bign-4c359493b734"><div class="lp ab dw"><div class="lq ab lr cl cj ls"><h2 class="bd hj fi z dy lt ea eb lu ed ef hh bi translated">用Python实现图论及其他的整数编程:02 —最短路径/ BigN</h2><div class="lv l"><h3 class="bd b fi z dy lt ea eb lu ed ef dx translated">在本系列的前一篇博文中，我们讨论了什么是整数规划以及如何用它来解决背包问题…</h3></div><div class="lw l"><p class="bd b fp z dy lt ea eb lu ed ef dx translated">medium.com</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc jj lo"/></div></div></a></div></div></div>    
</body>
</html>