<html>
<head>
<title>Data Visualization using Matplotlib and Seaborn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matplotlib和Seaborn实现数据可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-visualization-using-matplotlib-and-seaborn-bf81065e6c5?source=collection_archive---------9-----------------------#2020-10-09">https://medium.com/analytics-vidhya/data-visualization-using-matplotlib-and-seaborn-bf81065e6c5?source=collection_archive---------9-----------------------#2020-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e82b5b60fb3015e6d190025a20fbebf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2XrzrbVyBaue9AQW.jpeg"/></div></div></figure><p id="2d6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">什么是数据可视化？</strong></p><p id="1dd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当今世界大量数据无处不在。数据每天都在增加。我们可以从手机上实时看到。利用社交媒体、邮件，银行交易日益增多。是否可以用形式化的表示方式来查看海量数据？是的，我们可以通过数据可视化来实现。数据可视化是数据的图形化表示。在大数据世界中，有几种数据可视化工具能够分析用于决策的海量数据。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/11d1f7b5e6f3f0a70910632b53faec8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ff2ZbYrDakDccpDN.jpg"/></div></div></figure><p id="b1c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天，我们将使用来自<a class="ae jt" href="https://archive.ics.uci.edu/ml/datasets.php" rel="noopener ugc nofollow" target="_blank"> UCI </a>的数据集实现数据可视化。</p><p id="7d01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们开始…</p><p id="fd13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从下面的链接下载数据集。</p><p id="f474" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://archive.ics.uci.edu/ml/machine-learning-databases/00222/" rel="noopener ugc nofollow" target="_blank">银行营销</a></p><p id="f8bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">加载数据帧中的数据</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="092f" class="jz ka hi jv b fi kb kc l kd ke">df = pd.read_csv(r'\Dataset\bank-full.csv', sep=';')<br/>df</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/e70afb01c1fbe02d5875880869e73e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iFbY0QpUPPJqULvw.png"/></div></div></figure><p id="95cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">银行营销数据集</p><p id="1f37" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Matplotlib </strong></p><p id="3849" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">直方图</strong></p><p id="7d99" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个<strong class="is hj">直方图</strong>是一个<strong class="is hj">图表</strong>，它将数字数据分组到多个条块中，将这些条块显示为分段的列。它们用于描述数据集的分布:值落入范围的频率。</p><p id="1272" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用直方图，我们可以看到大约39000人持有余额为0。其中5000人拥有大约15000人。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="8daf" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>['balance'].plot(kind='hist')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/37105cbe1d768928645a3530322ddb46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/0*wpk-Rp-R5rf_2xnc.png"/></div></figure><p id="b48c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跨定价参数的直方图</p><p id="c037" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">饼状图</strong></p><p id="8408" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来决定哪份工作工资高。</p><p id="1a74" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">需要创建的数据集基本上在工作分组和平衡如下</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="a16a" class="jz ka hi jv b fi kb kc l kd ke">df_group = df.groupby(['job'])['balance'].sum()</span></pre><p id="3871" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用饼图绘制数据</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="491e" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df_group</strong>.plot.pie(figsize=(10,20), autopct="%.2f")</span></pre><p id="1657" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">管理人员收入高，其次是蓝领工作。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/26da6882d6fdfe560fa5170f73d9f5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5E0YJZ4sxgglP78J.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">馅饼</figcaption></figure><p id="94d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一个有趣的问题是，确定贷款人数</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="3e18" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>['loan'].value_counts(normalize=True).plot(kind='pie', autopct="%.1f")</span></pre><p id="2a41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大约16%的人接受了银行贷款。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es km"><img src="../Images/11e3b993863cbb917178401e287293c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/0*BG57DX-EpJY4WtXS.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">馅饼</figcaption></figure><p id="2aea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">计数</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="bf22" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">plt</strong>.figure(figsize=(20,10))<br/><strong class="jv hj">plt</strong>.xticks(rotation=90)<br/><strong class="jv hj">df</strong>.job.value_counts().plot(kind='barh')</span></pre><p id="d540" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谁承担了大部分工作或需求工作？很明显，蓝领工作占了大部分。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/ec40dbd0f3e3d21beacc497f2e4cdca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KfMpsG-tdc-gvkn1.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">数数</figcaption></figure><p id="72a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">条形图</strong></p><p id="d6bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确定哪种教育支付更好的平衡。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="d286" class="jz ka hi jv b fi kb kc l kd ke">df_loan = df.groupby(['education'])['balance'].sum().reset_index()</span><span id="5707" class="jz ka hi jv b fi ko kc l kd ke">df_loan.plot.bar(x='education', y='balance')</span></pre><p id="f346" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从剧情来看，二次元和三次元玩的比较平衡</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kp"><img src="../Images/3584d184bca0e658c87ca9a92b8af3fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/0*s0-KEg_r1qDzsadd.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">条形图</figcaption></figure><p id="0129" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Seaborn </strong></p><p id="29ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">猫图</strong></p><p id="03ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此函数提供对几个轴级函数的访问，这些函数使用几个可视化表示中的一个来显示数字和一个或多个分类变量之间的关系。</p><p id="7959" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从数据集中，首先将余额大于100的人分组</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="e4a5" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">greater_100_balance</strong> = df[df['balance'] &gt; 100]<br/>greater_100_balance</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/6d6960ced56a60e72c5b85880fca247f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kXe71Ulb7KBZ1wMj.png"/></div></div></figure><p id="8605" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">余额大于100英镑</p><p id="c517" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按如下方式将余额分配给每个婚姻状态的月份。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="efe2" class="jz ka hi jv b fi kb kc l kd ke">sns.catplot(x='month', y='balance', col='marital', <strong class="jv hj">data</strong>=greater_100_balance, kind='bar')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/a112576eb1a8fdae626b778c12f6704c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YGXSCpObISjlgShk.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">猫图</figcaption></figure><p id="612f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">配对图</strong></p><p id="0096" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在数据集中绘制成对关系。</p><p id="14ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">默认情况下，该函数将创建一个轴网格，这样数据中的每个数值变量将在单行的y轴上共享，在单列的x轴上共享。对角图的处理方式不同:绘制一个单变量分布图来显示每一列中数据的边际分布。</p><p id="7e7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也可以显示变量的子集，或者在行和列上绘制不同的变量。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="5565" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">sns</strong>.pairplot(<strong class="jv hj">df</strong>)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/d816a8cd71456eff4de108c23728ff10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fiLXnrJEOBmehRnI.png"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">配对图</figcaption></figure><p id="8e56" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">计数图</strong></p><p id="6318" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用条形图显示每个分类箱中的观察计数。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="6767" class="jz ka hi jv b fi kb kc l kd ke">sns.countplot(x='housing', <strong class="jv hj">data</strong>=df)</span></pre><p id="8a7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确定拥有住房的人数。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/5ece60432c9626aff181eb4e0117ac86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/0*bT31tuMtuecKQOt2.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">计数图</figcaption></figure><p id="0ad3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">散点图</strong></p><p id="d8a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用<code class="du ku kv kw jv b">hue</code>、<code class="du ku kv kw jv b">size</code>和<code class="du ku kv kw jv b">style</code>参数，可以显示不同数据子集的<code class="du ku kv kw jv b">x</code>和<code class="du ku kv kw jv b">y</code>之间的关系。这些参数控制使用什么视觉语义来识别不同的子集。通过使用所有三种语义类型，可以独立地显示多达三个维度，但是这种类型的情节可能很难解释，并且通常是无效的。使用冗余语义(即同一个变量的<code class="du ku kv kw jv b">hue</code>和<code class="du ku kv kw jv b">style</code>)有助于使图形更易访问。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="43a7" class="jz ka hi jv b fi kb kc l kd ke">sns.scatterplot(x='age', y='balance', <strong class="jv hj">data</strong>=df)</span></pre><p id="0b62" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">50岁的人有更高的平衡感。50-60岁之间可以看到平衡的顶峰。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/1a1ea233cec2b3c33500d3890026c719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/0*PDefpg45Y2pv-80d.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">散点图</figcaption></figure><p id="2782" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">重新绘制</strong></p><p id="b3f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用色调、大小和样式参数，可以为不同的数据子集显示x和y之间的关系。这些参数控制使用什么视觉语义来识别不同的子集。通过使用所有三种语义类型，可以独立地显示多达三个维度，但是这种类型的情节可能很难解释，并且通常是无效的。使用冗余语义(即同一变量的色调和样式)有助于使图形更容易理解。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="848b" class="jz ka hi jv b fi kb kc l kd ke">sns.relplot(x='day', y='balance', <strong class="jv hj">data</strong>=df, hue='month')</span></pre><p id="7a6a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6月3日的存款余额高于11月。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/1003537e0462592bcda43b7dfd7a337a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/0*5SyWSiSEhKdiTqGF.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">重新绘图</figcaption></figure><p id="8ddf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">接头图</strong></p><p id="3864" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用二元图和一元图画一个二元图。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="6813" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">sns</strong>.jointplot(x=df['day'], y=df['balance'])</span></pre><p id="b08c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的错误是使用joinyplot实现的。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/aa97f92d310a27faba79ab0485dcc74f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/0*W7UhaIXuftOND9Nn.png"/></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">接合图</figcaption></figure><p id="79cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">参考资料:</p><p id="3eec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://seaborn.pydata.org/index.html" rel="noopener ugc nofollow" target="_blank"> Seaborn </a></p><p id="9f9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a></p></div></div>    
</body>
</html>