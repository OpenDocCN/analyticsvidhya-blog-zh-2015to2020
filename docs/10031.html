<html>
<head>
<title>Comparing GPU performance for Deep Learning between Linux, and Windows.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较 Linux 和 Windows 之间深度学习的 GPU 性能。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/comparing-gpu-performance-for-deep-learning-between-pop-os-ubuntu-and-windows-69aa3973cc1f?source=collection_archive---------2-----------------------#2020-10-01">https://medium.com/analytics-vidhya/comparing-gpu-performance-for-deep-learning-between-pop-os-ubuntu-and-windows-69aa3973cc1f?source=collection_archive---------2-----------------------#2020-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9324" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">有关系吗？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d8ce4cb7aed815704574dfcb5afc23df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rqVLOmrOYmf68shdk4Tbg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">对峙</figcaption></figure><h1 id="a645" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">介绍</h1><p id="d9f0" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">作为一个深度学习爱好者，我总是发现自己被同一个问题所困扰。<strong class="kh hj"> <em class="lb">深度学习应该选择哪个 OS？</em> </strong>随之而来的问题是:我应该选择 Windows，还是 Linux？如果是 Linux，那么是什么发行版？</p><p id="1088" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">有些人认为，在 2020 年的今天，你选择 Windows 还是 Linux 并不重要；如果你决定使用 Linux，你选择哪个 Linux 发行版并不重要。如果您在搜索我应该为 ML/DL 选择什么操作系统，下面是您得到的一些答案:</p><ul class=""><li id="7466" class="lh li hi kh b ki lc kl ld ko lj ks lk kw ll la lm ln lo lp bi translated"><em class="lb">没关系。</em></li><li id="65f7" class="lh li hi kh b ki lq kl lr ko ls ks lt kw lu la lm ln lo lp bi translated">Linux，因为大多数库和工具都是先移植到 Linux 的。</li><li id="3aa4" class="lh li hi kh b ki lq kl lr ko ls ks lt kw lu la lm ln lo lp bi translated"><em class="lb">让 CUDA 和 CuDNN 与 Windows 一起工作是一件麻烦事。</em></li></ul><p id="34a5" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">现在有了 WSL (Windows Subsystem for Linux)，可以直接在 Windows 10 中运行任何 Linux 发行版，而不需要专门的虚拟机(Virtual Box 等)。).微软正在与英伟达密切合作，将 GPU 计算引入 WSL2。它已经可以在 Windows Insider 程序中预览。我真的很期待。你可以在这里 阅读更多关于这个<a class="ae lv" href="https://developer.nvidia.com/blog/announcing-cuda-on-windows-subsystem-for-linux-2/" rel="noopener ugc nofollow" target="_blank"> <em class="lb">的内容。</em></a></p><p id="ee97" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">因为我没有找到任何有助于比较性能的答案，所以我决定自己来做。因此，我写了这篇文章。随着最近流行音乐的流行！_OS，我选择它作为我的 Linux 发行版进行比较。在这篇文章中，我将在 Pop 上运行相同的模型！_OS 和 Windows 10。根据配置的不同，不同电脑的性能也会有所不同。</p><h2 id="a686" class="lw jo hi bd jp lx ly lz jt ma mb mc jx ko md me jz ks mf mg kb kw mh mi kd mj bi translated">我的系统配置(外星人极光 R9):</h2><ul class=""><li id="be61" class="lh li hi kh b ki kj kl km ko mk ks ml kw mm la lm ln lo lp bi translated"><strong class="kh hj">处理器:英特尔酷睿 i7–9700 @ 3.00 GHz(内核:8 个，线程:8 个)</strong></li><li id="6da5" class="lh li hi kh b ki lq kl lr ko ls ks lt kw lu la lm ln lo lp bi translated"><strong class="kh hj">内存:16 GB DDR4 (8x2) </strong></li><li id="38f0" class="lh li hi kh b ki lq kl lr ko ls ks lt kw lu la lm ln lo lp bi translated"><strong class="kh hj">显卡:英伟达 GeForce RTX 2060 (6GB) </strong></li></ul><p id="1d6d" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">我知道人们会说 RTX 2060 不适合机器学习，试试 2070、2080 或 2080 Ti，但我没有足够的钱投资新的钻机。</p><p id="50e2" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">我不打算详细介绍如何设置环境和下载库，因为如果你正在阅读这篇文章，我相信你已经走在了前面。</p><p id="81a7" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated"><strong class="kh hj"> <em class="lb">注</em> </strong>:我最喜欢使用 Anaconda 作为我的主要 Python 发行版。因此，用<em class="lb"> cuda-toolkit </em>和<em class="lb"> cudnn </em>设置 Tensorflow 只需要一行代码:<em class="lb">conda install tensor flow-GPU =(* version *)。这在任何操作系统上都有效。</em></p><p id="dc28" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">以前，使用**conda install**可以完美地工作。最近，我遇到了问题，不得不单独安装所有的东西。我很快会发布一篇关于在 Windows 10 上安装 TensorFlow、cuda-toolkit 和 cudnn(有多个版本)的新文章。</p><h1 id="924b" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">数据集和模型摘要</h1><p id="9460" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">由于这只是一个性能对比，所以我就不把重点放在车型和有多好上了。不过，我打算很快用 Tensorflow 2.x 发布一篇关于图像分类的文章。测试比较基于两个图像数据集，即猫-狗-熊猫和 ASL(美国手语)。</p><p id="61dc" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">猫狗熊猫各有 1000 张图片。我将这些数据分成 2400 张图片用于训练，525 张用于验证，75 张用于测试(预测)。另一方面，ASL 有 29 个不同类别的 3000 张图片(每张)用于训练，其中我取了 450 张用于验证。测试包含 29 个图像，每个类别一个。</p><div class="iy iz ja jb fd ab cb"><figure class="mn jc mo mp mq mr ms paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/b032d336a50c0ee3ca03b7c25db76e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*xYrUbJ4aHTJyq260tV3Abw.jpeg"/></div></figure><figure class="mn jc mt mp mq mr ms paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/0f97cb3b2fc6c6de7362131b5a6b4216.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*xPeQ4hg6A-AkvN4nUbjCzg.jpeg"/></div></figure><figure class="mn jc mu mp mq mr ms paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><img src="../Images/db3cb13eb053b6d9d676e10c2dae3397.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*mRi5XzCcSFJwfTqWw3pdrQ.jpeg"/></div><figcaption class="jj jk et er es jl jm bd b be z dx mv di mw mx translated">猫、狗和熊猫数据集中的例子</figcaption></figure></div><div class="ab cb"><figure class="mn jc my mp mq mr ms paragraph-image"><img src="../Images/8070587d4d7444ea85133cfa5bb85beb.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*tNtpVaQ881iwZ1UCL9V7jQ.jpeg"/></figure><figure class="mn jc my mp mq mr ms paragraph-image"><img src="../Images/6c0433363239c40f4bfd1be404d85e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*sSA6MagCWmVPzW2raib7LA.jpeg"/></figure><figure class="mn jc my mp mq mr ms paragraph-image"><img src="../Images/32a43373a48e496cdb19878f8942567e.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*mKulfqDhdQW1vS5v0pij5Q.jpeg"/><figcaption class="jj jk et er es jl jm bd b be z dx mz di na mx translated">来自美国手语数据集的示例</figcaption></figure></div><p id="e3a3" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">我决定测试三个不同的模型，并对两个数据集使用相同的模型，从浅层卷积网络到深层网络。</p><p id="eba2" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">以下是所用模型的总结:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/8873e0dd1730b8cb6bd38c0e9f74e668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*_TyFCVdtqWSzyy2JNlx45A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模型 1</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nc"><img src="../Images/af55772d86efa4203ad0942eadb52bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*A8MmtDyqTP0zv1PJwJv1Xg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模型 2</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nd"><img src="../Images/f7871ca908764ed7149bb29fd2590cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*STK7sauIrryc7v6AAkiz6Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模型 3</figcaption></figure><h1 id="5469" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">结果</h1><p id="175a" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">我训练了一百个纪元的模型，下表显示了 GPU 在两种操作系统上训练模型所用时间的性能比较。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/3cd51bfe594ee3361bd2851405316345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qPpuiUu8rLp322_7LllGSA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">训练 100 个时期的模型所花费的时间</figcaption></figure><h1 id="6b5c" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">结论</h1><p id="4990" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">如果我们考虑上面的结果，模型在操作系统上训练所用的时间似乎没有太大的差别。是的，模特们接受过流行音乐的训练！_ 操作系统比 Windows 10 更快。但是，对于小型数据集和模型，我不认为这有多大关系。</p><p id="0745" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">在我看来，如果你习惯于把 Linux 作为你的日常驱动，它会帮你节省一些时间，而且你还会得到额外的好处，那就是尽早更新软件包和驱动。另一方面，对于不太适应 Linux 的人来说，Windows 10 也不远了。此外，如前所述，使用 WSL2(不久 GPU 计算也将使用 WSL2)，我个人会继续使用 Windows，因为这让我感觉更舒服，而且我可以同时拥有两种操作系统的额外功能。</p><h2 id="e3b6" class="lw jo hi bd jp lx ly lz jt ma mb mc jx ko md me jz ks mf mg kb kw mh mi kd mj bi translated">封面图片参考:</h2><p id="36be" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">Windows 10 壁纸:<a class="ae lv" href="https://venturebeat.com/2019/08/16/microsoft-releases-new-windows-10-preview-with-task-manager-virtual-desktop-and-mouse-cursor-improvements/" rel="noopener ugc nofollow" target="_blank">https://venturebeat . com/2019/08/16/Microsoft-releases-new-windows-10-preview-with-task-manager-virtual-desktop-and-mouse-cursor-improvements/</a></p><p id="37a0" class="pw-post-body-paragraph kf kg hi kh b ki lc ij kk kl ld im kn ko le kq kr ks lf ku kv kw lg ky kz la hb bi translated">砰！_ OS:【https://github.com/pop-os/system76-wallpapers/issues/1 T4】</p></div></div>    
</body>
</html>