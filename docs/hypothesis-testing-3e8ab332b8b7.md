# 假设检验完全指南

> 原文：<https://medium.com/analytics-vidhya/hypothesis-testing-3e8ab332b8b7?source=collection_archive---------4----------------------->

![](img/15343280441278d09c13ccbf90f6ff74.png)

图像[来源](https://www.google.com/imgres?imgurl=https%3A%2F%2F365datascience.com%2Fwp-content%2Fuploads%2F2018%2F11%2Fimage3-2.jpg&imgrefurl=https%3A%2F%2F365datascience.com%2Fnull-hypothesis%2F&docid=_yZRYrpR8WzkeM&tbnid=EV_yYZsb4diY_M%3A&vet=10ahUKEwj0jYSt99_kAhVGfisKHXU2AA0QMwirASglMCU..i&w=1311&h=659&bih=610&biw=1280&q=hypothesis%20testing&ved=0ahUKEwj0jYSt99_kAhVGfisKHXU2AA0QMwirASglMCU&iact=mrc&uact=8)

假设检验是统计学中最重要的课题之一。基于假设检验，公司可以做出重大的商业决策。因此，很好地理解这个话题将有助于你在这个行业做出正确的商业决策。

在直接跳到假设检验之前，需要明确一些概念，以便清楚地理解它。所以我会一步一步地举一些你能联系到的现实生活中的例子，我会尽可能地简化话题。

# **目录:**

1.  中心极限定理
2.  置信区间
3.  假设检验

## **1。中心极限定理**

中心极限定理是统计学中最基本的概念之一。定理说

> ***当 n 趋于无穷大*** 时，总体抽样分布的样本均值将遵循均值为μ、标准差为σ/sqrt(n)的正态分布(其中μ为总体均值，σ为总体标准差)。

第一次读完这个定理后，我想

![](img/721bf2404bc7ddc56091fe407bd1ea8c.png)

图像[来源](https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwiB5LOu39_kAhXWfSsKHcVDAgYQjRx6BAgBEAQ&url=http%3A%2F%2Foktruebelievers.com%2Fhauntednerd%2F2015%2F9%2F29%2Fso-what-is-going-on-at-true-believers-2016&psig=AOvVaw2DQpC1t5GSfDmjhkoixmm6&ust=1569080672316909)

我想几乎每个人都是如此。让我们把这个定义分成几个部分，以便更清楚地理解它。

第一件事是**什么是正态分布，为什么我们希望一切都是正态分布**？自然界中大多数变量的概率分布都近似服从正态分布。例如，如果你测量世界上所有人的身高，它将近似服从正态分布。让我们看看正态分布是什么样子的

![](img/d2bda09501378aca9c56797ae5ea9ee8.png)

图像[来源](https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwjDjMSJ99_kAhXPZCsKHUvIDlgQjRx6BAgBEAQ&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FStandard_deviation&psig=AOvVaw3JVM01njkAMQIWpcryiwT8&ust=1569087088354051)

从该图可以清楚地看出，正态分布是:

*   两边对称
*   1 与平均值的标准偏差(σ),涵盖 68%的数据，
*   平均值的 2 个标准偏差，涵盖了 95.4%的数据，并且
*   在平均值的 3 个标准差中，它覆盖了 99.7%的数据。

在上图中，平均值由 *x* 表示，标准差由*σ*(σ)表示。标准差是指数值离平均值有多远。如果标准差很高，你可以说数值远离平均值，如果标准差很低，你可以说数值更接近平均值。让我们看一个例子，它会更清楚。

***问:假设你的一个朋友问你“嘿，我是一名大一新生，你能告诉我如果我在印度的海德拉巴成为一名软件工程师，我大概能拿到多少薪水吗？***

答:这是许多即将成为软件工程师的学生想知道的问题。让我们假设你知道在海德拉巴作为软件工程师工作的大一新生的工资遵循均值(μ) 30K 和标准差(σ) 2K 的正态分布。有了这些信息，你可以告诉你的朋友“嘿，我不知道你会得到多少，但我可以告诉你，有 95%的可能性你会得到 26K 到 34K 之间的薪水”(因为我知道，如果分布是正态分布，均值的 2 σ覆盖了 95%的数据)。

因此，使用正态分布，我们可以给出一些有价值的数据信息。正态分布非常非常重要，因为没有其他分布具有 1σ，2σ，3σ性质。

下一个概念是总体和样本。下面是解释人口和样本的图片:

![](img/b5aa81621465135fd6ea7d09ed9a952d.png)

假设我们在一个盒子里有 500 个球。我从中随机抽取 50 个球。对于这个例子，500 个球是总体，我随机抽取的 50 个球称为样本。人口可以是有限的，也可以是无限的。如果你想了解更多关于样本和人口的信息，这里是[链接](http://www.statistics4u.com/fundstat_eng/cc_population.html)。

现在让我们深入到中心极限定理(CLT)，因为我们已经讨论了人口，样本和正态分布。CLT 从总体上说(总体可以遵循任何分布)，如果我们收集大小为 m 的样本的数量，如果我们在 x 轴上绘制所有样本的平均值，它将遵循正态分布，当我们采样的样本数量为无穷大时，其平均值将与总体的平均值相同，其标准偏差将与σ/sqrt(n)相同(其中σ是总体标准偏差)。 ***但是在实际场景中，观察到如果样本数量大于 30，则遵循正态分布*** 。现在让我们看一个例子。

我已经从 this [链接](https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2019/05/Clt-data.csv)中收集了数据集。该数据集包含 9000 行，其中一列是“壁厚”。因此，在这个例子中，9000 将是人口。然后我绘制一个“壁厚”直方图。

![](img/0dc97a18e6802f4359da162e1975d58a.png)

我们可以看到，壁厚从 12.4 到 13.2 不等。 ***还有你能告诉我它遵循哪个分布吗。看起来是那种均匀分布的*** 。发现总体的均值为 12.802，方差为 0.0837。然后我从这个群体中抽取 100 个样本，每个样本的大小为 100。对于 100 个样本，我计算平均值和方差。

```
#clt is the dataframe
mean_sam=[]
for i in range(100):#taking 100 samples
    sample = clt.sample(n=100)#Each sample of size 100
    mean_sam.append(np.mean(sample['Wall Thickness']))#Mean sample
```

然后我画出 100 个平均值的分布。你认为它会是什么样子？请记住，CLT 的所有条件都得到满足:

1)总体可以来自任何分布，在我们的例子中它是一种均匀分布。

2)我们抽取了 100 个样本，每个样本大小为 100(大于 30)。

3)现在，如果我们画出所有平均值的分布，它应该看起来接近正态分布

让我们看看:

![](img/c40b29646e39dd12147e70dc15d3cb29.png)

它看起来像我们上面讨论的图形吗？是的，它接近正态分布。平均值是 12.08，与总体平均值相同，方差是 0.0006，与总体方差/n 相同，在我们的例子中，n 是 100。

## **2。置信区间**

在直接进入置信区间之前，让我们看一个简单的真实例子。假设市场研究主管需要一个汽车电池平均寿命的月估计值。作为一名数据科学家，现在你有责任对此做出报告。所以你去汽车展厅，你会看到他们每天都在生产大约 1000 块电池。如果你把所有的电池，并计算其平均寿命，这将需要你的整个生命来计算，因为人口是巨大的(这种情况经常出现在现实生活中，所以我们不能把人口作为考虑因素)。所以我随机选择了 200 个电池样本，并计算它的平均寿命。我发现是 36 个月(叫做点估计)。我向主任报告，我计算了一下，结果是 36 个月。总监说 ***不要给我点估计，因为你只拿了*** ***一些随机样本来计算电池的平均寿命。你怎么知道人口平均数是 36 个月？(可以比那个多也可以比它少)*** 。在这种情况下，置信区间就出现了。

让我们通过上面的例子来找到置信区间。给出的一个附加信息是总体的标准偏差是 10。因为 CLT 的计算概念是非常需要的，我们已经在上面简单地讨论过了。

![](img/7b7df6810e7bfd244a908ab8d7d5cd9b.png)

标准差的计算非常简单

![](img/d3630bf9f5f6104aff23d3022d191d40.png)

我们可以说，从上面的计算，我有 95.5%的信心，平均电池寿命的人口将位于 34.586 至 37.414 个月。既然我们给的是一个置信水平和一个区间，就叫置信区间。因此，从理论上讲，如果我们从总体中随机选择 1000 个样本，并围绕每个样本的平均值构建一个正负 2 **标准差**的区间，则这些区间中约有 955 个将包含总体平均值。

## **3。假设检验**

现在我们有了理解假设检验的所有概念。根据 [investopedia](https://www.investopedia.com/terms/h/hypothesistesting.asp) 的定义

> ***假设检验是统计学中的一种行为，分析师通过这种行为检验关于总体参数的假设。分析师采用的方法取决于所用数据的性质和分析的原因。假设检验用于推断对来自较大总体的样本数据执行的假设的结果。***

有两种假设

1)零假设(由 H0 表示)

2)替代假设(由 H1 表示)

***零假设:***

简单地说，样本和总体平均值之间的差异是由于随机机会造成的。

***备选假设:***

在替代假设中，我们试图拒绝零假设，说样本和总体之间存在显著差异，这不是由于**随机机会**。

现在让我们通过一个例子来理解什么是随机机会，并在此基础上，我们如何决定拒绝或保留原假设。

q)肥胖患者的血糖水平平均值为 100，标准差为 15。一名研究人员认为，富含生玉米淀粉的饮食对血糖水平有积极影响。36 名尝试过生玉米淀粉饮食的患者样本的平均葡萄糖水平为 108。检验生玉米淀粉是否有影响的假设。

答:根据零假设的定义，血糖 108 的平均值是随机发生的(意味着我们选择的样本具有高的血糖水平)。另一种假设会说“不，它对血糖水平有影响，并且它不是由于随机机会而发生的”。现在我们有责任进行研究，并指出哪个假设是正确的。这里

H0:mu=100

H1:mu>100(我们取了大于，因为研究人员说它对血糖水平有影响)

现在计算随机机会概率意味着，由于随机机会而发生的概率是多少。为了计算随机机会概率，我们首先计算 Z 值，并使用该 Z 值来计算随机机会概率。

![](img/a1be3dad37f7e5c9d1338e6e0d9e2645.png)

从 Z 表中我们发现 3.20 对应于 0.9993。你可以在这里找到 Z 表[。由此我们可以说，我们有 99.93%的信心认为它会产生影响，或者说，它发生的概率是 1–0.9993 = 0.0007，这是随机发生的。现在根据观察，我们是拒绝零假设还是接受零假设。因此，我们在做研究之前设定一个概率值，如果我们的概率值低于这个值，我们将拒绝零假设。](http://www.z-table.com/)

在进行研究之前设置概率值称为**显著性水平**，1-显著性水平称为**置信水平**，类似于置信区间。重要性级别的设置在本质上是相当主观的，它因领域而异。最常见的显著性水平设定为 5%、1%、10%。如果在上述实施例中将显著性水平设定为 1%,在这种情况下，我们拒绝了无效假设，并确认生玉米淀粉饮食对肥胖患者的血糖水平具有+ve 效应，因为我们的概率值 0.0007 小于 0.001。从统计学的角度来说，我们可以说“我们已经在 1%的显著性水平上拒绝了零假设”。

好的，我们在上面的例子中所做的是方向假设，意思是我们在一个方向上测试了假设(> 100)。在其他一些情况下，我们可能需要在两个方向上检验假设，这就叫做非方向性假设检验。这与我们在方向假设中看到的过程完全相同，但有一点不同。让我们看看不同之处:

假设的首次构建

H0:mu=100

H1:mu 不等于 100(意味着它可能小于或大于)

如果我们检查的是 1%的显著性，那么它会在两边都分裂为 0.5%的显著性水平。在统计学中，方向假设检验称为单尾检验，非方向假设检验称为双尾检验。

![](img/8da4c217a90d6d762ab8a69a349181ed.png)

图像[来源](https://www.analyticsvidhya.com/blog/2015/09/hypothesis-testing-explained/)

既然我们已经学习了单尾检验和双尾检验的概念，你们中的一些人可能不确定什么时候我们应该做哪个检验。

![](img/4ba974ce5854fc7b5368d16eb22120cf.png)

图像[来源](https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwi8zK_EtOHkAhUQOisKHSC3DVkQjRx6BAgBEAQ&url=https%3A%2F%2Fseleniumjava.com%2F2017%2F12%2F23%2Fyou-dont-need-static-driver-or-static-methods%2F&psig=AOvVaw2mMDIAzy_7dtlk4hWpeZhd&ust=1569137795845825)

让我给你两个真实世界的案例，你会知道在哪个场景下你必须做哪个测试。

1.  **对于双尾检验:**

假设一个灯泡制造商想要生产平均寿命为 1000 小时的灯泡。如果生命时间更短，他将失去竞争对手。如果寿命更长，他将具有非常高的生产成本，因为细丝过粗。为了看到他的产品正常工作，他对一些灯泡进行了采样，并设定假设为

H0:平均= 1000 小时

H1:意思是不等于 1000 小时

他对两种情况都进行了测试，这意味着他在做双尾假设测试。

2.**对于单尾测试:**

考虑这样一种情况，一个批发商从那个制造商那里购买灯泡。批发商大量购买灯泡，并且不想接受大量灯泡，除非它们的平均寿命是 1000 小时。所以假设为

H0:平均值= 1000 小时

H1:意思是 1000 小时，因为如果超过 1000 小时，他就不生产灯泡了。但是如果少于 1000 小时，就会影响到他，因为他会失去顾客。所以他去做了一个尾部测试。

因此，对于这个真实世界的例子，我很确定你明白在哪里使用哪种测试。

因此，感谢读者阅读我的博客，希望你喜欢它，并随时欢迎任何改进的建议。我相信你现在已经牢牢掌握了中心极限定理、置信区间、假设检验，并使用这些概念来做商业决策。此外，试着解决一些关于假设检验的问题——你会更清楚地了解这个概念。我读过一本由克里斯托弗·多尔蒂写的很棒的书，这是一本必读的书。在这本书里，概念用真实世界的例子以最简单的方式解释。我偶然发现了一个很棒的博客链接，从中我学到了很多。感谢 Srikanth Varma Chekuri ，他是一位了不起的老师，我从他那里更详细地了解了这个概念。

**参考文献**

[https://www . analyticsvidhya . com/blog/2015/09/hypothesis-testing-explained/](https://www.analyticsvidhya.com/blog/2015/09/hypothesis-testing-explained/)

*   [http://www.statistics4u.com/fundstat_eng/cc_population.html](http://www.statistics4u.com/fundstat_eng/cc_population.html)
*   [http://www.statistics4u.com/fundstat_eng/cc_population.html](http://www.statistics4u.com/fundstat_eng/cc_population.html)