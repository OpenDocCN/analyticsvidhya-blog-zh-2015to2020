<html>
<head>
<title>Scraping of Amazon Reviews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">抓取亚马逊评论</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/scraping-amazon-reviews-fc13617e0ba1?source=collection_archive---------6-----------------------#2019-11-20">https://medium.com/analytics-vidhya/scraping-amazon-reviews-fc13617e0ba1?source=collection_archive---------6-----------------------#2019-11-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="851e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">今天让我们来讨论一下“什么是网络抓取？”</h2></div><blockquote class="ix iy iz"><p id="02a9" class="ja jb jc jd b je jf ij jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">网络抓取就是从不同的角度获取对某些产品或服务的评论或评级的所有信息。我们也可以删除社交媒体帖子的评论、喜欢和不喜欢。</p></blockquote><p id="8209" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，在这篇博客中，我将向你展示我是如何从亚马逊上收集产品评论的</p><p id="c444" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我要去刮苹果笔记本的评论。为此，请遵循以下步骤</p><p id="93a3" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">首先，您需要在python中安装所需的包。我们需要BeautifulSoup来提取——你也可以使用任何其他包，比如scrapy，但是现在，我使用BeautifulSoup</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ka"><img src="../Images/60c93e1ad134aa64a9b302881ffc8a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-o2EA4HQK5acCEJ-u6ZLw.png"/></div></div></figure><p id="915b" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，在安装了所需的包之后，通过以下代码将BeautifulSoup导入python:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es km"><img src="../Images/f7948c448be3d5f816d58810f60e91f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bf0a3ai6fu59OZFV6u-BEw.png"/></div></div></figure><p id="21d6" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在我们需要执行基本的url。每个网站都有标准的基本网址，现在亚马逊就是这样</p><p id="9efa" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><code class="du kn ko kp kq b">“https://www.amazon.in/s?k="</code></p><p id="5fdf" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">并搜索查询我们想刮什么产品。我将抓取apple laptops，以便apple+laptops将成为我的搜索查询并立即执行:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es kr"><img src="../Images/703115096a0a7d0818664ae62549edc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*EQaL3bhgJS10l3fOsr4nJA.png"/></div></figure><blockquote class="ks"><p id="2a61" class="kt ku hi bd kv kw kx ky kz la lb jw dx translated">现在把“搜索查询”和“基本网址”打印在一起，这样就可以直接进入苹果笔记本电脑</p></blockquote><figure class="ld le lf lg lh kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lc"><img src="../Images/febb9a77ed781abf7b1c4a69bafb85f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5iRpnb1MExm4_d-SEoHSvA.png"/></div></div></figure><p id="f590" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在检查亚马逊的回应，看它是否允许我们进行抓取</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es li"><img src="../Images/4cfe91d00ea96aa40c036dd6a0656b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oUelg3Lp71OmgFkEVpM2iQ.png"/></div></div></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lj"><img src="../Images/ae8f972f3a64aaf2dba8fdd6d23e5693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfPcYQVDeQe9udAcFLhThA.png"/></div></div></figure><ul class=""><li id="2fba" class="lk ll hi jd b je jf jh ji jx lm jy ln jz lo jw lp lq lr ls bi translated">如果代码给出503，这意味着页面没有内容。</li><li id="3a00" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">如果代码给出200，一切都是清楚的，可以访问。</li></ul><p id="1516" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们现在将使用代码检查内容</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ly"><img src="../Images/4598f6e135493ac8756ddddfeb322115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dz0hL7bZAb7s7CUvgY0YAQ.png"/></div></div></figure><p id="cc5d" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">如果我们不能访问页面，我们使用标题来访问页面内容。</p><p id="a6eb" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们有内容，但现在我们给出了内容可用性的标题</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lz"><img src="../Images/b5154071836f65b327dfbff45865d11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GfAlnWlsn26Tk8kja9RTxQ.png"/></div></div></figure><p id="136a" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">标题可以在下面找到</p><ul class=""><li id="c716" class="lk ll hi jd b je jf jh ji jx lm jy ln jz lo jw lp lq lr ls bi translated">转到检查元素。</li><li id="b2a1" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">点击网络和</li><li id="a1d3" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">点击和任何一个名字和</li><li id="d03e" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">向下滚动</li><li id="8d4d" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">你可以找到“用户代理”</li><li id="ba2d" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">在标题中插入代码</li></ul><p id="e6ba" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">接下来查看搜索响应中的文本，使用以下代码:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ma"><img src="../Images/e3312054587b0ee4900b909fd01eb6ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qj8Z-AbSnxpvkJWbybFVDA.png"/></div></div></figure><p id="876b" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">接下来给出提取评论的链接</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ly"><img src="../Images/3ca9242fa07269a93b75d22801446f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2mDhnqHbi546N4olpdhmvA.png"/></div></div></figure><p id="48a6" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在检查上面链接的内容</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mb"><img src="../Images/d684a4adeb50c0b2a08c26b45fc3c21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5KHJ6hO_wqNSuEReMd0gw.png"/></div></div></figure><p id="6b15" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们现在得到了内容，让这些内容可以被BeautifulSoup包所理解</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mc"><img src="../Images/14925eca85bf5f1935f2ce9161477359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bZMY25YG2SzeQzvoO2I6sg.png"/></div></div></figure><p id="0db5" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在检查页面的标题</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es md"><img src="../Images/277a3d6e1b9230b25296a4643fd818ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HY8f2kcSUGkfR2T70MEz9Q.png"/></div></div></figure><p id="3fa9" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在我们需要通过给出“类”和“属性”来检查产品列表</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es me"><img src="../Images/667a6619a55e82beccaa49aa596668bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slA3Fe1TTqVTwUqJWd9w3w.png"/></div></div></figure><p id="75e2" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们可以在</p><ul class=""><li id="4176" class="lk ll hi jd b je jf jh ji jx lm jy ln jz lo jw lp lq lr ls bi translated">检查元件</li><li id="5499" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">点击产品</li><li id="39b2" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">你可以找到“类”和“属性”代码</li></ul><p id="95ac" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">接下来，我们编写一个函数，声明检查页面是否可以废弃。</p><p id="75bb" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">在这种情况下，我们将标题分为多个标题。</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mf"><img src="../Images/ffa25789995e848af57819801b3c8d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_IzeMDBG8W4N3LwAPjFkA.png"/></div></div></figure><p id="7f0b" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">接下来是给出循环函数，用于声明我们想要在这里废弃的页数</p><p id="c0d3" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我给10页中的7页</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mg"><img src="../Images/99459e4ec446f4c7f4f2512e76a0773d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K5B1of_dmJbFDB3VJPqbWw.png"/></div></div></figure><p id="db29" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在为每页中的产品列表编写一个循环</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es li"><img src="../Images/29d887adec0d7c66dde17b4a13242dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JErrbxjcPKUPbGntDzrQLg.png"/></div></div></figure><p id="3d7b" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在检查产品的长度</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mh"><img src="../Images/3ee8e32c51aaba0b35c2d9005f550fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IU2KQTz75pgYHUJJNUQMdA.png"/></div></div></figure><p id="5061" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">为每页中每个产品的所有ASIN编号编写循环，并检查产品的长度</p><blockquote class="ix iy iz"><p id="0fc3" class="ja jb jc jd b je jf ij jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">每个产品都分配有一个ASIN编号。每个产品都有不同的数据，如编号，这有助于轻松识别特定的产品。</p></blockquote><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mb"><img src="../Images/141ad23a8728863dd0bd4e8497db883f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJL0aB1LLGELYMHLF3Ywag.png"/></div></div></figure><p id="d207" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">你可以在类中找到数据</p><ul class=""><li id="a12d" class="lk ll hi jd b je jf jh ji jx lm jy ln jz lo jw lp lq lr ls bi translated">检查元件</li><li id="e4c9" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">点击产品标题，然后</li><li id="1790" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">查找“数据别名”</li><li id="2dfd" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">你可以找到“类”和“属性”代码</li></ul><p id="fb17" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在为所有产品的链接定义函数</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mi"><img src="../Images/22d12fc3cbf6b2d4e914c77178258df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cNFvXLgNwWckcQXliT8R0A.png"/></div></div></figure><p id="e2af" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">接下来，我们定义收集每个数据的所有评论的函数——as in number</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es li"><img src="../Images/314051b4cac7b32aaef879e0d911424d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SdjgL9dWm1qoI5HJUBn0yg.png"/></div></div></figure><p id="fce3" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">在这里，类将在</p><ul class=""><li id="9b87" class="lk ll hi jd b je jf jh ji jx lm jy ln jz lo jw lp lq lr ls bi translated">在搜索中打开任何一个产品</li><li id="e648" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">务必检查元件和</li><li id="1ef2" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">点击一条评论</li><li id="7297" class="lk ll hi jd b je lt jh lu jx lv jy lw jz lx jw lp lq lr ls bi translated">我们可以找到那些“类”和“属性”</li></ul><p id="fcef" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，最后通过下面的代码将数据文件转换成数据帧:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mc"><img src="../Images/514d098e6b2b8cc84a685e3d8ffa61f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*In3vjH0JdOHvD5Dg1yy6dQ.png"/></div></div></figure><p id="7801" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我把数据框转换成CSV文件，审查与我们在一起……</p></div></div>    
</body>
</html>