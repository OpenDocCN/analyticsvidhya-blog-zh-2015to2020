<html>
<head>
<title>Why should we be wary of unbalanced dataset?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么要警惕不平衡数据集？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/why-should-we-be-wary-of-unbalanced-dataset-1fade12bd6f2?source=collection_archive---------15-----------------------#2020-02-03">https://medium.com/analytics-vidhya/why-should-we-be-wary-of-unbalanced-dataset-1fade12bd6f2?source=collection_archive---------15-----------------------#2020-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6b84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常，当我们冒险使用数据解决一些现实世界的问题时，我们会被不平衡的数据集所震惊。但这真的是个问题吗？让我们找出答案。</p><p id="47bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是不平衡数据集？</strong></p><p id="660e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个不平衡的数据集对于不同类别的变量(我们希望预测的)没有相同数量的观察值。</p><p id="312d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们考虑一个二进制类分类的例子来理解这一点。</p><p id="7caa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">*(将一个元素分类为2组中的一组)</p><p id="f45d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设100个人中，有90个人喜欢新的特斯拉赛博卡车。但是，10个人没有。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/4234b6d166d6393c7c779c36cc48b275.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*yl8eRVygb37-TmI-Z2H9ZA.png"/></div></figure><p id="26f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们需要预测其值的变量是“人的类型”。</p><p id="cfe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果我们基于上述数据训练一个ML模型，并基于“准确性”的度量来计算我们的模型的性能，它很可能会产生错误的结果。为什么？</p><p id="4ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这是因为如果我们只是预测100个人都喜欢新的特斯拉赛博卡车(甚至不使用任何算法)，正确分类的观察结果的准确率将是90%，这是非常高的。</strong></p><p id="d6d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">准确度=正确分类的观察值数量/观察值总数</p><p id="04fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，有必要对不平衡数据集进行处理，以建立正确的模型来解决问题。</p><p id="f361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们该如何处理上述不平衡数据集的问题？</strong></p><ol class=""><li id="ea0a" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated"><strong class="ih hj">使用“准确性”之外的指标来理解有问题</strong></li></ol><p id="a34f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们假设“讨厌CyberTruck的人”是正类，“讨厌CyberTruck的人”是负类。</p><ul class=""><li id="d311" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc ju jr js jt bi translated"><strong class="ih hj">召回率/真阳性率(TPR)——</strong>该指标侧重于针对特定类别做出的预测，而不考虑其他类别。所以，在上面的例子中，对“讨厌”网络卡车的人的回忆是</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jv"><img src="../Images/fca3960340a672d4fd2cb554b81e9ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnpCyIXfs1epQvFERyNMWw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ka"><img src="../Images/ec66175160ea73c2456984efcdc9ecf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*hHvjNWfVcJengGdLrZT_Gw.png"/></div></figure><ul class=""><li id="048a" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc ju jr js jt bi translated"><strong class="ih hj">精度/阳性预测值(PPV) </strong></li></ul><p id="f0e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在被算法分类为阳性的观察值中，有多少实际上被正确分类了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kb"><img src="../Images/f270a5a7ea2e8cb15ce41fba6efd94e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mv4zWmc5gHwVU8ysMgMvgg.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kc"><img src="../Images/de83c700c3d9ce2cf299a24d75bf2669.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*wqdHrUi7Gw7RWQzPLDlLWQ.png"/></div></figure><ul class=""><li id="9a13" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc ju jr js jt bi translated"><strong class="ih hj"> F1得分— </strong>精确度和召回率的加权平均值(调和平均值)</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kd"><img src="../Images/cbe3513bc45b5c595191079c1cf62788.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*T7TeUPLTGZQqv6xX7inkfQ.png"/></div></div></figure><p id="ae9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。对数据集进行重采样</strong></p><ul class=""><li id="ae51" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc ju jr js jt bi translated">过采样少数民族阶层(讨厌网络卡车的人)</li><li id="d117" class="jl jm hi ih b ii ke im kf iq kg iu kh iy ki jc ju jr js jt bi translated">对大多数阶层(喜欢网络卡车的人)采样不足</li></ul><p id="0b61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在过采样之前，将我们的数据集分成训练和测试数据集是一个好主意。这有助于避免在训练和测试数据集中出现相同的观察结果。如果不这样做，它会使模型记住特定的数据点，并最终导致对测试数据的过度拟合和不良概括，</p><p id="d761" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。选择另一种算法</strong></p><p id="9a84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">决策树在不平衡数据集上表现很好，因为它们通过if/else问题的层次结构进行学习。这实际上可以有力地帮助处理这两个类。</p><p id="53ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。合成样本生成</strong></p><p id="8fe3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这类似于过采样技术。</p><p id="9bd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，<a class="ae kj" href="https://imbalanced-learn.readthedocs.io/en/stable/index.html" rel="noopener ugc nofollow" target="_blank"> imblearn的</a> SMOTE或合成少数过采样技术可用于相同目的。SMOTE使用最近邻算法来生成可用于训练模型的新的合成数据。</p></div></div>    
</body>
</html>