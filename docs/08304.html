<html>
<head>
<title>NumPy Manipulating the dimensions and shape of arrays.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NumPy处理数组的尺寸和形状。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/numpy-manipulating-the-dimensions-and-shape-of-arrays-413645365432?source=collection_archive---------15-----------------------#2020-07-24">https://medium.com/analytics-vidhya/numpy-manipulating-the-dimensions-and-shape-of-arrays-413645365432?source=collection_archive---------15-----------------------#2020-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4c11" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解numpy、numpy.transpose、numpy.fliplr、numpy.flipud、numpy.rot90中的轴</h2></div><h2 id="a468" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">数字轴是沿着行和列定义的</h2><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/046157a37b39a13e4688beea104dfa99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6jyEd6InPY2-fUnZud3-g.png"/></div></div></figure><blockquote class="kh ki kj"><p id="b2ae" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated"><strong class="kn hj">轴0 </strong>:沿行的轴，该轴也称为“第一轴”</p></blockquote><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/b7d9d6e9d95a92b061b8fde0cce2a2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d407MHFFY2l_4OdhGfXUSQ.png"/></div></div></figure><blockquote class="kh ki kj"><p id="d3cf" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated"><strong class="kn hj">轴1 </strong>:是沿着列的轴</p></blockquote><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/f03fea8c93c61f1006a7f7b37adb3581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqNn_t-A7v4Fld-qz5nv_A.png"/></div></div></figure><blockquote class="kh ki kj"><p id="6c4e" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated">沿0轴求和</p></blockquote><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="fc0f" class="ix iy hi li b fi lm ln l lo lp">array = np.arange(9).reshape(3,3)</span><span id="9aea" class="ix iy hi li b fi lq ln l lo lp">np.sum(array,axis = 0)<br/>Out[4]: array([ 9, 12, 15])</span></pre><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/e29fbff1e27ee9e082572381991f090c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CF0Vhl7GXj6TUCkW1eZNVQ.png"/></div></div></figure><blockquote class="kh ki kj"><p id="b167" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated">通过<strong class="kn hj">轴1 </strong>求和</p></blockquote><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="1614" class="ix iy hi li b fi lm ln l lo lp">array = np.arange(9).reshape(3,3)</span><span id="f8e9" class="ix iy hi li b fi lq ln l lo lp">np.sum(array,axis = 1)<br/>Out[5]: array([ 3, 12, 21])[ 3, 12, 21]</span></pre><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/54f5666967130d3ae628e4a237535947.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IeTsgQy9Z3TXRd4vX-8rJw.png"/></div></div></figure><blockquote class="kh ki kj"><p id="ed4e" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated">沿0轴串联</p></blockquote><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="fca9" class="ix iy hi li b fi lm ln l lo lp">array1 = np.random.randint(0,1,size = (3,3))</span><span id="3ece" class="ix iy hi li b fi lq ln l lo lp">array1<br/>Out[7]: <br/>array([[0, 0, 0],<br/>       [0, 0, 0],<br/>       [0, 0, 0]])</span><span id="8c9a" class="ix iy hi li b fi lq ln l lo lp">array2 = np.random.choice([1],size = (3,3))</span><span id="30d3" class="ix iy hi li b fi lq ln l lo lp">array2<br/>Out[9]: <br/>array([[1, 1, 1],<br/>       [1, 1, 1],<br/>       [1, 1, 1]])</span><span id="e54c" class="ix iy hi li b fi lq ln l lo lp">np.concatenate((array1,array2), axis = 0)<br/>Out[10]: <br/>array([[0, 0, 0],<br/>       [0, 0, 0],<br/>       [0, 0, 0],<br/>       [1, 1, 1],<br/>       [1, 1, 1],<br/>       [1, 1, 1]])</span></pre><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/b833ced534965fc82e2d8dc69304181e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rks8yW9ANs7hIulvtSzmTQ.png"/></div></div></figure><blockquote class="kh ki kj"><p id="ea80" class="kk kl km kn b ko kp ij kq kr ks im kt ku kv kw kx ky kz la lb lc ld le lf lg hb bi translated">沿轴1串联</p></blockquote><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="9c91" class="ix iy hi li b fi lm ln l lo lp">array1 = np.random.randint(0,1,size = (3,3))</span><span id="8b43" class="ix iy hi li b fi lq ln l lo lp">array1<br/>Out[7]: <br/>array([[0, 0, 0],<br/>       [0, 0, 0],<br/>       [0, 0, 0]])</span><span id="fa56" class="ix iy hi li b fi lq ln l lo lp">array2 = np.random.choice([1],size = (3,3))</span><span id="2677" class="ix iy hi li b fi lq ln l lo lp">array2<br/>Out[9]: <br/>array([[1, 1, 1],<br/>       [1, 1, 1],<br/>       [1, 1, 1]])</span><span id="f826" class="ix iy hi li b fi lq ln l lo lp">np.concatenate((array1,array2), axis = 1)<br/>Out[11]: <br/>array([[0, 0, 0, 1, 1, 1],<br/>       [0, 0, 0, 1, 1, 1],<br/>       [0, 0, 0, 1, 1, 1]])</span></pre><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/c451c94c175a92241a1601af9c2fbb6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KkbYJxYHXxHnCIhEncGAOw.png"/></div></div></figure><p id="940f" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">转置给定的矩阵</p><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="70b7" class="ix iy hi li b fi lm ln l lo lp"><strong class="li hj">numpy.transpose</strong><strong class="li hj">(</strong><em class="km">a</em><strong class="li hj">, </strong><em class="km">axes=None</em><strong class="li hj">)</strong></span></pre><p id="448d" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated"><strong class="kn hj">轴:</strong>包含轴值排列的元组或列表，如果有三个轴，轴参数可以包含(0，1，2)或(1，2，0)或(0，2，1)或(1，0，2)或(2，1，0)或(2，0，1)。如果未指定，则默认为(2，1，0)或反转维度。</p><p id="81ff" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">考虑形状为(4，2，3)的矩阵，即维数为(2×3)的矩阵重复4次。</p><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="f538" class="ix iy hi li b fi lm ln l lo lp">array = np.ones((4,2,3)) # four times repeat the matrix (2 X 3)</span><span id="4314" class="ix iy hi li b fi lq ln l lo lp">array<br/>Out[9]: <br/>array([[[1., 1., 1.],<br/>        [1., 1., 1.]],</span><span id="cb3d" class="ix iy hi li b fi lq ln l lo lp">        [[1., 1., 1.],<br/>        [1., 1., 1.]],</span><span id="7dae" class="ix iy hi li b fi lq ln l lo lp">        [[1., 1., 1.],<br/>        [1., 1., 1.]],</span><span id="f331" class="ix iy hi li b fi lq ln l lo lp">        [[1., 1., 1.],<br/>        [1., 1., 1.]]])</span></pre><p id="e694" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">在应用转置和检查维度之后，我们观察到矩阵的维度被反转了。</p><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="6b44" class="ix iy hi li b fi lm ln l lo lp">np.transpose(array)<br/>Out[10]: <br/>array([[[1., 1., 1., 1.],<br/>        [1., 1., 1., 1.]],</span><span id="ae9c" class="ix iy hi li b fi lq ln l lo lp">        [[1., 1., 1., 1.],<br/>        [1., 1., 1., 1.]],</span><span id="0ed4" class="ix iy hi li b fi lq ln l lo lp">        [[1., 1., 1., 1.],<br/>        [1., 1., 1., 1.]]])</span><span id="37d2" class="ix iy hi li b fi lq ln l lo lp">np.transpose(array).shape<br/>Out[11]: (3, 2, 4)</span></pre><p id="bbc9" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">交换维度(0，1，2) → (1，2，0):在这种情况下，维度(3 X 4)的矩阵重复2次</p><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="dd60" class="ix iy hi li b fi lm ln l lo lp">np.transpose(array,axes = (1,2,0))<br/>Out[12]: <br/>array([[[1., 1., 1., 1.],<br/>        [1., 1., 1., 1.],<br/>        [1., 1., 1., 1.]],</span><span id="0898" class="ix iy hi li b fi lq ln l lo lp">       [[1., 1., 1., 1.],<br/>        [1., 1., 1., 1.],<br/>        [1., 1., 1., 1.]]])</span><span id="bce5" class="ix iy hi li b fi lq ln l lo lp">np.transpose(array,axes = (1,2,0)).shape<br/>Out[13]: (2, 3, 4)</span></pre><p id="5149" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">更多示例:</p><figure class="jw jx jy jz fd ka"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="a3bd" class="pw-post-body-paragraph kk kl hi kn b ko kp ij kq kr ks im kt ji kv kw kx jm kz la lb jq ld le lf lg hb bi translated">翻转数组<em class="km">左右</em>或<em class="km">上下</em></p><pre class="jw jx jy jz fd lh li lj lk aw ll bi"><span id="4f58" class="ix iy hi li b fi lm ln l lo lp">array = np.diag([1,2,3,4,5])</span><span id="d197" class="ix iy hi li b fi lq ln l lo lp">array<br/>Out[8]: <br/>array([[1, 0, 0, 0, 0],<br/>       [0, 2, 0, 0, 0],<br/>       [0, 0, 3, 0, 0],<br/>       [0, 0, 0, 4, 0],<br/>       [0, 0, 0, 0, 5]])<br/># columns are preserved and rows are flipped</span><span id="9c38" class="ix iy hi li b fi lq ln l lo lp">np.fliplr(array)<br/>Out[9]: <br/>array([[0, 0, 0, 0, 1],<br/>       [0, 0, 0, 2, 0],<br/>       [0, 0, 3, 0, 0],<br/>       [0, 4, 0, 0, 0],<br/>       [5, 0, 0, 0, 0]])<br/># rows are preserved but columns are flipped</span><span id="55d2" class="ix iy hi li b fi lq ln l lo lp">np.flipud(array)<br/>Out[11]: <br/>array([[0, 0, 0, 0, 5],<br/>       [0, 0, 0, 4, 0],<br/>       [0, 0, 3, 0, 0],<br/>       [0, 2, 0, 0, 0],<br/>       [1, 0, 0, 0, 0]])</span></pre></div></div>    
</body>
</html>