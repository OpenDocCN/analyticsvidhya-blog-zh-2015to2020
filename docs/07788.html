<html>
<head>
<title>What’s the first step when a data scientist getting data— Understanding and Validating data(with python implementation)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家获取数据的第一步是什么——理解和验证数据(使用python实现)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/whats-the-first-step-when-a-data-scientist-getting-data-understanding-and-validating-data-with-524a2041d559?source=collection_archive---------18-----------------------#2020-07-07">https://medium.com/analytics-vidhya/whats-the-first-step-when-a-data-scientist-getting-data-understanding-and-validating-data-with-524a2041d559?source=collection_archive---------18-----------------------#2020-07-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6cae9db2219d5e80230e6e29c72bbd86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6lNg9EiyHQSetGC_Vf8rQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@campaign_creators?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">活动发起人</a>在<a class="ae iu" href="https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="ce24" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们第一次获得数据时，首先要做的是理解和验证我们的数据。以下是我们需要考虑的要点，我将以零售需求预测项目为例，展示如何在第一步处理我们的数据，即理解和验证数据。</p><h2 id="dcca" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">日期时间变量</h2><ul class=""><li id="da8e" class="ko kp hi ix b iy kq jc kr jg ks jk kt jo ku js kv kw kx ky bi translated">数据捕获持续多长时间？</li><li id="eb2b" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">开始和结束日期是什么时候？</li><li id="99ea" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">是否有数据点缺失？</li></ul><h2 id="3ddf" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">数字变量</h2><ul class=""><li id="3b93" class="ko kp hi ix b iy kq jc kr jg ks jk kt jo ku js kv kw kx ky bi translated">检查数值变量的分布</li><li id="7842" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">有没有极端值？</li><li id="7b22" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">变量中是否有丢失的值？</li></ul><h2 id="e2b5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">分类变量</h2><ul class=""><li id="26f7" class="ko kp hi ix b iy kq jc kr jg ks jk kt jo ku js kv kw kx ky bi translated">检查分类变量的唯一值</li><li id="675f" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">变量中是否有丢失的值？</li><li id="e643" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">有没有高基数/稀疏度的变量？</li></ul><p id="4ed9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">问题陈述</strong>:根据历史数据，预测下周的物料需求，防止物料库存过多或不足。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="b079" class="jt ju hi lj b fi ln lo l lp lq"># Loading Required Libraries and Datasets</span><span id="f677" class="jt ju hi lj b fi lr lo l lp lq">import seaborn as sns<br/>import pandas as pd<br/>import numpy as np<br/>import random<br/>import matplotlib.pyplot as plt</span></pre><p id="2fe2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有三个包含所需信息的表格:</p><ul class=""><li id="bbc6" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">产品数据</strong>:包含产品的详细信息</li><li id="65c7" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj"> store_data </strong>:包含与零售商相关的各个商店的详细信息</li><li id="1dc9" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">交易</strong>:包含产品的交易数据</li></ul><p id="76ae" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我们将只使用<strong class="ix hj">事务</strong>表作为我们的例子，您可以在这里的链接中查看其他两个表的剩余分析。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5959" class="jt ju hi lj b fi ln lo l lp lq">transaction.head()</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/28aeaea7e864e0634ca6e2f8bf05fa8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3p-4OWMxPYNSY2LrZvILcg.png"/></div></div></figure><ul class=""><li id="42d8" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">周结束日期</strong> —周结束日期</li><li id="c0bf" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">商店编号</strong> —商店编号</li><li id="3309" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj"> UPC </strong> —(通用产品代码)产品特定标识符</li><li id="0ed4" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">基价</strong> —物品的基价</li><li id="4a4c" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">展示</strong> —产品是店内促销展示的一部分</li><li id="e5a3" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">特征</strong> —产品在店内传阅</li><li id="436f" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">单位</strong> —售出的单位(目标)</li></ul><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5298" class="jt ju hi lj b fi ln lo l lp lq"># checking datatypes of columns in transaction data<br/>transaction.dtypes</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/b795d0c00322821e8cfb358d17ef40f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*mg1jWlR4psiWN8xE-61rMw.png"/></div></div></figure><ul class=""><li id="6788" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated">WEEK_END_DATE具有对象数据类型，但它是日期时间变量</li><li id="f1bc" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">商店编号和产品代码被读取为int，但它们是分类变量。</li></ul><h2 id="a358" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">周结束日期</h2><ul class=""><li id="0faa" class="ko kp hi ix b iy kq jc kr jg ks jk kt jo ku js kv kw kx ky bi translated"><strong class="ix hj">数据捕获持续多长时间？</strong></li><li id="0f20" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">开始和结束日期是什么时候？</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/8ea5c304a2b17c5a546654190aa8585a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPTkzRyl26MFligIBm7FRg.png"/></div></div></figure><ul class=""><li id="40d0" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">是否有数据点缺失？</strong></li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/3c005e47f989a6b583c05d4101da340f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7SVsP9ZJFNhbjcqirzF22g.png"/></div></div></figure><h2 id="80e1" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">商店数量&amp; UPC</h2><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/b4da045ac57b5c79ba4b8b56db313fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*ebb6K_HBmmAAEYJbwmVRbg.png"/></div></figure><ul class=""><li id="ac1c" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated">每个商店每周至少举办一次活动吗？</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/bb1a5363794dd218a1504f5482c2792f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gl_I1mhKqnQdgYFOCiiC0A.png"/></div></div></figure><ul class=""><li id="a63c" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">在所有142周内，每件产品都至少售出一次吗？</strong></li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/3b2af1ec3d786cefb9d43968dcc2049d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TR6QMDNAtGGqv-annVx4ow.png"/></div></div></figure><ul class=""><li id="6497" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated">在给定的时间段内，每个商店都在销售每种产品吗？</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/64bbdc1b9dce732daecf72d999435d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VokhZ90zQduGTTDvcxKuig.png"/></div></div></figure><ul class=""><li id="5293" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">对于销售特定产品的商店，我们是否有多个条目？</strong></li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/88dff4cb57691d0698c245021c703142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9r36eL_cy8RaDNBwSPMBUw.png"/></div></div></figure><ul class=""><li id="3877" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">一家商店是在整个时期销售一种产品，还是有一段休息时间？</strong></li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/b84a373f92809a1a71a906bf54a4b419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gmvVeddfWxc02WzQaJfKNQ.png"/></div></div></figure><h2 id="8028" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">基本价格</h2><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/f6db1aa641cb75d962355683b0d667da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*ziW39GZ6oqgs4sHQbiUAtQ.png"/></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="ffc2" class="jt ju hi lj b fi ln lo l lp lq"># distribution of Base Price variable<br/>plt.figure(figsize=(8,6))<br/>sns.distplot((transaction['BASE_PRICE'].values),bins=20,kde=True)<br/>plt.xlabel('Price Distribution')</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/519bf7535a1264ac044cc675efea6f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*4Tptf31b3e1G6vV2rp6gPA.png"/></div></figure><ul class=""><li id="d6fa" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated">基础价格变量中没有极端值</li><li id="0541" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">基础价格的范围是1到8美元</li></ul><h2 id="4a35" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">特征和显示</h2><ul class=""><li id="10cc" class="ko kp hi ix b iy kq jc kr jg ks jk kt jo ku js kv kw kx ky bi translated"><strong class="ix hj">展示</strong> —产品是店内促销展示的一部分</li><li id="3566" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">特征</strong> —产品在店内通告中</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/5f0b617fde6448bf7c7dbfd70bf70d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*qXd_VyAA8f471mCHEH4Hkg.png"/></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5d2a" class="jt ju hi lj b fi ln lo l lp lq">transaction['FEATURE'].value_counts().plot('bar')</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mi"><img src="../Images/01778ab6fb1a9475016574ba42c196dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*0O6fgMMQgR2A-7FNvTV-1Q.png"/></div></figure><p id="af0a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大约10%的产品是特色产品</p><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/d91cf7f40eadaba86f3a41ef83e8a142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*YluSq7xyZqs0ZQrYXUom6g.png"/></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="9e94" class="jt ju hi lj b fi ln lo l lp lq">pd.crosstab(transaction['FEATURE'], transaction['DISPLAY']).apply(lambda x: x/len(transaction))</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mk"><img src="../Images/262ab2879548f12ccd3f7a938cfbacb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*48QCy8joo2W2MNzDxh4qiw.png"/></div></figure><h2 id="9135" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">单位</h2><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/e5d76fb1a75479932999555ce11c0c48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3SOhjnR-qXnlJW4gcKecw.png"/></div></div></figure><ul class=""><li id="34ff" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated"><strong class="ix hj">数据中有多少行销售了0台？</strong></li><li id="1e29" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated"><strong class="ix hj">1800这么高的销量只有一排吗？</strong></li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/7620565daa7e4e7806ab27c8ab864172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H1FyUDfdish5pubn4QEnyA.png"/></div></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="284c" class="jt ju hi lj b fi ln lo l lp lq">plt.figure(figsize=(8,6))<br/>plt.scatter(x = range(transaction.shape[0]), y = np.sort(transaction['UNITS'].values))<br/>plt.xlabel('Index')<br/>plt.ylabel('Units Sold')</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/631cef393e6c5c6648200591d420280b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3wF4Q2-AJhIuUyhbssMvHA.png"/></div></div></figure><ul class=""><li id="553f" class="ko kp hi ix b iy iz jc jd jg ls jk lt jo lu js kv kw kx ky bi translated">大多数值都小于250</li><li id="ef42" class="ko kp hi ix b iy kz jc la jg lb jk lc jo ld js kv kw kx ky bi translated">有一些异常值</li></ul><p id="454f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了减少异常值的影响和更好的可视化，这里有一个变量的对数变换</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="29f1" class="jt ju hi lj b fi ln lo l lp lq"># distribution of UNITS variable<br/>plt.figure(figsize=(8,6))<br/>sns.distplot((transaction['UNITS'].values),bins = 25,kde = True)<br/>plt.xlabel('Unites Sold')</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/06677633a86ff17633f5825916f203a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vCADh_lrxfGkq9i8o2hUTA.png"/></div></div></figure><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1327" class="jt ju hi lj b fi ln lo l lp lq"># log transformed UNITS column<br/>plt.figure(figsize=(8,6))<br/>sns.distplot(np.log(transaction['UNITS'].values),bins=25, kde=True)<br/>plt.xlabel('Log Units Sold')</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/e754e98b8998bd6a530e0e1b0319d35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*EPvU0ItYRyVlVxptl651Wg.png"/></div></figure><p id="81b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对数变换后，分布看起来更接近正态分布</p></div></div>    
</body>
</html>