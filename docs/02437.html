<html>
<head>
<title>A Beginners Introduction for TensorFlow JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TensorFlow JS初学者入门</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-beginners-introduction-for-tensorflow-js-a574ce1063fa?source=collection_archive---------21-----------------------#2019-12-16">https://medium.com/analytics-vidhya/a-beginners-introduction-for-tensorflow-js-a574ce1063fa?source=collection_archive---------21-----------------------#2019-12-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="bdfc" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">学习使用TensorFlow JS构建和训练您的第一个神经网络</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e02ab0b03829a73469c34b829962ab12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrMRdCFaCyq9KcQWAEQJKQ.png"/></div></div></figure><blockquote class="jj jk jl"><p id="9f11" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="hi">*注意:本文假设您已经掌握了Javascript知识。</em></p></blockquote><p id="f116" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">在本文中，我将向您展示如何使用Tensorflow JS创建您的第一个神经网络。这将相当于我们在安的“<em class="jo">你好世界</em>”。</p><h1 id="2e9e" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">人工神经网络(ANN或NN)简介</h1><p id="7655" class="pw-post-body-paragraph jm jn hi jp b jq le ij js jt lf im jv kj lg jy jz kk lh kc kd kl li kg kh ki hb bi translated">神经网络是我们认为的机器学习的一部分。所以我们先从<em class="jo">说起“什么是机器学习？”</em>(关于机器学习或神经网络的理论，我不会讲太多细节，因为信息很多，可能会让人应接不暇)。</p><p id="ce67" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">机器学习是人工智能的一个分支，它为系统或模型提供了从示例(数据)中学习和改进的能力，而无需编写显式规则。如果我们想到编程或传统开发，我们编码一些规则，然后执行这些规则，提供一个结果。机器学习或神经网络(NN)的工作方式不同于通常的编程方式，我们希望模型能够识别模式。我们给我们的模型我们正在寻找的例子，模型将找出规则，并根据它从我们的例子中学到的东西做出预测。您可能已经注意到，示例或数据对于算法或模型的学习过程非常重要。</p><h1 id="2699" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">现在让我们快速看一下神经网络。</h1><p id="fd02" class="pw-post-body-paragraph jm jn hi jp b jq le ij js jt lf im jv kj lg jy jz kk lh kc kd kl li kg kh ki hb bi translated">当首次引入时，神经网络是模仿人脑(不严格地说)而建立的。它们用于识别一组标记数据(示例)中的模式。所以，像人脑一样，在神经网络中我们有称为“神经元”的单元。这些神经元通过加权值相互连接。在提供的示例中，计算结果保存在每个神经元上，突触通过反向传播进行调整。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lj"><img src="../Images/32a2cf07840aeaf369f257ac3cc2eccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-526kHFbBgoKKpi2.png"/></div></div></figure><p id="cb2b" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">一组神经元被称为<em class="jo">层</em>。我们有<em class="jo">输入层</em>:这是我们提供给神经网络的例子。然后是<em class="jo">隐藏层</em>:在这里执行所有的计算。最后，<em class="jo">输出层</em>是计算完成的地方。这一层必须是我们输入神经网络的数据大小。</p><h1 id="76d1" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">理论够了:现在开始编码吧！</h1><p id="e0f0" class="pw-post-body-paragraph jm jn hi jp b jq le ij js jt lf im jv kj lg jy jz kk lh kc kd kl li kg kh ki hb bi translated">对于这个例子，我们将构建一个简单的神经网络来预测<strong class="jp hj"> Y </strong>的值。这个例子的公式是Y <strong class="jp hj"> = 2X -4 </strong>。但是我们不会应用那个公式:<em class="jo">我们会让我们的神经网络计算出</em>。</p><p id="1e32" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们的一组例子是:</p><p id="7702" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">对于X :-4.0，-3.0，-2.0，-1.0，0.0，1.0，2.0，3.0，4.0</p><p id="c2a8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">对于Y: -12.0，-10.0，-8.0，-6.0，-4.0，-2.0，0.0，2.0，4.0</p><p id="d586" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">作为一个数组，它是这样读取的:当x=-4时，y=-12，依此类推。</p><p id="e2cb" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">要开始使用TensorFlow JS，我们需要添加库</p><p id="6d1b" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><strong class="jp hj"> <em class="jo"> &lt;脚本src = " https://cdn . jsdelivr . net/NPM/@ tensor flow/tfjs @ latest "&gt;&lt;/脚本&gt; </em> </strong>到我们的HTML代码中。</p><p id="2134" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">现在，我们需要定义模型。该模型将是连续的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lk"><img src="../Images/3098836993561919451a17bf6a26ff24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fo6i5Z-3ES54vrNU.png"/></div></div></figure><p id="0809" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">代码<code class="du ll lm ln lo b"> model.add(tf.layers.dense({units: 1, inputShape: [1]}));</code>将告诉我们的网络使用1层。这是一个非常简单的神经网络，所以我们将只使用1个神经元。</p><p id="6727" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">然后，我们需要编译我们的模型，并分配一个损失函数和优化器。</p><p id="4475" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated"><em class="jo">那么“损失”是什么意思呢？</em>NN的学习方式是“试错法”。神经网络进行猜测，然后使用他所知道的数据(我们的例子),并测量猜测的好坏程度，并从中学习。由于系统已经知道答案，它可以衡量猜测的好坏。然后，它将这些数据交给负责计算下一个猜测的优化器。每次猜测都应该比前一次更好。</p><p id="8050" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">对于这个例子，我们将使用损失函数均方误差和SGD(随机梯度下降)作为优化器。</p><p id="7be2" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">如果你想了解更多关于Tensorflow中可用的<a class="ae lp" href="https://www.tensorflow.org/api_docs/python/tf/keras/losses" rel="noopener ugc nofollow" target="_blank">损失函数</a>和<a class="ae lp" href="https://www.tensorflow.org/api_docs/python/tf/keras/optimizers/Optimizer" rel="noopener ugc nofollow" target="_blank">优化器</a>，<a class="ae lp" href="https://js.tensorflow.org/api/latest/" rel="noopener ugc nofollow" target="_blank">你可以在官方文档中获得更多信息</a>。</p><p id="34fb" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们想打印神经网络活动的摘要。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/98c0cced2915c904f03aa073d387ea72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3kyqcGJGtffN5JBH.png"/></div></div></figure><p id="c676" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">为此，我们只需要一行<code class="du ll lm ln lo b">model.summary();</code></p><p id="4811" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">然后，我们传递网络将用来学习的数据。传递给模型的每个信息都应该是张量。张量<em class="jo">是向量和矩阵向潜在的更高维度的推广。在内部，TensorFlow将张量表示为基本数据类型的n维数组。</em></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/21ee385ad96eceeebb0445110321090a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wk8eXL5VlTg_stsO.png"/></div></div></figure><p id="d0d1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">tensor2d函数接收一个包含数据的数组，第二个数组([9，1])指示数组的长度和维度。我们将给它一个一维数组中的9个元素。</p><p id="9050" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">如果你习惯于在Python上编写NN代码，你可能不太关心训练所耗费的时间，但是因为我们在浏览器上使用JS，所以让我们的交流异步是很重要的，这样页面就不会等待代码被执行，而是在代码被执行后让我们知道。</p><blockquote class="jj jk jl"><p id="acca" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">神经网络很重，我们不想让浏览器过载。</p></blockquote><p id="2fac" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">因此，让我们为培训创建一个异步函数。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/7c9616de7d7cb82f078db83cdd2b7354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J76eZqBCSMvUvMgx.png"/></div></div></figure><p id="8c61" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">我们将创建一个具有500个<em class="jo">历元</em>的神经网络，并在控制台上打印每个历元后的信息，后跟损失。因为纪元等于500，这意味着它将进入“猜测循环”500次。您可以编辑该金额。</p><p id="13da" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">像在Python中一样，我们可以指定一个进程在每次Epoch执行后运行。对于内联，我们添加了“回调”代码。功能<em class="jo"> onEpochEnd </em>将帮助我们做到这一点。我们希望跟踪每个时期的训练，因此我们将把结果输出到控制台。</p><p id="099e" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">训练结束后，我们想做一个预测。假设我们想知道当X=20时Y是多少。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/8afda17f42ab21f177cc2cb30c79186f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wjO7ewu418aFEzCP.png"/></div></div></figure><p id="1ba1" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">对于预测，我们将使用我们训练过的模型，然后警告结果<code class="du ll lm ln lo b">model.predict(tf.tensor2d([20], [1,1]) </code>。请记住，应该使用函数tf.tensor2d将数据作为张量传递，首先我们传递数据(我们要预测的数字)和维度(一维数组中的1个数据)。</p><p id="07c8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">这是最终的代码。我把代码做得尽可能简单，这样它就容易理解了。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/29de5b72982b856161308711c0601034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uJgp98RXqVyWmdOc.png"/></div></div></figure><p id="67a8" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">你可以在这里查看代码:<a class="ae lp" href="https://codepen.io/labaiwact/pen/dyPOJxO" rel="noopener ugc nofollow" target="_blank">https://codepen.io/labaiwact/pen/dyPOJxO</a></p><h1 id="e1b6" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">现在让我们看看结果:</h1><p id="587d" class="pw-post-body-paragraph jm jn hi jp b jq le ij js jt lf im jv kj lg jy jz kk lh kc kd kl li kg kh ki hb bi translated">由于我们将结果和摘要打印到控制台中，如果您使用Chrome，右键单击-&gt;Inspect，然后在“Info”消息中转至“console”。</p><p id="60e9" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">您会注意到，在加载页面时，它将从训练和输出摘要开始，然后是loss和epochs结果。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lv"><img src="../Images/cf17e0a2abe0ffb3bcfed6cd476119a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WExX1H9DxDic9Qmlg6ja_w.png"/></div></div></figure><p id="5d05" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">让我们看看时代和损失。请注意，随着时代接近500，损失会减少。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lw"><img src="../Images/de10428a4203b8f7cb47cb440236b338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Kg9uWU1hR8QTKMvosQPgw.png"/></div></div></figure><p id="73e9" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">现在，当训练结束时，它会提醒我们Y=20的预测结果。结果将作为数据类型张量输出。我们的结果是36.00015。由于NN处理概率，它将输入带小数的估计值。稍后我们将需要舍入或处理这些结果。但是你可以看到36=(20*2 )- 4。</p><blockquote class="jj jk jl"><p id="9bd9" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们的神经网络成功预测了正确的结果！</p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lx"><img src="../Images/b937e92e75a053df7d5bee729c80e219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yGTvSuM86aVpFdwXU7grPA.png"/></div></div></figure><p id="35fc" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">希望这对你有用。如果你有任何问题，请在评论中告诉我。</p><p id="cd14" class="pw-post-body-paragraph jm jn hi jp b jq jr ij js jt ju im jv kj jx jy jz kk kb kc kd kl kf kg kh ki hb bi translated">*原载于<a class="ae lp" href="https://www.piecex.com/articles/A-Beginners-Introduction-for-TensorFlow-JS-284" rel="noopener ugc nofollow" target="_blank">https://www . piecex . com/articles/A-初学者-入门-for-TensorFlow-JS-284 </a></p><blockquote class="jj jk jl"><p id="2e31" class="jm jn jo jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">顺便说一下，如果你目前是任何编程语言的开发人员，我想向你推荐网站<a class="ae lp" href="https://piecex.page.link/mdm" rel="noopener ugc nofollow" target="_blank"><em class="hi">www.piecex.com</em></a><em class="hi">，这是一个人工智能驱动的源代码市场，你可以在那里出售你的项目/脚本。如果你想增加收入，看看吧！</em></p></blockquote></div></div>    
</body>
</html>