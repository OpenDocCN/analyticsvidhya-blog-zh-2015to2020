<html>
<head>
<title>Understanding linear regression-a practical approach using MS Excel.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解线性回归-使用MS Excel的实用方法。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-linear-regression-a-practical-approach-using-ms-excel-3919b2965f5d?source=collection_archive---------10-----------------------#2019-11-17">https://medium.com/analytics-vidhya/understanding-linear-regression-a-practical-approach-using-ms-excel-3919b2965f5d?source=collection_archive---------10-----------------------#2019-11-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a239" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在浏览吴恩达教授在coursera上的课程。</p><p id="dcab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现他的惊人之处在于他教授算法背后的数学的实用方法。</p><blockquote class="jd je jf"><p id="c593" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">我在MS Excel中做了一个类似的计算，可以非常实际地用来演示线性回归。另外，这也给了你另一天远离编程的时间。</p></blockquote><p id="f11b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看训练集。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/2dabafc900930e41f97c2440ffc7676e.png" data-original-src="https://miro.medium.com/v2/resize:fit:218/format:webp/1*OnJ9iOHNRC4DnJxlrEsHSQ.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">Proff中的训练集。Ng的例子</figcaption></figure><p id="0c79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们使用Excel中的折线图快速可视化训练集。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jw"><img src="../Images/67d4c6334613767df33290a6e0c2b557.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*ZoDVopZttOAbX_5utvQP6Q.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">上述训练集的线图。</figcaption></figure></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><p id="5182" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">说到正题，我们来看看<em class="jg">假设函数</em>。<strong class="ih hj">假设函数</strong>返回我们的线性回归算法将要预测的实际值。换句话说，这是我们预测值的曲线图。</p><p id="18d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">比方说，我们有两个特征<em class="jg"> theta_1 </em>和<em class="jg"> theta_0 </em>，它们预测X的结果为上述数据集中的Y。这些特征被称为<strong class="ih hj">预测器</strong>。线性回归所做的是——它设置一个值<em class="jg"> theta_1和theta_0，</em>,以便算法可以正确预测(y)的新值(x)。</p><blockquote class="jd je jf"><p id="d3b7" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">这种设置θ_ 1和θ_ 2的值被称为训练模型。基于训练，模型绘制假设函数。</p></blockquote><p id="8580" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简化计算，我们取了一个仅依赖于θ_ 1的数据集。(即。θ_ 0 = 0)</p><blockquote class="jd je jf"><p id="6477" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj"> h_theta=theta_1 * x + 0 </strong></p></blockquote><p id="e3a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们的主要目标是选择一个θ值，使假设函数图最接近实际图。</p><p id="4282" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将通过在Excel中调整不同的θ值来实现这一点。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ki"><img src="../Images/4d87cf1868a4439b1a331d9ec913a19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*l6EQE8Gh-__38j5uYGIVbA.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">计算h_theta</figcaption></figure><p id="9bb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们把公式</p><blockquote class="jd je jf"><p id="1c21" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">h_theta = $C$2 * A2+ $D$2</p></blockquote><p id="7d79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将θ_ 1的值设为0。我们得到x的各个值的函数值。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kj"><img src="../Images/e7244479edae7a52faa11d138e63c7c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*rQtnM1JyC-4toypALJUUmw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">当θ_ 1为0时，<em class="kk">h _θ</em>的值等于0</figcaption></figure><p id="cda9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们得到了<em class="jg"> h_theta，</em>的一些值，这是我们看到我们的假设函数(h_theta)与实际图之间的差异的最佳时间。我们可以看到假设函数平行于X轴，因为所有的值都是0。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kl"><img src="../Images/c53a9fca20d9034715b87dcb19da9744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iR1S1aSIn_CtAO5qOFgqxQ.png"/></div></div></figure><p id="4218" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了使算法正确工作，我们的目标是<em class="jg">使假设函数尽可能接近实际。</em></p><p id="515b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们把θ_ 1的值增加到0.3</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es km"><img src="../Images/20b0b982594372756fec8ab7ca550e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCT2YVouRsfoH2sL9z-OKA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">θ_ 1 = 0.3，假设图更接近实际。</figcaption></figure><p id="38ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到假设函数开始更接近实际。在这一点上，你可以用不同的值来玩这个游戏，就像你自己看魔术一样。</p><p id="0a6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你猜对了。了解<em class="jg"> theta_1 </em>的正确数值，不能是随便猜数字。因此，现在我们将看到一个非常重要的概念，称为— <strong class="ih hj">成本函数。</strong></p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><p id="fa16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成本函数或J_theta是一种计算我们的线性回归模型精度的方法。我们必须设法使成本函数接近0，以使模型最适合。</p><p id="4601" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数学上，成本函数是</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kn"><img src="../Images/9744022451ed7660405dab7543565f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*kYy_EMvq-Km334LCwWNNiw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">成本函数</figcaption></figure><p id="c31e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中m=训练集中的数据数量。</p><p id="a2fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">呜！！看起来很吓人吧。为了让事情变得简单，我们将在Excel中逐步构建成本函数。</p><p id="3d2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:</strong>先来这个。这一项就是每一行的h_theta(假设)和y(实际)之差。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ko"><img src="../Images/11124af6808eb6544fb32ec6d28df6ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*DB93l0kqqLiIu8v3RZKJHA.png"/></div></figure><p id="597f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们就把结果平方为<a class="ae kp" href="http://www.quickmba.com/stats/standard-deviation/" rel="noopener ugc nofollow" target="_blank">这些</a>的数学原因。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kq"><img src="../Images/c696b3c3c604df04f739c558785454ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*mTwIa9cJZFa0rfDov5vz1A.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">计算(h_theta -y)</figcaption></figure><p id="e9c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:</strong>我们对每一个X和1/2*m的倍数求和(h_theta -y)的结果</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kn"><img src="../Images/9744022451ed7660405dab7543565f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*kYy_EMvq-Km334LCwWNNiw.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">成本函数</figcaption></figure><p id="dd3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先在excel中取m(数据集的计数)的值。</p><blockquote class="jd je jf"><p id="695c" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">=计数(A2:A4)</p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kr"><img src="../Images/c0c8bc1c2d86a0918201d861fb7cf593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LPNrn6JEGBzpgTbLal-jMQ.png"/></div></div></figure><p id="022c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们在excel中计算成本函数。</p><blockquote class="jd je jf"><p id="a1f4" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">=(1/(2*G2))*SUM(F2:F21)</p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ks"><img src="../Images/71a86f0b1dc50f0378e23482a9879aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FVNH2_lrFJSwmhRa5PKjDg.png"/></div></div></figure><p id="8fa1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这几乎是我们所做的一切，设置事情。现在，当我们改变<em class="jg"> theta_1 </em>时，我们可以看到成本函数的变化。还要注意，θ_ 1 = 0.3时的成本函数是1.14。</p><p id="37ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你现在可以用不同的<em class="jg"> theta_1 </em>值进行实验，看看哪一个，使成本更接近于0。</p><p id="c29d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会注意到</p><blockquote class="jd je jf"><p id="dfc6" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">当θ_ 1的值接近1时。成本函数趋近于0。</p></blockquote><p id="6522" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我建议您从0.1和0.1开始<em class="jg"> theta_1 </em>，直到2.0递增0.1，并注意相应的成本函数值。在此过程中，请密切注意假设函数。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kt"><img src="../Images/945d952b9ce2852b06aaa2b688385007.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*JR41Rtp-msglj0qHjPykng.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">θ_ 1和相应的成本函数</figcaption></figure><blockquote class="jd je jf"><p id="9449" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">我们看到，当<em class="hi">θ_ 1</em>= 1的代价函数值为0时。这是我们得到最佳拟合假设的点。此外，这是一个线性相关的训练集，所以我们得到的成本函数完全等于0。在实际情况下，我们试图使成本函数接近于0。</p></blockquote><p id="297d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下降到一个点之后，成本函数达到一个阈值，之后它再次开始增加。这个点被称为<strong class="ih hj">局部最小值。</strong></p><p id="9e75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将绘制θ_ 1与成本函数的关系图，以显示局部最小值或最优解点。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ku"><img src="../Images/fffa294f44df1a5e35e5478e2d4cb65c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*bO3bBoMZebnbv5psugOXZQ.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">θ_ 1与成本函数图</figcaption></figure><p id="170f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你能更好地理解线性回归。</p><p id="b066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在下一篇文章中讨论梯度下降——一种更好的达到局部最小值的方法。</p></div></div>    
</body>
</html>