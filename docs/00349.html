<html>
<head>
<title>Tutorial to setup Azure EventGrid Topic to call Azure Function, that triggers a Sendgrid email</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">教程设置Azure EventGrid主题来调用触发Sendgrid电子邮件的Azure函数</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/tutorial-to-setup-azure-eventgrid-topic-to-call-azure-function-that-triggers-a-sendgrid-email-735f9aa87ba3?source=collection_archive---------0-----------------------#2019-04-20">https://medium.com/analytics-vidhya/tutorial-to-setup-azure-eventgrid-topic-to-call-azure-function-that-triggers-a-sendgrid-email-735f9aa87ba3?source=collection_archive---------0-----------------------#2019-04-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="202e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Azure Eventgrid实际上已经解决了我们等待一个动作(或事件)被执行、触发某个任务的所有需求。它消除了轮询和不必要的成本。我们可以在几分钟内建立一个无服务器监控系统(遵循以下6个步骤),向我们发送行动通知。<br/>对关键术语的快速说明:<br/> <strong class="io hj">事件</strong> →任何动作都是事件(例如，接收到Http请求，创建blob存储，VM的试运行/退役)<br/> <strong class="io hj">主题</strong> →主题是发布者将发送事件的端点。对于所有的azure服务，它们已经预先创建了它们的主题，所以例如我们不必为azure blob存储创建主题。<br/> <strong class="io hj">事件订阅→ </strong>事件网格中的内置机制，事件在其中被路由到单个或多个订阅者。<br/> <strong class="io hj">事件处理程序</strong> <strong class="io hj"> → </strong>服务，对来自主题和特定订阅的事件做出反应。<br/> <strong class="io hj">发布者</strong> →触发事件到话题的应用。在我们的例子中，我们将使用PostMan<br/><strong class="io hj">Subscriber</strong>→应用程序发布定制消息，该应用程序等待它订阅的主题的特定事件被触发。</p><p id="36d8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">不要过多地从理论上解释什么是事件，或者预先创建的事件和自定义事件之间有什么区别，因为所有这些你都可以通过谷歌或微软文档阅读。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/87676554aa083b7823a8eec76790a972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vFGuQZMPm0cIIY4MBmVOQ.jpeg"/></div></div></figure><p id="773f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">刚开始动手干脏活..！这是我们需要的东西的清单:</p><h1 id="9509" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤0 —先决条件</h1><ol class=""><li id="9cc7" class="ku kv hi io b ip kw it kx ix ky jb kz jf la jj lb lc ld le bi translated">Azure订阅</li><li id="2e22" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">Visual Studio代码*(在我们的例子中，我们将直接在门户上编写函数)</li><li id="5876" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">Sendgrid帐户。</li><li id="d296" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">测试用邮递员</li></ol><p id="c798" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">是的，就是它..！！</p><h1 id="485c" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤1-设置事件网格主题</h1><p id="2328" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix lk iz ja jb ll jd je jf lm jh ji jj hb bi translated">登录Azure门户，点击创建资源，搜索事件网格主题</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ln"><img src="../Images/677dbd1a088ded0e1b1b5b1cd0c82640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dfJDSIvgzPzTzdJwfSJt-g.png"/></div></div></figure><p id="1446" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">单击Add(添加新主题)并填写所需的详细信息(下面的截图)。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lo"><img src="../Images/485d629e1109726800736c9f93d71710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*JDjuVjt3ZFxnhdEzv5ZqmA.jpeg"/></div></figure><p id="7447" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">点击主题查看主题详情:</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lp"><img src="../Images/0f88a0f010694e8f5703c064ea771603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2bnMfgV_S5Xvo-YHne2j2w.jpeg"/></div></div></figure><p id="d964" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">记下您的主题端点url和订阅ID。</p><h1 id="22f4" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤2-设置Azure功能</h1><p id="a548" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix lk iz ja jb ll jd je jf lm jh ji jj hb bi translated">无服务器是云计算中最好的发明之一。现在我们将编写一个Azure函数来订阅我们的主题——“ProofOfConcept”。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lr"><img src="../Images/f462c7326d49ccbb15b5b31f09a09637.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*3_sleS3-Y47qZTC1HU72IA.jpeg"/></div></figure><p id="5801" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">点击主页→功能应用程序→添加，输入所需的详细信息，然后点击创建。</p><p id="cb28" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我用的是. Net的运行时栈[当你用Azure的时候，准备好用Windows和。网；-)]</p><p id="4d61" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">function app将允许我们编写函数逻辑来调用sendgrid api。</p><p id="c4b8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建功能应用程序后(需要几分钟)，单击查看资源。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ls"><img src="../Images/1c874152b4468b39d0d64b2849d7adf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EBYE2wkq4T6hR4Vf8AX-gA.jpeg"/></div></div></figure><p id="b217" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您的FunctionApp已经准备好了，现在是时候在其中创建一个函数了，我们在事件触发时调用Sendgrid email的逻辑将驻留在这个函数中。</p><h1 id="6ef9" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤3——编写您的函数逻辑</h1><p id="ad10" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix lk iz ja jb ll jd je jf lm jh ji jj hb bi translated">点击功能上的添加按钮。选择您喜欢的编写函数逻辑的方式。对于本教程，我选择直接通过门户网站。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lt"><img src="../Images/58212f2a5dfb59de39492adac2bd7d9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TsWxwCklwJxP5oyZmxc2nA.jpeg"/></div></div></figure><p id="c519" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">点击更多模板，因为我们需要选择Azure事件网格模板</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lu"><img src="../Images/78e29a4df3c1a90ed5e8cb9ce372d26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YOg73J4WHd4yRlnHV1tqPQ.jpeg"/></div></div></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lv"><img src="../Images/0fe08b4a62e753383050d7a235059598.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*MFLzoPn2sQtq84hO6Ite7A.png"/></div></figure><p id="a038" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后选择Azure事件网格触发器。它可能会要求你安装"<em class="lq"> Microsoft.Azure. WebJobs。Extensions.EventGrid扩展"</em>。只需点击安装扩展。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lw"><img src="../Images/f5eeae014a52c31a8461e6a9c662b163.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*0QJg9XzOyKgi2hwTVEAh5w.png"/></div></figure><p id="3ee0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来写下函数名并点击create。这将打开一个带有一些初始代码行的文本编辑器。</p><p id="1c7d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您可以在Run方法中看到，EventGrid是作为一个参数添加的，因为我们通过template选择了它。</p><p id="4dc7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">编写以下代码行来配置电子邮件发送。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><pre class="jl jm jn jo fd lx ly lz ma aw mb bi"><span id="9263" class="mc jx hi ly b fi md me l mf mg"><br/>#r "Microsoft.Azure.EventGrid"<br/>#r "SendGrid"</span><span id="95ed" class="mc jx hi ly b fi mh me l mf mg">using SendGrid.Helpers.Mail;<br/>using Microsoft.Azure.EventGrid.Models;<br/>using System.Net.Http;</span><span id="17d7" class="mc jx hi ly b fi mh me l mf mg">public static void Run(EventGridEvent eventGridEvent<br/>                      ,ILogger log<br/>                      ,out SendGridMessage message)</span><span id="8125" class="mc jx hi ly b fi mh me l mf mg">{<br/>    log.LogInformation(eventGridEvent.Data.ToString());<br/>    message = new SendGridMessage();<br/>    message.SetSubject("Message Via Azure Event Grid");<br/>    message.PlainTextContent= eventGridEvent.Data.ToString();<br/>}</span></pre><p id="caa8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面的代码不会编译或运行，因为我们还没有配置Eventgrid。所以让我们开始吧。保存功能代码。现在让我们尝试设置事件网格。</p><h1 id="d21f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤4-将事件网格设置为输出参数</h1><p id="9b99" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix lk iz ja jb ll jd je jf lm jh ji jj hb bi translated">在函数应用程序的左侧面板上，我们有TestEvntGrdTrigrFunc函数，单击integrate，然后选择click on new output并选择SendGrid。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es mi"><img src="../Images/b35cc99cf41a21083b0a0f3676062b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XAxi6iyKgNILBmh5NC5cKg.jpeg"/></div></div></figure><p id="18b8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后更新SendGrid输出参数中所有必需的细节。输入收件人和发件人电子邮件Id、主题(如果你不想通过代码设置)正文，以及最重要的<strong class="io hj"> SendGrid API关键应用设置</strong>字段。</p><p id="81ef" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在功能配置中记录您的sendgrid API key，然后从SendGrid API key app设置的下拉列表中选择。(<em class="lq">如果你对此有任何问题，请在评论框中告诉我，我会尽我所能回答。</em>)</p><p id="46e7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们的函数已经准备好了，但是我们还缺少一个关键的步骤。Out Azure函数仍未订阅EventGrid主题。所以让我们开始吧。</p><h1 id="0957" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤5-添加事件网格订阅</h1><p id="8695" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix lk iz ja jb ll jd je jf lm jh ji jj hb bi translated">添加eventgrid订阅有多种方法，最简单的方法是仅通过函数app。:-)</p><p id="db39" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">转到您的函数并单击顶部链接，添加事件网格订阅。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es mj"><img src="../Images/15cfcc1c81609a705befcf5a8148d8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-7QQI7zzW1_Ye1i1B4LmQ.jpeg"/></div></div></figure><p id="958d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">输入事件订阅详细信息。(<em class="lq">我已经将订阅的名称命名为TestConnection </em>)。在主题详情中输入:<br/> →主题类型为<em class="lq">事件网格主题</em> <br/> →订阅为<em class="lq">您的订阅</em> <br/> →资源组为<em class="lq">您的资源组</em> <br/> →资源为<em class="lq">您的</em> <em class="lq">主题</em> ( <em class="lq">此处为ProofOfConcept为主题名称</em>)</p><p id="726c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦您点击create并创建了您的资源订阅，您可以在您的主题(ProofofConcept)订阅列表下看到相同的内容。好极了……..！！！！</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lu"><img src="../Images/3c2738d967406e3dc6d79a3a4d51b82e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrZDqrZ2ryGBAZFJwmHgzg.jpeg"/></div></div></figure><p id="fbe2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一切都准备好了，我们只需要测试它。我们可以用Postman来测试。我们必须遵循一个协议来将事件发布到主题。无论我们是使用自定义事件还是内置事件，每个事件中都有一些必填字段。</p><ul class=""><li id="fa69" class="ku kv hi io b ip iq it iu ix mk jb ml jf mm jj mn lc ld le bi translated"><strong class="io hj"> Id </strong> —事件的唯一Id。</li><li id="2b8b" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj mn lc ld le bi translated"><strong class="io hj">主题</strong> —与我们的申请相关的任何名称或标签。这是放置与事件相关的服务/实体名称的好地方。</li><li id="feb3" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj mn lc ld le bi translated"><strong class="io hj">事件类型</strong> —我们可以根据其创建过滤器的值，例如CustomerCreated、BlobDeleted、HttpRequestReceived等。</li><li id="2491" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj mn lc ld le bi translated"><strong class="io hj">事件时间</strong> —发布者中事件发生的时间戳。</li><li id="0193" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj mn lc ld le bi translated"><strong class="io hj">数据</strong> —对该事件采取行动所需的相关信息。该字段是可选的。然而在自定义事件中，这是我们用来向Azure函数提供细节的字段。</li></ul><p id="e42e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个自定义事件的例子(<a class="ae mo" href="https://docs.microsoft.com/en-us/azure/event-grid/custom-event-quickstart" rel="noopener ugc nofollow" target="_blank"> <em class="lq">由Azure </em> </a>提供)</p><pre class="jl jm jn jo fd lx ly lz ma aw mb bi"><span id="3325" class="mc jx hi ly b fi md me l mf mg">[<br/>   {   "id": "1807",   <br/>       "eventType": "recordInserted",   <br/>       "subject": "myapp/vehicles/motorcycles",   <br/>       "eventTime": "2017-08-10T21:03:07+00:00",   <br/>       "data": {     <br/>                  "make": "Ducati",     <br/>                  "model": "Monster"   <br/>                },  <br/>        "dataVersion": "1.0",   <br/>        "metadataVersion": "1",   <br/>        "<strong class="ly hj">topic</strong>": "/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.EventGrid/topics/{topic}" <br/>   }<br/>]</span></pre><p id="fd38" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">主题标签在这里非常重要。</p><pre class="jl jm jn jo fd lx ly lz ma aw mb bi"><span id="d23f" class="mc jx hi ly b fi md me l mf mg">"<strong class="ly hj">topic</strong>": "/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.EventGrid/topics/{topic}"</span></pre><p id="269a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">{subscription-id} →这是Azure函数的订阅id。<br/> {resource-group} →您的资源组名称<br/> {topic} →您的主题名称(在我们的例子中是ProofofConcept)</p><p id="bc31" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一切都准备好了，让我们用Postman测试一下。</p><h1 id="6151" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">步骤6 —最后用PostMan测试</h1><ol class=""><li id="b7a2" class="ku kv hi io b ip kw it kx ix ky jb kz jf la jj lb lc ld le bi translated">打开邮递员，选择邮寄方式</li><li id="dffe" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">进入API(主题端点)——<a class="ae mo" href="https://proofofconcept.westeurope-1.eventgrid.azure.net/api/events" rel="noopener ugc nofollow" target="_blank"><em class="lq">https://proofofconcept . westeurope-1 . event grid . azure . net/API/events</em></a></li><li id="b6b8" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">将上面的示例定制消息复制到body部分(作为原始JSON)。确保更新你的主题细节。</li><li id="4aa1" class="ku kv hi io b ip lf it lg ix lh jb li jf lj jj lb lc ld le bi translated">最后一件非常重要的事情<strong class="io hj">——在标题部分添加一个键值对(<em class="lq">认证密钥</em> ): <br/>密钥名— aeg-sas-key <br/>值—来自主题访问密钥的密钥值</strong></li></ol><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lu"><img src="../Images/d0b95d9e2a783281f1ab92c7ff8671fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QVoyOnJPF33wY4RA4zyRnA.jpeg"/></div></div></figure><p id="6945" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">就是这样…..！！！！</p><p id="8e15" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您的自定义主题发布消息发送已准备就绪。现在每当你发布你的消息(事件)到你的主题，它将触发一个Azure函数来发送电子邮件。</p><p id="508d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">希望这篇文章对你有用。鼓掌表达你的爱。:-)请务必让我知道，以防您在设置它时遇到任何困难，或者您认为有任何更新或改进的余地。</p></div></div>    
</body>
</html>