<html>
<head>
<title>Three helpful steps towards statistical goal in MATLAB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MATLAB中实现统计目标的三个有益步骤</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-the-statistical-analysis-in-matlab-96afeaa4648d?source=collection_archive---------19-----------------------#2020-05-22">https://medium.com/analytics-vidhya/introduction-to-the-statistical-analysis-in-matlab-96afeaa4648d?source=collection_archive---------19-----------------------#2020-05-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5feb9b9206a519e58d75f74f158084eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WdvzJBCMa-YfW1Zn"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@jsnbrsc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰森·布里斯科</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="6959" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据科学仍然炙手可热，需求量巨大。各行各业的人都在转向数据科学。他们尝试新事物，并想出惊人的解决方案来解决长期存在的问题。但是从数据中推断是没有意义的，除非我们用一些统计工具来验证它。</p><p id="2e98" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">MATLAB附带了许多函数，对于初学者来说非常有帮助，即使对于那些数学知识很少的人来说也是如此。在这篇文章中，我将展示一些统计分析的基本工具。请注意，统计分析本身是一个巨大的主题，即使一本500页的书也只是触及了主题的表面。</p><p id="33b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我将介绍一些用于计算和可视化正常和非正常数据的基本统计数据的代码。对于第一个示例，我将从随机生成的数据开始，但是代码对于真实的数据同样有效。我们假设数据以离散值的形式表示平稳随机过程的样本记录。</p><h1 id="e6ce" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">基本统计分析</h1><h2 id="0c6e" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">正常和非正常数据</h2><p id="3c58" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">第一个任务是使用<code class="du lk ll lm ln b">randn</code>生成正常数据。然后我们计算平均值、标准差、百分位数和直方图。接下来，我们将这些值绘制在图上。</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/13c46de8aa81be82f429aaf13f3d87e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QPJfLHxPnXr23IDxzmxGbg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">正常[左]和非正常[右]数据的统计分析</figcaption></figure><pre class="lp lq lr ls fd lt ln lu lv aw lw bi"><span id="86c5" class="kr ju hi ln b fi lx ly l lz ma">%% Analysing random data to learn statistical skills<br/>clear; close all; clc;<br/><br/>%% Normal Data<br/>figure(1)<br/>dataNormal=randn(100,1);<br/>h1=histogram(dataNormal,15);<br/>xlabel('Values'), ylabel('Frequency')<br/>title('Histogram of Normal Data')<br/>hold on<br/>mu=mean(dataNormal);<br/>sd=std(dataNormal);<br/>binmax = max(h1.Values); %finding the maximum bin height<br/>plot(mu,binmax,'ko','markerfacecolor','r', 'markersize',10); %plotting the location of mean<br/>plot([mu-sd, mu+sd],[binmax, binmax], '-r', 'linewidth', 2); %plotting the 1 std<br/>saveas(gcf,"normal_data_stats",'pdf')<br/><br/><br/>%% Non-Normal Data<br/>% generate some fake data<br/>x = (randn(1,100).^2)*10 + 20;<br/><br/>% compute some simple data summary metrics<br/>mn = mean(x);  % compute mean<br/>sd = std(x);   % compute standard deviation<br/>ptiles = prctile(x,[25 50 75]);  % compute percentiles (median and central 68%)<br/><br/>% make a figure<br/>figure;<br/>hold on;<br/>histogram(x,20);  % plot a histogram using twenty bins<br/>ax = axis;   % get the current axis bounds<br/>  % plot lines showing mean and +/- 1 std dev<br/>h1 = plot([mn mn],      ax(3:4),'r-','LineWidth',2);<br/>h2 = plot([mn-sd mn-sd],ax(3:4),'r--','LineWidth',2);<br/>h3 = plot([mn+sd mn+sd],ax(3:4),'r--','LineWidth',2);<br/>  % plot lines showing percentiles<br/>h4 = [];<br/>for p=1:length(ptiles)<br/>  h4(p) = plot(repmat(ptiles(p),[1 2]),ax(3:4),'g-','LineWidth',2);<br/>end<br/>legend([h1 h2 h4(1)],{'Mean' 'std dev' 'Percentiles'});<br/>xlabel('Value');<br/>ylabel('Frequency');<br/>saveas(gcf,"non_normal_data_stats",'pdf')</span></pre><h2 id="a7f4" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">全球月温度数据</h2><p id="560f" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">在本例中，我们绘制了几年的月度时间序列数据。然后，我们再次计算统计数据，并将它们绘制在直方图上。</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/066cfb2ec3a1b544aa4251d6d15cc39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mA8_Ui-PAIKRBGhrdaWA0A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">地图上的[左]温度与年份的关系图[右]基本统计数据</figcaption></figure><pre class="lp lq lr ls fd lt ln lu lv aw lw bi"><span id="86a7" class="kr ju hi ln b fi lx ly l lz ma">clear; close all; clc;<br/>load temp_month<br/><br/>%% Making a matrix of data<br/>p=[Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec];<br/>pstring={'Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'};<br/><br/>[row, col]=size(p);<br/>%% Plotting the data vs year<br/>figure<br/>for i=1:col<br/>  plot(Year,p(:,i))<br/>  grid on<br/>  hold on<br/>end<br/>title('Variation of Months with Year')<br/>xlabel('Year'), ylabel('Months')<br/>axis tight<br/>saveas(gcf,"dataYear",'pdf')<br/><br/>%% Statistical Analysis<br/>for i=1:col<br/>    dd=p(:,i);<br/>    mu(i)=mean(dd); %mean<br/>    sd(i)=std(dd); %standard deviation<br/>    med(i)=median(dd); %median<br/>    x = min(dd):0.01:max(dd);<br/>    ddsorted = sort(dd,'ascend'); %interquartile range<br/>    e25=ceil(25/100*length(dd)); e75=ceil(75/100*length(dd));<br/>    iqr_dd = ddsorted([e25, e75]);<br/>    skew_dd=skewness(dd);<br/>    kurt_dd = kurtosis(dd);<br/><br/><br/>    %Plotting Figure<br/>    figure<br/>  %  subplot(2,2,[1 2])<br/>     xlabel('Groups'), ylabel('Frequency'),grid on<br/>    annotation('textbox',...<br/>    [0.15 0.65 0.3 0.15],...<br/>    'String',{'Skewness &amp; Kurtosis respectively are ',[num2str(skew_dd),' &amp; ', num2str(kurt_dd)]},...<br/>    'FontSize',14,...<br/>    'FontName','Arial')<br/>    hold on<br/>    h1=histogram(dd,'BinMethod','auto');<br/>    binmax1(i) = max(h1.Values); %finding the maximum bin height<br/>    plot(mu(i),binmax1(i),'ko','markerfacecolor','r', 'markersize',10); %plotting the location of mean<br/>    plot([mu(i)-sd(i), mu(i)+sd(i)],[binmax1(i), binmax1(i)], '-r', 'linewidth', 2); %plotting the 1 std<br/>    plot(med(i),binmax1(i)-1,'ko','markerfacecolor','c', 'markersize',7)<br/>    plot(iqr_dd,[binmax1(i)-1, binmax1(i)-1], '-m', 'linewidth',2);<br/>    legend('histogram','mean','std','median','interquartile range')<br/>    saveas(gcf,sprintf("hist_Month%s",pstring{i}),'pdf')<br/>end</span></pre><blockquote class="mb mc md"><p id="e1b8" class="iv iw me ix b iy iz ja jb jc jd je jf mf jh ji jj mg jl jm jn mh jp jq jr js hb bi translated">侦察卫星等技术创新能够喷涌出大量数据，挑战传统的解释方法。用约翰·格里菲斯的话来说，“我们必须能够在它变得一团糟之前消化它。"只有计算机实现的数学和统计技术才具有足够的能力和速度来完成这项任务."— J.C .戴维斯</p></blockquote><h1 id="c9b7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">t统计量</h1><p id="3e57" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">总体统计估计中的不确定性可以通过使用比正态分布具有更宽“分布”的概率分布来解释。一种这样的概率分布被称为<code class="du lk ll lm ln b">t</code>分布(类似于正态分布)。这取决于所取样本的大小。当样本中的观测值数目为无穷大时，<code class="du lk ll lm ln b">t</code>分布和正态分布是相同的。</p><p id="e419" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">t统计量是参数的估计值与其假设值的偏差与其标准误差的比率。<code class="du lk ll lm ln b">t</code>-测试可用于确定给定样本成为具有特定特征的总体成员的可能性，或用于测试两个样本等效性的假设。</p><p id="4131" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于包含从正态总体中随机采集的样本的数据集，t统计量可通过以下方式计算</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/c54528fd199a2274262584a0f627c40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OIaS3nEJIoNWYGv06dSzfg.png"/></div></div></figure><h2 id="75c1" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">例子</h2><p id="7b5a" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">让我们以1986年Davis和Simpson的孔隙度测量为例。</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/8d7eda138f969b1b4f989d4da1ba772d.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*sT7vEp7PUpxROLqP_2nXMQ.png"/></div></figure><p id="53f1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们希望检验大约10个样本来自孔隙度大于18%的总体.</p><h1 id="e08c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">假设检验</h1><p id="ffd2" class="pw-post-body-paragraph iv iw hi ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">这里，我们的零假设是:</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/89acc3d3d9d745d2feca50c4c1e8774f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FfnfDKjsnVJGCKnN01Jy5g.png"/></div></div></figure><p id="de13" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">替代假设:</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/0b02bcd3011ceb64dac8794078861675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IgFbd9-B0KR75Fm_z_5MBQ.png"/></div></div></figure><p id="1731" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个测试中，我们假设平均值和标准差是估计的。对于上述10个样本的数据集，自由度是9。</p><p id="90d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">只有当平均孔隙度大大超过18%时，我们才拒绝零假设。如果我们希望测试这个假设，当它为真时，拒绝它的概率只有一个是二十次(α= 0.05)，对于单尾测试，<code class="du lk ll lm ln b">t</code>的计算值必须超过1.833。<a class="ae iu" href="https://www.itl.nist.gov/div898/handbook/eda/section3/eda3672.htm" rel="noopener ugc nofollow" target="_blank">参见此处</a>了解学生自由度的t分布表。</p><figure class="lp lq lr ls fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/051b65b8a9c30f56517bd878bdbddbe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCW6dMLmnqlg6x2wvouklA.png"/></div></div></figure><p id="558b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于9个自由度和5%的显著性水平，获得的值1.89超过了<code class="du lk ll lm ln b">t</code>的临界值，因此位于临界区域或拒绝区域。因此，我们可以拒绝零假设，给我们留下另一个假设，即数据集样本的总体孔隙度大于18%。注意，如果零假设被接受，我们只能说样本中没有任何东西表明总体均值大于18%。</p><h2 id="eab5" class="kr ju hi bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">用MATLAB计算t统计量</h2><pre class="lp lq lr ls fd lt ln lu lv aw lw bi"><span id="77b6" class="kr ju hi ln b fi lx ly l lz ma">clear; close all; clc;<br/>% generate some fake data<br/>data1=randn(100,1);<br/>data2=(randn(150,1).^2)*10 + 20;<br/>mu_x=mean(data1)<br/>mu_y=mean(data2)<br/>%t-statistic<br/>[h,p,ci,stats] = ttest2(data1,data2,0.05,'both','unequal')</span></pre></div><div class="ab cl mn mo gp mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hb hc hd he hf"><pre class="lt ln lu lv aw lw bi"><span id="f2d7" class="kr ju hi ln b fi mu mv mw mx my ly l lz ma">mu_x = -0.0727<br/><br/>mu_y = 29.8633<br/><br/>h = 1<br/><br/>p = 7.6969e-54<br/><br/>ci =<br/>  -32.3794<br/>  -27.4925<br/><br/>stats =<br/>  struct with fields:<br/>    tstat: -24.2062<br/>       df: 150.9778<br/>       sd: [2×1 double]</span></pre><h1 id="76e5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考资料:</h1><ol class=""><li id="2f90" class="mz na hi ix b iy lf jc lg jg nb jk nc jo nd js ne nf ng nh bi translated"><a class="ae iu" href="https://www.cmrr.umn.edu/~kendrick/statsmatlab/" rel="noopener ugc nofollow" target="_blank">MATLAB统计与数据分析讲座</a></li><li id="c05a" class="mz na hi ix b iy ni jc nj jg nk jk nl jo nm js ne nf ng nh bi translated">戴维斯和桑普森(1986)。地质学中的统计和数据分析(第646卷)。威利纽约。</li><li id="070d" class="mz na hi ix b iy ni jc nj jg nk jk nl jo nm js ne nf ng nh bi translated"><a class="ae iu" href="https://en.wikipedia.org/wiki/T-statistic" rel="noopener ugc nofollow" target="_blank">维基百科:t统计</a></li><li id="1d01" class="mz na hi ix b iy ni jc nj jg nk jk nl jo nm js ne nf ng nh bi translated">戴维斯和桑普森(1986年)。地质学中的统计学和数据分析。从https://www.academia.edu/download/6413890/clarifyeq4-81.pdf<a class="ae iu" href="https://www.academia.edu/download/6413890/clarifyeq4-81.pdf" rel="noopener ugc nofollow" target="_blank">检索</a></li></ol></div><div class="ab cl mn mo gp mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hb hc hd he hf"><p id="efc9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="me">原载于2020年5月22日https://www.earthinversion.com</em><a class="ae iu" href="https://www.earthinversion.com/statistics/statistical-analysis-in-matlab/" rel="noopener ugc nofollow" target="_blank"><em class="me"/></a><em class="me">。</em></p></div></div>    
</body>
</html>