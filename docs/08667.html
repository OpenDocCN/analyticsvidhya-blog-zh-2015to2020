<html>
<head>
<title>Install TensorFlow-GPU + CUDA in Windows 10, with easy to follow instructions.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Windows 10 中安装 TensorFlow-GPU + CUDA，简单易懂。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/install-tensorflow-gpu-cuda-in-windows-10-with-easy-to-follow-instructions-614d79782d26?source=collection_archive---------3-----------------------#2020-08-08">https://medium.com/analytics-vidhya/install-tensorflow-gpu-cuda-in-windows-10-with-easy-to-follow-instructions-614d79782d26?source=collection_archive---------3-----------------------#2020-08-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="edea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装 CUDA 和 TensorFlow-GPU 可能是一项非常具有挑战性的任务，在本文中，我将展示如何通过几个简单的步骤来安装它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/899aa1e710a11e35ee7f145a5694a724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RdYR88NZwsJ_gyJu.png"/></div></div></figure><p id="5dee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始安装之前，我们需要确保您的显卡支持 CUDA。如果不是，那么使用<strong class="ih hj"> GOOGLE COLLAB </strong>会是一个很好的选择。检查你的显卡是否启用了 CUDA(<a class="ae jp" href="https://developer.nvidia.com/cuda-gpus" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">链接</strong> </a>)，向下滚动点击<strong class="ih hj">启用了 CUDA 的 Ge-force 和 Titan 产品</strong>。从列表中搜索您的显卡。</p><p id="f98e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您不知道您的显卡规格:</p><ol class=""><li id="421f" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">转到桌面</li><li id="519c" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">右键单击并选择 NVIDIA 控制面板</li><li id="f043" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">单击帮助，并从下拉列表中选择系统信息</li><li id="a1dd" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">在项目下，您可以查看您的显卡版本。</li></ol></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="67d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看 TensorFlow 支持的 CUDA 最新版本。点击此<a class="ae jp" href="https://www.tensorflow.org/install/gpu" rel="noopener ugc nofollow" target="_blank">链接 </a> <strong class="ih hj">。</strong>向下滚动至软件要求，查看最新支持的版本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kl"><img src="../Images/778d6cfccb512805e24ab2be1d25f5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lj9rYu_6jD8b9WC9dvK0yw.png"/></div></div></figure><p id="de4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里 CUDA 10.1 和 cuDNN SDK 7.6 是 TensorFlow 最新支持的版本，你可以暂时忽略其余的东西。</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="5c96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，现在我们知道我们必须安装什么了，我们首先需要清除系统中的任何 NVIDIA 程序。这意味着从我们的系统中删除所有 NVIDIA 的安装。</p><ol class=""><li id="554d" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">转到<strong class="ih hj">我的电脑/C 盘/程序文件</strong>，删除所有名为 NVIDIA 的文件。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es km"><img src="../Images/fc498b7d92a8799b5e046bbf82a29f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*nAxHqpK9bVJ5hGT4U9RrwQ.png"/></div></figure><p id="532f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.再次进入<strong class="ih hj">我的电脑/C 盘/程序文件(x86) </strong>做同样的事情，删除所有名为 NVIDIA 的文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/360c95934027bd6ee2b5f2f0f1c0384b.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*FqFe0nuWxOe9jfDy3NSvwA.png"/></div></figure><p id="df6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从系统中删除所有文件后，执行重新启动。</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="bce7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们下载所有需要的软件</p><ol class=""><li id="ca5b" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">我们首先需要下载的是<strong class="ih hj"> Visual Studio </strong>，因为它是 CUDA 安装的先决条件，没有它我们的安装将会失败。到这个<a class="ae jp" href="https://visualstudio.microsoft.com/downloads/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a>下载最新的 Visual Studio 社区版。只需遵循默认安装设置，直到您到达第 4 步(选择工作负载)不要选择任何工作负载，只需单击安装。</li><li id="fd9a" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">接下来我们需要下载<strong class="ih hj"> CUDA 工具包(</strong> <a class="ae jp" href="https://developer.nvidia.com/cuda-toolkit-archive" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a> <strong class="ih hj"> ) </strong>。回忆一下 TensorFlow 软件需求中的 CUDA 工具包版本(在撰写本文时，最新支持的版本是<strong class="ih hj"> 10.1 </strong>，但是如果 TensorFlow 网站上提到了任何新的支持版本，请继续选择它)。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ko"><img src="../Images/01c1280e6e9c533bfe237bd1ee16007b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fehbsz2ALfMHvGCw0a6kqQ.png"/></div></div></figure><p id="abc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择您的操作系统(我选择了 Windows)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kp"><img src="../Images/a27acad361962ea0c0d5974582ed90c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fmG5StQxU1zlP8LTlp2s0g.png"/></div></div></figure><p id="38de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择最新版本(我选择了 10 个)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/f8d919f9218ec879efc11525f7f438d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ERiVnO23KnJQpdnyC75Btw.png"/></div></div></figure><p id="061a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择安装程序类型 exe(本地)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kr"><img src="../Images/5e9bfbe87622b434a03cd1d0174fc857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wo-0Sno3VtDum9PqKltHzg.png"/></div></div></figure><p id="1147" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的下载文件已经准备好了，它是一个 2.4 GB 的文件。我想花点时间说明一下，如果将来有适用于您的规范的补丁，请下载所有补丁，并在安装主工具包后以连续的方式安装它们。</p><p id="a751" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.安装 CUDA 工具包，并在安装过程中选择所有默认选项。</p><p id="dc3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.现在我们要从 NVIDIA 下载<strong class="ih hj"> cuDNN zip 文件</strong>(<a class="ae jp" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">链接</strong> </a>)。点击 cuDNN 下载。</p><p id="5ff1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.在下载 zip 文件之前，您必须注册并登录 NVIDIA，还要完成一个小调查。</p><p id="eb10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.最后你会看到这一页。我们的 CUDA 工具包版本是<strong class="ih hj"> 10.1 </strong>，因此我们将为 CUDA 10.1 下载<strong class="ih hj"> SDK 版本(您必须下载与您的 CUDA 工具包相同的版本)。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ks"><img src="../Images/5c42def4833660f6e50863fa52a82213.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vDW3TrU9aF8aY_zjISqvuw.png"/></div></div></figure><p id="d143" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.解压 zip 文件，你会看到里面有三个文件夹<strong class="ih hj"> bin </strong>，<strong class="ih hj">包括</strong>和<strong class="ih hj"> lib\x64 </strong></p><p id="318e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.转到位于<strong class="ih hj">My Computer \ C Drive \ Program Files \ Nvidia GPU Computing Toolkit \ CUDA \ v 10.1</strong>的 CUDA 工具包安装目录</p><p id="96d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.你会在这个目录中找到<strong class="ih hj"> bin </strong>，<strong class="ih hj">包含</strong>和<strong class="ih hj"> lib\x64 </strong>。我们所要做的就是将 dll 文件从 zip 文件目录复制到 CUDA 安装目录。</p><p id="a6e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.将<strong class="ih hj"> cudnn64_7.dll </strong>从 Zip 文件复制到 CUDA 安装目录的 bin 文件中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/d534893f741f030eff106defd611f747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SCWTLNLQ7PZKiuTBTkaIQw.png"/></div></div></figure><p id="c06b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.将<strong class="ih hj"> cudnn.h </strong>从 zip 文件复制到 CUDA 安装目录 bin 文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ku"><img src="../Images/ce8aabed29a8a6eb86f62efb73433123.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OLLrmjnKW8gIWwr2h2z2PA.png"/></div></div></figure><p id="f659" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">12.将 cudnn.lib 从 zip 文件(lib\x64)复制到 CUDA 安装目录(lib\x64)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/495f7005b42454ca74914c003bc4098b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ahd5IGKvuA87SeySPf3G1g.png"/></div></div></figure><p id="ae8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">13.打开控制面板— -&gt;系统— -&gt;高级系统设置— -&gt;环境变量</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kw"><img src="../Images/231fc2cc0abce0ce597863aee000aa5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*QSAXnGnywzpXrAgUSONXqA.png"/></div></figure><p id="9d50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在环境系统变量中看到这两个路径，那么 CUDA 已经成功安装在您的系统中。</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><ol class=""><li id="2139" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">安装 Python( <a class="ae jp" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">链接链接</a>)</li><li id="e350" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">安装 Pip( <a class="ae jp" href="https://pip.pypa.io/en/stable/installing/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a>)</li></ol><p id="b53c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">———点击 get-pip.py</p><p id="4c6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">———右击并选择另存为</p><p id="3a51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">———将文件保存在你的桌面上(移动到任何你喜欢的位置)</p><p id="a1c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.安装 Anaconda 社区包(<a class="ae jp" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a>)</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="03ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经安装了 CUDA、Python、Pip 和 Anaconda。我们的最后一步是下载并安装<strong class="ih hj"> tensorflow-gpu </strong>。始终建议将 TensorFlow 安装在与基础环境不同的环境中。</p><ol class=""><li id="0251" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">打开 Anaconda Navigator 并使用 Python 3.6 创建一个新环境</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kx"><img src="../Images/90b51286abcdba6be122357555514acf.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*n24kVtElpJ7fPjdB5-IGqg.png"/></div></figure><p id="5c31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.创建新环境后，打开 Anaconda 提示符，使用<strong class="ih hj"> conda activate any_Name </strong>从基础环境切换到新环境</p><p id="100c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.使用 pip 命令安装 TensorFlow GPU，<code class="du ky kz la lb b">pip install --upgrade tensorflow-gpu</code></p><p id="1101" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.检查 TensorFlow GPU 是否已成功安装在您的系统上。</p><pre class="je jf jg jh fd lc lb ld le aw lf bi"><span id="9440" class="lg lh hi lb b fi li lj l lk ll"># importing the tensorflow package<br/>import tensorflow as tf</span><span id="a89d" class="lg lh hi lb b fi lm lj l lk ll">tf.test.is_built_with_cuda()</span><span id="916b" class="lg lh hi lb b fi lm lj l lk ll">tf.test.is_gpu_available(cuda_only=False, min_cuda_compute_capability=None)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/f0302ff63190d738d471746f17c78239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9uSimv_KX_mEneKxXRi2g.png"/></div></div></figure></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="4e66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按照所有这些步骤，我们已经成功地在 Windows 10 系统上安装了 tensorflow-gpu 和 CUDA。我一直在我的项目中使用 TensorFlow GPU，并注意到与 CPU 相比，时间明显减少。然而，就结果而言，有一些场景中 CPU 的性能比 GPU 更好，我将在未来的故事中写更多关于这方面的内容。我试图保持这篇文章的简单，以便您在执行安装时可以很容易地理解。</p></div></div>    
</body>
</html>