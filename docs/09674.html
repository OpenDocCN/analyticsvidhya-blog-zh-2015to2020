<html>
<head>
<title>Statistical Analysis using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python进行统计分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/statistical-analysis-using-python-e83f10ca3c82?source=collection_archive---------1-----------------------#2020-09-16">https://medium.com/analytics-vidhya/statistical-analysis-using-python-e83f10ca3c82?source=collection_archive---------1-----------------------#2020-09-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4385" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你已经访问过<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj"> Part1-EDA </strong> </a>那么你可以直接跳转到<a class="ae jd" rel="noopener" href="/@greatsharma04/statistical-analysis-using-python-e83f10ca3c82#0e8a">这个</a> ( <strong class="ih hj">统计分析</strong>部分)。</p><p id="65ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个<strong class="ih hj"> 3部分系列</strong>，其中我将遍历一个数据集并对其进行分析，然后在最后进行预测建模。我强烈建议按照下面给出的顺序阅读这个系列，但是你也可以跳到任何部分。</p><p id="b1ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj">第1部分，探索性数据分析(EDA) </strong> </a> <strong class="ih hj"> : </strong> <br/>这一部分包括数据的汇总统计，但主要重点将放在EDA上，我们使用图从数据中提取意义/信息，并报告关于数据的重要见解。这部分更多的是关于<strong class="ih hj">数据分析</strong>和<strong class="ih hj">商业智能(BI) </strong>。</p><p id="c685" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二部分，统计分析:</strong> <br/>在这一部分我们会做很多统计假设检验，应用估计统计，解释我们得到的结果。我们也将通过第一部分的发现来验证这一点。我们将应用参数和非参数测试。我们将在这一部分报告我们得到的所有重要见解。这部分都是关于<strong class="ih hj">数据科学</strong>需要统计学背景。</p><p id="a57f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/greatsharma/MPG/tree/master/Modelling" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">第3部分，预测建模:</strong> </a> <br/>在这一部分中，我们将使用给定的预测因子来预测反应。这部分都是关于<strong class="ih hj">机器学习</strong>的。</p><h2 id="6625" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">元数据，关于数据的数据</h2><p id="1bc0" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">我正在使用来自<a class="ae jd" href="https://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI库</a>的<a class="ae jd" href="https://archive.ics.uci.edu/ml/datasets/auto+mpg" rel="noopener ugc nofollow" target="_blank">自动mpg</a>EDA数据。</p><p id="8bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标题:</strong> Auto-Mpg数据<br/> <strong class="ih hj">实例数:</strong> 398 <br/> <strong class="ih hj">属性数:</strong> 9包括类属性<br/> <strong class="ih hj">属性信息:</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="c706" class="je jf hi kj b fi kn ko l kp kq">1. mpg — continuous<br/>2. cylinders — multi-valued discrete<br/>3. displacement — continuous<br/>4. horsepower — continuous<br/>5. weight — continuous<br/>6. acceleration — continuous<br/>7. model year — multi-valued discrete<br/>8. origin — multi-valued discrete<br/>9. car name — string (unique for each instance)</span></pre><p id="b67b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个数据并不复杂，而且很适合分析，因为它很好地融合了分类属性和数字属性。</p><p id="ee4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是<strong class="ih hj">第二部分</strong>即统计分析。我不会把这一部分拉得太长，而是按顺序做下面的事情。</p><ol class=""><li id="e47b" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated"><strong class="ih hj">数据</strong>的一些预处理，与<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj"> Part1-EDA </strong> </a>完全相同。</li><li id="e59a" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">测试两个分类属性之间的独立性</strong></li><li id="cfb9" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">数值属性的正态性检验</strong></li><li id="85e7" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">数值属性之间的相关性</strong></li><li id="c811" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">样本的参数和非参数检验</strong></li></ol><blockquote class="lf lg lh"><p id="63b6" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">我将在整个笔记本中大量使用<strong class="ih hj">假设检验</strong>，因此对于那些正在寻找如何在数据科学和机器学习中应用假设检验的人来说，这也是一个不错的笔记本。</p></blockquote></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><p id="775d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，导入所有必需的库。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><blockquote class="lf lg lh"><p id="084c" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">接下来的几个单元格涉及<strong class="ih hj">数据清理</strong>，这包括处理缺失值、重复数据(如果有的话)以及对齐数据。我已经在<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7">第一部分</a>中提到了这一点。因此，如果您已经访问了第1部分，您可以跳到<a class="ae jd" rel="noopener" href="/@greatsharma04/statistical-analysis-using-python-e83f10ca3c82#0e8a">这个</a>单元格。</p></blockquote><p id="69ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先将数据导入到pandas数据框中，并检查它的属性。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/d0014e81c11a8ea2e37bc7229a267f87.png" data-original-src="https://miro.medium.com/v2/format:webp/1*hgaOYnV0K34DT_sEXTUSsg.png"/></div></figure><p id="152a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据是矩形(表格)形式，有398个条目，每个条目有9个不同的属性。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="c4af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了检查元数据(即关于数据的数据)，我们可以使用内置的pandas函数。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="1861" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lz ma mb kj b">df.info()</code>，描述了数据的很多东西，比如每一列的数据类型，内存使用情况等等。</p><p id="6cb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我将为分类和数字列名制作两个不同的列表，因为对这两种类型的分析是不同的。为此，我将内省每一列的数据类型，如果它是类型<code class="du lz ma mb kj b">object</code>，那么它是分类的，否则是数字的。</p><p id="53e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在整个分析中大量使用这两个列表。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="722c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为<code class="du lz ma mb kj b">cylinders</code>和<code class="du lz ma mb kj b">model_year</code>只有很少的唯一值，所以让它们成为分类的而不是数字的是安全的。<em class="li">这个转换在分析过程中会很有帮助，因为我会在其他</em>的基础上分叉一些属性。</p><p id="2ca9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">名单应该更新，</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="142b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，检查数据中的<code class="du lz ma mb kj b">nans</code>。我将逐列检查<code class="du lz ma mb kj b">nans</code>。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/cba90127e5d42cd574747a9f019cd913.png" data-original-src="https://miro.medium.com/v2/format:webp/1*moy0ZkhZ6DOodkcbagrDGA.png"/></div></figure><p id="ca3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据中的纳米比例为<code class="du lz ma mb kj b">6 / len(df) = 0.01507</code>。因此，<code class="du lz ma mb kj b">horsepower</code>包含所有6个nan行，包括大约<code class="du lz ma mb kj b">1.5%</code>个数据。因为这个分数非常低，所以现在删除nan行是安全的。</p><blockquote class="lf lg lh"><p id="46fb" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>如果nan比例很大(超过5%)，那么我们不会删除它，而是估算缺失值，甚至可以将缺失视为另一个属性。</p></blockquote><p id="aa52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在删除所有nan行，因为它们只有1.5%。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="ca5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看有多少重复条目，如果有，就删除它们。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="9941" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，没有重复的行。</p><p id="a40f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">即将到来的代码单元已经在<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj"> Part1-EDA </strong> </a>中做了深入的解释，所以如果你觉得不舒服请参考。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="97ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们继续之前，最好将所有类型相同的变量组合在一起。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/8be0ad761520e39e77f67e46b08336ca.png" data-original-src="https://miro.medium.com/v2/format:webp/1*zpfHsaSBwSFlv55yFX1kog.png"/></div></figure></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h1 id="0e8a" class="mc jf hi bd jg md me mf jk mg mh mi jo mj mk ml jr mm mn mo ju mp mq mr jx ms bi translated">统计分析</h1><p id="1eb0" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">在开始之前，我们应该先对统计学中使用的各种术语有一个很好的理解。否则，当我们移动时，我们肯定会在解释结果时丢失。</p><ul class=""><li id="f262" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mt kx ky kz bi translated">总体:全部数据或全部可能的观察值。</li><li id="c9c7" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">样本:</strong>从总体中抽取的观察值子集。随着样本量的增加，样本将更接近总体(<strong class="ih hj">大数定律</strong>)。</li><li id="ae25" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">参数:</strong>这是我们感兴趣的总体属性，除非我们对整个总体进行分析(这是不可能的),否则我们永远不会知道确切的值，例如均值(mu)。</li><li id="3ab1" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">估计:</strong>关于总体参数的样本概念/值。统计学的全部目标是使这些样本估计值尽可能接近总体参数，例如，average(x bar)是平均值的最佳样本估计值。</li><li id="738c" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">描述性统计:</strong>用于汇总数据。</li><li id="c2e2" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">推断统计:</strong>用于从样本中得出关于总体的结论，例如，使用样本平均值估计总体均值。</li><li id="439c" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">参数统计:</strong>假设数据为高斯分布的统计方法。</li><li id="cf67" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">非参数统计:</strong>不假设数据分布的统计方法，即无分布。</li><li id="af79" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">统计假设检验:</strong>在给定对结果的假设或预期的情况下，对观察结果的可能性进行量化的方法。我们稍后会详细讨论这一点。</li><li id="26b0" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">估计统计:</strong>使用置信区间量化结果不确定性的方法。</li></ul><h2 id="0e3b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">统计假设检验</h2><p id="8106" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">统计假设检验的想法非常简单直接。我们首先假设一些关于数据的东西，比如两个样本具有相同的均值等。然后我们找到观察给定数据的可能性，假设这个假设为真。如果可能性接近于零，那么我们<strong class="ih hj">拒绝假设</strong>，如果可能性的值大于某个阈值(由我们设定)，那么我们<strong class="ih hj">无法拒绝假设</strong>。</p><p id="e47a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在统计学术语中，假设被称为<strong class="ih hj">假设</strong>，我们得到的可能性被称为<strong class="ih hj"> p值</strong>，我们设置的阈值有两种类型，要么是<strong class="ih hj">显著性水平</strong>要么是<strong class="ih hj">临界值</strong>，我们使用的测试被称为<strong class="ih hj">统计假设测试</strong>。</p><p id="cd0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果我们得到的可能性非常接近于零，那么这意味着<strong class="ih hj">假设该假设为真，观察/出现该数据的可能性非常小</strong>因此，这表明我们的假设有问题。因此，在两个样本均值的示例中，如果得出的p值非常接近于零，那么我们可以说<strong class="ih hj">假设两个样本具有相同的均值，我们手头的数据不太可能生成，因此我们的假设有问题，因此我们拒绝接受它。</strong></p><blockquote class="lf lg lh"><p id="9781" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>所有这些都是概率性的，我们有时会犯错误，这些错误有已知的名称，即假阳性和假阴性。</p></blockquote><h2 id="a29b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">假设</h2><p id="0027" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">有两种类型的假设，即- <br/> <br/> <strong class="ih hj">零假设，<em class="li">h0</em></strong>——零假设，提出在一组给定的观测值中不存在显著差异。<br/> <strong class="ih hj">交替假设，<em class="li"/></strong>—一种交替假设，提出在一组给定的观测值中存在显著差异。</p><p id="3a93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了这些测试的目的，</p><p id="bcf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="li"> H_0 </em> </strong>:变量A和变量B独立<br/> <strong class="ih hj"> <em class="li"> H_1 </em> </strong>:变量A和变量B不独立。</p><blockquote class="lf lg lh"><p id="5c10" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong>h0和h1互为补码。</p></blockquote><h2 id="ed39" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">p值</h2><p id="4335" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">它是在统计测试中给定假设的数据的概率。</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es mu"><img src="../Images/1a7c1d17d25d68fa095980dd975ea7f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*kmFjwUIybSr0MBZ75gzMYw.png"/></div></figure><p id="8014" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任何发现的<strong class="ih hj">统计显著性</strong>都是通过解释p值来完成的。p值告诉我们，这些发现是由于相同的真实变化，还是仅仅是随机波动。</p><ul class=""><li id="3d21" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mt kx ky kz bi translated"><strong class="ih hj"> p值≤ alpha </strong>:显著结果，拒绝零假设。</li><li id="80dc" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj"> p值&gt;α</strong>:无显著结果，无法拒绝零假设。</li></ul><p id="228b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过从检验统计累积密度函数(CDF)中检索概率，可以从检验统计中计算出p值。</p><p id="b419" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些测试从特定的数据分布中返回一个测试统计值，该值可以在临界值的上下文中进行解释。<strong class="ih hj">临界值</strong>是来自检验统计分布的值，在该点之后，结果是显著的，并且可以拒绝零假设。</p><ul class=""><li id="8a42" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mt kx ky kz bi translated"><strong class="ih hj">检验统计量&lt;临界值</strong>:无显著结果，无法拒绝零假设。</li><li id="45e6" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><strong class="ih hj">检验统计量≥临界值</strong>:显著结果，拒绝零假设。</li></ul><p id="7966" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>数据科学和ML中最常用的显著性水平值是5%，即alpha=0.05，我们将在本笔记本中使用相同的值。</p><p id="e7db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://qphs.fs.quoracdn.net/main-qimg-0138e6d464b3ff6320971528e4e72c04" rel="noopener ugc nofollow" target="_blank">参考此决策树</a></p><p id="5516" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在整个博客中，我假设alpha值为0.05</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="8df1" class="je jf hi kj b fi kn ko l kp kq">ALPHA = 0.05</span></pre></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="6c90" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">两个分类变量之间的独立性检验</h2><h2 id="5f1b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">皮尔逊卡方检验</h2><p id="2192" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">卡方统计是一种<strong class="ih hj">非参数统计</strong>工具，用于在因变量以名义水平测量时分析组差异(也可使用序数数据)。它通常用于将观察到的数据与我们根据特定假设期望获得的数据进行比较。</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es mv"><img src="../Images/57864665ee439f7d946e15600cab9867.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*78D8WzhRFxtqkskqbqwLUQ.png"/></div></figure><p id="8703" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中，<br/> O:观察值(表中每个单元格的实际病例数)<br/> E:期望值(下面计算)<br/>卡方^{2}:该单元格的卡方值</p><p id="6a30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">假设</strong> <br/> <strong class="ih hj"> 1。</strong>如果任何预期值低于5 <br/> <strong class="ih hj"> 2，测试无效。</strong>计算出的p值不是精确的，而是近似的，并且随着数据的增加而收敛到精确值(对于小样本量来说不太好)<br/> <strong class="ih hj"> 3。</strong>观察次数必须为20次以上</p><p id="fa22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果预期的细胞数很小，最好使用精确检验，因为卡方检验在这种情况下不再是一个很好的近似值。为了克服这一点，我们将使用费雪精确测试。</p><h2 id="c667" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">费希尔精确试验</h2><p id="69d3" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">Fisher精确检验用于确定列联表中两个分类变量之间是否存在显著关联。Fisher精确检验是Pearson独立性卡方检验的替代方法。虽然实际上对所有样本量都有效，但Fisher精确检验实际上适用于样本量较小的情况。一般建议使用Fisher精确检验——而不是卡方检验——只要列联表中超过20 %的单元的预期频率&lt; 5。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/ff1c8309d6b2ab2a1f389c4a734d5331.png" data-original-src="https://miro.medium.com/v2/format:webp/1*vT0PppuWaMl4PyZ4EMRd3g.png"/></div></figure><p id="959c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以<code class="du lz ma mb kj b">chi2</code>假设对每一对都失败了，但这并不是说我们不能应用，我们可以，但结果不可靠。但是<code class="du lz ma mb kj b">origin</code>和<code class="du lz ma mb kj b">model_year</code>的列联表仍然值得一试，因为大多数值都是&gt; = 5。</p><p id="7123" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="li"> H_0 </em> </strong>:原点是型号_年份是独立的，alpha=0.05</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="30cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用scipy的<code class="du lz ma mb kj b">chi2_contingency</code>功能，</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="4c3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多信息请执行<code class="du lz ma mb kj b">help(stats.chi2_contingency)</code>。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="1104" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">scikit-learn也有chi2测试，让我们用它来测试所有分类属性与<code class="du lz ma mb kj b">mpg_level</code>的相关性。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/124b4119b65644886440da023e6aa08c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*SgE8vCIhERBToRdoVZygHg.png"/></div></figure><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/3ea1c321865bcf1a83f056b0c51f0d51.png" data-original-src="https://miro.medium.com/v2/format:webp/1*LttXYRE1v-a8HeqGFw6i4A.png"/></div></figure></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="9de7" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">数字属性的统计检验</h2><p id="ee26" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">以下是我们数据集中的数字/连续属性。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="55f3" class="je jf hi kj b fi kn ko l kp kq">nums = ['mpg', 'displacement', 'horsepower', 'weight', 'acceleration']</span></pre><h2 id="2ffd" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">正规性检验</h2><p id="d1e0" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">我把正态性测试分为两部分-</p><h2 id="165d" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">1.视觉正常性检查</h2><p id="f15f" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">我们会用肉眼检查是否正常</p><ol class=""><li id="7a3d" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">柱状图</li><li id="b04d" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">分位数-分位数图</li></ol><h2 id="f994" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">2.统计正态性检验</h2><p id="90e8" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">有三种统计测试来检查数据的正态性</p><ol class=""><li id="f12e" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated">夏皮罗-维尔克检验(仅适用于高斯分布)</li><li id="0296" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">达戈斯蒂诺的K 2检验(仅适用于高斯分布)</li><li id="f87d" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">Anderson-Darling测试(对于许多其他分布也是如此)</li></ol><p id="29e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我会使用<code class="du lz ma mb kj b">Shapiro-Wilk Test</code>，但你也可以尝试其他的。</p><h2 id="7209" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">视觉正常性检查</h2><p id="5c33" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">从<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj"> Part1-EDA </strong> </a>中生成的这些分布中，我们可以清楚地看到<code class="du lz ma mb kj b">acceleration</code>是高斯分布，<code class="du lz ma mb kj b">mpg</code>和<code class="du lz ma mb kj b">weight</code>是右偏的或者可能是对数正态分布。</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/519232d4d45c4ead1f38614d2767df78.png" data-original-src="https://miro.medium.com/v2/format:webp/1*U3SHa7rI70nmzDmqmRNKrg.png"/></div></figure><p id="a80c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">对数正态分布</strong>是对数正态分布的随机变量的分布。因此，如果随机变量X是对数正态分布，那么Y = ln(X)具有正态分布。</p><p id="ab36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将检查mpg和体重是否符合对数正态分布。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/03bb72576ea48dfafc9e3ea18d647dce.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CoQVtirk6ykhjDXZAEFJCg.png"/></div></figure><p id="eb75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在应用对数变换后，我们发现体重不是对数正态，但mpg在视觉上<strong class="ih hj">看起来像对数正态</strong>。</p><p id="7ceb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们用分位数-分位数图来检查正态性。下面是原始数据的<code class="du lz ma mb kj b">quantile-quantile</code>图。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/cade1898314be0be2112ac7cf75dd648.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3MZJXB0LjTf88x-5XDg5rg.png"/></div></figure><p id="a374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以<code class="du lz ma mb kj b">acceleration</code>的histplot和qqplot都表明它确实接近高斯。</p><h2 id="5b3b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">统计正态性检验</h2><p id="3ca8" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">我们将使用<code class="du lz ma mb kj b">shapiro wilk test</code>对数字属性的正态性进行假设检验。</p><p id="3453" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="li"> H_0 </em> </strong>:数据取自正态分布，alpha=0.05</p><p id="ae85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们定义一个函数，在显著性水平<code class="du lz ma mb kj b">alpha</code>下测试数据帧列的零假设。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="9c83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哎呀，我们期望加速度是正态分布的，但是被测试拒绝了。p值是0.03，所以我们在5%的显著性水平下拒绝了它，但是如果它是2.5%，那么我们将无法拒绝零假设。我们现在不会改变p值，否则它将成为<strong class="ih hj"> p-hacking </strong>。拒绝h0的一个可能原因是我们的数据没有被缩放，我认为缩放会有帮助。</p><p id="80c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在将把<code class="du lz ma mb kj b">power transform</code>应用到<strong class="ih hj">中，使数据更像</strong>中的高斯分布。然后检查转换数据的正态性。</p><p id="d166" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Power Transform </strong>:对数据进行特征转换，使其更像高斯分布。幂变换是一系列参数化的单调变换，用于使数据更接近高斯分布。这对于建模与异方差(非恒定方差)相关的问题，或者像这里一样需要正态性的其他情况非常有用。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/98ab1134317b2c44e8ab88785d540c68.png" data-original-src="https://miro.medium.com/v2/format:webp/1*mV2_olJPcvllBM23pB21ng.png"/></div></figure><blockquote class="lf lg lh"><p id="84b4" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>:从数据框中移除<code class="du lz ma mb kj b">nans</code>时，电力变压器使整个重量栏为0。我找不到原因，问了sklearn社区，并在我找到原因后更新了笔记本。如果你发现了原因，请评论。</p></blockquote><p id="16c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将离开<code class="du lz ma mb kj b">weight</code>。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/92d4f41fb835a9bc0029109c403756c0.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-_i1wS2OE8acbGSMR5qCMA.png"/></div></figure><p id="d37e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Power transforms做了两件事，首先，它缩放了数据，即现在数据以0为中心，并且还使分布更像高斯分布，同时保留了原始结构。这是通过应用平方根、对数等变换来实现的。</p><p id="6867" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lz ma mb kj b">acceleration</code>仍然是高斯型，从<code class="du lz ma mb kj b">mpg</code> &amp; <code class="du lz ma mb kj b">weight</code>中去掉偏斜度，使得mpg类似高斯型。<code class="du lz ma mb kj b">displacement</code>的分布也有所改善，现在是双峰分布，这符合观察结果。</p><blockquote class="lf lg lh"><p id="cd16" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">有一点你已经注意到，在应用幂变换后，<code class="du lz ma mb kj b">mpg</code> &amp; <code class="du lz ma mb kj b">weight</code>的分布与我们在应用对数变换时得到的分布非常相似。事实上，sklearn的功率变换确实应用了对数变换，参考<a class="ae jd" href="https://scikit-learn.org/stable/modules/preprocessing.html#preprocessing-transformer" rel="noopener ugc nofollow" target="_blank">这个</a>。</p></blockquote><p id="fbce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们使用分位数-分位数图来检查正态性。下面是转换数据的<code class="du lz ma mb kj b">quantile-quantile</code>图。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/55ad0cd9ca3b3df20589937e68534480.png" data-original-src="https://miro.medium.com/v2/format:webp/1*RZmOOp-_6AmdtPLUZTLv1g.png"/></div></figure><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="b720" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，在标准化数据时，与之前相比，假设数据正常，观察到<code class="du lz ma mb kj b">acceleration</code>的可能性非常高。</p><blockquote class="lf lg lh"><p id="cdb9" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">所以，<code class="du lz ma mb kj b">acceleration</code>在视觉上和统计上都是正态分布。</p></blockquote><p id="b003" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">未标准化的数据有时也会导致一些错误的见解。例如，</p><p id="4fdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jd" rel="noopener" href="/@greatsharma04/eda-for-beginners-using-python-4fcd2b57d1f7"> <strong class="ih hj"> Part1-EDA </strong> </a>中，我们绘制了关系图，从这些图中可以看出，虽然所有属性都与<code class="du lz ma mb kj b">mpg</code>有单调关系，但这些关系看起来并不完全是线性的。</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/53f156a0856e1a3ed592b7df1359973f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CRUnfBQt6MukFYbA2Etv9w.png"/></div></figure><p id="e3cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是在转换后的数据中，所有的关系都是纯线性的。</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/9f26879afe078146c85a4707fb5191c9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*6u2SumeQryZpA35PGPoWOA.png"/></div></figure><p id="1f6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>几乎每个人都是<strong class="ih hj">同方差</strong>但是加速度看起来更<strong class="ih hj">异方差</strong>。</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="b2f7" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">测试两个连续变量之间的相关性</h2><h2 id="20ee" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">协方差</h2><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es mw"><img src="../Images/20955328faf2e35a4abdff4c74c41b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*MstIZHpSzND0snsDcdU1cQ.png"/></div></figure><p id="12a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在计算中使用平均值表明每个数据样本需要具有高斯或类高斯分布，因此其<strong class="ih hj">参数统计</strong>。也很难解释，因为它可以取任何值。</p><h2 id="252a" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">线性关联(皮尔逊相关)</h2><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es mx"><img src="../Images/c7dbf50ee94f365770a356ef640b5531.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*bmYYCH49IB8fXRNfXdiFMA.png"/></div></figure><p id="7e0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">皮尔逊相关系数只是两个变量之间的<strong class="ih hj">归一化协方差</strong>以给出可解释的分数，</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="er es my"><img src="../Images/ada751780fda58b53e94c19cdebd689c.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*0psVZI_QucS1VmdWFE4M9g.png"/></div></div></figure><p id="ec40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它可用于总结两个数据样本之间线性关系的强度。在计算中使用平均值和标准偏差表明需要两个数据样本具有高斯或类高斯分布，因此这是一个<strong class="ih hj">参数统计</strong>。</p><p id="9375" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为统计假设检验，该方法假设样本是不相关的(拒绝h0失败)。</p><p id="65d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">皮尔逊相关的假设</strong> : <br/> <strong class="ih hj"> 1。</strong>两个变量都应该具有高斯或类高斯分布。<br/>T23】2。变量之间的关系应该是线性的。<br/> <strong class="ih hj"> 3。</strong>同方差，即所有随机变量具有相同有限方差的随机变量序列。</p><p id="b6b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，皮尔森对异常值非常敏感。</p><p id="7187" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">两个变量可以通过非线性关系相关，使得该关系在变量的分布上更强或更弱。在这些情况下，即使变量之间有很强的相关性，皮尔逊相关系数也很低。此外，所考虑的两个变量可能具有非高斯分布。为了正确识别具有非线性关系的变量之间的关联，我们可以使用基于等级的相关方法。</p><h2 id="a9fe" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">有序关联(等级相关)</h2><p id="c6cf" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">等级相关是指使用值之间的顺序关系而不是特定值来量化变量之间的关联的方法。在这种情况下，我们首先按升序对数据进行排序，然后给它们分配整数等级，然后用它来查找相关的黑白变量。因为没有假设值的分布，所以等级相关方法被称为无分布相关或非参数相关。</p><p id="7848" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">四种等级相关方法如下:</p><h2 id="d624" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">1.斯皮尔曼等级相关</h2><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es nd"><img src="../Images/b678df12982c6904466982ad112d33dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*hzmCxWo46UdPIVsEKkr3Kg.png"/></div></figure><p id="528c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">斯皮尔曼相关性是一种<strong class="ih hj">非参数等级相关性</strong>并且也是可解释的，</p><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="er es ne"><img src="../Images/c66487a46ebb57567b8bf5dc69f1dd63.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*buM7vPTU6ccaaXC3aMaYZQ.png"/></div></figure><p id="32a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这种情况下，不是使用样本本身的协方差和标准偏差来计算系数，而是通过将原始数据转换成秩数据来计算这些统计数据，因此是非参数的。<strong class="ih hj">这是非参数统计中常用的方法。</strong></p><p id="05da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为统计假设检验，该方法假设样本是不相关的(拒绝h0失败)。</p><h2 id="c847" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">2.肯德尔等级相关</h2><p id="5409" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">测试的直觉是，它计算两个样本之间匹配或一致等级的标准化分数。因此，该测试也被称为肯德尔的一致性测试。</p><p id="10a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为统计假设检验，该方法假设样本是不相关的(拒绝h0失败)。</p><h2 id="1b65" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">3.古德曼和克鲁斯卡尔的秩相关</h2><h2 id="6cd6" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">4.萨默斯等级相关</h2><p id="3a69" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated"><strong class="ih hj">相关类型</strong> : <br/> <strong class="ih hj">正:</strong>两个变量同向变化。<br/> <strong class="ih hj">中性:</strong>变量的变化没有关系。<br/> <strong class="ih hj">负:</strong>变量反方向变化。</p><p id="cec2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">统计测试只告诉效果的可能性。它没有告诉我们效果的大小。一个实验的结果可能是重要的，但影响很小，没有什么后果，或者结果可能是微不足道的，但影响很大。</p><p id="1dd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">效应大小:</strong>是预期在人群中发生的效应或结果的大小或幅度。不像<strong class="ih hj">显著性测试</strong>仅仅告诉我们影响的可能性，<strong class="ih hj">影响大小</strong>实际上告诉我们影响发生的数值。所以它给了我们更多的力量。</p><p id="9a4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们将对</strong> <code class="du lz ma mb kj b"><strong class="ih hj">mpg</strong></code> <strong class="ih hj">与其他数值特征</strong>的关系进行效果检验。也就是说，我们将获得一个绝对值，而不是量化b/w <code class="du lz ma mb kj b">mpg</code>和其他数字特征之间相关性的可能性。</p><p id="6552" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是以上所有的关联测试不仅给出了效应大小，而且给出了p值。所以可以同时看这两个值。我们将使用<code class="du lz ma mb kj b">spearman</code>,但你可以使用任何其他接受<code class="du lz ma mb kj b">pearson</code>,因为所有数值变量不满足皮尔逊的假设。</p><p id="96d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以对于所有相关测试b/w mpg和其他属性，我们的零假设将是，</p><p id="bfca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="li">h0</em></strong>:<code class="du lz ma mb kj b">mpg</code>和<code class="du lz ma mb kj b">other attribute</code>不相关，alpha=0.05</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><blockquote class="lf lg lh"><p id="c6f4" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">因此，在5%的显著性水平下，所有的h0都被剔除。接受“加速度”,所有其他相关性都非常高，这一点在我们之前的图中也很明显。</p></blockquote><p id="0712" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在为每一对的相关性创建一个数据帧。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/ac4398a3c1c912c05c915726676d1e58.png" data-original-src="https://miro.medium.com/v2/format:webp/1*tkU3ZomwSs1KItCrykVk4w.png"/></div></figure><blockquote class="lf lg lh"><p id="2dc6" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">对(mpg，加速度)，(位移，加速度)和(重量，加速度)的相关性中等，而其余所有对之间的相关性非常高。</p></blockquote><p id="abe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在将检验两个样本是否具有相同的均值。为此，我们对两种不同的条件进行了两种类型的显著性检验。</p><h2 id="2faa" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">参数统计显著性检验</h2><ol class=""><li id="c541" class="kr ks hi ih b ii jz im ka iq nf iu ng iy nh jc kw kx ky kz bi translated"><strong class="ih hj">学生t检验</strong> —检验两个独立的正态分布样本是否具有相同的均值。</li><li id="92e9" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">方差分析检验(ANOVA) </strong> —检验两个或两个以上独立的正态分布样本是否具有相同的均值。</li></ol><blockquote class="lf lg lh"><p id="0087" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">方差分析与t检验相同，但用于2个以上的变量。因此，我们要么成对地应用t检验，要么应用一次方差分析。此外，ANOVA仅说明所有样本是否相同，它不会量化哪些样本不同或不同多少。</p></blockquote><h2 id="dadf" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">非参数统计显著性检验</h2><ol class=""><li id="f03a" class="kr ks hi ih b ii jz im ka iq nf iu ng iy nh jc kw kx ky kz bi translated"><strong class="ih hj">曼-惠特尼U检验</strong> —学生t检验的非参数等效物。</li><li id="6d41" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj"> Kruskal-Wallis H </strong> —方差分析的非参数等值(用于中位数)。</li></ol><p id="7c77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将根据样本进行适当的检验，即如果样本呈正态分布，则进行参数检验，否则进行非参数检验。</p><p id="328c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们测试一下<code class="du lz ma mb kj b">japan</code>和<code class="du lz ma mb kj b">usa</code>中的加速度是否具有相同的含义。首先，我们检查日本和美国的加速度是否正态分布，然后应用适用的测试。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="28bd" class="je jf hi kj b fi kn ko l kp kq">So both are normally distributed so we can apply parametric test.</span></pre><p id="b881" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="li"> H_0 </em> </strong> : <em class="li">日本</em>加速度和<em class="li">美国</em>加速度样本均值相同，α= 0.05</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="f9ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为两个分布的方差不同，因此<code class="du lz ma mb kj b">equal_var=False</code></p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="268e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们测试一下所有地区的马力分布是否相同。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><blockquote class="lf lg lh"><p id="12df" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">所以它们都不是正态分布的，所以我们将应用非参数检验。</p></blockquote><p id="d208" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="li"> H_0 </em> </strong>:样本分布在整个区域马力相等，α= 0.05</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="cb6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">测试mpg_level高和中的样品的加速度是否具有相同的分布。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="93f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">测试多年来的mpg分布情况。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><h2 id="ffbc" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">分类属性和连续属性之间的关系</h2><p id="f08e" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">为此我们将使用sklearn的<code class="du lz ma mb kj b">feature_selection</code> api。</p><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/1078f12841121b30275bdfd21d37e74b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*a-QcIbCYAXPH-7i24nrQyA.png"/></div></figure><figure class="ke kf kg kh fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="ke kf kg kh fd lt er es paragraph-image"><div class="ab fe cl lw"><img src="../Images/5f7546573e1fc2154ab40b783de8cc7b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*l4iqS25iGHyRG-keitstVg.png"/></div></figure></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><p id="862b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们暂时结束了。我们做了一些很好的统计分析，也研究了scipy和scikit-learn提供给我们的各种统计测试。我们做了很多，并可以进一步扩展，但你得到的想法。</p><p id="e7e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来的部分是<a class="ae jd" href="https://github.com/greatsharma/MPG/tree/master/Modelling" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">预测建模</strong> </a> <strong class="ih hj"> </strong>主要是关于机器学习的。由于机器学习本身是一件大事，所以很难将其纳入一个单独的博客。你可以参考我的<a class="ae jd" href="https://github.com/greatsharma/MPG/tree/master/Modelling" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">这个</strong> </a> <strong class="ih hj"> </strong>资源库，它是这个系列的延续，包括<strong class="ih hj">特征_工程</strong>，<strong class="ih hj">交叉验证</strong>，<strong class="ih hj">损失</strong>，<strong class="ih hj">度量</strong>，<strong class="ih hj">测试不同的流水线</strong>，<strong class="ih hj">超参数调优</strong>和<strong class="ih hj"> auto-ml </strong>。在这个知识库中有很多东西需要学习。</p><blockquote class="lf lg lh"><p id="1d84" class="if ig li ih b ii ij ik il im in io ip lj ir is it lk iv iw ix ll iz ja jb jc hb bi translated">你可以从<a class="ae jd" href="https://www.kaggle.com/gauravsharma99/statistical-analysis-on-mpg-data" rel="noopener ugc nofollow" target="_blank">这里</a>获得这个博客的<strong class="ih hj">完整文档jupyter笔记本</strong>，你只需要叉它。此外，如果你喜欢这款笔记本，那么<strong class="ih hj">投票支持</strong>，这将激励我创造更多高质量的内容。</p></blockquote><p id="c673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这个故事，请为它鼓掌，并与他人分享。</p><p id="34af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，请阅读我的其他故事，其中包括各种主题，</p><ul class=""><li id="08b3" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mt kx ky kz bi translated"><a class="ae jd" rel="noopener" href="/analytics-vidhya/effect-of-multicollinearity-on-linear-regression-1cf7cfc5e8eb"> <strong class="ih hj">多重共线性对线性回归的影响</strong>，</a>你一定会学到多重共线性和线性回归的实质细节。</li><li id="a311" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><a class="ae jd" rel="noopener" href="/@greatsharma04/facial-emotion-recognition-fer-using-keras-763df7946a64"> <strong class="ih hj">面部情感识别</strong> </a>使用keras。</li></ul><p id="f66f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有<a class="ae jd" rel="noopener" href="/@greatsharma04">更多</a>。</p><h2 id="8939" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">参考</h2><p id="b34e" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">以下材料被用作来源和指导-</p><ul class=""><li id="6438" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mt kx ky kz bi translated">数据来源:<a class="ae jd" href="https://archive.ics.uci.edu/ml/datasets/auto+mpg" rel="noopener ugc nofollow" target="_blank">https://archive.ics.uci.edu/ml/datasets/auto+mpg</a></li><li id="d3ed" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated">最大似然的统计方法。大部分的定义都来自这本很棒的书。</li><li id="a3ab" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mt kx ky kz bi translated"><a class="ae jd" href="https://cyfar.org/what-data-analysis" rel="noopener ugc nofollow" target="_blank">https://cyfar.org/what-data-analysis</a></li></ul><p id="3b90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">再次感谢朋友们阅读我的故事:</strong></p></div></div>    
</body>
</html>