<html>
<head>
<title>Rule Based Sentiment Analysis With Python for Turkey’s Stock Market</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">土耳其股票市场基于规则的Python情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/rule-based-sentiment-analysis-with-python-for-turkeys-stock-market-839f85d7daaf?source=collection_archive---------24-----------------------#2020-05-11">https://medium.com/analytics-vidhya/rule-based-sentiment-analysis-with-python-for-turkeys-stock-market-839f85d7daaf?source=collection_archive---------24-----------------------#2020-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d6142292e3f3398eaba9d450c5a93862.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*ZietnWFRmSjG90CJwkT6Pw.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><a class="ae iq" href="https://www.linkedin.com/pulse/sentiment-analysis-stock-market-proxy-capturing-investors-kumar" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/pulse/情操-分析-股票-市场-代理-捕捉-投资者-库马尔</a></figcaption></figure><h2 id="6afb" class="ir is hi bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">在社区的大力支持下，Python在数据科学领域发生了很大的变化。在这篇文章中，我尝试做了一个情感分析，叫做基于规则的情感分析。</h2><p id="abcd" class="pw-post-body-paragraph jp jq hi jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hb bi translated">让我们从导入库开始。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="b90f" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">从twitter上挖掘数据有很多方法，但在这项工作中，我使用了一个名为<a class="ae iq" href="https://github.com/taspinar/twitterscraper" rel="noopener ugc nofollow" target="_blank"> twitterscraper </a>的库，它不需要api键或任何东西。您可以通过用python编码或用终端作为json文件来抓取数据。我用了终端。我想分析关于土耳其股票市场Bist 100的推文，下面是我的命令行:</p><p id="266b" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated"><code class="du kv kw kx ky b"><strong class="jr hj"><em class="kz">twitterscraper Bist100 -bd 2020–03–01 -ed 2020–05–01 -o bist100tweets.json</em></strong></code></p><p id="622f" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">我选择3月1日至5月1日之间的推文，以实际了解covid19对市场的影响。</p><p id="1fad" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">为了清理数据，我选择了layz，并找到了一个名为<a class="ae iq" href="https://pypi.org/project/tweet-preprocessor/" rel="noopener ugc nofollow" target="_blank"> tweet-preprocessor </a>的伟大的库来清理来自标签、主题和链接的tweet。因为我要做一些groupby操作，所以我创建了一个单独的日期列，没有小时分钟信息。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="3667" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">这是关于我们数据框架的信息</p><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es la"><img src="../Images/4896a38fcb1fb93bc32fc72423c38136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1GxjaEBcJNGhb0UxQNW0w.png"/></div></div></figure><p id="8fe9" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">在清除了标签、提及和链接之后。</p><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lf"><img src="../Images/ce28731c9caf2a62f2420ea3530631a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wAKzLKtO6ittUCJLAiBSTg.png"/></div></div></figure><p id="4c31" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">在基于规则的情感分析中，你要有正负词的数据。我从kaggle中名为<a class="ae iq" href="https://www.kaggle.com/rtatman/sentiment-lexicons-for-81-languages" rel="noopener ugc nofollow" target="_blank">81种语言的情感词典</a>的数据集以txt格式获得并使用了这些数据。我还使用python nltk库从数据集中删除了停用词和标点符号。您可以从stackoverflow中找到这些函数。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="bd14" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">为了获取土耳其语单词的词干，我使用了一个名为<a class="ae iq" href="https://github.com/otuncelli/turkish-stemmer-python" rel="noopener ugc nofollow" target="_blank"> turkish-stemmer-python </a>的库。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="ed93" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">在stackoverflow的帮助下，我发现了一个很棒的函数，如果一个字符串列包含列表中的特定单词，它会在单词列表中创建一个新列。这帮助我在推文中创建了一个负面和正面词汇的专栏。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="f18d" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">我们的最终数据框架包含负数、正数和词干标记:</p><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lf"><img src="../Images/c52b44a65338aa44ce7b99750a49eca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-E3fOMX97mKKbkKf2mHGHg.png"/></div></div></figure><p id="c9ec" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">由于我的情感分析方法是一种最原始的方法，叫做基于规则的方法，我通过从一篇文章中的正面词总数中减去负面词的数量来计算我的极性。如果pos或neg行是空的，我从表示我称为len_pos和len_neg的tweet中的积极和消极单词数的行中扣除它，因为它将它计为1，我还用sent_rate将句子中的句子单词数除以总单词数，这给了我们关于句子感伤性的信息。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="96d0" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">通过取每日极性数的平均值并将其分组，我现在可以看到Bist100 tweets每天的情绪变化。由于某种原因，我无法弄清楚，一些日期丢失了，所以如果你能弄清楚，请通知我。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><figure class="kk kl km kn fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/756d34c58e23e6a13ea7cd05b3ff4717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3qIIlZJZuqCBjzafC6vHg.png"/></div></figure><p id="b213" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">现在，让我们用python编写的<a class="ae iq" href="https://github.com/fatihmete/evds" rel="noopener ugc nofollow" target="_blank"> evds </a>库获取bist100收盘的真实值，并查看上面的日期范围。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><figure class="kk kl km kn fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/3798819353893d0e604fc14f6f1db627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJoXEqoQBihi_LuWqH1a7g.png"/></div></figure><p id="01a7" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">于是，我们通过一个简单的情感分析，看到了twitter上bist100的极性变化和bist100的价值变化之间的联系。希望这部作品能激励很多人。</p><p id="f26c" class="pw-post-body-paragraph jp jq hi jr b js kq ju jv jw kr jy jz jc ks kb kc jg kt ke kf jk ku kh ki kj hb bi translated">Jupyter笔记本:<a class="ae iq" href="https://github.com/pytmar/Python-Turkish-Sentiment-Analysis" rel="noopener ugc nofollow" target="_blank">Python-Turkish-情操-分析</a></p><div class="lh li ez fb lj lk"><a href="https://monkeylearn.com/sentiment-analysis/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">情感分析</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">情感分析是对文本中的情感(积极、消极和中性)进行解释和分类…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">monkeylearn.com</p></div></div><div class="lt l"><div class="lu l lv lw lx lt ly ik lk"/></div></div></a></div></div></div>    
</body>
</html>