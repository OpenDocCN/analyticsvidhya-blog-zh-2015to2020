<html>
<head>
<title>Stock Price Forecasting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">股票价格预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/stock-price-forecasting-i-analysing-time-series-e7157563cbce?source=collection_archive---------6-----------------------#2019-10-09">https://medium.com/analytics-vidhya/stock-price-forecasting-i-analysing-time-series-e7157563cbce?source=collection_archive---------6-----------------------#2019-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="fdea" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">第1部分—创建时间序列模型并进行分析</h2></div><p id="5004" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">股票价格行为是随机模型的经典例子。虽然足够随机，但如果你幸运的话，你可以非常准确地预测股票价格——这就是市场的基本运作方式。</p><p id="cdfd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，在我们深入研究预测之前，我们首先需要了解给定股票的价格在现实中的表现，并尽可能多地找出它所依赖的因素。</p><p id="ea5a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是一个大约两年的股票价格时间序列的例子:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/af31b8f64454b554c680081f66d79317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChLVmnAh4IDIPJ6dTMWOeQ.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">一、股价价值</figcaption></figure><p id="4733" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">绝对不是一个简单的曲线拟合的情节。让我们看看如何使它变得更容易。</p><p id="c1fb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">任何时间序列都由以下部分组成:</p><ul class=""><li id="2f51" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated"><strong class="iz hj">趋势</strong>:随时间增加或减少的<em class="ks">系统性</em>成分。</li><li id="d2af" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated"><strong class="iz hj">季节性</strong>:随着时间重复的<em class="ks">系统性</em>成分。</li><li id="0f10" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated"><strong class="iz hj">噪音</strong>:数据中的<em class="ks">非系统性</em>成分。</li></ul><p id="4d97" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以将任何时间序列曲线建模为基于上述成分的加法或乘法模型。</p><p id="71da" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加法模型→ y(t) =趋势+季节性+噪声</p><p id="3f51" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">乘法模型→ y(t) =趋势*季节性*噪声</p><p id="ec7d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">鉴于噪声存在于所有现实生活中的时间序列，让我们看看如何分解一个时间序列，以检查其他两个可选组件的存在。</p><h2 id="c0b9" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">但是，如何在加法模型和乘法模型之间做出决定呢？</h2><ul class=""><li id="acc2" class="kj kk hi iz b ja lt jd lu jg lv jk lw jo lx js ko kp kq kr bi translated">当季节性模式随着数据值的增加或减少而增加或减少时，最好选择乘法模型。</li><li id="a80d" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">当季节性模式随着数据值的增加或减少而大致保持不变时，加法模型更好。</li><li id="2bfb" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">然而，有时数据模式并不明显，我们尝试两者并选择更准确的一个。</li></ul><p id="4268" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是我用来将时间序列分解成其组成部分的代码片段:</p><figure class="ju jv jw jx fd jy"><div class="bz dy l di"><div class="ly lz l"/></div></figure><p id="c268" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ks">我们选择乘法分解，因为上图中序列的季节性随着时间的推移而增加。</em></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ma"><img src="../Images/52c1544d620fd85bd4a381df04119fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pI1_gjbx0-VVPUIi-qtkw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">分解上述时间序列后</figcaption></figure><p id="5367" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以清楚地看到，该系列似乎受到了上升趋势的严重影响。除此之外，似乎没有适当的季节性，残差(代表噪声)似乎随着时间的增加而变化更多。</p></div><div class="ab cl mb mc gp md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hb hc hd he hf"><h1 id="1d84" class="mi kz hi bd la mj mk ml le mm mn mo li io mp ip ll ir mq is lo iu mr iv lr ms bi translated">平稳性分析:</h1><p id="321a" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg mt ji jj jk mu jm jn jo mv jq jr js hb bi translated">如果一个时间序列的统计量如均值、方差等是平稳的，则称之为平稳的。保持不变。对平稳序列进行预测很容易，因为您可以根据恒定的统计测量值对期望值制定更高的概率。</p><p id="363f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是平稳性检测的一些经典测试的结果:</p><ul class=""><li id="5528" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated"><strong class="iz hj">滚动平均值:</strong></li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mw"><img src="../Images/ad095e46cb85a53f86cc864b702bca46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIyLsdbtIhpQO9eXFxVj4w.png"/></div></div></figure><p id="ffa9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这张图再次向我们暗示了上升的趋势，然而变化似乎在一个恒定的范围内。</p><ul class=""><li id="cc3b" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated"><strong class="iz hj"> ADF测试结果:</strong></li></ul><p id="2a5b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">增强的Dicky Fuller检验检查数列中单位根的存在。时间序列中的单位根意味着该序列的<strong class="iz hj">均值</strong>可能是<em class="ks">常数</em>，但其<strong class="iz hj">方差</strong>保持<em class="ks">变化，没有任何模式</em>——因此我们无法将曲线拟合到任何方程，或者换句话说，我们有一个很难预测的序列。</p><ul class=""><li id="65bc" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated">HO(零假设):<em class="ks">时间序列有单位根。</em></li><li id="1051" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">H1(替代假说):<em class="ks">时间序列是平稳的。</em></li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mx"><img src="../Images/e17aff9f4c64a19eb0ece377bf7cc5cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*aX2nyZyUxF0ssQ4uk4TifQ.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">ADF测试结果</figcaption></figure><p id="15ee" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为测试统计值&lt; critical value at all confidence intervals, we reject the null hypothesis that the series has a unit root.</p><ul class=""><li id="71ee" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated"><strong class="iz hj">的KPSS测试结果</strong>:</li></ul><p id="8b8c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这</p><ul class=""><li id="1af6" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated">HO(零假设):<em class="ks">数据是平稳的。</em></li><li id="6838" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">H1(替代假设):<em class="ks">数据不是平稳的。</em></li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es my"><img src="../Images/3083c2f1333916b8b49745d3e83996cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*uvO8XkjuF5iZvc8BCzWutw.png"/></div></figure><p id="0ceb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当检验统计量的值&gt;所有置信区间的临界值时，我们拒绝序列是平稳的零假设。</p><p id="bd56" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">最终推断:</strong></p><ul class=""><li id="9f84" class="kj kk hi iz b ja jb jd je jg kl jk km jo kn js ko kp kq kr bi translated">ADF测试:拒绝H0，因此系列是固定的</li><li id="f4e5" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">KPSS检验:拒绝H0，因此数列不是平稳的</li><li id="f281" class="kj kk hi iz b ja kt jd ku jg kv jk kw jo kx js ko kp kq kr bi translated">由于KPSS认为数列不是平稳的，而ADF则相反，我们可以应用<strong class="iz hj"> <em class="ks">差分</em> </strong>使数列平稳。</li></ul></div><div class="ab cl mb mc gp md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hb hc hd he hf"><h2 id="28a6" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated"><strong class="ak">通过应用差分使时间序列平稳:</strong></h2><p id="b9d4" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg mt ji jj jk mu jm jn jo mv jq jr js hb bi translated">以下是对我们的时间序列数据应用不同差分策略后的结果</p><p id="187d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第一个区别:</strong></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es mz"><img src="../Images/eacf3a3a911747d8b1751bdf05bcce03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HLpGjlIWhXF42ZYPe8kFMw.png"/></div></div></figure><p id="1d0e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">每周季节性差异:</strong></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es na"><img src="../Images/0d11c01fbaa29fe968841cbe00a3fb31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SDSoixflz_cTd6-YvW--Q.png"/></div></div></figure><p id="2b78" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">日志季节差异:</strong></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es nb"><img src="../Images/06da55dea903f762f0202fd2a572a64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ppn2JdiulA6BXwBaFsFWgg.png"/></div></div></figure><p id="f7fe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于季节差异图和对数季节差异图没有太大差异，我们将在预测中使用每周季节差异。</p><p id="5ef0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于预测，本教程的第2部分—请继续关注！</p></div></div>    
</body>
</html>