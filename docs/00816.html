<html>
<head>
<title>WNS Marketing Analytics Hackathon: Top 3 Inspiring Winning Solutions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WNS营销分析黑客马拉松:3大鼓舞人心的获胜解决方案</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions-faa2e1efb0fc?source=collection_archive---------8-----------------------#2019-09-10">https://medium.com/analytics-vidhya/wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions-faa2e1efb0fc?source=collection_archive---------8-----------------------#2019-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="990d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">黑客马拉松极大地塑造了我的数据科学生涯。他们帮助我理解了<a class="ae jd" href="https://courses.analyticsvidhya.com/courses/structured-thinking-and-communication-for-data-science-professionals?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">结构化思维</a>的重要性，以及如何在时间紧迫的情况下使用它。这种想法实际上是驱动成功数据科学家角色的本质。</p><p id="cf20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我收到了很多有抱负的数据科学专业人士的问题，他们想知道如何从竞争中脱颖而出，并在该领域获得一席之地。这是一个多层面的问题，但我一直指出的一个共同要素是——<a class="ae jd" href="https://datahack.analyticsvidhya.com/contest/all/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">开始参与黑客马拉松</a>并评估你的立场。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/ec3f959d6103de5b571db915a3cc8913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7fzzznWc_oeyM0VN"/></div></div></figure><p id="d00a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">而如果能爬上排行榜，那就更好了！</p><p id="66d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我很高兴地分享了前三个成功的方法(和代码！)来自<a class="ae jd" href="https://datahack.analyticsvidhya.com/contest/wns-analytics-wizard-2019/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"> WNS分析向导2019黑客马拉松</a>。这是Analytics Vidhya迄今为止最大的黑客马拉松，从这些获胜者的解决方案中可以学到很多东西。</p><p id="e0d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，拿出纸和笔，记笔记，不要错过任何其他的黑客马拉松！直接前往<a class="ae jd" href="https://datahack.analyticsvidhya.com/contest/all/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"> DataHack平台</a>参加今天即将到来的比赛。</p><h1 id="03bb" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">关于WNS分析向导2019黑客马拉松</h1><p id="f99d" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">WNS分析向导2019是Analytics Vidhya举办的最大的黑客马拉松。以下是这个历史性的黑客马拉松背后的数字总结:</p><ul class=""><li id="2185" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><strong class="ih hj">总注册人数:6456人</strong></li><li id="8859" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><strong class="ih hj">总提交数:11，564 </strong></li><li id="5886" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><strong class="ih hj">奖金:价值4000卢比(以及WNS的面试机会)</strong></li></ul><p id="b9b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一次令人难忘的为期9天的黑客马拉松，来自全球各地的众多数据科学家参与其中。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lh"><img src="../Images/37f300589c55c8ec7beb31ff00a5a19f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N2PqBWTy8O2rYn5P"/></div></div></figure><h1 id="13d9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">WNS分析向导2019黑客马拉松的问题陈述</h1><p id="845a" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">让我们来看看这次黑客马拉松的问题陈述。</p><p id="b0f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Zbay是一家电子商务网站，在其在线平台上销售各种产品。Zbay记录其客户的用户行为，并以日志形式存储。然而，大多数情况下，用户不会立即购买产品，并且会有一个时间差，在此期间，客户可能会在网上冲浪，也可能会访问竞争对手的网站。</p><p id="9ba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，为了提高产品的销量，Zbay聘请了广告技术公司Adiza，该公司建立了一个系统，在其合作伙伴网站上显示Zbay产品的广告。</p><p id="4fdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果用户来到Zbay的网站并搜索一种产品，然后访问这些合作伙伴网站或应用程序，他/她以前查看的商品或其类似商品会显示为广告(ad)。如果用户点击这个广告，他/她将被重定向到Zbay的网站，并可能购买该产品。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/9ef3d9cec43efb9d6da82c6797de2ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/0*IwK9AIlgVAft0MJd"/></div></figure><blockquote class="lj lk ll"><p id="fd0d" class="if ig lm ih b ii ij ik il im in io ip ln ir is it lo iv iw ix lp iz ja jb jc hb bi translated"><em class="hi">在这个问题中，任务是基于历史观看日志数据、广告印象数据和用户数据来预测点击概率，即用户点击在未来7天内在合作伙伴网站上显示给他们的广告的概率。</em></p></blockquote><p id="8deb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">向参加者提供了:</p><ul class=""><li id="5f09" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">查看用户日志(2018/10/15–2018/12/11)</li><li id="1d55" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">从Zbay网站收集的产品描述</li><li id="314a" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">包含合作伙伴网站广告投放详情的培训数据和测试数据(培训+测试)</li></ul><p id="ec63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">训练数据包含2018/11/15–2018/12/13期间的印象日志以及指定广告是否被点击的标签。<strong class="ih hj">根据2018/12/12–2018/12/18期间有印象日志但无标签的测试数据对最终模型进行评估。</strong></p><h1 id="83fa" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">数据集描述</h1><p id="3d57" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">向参与者提供了以下文件:</p><ul class=""><li id="8a5d" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><strong class="ih hj"> train.zip </strong>:这包含了3个文件，我在下面提供了每个文件的描述</li><li id="1ca0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">测试文件包含了参与者需要预测点击率的印象</li></ul><p id="8e09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lm"> train.csv: </em> </strong></p><pre class="jf jg jh ji fd lq lr ls lt aw lu bi"><span id="0eca" class="lv jr hi lr b fi lw lx l ly lz"><strong class="lr hj">Variable</strong>             <strong class="lr hj">Definition</strong> <br/>impression_id        AD impression id <br/>impression_time      Time of the impression at partner website <br/>user_id              user id <br/>app_code             Code for partner website where ad was shown <br/>os_version           Version of operating system <br/>is_4G                1-Using 4G, 0-No 4G <br/>is_click (target)    Whether user clicked AD (1-click, 0-no click)</span></pre><p id="85a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="lm">view _ log . CSV:</em></strong></p><pre class="jf jg jh ji fd lq lr ls lt aw lu bi"><span id="0241" class="lv jr hi lr b fi lw lx l ly lz"><strong class="lr hj">Variable</strong>               <strong class="lr hj">Definition</strong>   <br/>server_time            Timestamp of the log   <br/>device_type            Device type of the user   <br/>session_id             Browser session id   <br/>user_id user id        item_id Item id</span></pre><p id="7eb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="lm">item _ data . CSV:</em></strong></p><pre class="jf jg jh ji fd lq lr ls lt aw lu bi"><span id="230d" class="lv jr hi lr b fi lw lx l ly lz"><strong class="lr hj">Variable          </strong> <strong class="lr hj">Definition</strong> <br/>item_id            Item id <br/>item_price         Price of the item <br/>category_1         Category depth 1 <br/>category_2         Category depth 2 <br/>category_3         Category depth 3 <br/>product_type       anonymized item type</span></pre><h1 id="9e23" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">WNS分析向导2019黑客马拉松的获奖者</h1><p id="6af0" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">赢得黑客马拉松是一项极具挑战性的任务。有许多障碍需要克服，更不用说来自世界顶级数据科学家的巨大竞争了。</p><p id="f7b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我喜欢浏览我们的获胜者提供的这些顶级解决方案和方法。首先，让我们看看谁赢了，并祝贺他们:</p><ul class=""><li id="87dd" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">排名1: <a class="ae jd" href="https://datahack.analyticsvidhya.com/user/profile/TheRealRoman?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">罗曼·皮扬科夫</a></li><li id="b096" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">排名2: <a class="ae jd" href="https://datahack.analyticsvidhya.com/user/profile/Vityzy?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">谢尔盖·阿雷菲耶夫</a></li><li id="4b4f" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">排名3:<a class="ae jd" href="https://datahack.analyticsvidhya.com/teams/team-ak-predicttai?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">AK队</a></li></ul><p id="738f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在<a class="ae jd" href="https://datahack.analyticsvidhya.com/contest/wns-analytics-wizard-2019/pvt_lb?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">排行榜</a>上查看所有参与者的最终排名。</p><p id="aa37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前三名获奖者分享了他们在比赛中的详细方法。我相信你很想知道他们的秘密，所以让我们开始吧。</p><h1 id="2804" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">排名3:<a class="ae jd" href="https://datahack.analyticsvidhya.com/teams/team-ak-predicttai?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">AK队</a> (Aakash Kerawat &amp;阿克谢·卡兰加尔)</h1><p id="73c6" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">以下是AK团队与我们分享的内容。</p><h1 id="8925" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">方法</h1><blockquote class="lj lk ll"><p id="4040" class="if ig lm ih b ii ij ik il im in io ip ln ir is it lo iv iw ix lp iz ja jb jc hb bi translated"><em class="hi">我们最终的解决方案是一个由</em><a class="ae jd" href="https://www.analyticsvidhya.com/blog/2017/06/which-algorithm-takes-the-crown-light-gbm-vs-xgboost/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"><em class="hi">light GBM</em></a><em class="hi">、</em> <a class="ae jd" href="https://www.analyticsvidhya.com/blog/2018/10/introduction-neural-networks-deep-learning/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"> <em class="hi">神经网络</em> </a> <em class="hi">和</em><a class="ae jd" href="https://www.analyticsvidhya.com/blog/2017/08/catboost-automated-categorical-data/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"><em class="hi">CatBoost</em></a><em class="hi">模型组成的集合。</em></p></blockquote><p id="c7b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">粗略地看一下数据集，似乎从<em class="lm"> view_logs </em>生成的特征将在提高分数方面发挥重要作用。但很快我们发现，从<em class="lm"> view_logs </em>生成的大多数特征都过度适合训练集。</p><p id="50e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是因为与测试集中的数据相比，更高百分比的训练数据具有最近的<em class="lm"> view_logs </em>。因此，我们在训练集上更加关注特征工程。</p><p id="d518" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对我们有用的功能是<em class="lm">每个用户的点击百分比/应用代码/用户应用代码</em>。仅这些功能就帮助我们在公共排行榜上达到了0.73xx。除此之外，我们还使用了一些基于时间的特性和一些来自<em class="lm"> view_logs </em>的特性。</p><blockquote class="lj lk ll"><p id="0ee5" class="if ig lm ih b ii ij ik il im in io ip ln ir is it lo iv iw ix lp iz ja jb jc hb bi translated"><em class="hi">我们两人的方法略有不同，在公开排行榜上给出了大约0.75xx的相似分数。</em></p></blockquote><p id="e056" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了这些共同特征，我们在个人方法中使用了一些不同的技术/特征，给出了大约0.75xx的分数。<strong class="ih hj">我们最终提交的是最佳个人模型的平均值排名。</strong></p><h2 id="f7b8" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">Aakash的方法:</h2><ul class=""><li id="21e0" class="kt ku hi ih b ii ko im kp iq mn iu mo iy mp jc ky kz la lb bi translated">我最强大的功能是基于目标的，即<em class="lm"> user_id </em>、<em class="lm"> app_code </em>和<em class="lm"> user_id/app_code </em>的平均点击量。上述的加权平均值也被证明是重要的(给予较新的记录较高的权重)。我创建的其他功能有:<br/> 1。<em class="lm">时间_自_前_广告<br/> 2。印象数(针对用户)<br/> 3。上一次点击次数总和<br/> 4。印象_时间_小时，</em>等。</li><li id="dfaf" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">我为<em class="lm"> view_logs </em>单独设计了功能，然后根据最近的<em class="lm"> server_time将它们结合起来。</em>然而<em class="lm">，</em>只有一个特征——视图数量——是有用的，而其他特征都过拟合</li><li id="d9f4" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">由于train和view_logs数据之间存在交集，因此强有力的验证策略对于这个问题非常重要。我设计了复制测试集的验证集(验证集和view_logs之间没有交集)</li><li id="1bea" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">最后，我训练了20个<a class="ae jd" href="https://www.analyticsvidhya.com/blog/2017/06/which-algorithm-takes-the-crown-light-gbm-vs-xgboost/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"> LightGBM模型</a>和20个全连接的神经网络(所有模型都有一个随机状态作为唯一的区别)，取LightGBM模型和神经网络模型的算术平均值。最后，我取两个输出的调和平均值。这使得公共排行榜得分为0.754倍</li></ul><h2 id="a118" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">阿克谢的方法</h2><p id="1172" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我的验证策略是简单的基于时间的分割:</p><ul class=""><li id="07b7" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">由于<em class="lm"> view_logs </em>特性在训练集上过度拟合，我从<em class="lm"> view_logs </em>数据集创建了一个额外的数据集:<em class="lm"> train_view_logs </em>(原始数据的一个子集，与训练数据集没有重叠)</li><li id="7952" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">我使用train_view_logs为训练数据集创建特征，并使用原始的<em class="lm"> view_logs </em>为测试数据集创建特征</li><li id="430d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">app_code特性非常重要，所以我决定对它进行编码，以便捕捉它们之间的隐藏关系。我使用了一个<em class="lm"> word2vec </em>模型来将<em class="lm"> app_codes </em>转换成100维向量，并使用它们来代替原来的app_codes变量</li><li id="c612" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">除了这些，我创造了如下特征:<br/> 1。时间_自_前_印象<br/> 2。下一次印象的时间<br/> 3。最后印象应用代码<br/> 4。峰值到峰值服务器时间(每用户)等。</li><li id="5a77" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">利用这些特性，我用不同的种子和一个CatBoost模型训练了15个LightGBM模型。我取了这些型号的简单平均值，在大众排行榜上达到0.754xx。</li></ul><p id="0e1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">你可以在这里</strong>  <strong class="ih hj">查看这种方法的完整代码</strong> <a class="ae jd" href="https://github.com/kunalj101/wns_analytics_wizard_2019/tree/master/Rank_3_Team_AK" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">。</strong></a></p><h1 id="71b9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">排名2: <a class="ae jd" href="https://datahack.analyticsvidhya.com/user/profile/Vityzy?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">阿列夫·谢尔盖</a></h1><p id="403b" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">以下是Arefev与我们分享的内容。</p><p id="faba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">整体方法</strong></p><ol class=""><li id="b235" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc mq kz la lb bi translated">使用梯度推进作为主要算法</li><li id="6df4" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">分层交叉验证</li><li id="72e0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">点击预测问题功能的用户标准(按id的值计数和平均值编码、点击次数之间的差异、按id分组以及唯一项目的长度)</li><li id="57aa" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">模型的特征选择和微调参数</li></ol><p id="a87f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来看看阿拉费夫的循序渐进的方法。</p><p id="08f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据预处理和特征工程</strong></p><ul class=""><li id="3caf" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">来自<em class="lm"> train.csv </em>的标准特性:</li></ul><ol class=""><li id="68b8" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc mq kz la lb bi translated">'操作系统版本'</li><li id="cf71" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">is_4G '</li></ol><p id="b7c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a.“数值计数应用代码”:应用代码特征的频率编码</p><p id="ef67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b.' mean_target_user_id ':过去每个user_id的目标平均值</p><ul class=""><li id="ea95" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">User_id时间特征:<br/> a .从user_id的上一次印象到下一次印象的时间<br/>b . user _ id的印象之间的最小时间</li><li id="7f50" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">User_id numbers特性:<br/> a .每个User_id的唯一app_code数<br/> b .每个user_id的唯一app_code数和值_counts数之差</li><li id="8d28" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">一周前(impression _ time-7天)用户在view_log.csv中查找的唯一项目数</li><li id="0656" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">过去的用户印象数和view_log中user _ ids的值计数</li><li id="a9d1" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">按app_code分组:对于每个app_code，通过以下特征计算平均值:</li></ul><ol class=""><li id="750a" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc mq kz la lb bi translated">'平均目标用户标识'</li><li id="9695" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">'数值计数用户标识'</li></ol><ul class=""><li id="f988" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">按用户标识从下一次印象开始的时间</li></ul><p id="614e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我的最终模型</strong></p><ul class=""><li id="ba25" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">我的最终模型是来自5个模型的预测的平均等级(对一个模型的预测进行排序，并给它们从0到测试数据集长度的等级)。这些通过分层验证在不同的训练集上被训练</li><li id="5104" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将验证从时间序列改为分层让我的分数提高了大约0.01。此外，我放弃了像app_code和user_id这样的特性，尽管它们在验证方面给出了更好的分数</li><li id="e7f0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">现在，我有大约50个特征。我计算了全套特征的梯度增强的特征重要性，将它们从高到低排序，并开始逐个丢弃特征。最后，我得到了上述特性的最终子集</li></ul><p id="24b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">关键要点</strong></p><ol class=""><li id="a525" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc mq kz la lb bi translated"><strong class="ih hj">如果目标变量的分布不随时间变化，使用分层交叉验证</strong></li><li id="64b7" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">按id使用时间和数量统计</li><li id="afaf" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">按主要id分组</li><li id="7c84" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">如果您认为特征会过度适合您的模型，请删除这些特征</li></ol><p id="c454" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参与者在解决此类问题时必须关注的事情</strong></p><ol class=""><li id="1868" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc mq kz la lb bi translated">选择正确的验证</li><li id="3e03" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">从一小组功能开始</li><li id="c3f8" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">开始使用渐变增强</li><li id="00e3" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc mq kz la lb bi translated">进行特征选择</li></ol><p id="5105" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/kunalj101/wns_analytics_wizard_2019/tree/master/Rank_2_Vityzy" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">这里是Arefev方法的完整代码</strong> </a> <strong class="ih hj">。</strong></p><h1 id="9d37" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">排名1: <a class="ae jd" href="https://datahack.analyticsvidhya.com/user/profile/TheRealRoman?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank">罗曼·皮扬科夫</a></h1><p id="4ce1" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">以下是罗曼与我们分享的内容。</p><h1 id="3619" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">方法</h1><blockquote class="lj lk ll"><p id="48a6" class="if ig lm ih b ii ij ik il im in io ip ln ir is it lo iv iw ix lp iz ja jb jc hb bi translated">我的解决方案主要由特征工程组成。</p></blockquote><p id="d6df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我根据用户id和应用程序代码特征生成了特性。这将在下面更详细地描述。我在10个不同的子样本上训练了一个LightGBM模型。作为最后的预测，我按排名对这些模型进行了平均。</p><h2 id="5997" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">验证方案</h2><p id="ecb2" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">为了验证，我使用了StratifiedKFold(来自<em class="lm"> sklearn.model </em>选择),参数如下:</p><ul class=""><li id="62f6" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">n_splits = 10</li><li id="5ba2" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">随机状态= 228</li><li id="c05c" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">洗牌=真</li></ul><h2 id="7323" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">特征工程</h2><ul class=""><li id="24eb" class="kt ku hi ih b ii ko im kp iq mn iu mo iy mp jc ky kz la lb bi translated">我将“os版本”列的字符串值编码为整数值(类别号)</li><li id="3c61" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">在“印象时间”专栏中，我制作了两个新功能——“小时”和“分钟”</li><li id="a353" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><strong class="ih hj"> user_id: </strong>我从列‘app _ code’(‘CNT unique app’)中计算了唯一值的数量。计算了user_id的唯一值的数量与所有值的数量之间的差异和比率(“gg 1 diff”、“gg 1 ratio”)-</li><li id="2f7c" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><strong class="ih hj"> app_code: </strong>我计算了user_id列中唯一值的数量。计算应用代码id的唯一值数量和所有值数量之间的差异和比率(“gg 2 diff”、“gg 2 ratio”)</li><li id="a36d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">对于每个“用户标识”，我计算了两个连续“印象时间”之间的平均值、最小值和最大值差异(“差异时间平均值”、“差异时间最大值”、“差异时间最小值”)</li></ul><p id="0c44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于每个用户id和印象时间，我计算了:</p><ul class=""><li id="8ad6" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">从当前印象时间到上一个和下一个用户动作的时间。计算用户上次点击的平均操作数(“上次不同时间用户id”、“下次不同时间用户id”、“值平均用户id”)</li><li id="23ce" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">对于每个app_code和impression_time，从当前印象时间到上一个和下一个app代码操作的时间。具有此app_code的用户上次点击的活动的计算平均数量(“上次不同时间应用代码”、“下次不同时间应用代码”、“平均值应用代码”)</li><li id="f03c" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">查看日志中前一时间的活动数量(“值控制查看用户id”)</li><li id="6959" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">前一时间的视图日志中两个连续“服务器时间”之间的平均值、最小值和最大值(“值不同时间视图用户id”值不同时间视图用户id最大值，“值不同时间视图用户id最小值”)</li><li id="a7ca" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">具有项目数据的view_log中的列的唯一值数目:['会话id '，'项目id '，'类别1 '，'类别2 '，'类别3 '，'产品类型']('用户id唯一会话id '，'用户id唯一项目id '，'用户id唯一类别1 '，'用户id唯一类别2 '，'用户id唯一类别3 '，'用户id唯一产品类型')</li><li id="6a31" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">带有项目数据的view_log中的列的值的模式:['项目id '，'类别1 '，'类别2 '，'类别3 '，'产品类型']('用户id模式项目id '，'用户id模式类别1 '，'用户id模式类别2 '，'用户id模式类别3 '，'用户id模式产品类型')</li></ul><h2 id="f067" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">最终模型</h2><p id="7deb" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我使用LightGBM作为我的最终模型，参数如下:</p><ul class=""><li id="8097" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">装袋分数= 0.8</li><li id="0f83" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">打包频率= 1</li><li id="0b28" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">升压= gbdt</li><li id="c475" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">特征分数= 0.8</li><li id="d9b4" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">学习率= 0.01</li><li id="83c9" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">度量= 'AUC '</li><li id="cea0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">叶子数量= 31</li><li id="531e" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">目标=二进制</li></ul><blockquote class="lj lk ll"><p id="3ea8" class="if ig lm ih b ii ij ik il im in io ip ln ir is it lo iv iw ix lp iz ja jb jc hb bi translated">我使用了一个有10个折叠的层叠文件夹，因此我得到了10个模型，用于对测试数据进行预测。将这10个预测中的等级平均用作最终预测。在本地验证中，我得到了以下平均ROC-AUC值:0.7383677000。</p></blockquote><h2 id="69b9" class="lv jr hi bd js ma mb mc jw md me mf ka iq mg mh ke iu mi mj ki iy mk ml km mm bi translated">对于此类问题，参与者必须关注:</h2><ul class=""><li id="4019" class="kt ku hi ih b ii ko im kp iq mn iu mo iy mp jc ky kz la lb bi translated">特征工程</li><li id="e5fd" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">建筑能力验证</li><li id="830b" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">具有分类特征的胜任工作</li><li id="7cc0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">设置模型参数</li><li id="499d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">过拟合控制</li></ul><p id="24c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/kunalj101/wns_analytics_wizard_2019/tree/master/Rank_1_Roman" rel="noopener ugc nofollow" target="_blank">这是罗曼获胜方案的完整代码</a>！</p><h1 id="d0a6" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结束注释</h1><p id="3284" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">唷——深呼吸。这些令人兴奋的框架赢得了这次黑客马拉松。正如我前面提到的，赢得一场黑客马拉松是一项艰巨的任务，我们的三位获胜者确实凭借他们的思维过程脱颖而出。</p><p id="f46b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我鼓励你今天前往<a class="ae jd" href="https://datahack.analyticsvidhya.com/?utm_source=blog&amp;utm_medium=wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions" rel="noopener ugc nofollow" target="_blank"> DataHack平台</a>，参加正在进行和即将举行的黑客马拉松。这将是一次无价的学习经历(更不用说是对你崭露头角的简历的一个很好的补充了！).</p><p id="8862" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你有任何问题，欢迎在下面发表。</p></div><div class="ab cl mr ms gp mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hb hc hd he hf"><p id="b55d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lm">原载于2019年9月10日</em><a class="ae jd" href="https://www.analyticsvidhya.com/blog/2019/09/wns-marketing-analytics-hackathon-top-3-inspiring-winning-solutions/" rel="noopener ugc nofollow" target="_blank"><em class="lm">【www.analyticsvidhya.com】</em></a><em class="lm">。</em></p></div></div>    
</body>
</html>