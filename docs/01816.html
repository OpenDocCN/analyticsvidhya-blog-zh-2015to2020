<html>
<head>
<title>How to set up your AWS EC2 instance and get Jupyter Notebook up and running</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设置AWS EC2实例并启动和运行Jupyter Notebook</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-set-up-your-aws-ec2-instance-and-get-jupyter-notebook-up-and-running-2aead043be76?source=collection_archive---------5-----------------------#2019-11-15">https://medium.com/analytics-vidhya/how-to-set-up-your-aws-ec2-instance-and-get-jupyter-notebook-up-and-running-2aead043be76?source=collection_archive---------5-----------------------#2019-11-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cfab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个EC2实例，安装python3、pip和python库，并运行Jupyter Notebook。</p><ol class=""><li id="958b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">创建一个<a class="ae jm" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS账户或登录现有账户</a>并导航至<strong class="ih hj"> AWS管理控制台</strong>。</li></ol><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es jn"><img src="../Images/4c06ce891d30242b078bceaadc99c81d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mH0Eg3iy53pDgsGDl06Qag.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">AWS管理控制台</figcaption></figure><p id="7d0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.在<strong class="ih hj">所有服务</strong> &gt; <strong class="ih hj">计算</strong> &gt;下点击<strong class="ih hj"> EC2 </strong></p><p id="8071" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.点击<strong class="ih hj">启动实例</strong></p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kd"><img src="../Images/eba86b26924ea33b1982c44fa418dd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1if9Hft4yLqMi6psSmEqFw.png"/></div></div></figure><p id="eee3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.现在，创建实例有7个步骤。</p><p id="540f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，为了启动实例，您需要创建一个公钥/私钥对，或者提供一个现有的密钥对。从AWS的<a class="ae jm" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" rel="noopener ugc nofollow" target="_blank"> EC2密钥对文档</a>——“在引导时，公钥内容被放置在<code class="du ke kf kg kh b">~/.ssh/authorized_keys</code>内的条目中的实例上。若要登录到您的实例，您必须在连接到实例时指定私钥。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es ki"><img src="../Images/fda0d27e8910975a83a6cfba102311aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WXchHWUqlY0TKXXoWkOeOQ.png"/></div></div></figure><p id="027a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第一步:<strong class="ih hj">选择AMI </strong>。如果您想了解更多信息，请查看本AMI用户指南文档<a class="ae jm" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html" rel="noopener ugc nofollow" target="_blank">。按照我的代码，使用亚马逊Linux。</a></p><p id="9649" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第二步:<strong class="ih hj">选择实例类型</strong>。阅读本文档中关于i <a class="ae jm" href="https://aws.amazon.com/ec2/instance-types/" rel="noopener ugc nofollow" target="_blank">实例类型的更多信息。</a></p><p id="eb80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第三步:<strong class="ih hj">配置实例详情</strong>。保留默认值，除非您的用例需要调整。</p><p id="3e95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第四步:<strong class="ih hj">添加存储</strong>。空闲层最多可存储30 GB。如果需要，将默认值8 GB更改为30gb。</p><p id="5a73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第五步:<strong class="ih hj">添加标签</strong>。这一步是为了帮助你保持条理。根据您的喜好添加或删除标签。</p><p id="fef7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第六步:<strong class="ih hj">配置安全组</strong>。阅读更多关于AWS的<a class="ae jm" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html" rel="noopener ugc nofollow" target="_blank">安全组的信息，以便更好地理解</a>。</p><p id="c89a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">&gt;第七步:<strong class="ih hj">审核实例启动</strong>。确保所有设置如您所愿，然后点击<strong class="ih hj">启动</strong>。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kj"><img src="../Images/59b4442ed4ea0ef1c4a05b948c750d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXX9zuOYRQseFVZkxEbIrQ.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">步骤7:检查实例启动</figcaption></figure><p id="d9bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.您的实例已启动。通过导航到<strong class="ih hj"> EC2仪表板</strong>(服务&gt; EC2)检查状态，然后点击<strong class="ih hj">实例</strong>。当你看到<strong class="ih hj">在<strong class="ih hj">实例状态</strong>下运行</strong>时，进入下一步！(您可能需要水平滚动才能看到实例的所有细节)。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kk"><img src="../Images/c1fd37db7c7c54c689985d96f1f34dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*sXRiMUtxdIzX9yeDFMTWHQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">用于检查实例状态的EC2仪表板</figcaption></figure><p id="22f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.在<strong class="ih hj">启动实例</strong>按钮旁边，点击<strong class="ih hj">连接</strong>。把这个屏幕放在手边，你很快就会用到它。</p><p id="c709" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.根据您的机器，下载PuTTY或使用终端启动到SSH(安全Shell)服务器的连接。你需要你的私人钥匙。<a class="ae jm" href="https://www.ssh.com/ssh/" rel="noopener ugc nofollow" target="_blank">下面简单介绍一下SSH </a>。请参考步骤6中提到的连接屏幕。假设您有一个包含您的私钥的pem文件。导航到该目录，然后使用以下代码更改pem文件的权限，然后连接到实例的公共DNS。</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="291e" class="kp kq hi kh b fi kr ks l kt ku"># Here's an example with a pem file named "my-pem-file" with a private key</span><span id="0f66" class="kp kq hi kh b fi kv ks l kt ku">chmod 400 'my-pem-file.pem'</span><span id="f486" class="kp kq hi kh b fi kv ks l kt ku"># Your login is ec2-user if you chose the Amazon Linux AMI during instance creation. After the @ symbol, enter your instance's Public DNS (IPv4) found on the same page where you found the Instance State </span><span id="d1ac" class="kp kq hi kh b fi kv ks l kt ku">ssh -i 'my-pem-file.pem' ec2-user@insert-public-dns-here</span></pre><p id="5b73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.现在您已经连接好了，检查您的实例上的python版本</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="39ad" class="kp kq hi kh b fi kr ks l kt ku">python --version<br/>python3 --version</span></pre><p id="3eeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.亚马逊Linux只附带python 2.7，所以我们需要安装一个更新。命令如下:</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="c6fe" class="kp kq hi kh b fi kr ks l kt ku">sudo yum install python3 </span></pre><p id="7dcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.安装pip3</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="4919" class="kp kq hi kh b fi kr ks l kt ku">curl -O <a class="ae jm" href="https://bootstrap.pypa.io/get-pip.py" rel="noopener ugc nofollow" target="_blank">https://bootstrap.pypa.io/get-pip.py</a><br/>python3 get-pip.py</span></pre><p id="a25b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.使用pip3安装所需的python库(numpy、pandas、jupyter、scikit-learn、matplotlib)</p><p id="2e6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">12.打开。带有vim的bashrc文件。添加<strong class="ih hj">别名python=python3 </strong>，然后添加<strong class="ih hj"> :wq </strong>以保存并退出vim。仔细检查它的工作。</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="462d" class="kp kq hi kh b fi kr ks l kt ku">ls -la <br/>vim .bashrc<br/>python --version # should now print out the python 3.7 instead of 2.7 </span></pre><p id="7f28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">13.将默认的jupyter内核改为python3，然后查看规范列表。</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="c6bf" class="kp kq hi kh b fi kr ks l kt ku">ipython3 kernelspec install-self<br/>jupyter kernelspec list</span></pre><p id="f615" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">14.要在浏览器中使用Jupyter，请转到<strong class="ih hj"> EC2 </strong> <strong class="ih hj">仪表板</strong> &gt; <strong class="ih hj">安全组</strong>并编辑附加到您的实例的安全组。添加入站规则:对于<strong class="ih hj">类型</strong>，使用<strong class="ih hj">自定义TCP规则</strong>，并将<strong class="ih hj">端口范围</strong>设置为<strong class="ih hj"> 8888 </strong>。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kw"><img src="../Images/f5a786f590648245c076fb9b5b95fdb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UM6y9ij9IkaFVOubw9skaw.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">AWS安全组</figcaption></figure><p id="10b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">15.启动您的jupyter笔记本服务器</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="7dcd" class="kp kq hi kh b fi kr ks l kt ku">jupyter notebook — ip=* — allow_origin=* </span></pre><p id="9667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">16.将您的公共DNS (IPv4)粘贴到您最喜欢的浏览器中，然后按<strong class="ih hj"> :8888 </strong></p><p id="bf21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">17.您将看到这个屏幕。到您的终端检索运行后打印的令牌…</p><pre class="jo jp jq jr fd kl kh km kn aw ko bi"><span id="a407" class="kp kq hi kh b fi kr ks l kt ku">jupyter notebook — ip=* — allow_origin=*</span></pre><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kx"><img src="../Images/030dd93615f2f153f6754288c9f1ea2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*fe4VYRg7JkJoTC8fSBSAxQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">浏览器中请求令牌的页面</figcaption></figure><p id="8fcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将令牌粘贴到浏览器的令牌文本框中。</p><p id="7470" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">18.恭喜你！您已经准备好开始在新的EC2实例上使用Jupyter笔记本了。</p><p id="0241" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请留言告诉我你有什么问题，或者你是否需要帮助解决问题！</p></div></div>    
</body>
</html>