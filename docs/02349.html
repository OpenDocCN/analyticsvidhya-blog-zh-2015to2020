<html>
<head>
<title>Analysis &amp; Price Prediction of Washington DC Residential: Regression &amp; Ensemble Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">华盛顿DC住宅分析与价格预测:回归与集成方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analysis-prediction-price-of-washington-dc-residential-regression-ensemble-method-8a2b2b4cf35f?source=collection_archive---------4-----------------------#2019-12-12">https://medium.com/analytics-vidhya/analysis-prediction-price-of-washington-dc-residential-regression-ensemble-method-8a2b2b4cf35f?source=collection_archive---------4-----------------------#2019-12-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7fd3d52a60b08f611b0f01347380b147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vOkWXL0HPQ2hEMrT.png"/></div></div></figure><p id="76da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大家好！！在这一刻，我会试着解释我在kaggle上得到的关于数据集的分析。关于华盛顿DC住宅的数据集。让我们从解释这些数据开始。</p><p id="9f30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">华盛顿特区是美国的首都。华盛顿的人口接近70万，在经历了半个世纪的人口下降后，自2000年以来一直在增长。这座城市高度隔离，生活成本很高。2017年，该区单户家庭住宅的平均价格为64.9万美元。该数据集提供了对该地区住房存量的深入了解。</p><blockquote class="jo jp jq"><p id="979d" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">所有数据均可在开放数据中心获得..居住和地址点数据由首席技术官办公室管理</p></blockquote></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="4aec" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">关于此数据的解释</strong></h1><p id="e40a" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">这个数据集有158957行48列。我将尝试清理数据集，因为该数据集缺少许多值。</p><p id="3df7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个原始数据集中有预测不包括的变量。这里有一个关于这个数据的解释(data.info)。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="6013" class="lo kd hi lk b fi lp lq l lr ls">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 158957 entries, 0 to 158956<br/>Data columns (total 48 columns):<br/>BATHRM                158957 non-null int64<br/>HF_BATHRM             158957 non-null int64<br/>HEAT                  158957 non-null object<br/>AC                    158957 non-null object<br/>NUM_UNITS             106696 non-null float64<br/>ROOMS                 158957 non-null int64<br/>BEDRM                 158957 non-null int64<br/>AYB                   158686 non-null float64<br/>YR_RMDL               80928 non-null float64<br/>EYB                   158957 non-null int64<br/>STORIES               106652 non-null float64<br/>SALEDATE              132187 non-null object<br/>PRICE                 98216 non-null float64<br/>QUALIFIED             158957 non-null object<br/>SALE_NUM              158957 non-null int64<br/>GBA                   106696 non-null float64<br/>BLDG_NUM              158957 non-null int64<br/>STYLE                 106696 non-null object<br/>STRUCT                106696 non-null object<br/>GRADE                 106696 non-null object<br/>CNDTN                 106696 non-null object<br/>EXTWALL               106696 non-null object<br/>ROOF                  106696 non-null object<br/>INTWALL               106696 non-null object<br/>KITCHENS              106695 non-null float64<br/>FIREPLACES            158957 non-null int64<br/>USECODE               158957 non-null int64<br/>LANDAREA              158957 non-null int64<br/>GIS_LAST_MOD_DTTM     158957 non-null object<br/>SOURCE                158957 non-null object<br/>CMPLX_NUM             52261 non-null float64<br/>LIVING_GBA            52261 non-null float64<br/>FULLADDRESS           106040 non-null object<br/>CITY                  106051 non-null object<br/>STATE                 106051 non-null object<br/>ZIPCODE               158956 non-null float64<br/>NATIONALGRID          106051 non-null object<br/>LATITUDE              158956 non-null float64<br/>LONGITUDE             158956 non-null float64<br/>ASSESSMENT_NBHD       158956 non-null object<br/>ASSESSMENT_SUBNBHD    126406 non-null object<br/>CENSUS_TRACT          158956 non-null float64<br/>CENSUS_BLOCK          106051 non-null object<br/>WARD                  158956 non-null object<br/>SQUARE                158957 non-null object<br/>X                     158720 non-null float64<br/>Y                     158720 non-null float64<br/>QUADRANT              158720 non-null object<br/>dtypes: float64(15), int64(11), object(23)<br/>memory usage: 59.4+ MB</span></pre><h1 id="73bd" class="kc kd hi bd ke kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz bi translated">数据预处理</h1><p id="ebab" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">首先，我想检查每列缺失值的百分比。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/abd85f148f42d42e94afe85be47a88ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*RXKAEtIYLSiW304YxGqLcA.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">此表显示了每列缺失值的百分比</figcaption></figure><h2 id="a98a" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">填充数据年模型</h2><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="cce9" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated"><strong class="ak">为每列降低nan值</strong></h2><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="9235" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated"><strong class="ak">将列FULLADDRESS更改为SUBADRESS，以便对住宅位置进行分组</strong></h2><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="2bc0" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">剔除数据价格中的异常值</h2><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="10b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有时间，你可以访问我的github，通过点击这个链接<a class="ae ms" href="https://github.com/Anugrahn" rel="noopener ugc nofollow" target="_blank">https://github.com/Anugrahn</a>来详细了解我的数据预处理。一些数据预处理在本文中没有解释。我试着为这些数据做最后的清理。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="50df" class="lo kd hi lk b fi lp lq l lr ls">- The column Have 'No Data' in column HEAT (drop 'No Data')<br/>- Drop 'Default' data in column CNDTN<br/>- Change column AC value 0 to N<br/>- Change column Quadrant from NE to (Northeast), NW (Northwest), SE (Southeast), SW (Southwest)</span></pre></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="4242" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">探索性数据分析</h1><p id="e80e" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">其次，第一步是数据预处理。我有一个干净的数据集，并准备好进行分析，以及用目标和功能进行预测。</p><p id="c903" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个关于华盛顿DC住宅销售的数据有53317行和34列。华盛顿DC的区域被分成几个<strong class="is hj">象限</strong>。每个<strong class="is hj">象限</strong>又分为<strong class="is hj">区</strong>，每个<strong class="is hj">区</strong>又分为<strong class="is hj">评估邻域</strong>。</p><h2 id="f03d" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">按象限和区域划分的住宅数量</h2><p id="2f52" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">华盛顿DC的象限是西北<strong class="is hj"/>、<strong class="is hj">东北</strong>、<strong class="is hj">东南</strong>、<strong class="is hj">西南</strong>，每个象限又进一步划分为选区。</p><ul class=""><li id="e068" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn my mz na nb bi translated">1区由(亚当斯·摩根、哥伦比亚高地、霍华德大学、卡洛拉马等)组成</li><li id="11a8" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">2区</strong>由(伯利、唐人街、市中心、杜邦圈、联邦三角区等)组成</li><li id="3329" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">3区</strong>由(塞维·蔡斯、克里夫兰公园、殖民地山、森林山等)组成</li><li id="db1c" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">4区</strong>由(布莱特伍德公园、克雷斯特伍德、佩特沃斯、殖民村)组成</li><li id="577c" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">5区</strong>由(植物园、布伦特伍德、布鲁克兰、卡弗兰斯顿、密执安公园、据点等)组成</li><li id="d946" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">第六区由(凯普顿山、金曼公园、海军船坞、东北附近、司法广场等)组成</li><li id="9017" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">第7区由(本宁高地、本宁岭、伯维尔、中东北、绿道等)组成</li><li id="9afe" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">8区</strong>由(阿纳科西塔、巴里农场、贝尔维尤、道格拉斯、希普利台等)组成</li></ul><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/9c06693867b746625a8467c4f6a293f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_PM2lmwMruyTOWAb60844A.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">该图从数据集中解释了华盛顿DC住宅区<strong class="bd ke">象限西北</strong>(4区)&amp;象限西南(2区)最少的房产。</figcaption></figure><h2 id="4269" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">按象限和区域划分的住宅数量</h2><p id="aba9" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在象限和选区下面，华盛顿DC由<strong class="is hj">街区</strong>和由<strong class="is hj">子地址</strong>划分的街区划分。该数据集中记录有<strong class="is hj"> 55个邻居</strong>和<strong class="is hj"> 1186个子地址</strong>。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ni"><img src="../Images/4452917342163d102cf429945c16f550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sbnTbhO454quftwqm-bzbg.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">从该图中可以看出，按街区呈现的房产最多，结果是位于<strong class="bd ke">老城1 </strong>的房产最多，位于<strong class="bd ke">区6 </strong>的房产最多，位于<strong class="bd ke">西南部的房产最多，位于</strong>区的房产最多，位于子地址的房产最多。结果大部分房产都在<strong class="bd ke">十三街</strong>老城<strong class="bd ke">1</strong>区<strong class="bd ke">6</strong>西南<strong class="bd ke">区</strong></figcaption></figure><h2 id="d03a" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">按经度和纬度的分布样式</h2><p id="9e66" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">华盛顿DC住宅风格销售分为17类。这17种风格的住宅包括。</p><ul class=""><li id="32cc" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn my mz na nb bi translated">只有一层楼的房子</li><li id="e780" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">1.5层的房子，主卧室套房在主楼层，其他卧室都在二楼。</li><li id="3750" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj"> 2层</strong>房子的主卧室套房和附加卧室位于房子的第二层。</li><li id="8255" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj"> 2.5层</strong> house指的是带阁楼的两层楼的房子。</li><li id="3a76" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">三层楼房是指一栋三层楼的房子，通常有一层用作生活空间和厨房。</li><li id="c610" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">3.5层的房子意味着它是一栋带阁楼的3层房子。</li><li id="bc40" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">房子是指一栋四层楼的房子。</li><li id="a35d" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">4.5层的房子是指一栋带阁楼的4层楼的房子。</li><li id="520c" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">错层住宅(又称三层住宅)是一种楼层交错的住宅风格。通常有两组短楼梯，一组向上通向卧室，一组向下通向地下室。</li><li id="dcc8" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">错层门厅和双层</strong>与错层相同，但在另一个不同的病房，称为。</li><li id="9072" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj">空置房产</strong>是指连续四十五(45)天或以上未被合法占用和维护、未积极出售出租或未积极建设的住宅、商业、工业或混合用途房地产</li><li id="8172" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated"><strong class="is hj"><em class="jr">un Fin&amp;Fin</em></strong><em class="jr">关于放样尚未完成的含义</em></li></ul><p id="0fe2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过基于经度和纬度的地图样式，在华盛顿DC有可视化的住宅样式</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="31b5" class="lo kd hi lk b fi lp lq l lr ls">fig = plt.figure(figsize=(15,8))<br/>sns.scatterplot(data=df, x= 'LATITUDE', y = 'LONGITUDE', hue = 'STYLE' , alpha = 0.5)<br/>plt.tight_layout()</span></pre><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/2b40135c5ca61c1ef31f7fd93ab8f88c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UWS6hQW1RDYSYaGmEMBdeQ.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">从这个图表我们可以得出结论，大约最主要的风格是2层，几乎80%的主导房屋风格在华盛顿DC住宅。</figcaption></figure><h2 id="60b6" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">华盛顿DC住宅区的分配价格</h2><p id="b6c7" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">当按住宅风格分类时，DC华盛顿州的房价的可视化。可以看出，如果2层风格的住宅是最占主导地位的比其他。DC华盛顿州的三大住宅风格。</p><ul class=""><li id="0f09" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn my mz na nb bi translated">2故事:42097</li><li id="6a4f" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">3故事:4347</li><li id="0a48" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn my mz na nb bi translated">2.5故事结局:3013</li></ul><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nk"><img src="../Images/295625187c5c40f4d6db603f92c37d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LgSCHPKwGv4ac_eQkLarTg.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">从这张图中可以看出华盛顿DC住宅区的房价分布，红色图标代表华盛顿市中心。华盛顿DC住宅平均价格为650.000美元。</figcaption></figure><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="5464" class="lo kd hi lk b fi lp lq l lr ls">fig, ax = plt.subplots(1,1,figsize=(20,20))<br/>sns.boxplot(data=df, x='STYLE', y='PRICE',ax=ax[0],)<br/>ax[0].set_title('Distribution Price vs Residential Style')<br/>plt.tight_layout()</span></pre><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nl"><img src="../Images/2f731d70934adb29458325dad339b9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BQBZK1G4ohLH7Kck6TvNyQ.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">在华盛顿以2层和3层为主的风格住宅有最高的价格范围。</figcaption></figure></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="3467" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">建模</h1><p id="9bd0" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">最后一步，为了制作这个数据集中的模型，我将尝试使用几个回归模型，即<strong class="is hj">随机森林回归器</strong>、<strong class="is hj"> Lasso </strong>、<strong class="is hj">线性回归器</strong>、<strong class="is hj"> Lasso </strong>、<strong class="is hj"> Ridge和XGB回归器。</strong>造型的步骤。</p><ol class=""><li id="de13" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn nm mz na nb bi translated">寻找预测房价的最佳算法</li><li id="d92f" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">用<em class="jr">超参数</em>预测最佳模型</li><li id="3cb2" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">用平均绝对误差、均方误差和均方根误差进行评估</li></ol><h2 id="22af" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">目标和功能</h2><p id="ab40" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">这是该建模的目标(y)和特征(x)。</p><ol class=""><li id="23d6" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn nm mz na nb bi translated"><strong class="is hj">目标</strong>是住宅价格</li><li id="04a7" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated"><strong class="is hj">特征</strong>(象限、病房、评估小区、房间、浴室、半浴室、供暖、空调、年改造、合格住宅、总建筑面积、风格住宅、结构住宅、等级、条件、外墙、屋顶、内墙、厨房、消防场所等)</li></ol><h2 id="c35d" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">寻找最佳算法</h2><p id="3c77" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">首先，我将尝试使用先前已经提到的六种算法的缺省参数。我做的一些过程是。</p><ol class=""><li id="1db3" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn nm mz na nb bi translated">对住宅<em class="jr">栏</em> &amp; <em class="jr">条件</em>进行标签编码。</li><li id="a6a3" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">比较热编码和二进制编码的建模。</li><li id="05b1" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">比较采用一种热编码的标准定标器与采用二进制编码的标准定标器。</li><li id="19e2" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">比较主成分分析(一个热编码和标准定标器)与主成分分析(二进制编码*标准定标器)。</li></ol><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="7009" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">经过这个过程，我找到了最佳算法。从所有算法中，模型的最佳得分将是使用<strong class="is hj"> XGBRegressor </strong>和处理<strong class="is hj">二进制编码</strong> &amp; <strong class="is hj"> standardscaler。</strong></p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es nn"><img src="../Images/eae97bdb80151b143708aeb4016fba18.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*ZS1gHrA_tYzoDUkzS6aXew.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">用<strong class="bd ke">二进制编码</strong> &amp; <strong class="bd ke"> standardscaler ( </strong>默认参数)建模的结果。</figcaption></figure><h2 id="ec18" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">寻找最佳超参数</h2><p id="8cb7" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">建模的下一步是找到最佳的<em class="jr">超参数。“在</em> <a class="ae ms" href="https://en.wikipedia.org/wiki/Machine_learning" rel="noopener ugc nofollow" target="_blank"> <em class="jr">机器学习</em> </a> <em class="jr">中，一个</em> <strong class="is hj"> <em class="jr">超参数</em> </strong> <em class="jr">是一个</em> <a class="ae ms" href="https://en.wikipedia.org/wiki/Parameter" rel="noopener ugc nofollow" target="_blank"> <em class="jr">参数</em> </a> <em class="jr">，其值是在学习过程开始前设定的”——维基百科。</em></p><p id="dcac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我将尝试使用GridSearchCV为XGBRegressor(建模的最佳算法)找到最佳的超参数。<strong class="is hj">max _ depth = 5</strong>&amp;<strong class="is hj">learning _ rate = 0.1</strong>的模型<strong class="is hj"> (XGBRegressor) </strong>的结果<em class="jr">超参数</em></p><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="dffb" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">最终建模</h2><p id="be88" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在找到最佳算法和<em class="jr">超参数</em>后，将<em class="jr">超参数</em>输入到房价预测优化模型中。用于将数据集分成训练数据和测试数据。我尝试使用两种方法(训练测试分割&amp; Kfold ),最好是使用Kfold，这是结果的代码。</p><figure class="lf lg lh li fd ij"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="5bf9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">平均绝对误差值为139751.85，均方根误差值为192406.14。</p><p id="e1c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">比较这些指标:</p><ol class=""><li id="374f" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn nm mz na nb bi translated">MAE(平均绝对误差)是最容易理解的，因为它是平均误差。</li><li id="c155" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">RMSE(均方根误差)甚至比MSE更受欢迎，因为RMSE可以用“y”单位来解释。</li></ol><p id="c106" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些都是损失函数，因为我想最小化它们。所以，MAE和RMSE的值越小，意味着你的模型越好。</p><h2 id="0863" class="lo kd hi bd ke md me mf ki mg mh mi km jb mj mk kq jf ml mm ku jj mn mo ky mp bi translated">模型的残差</h2><p id="756a" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">最后，我想展示我的模型预测与数据中真实目标的残差(y_test)。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es no"><img src="../Images/09f68e137abab229f39dc687072afe7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*bMkhVmPgwtL1_w60E4ZmpQ.png"/></div><figcaption class="lz ma et er es mb mc bd b be z dx translated"><em class="np">该图解释了模型与真实目标(y_test)的预测分布，结果是数据呈正态分布。</em></figcaption></figure></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><p id="063a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以上都是我说的，希望你能从中领悟到这些数据。我做的每一个模型都还有很多错误和缺点。关于这些数据的更多细节，代码，和更多的可视化你可以通过点击这个链接<a class="ae ms" href="https://github.com/Anugrahn" rel="noopener ugc nofollow" target="_blank">https://github.com/Anugrahn</a>到达我的github。</p><p id="9de0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">随便问我任何事情。也许我们可以讨论数据，我们如何在数据中获得最佳模型，以及更多关于任何事情的信息。如果你对这些数据有任何想法，你可以回复并纠正我，因为也许我做的分析仍然有很多错误。</p><p id="125e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢，我希望你们喜欢它。下一个故事再见。祝您愉快！:)</p><p id="3609" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来源:</p><ol class=""><li id="e8c8" class="mt mu hi is b it iu ix iy jb mv jf mw jj mx jn nm mz na nb bi translated">数据集来自kaggle.com的华盛顿DC住宅</li><li id="f3d0" class="mt mu hi is b it nc ix nd jb ne jf nf jj ng jn nm mz na nb bi translated">scikitlearn &amp; xgboost的原始文档。</li></ol></div></div>    
</body>
</html>