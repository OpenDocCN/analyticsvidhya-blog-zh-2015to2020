<html>
<head>
<title>Future Values and Ipywidgets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">未来值和 Ipywidgets</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/future-values-and-ipywidgets-ce45e4d6a076?source=collection_archive---------16-----------------------#2020-08-21">https://medium.com/analytics-vidhya/future-values-and-ipywidgets-ce45e4d6a076?source=collection_archive---------16-----------------------#2020-08-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="66c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">如何使用 Ipywidgets 可视化不同利率下的未来值？</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/e40d471de4df48546deb06fcd31592b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpmQdC2lM_sGV-qYcH4RDQ.jpeg"/></div></div></figure><p id="add1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jq translated"><span class="l jr js jt bm ju jv jw jx jy di"> T </span>这里有一些计算，通过可视化他的术语，甚至变得更容易。此外，我们越早开始投资，未来的收益就越多。当然，在“为未来节省资源的游戏”的等式中还有几个其他变量，但现在这里将呈现两个变量:<strong class="ih hj">利率</strong> <strong class="ih hj">和<strong class="ih hj">时间</strong>。</strong></p><h2 id="31df" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">未来价值</h2><p id="ead7" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">金融学最基本的原理是:<em class="jd">今天一块钱比明天一块钱值钱。</em>这意味着金钱具有时间价值。</p><p id="8c8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你在银行账户上投资 100 美元，年利率为 5%。第一年，您将获得 0.05 美元 100 美元 5 美元的利息，您的投资价值将增长到 105 美元:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kz"><img src="../Images/6527467568602a6deaa7a745dcea37c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*JWtz_4_Agy6nLb_DbN6QBQ.png"/></div></figure><h2 id="ff33" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">如果我们能“看到”这个呢？</h2><p id="2bba" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">现在，上面的等式可以用 python 来表示。我们可以使用未来值公式或者利用库<a class="ae la" href="https://numpy.org/numpy-financial/latest/" rel="noopener ugc nofollow" target="_blank"> <em class="jd"> Numpy 财务</em> </a> <em class="jd">。</em></p><p id="14a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">numpy 财务模块包含函数 future value，<em class="jd">。fv(rate，nper，pmt，pv) </em>，它允许您像以前一样用几个简单的参数计算投资的未来价值:</p><ul class=""><li id="803c" class="lb lc hi ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated"><strong class="ih hj">收益率</strong>:投资的收益率</li><li id="8112" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">nper:投资的寿命</li><li id="3166" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hj"> pmt </strong>:每期期初或期末的(固定)付款(本例中为 0)</li><li id="fd16" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hj"> pv </strong>:投资的现值</li></ul><p id="f35f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要注意的是，在这个函数调用中，如果 pv 参数表示负的现金流(现金流出)，则必须将负值传递给 PV 参数。</p><p id="1abd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们必须导入库:</p><pre class="jf jg jh ji fd lp lq lr ls aw lt bi"><span id="e0c3" class="jz ka hi lq b fi lu lv l lw lx"># Importing the libraries<br/>import numpy as np<br/>import numpy_financial as npf<br/>import matplotlib.pyplot as plt</span></pre><p id="f7f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，用 Numpy 的。fv()函数，计算两年内每年回报率为 5%的 100 美元投资的未来价值。</p><pre class="jf jg jh ji fd lp lq lr ls aw lt bi"><span id="89aa" class="jz ka hi lq b fi lu lv l lw lx"># Calculate investment<br/>investment = npf.fv(rate=.05, nper=2, pmt=0, pv=-100)<br/>print("$" + str(round(investment, 2)))</span><span id="0844" class="jz ka hi lq b fi ly lv l lw lx">$110.25</span></pre><h2 id="08cf" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">利率越高，你的储蓄增长越快</h2><p id="810a" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">接下来，您将看到如何在同一个图表中绘制投资 100 美元的不同利率(0%、5%、10%和 15%)。</p><pre class="jf jg jh ji fd lp lq lr ls aw lt bi"><span id="19fe" class="jz ka hi lq b fi lu lv l lw lx">plt.figure(figsize=(10,8))<br/>y = [npf.fv(rate=np.linspace(0,0.15,num=4), nper=i, pmt=0, pv=-100) for i in range(21)]</span></pre><p id="7233" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 rate 下使用函数 np.linspace(0，0.15，num=4)允许在 0 和 0.15 之间的范围内绘制 4 条曲线(num=4)。</p><pre class="jf jg jh ji fd lp lq lr ls aw lt bi"><span id="2ee0" class="jz ka hi lq b fi lu lv l lw lx">plt.plot(y)</span><span id="037d" class="jz ka hi lq b fi ly lv l lw lx">plt.legend(["r = 0%", "r = 5%","r = 10%" , "r = 15%"])</span><span id="3608" class="jz ka hi lq b fi ly lv l lw lx">plt.ylabel('Future value of $100, dollars')<br/>plt.xlabel('years')</span></pre><p id="ad93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于比率是由函数绘制的，将图例写成数组是表示四种比率的一种方式。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lz"><img src="../Images/3a6f7a340adecb51c6680abd21f280b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*_AjLed9avT9JPbjqCubUQQ.png"/></div><figcaption class="ma mb et er es mc md bd b be z dx translated">图 1 —不同利率下的投资增长</figcaption></figure><h2 id="8f7d" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">与 Ipywidgets 交互</h2><p id="41bc" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">查看利率对未来价值影响的另一种方法是在数据中应用交互式工具。Ipywidgets 是一个使用界面(UI)控件以交互方式浏览代码和数据的库。</p><pre class="jf jg jh ji fd lp lq lr ls aw lt bi"><span id="87c9" class="jz ka hi lq b fi lu lv l lw lx">import ipywidgets as widgets<br/>from IPython.display import display<br/>%matplotlib inline</span><span id="1c10" class="jz ka hi lq b fi ly lv l lw lx">def show_fv(rate):<br/>    plt.figure(figsize=(10,8))<br/>    y = [npf.fv(rate, nper=i, pmt=0, pv=-100) for i in range(21)]</span><span id="1ef7" class="jz ka hi lq b fi ly lv l lw lx">plt.plot(y)</span><span id="995d" class="jz ka hi lq b fi ly lv l lw lx">plt.ylabel('Future value of $100, dollars')<br/>    plt.xlabel('years')<br/>    <br/>controls = widgets.interactive(show_fv,rate=(0, .20, .01))<br/>display(controls)</span></pre><p id="27f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果是下面的图形交互:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es me"><img src="../Images/29c1843c03e80b6e56d1b4b415e39f6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/1*kfdblC0knah9VTMnj8u6DQ.gif"/></div><figcaption class="ma mb et er es mc md bd b be z dx translated">图 2 —图表显示了不同利率下的不同未来值</figcaption></figure><p id="4c1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图 2 展示了使用 Ipywidgets 库的代码输出。这是一种使用这种工具的方法，并且知道当时变量对结果的影响。</p></div></div>    
</body>
</html>