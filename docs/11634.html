<html>
<head>
<title>Sentiment Analysis of a Youtube Video</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Youtube视频的情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sentiment-analysis-of-a-youtube-video-63ced6b7b1c4?source=collection_archive---------2-----------------------#2020-12-12">https://medium.com/analytics-vidhya/sentiment-analysis-of-a-youtube-video-63ced6b7b1c4?source=collection_archive---------2-----------------------#2020-12-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/24d5c10176df77ea7efca55971af77d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4aCpUs9PhV1gUeEQlKSrQ.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:<a class="ae hv" href="https://www.kdnuggets.com/2020/06/5-essential-papers-sentiment-analysis.html" rel="noopener ugc nofollow" target="_blank">https://www . kdnugges . com/2020/06/5-essential-papers-情操-分析. html </a></figcaption></figure><div class=""/><div class=""><h2 id="938a" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated"><em class="jn">这是情感分析系列实现的第1部分。</em></h2></div><h2 id="cac7" class="jo jp hy bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">快速回顾</h2><p id="a61b" class="pw-post-body-paragraph km kn hy ko b kp kq iz kr ks kt jc ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">在我上一篇关于<a class="ae hv" href="https://amitalable.medium.com/natural-language-processing-c01b6610cfa4" rel="noopener">自然语言处理</a>的文章中，我提到了情感分析是一些常用的NLP技术。让我们深入探讨一下。</p><blockquote class="lf lg lh"><p id="b741" class="km kn li ko b kp lj iz kr ks lk jc ku ll lm kw kx ln lo kz la lp lq lc ld le hb bi translated"><strong class="ko hz"> <em class="hy">情感分析</em> <br/> </strong>情感分析(或观点挖掘)是一种自然语言处理技术，用于对主观数据中的情感进行解释和分类。情感分析通常在文本数据上执行，以检测电子邮件、调查响应、社交媒体数据等中的情感。</p></blockquote></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><p id="d33f" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">现在我们知道了什么是情感分析，让我们看看如何在社交媒体数据上进行情感分析(在我们的例子中是Youtube评论)。</p><h2 id="261c" class="jo jp hy bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">情感分析的实现</h2><p id="8a62" class="pw-post-body-paragraph km kn hy ko b kp kq iz kr ks kt jc ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">我们将在下面的youtube视频上一部分一部分地实现情感分析。我们正在拍摄视频“<em class="li">印度农民的起义:抗议背后是什么？</em>《环球新闻》出版。</p><p id="1ecf" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">这段视频是关于<em class="li">“印度农民已经集会数月，反对总理纳伦德拉·莫迪政府于9月20日颁布的三项农业法律。印度政府辩称，这些变化将给予农民更多自由，但农民担心新法律将压低他们的产品价格，没有保护他们免受企业收购和剥削的保障措施。但印度农业部门的危机并不新鲜，因为该行业已经遭受了几十年。”</em></p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="mc md l"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:https://www.youtube.com/channel/UChLtXXpo4Ge1ReTEboVvTDg</figcaption></figure><h2 id="9d3b" class="jo jp hy bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">第1部分:作为数据清理的一部分获取数据</h2><p id="8013" class="pw-post-body-paragraph km kn hy ko b kp kq iz kr ks kt jc ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">在本文中，我们将从上述youtube视频中收集所有关于印度当前问题的实时评论。</p><p id="bd13" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">为此，我们必须废弃网站，以获得有意义的数据。我们可以通过多种方式来实现。我使用了两种方法来收集数据:</p><ol class=""><li id="0e13" class="me mf hy ko b kp lj ks lk jz mg kd mh kh mi le mj mk ml mm bi translated">硒</li><li id="db4f" class="me mf hy ko b kp mn ks mo jz mp kd mq kh mr le mj mk ml mm bi translated">谷歌应用编程接口</li></ol></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><h2 id="f07d" class="jo jp hy bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">硒</h2><p id="d805" class="pw-post-body-paragraph km kn hy ko b kp kq iz kr ks kt jc ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated"><strong class="ko hz">第一步:安装必要的库</strong></p><p id="8dd6" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">对于selenium，我们需要首先在Google Colab中安装它。以下是安装代码。</p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="c1eb" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">根据你的网速，安装需要一些时间。</p><p id="f55c" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><strong class="ko hz">第二步:导入必要的库</strong></p><p id="ab9f" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">安装selenium后，我们需要导入所有的库来废弃网站。</p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="1ecd" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><strong class="ko hz">第三步:安装ChromeDriver并删除注释</strong></p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="950a" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">我们采用了一个作者列表来存储youtube用户的所有评论。</p><p id="9592" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">然后，我们配置ChromeDriver进行报废。</p><p id="3814" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">如果你去youtube的评论区，你会发现当你向下滚动时，youtube评论区会动态加载。为了收集至少100条评论，我对循环进行了6次迭代。此外，我已经采取了计时器停止5秒钟来加载页面。如果你的网络连接很慢，请确保增加时间，这样页面就可以成功加载，而不会出现异常。</p><p id="f405" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">现在最精彩的部分来了。我们开始废弃所有的评论和他们的作者细节。</p><p id="80d7" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">我们得到了未清理的数据，我们必须清理它，因为它包含一些额外的细节，如用户何时发表评论以及最后有多少回复。</p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mt"><img src="../Images/e77e4e0406edc1da7263eadb6b4924c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Foh2Dq9Gz_usCQR9PcLvmw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">在第一条注释中，用户名(Aspen Gaming)后的“\n11小时前\n”和注释末尾的“\ n26 \回复”。</figcaption></figure><p id="fc8f" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">我们希望我们的数据是这样的，</p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mu"><img src="../Images/c0d0c8fdb09410869062007401201395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKrptyg_-2IcI5-AgrWDyQ.jpeg"/></div></div></figure><p id="20b0" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">我们有一个用户和他的评论。</p><p id="3fad" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">为了删除那些额外的细节，我们需要清理它，然后将它放入数据框。</p><p id="86b1" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><strong class="ko hz">第四步:清理并将数据放入数据帧</strong></p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="f0d3" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">在第7行中，我们删除了用户名后面的注释时间，如\n11小时前。</p><p id="a326" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">在第8行，我们删除了注释末尾的REPLY。</p><p id="350f" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">在第9行中，我们删除了后面跟有回复数量的评论。</p><p id="5864" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">当用户编辑他们的评论时，youtube会显示用户名和(已编辑的)。这是我们必须从用户名中删除的。这就是10- 12号线在做的事情！</p><p id="76f4" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">最后，我们将作者姓名作为行名，将他们的评论放在数据框的列中。</p><p id="67aa" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">通过selenium废弃网站后，我们的最终数据如下:</p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mu"><img src="../Images/c0d0c8fdb09410869062007401201395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKrptyg_-2IcI5-AgrWDyQ.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">报废后的最终数据帧</figcaption></figure><blockquote class="lf lg lh"><p id="d787" class="km kn li ko b kp lj iz kr ks lk jc ku ll lm kw kx ln lo kz la lp lq lc ld le hb bi translated"><strong class="ko hz">我们在这里发现了什么问题？<br/> </strong>在存储到数据框之前，我们必须做一些清理工作。<br/>如果youtube改变网页设计，这些方法可能就行不通了。</p></blockquote><p id="c545" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">这也是我转用Google API的原因。</p></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><h2 id="8d5c" class="jo jp hy bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">谷歌应用编程接口</h2><p id="4c9a" class="pw-post-body-paragraph km kn hy ko b kp kq iz kr ks kt jc ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">第一步:为youtube数据创建一个谷歌开发者账户和你的API密匙。</p><p id="0d72" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">别担心，这是免费的！！跟随由<a class="ae hv" href="https://www.youtube.com/channel/UCArmutk8nAbYQdaYzgqKOwA" rel="noopener ugc nofollow" target="_blank"> Stevesie Data </a>提供的<em class="li">上的精彩视频教程“抓取YouTube评论&amp;回复任何公共视频或频道】</em>。看这个视频到9分钟，你就可以走了。你需要知道如何创建你的API密匙。一旦你做了，你就可以开始了。</p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="d150" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><strong class="ko hz">第二步:使用Youtube API获取所有评论数据</strong></p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="e833" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">您必须将您在步骤1中创建的API密钥代替<em class="li">“Your _ API _ KEY”作为DEVELOPER_KEY。</em></p><p id="8167" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">如果您想增加结果的数量，您可以根据需要在第19行增加maxResults。</p><p id="a881" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">如果你在评论区看到，你可以看到你可以通过<em class="li">“热门评论</em>”和<em class="li">“最新的优先”来排序评论。</em></p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mv"><img src="../Images/04459b179ef12ff632897e0221fb9136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MKY4CItpi46yOz7Q-gd7Fw.jpeg"/></div></div></figure><p id="b8f9" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">在第20行使用“相关性”和“时间”作为排序。</p><p id="7c33" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">在这一步之后，Youtube API将以JSON的形式返回数据。</p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mw"><img src="../Images/9118a5043aaa834d3bf1873650cef771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0c5P6h048XmbKDDZVbRebA.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">以JSON格式返回的数据。</figcaption></figure><p id="01e5" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">如果你第一次看到你可能不理解的数据！我来简化一下。</p><p id="1d5a" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">转到条目-&gt;代码片段-&gt;topLevelComment -&gt;代码片段-&gt; authorDisplayName查找放置评论的作者。</p><p id="8382" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">转到项目-&gt;代码片段-&gt;topLevelComment -&gt;代码片段-&gt; textOriginal获取原始注释。</p><p id="afc0" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><strong class="ko hz">第三步:将数据放入数据帧</strong></p><p id="a20e" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">像Selenium一样，我们不必清理API获取的数据。我们只要进入它。</p><figure class="ly lz ma mb fd hk"><div class="bz dy l di"><div class="ms md l"/></div></figure><p id="b287" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">我们放入数据帧后的最终数据看起来会像这样，</p><figure class="ly lz ma mb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mx"><img src="../Images/3a54002a9245549b1656800f8038b428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0skNeDPma7GTLn2l2rqu6w.jpeg"/></div></div></figure></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><p id="ef79" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">伙计们，这就是了！您可以使用任何一种方法来收集数据。我更喜欢使用API，而不是通过Selenium报废和清理数据。嘿，这也是个好办法。只是我更喜欢API。</p><p id="f42b" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">从下一部分开始，我们将使用我们用API创建的数据帧。如果你喜欢使用Selenium，可以使用<em class="li">“作者评论”</em>作为下一部分的数据框架。否则，像我一样，如果你更喜欢Youtube API，可以使用“<em class="li"> df_1 </em>”作为数据帧。</p><p id="14da" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated">敬请期待！！</p></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><p id="87c4" class="pw-post-body-paragraph km kn hy ko b kp lj iz kr ks lk jc ku jz lm kw kx kd lo kz la kh lq lc ld le hb bi translated"><em class="li">参考文献:</em></p><ol class=""><li id="b617" class="me mf hy ko b kp lj ks lk jz mg kd mh kh mi le mj mk ml mm bi translated"><a class="ae hv" href="https://monkeylearn.com/sentiment-analysis/" rel="noopener ugc nofollow" target="_blank">https://monkeylearn.com/sentiment-analysis/</a></li><li id="861a" class="me mf hy ko b kp mn ks mo jz mp kd mq kh mr le mj mk ml mm bi translated"><a class="ae hv" href="https://towardsdatascience.com/how-to-scrape-youtube-comments-with-python-61ff197115d4" rel="noopener" target="_blank">https://towards data science . com/how-to-scrape-YouTube-comments-with-python-61ff 197115d 4</a></li><li id="bff4" class="me mf hy ko b kp mn ks mo jz mp kd mq kh mr le mj mk ml mm bi translated"><a class="ae hv" rel="noopener" href="/better-programming/twitter-sentiment-analysis-15d8892c0082">https://medium . com/better-programming/Twitter-情操-分析-15d8892c0082 </a></li><li id="e69d" class="me mf hy ko b kp mn ks mo jz mp kd mq kh mr le mj mk ml mm bi translated"><a class="ae hv" href="https://regex101.com/" rel="noopener ugc nofollow" target="_blank">https://regex101.com/</a></li></ol></div></div>    
</body>
</html>