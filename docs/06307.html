<html>
<head>
<title>How decision trees work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">决策树是如何工作的？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-decision-trees-work-2aa04879ef23?source=collection_archive---------30-----------------------#2020-05-17">https://medium.com/analytics-vidhya/how-decision-trees-work-2aa04879ef23?source=collection_archive---------30-----------------------#2020-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4918" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我将解释一个最常用的数据分类算法，决策树。在这种分类中，我们根据特征分割数据，然后进一步根据另一个特征分割数据，直到最后。我将使用ID3(迭代二分法3)来解释，它利用熵和信息增益度量来计算节点(特征)和叶子(最终输出)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/4472f390eaab324a43dc82cdf2f862ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ia-QRF5PEjU7FBAF"/></div></div></figure><p id="f901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主要思想是以倒置树的形式划分整个数据集，并在每个分支的末端获得单个结果。</p><h1 id="481e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">那么我们如何建造呢？</h1><p id="13ce" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">从树开始，我们需要一个属性(特征),它可以在数据中给出最大的分裂(或最大的信息增益),这样我们可以在最少的迭代中到达分支的末端。</p><p id="b3b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我用一个经典的“打网球”数据例子来解释一下:</p><p id="3289" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们需要根据某一天的天气情况来决定我们是否可以打网球。</p><p id="9c8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们在这里看到的，我们有4个属性(天气、温度、湿度和风力),根据这些属性我们可以决定是否去打网球。因此，让我们使用ID3算法来构建一棵树！</p><p id="139f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从根节点开始，我们需要选择能够对它们进行分类的最佳属性/特征。</p><h1 id="327c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何选择最佳分类属性？</h1><p id="e6d0" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">这里，我们借助信息增益公式，对每个属性进行计算。给出最高增益的那个将被选为我们的根节点。</p><p id="c7d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主要有3个公式将用于ID3算法，它们是:</p><p id="4fef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">信息增益-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/dd20bb03d403b8b4d3e41d563a1b34a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/0*RDmUOnrQdi9ajF9y"/></div></figure><p id="5b74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">熵-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kt"><img src="../Images/cdf03602797fe5e5c8f3866f740af83b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/0*GBCkKbj8VGuwjYFD"/></div></figure><p id="3649" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获得-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ku"><img src="../Images/d58d56711b4ecd1b106cbb26215261be.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/0*siNV0TXJlnKz-45n"/></div></figure><p id="db90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是我们遵循的步骤:</p><ol class=""><li id="2bdc" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated">首先计算表的信息增益。</li><li id="7deb" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">计算该属性的熵。</li><li id="df42" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">现在计算相应属性的增益。</li><li id="f0b4" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">取具有最高增益的一个作为节点。</li><li id="7bbe" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">重复整个过程，找到新的一组信息增益、熵和过滤属性值后的增益。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lj"><img src="../Images/5e36ff4a434a6c7f76cbd1bee0c5caa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/0*TFnWfJcERoUswvqh"/></div></figure><p id="38d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以类似的方式，我也计算了其他属性的增益。</p><p id="9478" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">增益(展望)= 0.248 <br/>增益(温度)= 0.029 <br/>增益(湿度)= 0.151 <br/>增益(风)= 0.048</p><p id="0806" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们可以看到的，我们在“展望”属性中获得了最高的收益，因此，这将是我们决策树的根节点。因此，我们的决策树看起来像这样:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/d0873fb215d1ed9cb834f3a2db1e067d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*khTMbPdz9E_CzqmR"/></div></div></figure><p id="f16f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将对表的子集重复相同的步骤，其中我们采用每种类型的展望，并查看哪个属性将用于进一步进行决策树。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/2e6b54961c56ac9d5944743c54c685f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cYsVfB6fkniTiEkS"/></div></div></figure><p id="a08d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，当我们以“阳光明媚”为前景时，我们只剩下这几行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/c071218d55112c4d8af8b9c2b18a9f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VEVg7UoX7qwQquAo"/></div></div></figure><p id="6d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类似地，我们计算其他属性(湿度、风)的熵和增益。因此，这些是Sunny table中属性的增益:</p><p id="b78f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">增益(温度)= 0.57 <br/>增益(湿度)= 0.970 <br/>增益(风)= 0.020</p><p id="d90d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们可以看到的，最高增益是由<strong class="ih hj">湿度</strong>属性获得的，因此它成为我们分类的下一个节点。同样，如果我们看到阴天的前景，我们观察到所有的结果都是肯定的，我们可以直接在这里结束它(这是叶子)。</p><p id="8c2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此树木现在看起来像这样:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/23bb8829898d44d7d88e6139f240fbf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h8K87YUf28SktCIb"/></div></div></figure><p id="0922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你现在可能已经有了一个想法，我们应该如何进行展望-雨表。对表outlook-rain再次执行上述步骤后，Wind的增益最高，我们最终准备好了完整的决策树，它看起来是这样的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/7ac0fba67e4994e98c36f78fa196ef0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LkrShcwNJfEHjmjr"/></div></div></figure><p id="f5c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我甚至用python实现了上面的算法，如果你想知道它是如何实现的，请查看我的GitHub库<a class="ae ln" href="https://github.com/madhuresh97/DecisionTreeExample" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="c9d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望到现在为止，你已经对决策树的工作原理和计算方法有了一个非常清晰的理解。</p><p id="f7ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢！</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="e562" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lv">原载于2020年5月17日</em><a class="ae ln" href="http://madhureshgupta.home.blog/2020/05/17/how-decision-trees-work/" rel="noopener ugc nofollow" target="_blank"><em class="lv">http://madhureshgupta . home . blog</em></a><em class="lv">。</em></p></div></div>    
</body>
</html>