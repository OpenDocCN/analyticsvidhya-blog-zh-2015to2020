<html>
<head>
<title>All About SQL Joins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于SQL连接的所有内容</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/all-about-sql-joins-492dfa7f8a5e?source=collection_archive---------4-----------------------#2020-02-01">https://medium.com/analytics-vidhya/all-about-sql-joins-492dfa7f8a5e?source=collection_archive---------4-----------------------#2020-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="524e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近在一次采访中，我被要求解释SQL中的<code class="du jd je jf jg b">JOIN</code>和<code class="du jd je jf jg b">LEFT JOIN</code>之间的区别。不可否认，我已经有一段时间没有考虑不同的SQL连接了，我在回答这个问题时有点笨拙。所以我借此机会深入研究SQL连接。</p><h1 id="bdd4" class="jh ji hi bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke bi translated">什么是SQL连接？</h1><p id="2257" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">SQL联接是一种基于两个或多个表之间的公共列来组合它们的行的方法。</p><p id="cd14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们用一本书和作者的例子来分解一下，作者可以有很多本书，一本书属于一个作者。</p><p id="8f17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">authors</code>表有一个<code class="du jd je jf jg b">id</code>主键、<code class="du jd je jf jg b">name</code>和<code class="du jd je jf jg b">age</code>:</p><pre class="kk kl km kn fd ko jg kp kq aw kr bi"><span id="47ac" class="ks ji hi jg b fi kt ku l kv kw"><strong class="jg hj">authors<br/></strong><em class="kx">id   |   name              |   age</em><br/>1    |   James Patterson   |   72<br/>2    |   Dan Brown         |   55<br/>3    |   JK Rowling        |   54<br/>4    |   David Baldacci    |   59</span></pre><p id="5d4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">books</code>表有一个<code class="du jd je jf jg b">id</code>主键、<code class="du jd je jf jg b">title</code>、<code class="du jd je jf jg b">page_count</code>和<code class="du jd je jf jg b">author_id</code>，这是一个引用作者<code class="du jd je jf jg b">id</code>的外键:</p><pre class="kk kl km kn fd ko jg kp kq aw kr bi"><span id="af0d" class="ks ji hi jg b fi kt ku l kv kw"><strong class="jg hj">books</strong><br/><em class="kx">id    |   title                    |   pages      |   author_id</em><br/>1     |   Along Came a Spider      |   435        |   1<br/>2     |   The Da Vinci Code        |   454        |   2<br/>3     |   The Lost Symbol          |   528        |   2<br/>4     |   HP &amp; Sorcerer's Stone    |   309        |   3<br/>5     |   HP &amp; Chamber of Secrets  |   341        |   3</span></pre><p id="92ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">外键用于形成两个表之间的关系，其中外键引用另一个表的主键。外键是我们用来将两个表连接在一起的公共列。</p><p id="0703" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们想要查询所有的书籍并包含作者信息，我们需要将两个表连接在一起。</p><h1 id="7ebe" class="jh ji hi bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke bi translated">SQL联接的类型</h1><p id="7d08" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">有四种类型的SQL联接:</p><ul class=""><li id="4157" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated"><code class="du jd je jf jg b">(INNER) JOIN</code>返回两个表中匹配的所有行</li><li id="d985" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><code class="du jd je jf jg b">LEFT (OUTER) JOIN</code>返回左表中的所有行和右表中的匹配行</li><li id="3542" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><code class="du jd je jf jg b">RIGHT (OUTER) JOIN</code>返回右表中的所有行和左表中匹配的行</li><li id="2c11" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><code class="du jd je jf jg b">FULLL (OUTER) JOIN</code>返回其中一个表中匹配的所有行</li></ul><p id="690c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在编写SQL查询时，括号中的单词是可选的。还要注意，SQLite不支持<code class="du jd je jf jg b">RIGHT JOIN</code>和<code class="du jd je jf jg b">FULL JOIN</code>。</p><p id="f8ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记住这一点的一个好方法是考虑维恩图:</p><figure class="kk kl km kn fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lm"><img src="../Images/3edd96d7341305365572605603f9f209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lPn1y63GGLKsEEpLxS8BQ.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated">来自<a class="ae ly" href="https://www.w3schools.com/sql/sql_join.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/sql/sql_join.asp</a>的SQL连接图</figcaption></figure><h1 id="47d4" class="jh ji hi bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke bi translated">如何使用SQL连接</h1><p id="efe2" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">回到我们的书和作者的例子，我们可以把<code class="du jd je jf jg b">(INNER) JOIN</code>表中的<code class="du jd je jf jg b">books</code>和<code class="du jd je jf jg b">authors</code>表中的<code class="du jd je jf jg b">author_id</code>:</p><pre class="kk kl km kn fd ko jg kp kq aw kr bi"><span id="2763" class="ks ji hi jg b fi kt ku l kv kw">SELECT *<br/>FROM authors<br/>JOIN books<br/>ON authors.id = books.author_id<br/></span><span id="f8c2" class="ks ji hi jg b fi lz ku l kv kw"><em class="kx">id| name       | age| id| title                  | pages | author_id</em><br/>1 | JPatterson | 72 | 1 | Along Came a Spider    | 435   | 1<br/>2 | Dan Brown  | 55 | 2 | The Da Vinci Code      | 454   | 2<br/>2 | Dan Brown  | 55 | 3 | The Lost Symbol        | 528   | 2<br/>3 | JK Rowling | 54 | 4 | HP &amp; Sorcerer's Stone  | 309   | 3<br/>3 | JK Rowling | 54 | 5 | HP &amp; Chamber of Secrets| 341   | 3</span></pre><p id="afba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意作者戴维·鲍尔达奇(<code class="du jd je jf jg b">authors</code>表中<code class="du jd je jf jg b">4</code>的<code class="du jd je jf jg b">id</code>)没有包含在我们的结果中，因为没有一本书的<code class="du jd je jf jg b">books</code>表中有<code class="du jd je jf jg b">4</code>的<code class="du jd je jf jg b">author_id</code>。要包含在<code class="du jd je jf jg b">(INNER) JOIN</code>的结果中，两个表中必须有一个匹配。</p><p id="4f6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们将其与<code class="du jd je jf jg b">LEFT (OUTER) JOIN</code>进行比较:</p><pre class="kk kl km kn fd ko jg kp kq aw kr bi"><span id="dee7" class="ks ji hi jg b fi kt ku l kv kw">SELECT *<br/>FROM authors<br/>LEFT JOIN books<br/>ON authors.id = books.author_id</span><span id="0fb5" class="ks ji hi jg b fi lz ku l kv kw"><em class="kx">id| name      | age| id | title                  | pages | author_id</em><br/>1 | JPatterson| 72 | 1  | Along Came a Spider    | 435   | 1<br/>2 | Dan Brown | 55 | 2  | The Da Vinci Code      | 454   | 2<br/>2 | Dan Brown | 55 | 3  | The Lost Symbol        | 528   | 2<br/>3 | JK Rowling| 54 | 4  | HP &amp; Sorcerer's Stone  | 309   | 3<br/>3 | JK Rowling| 54 | 5  | HP &amp; Chamber of Secrets| 341   | 3<br/>4 | DBaldacci | 59 |null| null                   | null  | null</span></pre><p id="a629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在作者戴维·鲍尔达奇包含在我们的结果中，因为它存在于左边的表中。我们左边的表是<code class="du jd je jf jg b">authors</code>，在<code class="du jd je jf jg b">LEFT (OUTER) JOIN</code>中，我们返回来自<code class="du jd je jf jg b">authors</code>表的所有行和来自<code class="du jd je jf jg b">books</code>表的所有行，它们在<code class="du jd je jf jg b">authors</code>表中匹配(即所有<code class="du jd je jf jg b">books</code>带有一个<code class="du jd je jf jg b">author_id</code>)。</p><p id="afca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加盟愉快！</p><h1 id="03b0" class="jh ji hi bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke bi translated">来源</h1><div class="ma mb ez fb mc md"><a href="http://www.sql-join.com/" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">SQL连接说明</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">解释什么是SQL连接的资源，不同连接类型的例子，以及技术性的ETL文档…</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">www.sql-join.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr ls md"/></div></div></a></div><div class="ma mb ez fb mc md"><a href="https://www.w3schools.com/sql/sql_join.asp" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">SQL连接</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">JOIN子句用于根据两个或多个表之间的相关列来组合它们中的行。让我们看一个…</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">www.w3schools.com</p></div></div><div class="mm l"><div class="ms l mo mp mq mm mr ls md"/></div></div></a></div><div class="ma mb ez fb mc md"><a rel="noopener follow" target="_blank" href="/@aresnik11/side-effects-of-sql-joins-in-one-to-many-relationships-8fc2c00d7597"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">一对多关系中SQL连接的副作用</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">我告诉我的朋友，他是一名数据分析师转数据PM，我正在学习SQL以及如何连接表和他的第一个…</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">medium.com</p></div></div></div></a></div></div></div>    
</body>
</html>