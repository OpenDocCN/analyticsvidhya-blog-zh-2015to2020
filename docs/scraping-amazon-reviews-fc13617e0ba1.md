# 抓取亚马逊评论

> 原文：<https://medium.com/analytics-vidhya/scraping-amazon-reviews-fc13617e0ba1?source=collection_archive---------6----------------------->

## 今天让我们来讨论一下“什么是网络抓取？”

> 网络抓取就是从不同的角度获取对某些产品或服务的评论或评级的所有信息。我们也可以删除社交媒体帖子的评论、喜欢和不喜欢。

现在，在这篇博客中，我将向你展示我是如何从亚马逊上收集产品评论的

我要去刮苹果笔记本的评论。为此，请遵循以下步骤

首先，您需要在 python 中安装所需的包。我们需要 BeautifulSoup 来提取——你也可以使用任何其他包，比如 scrapy，但是现在，我使用 BeautifulSoup

![](img/60c93e1ad134aa64a9b302881ffc8a78.png)

现在，在安装了所需的包之后，通过以下代码将 BeautifulSoup 导入 python:

![](img/f7948c448be3d5f816d58810f60e91f2.png)

现在我们需要执行基本的 url。每个网站都有标准的基本网址，现在亚马逊就是这样

`“https://www.amazon.in/s?k="`

并搜索查询我们想刮什么产品。我将抓取 apple laptops，以便 apple+laptops 将成为我的搜索查询并立即执行:

![](img/703115096a0a7d0818664ae62549edc3.png)

> 现在把“搜索查询”和“基本网址”打印在一起，这样就可以直接进入苹果笔记本电脑

![](img/febb9a77ed781abf7b1c4a69bafb85f3.png)

现在检查亚马逊的回应，看它是否允许我们进行抓取

![](img/4cfe91d00ea96aa40c036dd6a0656b1e.png)![](img/ae8f972f3a64aaf2dba8fdd6d23e5693.png)

*   如果代码给出 503，这意味着页面没有内容。
*   如果代码给出 200，一切都是清楚的，可以访问。

我们现在将使用代码检查内容

![](img/4598f6e135493ac8756ddddfeb322115.png)

如果我们不能访问页面，我们使用标题来访问页面内容。

我们有内容，但现在我们给出了内容可用性的标题

![](img/b5154071836f65b327dfbff45865d11e.png)

标题可以在下面找到

*   转到检查元素。
*   点击网络和
*   点击和任何一个名字和
*   向下滚动
*   你可以找到“用户代理”
*   在标题中插入代码

接下来查看搜索响应中的文本，使用以下代码:

![](img/e3312054587b0ee4900b909fd01eb6ef.png)

接下来给出提取评论的链接

![](img/3ca9242fa07269a93b75d22801446f6b.png)

现在检查上面链接的内容

![](img/d684a4adeb50c0b2a08c26b45fc3c21b.png)

我们现在得到了内容，让这些内容可以被 BeautifulSoup 包所理解

![](img/14925eca85bf5f1935f2ce9161477359.png)

现在检查页面的标题

![](img/277a3d6e1b9230b25296a4643fd818ed.png)

现在我们需要通过给出“类”和“属性”来检查产品列表

![](img/667a6619a55e82beccaa49aa596668bd.png)

我们可以在

*   检查元件
*   点击产品
*   你可以找到“类”和“属性”代码

接下来，我们编写一个函数，声明检查页面是否可以废弃。

在这种情况下，我们将标题分为多个标题。

![](img/ffa25789995e848af57819801b3c8d5f.png)

接下来是给出循环函数，用于声明我们想要在这里废弃的页数

我给 10 页中的 7 页

![](img/99459e4ec446f4c7f4f2512e76a0773d.png)

现在为每页中的产品列表编写一个循环

![](img/29d887adec0d7c66dde17b4a13242dda.png)

现在检查产品的长度

![](img/3ee8e32c51aaba0b35c2d9005f550fef.png)

为每页中每个产品的所有 ASIN 编号编写循环，并检查产品的长度

> 每个产品都分配有一个 ASIN 编号。每个产品都有不同的数据，如编号，这有助于轻松识别特定的产品。

![](img/141ad23a8728863dd0bd4e8497db883f.png)

你可以在类中找到数据

*   检查元件
*   点击产品标题，然后
*   查找“数据别名”
*   你可以找到“类”和“属性”代码

现在为所有产品的链接定义函数

![](img/22d12fc3cbf6b2d4e914c77178258df5.png)

接下来，我们定义收集每个数据的所有评论的函数——as in number

![](img/314051b4cac7b32aaef879e0d911424d.png)

在这里，类将在

*   在搜索中打开任何一个产品
*   务必检查元件和
*   点击一条评论
*   我们可以找到那些“类”和“属性”

现在，最后通过下面的代码将数据文件转换成数据帧:

![](img/514d098e6b2b8cc84a685e3d8ffa61f7.png)

我把数据框转换成 CSV 文件，审查与我们在一起……