<html>
<head>
<title>A Linear Regression Model predicting the Grossing of Movies from the Marvel Cinematic Universe (MCU).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测漫威电影世界(MCU)电影票房的线性回归模型。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/linear-regression-model-predicting-the-grossing-of-movies-from-the-marvel-cinematic-universe-mcu-9d72644563c9?source=collection_archive---------3-----------------------#2019-10-18">https://medium.com/analytics-vidhya/linear-regression-model-predicting-the-grossing-of-movies-from-the-marvel-cinematic-universe-mcu-9d72644563c9?source=collection_archive---------3-----------------------#2019-10-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7c0b8782f9b04bf746f07ecf5a952ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1DExwyJ8P1ExabzON6Ztw.jpeg"/></div></div></figure><p id="80f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">截至2019年，最成功的电影系列漫威电影宇宙(MCU)自2008年起飞以来，票房收入高达220亿美元。该特许经营权是迪士尼的一大胜利，并将继续成为其商业战略的一部分，即使该公司准备推出其流媒体服务Disney+。</p><p id="03d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为一个如此成功的特许经营，MCU带来了一个有趣的数据集，值得回顾，有人可能会问，某些因素，如预算，电影粉丝群的规模和发行协议，在多大程度上影响漫威电影的成功。在数据科学中，这是一个可以使用最基本的模型，即线性回归模型来回答的问题。</p><p id="3ef2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文推导了一个线性回归模型，用于估算5部漫威电影的收入，分别是:<strong class="is hj"> <em class="jo">《钢铁侠》、《奇异博士》、《蜘蛛侠归来》、《银河守护者》第二卷和《复仇者联盟:奥创时代》</em> </strong> <em class="jo">。</em>模型的预测结果如下:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/011b4cc76093b5ca5102d9962db4e22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AAd2-nhxUAULxHRycJN5zA.png"/></div></div></figure><p id="a83c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快速突出显示执行线性回归模型所需的步骤如下:</p><ol class=""><li id="4fdc" class="ju jv hi is b it iu ix iy jb jw jf jx jj jy jn jz ka kb kc bi translated">导入必要的库。</li><li id="21ff" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">加载数据集。</li><li id="f607" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">分成训练和测试数据帧</li><li id="c589" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">在训练数据框架上运行回归模型</li><li id="7819" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">使用模型预测测试数据框架的值</li><li id="781f" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">画出差异</li><li id="bee3" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">比较一下细节上的区别。</li></ol><h2 id="0eaa" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">详细演练？跟我来。</h2><p id="48dd" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">使用来自票房Mojo的数据，包括预算、影院数量和电影放映周数；这些因素对收入的影响可以通过在Python Jupyter环境中实现线性回归模型来估计，让我们来演练一下。</p><p id="a12c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用python的标准程序，所有需要的库都必须导入到笔记本中，即numpy、pandas、matplotlib和scipy:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="7a73" class="ki kj hi lj b fi ln lo l lp lq">import numpy as np</span><span id="fac9" class="ki kj hi lj b fi lr lo l lp lq">import pandas as pd</span><span id="b934" class="ki kj hi lj b fi lr lo l lp lq">import matplotlib</span><span id="7d7e" class="ki kj hi lj b fi lr lo l lp lq">import matplotlib.pyplot as plt</span><span id="fd0d" class="ki kj hi lj b fi lr lo l lp lq">import scipy.stats as stats<br/>from sklearn import linear_model</span></pre><p id="3aa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们将数据集作为pandas对象类型加载到笔记本中，并浏览一下数据:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="207b" class="ki kj hi lj b fi ln lo l lp lq">df = pd.read_csv(‘MCU.csv’, index_col=’Movie’)<br/>df.head()</span></pre><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/f17cbaf922962b359b79778a877ecbac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*0bbvy8t_XteOIfghb1-qeA.png"/></div></figure><p id="5d64" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一个最重要的步骤是可视化每个列之间的关系，因为这使分析师能够发现数据集中可能存在的线性和多项式关系。为了做到这一点，可以使用散点图或配对图，为了简单起见，我使用了配对图。</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="cd80" class="ki kj hi lj b fi ln lo l lp lq">import seaborn as sb</span><span id="8a44" class="ki kj hi lj b fi lr lo l lp lq">sb.pairplot(df)</span></pre><p id="b6aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嘣！我们可以看到<strong class="is hj"> <em class="jo">收入</em></strong><em class="jo">&amp;</em><strong class="is hj"><em class="jo">预算</em> </strong>有线性关系，以及<strong class="is hj"> <em class="jo">收入</em></strong><em class="jo"/><strong class="is hj"><em class="jo">&amp;影院数量</em> </strong>。<strong class="is hj"> <em class="jo">收入&amp;周数</em> </strong>电影播出的关系是非线性的、分散的。然而，我们可以包括这个变量，因为模型在现实中可能是非线性的:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/3c4d4cb36383f7f2be766efd76f25378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ws1ipPzi-3uns5WstTzzbQ.png"/></div></div></figure><p id="a628" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，数据集必须分成训练和测试数据帧。测试数据框架用于验证由训练数据框架创建的模型的效率。根据惯例，我们将原始数据集命名为“训练”数据帧，将验证数据集命名为“测试”数据帧。有许多方法可以执行这种拆分，但是为了有利于风格，我们可能会选择一种更优雅的方法:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="cd63" class="ki kj hi lj b fi ln lo l lp lq">train = df.sample(frac=0.8, random_state=200)<br/>train.index<br/>test = df.drop(train.index)</span></pre><p id="283c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它使用一个名为<strong class="is hj"> <em class="jo"> sample </em> </strong>的函数将原始数据集的80%提取到一个名为“train”的地址中，并继续从父数据集中删除该数据集的成员，同时将其保存到一个名为“test”的地址中。</p><p id="1db4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这分别为训练(18)和测试(5)产生以下数据帧:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="e716" class="ki kj hi lj b fi ln lo l lp lq">train.index</span><span id="a943" class="ki kj hi lj b fi lr lo l lp lq">Output:</span><span id="f58b" class="ki kj hi lj b fi lr lo l lp lq"><strong class="lj hj">Index(['Avengers: Infinity War', 'Avengers: Endgame', 'Ant-Man',<br/>       'Captain Marvel', 'Thor: Ragnarok', 'Thor: The Dark World',<br/>       'Marvel's The Avengers', 'Captain America: Civil War', 'Black Panther',<br/>       'Spider-Man: Far from Home', 'Thor', 'Iron Man 3',<br/>       'Ant-Man and the Wasp', 'Captain America: The First Avenger',<br/>       'The Incredible Hulk', 'Guardians of the Galaxy', 'Iron Man 2',<br/>       'Captain America: The Winter Soldier'],<br/>      dtype='object', name='Movie'</strong></span><span id="8002" class="ki kj hi lj b fi lr lo l lp lq">test.index</span><span id="e3a8" class="ki kj hi lj b fi lr lo l lp lq">Output:<br/><strong class="lj hj">Index(['Avengers: Age of Ultron', 'Guardians of the Galaxy Vol. 2',<br/>       'Spider-Man: Homecoming', 'Iron Man', 'Doctor Strange'],<br/>      dtype='object', name='Movie')</strong></span></pre><p id="276f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个练习的目标是<strong class="is hj">使用其他变量</strong>估算收入。因此，因变量Y是<strong class="is hj"> <em class="jo">收入</em> </strong>自变量是其他:<strong class="is hj"> <em class="jo">预算，影院数量&amp;周数</em> </strong>。在回归格式中，这将看起来像:</p><p id="3612" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">收入</strong> = <strong class="is hj"> <em class="jo">预算常数*建议预算+剧院数常数*建议剧院数+周数常数*周数+误差</em> </strong></p><p id="c08e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该模型将估计:</p><ol class=""><li id="d9a5" class="ju jv hi is b it iu ix iy jb jw jf jx jj jy jn jz ka kb kc bi translated">预算常数</li><li id="299e" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">剧院数量不变</li><li id="0715" class="ju jv hi is b it kd ix ke jb kf jf kg jj kh jn jz ka kb kc bi translated">周数常数</li></ol><p id="b1e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些，当与建议值(<strong class="is hj"> <em class="jo">预算、影院数量&amp;周数</em> </strong>)结合起来时，将为分析师产生一个<strong class="is hj"> <em class="jo">收入</em> </strong>估计值。</p><p id="0c0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因变量组合使用:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="65b9" class="ki kj hi lj b fi ln lo l lp lq">depd = train[[‘Budget’, ‘Number of Theaters’, ‘Number of Weeks’]]</span></pre><p id="d68a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，线性回归模型，即主酱，被添加到“火车”数据框架中。拟合函数用于估计每个因变量的权重:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="8942" class="ki kj hi lj b fi ln lo l lp lq">split_mcu_model = linear_model.LinearRegression()<br/>split_mcu_model.fit(X=depd, y=train['Revenue'])</span></pre><p id="1720" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要检查重量，请在型号名称上运行打印功能，即split_mcu_model:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="2032" class="ki kj hi lj b fi ln lo l lp lq">print(‘Intercept: ‘, split_mcu_model.intercept_)<br/>print(‘ ‘)</span><span id="edef" class="ki kj hi lj b fi lr lo l lp lq">print(‘Co-efficients: ‘, split_mcu_model.coef_)<br/>print(‘ ‘)</span><span id="cb12" class="ki kj hi lj b fi lr lo l lp lq">Output:<br/><strong class="lj hj">Intercept:  -1204790248.147585<br/> <br/>Co-efficients:  [ 7.39799224e+00  3.17134815e+04 -1.06859582e+07]</strong></span></pre><h2 id="5a6e" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">将此解释为我们的线性模型给出:</h2><p id="9615" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">收入= 7.4 *拟定电影预算+31713.4 *拟定影院数+(-10685958.2)*周数+(-1204790248)</em></strong></p><p id="9aad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一个最重要的问题是，“<strong class="is hj"> <em class="jo">这个模型在多大程度上解释了数据集</em> </strong>中的变异？”。这里，实现了一种称为R平方的测量。简而言之，R-squared将在100分的尺度上向分析师显示所创建的模型解释数据集中可观察到的可变性的程度。</p><p id="4a76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了进行测试，我们需要:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="b0d3" class="ki kj hi lj b fi ln lo l lp lq"># Check R-squared<br/>split_mcu_model.score(X=depd, y=train[‘Revenue’])</span><span id="47a8" class="ki kj hi lj b fi lr lo l lp lq">Output:<br/><strong class="lj hj">0.8904921033424646</strong></span></pre><p id="9647" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">这意味着该模型解释了观察到的89%的可变性，一点也不差</strong>！</p><h2 id="3cb7" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">然后是验证！</h2><p id="8e09" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">为了验证，我们必须再次为测试数据框定义因变量，类似于为<strong class="is hj">训练</strong>数据框所做的:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="c238" class="ki kj hi lj b fi ln lo l lp lq">test_df = test[[‘Budget’, ‘Number of Theaters’, ‘Number of Weeks’]]<br/>test_df</span></pre><p id="6571" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这抛弃了测试数据框架的<strong class="is hj">收入</strong>列，因此只剩下因变量(<em class="jo"> X1:预算，X2:剧院数量&amp; X3:周数</em>)。见下文:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/628cbfd34827052b1e9492f2a2d1807f.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*eCnnJnEFmPBOSBML7PlKGQ.png"/></div></figure><p id="4e17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们使用test_df变量运行预测函数:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="17a0" class="ki kj hi lj b fi ln lo l lp lq">predictions = split_mcu_model.predict(X=test_df)</span><span id="72b6" class="ki kj hi lj b fi lr lo l lp lq">print(predictions)</span><span id="9727" class="ki kj hi lj b fi lr lo l lp lq">Output:<br/><strong class="lj hj">[1.48086791e+09 1.18783732e+09 1.03517332e+09 7.76308508e+08<br/> 6.30767668e+08]</strong></span></pre><p id="7362" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了便于理解，让我们运行一个简单的循环来充分格式化预测的数字:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="0fe4" class="ki kj hi lj b fi ln lo l lp lq">for i in predictions:<br/> print(‘$’ + format(i, ‘,.2f’))</span><span id="0c03" class="ki kj hi lj b fi lr lo l lp lq">Output:</span><span id="0f85" class="ki kj hi lj b fi lr lo l lp lq"><strong class="lj hj">$1,480,867,909.25<br/>$1,187,837,321.06<br/>$1,035,173,324.26<br/>$776,308,507.84<br/>$630,767,667.86</strong></span></pre><p id="f4eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们将预测结果保存到原始测试数据框架中，方法是将其保存到一个名为“预测收入”的新列中:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="9770" class="ki kj hi lj b fi ln lo l lp lq">test[‘Predicted Revenue’] = predictions<br/>test</span></pre><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/3dd81a035a8d76d98de0a64f0d642e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*lULVg5ivt7RKNibgc4hgSw.png"/></div></figure><p id="655f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">既然我们已经完成了。现在是时候在散点图上绘制数据点了，以便确定预测收入和实际收入之间的偏差。为了不离题，代码将与输出一起粘贴。</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="2b73" class="ki kj hi lj b fi ln lo l lp lq">import matplotlib.ticker as mtick</span><span id="532b" class="ki kj hi lj b fi lr lo l lp lq">def scatterplot(df, x_dim, y_dim, z_dim):<br/> x= df[x_dim]<br/> y= df[y_dim]<br/> z= df[z_dim]<br/> <br/> fig, ax = plt.subplots(figsize=(10,8))<br/> <br/> #define color array<br/> colors = [‘#2300A8’, ‘#00A658’]<br/> <br/> #customize transparency for each dot in the scatter plot<br/> <br/> #plot each x-y<br/> ax.scatter(x, y, alpha=0.9, color=colors[0])<br/> ax.scatter(x, z, alpha=0.9, color=colors[1])<br/> <br/> #add title and axes labels<br/> ax.set_title(‘Comparison of Predicted Revenue vs Actual Revenue for MCU Movies’)<br/> ax.set_xlabel(‘Budget (USD)’)<br/> ax.set_ylabel(‘Revenue (USD)’)<br/> <br/> #remove top and right borders<br/> ax.spines[‘top’].set_visible(False)<br/> ax.spines[‘right’].set_visible(False)<br/> <br/> #add major gridlines<br/> ax.grid(color=’grey’, linestyle=’-’, linewidth=0.25, alpha=0.5)<br/> <br/> #Change y-axis label style and include Currency format<br/> ax.ticklabel_format(style=’plain’, useOffset=False, axis=’y’)<br/> fmt = ‘${x:,.0f}’<br/> tick = mtick.StrMethodFormatter(fmt)<br/> ax.yaxis.set_major_formatter(tick)<br/> <br/> <br/> #Change x-axis label style and include Currency format<br/> ax.ticklabel_format(style=’plain’, useOffset=False, axis=’x’)<br/> fmt = ‘${x:,.0f}’<br/> tick = mtick.StrMethodFormatter(fmt)<br/> ax.xaxis.set_major_formatter(tick)<br/> plt.xticks(rotation=45)<br/> <br/> <br/> <br/> #add Legend<br/> ax.legend()<br/> <br/> <br/> <br/> for i in test.index: <br/> plt.text(test[‘Budget’][i]+3000000.0, test[‘Predicted Revenue’][i]+3000000.0, i)<br/> plt.text(test[‘Budget’][i]+3000000.0, test[‘Revenue’][i], i)<br/> <br/> plt.show()<br/> <br/>scatterplot(test, ‘Budget’, ‘Revenue’, ‘Predicted Revenue’)</span></pre><p id="7108" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嘣！</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/011b4cc76093b5ca5102d9962db4e22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AAd2-nhxUAULxHRycJN5zA.png"/></div></div></figure><p id="f6c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我们可以看到复仇者联盟:奥创时代，银河护卫队第二卷，蜘蛛侠:返校节和钢铁侠根据模型表现不佳。</p><h2 id="8c89" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">一点个人看法:</h2><p id="cf4d" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">我个人认为<strong class="is hj"> <em class="jo">【奥创时代】</em></strong><em class="jo"/><strong class="is hj"><em class="jo">《蜘蛛侠归来》和《银河护卫队》第二卷</em> </strong>没有达到他们本应达到的水平，表现不佳，也就是说，它们是漫威最底层的电影。但《钢铁侠》是漫威的第一部电影，之前没有影响力，所以《钢铁侠》的表现低于模特是可以理解的。</p><h2 id="47f0" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">预测收入和实际收入在数字上的差异有多大？</h2><p id="04e6" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">为此，我们首先找到两列之间的差异，并将其保存到新列中。</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="ca32" class="ki kj hi lj b fi ln lo l lp lq">test[‘Predicted Revenue — Revenue’] = test[‘Predicted Revenue’] — test[‘Revenue’]<br/>test</span></pre><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/b338c4ee497f4a685d12d58ac6cfa6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wMnuuRK6KjUE_NO9OTjnzg.png"/></div></div></figure><p id="3b44" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它仍然以科学的格式读取，为了清楚地说明它，我们可以在“预测收入-收入”列中调用每个指数及其等价成员:</p><pre class="jq jr js jt fd li lj lk ll aw lm bi"><span id="ac80" class="ki kj hi lj b fi ln lo l lp lq">for i in test.index:<br/> print(‘ ‘)<br/> print(i)<br/> print(‘$’ + format(test[‘Predicted Revenue — Revenue’][i], ‘,.2f’))</span><span id="c766" class="ki kj hi lj b fi lr lo l lp lq">Output:<br/><strong class="lj hj">Avengers: Age of Ultron<br/>$75,464,215.25<br/> <br/>Guardians of the Galaxy Vol. 2<br/>$324,081,270.06<br/> <br/>Spider-Man: Homecoming<br/>$155,006,400.26<br/> <br/>Iron Man<br/>$191,134,285.84<br/> <br/>Doctor Strange<br/>$-46,950,727.14</strong></span></pre><p id="577b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">开始了。</p><p id="90a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像这样的模型有许多商业应用，可以用来<strong class="is hj">预测销售</strong>，<strong class="is hj">你的营销活动的可行性</strong>，<strong class="is hj">一部尼莱坞电影的总收入</strong>等等。这个例子演示了一个非常简单的应用程序，但有一个重要的警告，即数据可用性。你的业务中有数据吗？您可以用它做更多的事情…</p><p id="ce76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在twitter @the_horoatio上关注我，我也写关于地缘政治、经济和现在的数据科学的博客。非常感谢你的阅读！</p></div></div>    
</body>
</html>