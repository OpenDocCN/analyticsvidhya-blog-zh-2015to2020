<html>
<head>
<title>Deep Dive in Machine Learning with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python深入研究机器学习</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/deep-dive-in-machine-learning-with-python-a5c1d0c8ed8a?source=collection_archive---------24-----------------------#2020-02-06">https://medium.com/analytics-vidhya/deep-dive-in-machine-learning-with-python-a5c1d0c8ed8a?source=collection_archive---------24-----------------------#2020-02-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b137" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">第二部分— XI:数据可视化— II</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/67ad33940fba1207d96279c8195fa9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FufDV2S6BYHQK9XuDqXxhA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图片<a class="ae jn" href="https://docs.bokeh.org/en/latest/docs/gallery.html" rel="noopener ugc nofollow" target="_blank">链接</a></figcaption></figure><p id="f2ee" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">欢迎来到另一个用Python深入研究机器学习的博客，在上一个<a class="ae jn" rel="noopener" href="/analytics-vidhya/deep-dive-in-machine-learning-with-python-4a29f4dde483"> <strong class="jq hj">博客</strong> </a>中，我们通过绘制几个图表，如条形图、散点图、折线图等，对<strong class="jq hj"> Gapminder数据集</strong>有了更好的理解。在今天的博客中，我们将使用Pandas和数据可视化库来可视化数据分布。</p><p id="83e2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在今天的博客中，我们也将继续使用<strong class="jq hj"> Gapminder数据集</strong>。而且，与之前的博客类似，我们也将关注于那些可以让你的情节更吸引人的选项。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kk"><img src="../Images/f8c31f6d70504b6389218ce6be3ad772.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*6is6ltBZ1G7URvAQRbzrCg.gif"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">链接:<a class="ae jn" href="https://giphy.com/gifs/lego-fight-dc-13RH0eYA9vEAso" rel="noopener ugc nofollow" target="_blank"> Giphy </a></figcaption></figure><h2 id="a13b" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated">导入必要的python库</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lg"><img src="../Images/41b6473092c6e71883813feceb167827.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/0*qqWR_UmLFt5f6O-W.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">必需的库</figcaption></figure><h2 id="c115" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated">导入数据集</h2><p id="1727" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">我们将从一个CSV文件(即<em class="lm"> gapminder.csv </em>)导入数据集，并创建一个熊猫数据框架。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ln"><img src="../Images/d163e3937bfb28ca3284af5ddd72c46c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LOH_26zClasJtgB0.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">从CSV文件读取的数据</figcaption></figure><h1 id="2991" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题1:什么是直方图？</h1><p id="0d3c" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">这是一个给出数据的潜在频率分布的图。直方图允许我们检查基本分布(如正态或钟形分布)、异常值、偏斜度等。</p><p id="5d2b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">它在以下方面不同于条形图:</p><ol class=""><li id="654a" class="lz ma hi jq b jr js ju jv jx mb kb mc kf md kj me mf mg mh bi translated">条形图涉及两个变量，而直方图只涉及一个变量</li><li id="e70a" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated">要构建直方图，第一步是“收集”数值范围(即，将整个数值范围分成一系列区间)，然后计算每个区间内有多少个数值。</li></ol><p id="2548" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di">如果</span>箱的大小相等，则构建一个高度与频率(即每个箱中的案例数)成比例的矩形。</p><h1 id="8ea9" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题2:如何可视化‘寿命_预期’的分布？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/fb9b624a28f406f8e6689761b3c4ecd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1Omp09G6cL1056i4OUbUg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">数据帧的前5条记录</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mx"><img src="../Images/f2eba98efb06c3cf3a141830a1f0d95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uh3eUxMn93OAoYJ3PAoOWg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">解决方案2</figcaption></figure><p id="692b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的单元格中，我们创建了一个“<strong class="jq hj">步骤</strong>”直方图的“<strong class="jq hj">寿命_预期值</strong>”。如果你仔细观察图表，你会发现<strong class="jq hj">主网格</strong>线。</p><p id="5c17" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所以，在这个图表中，我们发现在gapminder数据集中，71岁是一个人预期的平均寿命。</p><blockquote class="my mz na"><p id="b590" class="jo jp lm jq b jr js ij jt ju jv im jw nb jy jz ka nc kc kd ke nd kg kh ki kj hb bi translated">您可以使用不同的<strong class="jq hj">线条样式</strong>，如“-”、“—”、“-”, ":".并且，我定义了一个字典(<strong class="jq hj"> bar_font </strong>)，其中包含了我想在标签中使用的字体的定制细节。</p></blockquote><h1 id="bad4" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题-3:如何可视化‘age 5 _ surviving’的区块类型分布？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/fb9b624a28f406f8e6689761b3c4ecd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1Omp09G6cL1056i4OUbUg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">数据帧的前5条记录</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/a317f4375fb1b963e4b33f93105ee239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZELZIRc1Xxei5jdLsCCGLA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">解决方案-3</figcaption></figure><p id="b7ac" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的结果中，创建了“<strong class="jq hj"> age5_surviving </strong>”的左向或负向倾斜直方图。</p><h1 id="7b04" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题4:有哪些不同类型的数据分布？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nf"><img src="../Images/d44710bd7dc35cad9eda1db931475fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XukBk31QmVljDRAPm5DWig.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">直方图分布</figcaption></figure><h2 id="6a5a" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated"><strong class="ak">偏态分布</strong></h2><p id="28de" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">向右偏斜的分布<strong class="jq hj">被称为正偏斜<strong class="jq hj"/>。这种分布在低值单元格(左侧)中大量出现，在高值单元格(右侧)中很少出现。</strong></p><p id="821a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">向左倾斜的分布<strong class="jq hj">被称为负倾斜</strong>。这种分布在高值单元格(右侧)中大量出现，在低值单元格(左侧)中很少出现。</p><h2 id="5e52" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated">双峰分布</h2><p id="495d" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">有两个峰值的直方图称为“<strong class="jq hj">双峰</strong>或“<strong class="jq hj">双峰</strong>”。它包含数据中最常出现的两个值或数据区域。这种直方图反映了数据中存在两种不同的过程。</p><h2 id="4ab1" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated">截断分布</h2><p id="7bc9" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">当我们处理不完整的报告数据或提供的数据超出规格范围时，会出现“<strong class="jq hj">截断的</strong>”<strong class="jq hj"/>直方图。</p><h2 id="6f2b" class="kl km hi bd kn ko kp kq kr ks kt ku kv jx kw kx ky kb kz la lb kf lc ld le lf bi translated">平稳分布</h2><p id="1f6a" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">“<strong class="jq hj">平台</strong>”直方图是多条钟形曲线的组合，是双峰分布的极端版本。</p><h1 id="4951" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题5:什么是密度图？</h1><p id="0d80" class="pw-post-body-paragraph jo jp hi jq b jr lh ij jt ju li im jw jx lj jz ka kb lk kd ke kf ll kh ki kj hb bi translated">密度图是根据数据创建的直方图的平滑和连续版本。估计直方图密度曲线的常用方法是<em class="lm">核密度估计</em>。</p><p id="8213" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="lm">核密度估计</em> (KDE)是一种算法，它采用高斯混合，并使用由每个点的一个高斯分量<em class="lm">组成的混合，从而产生一个基本上非参数的密度估计值。</em></p><p id="5448" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Python中有几个版本的内核密度估计可用(<em class="lm"> SciPy和StatsModels包</em>)，我更喜欢使用Scikit-Learn的(<code class="du ng nh ni nj b">sklearn.neighbors.KernelDensity</code>)版本，因为它更高效(<em class="lm">使用基于树的算法</em>)。并且，使用六个内核之一和一个距离度量来处理多维KDE。</p><h1 id="46cb" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题6:如何创建‘寿命_预期’的密度图？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nk"><img src="../Images/fa6bf1012b6d173d8008db302684cd8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2toDJaieWtVq19OOyXayQ.png"/></div></div></figure><p id="ce75" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，我们创建了“<strong class="jq hj">预期寿命</strong>”的密度图和阶梯式直方图。</p><blockquote class="my mz na"><p id="b066" class="jo jp lm jq b jr js ij jt ju jv im jw nb jy jz ka nc kc kd ke nd kg kh ki kj hb bi translated">种类= '密度'与KDE相同</p></blockquote><h1 id="9bed" class="lo km hi bd kn lp lq lr kr ls lt lu kv io lv ip ky ir lw is lb iu lx iv le ly bi translated">问题7:如何通过用户自定义函数创建多列的KDE曲线和阶梯式直方图？</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nl"><img src="../Images/96cd726343ee4e6d5f229ad3db6d54fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6c90bPfdXzvnz6eqHA0Ezw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">函数定义和调用</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nm"><img src="../Images/4f1522c0a2ac0a820846cea339092f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJmIHR2CBLg-CqT1knchHw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd kn">预期寿命</strong></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nn"><img src="../Images/530f1890d60388ac7deb4d881500ad4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROG4_IutEwW4JQc9PYVqNQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd kn">5岁_幸存</strong></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es no"><img src="../Images/30b86ea402a11c9feed8f1577769ce18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*REtXeXUEBvkGOyJeacjOBw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd kn">每个女人生的孩子</strong></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es np"><img src="../Images/dc1f1ecd8b9acfcd3226771eb78f8125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAebqY0tcH9mOSJ54R3CCA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd kn">人均Gdp</strong></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nq"><img src="../Images/0d420dc4fd431ebc592731f83bc20200.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*OSffRGunRgEDc8gTxkg2QA.gif"/></div></figure><p id="75f2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">恭喜你，我们的博客到此结束。总之，我们讨论了不同的数据分布、直方图和密度图。在下一篇博客中，我们将讨论结对图和热图，然后我们将开始探索EDA的深度。</p><blockquote class="my mz na"><p id="6eb4" class="jo jp lm jq b jr js ij jt ju jv im jw nb jy jz ka nc kc kd ke nd kg kh ki kj hb bi translated"><strong class="jq hj">如果你想下载这个博客的Jupyter笔记本，请访问下面的GitHub库:</strong></p><p id="e405" class="jo jp lm jq b jr js ij jt ju jv im jw nb jy jz ka nc kc kd ke nd kg kh ki kj hb bi translated"><a class="ae jn" href="https://github.com/Rajesh-ML-Engg/Deep_Dive_in_ML_Python" rel="noopener ugc nofollow" target="_blank">T3【https://github.com/Rajesh-ML-Engg/Deep_Dive_in_ML_Python】T5</a></p></blockquote><p id="6338" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">谢谢你，祝你学习愉快！！！</p><p id="2bfb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"><em class="lm">Blog-12:</em></strong><a class="ae jn" rel="noopener" href="/@Rajesh_ML_Engg/deep-dive-in-machine-learning-with-python-19a67423218c"><strong class="jq hj"><em class="lm">数据可视化— III </em> </strong> </a></p></div></div>    
</body>
</html>