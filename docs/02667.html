<html>
<head>
<title>PCA vs t-SNE: which one should you use for visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">主成分分析与t-SNE:你应该使用哪一个可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/pca-vs-t-sne-17bcd882bf3d?source=collection_archive---------1-----------------------#2019-12-28">https://medium.com/analytics-vidhya/pca-vs-t-sne-17bcd882bf3d?source=collection_archive---------1-----------------------#2019-12-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ea0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">维度是任何数据集中的主要因素。我们人类不能正确地可视化3d以上的东西，所以为了理解，我们必须减少维度的大小，这样我们才能正确地可视化。有许多方法可以降低可视化的维数，但这里我们将讨论主成分分析和t-SNE。</p><p id="ffa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用MNIST数据集来了解更多关于主成分分析和t-SNE。关于MNIST的一些数据:</p><ul class=""><li id="68df" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">mnist_train.csv文件包含60，000个训练示例和标签。</li><li id="cb58" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">mnist_test.csv包含10，000个测试示例和标签。</li><li id="eedb" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">每行包含785个值:第一个值是标签(从0到9的数字)，其余784个值是像素值(从0到255的数字)。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es jr"><img src="../Images/ef9bd74c7f382e52e86c6deeed35180f.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/0*T7DVYVqZ6-yjOIZU"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated"><a class="ae kd" href="https://i1.wp.com/varianceexplained.org/images/mnist.png?w=584" rel="noopener ugc nofollow" target="_blank">https://i1.wp.com/varianceexplained.org/images/mnist.png?w=584 </a></figcaption></figure><h1 id="fe69" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">PCA(主成分分析):</h1><p id="6289" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">主成分分析是数据可视化中最重要的降维方法之一。PCA是一种将n维数据转换为k维数据，同时保留原始数据集中尽可能多的信息的技术。假设你现在给了100维的数据，你需要把它转换成低维比如说50维。为此，我们可以使用主成分分析。PCA中有几个步骤来降低维数。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lh"><img src="../Images/cf710ee99f10489b2eb1e4c77a51f27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/0*tcoQiyzqV1K66do0.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated"><a class="ae kd" href="https://blog.bioturing.com/wp-content/uploads/2018/11/Blog_pca_6b.png" rel="noopener ugc nofollow" target="_blank">https://Blog . bio turing . com/WP-content/uploads/2018/11/Blog _ PCA _ 6b . png</a></figcaption></figure><ul class=""><li id="65f5" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">计算每列的平均值</li><li id="73d6" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">通过减去列平均值，将每列中的值居中</li><li id="57f3" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">计算中心矩阵的协方差矩阵</li><li id="780c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">计算协方差的特征分解(特征向量表示方向的大小或减少子空间的分量)</li></ul><p id="b3d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果所有特征值都有一个相似的值，那么我们知道现有的表示可能已经被压缩了。</p><h1 id="e427" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">t-SNE(T-分布式随机邻居嵌入):</h1><p id="468d" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">t-SNE也是一种降维方法。PCA和t-SNE之间最主要的区别之一是它只保留局部相似性，而PA保留大的成对距离最大化方差。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es li"><img src="../Images/169ff56596bc3f57a6dff649fff84853.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*tZjSp7iCt3DG7biOS1-pxA.png"/></div></figure><p id="ab01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们有这些点x1，x2，x3。然后SNE霸王龙会试图保护当地的邻居。它会转化为两点，因为几乎</p><pre class="js jt ju jv fd lj lk ll lm aw ln bi"><span id="5c5b" class="lo kf hi lk b fi lp lq l lr ls"><strong class="lk hj">d(x1,x2) - N((x2',x3')</strong></span></pre><ul class=""><li id="fc19" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">它获取高维数据中的一组点，并将其转换为低维数据。</li><li id="3cf7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">这是一种非线性方法，适用于在不同区域执行不同转换的底层数据。</li><li id="d63c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">它非常灵活，经常能找到其他降维算法找不到的结构。</li></ul><p id="5bb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">代号:</strong></p><p id="d140" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">加载数据集</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lt"><img src="../Images/baf43de7b36dbd253d53921770280507.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*PkQq0ZbE82pnBY8nN1_5vw.png"/></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es lu"><img src="../Images/4b34fe23e14dd03cd43a21730b41fac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JjC3MA4Y29K1SgNaxInpYg.png"/></div></div></figure><p id="e83f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据集中的一些预处理</p><ul class=""><li id="db34" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">将所有标签存储在l中</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lz"><img src="../Images/d6362eaa518267a504ce4bb8efaee03a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*oNEMIJkNVx1IxS1fyjc-jg.png"/></div></figure><ul class=""><li id="c7dd" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">从数据中删除标签并用新变量d存储数据</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ma"><img src="../Images/f16ec7e6688f5de0f8a6a1eb265fc5aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*DPj1a3JXu-umAgpqK40-nQ.png"/></div></figure><ul class=""><li id="63e6" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">检查数据的形状</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mb"><img src="../Images/55449939914ef9c3736e0d868a5d3963.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*0W7FgDBwRe6yVq5Y_pxZtQ.png"/></div></figure><p id="edfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">可视化数据:</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mc"><img src="../Images/4d1c52e685373d68fdb2fca828e26c50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RMFArxntTs_bZ5dvpUN_VA.png"/></div></div></figure><ul class=""><li id="da7d" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">只取前15000个点以减少计算。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es md"><img src="../Images/b1d316f4f2c6ae20a2063e30e9812677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*irIjbE7T6ZI3C7R2F4LT2g.png"/></div></div></figure><ul class=""><li id="0a84" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">标准化数据</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es me"><img src="../Images/1b3534e0822b1b86425f83d31544be99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*Fvj3iRWaNtHQbML9eIgdow.png"/></div></figure><h1 id="95d3" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">主成分分析</h1><ul class=""><li id="d3f1" class="jd je hi ih b ii lc im ld iq mf iu mg iy mh jc ji jj jk jl bi translated">矩阵的协方差</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mi"><img src="../Images/c47c32e6f7f922320055fdf3bac15c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*1xko_jI-Y6qK3FpEGyw4gw.png"/></div></figure><ul class=""><li id="3ca8" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">寻找特征值和相应的向量。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mj"><img src="../Images/65a8783e3ed5577e280c8d8017c5ce7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R0zVlrahWmONx50oV7hmLw.png"/></div></div></figure><ul class=""><li id="1879" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">通过向量-向量乘法将原始数据样本投影到由两个主特征向量形成的平面上。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mk"><img src="../Images/0406b5b2ad861beaf51873b32b953d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*dWdLhg3re0BZ6xeuePwktg.png"/></div></figure><ul class=""><li id="270b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">将标签附加到2d投影数据</li><li id="b129" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">创建用于绘制标注点的新数据框</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es ml"><img src="../Images/22cd5e579936b9e852067606758473dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31_B7U-BYitj3BAFc9XJLQ.png"/></div></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mm"><img src="../Images/3d653c1dc7814a1ff4e5f640b971be92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*AyaBz6daieSRwtxApmMeNg.png"/></div></figure><ul class=""><li id="1662" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">使用seaborn绘制2d数据点</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mn"><img src="../Images/bd2e00c8c3e7dbcd0fa87912cff3f95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOhItxEOaYcFEfdI6C8MPg.png"/></div></div></figure><ul class=""><li id="ee5b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">初始化pca</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mo"><img src="../Images/f49ae2a08f30086f47792e3a542e97e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*L3YlAMrzLctDnfaVsXKxcg.png"/></div></figure><ul class=""><li id="e270" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">配置参数，组件数量= 2</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mp"><img src="../Images/24e28072beb6c6dd56ffeb9a6b51f4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*DVFWqdut6thlxg2MN_2_sg.png"/></div></figure><ul class=""><li id="aef6" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">为每个二维数据点添加标签，创建新的数据框架，帮助我们绘制结果数据</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mq"><img src="../Images/4e16f20dad237aeab76c6da79a92a59b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ook8TLJOEn45s1Hqe8Vv-w.png"/></div></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es mr"><img src="../Images/ed91dc0216217a95cfae2ccedf9abef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*V6muKB5mzdFPS_-TUQ6IkA.png"/></div></figure><ul class=""><li id="1e4f" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">用于降维的PCA(非可视化)</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es ms"><img src="../Images/9f24317a0a99bac1cdfda5ff084276db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V2_qMyvgrlTRAmI1KweBnw.png"/></div></div></figure><h1 id="3357" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">t-SNE </h1><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mt"><img src="../Images/2f22ea5fb8af729894f4ad3aee906af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j76hauNMqUASH67nHRQkzA.png"/></div></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mu"><img src="../Images/97f5c8f8000c4a5a48f6530f97d696f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zRIRI2LVV-1dcMNVRx9qYw.png"/></div></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mv"><img src="../Images/a885bdfe714bd2cead113323798b8002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDigfRccl0YP8MvQ_wMWvw.png"/></div></div></figure><p id="e2a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kd" href="https://github.com/namratesh/Machine-Learning/blob/master/_28_DEC_PCA%20vs%20tsne.ipynb" rel="noopener ugc nofollow" target="_blank">T3】笔记本T5<strong class="ih hj">链接</strong></a></p><p id="6490" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">欢迎建议。</p><p id="1581" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！！！</p><p id="7364" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><ul class=""><li id="2f7f" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae kd" href="https://colah.github.io/posts/2014-10-Visualizing-MNIST/" rel="noopener ugc nofollow" target="_blank">https://colah.github.io/posts/2014-10-Visualizing-MNIST/</a></li><li id="2f47" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae kd" href="https://distill.pub/2016/misread-tsne/" rel="noopener ugc nofollow" target="_blank">https://distill.pub/2016/misread-tsne/</a></li></ul></div></div>    
</body>
</html>