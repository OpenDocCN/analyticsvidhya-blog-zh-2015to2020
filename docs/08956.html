<html>
<head>
<title>Using the State Hook for State Management in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中使用状态钩子进行状态管理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-the-usestate-hook-for-state-management-in-react-f2dd5c90ef98?source=collection_archive---------29-----------------------#2020-08-19">https://medium.com/analytics-vidhya/using-the-usestate-hook-for-state-management-in-react-f2dd5c90ef98?source=collection_archive---------29-----------------------#2020-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eda0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的上一篇文章，<a class="ae jd" rel="noopener" href="/@kristyparker1/props-vs-state-in-react-2234468a5f52"> Props vs State in React </a>，提到了在添加钩子之前使用类组件来控制React中的状态的必要性。这篇文章将展示自2019年2月React 16.8.0发布以来，如何在功能组件中使用<em class="je"> setState </em>钩子来管理状态。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/36fe34b42146efe5ded81efdc08c07ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SGK8jECoa-c2USAAc6kr8A.jpeg"/></div></div></figure><p id="8c4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">钩子的引入是为了简化组件。它们允许在不使用类组件的情况下访问React状态和生命周期功能。您可以创建自己的钩子来重用有状态行为，但是这篇文章将关注其中一个内置的钩子。按照惯例，他们以‘T4’开头，用‘T5’。</p><p id="1e2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">状态挂钩</p><p id="6dbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为组件添加本地状态并通过重新渲染来保存它的内置钩子是<em class="je"> useState </em>。</p><p id="e222" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的例子中，<em class="je"> useState </em>钩子用于设置<em class="je">名称</em>的初始状态。该初始状态参数将仅用于组件的第一次呈现。</p><p id="39d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到<em class="je">名称</em>和<em class="je">集合名称</em>被一起声明为相关变量。<em class="je"> useState </em>返回当前状态值，以及一个让你更新它的函数。可以认为它类似于<em class="je"> this.setState </em>，并且可以类似地从事件处理程序中调用。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jr"><img src="../Images/379320172243c5482ce33ae4cc547cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*JDpDTCKcPDn-X0isQ9Y-pw.png"/></div></figure><p id="8047" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">使用状态</em>与<em class="je"> this.setState </em>的主要区别在于<em class="je">使用状态</em>取代了旧状态；它不会将新旧状态合并在一起。如果您有另一个不相关的变量要作为状态跟踪，您可以在函数顶部的第一个变量旁边声明它，并通过变量名直接访问它，而不是将它们收集在一起并通过单个状态对象访问。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es js"><img src="../Images/390a3daa47b78dfec20bae7b17abfc10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*CAwkQh2ZmvpxXiOhck1weg.png"/></div></figure><p id="ac16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调用<em class="je"> setName </em>或<em class="je"> setDiscovery </em>将触发React重新渲染该组件。</p><p id="611b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用挂钩的规则</p><p id="a8b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在功能组件的顶层挂钩是很重要的。这将使React能够通过重新渲染可靠地保持状态。</p><p id="8de6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">钩子可以在定制钩子中使用。参见React <a class="ae jd" href="https://reactjs.org/docs/hooks-rules.html" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多信息。</p><p id="7cf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多信息</p><p id="737a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有关使用钩子的更多详细信息，请查看钩子<a class="ae jd" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">的React文档。</a></p><p id="df6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看我在<a class="ae jd" rel="noopener" href="/@kristyparker1/props-vs-state-in-react-2234468a5f52">道具vs状态在React </a>上的帖子。</p><p id="54f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我永远在进步。如果你有纠正或反馈，我很乐意学习和修复。谢谢大家！</p></div></div>    
</body>
</html>