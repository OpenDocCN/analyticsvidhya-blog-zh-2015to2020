<html>
<head>
<title>ARIMA models to predict COVID19 new infected cases in Saudi Arabia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ARIMA模型预测沙特阿拉伯新感染病例</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/arima-models-to-predict-covid19-new-infected-cases-in-saudi-arabia-262503a53281?source=collection_archive---------36-----------------------#2020-08-29">https://medium.com/analytics-vidhya/arima-models-to-predict-covid19-new-infected-cases-in-saudi-arabia-262503a53281?source=collection_archive---------36-----------------------#2020-08-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/7aa7096985c24e647c469fd60846cf26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fZ_Vngc6K0WqFM1u4FoCg.jpeg"/></div></div></figure><div class=""/><p id="dca6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">摘要</strong> —这项工作试图实证检验预测沙特王国COVID19感染人数的最佳ARIMA模型。每日感染的历史数据用于此目的。</p><p id="614b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，除了诸如Ljung-BoxPierce Q统计量和Dickey-Fuller检验统计量之外，还通过绘制ACF / PACF图来观察数据序列的平稳性。</p><p id="3185" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">开始时，发现数据是不稳定的，因为ADF的P值= 0.97，而Ljung-BoxPierce的P值远低于0，这表明数据是不稳定的。</p><p id="8255" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是在数据系列的第一个差值之后，相同类型的图和统计显示数据是稳定的，ADF P值= 0.01，Ljung-BoxPierce P值= 0.10，这比以前的结果更好。</p><p id="b2ba" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在将观察值分成两组A)学习数据-B)测试数据之后，通过使用诸如AIC、梅斯、RMSE、MAPE的标准选择了最佳ARIMA模型。</p><p id="db5b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">标准值最适合的模型被认为是最佳模型。</p><p id="6568" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，ARIMA (2，0，2)被认为是AIC和马斯方面的最佳预测模型。</p><p id="0c75" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">根据MAPE和P值的ARIMA模型(1，2，2)。然后使用两个模型对数据进行预测，并在研究中预测和报告2020年8月26日至2020年9月1日期间的数值。</p><p id="ba44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">一、研究目标</strong></p><p id="3fed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">沙特阿拉伯每日感染的数据是通过与沙特阿拉伯卫生部API建立直接联系而获得的，该API提供了关于COVID19每日病例的特定信息。</p><p id="29bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">API提供每日累积的数据，通过添加一列获取每日报告病例的差异并从第二天减去前置日，将数据突变为每日感染:</p><p id="f65d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">&gt; mutate (lag = lead(acc_cases，1L))%&gt;%</p><p id="7d45" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">&gt; mutate (daily = abs(acc_cases-lag))</p><p id="2c34" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">时间序列分析的一个重要目标是研究可用数据的过去行为，然后借助数值和统计技术拟合合适的模型进行预测。因此，这项研究的具体目标如下:</p><p id="a7d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.检查所选时间序列数据是否平稳。如果不是，则使用适当的变换将数据转换为静态数据。</p><p id="682c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.使用一些选择标准来选择最佳的ARIMA模型。然后应用该模型来拟合和预测下一次感染的数量。</p><p id="bb58" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.在本研究中，有两个模型，一个具有较小的AIC，另一个具有较小的RMSE (2，0，2 ),而在将预测值与测试数据进行比较后，MAPE非常高，P值高于0.05。虽然第二个模型(1，2，2)的P值更接近于0.05且MAPE更低，这意味着第二个模型比第一个模型的误差更小，但这两个模型都将在研究期间进行测试，并将预测值与记录和观察到的实际值进行比较。</p><p id="af85" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.最后得出预测每日感染的结论，并回答(根据当前趋势和斜率，感染人数何时将达到3位数)的问题。</p><p id="d038" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">二。数据和方法</strong></p><p id="add2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用已建立的卫生部API连接，我们收集了175天的样本量，首先用图表显示数据，以检查数据序列是否平稳。为此，基于自相关的Ljung-Box-Pierce q statistic(1978)和Dickey-Fuller test (DF) (1979)等统计方法用于检查数据的平稳性。</p><p id="6a8c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了选择适合数据的最佳ARIMA (p，d，q)模型，使用以下标准比较了它们的拟合优度:</p><p id="d4e6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Akaike信息标准(AIC)。</p><p id="e33a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">b)平均绝对百分比误差(MAPE)。</p><p id="b93e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">c)均方根误差(RMSE)。</p><p id="b25c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">d)移动平均标度误差(MASE)。</p><p id="644a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">三世。讨论</strong></p><p id="65bb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这项研究的主要结果如下:</p><p id="ecf7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.尽管总体趋势并不平稳，但数据系列曲线的上升趋势是直观的。</p><p id="cb30" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.在对原始数据(data_t)进行第一次ACF/ PACF测试后，这些图显示数据不是稳定的。但是观察到滞后随着时间变得越来越低。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jo"><img src="../Images/e92c0c420034e7af60caab40b54857b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HH3GxoelQNblSCkeK7pzyA.jpeg"/></div></div></figure><p id="ebba" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.Dickey-Fuller单位根检验统计量和Ljung-Box-pierce Q统计量也表明数据序列是非平稳的。</p><p id="da10" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ADF测试p值= 0.9753</p><p id="0e4e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">L-Box测试p值&lt; 2.2e-16</p><p id="d34d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在获得数据的第一个差值后，进行另一个测试以查看是否已经调整了平稳性。ACF/PACF测试表明，第一个差异足以抑制滞后。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jt"><img src="../Images/f85e2bffff15439cc6b7521958ba68c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xO373ItMucC1ZkpCgOd_vg.jpeg"/></div></div></figure><p id="a10f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对处理后的数据(data_s)进行另一次ADF和L-Box检验</p><p id="3ade" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ADF测试p值= 0.01</p><p id="5918" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">L-Box检验p值= 0.009502</p><p id="ba72" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">测试所选的型号如下:</p><p id="62c7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">(2，0，2)、(1，1，1)、(2，1，1)、(2，1，2)、(1，1，2)和(1，2，2)</p><p id="8ed4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">针对测试数据集的实际数据对每个ARIMA模型进行测试，测试数据集是从第169天到数据集长度的最后7天。</p><p id="c7c2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每个ARIMA模型的AIC、梅斯、RMSE、MAPE和永盒的P值记录如下:</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ju"><img src="../Images/99aad840a7ff9a95c4502b403b61f053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTJQc9Ju3ciytn9x1v9CSQ.jpeg"/></div></div></figure><p id="97d7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并进行测试，以检查哪个模型符合大多数标准</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jv"><img src="../Images/8a2f1fbfbe535f29a4e590c92a78206d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YKpWEE-sMe3Cm_rPMEtxWw.jpeg"/></div></div></figure><p id="f568" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在排除了不适合的模型后，我们最终得到了两个模型，用于进一步测试剩余时间的预测。</p><p id="6d93" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.ARIMA模型(2，0，2)</p><p id="55d8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">模型的AIC值仅次于(1，1，1)。梅斯和RMSE比其他型号少。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jw"><img src="../Images/687ff13ff1ae401edf044020286464d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4QTv9F1ciMGxEFHXnEYvQ.jpeg"/></div></div></figure><p id="2534" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.ARIMA模型(1，2，2)</p><p id="e741" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然模型没有最低的AIC。它的预测值与最低MAPE的实际值最接近，所以我们决定选择这个模型做进一步的测试。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jw"><img src="../Images/f7477c0169fa84c1e84566a457f2850e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egbBF09zKO7HvZwOntbf9g.jpeg"/></div></div></figure><p id="f8de" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如下表所示，在其他模型中(1，2，2)具有最低的绝对误差</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es jx"><img src="../Images/cce647333287356810c6755312832528.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*1VVLYc0XYjh8jAfMxAl-DQ.jpeg"/></div></figure><p id="b48a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这两个模型从2020年8月26日到2020年9月1日一直在接受测试，结果将每天记录，以查看哪个模型预测的感染人数误差最小。</p><p id="215e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是从8月26日到2020年9月1日的预测和实际天数的误差百分比。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es jy"><img src="../Images/f309294a234d07b74b3d4f0891117c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*I7XVhmTvzOX6F6gYlzo2Tg.jpeg"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">预测感染、实际报告和错误</figcaption></figure><p id="698e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是每个模型相对于实际报告案例的最终结果:</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es kd"><img src="../Images/4f425a915d676a0e0f4ef6cda23c9d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*hehrvb8mQ9n1LlpbCUkCQA.jpeg"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">决赛成绩</figcaption></figure><p id="62d3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尽管模型(1，2，2)比(2，0，2)具有相对更高的AIC，但在这种情况下，MAPE是更合适的度量，因此模型(1，2，2)比其他两个模型表现得更好。</p><p id="6482" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一个模型显示了比(1，2，2)更低的AIC和包含残差的能力。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/5dddfc786e92847a7d37f1028d0e512c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mBo_UDYms_pGT8evJjZelQ.jpeg"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">模型(2，1，2)</figcaption></figure><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/0b416a8365f943f4bdb79d8ffb4fa27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdqNaEJNVgkf567869a-0g.jpeg"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">模型(1，2，2)</figcaption></figure><p id="b320" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是根据最后两个模型对下周的预测:</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es kf"><img src="../Images/5d8147d6790c211178f78b972b9d20bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*YhYt9sZIadaS-QFOSYbyuA.jpeg"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">下周天气预报</figcaption></figure><p id="1a56" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注:该研究试图仅涵盖病例的定量部分，因为有许多变量可能导致感染的增加或减少。</p></div></div>    
</body>
</html>