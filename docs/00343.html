<html>
<head>
<title>Natural Language Processing: Experimenting Entity Recognition ( Part 1 Google NLP API)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言处理:实验实体识别(第1部分Google NLP API)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/natural-language-processing-experimenting-entity-recognition-with-google-amazon-nltk-and-maybe-b1fe673efe46?source=collection_archive---------1-----------------------#2019-04-15">https://medium.com/analytics-vidhya/natural-language-processing-experimenting-entity-recognition-with-google-amazon-nltk-and-maybe-b1fe673efe46?source=collection_archive---------1-----------------------#2019-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7d0870e86889e50a10457ce9473d77a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uy8zKcQP5nxg2KUH6rFcqw.jpeg"/></div></div></figure><h1 id="6966" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="6e2f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">自然语言处理是当今机器学习和人工智能最有前途的领域之一，也是发展最快的领域。有很多数字试图预测市场的增长，但我不喜欢把它们作为预测</p><p id="5fa1" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">自然语言处理包括广泛的主题，例如:</p><ul class=""><li id="1275" class="kr ks hi jq b jr km jv kn jz kt kd ku kh kv kl kw kx ky kz bi translated">语音识别</li><li id="6aaf" class="kr ks hi jq b jr la jv lb jz lc kd ld kh le kl kw kx ky kz bi translated">语言翻译</li><li id="1dbb" class="kr ks hi jq b jr la jv lb jz lc kd ld kh le kl kw kx ky kz bi translated">虚拟助手</li><li id="c3b8" class="kr ks hi jq b jr la jv lb jz lc kd ld kh le kl kw kx ky kz bi translated">文本分类</li><li id="b229" class="kr ks hi jq b jr la jv lb jz lc kd ld kh le kl kw kx ky kz bi translated">文本摘要</li><li id="367f" class="kr ks hi jq b jr la jv lb jz lc kd ld kh le kl kw kx ky kz bi translated">文本生成</li></ul><p id="521c" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在有很多库和基于云的API可用，并且选择越来越多。本系列文章将深入探讨一些可用的技术，并在给定文档中的实体识别、文档相似性和文档分类的上下文中实验NLP库和API。</p><h1 id="d20d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">使用Google NLP API和R进行实体检测</h1><h2 id="600a" class="lf ir hi bd is lg lh li iw lj lk ll ja jz lm ln je kd lo lp ji kh lq lr jm ls bi translated">在Google云平台中设置项目</h2><p id="7867" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">首先，你必须有一个谷歌注册账户。</p><p id="f4dc" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">作为第一步，你需要在谷歌云平台上创建一个项目</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/7c82c49c4b259bd5bb7f59b1118d62a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NvCwzBBHMEg2IvASgWttpA.png"/></div></div></figure><p id="5acc" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">一旦创建了项目，请转到API和服务，并开始启用API服务</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/775026f8a22a30d52c0cd856d32165a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NATCBsn5rNhmFZPhzWC4Vw.png"/></div></div></figure><p id="0bde" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在可用API列表中，您选择了云自然语言API</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/8216549991d1fecd31b4f5bec535ade8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIo8_v_vS-3p7isgy9hBIQ.png"/></div></div></figure><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/854e2da0912c20af79319a4f08b18a3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDjKLG1F5vRx727janNmJQ.png"/></div></div></figure><p id="ac7f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">完成后，您可以通过单击enable来启用API。完成后，您需要向API添加凭证，并获取访问和API密钥。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/bca51340ab139a2603577d872855eec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wr7Pve-SPVeR6aBBYGetDQ.png"/></div></div></figure><p id="b9a5" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这是使用下面的屏幕完成的，以JSON格式下载您的凭证，当您想要运行实验时，您将需要它。这一步是绝对需要的。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/ecb958d1084646748db97229d04e29dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tUbHzFvH4MiexKQV3AsubA.png"/></div></div></figure><h2 id="efd4" class="lf ir hi bd is lg lh li iw lj lk ll ja jz lm ln je kd lo lp ji kh lq lr jm ls bi translated">用R做实验</h2><p id="2a3a" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了用R来试验Google API，我们将使用googleLanguageR库:</p><pre class="lu lv lw lx fd md me mf mg aw mh bi"><span id="7a8b" class="lf ir hi me b fi mi mj l mk ml">install.packages('googleLanguageR')<br/>library(googleLanguageR)</span></pre><p id="eb5f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">您需要指出在哪里可以找到您之前下载的凭证，以及json文件名:</p><pre class="lu lv lw lx fd md me mf mg aw mh bi"><span id="ecdf" class="lf ir hi me b fi mi mj l mk ml">GL_AUTH='.'<br/>gl_auth("your file.json")</span></pre><p id="c58a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在我们的实验中，我们将尝试识别两篇文章中的主要实体，并找出共同的实体。我们将使用职位描述和个人资料来尝试将职位描述与个人资料相匹配。首先让我们加载2个PDF文件，并做一些清理工作</p><pre class="lu lv lw lx fd md me mf mg aw mh bi"><span id="d191" class="lf ir hi me b fi mi mj l mk ml">library(pdftools)<br/>library(stringr)<br/>text &lt;- pdf_text("xxxxxx.pdf")<br/>textCV&lt;-paste(text,collapse = " ")<br/>textCV=str_replace_all(textCV,"[^[:graph:]]", " ") <br/>text &lt;- pdf_text("yyyyyyy.pdf")<br/>textJob&lt;-paste(text,collapse = " ")<br/>textJob=str_replace_all(textJob,"[^[:graph:]]", " ") </span></pre><p id="5f63" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">可能需要进一步的文本清理，因此让我们对文本语料库进行最小的清理，删除数字并将所有内容转换为小写:</p><pre class="lu lv lw lx fd md me mf mg aw mh bi"><span id="ad4b" class="lf ir hi me b fi mi mj l mk ml">library(tm)<br/>library(stringi)<br/>clean_corpus &lt;- function(corpus){<br/>  corpus &lt;- tm_map(corpus, removeNumbers)<br/>  corpus &lt;- tm_map(corpus, content_transformer(stri_trans_tolower))<br/>  return(corpus)<br/>}<br/>text_corpus_clean_CV&lt;-clean_corpus(VCorpus(VectorSource(textCV)))</span></pre><p id="644b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在我们准备调用Google NLP API并检测文档中的实体</p><pre class="lu lv lw lx fd md me mf mg aw mh bi"><span id="a7cc" class="lf ir hi me b fi mi mj l mk ml">nlp &lt;- gl_nlp(text_corpus_clean_CV[[1]]$content)</span></pre><p id="a941" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">API调用的结果包括识别的标记、句子、分类、语言、情感和实体。现在，我们将把重点放在检测到的实体上，并尝试在工作配置文件和人员配置文件之间找到共同的实体。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/e84fa8c93398cebe7d1ac2dbcb0c60f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3VnnIJcPyteijMmlt15Ig.png"/></div></div></figure><p id="3bb2" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">已经检测到25个常见实体，对于每个文档，我们可以看到与其他文档相比，该实体在文本中出现了多少次。一个观察结果是，在某些情况下，实体以单数和复数形式出现，这可能不会给我们的比较增加太多信息。</p></div></div>    
</body>
</html>