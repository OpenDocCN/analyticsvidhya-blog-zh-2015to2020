<html>
<head>
<title>Express way to do Visualization in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现可视化的快捷方式</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/express-way-to-do-visualization-in-python-b9bc01143553?source=collection_archive---------7-----------------------#2019-12-30">https://medium.com/analytics-vidhya/express-way-to-do-visualization-in-python-b9bc01143553?source=collection_archive---------7-----------------------#2019-12-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ffce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Plotly Express </strong>，一个高级Python可视化库，提供了一种超级快捷的方式来做数据可视化。<br/>“Plotly Express”实际上是Plotly的一个高级包装器，它提供了一个更简单的语法来快速绘制复杂的图表。</p><p id="fdac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需一行代码，我们就能得到一个相当不错的图表</p><p id="43d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong> : <br/> Plotly Express以前是作为它自己单独安装的<em class="jd"> plotly_express </em>包提供的，但现在是Plotly的一部分！</p><p id="98f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们以一种快速的方式做一些可视化的工作:<br/>首先让我打印出我正在使用的软件和软件包的版本</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="eb7e" class="jn jo hi jj b fi jp jq l jr js">import sys<br/>sys.version<br/><strong class="jj hj">Output: </strong><br/>'3.6.9|Anaconda custom (64-bit) # I am using Anaconda, python 3.6.9</span><span id="db18" class="jn jo hi jj b fi jt jq l jr js">import plotly<br/>plotly.__version__<br/><strong class="jj hj">Output:</strong> <br/>'4.1.0'   # I have installed plotly version 4.1.0</span><span id="8f68" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">import plotly.express as px<br/></strong># Import plotly.express</span></pre><p id="d678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">散点图</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="d464" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Using tips dataset.</strong><br/>tips <strong class="jj hj">=</strong> px.data.tips()</span><span id="6901" class="jn jo hi jj b fi jt jq l jr js">px.scatter(tips, x='total_bill', y='tip')</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es ju"><img src="../Images/6bffb78313670b9339c1b05c22ca976e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*CESwWMwJNA7p4qedsPd2NA.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="5167" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets break it down by smoker-non smoker</strong><br/>px.scatter(tips, x=”total_bill”, y=”tip”, color=”smoker”)</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jy"><img src="../Images/6b026687b53a2aeb213c0fc1bf97e344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jo-FAdyVKwfd0nF3vydlLg.png"/></div></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="c297" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets add facets to plot based on smoker  or non-smoker</strong></span><span id="b9c7" class="jn jo hi jj b fi jt jq l jr js">px.scatter(tips, x=”total_bill”, y=”tip”, <br/>color=”sex”, facet_col=”smoker”)</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kd"><img src="../Images/f5e6f8d47e4bc5eaef9d8ec5c27d3953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*vKoml_R7IJN95wUZB1qZHg.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="7096" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets add trend lines also</strong></span><span id="dea1" class="jn jo hi jj b fi jt jq l jr js">px.scatter(tips, x='total_bill', y='tip', color='sex', trendline='ols', facet_col='smoker')</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es ke"><img src="../Images/35a66efeda994dee4e883ed273cbb7dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*C4-iNZl8MT9J-FltnAe07A.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="7641" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets explore 'day' wise how is turn out</strong></span><span id="29bf" class="jn jo hi jj b fi jt jq l jr js">px.scatter(tips, x='total_bill', y='tip', facet_col='day', facet_row='time', category_orders={'day':['Thur', 'Fri', 'Sat', 'Sun']})</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kf"><img src="../Images/64a3f191595b828a865c0e15e25f333a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*TkLxi4FMRvzbUKhujV9Ilg.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="4560" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets explore 'day' wise how is turn out using bar chart</strong></span><span id="dbaf" class="jn jo hi jj b fi jt jq l jr js">px.bar(tips, x='day', y='total_bill', category_orders={'day':['Thur', 'Fri', 'Sat', 'Sun']})</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kg"><img src="../Images/9d7dc71549dc496d295a12d95605c7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*AHHo4uvHtuj7xqWgBdZ9hQ.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="0d5f" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets explore distribution of tip</strong></span><span id="d4ee" class="jn jo hi jj b fi jt jq l jr js">px.histogram(tips, x='tip', marginal='rug')</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kh"><img src="../Images/46190c79e8369f2e2a678d108cc0eb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*b-GENi3t2Fxn4zN4TtgmzQ.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e26d" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># Lets explore distribution of tip based on smoking habit</strong></span><span id="b0fb" class="jn jo hi jj b fi jt jq l jr js">px.box(tips, x="smoker", y="tip", color="smoker")</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kf"><img src="../Images/3c807d6ebda6b3c9b71b7d3b5b3b6631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*pdV9kgU1AWDQhQBHLvBWsw.png"/></div></figure><p id="d067" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">散布矩阵:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="cb50" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># We use another dataset , called as iris .</strong></span><span id="61c8" class="jn jo hi jj b fi jt jq l jr js">iris = px.data.iris()</span><span id="4c83" class="jn jo hi jj b fi jt jq l jr js">px.scatter_matrix(iris, dimensions=["sepal_width", "sepal_length", "petal_width", "petal_length"],color="species")</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es ki"><img src="../Images/f48ea2f96c078ad1c5513a751c0714c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*5TbSMFfTfyCzufUJfCRJzg.png"/></div></figure><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="479d" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj"># We use another dataset , called as gapminder.</strong></span><span id="5fd1" class="jn jo hi jj b fi jt jq l jr js">gapminder = px.data.gapminder()<br/>gapminder_2007 = gapminder.query("year==2007")</span><span id="b740" class="jn jo hi jj b fi jt jq l jr js">px.scatter(gapminder_2007, x="gdpPercap", y="lifeExp", size="pop", color="continent", hover_name="country", log_x=True, size_max=60)</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kj"><img src="../Images/857906ea1e8d6f571cfabe0ef774a3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*wG53h6fQ4L-O9XIHKUer5A.png"/></div></figure><p id="f2ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">热图:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e5db" class="jn jo hi jj b fi jp jq l jr js">px.density_heatmap(iris, x="sepal_width", y="sepal_length")</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jy"><img src="../Images/b610af549e21ff1723f28064f53f2c5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0o8eQRhZUmH8Za_sCltoBw.png"/></div></div></figure><p id="c707" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">地图框:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="9e8c" class="jn jo hi jj b fi jp jq l jr js">px.set_mapbox_access_token(open(".mapbox_token").read())<br/># token is saved in file .mapbox_token to access mapbox</span><span id="4e85" class="jn jo hi jj b fi jt jq l jr js"># Lets read a dataset carshare<br/>df = px.data.carshare()</span><span id="6790" class="jn jo hi jj b fi jt jq l jr js">px.scatter_mapbox(df, lat="centroid_lat", lon="centroid_lon",     color="peak_hour", size="car_hours",<br/>color_continuous_scale=px.colors.cyclical.IceFire, <br/>size_max=15, zoom=10)</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kk"><img src="../Images/4f803a5ce0b8e34126ef0cfa3b72e3f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*GcrTyXhDZ52wVsmFLffsUQ.png"/></div></figure><p id="7780" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Choropleth: </strong>动画图表</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="cfc8" class="jn jo hi jj b fi jp jq l jr js"># Using gapminder dataset</span><span id="ee68" class="jn jo hi jj b fi jt jq l jr js">px.choropleth(gapminder, locations="iso_alpha", color="lifeExp", hover_name="country", animation_frame="year", range_color=[20, 80])</span></pre><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kl"><img src="../Images/1f3bd306ce364207c37a0d09882a8e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RiMu1Od8tVpo7TkRAv7qrA.png"/></div></div></figure></div></div>    
</body>
</html>