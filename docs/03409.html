<html>
<head>
<title>Automate the Google search using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python实现谷歌搜索的自动化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automate-the-google-search-using-python-b93e4621eb8b?source=collection_archive---------3-----------------------#2020-01-30">https://medium.com/analytics-vidhya/automate-the-google-search-using-python-b93e4621eb8b?source=collection_archive---------3-----------------------#2020-01-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e533938ea61082666c251510d95ee291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UuLVt7Tjf5v7Cv5Cw_9QDg.jpeg"/></div></div></figure><div class=""/><p id="6f2d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每当我们需要帮助时，我们从谷歌那里获得简单的帮助。谷歌每天有54亿次搜索，是目前全球最大的搜索引擎。但有时候，手动搜索是相当令人生畏的。如果我们可以使用python来自动化整个过程。在这个故事中，我会帮助你。<strong class="is hu">讲完这个故事，你就会很好的利用Python实现谷歌搜索全过程的自动化。</strong></p><p id="c3e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，我们将从名为<strong class="is hu">谷歌搜索</strong>的Python库获得帮助。它是免费的，简单易用。要安装该库，请在命令提示符或Anaconda提示符下键入:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="dfa8" class="jx jy ht jt b fi jz ka l kb kc">pip install google</span></pre><p id="eed7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装谷歌后，只需从谷歌搜索中导入搜索模块</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="40bf" class="jx jy ht jt b fi jz ka l kb kc">from googlesearch import search</span></pre><p id="ea14" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">搜索所做的是，它会将你的查询和搜索过谷歌，找出相关的网址，并将其保存在一个python列表中。要获得保存的结果，只需迭代列表中的对象并获得URL。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="1e14" class="jx jy ht jt b fi jz ka l kb kc"># as an example:</span><span id="073c" class="jx jy ht jt b fi kd ka l kb kc">query = "iPhone"</span><span id="1e0b" class="jx jy ht jt b fi kd ka l kb kc">for i in search (query,  tld='com', lang='en', tbs='0', safe='off', num=2, start=0, stop=2, domains=None, pause=2.0, tpe='', country='', extra_params=None, user_agent=None):<br/> print(i)</span></pre><p id="a108" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此处tld:域名，即google.in或谷歌。in，lang:搜索语言，num:每页结果数，start:检索的第一个结果，stop:检索的最后一个结果，依此类推。在你的Jupyter笔记本中，如果你点击<strong class="is hu"> shift+Tab </strong>并点击加号，你将获得该模块的所有信息。</p><p id="dbbb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们创建一个关于股票市场公司分析的简单搜索算法，它会让你对现在的公司状况有一个快速的总体了解</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="82aa" class="jx jy ht jt b fi jz ka l kb kc"># importing the module<br/>from googlesearch import search</span><span id="cb25" class="jx jy ht jt b fi kd ka l kb kc"># stored queries in a list<br/>query_list = ["News","Share price forecast","Technical Analysis"]</span><span id="5e1a" class="jx jy ht jt b fi kd ka l kb kc"># save the company name in a variable<br/>company_name = input("Please provide the stock name:")</span><span id="cfb9" class="jx jy ht jt b fi kd ka l kb kc"># iterate through different keywords, search and print<br/>for j in query_list:<br/>   for i in search(company_name+j,  tld='com', lang='en', num=1, <br/>   start=0, stop=1, pause=2.0):<br/>      print (i)</span></pre><p id="eeef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我创建了这样的搜索关键字“<strong class="is hu">公司名称+查询</strong>”。它接受第一个查询，将公司名称添加到其中，并使用google搜索最新的搜索结果。当它完成搜索时，它打印出URL。</p><p id="07cc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了简单起见，我只取了搜索中的第一个URL。如果你愿意，你可以带更多的网址来搜索。<strong class="is hu">请使用collab</strong>:<a class="ae ke" href="https://colab.research.google.com/drive/17ZOtFIBoPoJYxantOFEWUCUHtpP3O4ay" rel="noopener ugc nofollow" target="_blank"><em class="kf">https://colab . research . Google . com/drive/17 zotfibopojyxantofewucuhtpp3 o 4 ay</em></a>运行</p><p id="53d1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当前算法仅在默认模式下搜索。如果你喜欢按类别搜索，比如新闻、图片、视频等。等等，你可以用tpe: parameter轻松指定。只要选择正确的类别，你就可以了。下面我运行相同的代码，但只使用谷歌新闻搜索</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="2676" class="jx jy ht jt b fi jz ka l kb kc"># only added tpe="nws" for news only<br/>for j in query_list:<br/>    for i in search(company_name+j,  tld='com', lang='en', num=1,<br/>    start=0, stop=1, pause=2.0, tpe="nws"):<br/>        print (i)</span></pre><p id="f9c3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，对于视频，添加tpe = " vde图像，tpe = " isch书籍，tpe="bks "等。</p><p id="f4d2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想用一个更广泛的例子来说明你可以用谷歌搜索做什么，这里有一个例子。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="6f2f" class="jx jy ht jt b fi jz ka l kb kc">from googlesearch import search</span><span id="a22e" class="jx jy ht jt b fi kd ka l kb kc">import requests<br/>from lxml.html import fromstring</span><span id="aa3c" class="jx jy ht jt b fi kd ka l kb kc"># Link URL Title retriever usin request and formstring<br/>def Link_title(URL):<br/>  x = requests.get(URL)<br/>  tree = fromstring(x.content)<br/>  return tree.findtext('.//title')</span><span id="d0e4" class="jx jy ht jt b fi kd ka l kb kc">company_name = input("Please provide the company name:")</span><span id="cd7d" class="jx jy ht jt b fi kd ka l kb kc">query = int(input("Please give the appropriate value. 1 for Fundamental Analysis, 2 for News, 3 for Technical Analysis &amp; 4 for Share Price Forecast:"))</span><span id="e927" class="jx jy ht jt b fi kd ka l kb kc">if query == 1:<br/>  print (company_name+" "+"Fundamental Analysis:")<br/>  print (" ")<br/>  for i in search(company_name,  tld='com', lang='en', num=1, start=0, stop=1, domains=['https://www.tickertape.in/'], pause=2.0):<br/>    print ("\t"+i)</span><span id="3dba" class="jx jy ht jt b fi kd ka l kb kc">elif query == 2:<br/>  print (company_name+" "+"News:")<br/>  print (" ")<br/>  for i in search(company_name+ 'News',  tld='com', lang='en', num=3, start=0, stop=3, pause=2.0, tpe='nws'):<br/>    print ("\t"+"#"+" "+Link_title(i))<br/>    print("\t"+i)<br/>    print(" ")</span><span id="c5a4" class="jx jy ht jt b fi kd ka l kb kc">elif query == 3:<br/>  print (company_name+" "+"Technical Analysis:")<br/>  print (" ")<br/>  for i in search(company_name+ 'Technical Analysis',  tld='com', lang='en', num=3, start=0, stop=3, pause=2.0):<br/>    print ("\t"+"#"+" "+Link_title(i))<br/>    print("\t"+i)<br/>    print(" ")</span><span id="e0ef" class="jx jy ht jt b fi kd ka l kb kc">else:<br/>  print (company_name+" "+"Share Price Forecast:")<br/>  print (" ")<br/>  for i in search(company_name+ 'share price forecast',  tld='com', lang='en', num=3, start=0, stop=3, pause=2.0):<br/>    print ("\t"+"#"+" "+Link_title(i))<br/>    print("\t"+i)<br/>    print(" ")</span></pre><p id="2be9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我使用了与上面例子相同的逻辑。我在这里添加了两件事，一是创建函数Link_title()来显示来自搜索查询的特定链接的标题，二是为了进行基本分析，我使用domain选项指定了相关的URL。</p><p id="3704" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个例子中，为了分析一支股票，我考虑了四个类别:基本面分析、新闻、技术分析、股价预测。为了记住这一点，我使用了if Else条件来展示适当的类别URL。所以每当你运行代码，它会问你股票名称和搜索类别，然后它会显示正确的网址和标题。<strong class="is hu">请使用下面的collab运行代码:</strong></p><p id="9b4d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae ke" href="https://colab.research.google.com/drive/1w6dXfUlEahI7M7HG2zSlW7QfkL-xA6vO" rel="noopener ugc nofollow" target="_blank">T3【https://colab . research . Google . com/drive/1 w6 dxfuleahi 7m Hg 2 zslw 7 qfkl-xA6vOT5】</a></p><p id="7bc8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">股票分析只是你可以使用它的许多应用之一。使用谷歌，它可以是你想要的任何东西。我希望你喜欢我的故事。你可以在这里使用<strong class="is hu"> Github </strong>链接访问代码:<a class="ae ke" href="https://github.com/soumyabrataroy/Google-stock-search-using-Python.git" rel="noopener ugc nofollow" target="_blank"><em class="kf">https://Github . com/soumyabrataroy/Google-stock-search-using-python . git</em></a></p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="46b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请在下面的评论中告诉我你的想法。可以在Twitter上找到我:@ sam1ceagain</p><p id="98d4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">原发布于LinkedIn:https://www . LinkedIn . com/pulse/automate-Google-search-using-python-soumyabrata-Roy/</p></div></div>    
</body>
</html>