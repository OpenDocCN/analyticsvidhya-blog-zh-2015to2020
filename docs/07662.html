<html>
<head>
<title>Multi-Class ML Model Evaluation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多类ML模型评估</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/multi-class-ml-models-evaluation-103c9fdadb41?source=collection_archive---------5-----------------------#2020-07-03">https://medium.com/analytics-vidhya/multi-class-ml-models-evaluation-103c9fdadb41?source=collection_archive---------5-----------------------#2020-07-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b885" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">评估机器学习分类模型的初学者方法</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/ef261df94f9ce44364fe38ae9e4520b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6ll79gtlZ71ZeVXQZqGxg.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图片来自<a class="ae jn" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2996301" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a></figcaption></figure><p id="421e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇博文有一个初学者的方法，介绍如何使用混淆矩阵度量来评估多类机器学习分类模型的性能。</p><h2 id="3866" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated"><strong class="ak">第一步:熟悉你的班级分布</strong></h2><p id="093a" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">处理多类数据集时，了解类的分布并意识到是否存在类不平衡非常重要。正如你在下面的图表中看到的，我的班级不平衡。类别不平衡不一定意味着坏消息，它可能只是由于所研究现象的性质，但您需要了解分布情况，以便为您的模型选择正确的方法和评估指标。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lk"><img src="../Images/c81f464d74b7232d3b646a5089267e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*E903cY_ho8j8jPp2uI9fBA.png"/></div></figure><p id="8da4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我学到了一个直观的经验法则，它帮助我理解了关注数据集的类分布的重要性:选取最频繁的类，并计算将所有预测默认为该类的模型的准确性。如果最频繁的类别代表了全部标签的85%,这将意味着——就像这样——您将拥有一个准确率为85%的模型！但是，其他类呢？误导，对吧？</p><h2 id="144b" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">单独检查准确性</h2><p id="6d93" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">在我的实验中，我使用不同的方法创建了第一轮分类模型，并比较了它们的准确性。正如你在下表中看到的，SVM和XGBoost有相同的准确度分数，但是如何知道哪个模型是解决我的问题的最佳选择呢？</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ll"><img src="../Images/0c83bd11e95e8dcb9aa48e709d435d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*h6496Rs4mG0UGA30PaOFxg.png"/></div></figure><p id="258b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">准确性衡量成功预测的标注数量，但它不会告诉您关于哪些类预测得更好或哪些类可能被忽略的任何信息。这就是混乱矩阵拯救世界的地方！</p><h2 id="e1ca" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">混淆矩阵</h2><p id="2db7" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">网上有很多解释困惑矩阵的资源。请务必花些时间了解这一有用指标的价值。</p><p id="6db3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面是我用来打印分类报告和绘制混淆矩阵的python代码。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="f3cb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你可以在下图中看到SVM和XGBoost模型的混淆矩阵和分类报告。现在，让我向你介绍一下这些数字是如何帮助我做出决定的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lo"><img src="../Images/01653234c9659de592a46d908dc43b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*VbbjjNSWy6hwsmLycd9EbA.png"/></div></figure><h2 id="1b7b" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">精确度和召回率</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lp"><img src="../Images/c5422f7d279c97f16a789295eda22376.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*-5f7LM--ib0OJ712aO3z4Q.png"/></div></figure><p id="5909" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Precision </strong>告诉您一个类别预测标签实际属于该类别的百分比(当该模型对该类别进行分类时，您可以信任该模型的程度)。</p><p id="bd6c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Recall </strong>告诉您正确分类的标签占类别总数的百分比(该模型代表该特定类别的程度)。</p><p id="75f8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在我的实验中，我对正确分类“高”标签特别感兴趣。SVM模型对57%的“高”标签进行了正确分类(回忆)，当它将一个标签分类为“高”时，我可以60%确定它实际上是一个好的预测(精度)。XGBoost模型中“高”标签的精度和召回率较低，因此，我最终选择了SVM模型。</p></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h2 id="074d" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">结论</h2><ul class=""><li id="a410" class="lx ly hi jq b jr lf ju lg jx lz kb ma kf mb kj mc md me mf bi translated">了解类分布有助于您对性能指标持批评态度，尤其是在不平衡的多类分类模型中。</li><li id="c960" class="lx ly hi jq b jr mg ju mh jx mi kb mj kf mk kj mc md me mf bi translated">混淆矩阵是了解模型如何表示数据集中不同类的详细信息的绝佳工具。</li></ul></div></div>    
</body>
</html>