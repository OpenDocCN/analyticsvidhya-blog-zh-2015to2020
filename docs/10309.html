<html>
<head>
<title>pH Scale Recognition by RGB Color Using Flask.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用烧瓶通过RGB颜色识别pH标度。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/ph-scale-recognition-by-rgb-color-using-flask-e4707b0b78f7?source=collection_archive---------5-----------------------#2020-10-13">https://medium.com/analytics-vidhya/ph-scale-recognition-by-rgb-color-using-flask-e4707b0b78f7?source=collection_archive---------5-----------------------#2020-10-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4ee5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用基于颜色模型RGB(红、绿、蓝)的机器学习回归模型的pH标度识别和使用Flask的网络应用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5b89a09b5811c57e7517e3b1f7324f52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYKL7NiLW2j4_G4u1eW7zw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">主页(图片由作者提供)</figcaption></figure><blockquote class="jt ju jv"><p id="56f9" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">概述</strong></p></blockquote><p id="aa94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个flask web应用程序，其中用户可以输入RGB颜色范围内的红色、绿色和蓝色，并获得1到14之间的pH值。它使用机器学习回归算法，最高r2_score为<strong class="ih hj"> 0.95(随机森林)</strong>。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="d412" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">域背景</strong></p></blockquote><p id="199d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该项目涉及使用机器学习的回归。使用的算法有多元线性回归、刚性回归、支持向量机(SVM)、决策树和随机森林回归。机器学习模型之后，flask web应用被买进了网络空间。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="1084" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">数据集探索</strong></p></blockquote><p id="e52a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据集由4列组成:</p><ol class=""><li id="fd0e" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">蓝色</li><li id="56aa" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">格林（姓氏）；绿色的</li><li id="9b07" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">红色</li><li id="1d53" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">规模</li></ol><p id="5a7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">红色、蓝色和绿色列由它们各自颜色的色标组成，色标由相对于RBG的pH值组成。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="22ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们可以看到的,<a class="ae kx" href="https://www.kaggle.com/robjan/ph-recognition" rel="noopener ugc nofollow" target="_blank">数据集</a>是一致的，这就是我的模型如此精确的原因。采用不一致的数据集可能不会得到完美的结果。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ky"><img src="../Images/03a654807e5412731195f44087f565ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sFF1n_SoV_-ROG5sNBYHSw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">数据集的一致性(图片由作者提供)</figcaption></figure></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="63f6" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">应用框架</strong></p></blockquote><ol class=""><li id="32a4" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">数据集已导入。</li><li id="f3c9" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">分为因变量和自变量。</li><li id="d6b7" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">特征缩放。</li><li id="b839" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">分为测试集和训练集。测试分割大小为0.2。</li><li id="7672" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">创建回归模型。</li><li id="67a0" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">预测测试集结果。</li><li id="7783" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">计算r2_score为0.95(随机森林)。</li><li id="a3f6" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">创建Flask Web应用程序。</li></ol></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="78d7" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">使用的工具</strong></p></blockquote><p id="e2ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面描述了我在这个项目中使用的库和包及其相应的版本。Jupyter Notebook曾经被使用过，我也推荐你使用它，因为它使编写代码变得更加容易和简单。使用Python语言实现了该模型。</p><ol class=""><li id="74cb" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">numpy == 1.18.1</li><li id="1669" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">熊猫== 1.0.1</li><li id="4257" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">matplotlib == 3.1.3</li><li id="ad18" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">scikit-learn == 0.22.1</li><li id="df38" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">烧瓶= 1.1.0</li></ol></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="3f21" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">回归模型</strong></p></blockquote><p id="153b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于预测pH值范围的机器学习算法是多元线性回归、刚性回归、SVM、决策树和随机森林回归。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="2ad7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随机森林回归显示最高的r2 _得分。r2_score是一个常数模型，它总是预测y的期望值，不管输入特征如何，都会得到0.0的R值。形状的参数y _ true-like(n_samples，)或(n _ samples，n_outputs)地面真实(正确)目标值。</p><p id="9e5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最初，特征缩放用于独立变量，以便获得更精确的测试集结果。在特征缩放之后，数据集被分成测试集和训练集，然后进行分类以预测测试集结果。</p><pre class="je jf jg jh fd kz la lb lc aw ld bi"><span id="b7be" class="le lf hi la b fi lg lh l li lj">Multiple Linear Regression : 0.682162<br/>Ridge Regression : 0.682794<br/>SVM : 0.929199<br/>Decision Tree : 0.946644<br/>Random Forest : 0.953246</span></pre><p id="08e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最好的r2_score是1，正如我们所看到的，所有上述模型都显示出惊人的结果，随机森林具有最高的r2_score。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="fa14" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">使用Flask的Web应用程序</strong></p></blockquote><p id="c5c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用flask将上述代码集成到一个简单的web应用程序中，以执行pH值标度识别，为此，我将Jupyter Python文件“pH_scale.ipnyb”转换为pickle文件“model.pkl ”,并将其导入到我的应用程序中。下面显示的代码是flask应用程序的python代码。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="a32e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在您的机器上运行web应用程序，必须遵循以下步骤:</p><ol class=""><li id="6196" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">使用git或GitHub desktop克隆这个<a class="ae kx" href="https://github.com/ygarg704/ph-value-recognition-based-on-rgb-color" rel="noopener ugc nofollow" target="_blank">库</a>。</li><li id="e4b8" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">打开app.py，确保安装所有必需的软件包。</li><li id="1f24" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">在父目录终端中运行下面的代码，以便在您的系统上运行web应用程序。</li></ol><pre class="je jf jg jh fd kz la lb lc aw ld bi"><span id="67fe" class="le lf hi la b fi lg lh l li lj">python3 app.py</span></pre><p id="1452" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入绿、蓝、红刻度后，点击主页上的提交按钮，显示预测结果。每种颜色的标度范围是1-400。输入两者之间的任意数字以获得pH值范围。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5b89a09b5811c57e7517e3b1f7324f52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYKL7NiLW2j4_G4u1eW7zw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">主页(图片由作者提供)</figcaption></figure><p id="7ba6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果将加载到下一个html文件中，如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/57a477f0ae5eeb1f6743869f2802e763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hQ_ZSc2qRVrMnZcbq9iepw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">pH值标度结果(图片由作者提供)</figcaption></figure></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="jt ju jv"><p id="5ab4" class="if ig jw ih b ii ij ik il im in io ip jx ir is it jy iv iw ix jz iz ja jb jc hb bi translated"><strong class="ih hj">结论</strong></p></blockquote><p id="1764" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有回归算法都显示出良好的结果，并提供了最终的R2 _ score<strong class="ih hj">0.95。</strong>数据集由653行和4列组成。测试的分割大小为0.2。为了获得更高的精度，可以使用网格搜索和交叉验证来调整随机森林的超参数。此外，通过提供更大的数据集，可以提高回归精度。另一个改进是关于UI的。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><p id="11bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个项目可以在我的GitHub库中找到，并有详细的说明。</p><p id="f626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到此，本文就告一段落了。希望你喜欢阅读这篇文章！</p><p id="aa76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请访问我的<a class="ae kx" href="https://ygarg704.github.io/" rel="noopener ugc nofollow" target="_blank">作品集</a>和<a class="ae kx" href="https://www.linkedin.com/in/ygarg704/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>:)</p><div class="ll lm ez fb ln lo"><a href="https://github.com/ygarg704/ph-value-recognition-based-on-rgb-color" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab dw"><div class="lq ab lr cl cj ls"><h2 class="bd hj fi z dy lt ea eb lu ed ef hh bi translated">ygarg 704/基于rgb颜色的ph值识别</h2><div class="lv l"><p class="bd b fp z dy lt ea eb lu ed ef dx translated">github.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb jn lo"/></div></div></a></div></div></div>    
</body>
</html>