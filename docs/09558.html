<html>
<head>
<title>Understanding Twitter Engagement with a Constant</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用常数理解Twitter参与度</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-twitter-engagement-with-a-constant-a440fa76472c?source=collection_archive---------14-----------------------#2020-09-10">https://medium.com/analytics-vidhya/understanding-twitter-engagement-with-a-constant-a440fa76472c?source=collection_archive---------14-----------------------#2020-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f30a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文概述了POLINKS团队提出的解决方案，该团队在2020年RecSys挑战赛上排名第六。这项挑战是推荐系统领域最重要的竞赛之一。今年的比赛由Twitter主办，它提供了一个非常大的数据集，几乎有<em class="je">8000万</em>条独特的推文。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/b69da3fc8aebd74ca620a1879811533f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Od2NFV0zbRsEBzfKgVLS7w.png"/></div></div></figure><p id="7e4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该团队得到了<a class="ae jd" href="http://www.fitec.it" rel="noopener ugc nofollow" target="_blank"> FITEC srl </a>、<a class="ae jd" href="https://linksfoundation.com/" rel="noopener ugc nofollow" target="_blank">林克斯基金会</a>和<a class="ae jd" href="https://www.polito.it/" rel="noopener ugc nofollow" target="_blank">都灵理工</a>的支持。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/0e52b11e9e6c003a770813f70001f5ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXs16_Gn0iHcTRA-ea4k_w.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">参与挑战的三家公司。</figcaption></figure><h1 id="1208" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">挑战的目标:预测参与度</h1><p id="0735" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">Twitter的目标是提供始终引人入胜的内容，这些内容是根据用户偏好定制的。要做到这一点，他们必须不断改进他们的推荐引擎，这也是参加挑战赛的团队努力要做的事情。</p><p id="2f85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个例子，让事情更清楚。</p><p id="fc74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Twitter上的典型互动中，我们有两种角色:</p><ul class=""><li id="c96c" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">推文作者</li><li id="26ad" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">阅读推文的用户</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ln"><img src="../Images/a534e25530906d73c968d108b17ae1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-tq-bePz9pj7i9Z7bVptnQ.gif"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">典型的Twitter互动:这是我们必须预测的。p(是/否)表示用户和作者之间积极互动的概率。</figcaption></figure><p id="c0d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作者写了一条推文，根据他的受欢迎程度，可能会被广泛的用户看到。每个参与用户可以执行不同类型的操作:</p><ul class=""><li id="0ea8" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated"><em class="je">回复</em>:写一篇关于推文的评论</li><li id="9041" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><em class="je">转发</em>:分享推文内容</li><li id="2b5e" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><em class="je">转发评论</em>:分享内容并附上个人评论</li><li id="376b" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><em class="je">像</em>一样:一个非常众所周知的动作</li></ul><p id="124f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je"> Recsys挑战赛2020 </em>的目标是为每种行动提供积极参与的可能性。</p><h2 id="bb06" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">评估指标</h2><p id="9993" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">公共排行榜上的结果通过两种不同的指标进行评估:</p><ul class=""><li id="9f4f" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">PRAUC (精确召回曲线下的区域)</li><li id="2354" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> RCE </strong>(相对交叉熵):这是一个与经典<em class="je">交叉熵</em>略有不同的度量。它就是交叉熵，除以CTR(点击率)。</li></ul><p id="cce7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个CTR的例子来阐明这个指标。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mc"><img src="../Images/b9a8bcbd4b67760865b529a4af68e9be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*n8R4y-F-dMqcGEEBW3vIew.gif"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">典型用户会话的点击率</figcaption></figure><p id="b97b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它只是代表积极行动的数量，除以互动的总数。</p><h1 id="2d83" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">第一种方法:梯度推进</h1><p id="5a95" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">在数据科学竞赛中，一个非常常见的解决方案是梯度推进，它通常会获得很大的成功。</p><p id="3111" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们专注于获得一个好的排行榜位置，这是我们的第一次尝试，但如果你认为这是让我们获得第六名的方法，你会失望的。</p><h2 id="845f" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">特征工程</h2><p id="ecd8" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">大多数情况下，它用于生成大量有用的特征，以便梯度增强算法更容易预测每种交战类型的概率。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mc"><img src="../Images/2904603380f56ba64266d259028377fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gCjs4xj_lOwnqHsKjY_3Dg.gif"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">特征工程。火车。重复一遍。</figcaption></figure><p id="622b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们生成了<strong class="ih hj"> 59个特征</strong>,可以分为六个不同的类别:</p><ol class=""><li id="013b" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc md lf lg lh bi translated"><strong class="ih hj">数据集特征(12个特征)</strong>:由数据集直接给出。它们可以包含在模型中，只需很少或不需要调整。(例如标签数量、推文语言)</li><li id="1741" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc md lf lg lh bi translated"><strong class="ih hj">作者特征(18个特征)</strong>:用于描述训练集的每个作者。它们包括一些预先计算的特征，详细描述了历史上每个作者的特殊行为，由数据集记录。这一类别的两个最重要的特征是:</li></ol><p id="0d57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">作者参与比例</em>:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es me"><img src="../Images/b08bce01eb2b624d4bc1fa5888696f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:170/1*offm_Fta010AfjyBgXWZCg.gif"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">作者参与比率</figcaption></figure><p id="b341" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">表示作者的推文收到的特定类型的动作数除以发布的推文总数。</p><p id="b11e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">收到的参与次数:</em>表示作者收到的每种参与类型(赞、转发、回复、评论)的交互总数。</p><p id="90d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">用户特征(18个特征)</strong>:类似于应用于作者的特征，但它们是根据与推文交互的用户来计算的。(例如，用户给出的喜欢的总数或动作的总数)</p><p id="e719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.<strong class="ih hj">口语(1个特点)</strong>:这个特点背后的主要直觉是，理解推文的语言在可能的互动中起着关键作用。出于这个原因，我们计算了每个用户所说的所有语言，以确定他是否能够理解推文的文本。</p><p id="ef77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.<strong class="ih hj">以前的动作(4个特性)</strong>:我们执行另一个预计算，以了解用户和作者之间以前交互的历史。</p><p id="9f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.<strong class="ih hj">时间相关特征(6个特征)</strong>:一些与推文时间戳相关的附加特征，如一天中的时间、一周中的日期等等。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mf"><img src="../Images/164dcc3c24b0e5cce7f579f313ca8702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m1ZKcosviZUSAS5a_i9Z_Q.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">梯度增强的不同类别的特征</figcaption></figure><h2 id="1aa1" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">可扩展性问题</h2><p id="700d" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">现在，我们已经定义了许多功能，以帮助我们的梯度推进算法做出正确的决定，我们必须面对这一挑战的最大问题:<em class="je">可扩展性。</em></p><p id="0c35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">训练集实际上是巨大的T21(大约70 GB)，包含1 . 48亿行以及我们之前详述的60列，代表了这些特性。</p><p id="840b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很容易理解，将整个数据集放入内存中并不容易，因此梯度增强的经典实现是行不通的。</p><p id="163e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，我们用于实现的<strong class="ih hj"> XGBoost </strong>库为处理这种情况提供了一个很好的解决方案:<a class="ae jd" href="https://xgboost.readthedocs.io/en/latest/tutorials/external_memory.html" rel="noopener ugc nofollow" target="_blank">外部存储器版本</a>。</p><p id="3408" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这种实现并不广为人知，我们分享一个代码片段来帮助其他面临相同问题的人。</p><ol class=""><li id="d23f" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc md lf lg lh bi translated">将数据集和生成的要素一起写入csv。在我们的解决方案中，我们在磁盘上写了三个不同的文件:<em class="je">训练、测试</em>和<em class="je">验证。</em></li><li id="d0c0" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc md lf lg lh bi translated">保存列的名称，它们将非常有用，例如，在绘制每个特性的重要性时。否则你只会得到一个号码，而不是名字。</li><li id="91db" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc md lf lg lh bi translated">将标签写在csv的一列上，记住标签列的索引，因为您将丢失标题。</li><li id="bc49" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc md lf lg lh bi translated">在<strong class="ih hj"> DMatrix </strong>数据结构中导入外部存储器csv:</li></ol><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="06ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重要的是要包括:</p><pre class="jg jh ji jj fd mi mj mk ml aw mm bi"><span id="d20b" class="lo jx hi mj b fi mn mo l mp mq">#dtrain.cache</span></pre><p id="7dbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，我们告诉XGBoost不要将整个数据集加载到内存中。</p><p id="c46e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.训练XGBoost模型。为了使模型对庞大的数据更加稳健，我们个人建议使用gpu_hist树方法，如果您仍然有一些问题，可以使用参数<em class="je">子样本</em>:</p><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mg mh l"/></div></figure><h2 id="4b38" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">结果</h2><p id="971e" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">这个解决方案看起来相当复杂，并且在<a class="ae jd" href="https://recsys-twitter.com/final_leaderboard/results" rel="noopener ugc nofollow" target="_blank">公共排行榜</a>上没有给我们带来好的结果。特别是，我们得到了一个强烈的负面的RCE分数，这表明我们应该寻找其他方向。</p><h1 id="4501" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak">最佳方案:CTR优化常数</strong></h1><p id="5f00" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">在对<em class="je">梯度提升模型的结果感到失望之后，</em>我们意识到，我们需要更好地理解这些指标，以便在排行榜上攀升。</p><p id="0f94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">具有讽刺意味的是，成为最佳解决方案的起始问题是:</p><blockquote class="mr ms mt"><p id="4210" class="if ig je ih b ii ij ik il im in io ip mu ir is it mv iv iw ix mw iz ja jb jc hb bi translated">可以在两个指标的得分之间提供良好平衡的最佳常数是什么？</p></blockquote><p id="801a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了回答这个问题，我们遵循不同的步骤:</p><ol class=""><li id="f641" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc md lf lg lh bi translated">我们随机抽取相同的数字，分配给所有可能的用户推文对</li><li id="3bdc" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc md lf lg lh bi translated">我们计算这两个指标来调整该数字，以便最大化分数</li></ol><p id="e6bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调查结果详见下表:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mx"><img src="../Images/6d1cb0a00a784024819a5a4944b4b18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fI3Afx8USELiZ4vdMzPiFQ.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">每个常数的RCE和普拉克结果。</figcaption></figure><p id="4a8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们注意到的第一件事是，我们有一个不同的最佳值，取决于参与度。特别是对于像这样的<em class="je">，我们有一个更高的优化，因为它是目前为止最流行的动作。</em></p><p id="6d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这项研究中我们得到了两个有用的结果:</p><ul class=""><li id="30c6" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">任何常数都会对分数产生相同的影响</li><li id="e31d" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> RCE </strong>:根据啮合类型，有不同的最佳值。</li></ul><p id="f887" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很明显，我们必须找到优化RCE的价值观。</p><h2 id="30a1" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">动作分布</h2><p id="d8eb" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">RCE与点击率密切相关，点击率取决于动作在训练集中的不同分布。</p><p id="d959" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，动作<em class="je">的RCE与</em>类似，相对于其他动作，数值越高，结果越好，因为它是最常见的动作。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es my"><img src="../Images/21cd4d63b856ba54178312ce05e5e654.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*d0D3rh6AHrH48nkzNXZk5g.png"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">每个动作在训练集中的分布</figcaption></figure><p id="138a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一点上，很明显，每种行动的最佳常数是CTR本身。下表显示了每种雇佣类型的CTR数值:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mz"><img src="../Images/ab5b8f19980b52126905f80329d9c639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RrjgVTnsjKnFUQfPOS4W_Q.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">每种啮合类型的优化常数</figcaption></figure><p id="fda9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过将这些结果与上表进行比较，我们理解了为什么0.5对于like来说是一个好结果，而对于其他动作来说，最佳常数是0.1。最佳值就是最接近CTR的值。</p><p id="6504" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终解决方案基于CTR常数，遵循以下步骤:</p><ul class=""><li id="4e46" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">计算每种行动的CTR</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es na"><img src="../Images/80fe7dc317a35238ad84ff2236edb437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gL9FyYkYUSyStRiZ0573vw.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">每种合约类型的CTR</figcaption></figure><ul class=""><li id="6a8e" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">每种行为的预测概率将是点击率本身，对所有成对的用户推文进行复制。例如:</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es nb"><img src="../Images/f3c47e064b45eef2facad99f0e058f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/1*6qnpTq39fugypgZXx14UHQ.gif"/></div></figure><h2 id="6c1c" class="lo jx hi bd jy lp lq lr kc ls lt lu kg iq lv lw kk iu lx ly ko iy lz ma ks mb bi translated">结果</h2><p id="3ccf" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">尽管这种方法非常简单，只需要几行代码，但它在排行榜上给出了惊人的分数，这可能是因为它利用了排名计算方法的一些弱点。</p><p id="46f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终排名分不同步骤计算:</p><ul class=""><li id="43a1" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">四个项目中PRAUC得分的平均值</li><li id="d4d6" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">四个项目中RCE得分的平均值</li><li id="2326" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">两个指标的排名计算</li><li id="f2e5" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">两次排名之和</li></ul><p id="35ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种计算倾向于在最不具竞争力的指标上获得高分的解决方案。</p><p id="3759" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的团队广泛测试了常数模型，以了解公共排行榜上的好结果是否只是巧合，或者在官方排名上也可能有一些有效性。</p><p id="32a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我们将训练集划分为不同的块，使用相同大小的官方验证集来定义不同的动作分布如何影响RCE分数。</p><p id="5e54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果如下图所示:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es nc"><img src="../Images/cfe030e926f68418b1587ca279dd877e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5VkKXrm27zhdGOGl_HkI0A.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">基于CTR的常数在不同时间跨度内的行为。</figcaption></figure><p id="5445" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，不同训练块之间的分数没有太大差异，因此我们可以非常确定最终的排行榜计算不会对我们的解决方案产生太大影响。</p><h1 id="ae6f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">最终考虑</h1><p id="f487" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">我们从这次挑战中得到的教训是，<em class="je">数据科学竞赛</em>可能与<em class="je">现实生活</em>大相径庭。</p><p id="8b40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">提供的数据集结构非常好，Twitter是研究人员最常见的数据源之一，因此认为这种问题是人为的是不公平的。</p><p id="2c42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真正的区别是，为了提高在排行榜上的位置，你必须做一些技巧，如利用数据泄露或指标弱点，这些在目标是交付产品时都不能应用。</p><p id="df11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在真实情况下，基于常数的解决方案将完全无用，我们可能会花费更多时间来改进梯度提升解决方案，使其具有更多功能和更好的可扩展性。</p><p id="d081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您感兴趣，可以在我们的<a class="ae jd" href="https://github.com/andreafiandro/recsys2020" rel="noopener ugc nofollow" target="_blank"> github库</a>中找到这两种解决方案的代码。</p></div></div>    
</body>
</html>