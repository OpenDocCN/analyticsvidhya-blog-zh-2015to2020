<html>
<head>
<title>Google AutoML Tables vs XGBoost</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google AutoML表格vs XGBoost</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/google-automl-tables-a-first-taste-f25b3728e1a7?source=collection_archive---------11-----------------------#2019-11-26">https://medium.com/analytics-vidhya/google-automl-tables-a-first-taste-f25b3728e1a7?source=collection_archive---------11-----------------------#2019-11-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9125" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谷歌是典型的机器学习公司。作为一家年轻而饥渴的初创公司，他们首先使用“统计建模”来纠正搜索词的拼写，而且他们从未回头。这些天，他们甚至使用机器学习来发明新的机器学习，机械化新的深度神经网络拓扑结构的发明，在准确性方面达到最先进的结果，同时经常<em class="jd">减少</em>总模型大小。如果你曾经训练过任何深度神经网络，你很可能使用过谷歌的Tensorflow框架——这对广告公司来说还不错！</p><p id="2ab2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，当机器学习领域的一个传奇力量宣布一个新产品——AutoML——这不是一个关于<em class="jd">我是否会尝试的问题，而是什么时候的问题。当我的团队在我们为一个非营利组织开发的基于机器学习的微服务上达到我们的“功能完整”里程碑时，我的第一个机会来了。</em></p><p id="5e4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该项目的训练集是结构化的或者表格化的数据——类似于数据库中以表格形式存储的那种数据。由于我已经有了使用训练有效模型的代码，这是一个比较“传统”(来自开源库的使用网格搜索调优的模型)和“前沿”(Google的AutoML表<a class="ae je" href="https://cloud.google.com/automl-tables/" rel="noopener ugc nofollow" target="_blank">)的绝佳机会。</a></p><p id="7ce2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开始非常简单——只需将我的数据的CSV文件上传到Google Cloud bucket，AutoML Tables有UI支持，保持工作流程简单。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/fdaaadf09b62213bf62accef1dfe1ab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhEgT61pePjQybmHhRyLtQ.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">新导入的数据在AutoML表中汇总</figcaption></figure><p id="40ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据导入流畅而准确，数字和类别列被自动处理。我所要做的就是选择目标列(“correct_location”)，然后我就可以点击诱人的蓝色“火车模型”按钮了。如果你已经在使用GCP，数据导入会更容易。</p><p id="08c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模型培训以1小时为增量，在撰写本文时，<a class="ae je" href="https://cloud.google.com/automl-tables/" rel="noopener ugc nofollow" target="_blank">每小时花费19.32美元</a> —这是为92个虚拟机(n1-standard-4)的集群支付的费用，这些虚拟机将合作一个小时以获得可能的最佳结果。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jv"><img src="../Images/1dd47ba742fa4d734c2e1d298d1e9198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jaOOtkNkCd5wV0tS9-nt6g.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">训练结果—精确度不错，AUC看起来可用</figcaption></figure><p id="7e3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个小时后，我的模型准备好了，一个非常像样的仪表板上满是好消息——可接受的F1分数、AUC、log loss。该模型本身的大小为相对较大的235MB。</p><p id="184e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我的92节点集群在进行Google-Fu时，我还租用了一个小型虚拟机来运行我们传统的手工制作的非贝叶斯优化训练代码——一台n1-standard-1机器，它是一个Haswell内核，内存不到4GB，每小时租金仅为0.04美元。我们的代码加载了相同的CSV，然后运行网格搜索，我们的强力超参数调整，训练108 <a class="ae je" href="https://xgboost.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>模型(强烈建议将梯度提升树用于结构化或表格数据)。我们的单核minnow在大约15分钟内完成了工作，比集群提前了45分钟到达终点，并且只花费了我们0.01美元的计算成本。完成的模型大小约为1.3MB，对数损失分数约为0.2，明显优于AutoML表结果0.36(对于对数损失，分数越大越差，表明分类概率越不准确)。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jw"><img src="../Images/6de951074de68d3432e110e5661d7bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*kLKiJMtA3iHn6pJZnrSd8A.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">Google AutoML表格与XGBoost +网格搜索</figcaption></figure><p id="a752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，训练一个模型没有多大用处，除非您部署它。AutoML表在这一领域大放异彩——只需点击几下，您就可以批量处理来自Google Bucket的数据，或者将您的模型部署为REST服务。这和我们手工制作的人工编制的Flask应用程序之间肯定有很大的不同。</p><p id="589f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于机器学习工程来说，这是一个激动人心的时刻。对于我们的特定客户，云部署不是我们将部署的地方，但看到我们可以如此轻松地完成这一点令人振奋。然而，AutoML表，至少对于这个数据集来说，在模型质量、模型大小和时间序列方面肯定令人失望，所有这些都明显比我们的基本基线差。</p></div></div>    
</body>
</html>