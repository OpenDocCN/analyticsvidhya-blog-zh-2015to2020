<html>
<head>
<title>WhatsApp Group Chat Analysis.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WhatsApp群聊分析。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/whatsapp-group-chat-analysis-8f184d3b4586?source=collection_archive---------11-----------------------#2020-07-25">https://medium.com/analytics-vidhya/whatsapp-group-chat-analysis-8f184d3b4586?source=collection_archive---------11-----------------------#2020-07-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><p id="79a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">WhatsApp是一款智能手机通讯应用，由雅虎两名前员工布莱恩·阿克顿和简·库姆于2009年创立。180个国家的20亿用户使WhatsApp成为世界上最受欢迎的消息应用程序。WhatsApp扩展到专注于生产一种干净快捷、运行完美的聊天服务。他们添加的任何功能，包括可以通过简单的一键实现的语音信息，都是对文本聊天应用核心功能的简单扩展。</p><p id="d3af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">印度是世界上最大的WhatsApp市场，拥有3.4亿用户。每天有近650亿条以上的消息通过WhatsApp发送，平均每分钟发送2900万条消息。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/6ae634decca31bd60de10b424ac93bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mYJIzyHh-p-PdteCErHrfA.png"/></div></div></figure><p id="523b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">WhatsApp提供了一个导出聊天内容的选项，我们可以用它来进行分析。建议导出任何群聊进行分析，因为群聊往往比较大。</p><p id="e683" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会在你的WhatsApp聊天(群组/个人)中找到“导出聊天”选项。找到<em class="jt">垂直省略号&gt;更多&gt;导出聊天</em>。<strong class="is hj"> <em class="jt">注意:</em> </strong> <em class="jt">德国不支持此功能。</em></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/c75885a9e603313d0afb98cfeeccfe7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsW_XweKilqeo_Nei3wHdg.jpeg"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">在WhatsApp中导出聊天选项</figcaption></figure><p id="2e24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“导出聊天”选项将WhatsApp群组对话转换为文本文件(。txt)。一旦转换完成，我就把它分享到我的电子邮件ID来做分析。</p><p id="f75f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确保您导出的消息“没有媒体”,因为我们在此分析中不需要媒体文件。使用媒体导出时，您最多可以发送10，000条最新消息。没有媒体，你可以发送40000条消息。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="2d7b" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">Python库</h1><p id="992e" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">我用的是Jupyter Notebook，这是一个开源的web应用程序，可以让你很容易地看到中间输出。这些是我在这个分析中使用的几个包。</p><ul class=""><li id="404f" class="lc ld hi is b it iu ix iy jb le jf lf jj lg jn lh li lj lk bi translated"><strong class="is hj"> Pandas </strong>模块通过创建DataFrame来操作数据。</li><li id="d213" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated"><strong class="is hj"> Matplotlib </strong>是一个可视化库，用于通过可视化方法从数据中生成洞察。</li><li id="8802" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated"><strong class="is hj">RegEx(re)</strong>RegEx或正则表达式是构成搜索模式的字符序列。RegEx可用于检查字符串是否包含指定的搜索模式。Jupyter笔记本中没有预装RegEx模块。使用Anaconda提示符下的下面一行来安装该软件包。</li></ul><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="7a77" class="lv ka hi lr b fi lw lx l ly lz">conda install -c conda-forge regex</span></pre><ul class=""><li id="5d1f" class="lc ld hi is b it iu ix iy jb le jf lf jj lg jn lh li lj lk bi translated"><strong class="is hj">表情符号</strong>用于处理用户发送的消息中的表情符号。由于表情模块没有预装在Jupyter笔记本中，请在Conda提示符下运行下面一行来安装包。</li></ul><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="875f" class="lv ka hi lr b fi lw lx l ly lz">conda install -c conda-forge emoji</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="7316" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">数据</h1><p id="e061" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">我导出了一个WhatsApp群的聊天记录，该群有15名成员，创建于2017年11月。</p><p id="1291" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我电子邮件中的文本文件看起来像这样。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="2fc8" class="lv ka hi lr b fi lw lx l ly lz">01/02/2019, 06:01 - Siddharth: Good Morning friends!<br/>01/02/2019, 09:53 - Adithya: Do we have class?<br/>01/02/2019, 09:53 - Adithya: Who is the teacher?<br/>01/02/2019, 09:53 - Emma Watson: Akila Ma'am<br/>01/02/2019, 09:53 - Emma Watson: don't be late!<br/>01/02/2019, 10:11 - Adithya: Thank you boy!<br/>01/02/2019, 10:14 - Bala: Where are you guys?</span></pre><p id="2c41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">该文件包含从2019年1月2日到2020年7月24日的40，000条消息。</em></p><p id="e8bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过查看文件，我们可以看到有4个属性—日期、时间、作者、消息。这4个属性将是我在熊猫数据框中的列。</p><p id="2b5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jt">注:</em> </strong> <em class="jt">艾曼纽在这里伪装成艾玛·沃森。虽然我可以在熊猫中使用</em><strong class="is hj"><em class="jt">replace()</em></strong><em class="jt">来更改作者值，但我只是不想失去原创性</em>😛</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="d6ca" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">创建数据帧</h1><p id="bfee" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">这个纯文本文件必须进行标记化，并以有意义的方式解析成上述属性，以便存储在Pandas数据帧中。</p><p id="1571" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了从文本行中检测{Date}和{Time}标记，我使用了正则表达式匹配。这也将表明一行文本是新消息还是属于多行消息。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="f21c" class="lv ka hi lr b fi lw lx l ly lz">def date(l):<br/>    pattern = '^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)(\d{2}|\d{4}), ([0-9][0-9]):([0-9][0-9]) -'<br/>    result = re.match(pattern, l)<br/>    if result:<br/>        return True<br/>    return False</span></pre><p id="ef36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">既然我已经确定了包含带有日期和时间组件的新消息的行，那么消息的下一部分就是检测{Author}标记。作者值取决于您在手机中保存联系人的方式。如果您没有从WhatsApp群组保存的联系人，作者值将是他们的手机号码。对于提到的所有约束，下面是RegEx模式，它将从文本行中检测{Author}标记。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="581b" class="lv ka hi lr b fi lw lx l ly lz">def isauthor(l):<br/>    pattern = [<br/>        '([\w]+):', <br/>        '([\w]+[\s]+[\w]+):',<br/>        '([\w]+[\s]+[\w]+[\s]+[\w]+):',<br/>        '([+]\d{2} \d{5} \d{5}):'<br/>    ]<br/>    patterns = '^' + '|'.join(pattern)<br/>    result = re.match(patterns, l)<br/>    if result:<br/>        return True<br/>    return False</span></pre><p id="385e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我检测到了日期、时间和作者标记，字符串的剩余部分(消息标记)会自动检测。</p><p id="091f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是时候根据分隔符标记(如<em class="jt">逗号</em>(，)、<em class="jt">连字符</em> (-)、<em class="jt">冒号</em>(:)和<em class="jt">空格</em>()来拆分每一行了，这样就可以提取所需的标记并存储在数据帧中。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="a98e" class="lv ka hi lr b fi lw lx l ly lz">def DataPoint(line):<br/>    SplitLine = line.split(' - ')<br/>    DT = SplitLine[0]<br/>    DateTime = DT.split(', ')<br/>    Date = DateTime[0]<br/>    Time = DateTime[1]<br/>    Message = ' '.join(SplitLine[1:])<br/>    <br/>    if isauthor(Message):<br/>        authormes = Message.split(': ')<br/>        Author = authormes[0]<br/>        Message = ' '.join(authormes[1:])<br/>    else:<br/>        Author = None<br/>    return Date, Time, Author, Message</span></pre><p id="0f07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一步是逐行解析整个文件，并处理多行文本。下面的代码将检查该行是否以日期开始，如果不是，那么它将被认为是一个多行文本。将使用定义的方法提取令牌，并将其存储在列表中。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="77d1" class="lv ka hi lr b fi lw lx l ly lz">parsedData = []<br/>FilePath = 'WhatsApp Chat.txt'<br/>with open(FilePath) as fp:<br/>        <br/>    messageBuffer = []<br/>    Date, Time, Author = None, None, None<br/>    <br/>    while True:<br/>        line = fp.readline() <br/>        if not line:<br/>            break<br/>        line = line.strip() <br/>        if date(line): <br/>            if len(messageBuffer) &gt; 0:<br/>                parsedData.append([Date, Time, Author,' '.join(messageBuffer)])<br/>            messageBuffer.clear() <br/>            Date, Time, Author, Message = DataPoint(line)<br/>            messageBuffer.append(Message)<br/>        else:<br/>            messageBuffer.append(line)</span></pre><p id="ce83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是时候使用Pandas模块创建一个数据框架了。列表“已解析数据”<em class="jt"> </em>由来自WhatsApp导出文件的所有40，000条消息组成，已解析并准备好存储在Pandas数据帧中。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="78d9" class="lv ka hi lr b fi lw lx l ly lz">df = pd.DataFrame(parsedData, columns=['Date', 'Time', 'Author', 'Message'])</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/a5b3621b027653dea09380b6ba929984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rpMOWM1HofYAp90X3uaB3g.jpeg"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="ee84" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">丢弃没有作者的邮件</h1><p id="f1ed" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">在导出聊天中的所有消息时，WhatsApp会导出与安全更改、离开群组的人、加入群组的人、群组名称更改等相关的消息。这些消息也将被导出，但没有作者(空值)。有必要删除所有空值数据点，以便进一步进行分析。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="b150" class="lv ka hi lr b fi lw lx l ly lz">NoneValues = df[df['Author'].isnull()]<br/>NoneValues</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/7b52a5940122e03e2bec90ef735a86c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TdKbBOCYGz7FLP1B1RxXaw.jpeg"/></div></div></figure><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="d5c4" class="lv ka hi lr b fi lw lx l ly lz">df = df.drop(NoneValues.index)</span></pre><p id="6c2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">删除数据帧中包含来自空作者的消息的所有行。</em></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="c320" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">分析群组成员发送的消息数量</h1><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="45be" class="lv ka hi lr b fi lw lx l ly lz">Toppers = df['Author'].value_counts()<br/>Toppers.plot(kind='bar')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/d42cace85a7c34980710d9c352c35e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nBFvyqUiRorS2r1Trklv_Q.png"/></div></div></figure><p id="8b90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">艾玛·沃森无疑是这个小组中最活跃的人。😮</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="7dfb" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">分析群组成员发送的媒体消息的数量</h1><p id="7f1d" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">虽然从WhatsApp导出聊天时不包含媒体，但它将被视为一条消息— <em class="jt"> &lt;媒体省略&gt;。有了这些信息，我们可以分析群组成员发送的媒体消息的数量。</em></p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="ed4b" class="lv ka hi lr b fi lw lx l ly lz">MediaValues = df[df['Message'] == '&lt;Media omitted&gt;']<br/>MediaValues</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/e0b64d95a58c49c2844a60a77c92b35e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n-8lja4QtMugrjxPw860RA.jpeg"/></div></div></figure><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="68f6" class="lv ka hi lr b fi lw lx l ly lz">MediaTopper = MediaValues['Author'].value_counts()<br/>MediaTopper.plot(kind='bar', color='m')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/a7bba99d6e5e52d1d979ac044f230a55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tQYEaStkHvV-_GP8NgFDw.png"/></div></div></figure><p id="451a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jt">艾玛·沃森</em> </strong> <em class="jt">(又名艾曼纽)高居所有排行榜榜首。</em>😆</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="500c" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">小组成员最常用的5个表情符号</h1><p id="7be6" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">是时候使用表情符号模块来查看小组成员最常用的5个表情符号了。这个模块将帮助我们从短信中提取表情符号，然后我们可以将它添加到列表中。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="827b" class="lv ka hi lr b fi lw lx l ly lz">emojis=[]<br/>for i in df['Message']:<br/>    my_str = str(i)<br/>    for j in my_str:<br/>        if j in emoji.UNICODE_EMOJI:<br/>            emojis.append(j)</span><span id="c057" class="lv ka hi lr b fi me lx l ly lz">emo = pd.Series(emojis)<br/>TopEmoji = emo.value_counts().head(5)<br/>TopEmoji</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/2c5d8f576bc3299a3479ed8cea8df35b.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*Lg-UdB6-qcyk_nLUwCPR4w.jpeg"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="2799" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">邮件总数—今年与去年</h1><p id="ee38" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">去年(2019年)和今年(2020年)有很多不同。2019年，我们在大学里每天都见面，在这个WhatsApp群里没有不必要的聊天。但2020年是如此的不同，因为冠状病毒疫情的情况，我们处于封锁状态，而这个(西澳集团)是我们所有人保持联系的最佳媒介，就像我们过去一样。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="61a8" class="lv ka hi lr b fi lw lx l ly lz">df['Date'] = pd.to_datetime(df['Date'], dayfirst=True)</span><span id="8b15" class="lv ka hi lr b fi me lx l ly lz"># Extracting Year from the Date<br/>YearData = df['Date'].dt.year<br/>TopYear = YearData.value_counts()</span><span id="6a4f" class="lv ka hi lr b fi me lx l ly lz">TopYear.plot(kind='bar', color='purple', width=0.09)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/316cd98faa9bc50f564ab06124936433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*oR7wh7nPW1QKPreKaaSlIw.png"/></div></figure><p id="fa2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">上图显示，我们在2020年使用该WA组的次数是2019年的3倍。</em></p><p id="c503" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们仍然在2020年的第7个月。😮</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="a4e9" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">邮件总数—过去18个月</h1><p id="541c" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">导出的文件包含过去18个月的聊天记录，从2019年2月到2020年7月。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="e077" class="lv ka hi lr b fi lw lx l ly lz"># Extracting Month and Year from Date<br/>df['Month_year'] = df['Date'].dt.to_period('M')</span><span id="9ca0" class="lv ka hi lr b fi me lx l ly lz">TopMonth = df['Month_year'].value_counts()<br/>TopMonth = TopMonth.sort_index()</span><span id="adf7" class="lv ka hi lr b fi me lx l ly lz">TopMonth.plot(kind='bar', color='salmon')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/e85d671fab09333dc4a742ad07f50377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94HOatqe8YnBsThy68csrw.png"/></div></div></figure><p id="80c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">很明显，从2020年3月开始，消息数量突然增加是因为封锁。</em></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="e1dd" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">WhatsApp群组前25个活跃日</h1><p id="86c8" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">由于我们从2017年开始有这个组，所有前25个活跃日都只在2020年。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="ae43" class="lv ka hi lr b fi lw lx l ly lz">TopDate = df['Date'].value_counts().head(25)<br/>TopDate.plot(kind='bar', color='firebrick')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/6e549fd122fa3ab6d419d6bca0937e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G29GDdZEJSJ5lIiPVwvKKw.png"/></div></div></figure><p id="accf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">看起来我们在这个锁定中使用这个WhatsApp组太多了！但是，为什么不呢？</em>😛</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="c9f3" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">WhatsApp群组的活跃时间</h1><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="85c2" class="lv ka hi lr b fi lw lx l ly lz">df['Hour'] = df['Time'].apply(lambda a : a.split(':')[0])<br/>TopHours = df['Hour'].value_counts()<br/>TopHours = TopHours.sort_index()</span><span id="a20c" class="lv ka hi lr b fi me lx l ly lz">TopHours.plot(kind='bar', color='orange')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/88d1fdb7bcb0729342a599a656e074ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kKhAooaT-vSwzuEvEVCvmg.png"/></div></div></figure><p id="6caf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们全天候营业。🙌</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><h1 id="8ece" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">从每封邮件中查找字母和字数</h1><p id="f511" class="pw-post-body-paragraph iq ir hi is b it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn hb bi translated">深入分析，我提取了一个小组成员使用的字母和单词数。我们不需要这个分析的媒体值，所以我把它从数据帧中删除了。</p><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="d46c" class="lv ka hi lr b fi lw lx l ly lz">df = df.drop(MediaValues.index)</span><span id="d93c" class="lv ka hi lr b fi me lx l ly lz">df['Letters'] = df['Message'].apply(lambda s : len(s))<br/>df['WordCount'] = df['Message'].apply(lambda s : len(s.split(" ")))</span></pre><h2 id="e668" class="lv ka hi bd kb mk ml mm kf mn mo mp kj jb mq mr kn jf ms mt kr jj mu mv kv mw bi translated">分析哪个小组成员的字母和单词数最多</h2><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="d269" class="lv ka hi lr b fi lw lx l ly lz">GroupedData = df.groupby(['Author']).sum()<br/>LetterGroupedData = GroupedData.sort_values(by=['Letters'])<br/>WordGroupedData = GroupedData.sort_values(by=['WordCount'])</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mx"><img src="../Images/ab6f65f3ed6fc045425e7801ca578289.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*oAZgSNkcMc4StNrCi5_HBA.jpeg"/></div></figure><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="a4f2" class="lv ka hi lr b fi lw lx l ly lz">LetterGroupedData['Letters'].plot(kind='bar', color='hotpink')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es my"><img src="../Images/85a33985eafdaa82c8cf67b810475a0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCfZGsbe3l_vh1YG_0mayw.png"/></div></div></figure><pre class="jp jq jr js fd lq lr ls lt aw lu bi"><span id="698b" class="lv ka hi lr b fi lw lx l ly lz">WordGroupedData['WordCount'].plot(kind='bar', color='teal')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/2c7183e2aeb61bb24459d94c5edb3ca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWnr5d-ukky04GCXRBH1zQ.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a32d33124aa2105237b46bdb9067cf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TClG3E_CaXjUVYesiSpFVQ.png"/></div></div></figure><p id="eda6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢大家阅读并深入了解我的WhatsApp群。</p><p id="65fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前往我的GitHub Repo查看Jupyter笔记本:<a class="ae na" href="https://github.com/CibhiBaskar/WhatsApp-Chat-Analysis" rel="noopener ugc nofollow" target="_blank"><em class="jt">https://github.com/CibhiBaskar/WhatsApp-Chat-Analysis</em></a></p><p id="b823" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jt">在LinkedIn上联系我【www.linkedin.com/in/cibhi】<a class="ae na" href="http://www.linkedin.com/in/cibhi" rel="noopener ugc nofollow" target="_blank"><em class="jt"/></a></em></p></div><div class="ab cl nb nc gp nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="hb hc hd he hf"><p id="1284" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jt">注:</em> </strong> <em class="jt">所有数据可视化代码行只是为了理解。查看我的Jupyter笔记本，看看完整的代码。</em></p></div></div>    
</body>
</html>