<html>
<head>
<title>How to Deploy Streamlit Web App on Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Heroku上部署Streamlit Web App</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-deploy-streamlit-web-app-on-heroku-1235d827f1f?source=collection_archive---------10-----------------------#2020-06-20">https://medium.com/analytics-vidhya/how-to-deploy-streamlit-web-app-on-heroku-1235d827f1f?source=collection_archive---------10-----------------------#2020-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="806c" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">在云上部署您的ML模型</h2><div class=""/><div class=""><h2 id="3872" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">使用Heroku在云上快速部署您的Web应用程序</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/73425025ee0d7a2b63d80e9cf994ea25.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*4krsnV59DxyWBFCtbUmUiw.jpeg"/></div></figure><p id="fc45" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi kk translated"><span class="l kl km kn bm ko kp kq kr ks di"> H </span> <a class="ae kt" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> eroku </a>是一款快速易用的平台即服务(PaaS)软件，可以方便地部署网络应用程序，任何人都可以通过URL访问它。换句话说，这将使您能够将应用程序从本地机器转移到云中。在本教程中，我们将讨论在Heroku上部署基于Streamlit (Python)的应用程序的步骤。Heroku被选中部署主要是因为当你<a class="ae kt" href="https://signup.heroku.com/" rel="noopener ugc nofollow" target="_blank">注册一个新账户</a>时，它提供免费的资源小时。</p><blockquote class="ku kv kw"><p id="ff4d" class="jo jp kx jq b jr js is jt ju jv iv jw ky jy jz ka kz kc kd ke la kg kh ki kj hb bi translated">在我们进一步深入之前，一些先决条件是一个有效的streamlit应用程序和一些云的基础知识。然而，即使您不熟悉任何云技术，您仍然可以在web上部署您的应用程序。真的就这么简单！</p></blockquote><p id="8475" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们开门见山，不要再浪费时间了。你需要一个主机作为你的应用程序的占位符，还需要一些安装文件，这些文件对于Heroku检测和运行你的应用程序是必不可少的，就像你在本地访问一样。我已经使用GitHub组装了应用程序所需的所有文件。以下是截图:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lb"><img src="../Images/a0f06ef45b3faba3327480b12dbf6c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*inSNpqTnGlGXQ7iJGXvjUA.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">将所有相关文件添加到您的应用程序存储库中。</figcaption></figure><p id="0195" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">基本上，Heroku需要这三个文件来检测我们的streamlit应用程序和运行时要执行的指令。这些措施如下:</p><p id="c0e4" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> <em class="kx"> 1。</em>进程文件(Proc file)</strong></p><p id="b0d2" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> <em class="kx"> 2。需求文件(requirements.txt) </em> </strong></p><p id="2408" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hs"> <em class="kx"> 3。设置文件(setup.sh) </em> </strong></p><p id="0869" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">重要的是要注意，用于设置的和shell文件对于部署是必需的，否则您的应用程序可能会失败。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lk"><img src="../Images/dc01a7ffbb638357a449e95d6ba47fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hiHWbwb3rPQNIybID5gwbQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">ProcFile</figcaption></figure><p id="ea1b" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Proc文件包含关于如何使用安装外壳文件运行应用程序的信息，并使Heroku能够检测应用程序文件。</p><p id="7332" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下一步是添加一个需求文件，它只是一个依赖项列表和应用程序平稳运行所需的版本。在这种情况下，需求文件包含以下库:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es ll"><img src="../Images/c7ab627ce65b1b932c5ef9d1535184cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*risKKRuLY9NmJJr8AhcuAQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">依赖项及其各自版本的列表(如果适用)</figcaption></figure><p id="16fe" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">值得一提的是，确保不要添加两次库或不兼容的版本。这可能会在构建阶段产生问题。</p><p id="05c3" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在我们已经准备好了文件，我们可以在Heroku上部署我们的应用程序了。</p><p id="c786" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">前往<a class="ae kt" href="https://dashboard.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>仪表板，创建一个帐户开始使用。快速提示:Heroku在创建您的帐户时不会向您收取费用，也不需要帐户详细信息，甚至部署也是免费的。他们只在你需要额外设施的情况下才收费，比如，度量标准或者你是一家企业。下一步，一旦你有了一个帐户，创建一个新的应用程序，并命名你的应用程序和你想操作的地区。您可以选择添加一个管道来形成一个连续的部署工作流，并启用其他功能。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lm"><img src="../Images/ff5a27c0e4d284bf0833c771e07123d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9xt-y20HTqQnVam40Ammg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">新应用程序创建</figcaption></figure><p id="4b82" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完成后，您将被重定向到添加部署方法。因为我的Github repo上已经有了这个应用程序的所有相关文件，所以我们可以直接链接一个repo并部署它。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es ln"><img src="../Images/3944e13a7ff2852d4b6b5f0a9d68f2d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZFgAzqt5T0Bvbv224TNSfQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">部署选项</figcaption></figure><p id="3639" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">或者，您可以使用Heroku git命令行界面将更改直接推送到Heroku，而不是先推送到Github，然后在Heroku上部署。但是，如果您是Github的粉丝并且不想使用Heroku CLI，那么您可以通过在Heroku上启用自动部署特性来节省一个步骤。</p><p id="0448" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">只要您单击Deploy分支，它就会检测您的应用程序，运行安装shell文件，并下载所有依赖项。这三个步骤成功完成后，Heroku就会生成你的网址，然后嘣！，你可以走了！使用URL进行测试，并将其发送给其他人来测试您的应用程序。这是最终部署在网络上的streamlit web应用程序:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lo"><img src="../Images/fd6cddc2170ff5f9027234c49c9d5ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xrv62_rMJGDvY7sQUZDpA.png"/></div></div></figure><p id="8513" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi kk translated"><span class="l kl km kn bm ko kp kq kr ks di"> D </span>别忘了查看优秀的<a class="ae kt" href="https://devcenter.heroku.com/" rel="noopener ugc nofollow" target="_blank">文档</a>，以防你陷入困境或者需要部署用其他语言构建的应用，比如Ruby、Java、Node.js</p><h1 id="68fb" class="lp lq hi bd lr ls lt lu lv lw lx ly lz ix ma iy mb ja mc jb md jd me je mf mg bi translated"><strong class="ak">结论</strong></h1><p id="b3cf" class="pw-post-body-paragraph jo jp hi jq b jr mh is jt ju mi iv jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">我很想在下面的评论中听到你对Streamlit、Heroku和机器学习以及模型部署的想法。</p><p id="6b77" class="pw-post-body-paragraph jo jp hi jq b jr js is jt ju jv iv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你觉得这很有用，并且知道任何你认为会从中受益的人，请随时发送给他们。</p></div></div>    
</body>
</html>