<html>
<head>
<title>Using YoloV3 and OpenCV to implement custom Object detection and OCR for smart analysis of the Election card (Voter Card).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用YoloV3和OpenCV实现自定义对象检测和OCR，对选举卡(选民证)进行智能分析。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-yolov3-and-opencv-to-implement-custom-object-detection-and-ocr-for-smart-analysis-of-the-aad46c349962?source=collection_archive---------11-----------------------#2020-10-03">https://medium.com/analytics-vidhya/using-yolov3-and-opencv-to-implement-custom-object-detection-and-ocr-for-smart-analysis-of-the-aad46c349962?source=collection_archive---------11-----------------------#2020-10-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f4bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated"><span class="l je jf jg bm jh ji jj jk jl di"> T </span>将OCR技术提升到另一个层次，自定义对象检测和OCR的结合已被证明是通过用户的选举卡来验证用户身份的非常有效的方法。这对于金融机构和文档验证是绝对必要的许多领域来说将是一种有效的帮助。</p><blockquote class="jm jn jo"><p id="0987" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">为了理解我们要展示的技术的实现和方法的关键；首先深入基础是很重要的。</p></blockquote><p id="41fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们系统最基本的模块由代表光学字符识别的“<strong class="ih hj"> OCR </strong>”组成。OCR提供的服务是一种解释和识别数字图像和扫描文档中的文本的技术。另一方面，<strong class="ih hj">对象检测</strong>被描述为根据使用领域的需要和要求定制的程序化过程。为了理解将两种不同技术分层的基础，对象检测嵌入了用于检测卡的各个区域的特征。</p><p id="b0e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该技术系统的主要目标是捡起一张选举卡(选民证)并进行扫描。扫描是在物体检测的帮助下进行的，在物体检测中，一组特定的特征被灌输到程序中，在物体检测的帮助下，程序获得所需的参数，用于进一步分类显示的信息。所提出的方法包括从我们的文档中选择一些独特的参数，从而有助于识别上传的图像是否与所需的文档类型相匹配。</p><p id="0430" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jp">图像的质量直接影响系统的效率，因此上传的图像应该具有良好的质量，以便从中获取信息。</em></p><p id="97bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好的理解。每个文档都有一些使其独一无二的特殊功能。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es jt"><img src="../Images/8cb51c1bd0d889684ec22c16f4be3651.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*eh2vHoZgjojvZMge6BSSOw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated"><strong class="bd kf">选民证</strong></figcaption></figure><blockquote class="jm jn jo"><p id="f823" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">选举或选民证的独有特征有:- </em> </strong></p><p id="89ec" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated"><em class="hi"> 1。图像的左上方有</em> <strong class="ih hj"> <em class="hi">印度国徽</em> </strong> <em class="hi">。</em></p><p id="6763" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated"><em class="hi"> 2。图像的右上方有</em> <strong class="ih hj"> <em class="hi">【印度选举委员会】(符号)</em> </strong> <em class="hi">。</em></p><p id="bbcf" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated"><em class="hi"> 3。在最上面的中央提到了</em> <strong class="ih hj"> <em class="hi">印度选举委员会(text) </em> </strong> <em class="hi">。</em></p></blockquote><p id="b0f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人们必须选择可以训练机器学习模型的特征。我们训练过的模型在上面提到的3个类上玩。为了从我们设计的模型中获得更高的准确性，出于考虑，全息图(在旧版本的选民证上)已被整体取消。所有上述特征使选民证不同于其他证件。</p><h1 id="f093" class="kg kh hi bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">方法论</strong></h1><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ld"><img src="../Images/2f6e6361d0c4d71a8643baea822631cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*vRy9SH53bWsOoBgarWEKLw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">采用的方法</figcaption></figure><h1 id="cd43" class="kg kh hi bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">第1部分:独特特征的检测</strong></h1><p id="6a47" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated"><strong class="ih hj">第一步:定制数据集准备</strong></p><p id="8e4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> I:图像的收集— </strong>收集足够的选民ID的图像，以便可以高效地训练模型。</p><p id="d584" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> II:数据集的预处理— </strong>可以使用任何去噪滤波器去除图像中的噪声，在这种情况下<strong class="ih hj">高斯噪声滤波器</strong>最适合选民身份证图像。</p><p id="28ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> III:注释图像— </strong>在收集了足够多的高质量图像(数据集)后，我们将用我们要为其训练模型的类来标记它。这里用来标注数据集的工具是<em class="jp"/><a class="ae lj" href="https://github.com/tzutalin/labelImg" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jp">LabelImg</em></strong></a>用来进行数据标注，以加快整个过程。这里使用了3个类，即“<strong class="ih hj">会徽</strong>”、“<strong class="ih hj"> ECI文字</strong>”和“<strong class="ih hj"> ECI符号</strong>”。由于已经完成了训练对象检测模型的基本要求，因此向前推进是可行的。</p><div class="ju jv jw jx fd ab cb"><figure class="lk jy ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/080ab2825ce6fb682d22ea5d2075b49d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*WwNmJVyJfs8Q5vDE8i2PrA.png"/></div></figure><figure class="lk jy lu lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/0718bb832c66989e2429b07b1bbffd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*RdPY0oT9A5j-ltCSYbDgRA.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lv di lw lx translated">使用标签的数据集旋转(从google废弃的图像)</figcaption></figure></div><p id="eb33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:</strong> <strong class="ih hj">训练模型— </strong>向前看，为了检测对象，我们可以使用许多不同的算法，如R-CNN、YOLO、更快的RCNN、SSD等。在这里，算法<strong class="ih hj"> tiny-YOLOv3 </strong>被赋予了优于其他算法的优先权，因为它可以更快地检测到物体，而不会影响准确性。我已经使用Darknet神经网络框架来训练我的模型。为了了解更多关于模特的训练，更多更详细的信息已经在<a class="ae lj" href="https://www.spritle.com/blogs/2019/12/20/real-time-custom-object-detection-using-tiny-yolov3-and-opencv/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">这个</strong> </a>平台上讲解过了。</p><p id="0ecf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤III: ROI(感兴趣区域)——</strong>在提取感兴趣区域后，这些步骤进一步涉及特征提取和对象检测算法。下一步是检测和标记选民证特有的特征。这些特征已经非常精确地非常微妙地适应，以便只有特定的区域被整合，并根据我们训练过的模型进行标记。如果未能检测到这些特定特征，它将宣布文件无效(参照选民证),整个程序将结束。</p><h1 id="4d7a" class="kg kh hi bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">第二部分:文本识别</strong></h1><p id="9507" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated"><strong class="ih hj">第一步:输入图像去噪— </strong>准备好数据集并在自定义数据集上成功训练后，可以轻松应用于图像。输入图像的预处理是当前需要的，至于文档的确认和验证，它不应该有任何种类的噪声或干扰。使用高斯滤波器进行去噪。当图像去噪时，将提取ROI(感兴趣区域),这是通过Canny边缘检测算法完成的，它有助于删除任何不需要的数据。</p><p id="e0ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤II:文本提取— </strong>如果在对象检测之后文档是有效的，即现在已经完成了验证，则该过程进入验证部分。文本提取将由<strong class="ih hj"> OCR </strong>(光学字符识别)完成。应用OCR后，估计的结果如下所示。</p><blockquote class="jm jn jo"><p id="6071" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">名字</p><p id="1fde" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">关系的名称</p><p id="38c0" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">史诗数字</p></blockquote><p id="0c2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:验证EPIC编号— </strong>一旦提取了文本，就使用<strong class="ih hj"> LUHN算法</strong>验证EPIC编号，然后与政府数据库进行交叉检查。如果所有条件都满足，那么我们只能说该文件是有效的选民证或选举证。</p><h2 id="d867" class="ly kh hi bd kf lz ma mb kl mc md me kp iq mf mg kt iu mh mi kx iy mj mk lb ml bi translated"><strong class="ak">选民证号码格式- XXX0000000 </strong></h2><blockquote class="jm jn jo"><p id="4203" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated"><strong class="ih hj">史诗编号分解</strong></p><p id="cb67" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">XXX0000000</p><p id="87f6" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">前三个字符- <strong class="ih hj">印度议会选区(字母表)</strong></p><p id="4429" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">前六位数字— <strong class="ih hj">随机数</strong></p><p id="f88a" class="if ig jp ih b ii ij ik il im in io ip jq ir is it jr iv iw ix js iz ja jb jc hb bi translated">最后一位<strong class="ih hj"> —前6位的校验和(使用Luhn算法)</strong></p></blockquote><p id="b9bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lj" href="https://en.wikipedia.org/wiki/Luhn_algorithm" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Luhn算法</strong> </a>，一种简单的校验和验证算法，也被称为Luhn公式、模数10算法，或者mod 10算法。EPIC号的第10位是EPIC号的第4到第9位的校验和。并且校验和与<strong class="ih hj"> LUHN算法</strong>相关联。</p><h1 id="d350" class="kg kh hi bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">测试用例:</strong></h1><p id="88e0" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated"><strong class="ih hj"> 1。检查上传的文件是否为选民证— </strong>在这种情况下，程序将检查上传的文件是否为所需的选民证或任何其他文件。当用户上载任何其他文档而不是选民证时，可能会发生这种情况。因此，在这里，验证部分的过程将进入图片。ECI符号和ECI文本将是这种情况下的标识符。</p><p id="7923" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。上传的选民证是否为原件— </strong>在这种情况下，Luhn算法会检查上传的文件是否为原件。如果没有，会弹出“无效选民证”。</p><p id="c077" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。用户上传他的原始选民ID卡— </strong>在这种情况下，它将接受该文档，因为这是理想情况。</p><h1 id="3e01" class="kg kh hi bd kf ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated"><strong class="ak">样本输出</strong></h1><div class="ju jv jw jx fd ab cb"><figure class="lk jy mm lm ln lo lp paragraph-image"><img src="../Images/ba03bb5df118f037f444415ca93540e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*iKAsq-Js9r0DLkF1si_OyA.png"/></figure><figure class="lk jy mn lm ln lo lp paragraph-image"><img src="../Images/43714c37bdb1ee6ee2c4e50a0e45c3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*4CK1MNSZA4hu6CeF0Fx16Q.png"/><figcaption class="kb kc et er es kd ke bd b be z dx mo di mp lx translated">对象检测模型的输出(从google废弃的图像)</figcaption></figure></div><div class="ab cb"><figure class="lk jy mq lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><img src="../Images/e327fa4a1b405017256c2e48ad8e7e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*rN3vhwZAu_Wzx_CW7jbE6g.png"/></div></figure><figure class="lk jy mr lm ln lo lp paragraph-image"><img src="../Images/b4356802b61438fa6897ed1a9876c537.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*lj1BZvot5vhoowWVTqjISg.png"/></figure><figure class="lk jy ms lm ln lo lp paragraph-image"><img src="../Images/6b5afec41d767d99d1c2bd1697114d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*uTGq1kbalj_OVyZdQnN8Xw.png"/><figcaption class="kb kc et er es kd ke bd b be z dx mt di mu lx translated">OCR工具的输出</figcaption></figure></div></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><p id="3bae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在下面的评论区分享你的想法和主意。</p><p id="6962" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae lj" href="https://www.linkedin.com/in/kritika-ahuja28/" rel="noopener ugc nofollow" target="_blank"> <em class="jp"> LinkedIn </em> </a>上连接我。</p></div></div>    
</body>
</html>