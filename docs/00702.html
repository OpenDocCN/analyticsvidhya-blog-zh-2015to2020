<html>
<head>
<title>Design Patterns- Strategy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设计模式-策略</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/strategy-design-pattern-d5c3d42f485b?source=collection_archive---------2-----------------------#2019-08-29">https://medium.com/analytics-vidhya/strategy-design-pattern-d5c3d42f485b?source=collection_archive---------2-----------------------#2019-08-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0b0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设计模式是软件设计中常见问题的典型解决方案。每个模式就像一个蓝图，您可以定制它来解决代码中的特定设计问题。</p><p id="2b80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设计模式的最大好处之一是，它为开发人员提供了一个谈论软件解决方案的通用词汇。它的确定义了一种全世界开发者都能理解的通用语言</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/158f663876628b96c3f1ae2356f65db9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LOjnzvTIHxGHcCnovWTJXA.jpeg"/></div></div></figure><h1 id="c5a5" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">开始吧！！！</h1><p id="7ed4" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">有一个任务是设计一个鸭塘模拟游戏。这个游戏可以展示各种各样的鸭子在游泳并发出嘎嘎的声音。古老而明显的方法是面向对象的，我们可以设计一个名为<strong class="ih hj"> Duck </strong>的类作为超类，所有其他Duck类型都将从它继承。这解决了我们的问题。不是吗？让我们来看看执行情况。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/e5a07fa312a79bce4b4166a82a03829d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*l-E4py-Iu8rDcBNyqNzDRw.png"/></div></figure><p id="b9fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在一个新的要求来了，那就是——<strong class="ih hj">鸭子要飞！！！</strong></p><p id="4fb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何将飞行融入到我们当前的设计中？由于我们在这里使用了继承，我们可以直接将flying方法放在超类(duck)中，所有其他的Duck类型都可以直接使用它。</p><p id="7286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">就这样:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kt"><img src="../Images/787f40433892f3ed0df0c1eeb786514b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*uV-VgrqGq1GxH8l27YxUfA.png"/></div></figure><p id="3e33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看起来很棒，对吧？但是这个设计有一个很大的问题，假设有橡胶鸭子被引进，它实际上不能飞。但是使用这种设计方法，它们仍然具有fly()功能，因为它们将继承相同的超类。这也打破了接口分离原则，我们的鸭子被迫实现飞行功能。我们最多能做的就是重写橡皮鸭类中的fly方法，让它为空。但是假设我们要维护大量的物种，那么维护代码就会变得非常困难。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ku"><img src="../Images/745e912b4977d6a193ce5d6621b53677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0NmmBg7xA3qII_rqwbnQg.png"/></div></div></figure><p id="22fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">那么我们应该怎么做才能避免这个问题呢？</strong></p><p id="10b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们必须确定是什么导致了问题？在这种情况下，它是一个fly方法，因为不是所有的鸭子都能飞，所以解决方案是将其从Duck类中分离出来，封装在另一个数据结构中，然后使用它。我们应该确保所有其他功能保持不变，因为它们已经结构良好，工作非常好。</p><p id="fa63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道fly()和quack()是鸭子类中不同于鸭子的部分。</p><p id="2dba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了将这些行为从duck类中分离出来，我们将从Duck类中取出这两个方法，并创建一组新的类来表示每个行为。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/c4b686415d1e64cc7a5832705d39add9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*29lJ4KrgnL89-Im_mlLNBg.png"/></div></div></figure><p id="80d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这也使得它可以重复使用。我们将有符合或实现这些行为的类，并且可以和duck类一起使用。因此，让我们看看如何实现它们。见下图了解。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kw"><img src="../Images/9dcd0c08569819844edc060edb8d2f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZEW8YAFY5nicqYUHBDhiQ.png"/></div></div></figure><h2 id="ccca" class="kx jq hi bd jr ky kz la jv lb lc ld jz iq le lf kd iu lg lh kh iy li lj kl lk bi translated"><strong class="ak">有了这些类型的行为，其他类型的对象(除了duck对象)也可以使用这些行为，因为它们不仅仅隐藏在一个Duck类中，这使得可重用性非常高。</strong></h2><p id="1586" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">甚至我们可以添加或修改行为，甚至不需要接触Duck类。</p><p id="19b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们使用Swift中的代码来实现它。</p><h2 id="8e91" class="kx jq hi bd jr ky kz la jv lb lc ld jz iq le lf kd iu lg lh kh iy li lj kl lk bi translated">让我们首先创建行为</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/b830d244041f1a6c01e1167956d8371b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i2o8Yn0bubxVhyiJ0lddXg.png"/></div></div></figure><p id="6ead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经设置了行为，让我们创建实现这些行为的类。(这些也被称为<strong class="ih hj">策略</strong></p><p id="bd7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于飞行-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/b270e92e70a0f03c51489ec465e2a496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_bbzDkgFV-H1w8iu0aF7Ng.png"/></div></div></figure><p id="78b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为嘎嘎叫-</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/49c1f505a8bd93b3f4e4a5d7b8b7c8ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c6_psmjId9YB59i3QvmCmA.png"/></div></div></figure><p id="92ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经设置了所有需要的协议和类，让我们创建duck类。让我们首先创建超类。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/0cb1639bc6d02a2de12bb24997c680fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9EOzOqDdDolhPKocym7TiQ.png"/></div></div></figure><p id="7752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个duck类有fly和quack行为，它们可以通过如下所示的duck类来初始化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/82adf82e186a40454d9012c9dd3c6917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rTo2LdvDgM-OEONgcMOvw.png"/></div></div></figure><p id="0b45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何使用它们？。让我们看看下面…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/6be099bad1154c539d44703cf2eb980f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MRARpmMxv_YGrn5hE46RFA.png"/></div></div></figure><p id="2115" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">产量是多少？…</p><p id="e1d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我不会飞</strong></p><p id="fb9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">吱吱叫… </strong></p><p id="66ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们在这里，用策略模式解决了一个问题。我用一句话给你留下战略模式的定义。</p><blockquote class="lr ls lt"><p id="1cb1" class="if ig lu ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated">策略模式又称为<strong class="ih hj">策略模式</strong>。我们定义了多个算法，并让客户端应用程序将算法作为参数传递。</p></blockquote><p id="ac4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章就到这里，下一篇再见！！</p><p id="ace1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">感谢</strong>！！！！！</p><p id="f272" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考:头先设计图案(本书由</strong> <a class="ae ly" href="https://www.amazon.in/Eric-Freeman/e/B001H6Q032/ref=dp_byline_cont_ebooks_1" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">埃里克·弗里曼</strong> </a> <strong class="ih hj"> ) </strong></p></div></div>    
</body>
</html>