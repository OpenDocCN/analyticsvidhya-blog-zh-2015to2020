<html>
<head>
<title>The Sims 4 Modern Python Modding: Debugging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">模拟人生4现代Python修改:调试</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-sims-4-modern-python-modding-debugging-3736b37dbd9f?source=collection_archive---------7-----------------------#2020-10-01">https://medium.com/analytics-vidhya/the-sims-4-modern-python-modding-debugging-3736b37dbd9f?source=collection_archive---------7-----------------------#2020-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b017" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目前，唯一已知的调试方法是使用PyCharm Pro。回到今年7月28日，Sigma1202发现PyCharm pro有一个可以用来运行代码以添加调试功能的包，Sigma1202研究出了如何在模拟人生4中实现这一点。</p><p id="dbca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个到Sigma1202视频的<a class="ae jd" href="https://www.youtube.com/watch?v=RBnS8m0174U" rel="noopener ugc nofollow" target="_blank">链接，视频解释了这个过程。</a></p><p id="056a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你没有使用我的样板模板，那么上面的链接应该很容易理解，但是我对样板模板做了一个令人兴奋的更新，我增加了自动完成大部分工作的能力。同样，这需要花费金钱的PyCharm Pro，如果你没有使用PyCharm Pro，那么你必须求助于调试模拟人生4代码的老方法。</p><p id="4ba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PyCharm Pro是要花钱的，如果你想现在开始使用，但以前没有使用过，但又不想现在就付费，并测试它是否有效，它会提供免费试用。</p><h2 id="6885" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">Settings.py</h2><p id="bb82" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">增加了一些新的设置。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ke"><img src="../Images/8c7f037f8fc3a6f5cb087b839e97b11b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o9ODnW7cFyI0AMD9dAJuDw.png"/></div></div></figure><p id="87bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是您的PyCharm Pro文件夹的路径。它被设置为版本<code class="du kq kr ks kt b">2020.2.2</code>的默认值。在不久的将来，这可能会更新，所以你可能需要尽快改变这一点。</p><p id="07d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我们再来几个设置<strong class="ih hj">，你一般可以保持原样</strong>。它必须安装2个脚本模块到你的游戏中，这些设置指的是。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ku"><img src="../Images/d287a969484d3dc21481214581e7c00a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZr_kduGqdKM5wRNbvJy9g.png"/></div></div></figure><ul class=""><li id="9ca3" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated"><code class="du kq kr ks kt b">debug_cmd_mod_name</code>是添加游戏内调试命令的mod名称</li><li id="30e9" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><code class="du kq kr ks kt b">debug_capability_name</code>是添加调试功能的mod名称。</li></ul><p id="3e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一个额外的设置<code class="du kq kr ks kt b">debug_cmd_mod_src</code>，它指向添加游戏内调试命令的文件。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es lj"><img src="../Images/64b961c4bdf2478bbfc44e8572857019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*xIEPEFIi5rIGGpk-AY3dkg.png"/></div></figure><p id="2495" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在有两个新的文件，<code class="du kq kr ks kt b">debug_setup.py</code>和<code class="du kq kr ks kt b">debug_teardown.py</code>。</p><p id="beca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编译、打包和安装这两个mod。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lk"><img src="../Images/9986e5511bf61ea18ef65c0d2125b167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HnxGHdSX_GWJjGsBdZ0IvA.png"/></div></div></figure><p id="8d3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它就现在该做什么提供了一套清晰的说明。在游戏中你会发现这两个新的mod文件。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ll"><img src="../Images/d35a5ee3154eb28c8704a4a0863a4918.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*FQmtzeY3kjZ_JMKfL_RvTQ.png"/></div></div></figure><p id="9dbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像说明书上说的，你已经准备好了</p><pre class="kf kg kh ki fd lm kt ln lo aw lp bi"><span id="5785" class="je jf hi kt b fi lq lr l ls lt">Step 1: Create a 'Python Debug Server' configuration In PyCharm Pro from the template using<br/>        IDE host name: localhost<br/>        port: 5678<br/>Step 2: Select debug profile and begin debugging<br/>Step 3: Load up a playable lot in the game<br/>Step 4: Enter the cheatcode 'pycharm.debug'<br/>Step 5: Switch windows to the debugger and hit resume<br/>Step 6: The game and debugger are now connected, you're ready to start debugging!</span></pre><p id="6a0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们遵循前两个说明，这是我们必须自己做的准备工作。对于步骤1，我们需要添加调试配置。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es lu"><img src="../Images/41e3884f878e5ee398ecf3d5d00947c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*WmTrwZy5ery1dJSnWAp-6A.png"/></div></figure><p id="3108" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到<code class="du kq kr ks kt b">Edit Configurations...</code></p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es lv"><img src="../Images/a6c1257be3211bcb6c1f448513a4962f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*Pvxv98SHYEQBvddVfoQZ3w.png"/></div></figure><p id="01a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<code class="du kq kr ks kt b">+</code>按钮，然后点击<code class="du kq kr ks kt b">Python Debug Server</code>。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es lw"><img src="../Images/16c576d18e0f24f5c0e2d3d27fc3285b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*7Yh-Jd4JcMhSNeuKk6ANbw.png"/></div></figure><p id="9200" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以随意命名，将<code class="du kq kr ks kt b">IDE host name</code>和<code class="du kq kr ks kt b">Port</code>设置为消息中显示的内容。</p><p id="db42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们按照步骤2启动调试器。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es lx"><img src="../Images/ffd095755a8a71bd665104d8ba80d9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*mz7qO7rK-PdG1CIFWQZn-A.png"/></div></figure><p id="9e2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从我们刚刚制作的列表中选择您的调试器，然后单击debug图标。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ly"><img src="../Images/b8ff836a4735b31a34fbb574c6ddc0e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8eI9fTeMtiMUPatY5zoGeQ.png"/></div></div></figure><p id="fbbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它现在正在等待游戏伸出手来连接，所以让我们按照步骤3-5。加载一个可玩的游戏并在作弊控制台中输入<code class="du kq kr ks kt b">pycharm.debug</code>。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lz"><img src="../Images/155c9b98cf3e198fd2cb8a8d4a38564c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBJuPa70zSkSASWslEqteg.png"/></div></div></figure><p id="64f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且将窗口切换回编辑器，果然，有许多错误消息</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ma"><img src="../Images/1a6f6931a960f5daa4c1578f4ae56f81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c2WFVKpA1zU8JF7Tzx9k3Q.png"/></div></div></figure><p id="0dff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是让我们按指示点击恢复</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es mb"><img src="../Images/48e677779523ed7ae5c6ddad68af081f.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*HExzENxE1uj3zSu0N8QHEg.png"/></div></figure><p id="7f03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在出现更多的错误消息，这是正常的</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es mc"><img src="../Images/763e96301f26482c9b08885ecc90da7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v8d6yAzOMAooeOTjOYKExg.png"/></div></div></figure><p id="81f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们回到游戏，现在我们看到这条消息</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es md"><img src="../Images/1fe231dae8ea4fda99c3eb27d3db19d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*anBg2EjI0GNFvlUKKl6-WQ.png"/></div></div></figure><p id="fba0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这告诉我们，我们已经准备好了。在这一点上，通过点击行号和代码之间的空间将断点添加到您的游戏模式，一个红点将出现在那里，如下图所示。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es me"><img src="../Images/ff23ee0ddcebad02aafb9d1d3334763c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*mFhuskT-aY3bV1iU4ZTRzA.png"/></div></figure><p id="5f2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着当游戏运行到那一行时，你的mod将会冻结，调试器将允许你开始调试。对于如何调试的帮助，我建议搜索谷歌或只是玩玩和学习。</p><p id="ee0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你完成调试后，关闭游戏，点击停止按钮，在编辑器中停止调试。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es mf"><img src="../Images/a10eeebea6ef4df04784d46059e3454d.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*xXbpHfBH22F9PNJ6uU1lDw.png"/></div></figure><p id="2f5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如在最后的步骤列表中所述，当你完成调试时调用<code class="du kq kr ks kt b">debug_teardown.py</code>,因为否则它只会减慢你的游戏速度。</p><figure class="kf kg kh ki fd kj er es paragraph-image"><div class="er es mg"><img src="../Images/6881300c8a040cd6e1a1754a4dc5ae67.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*ybkeOvwumf3XTyymJ_ewxg.png"/></div></figure><figure class="kf kg kh ki fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es mh"><img src="../Images/fa0072e772bd9c593b5131ff28703459.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9IEVjW3_peNLuNIXO5whA.png"/></div></div></figure><p id="fbdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将删除2个调试模式文件。你现在可以走了。</p><h2 id="8bf0" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">真高兴我开始了样板工程</h2><p id="1fcd" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">能够在同一个编辑器中运行一个脚本来自动设置调试内容真是太好了。我希望你和我一样喜欢它。真正的调试打开了许多大门，否则没有一个合适的调试器是很痛苦或不可能的。</p><p id="b4e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我讨厌它需要一个付费的编辑来做这件事，但这是我们现在所拥有的一切，它比以前的选择好得多。</p><p id="d979" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">再次感谢Sigma1202解决了这个问题。</p></div></div>    
</body>
</html>