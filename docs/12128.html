<html>
<head>
<title>London Restaurant Recommender with SparkALS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带火花的伦敦餐厅推荐</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/london-restaurant-reccomender-with-sparkals-f53b93d95dd7?source=collection_archive---------18-----------------------#2020-12-31">https://medium.com/analytics-vidhya/london-restaurant-reccomender-with-sparkals-f53b93d95dd7?source=collection_archive---------18-----------------------#2020-12-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/9bb77252cbee7b75c9701c4aed6491cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hc5U1uP3N8gX5qts"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><a class="ae it" href="https://unsplash.com/@magicetea?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">冰茶</a>在<a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="b2eb" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">我推荐你在看这篇文章之前先看一下我之前的文章</em><a class="ae it" rel="noopener" href="/analytics-vidhya/restaurant-reviews-sentiment-analysis-and-reccomendation-9bdf31a0b20"><em class="js"/></a><em class="js">。我的数据集几乎是一样的，你只会看到一些新的栏目和新的餐馆。</em></p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="d53f" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">我们来定义一下这个问题:</strong></h1><p id="7f65" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">也许你正在考虑在伦敦吃一顿丰盛的晚餐？还是在找一个可以喝咖啡、享受咖啡的地方？也许你在找一个可以喝酒的地方？嗯，通过对你以前去过或去过的5家餐馆进行评级，提出3个新的建议怎么样？那么这篇文章是在召唤你。:)(当然，我强烈建议你电晕期间呆在家里，为了健康点。)</p><h1 id="bc6a" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated"><strong class="ak">解决方案</strong>:</h1><p id="6a0c" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">用ALS构建基于协作的推荐系统。</p><p id="f405" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我手上的数据是tripAdvisor上的伦敦餐厅数据。这一次，我既增加了我在以前的项目中使用的数据集，又添加了新的功能。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/73e4bbb6c2a4e7f475d0adb78b24b0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYJaD6H5tjcWCVkOmwQ0Lw.png"/></div></div></figure><h1 id="e5d0" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated"><strong class="ak">数据采集</strong>:</h1><p id="9033" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">我添加的新列是餐馆链接、餐馆类型和伦敦邮政编码数据。总之，对数据的一般看法如下。</p><p id="3bf8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我在推荐系统中搜集了我必须使用的餐馆的链接和类型。事实上，我也想看看我在误差指标之外做出的预测有多少适合用户的口味。</p><p id="99ac" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">由于我也有餐馆的邮政编码，我认为这是一个浏览餐馆位置的好机会，所以我将它们包含在伦敦邮政编码数据中。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/efe4e037613b6109480d4793634e511e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOvLmwM44ZyrjknTV4KktQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">db表示MongoDB中的表</figcaption></figure><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/3029f5f24482de40a426ef553583304a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72II3SdSn8oN2RO1rh9f1g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">餐厅类型</figcaption></figure><p id="8e78" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我提取了我所拥有的位置数据中的邮政编码，并将它们与这个数据集结合起来，以查看它们的位置。我看了一下这些地区的评级分布。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/14dc2bad16f85015d24da7fc755323cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*tLOZWRhR-QNicWve0e05-Q.gif"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">按地点划分的评级分布</figcaption></figure><p id="516d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">5级餐厅一般出现在离中心更远的地方，但一般只有一个地方是你看到的餐厅集中的地方。在进入推荐系统之前，我想再多检查一下数据。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div class="er es lq"><img src="../Images/1a46d89e2623cb4b640698bccc17fbd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:300/0*VloFiMSV-Cge3Fn4"/></div></figure><p id="b4ec" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我拥有的餐厅数量是17249家，评论数量是508612条，我收集的用户数量是257735条。在我的数据中，并不是所有的餐馆类型都会出现，也有超过100种餐馆类型。我将其减少到25种类型，并根据用户评论填充了空的餐馆类型。</p><p id="a0ec" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一个餐馆至少可以有一种类型，而有些餐馆可能不止有一种类型。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lr"><img src="../Images/b62ef9e0565832bceccbd209f070559b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ywh02m511EPntw67"/></div></div></figure><p id="1cd8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我过滤餐馆以获得至少10个投票，过滤用户投票以获得至少10个餐馆以获得更好的模型结果。(我的数据稀疏度是%99，然后我设法将其降低到99.74，这很好。)</p><h1 id="c5cd" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated"><strong class="ak">推荐</strong></h1><p id="3648" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">基于协作的推荐系统有3个重要特征。用户、评级和餐馆名称。起初，我试图用ML调优找到最佳参数。</p><figure class="lj lk ll lm fd ii"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="046b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我将用于我的最佳模型的参数:</p><p id="3319" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">排名:200</p><p id="9e02" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">马克西特:10</p><p id="3fc2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">RegParam: 0.01</p><p id="e0d8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">富豪榜:0.01</p><figure class="lj lk ll lm fd ii"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="2314" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我在推荐系统中的RMSE分数是1.73。嗯，还不错。然后我想给一个随机的用户提建议。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/aea3eb4f57f4b7dc08980b168edc602e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8T17zQTHeoH3pyBePXWqSQ.png"/></div></div></figure><p id="7182" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我觉得我们的思路是对的，因为我们在前两个选择中向一个喜欢泡吧的人推荐了一家酒吧。</p><h1 id="6b97" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated"><strong class="ak">造烧瓶App </strong></h1><p id="917d" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">我在flask应用程序中使用管道来自动化工作流。</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/4340ebdca6aafb6bb84ce0259a83b12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7s7bE8W6Pf0WluNCCuBaWQ.png"/></div></div></figure><figure class="lj lk ll lm fd ii"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="a145" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后是我的项目！</p><figure class="lj lk ll lm fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lw"><img src="../Images/d6bfe85473fc413f00041c9d955e6577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6a4ji4-u6vDyN6u2TW9Dvw.gif"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">我的烧瓶应用程序</figcaption></figure><p id="8751" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是<a class="ae it" href="https://github.com/aybukemeydan/Collaborative-Based-Recommender-for-London-Restaurants" rel="noopener ugc nofollow" target="_blank">我在伊斯坦堡数据科学院的最后一个项目</a>。我要感谢Zekeriya be irolu的这次有益的培训。</p><p id="8cc3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">祝大家新年快乐！</p><p id="085b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可以在<a class="ae it" href="https://www.linkedin.com/in/ayb%C3%BCke-meydan-330363162/" rel="noopener ugc nofollow" target="_blank"> linkedin </a>和<a class="ae it" href="https://github.com/aybukemeydan" rel="noopener ugc nofollow" target="_blank"> github </a>上找到我。</p></div></div>    
</body>
</html>