<html>
<head>
<title>A Beginners Guide to Time profiling in Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python时间剖析初学者指南。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-beginners-guide-to-time-profiling-in-python-c2422c35faa7?source=collection_archive---------12-----------------------#2020-06-27">https://medium.com/analytics-vidhya/a-beginners-guide-to-time-profiling-in-python-c2422c35faa7?source=collection_archive---------12-----------------------#2020-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="def5" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">编写python代码给了我们强大的力量，通过简单的编程来展示我们的想法，但是就像有人正确地说的那样“强大的力量带来巨大的责任”。因为python是一种高级的基于参数的语言，所以总是需要检查时间复杂度和代码剖析。这个博客系列将主要关注使用<code class="du jh ji jj jk b"><em class="hi">ipython magic methods</em></code>来做同样的事情。</p></blockquote><p id="3f61" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated"><strong class="il hj">第一部分)。使用</strong> <code class="du jh ji jj jk b"><strong class="il hj">%timeit</strong></code> <strong class="il hj">进行仿形。</strong></p><p id="ba63" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">当我们用python编写一个简单的代码块时，当我们需要从众多可供选择的代码中选择一个时，我们通常会停滞片刻。例如，我们需要声明一个变量并将其赋给一个空列表，然后我们可以将其定义为<code class="du jh ji jj jk b">variable = list()</code>或<code class="du jh ji jj jk b">variable = []</code>。在开始对代码进行时间分析之前，让我们试着再理解一个例子。</p><p id="93b2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">现在，让我们假设我们需要创建一个包含数字0-50的列表。为此，我们可以使用类似于:</p><pre class="jo jp jq jr fd js jk jt ju aw jv bi"><span id="e51a" class="jw jx hi jk b fi jy jz l ka kb">new_list = list()<br/>for num in range(0,51):<br/>    new_list.append(num)</span><span id="4416" class="jw jx hi jk b fi kc jz l ka kb">******************or********************</span><span id="b63a" class="jw jx hi jk b fi kc jz l ka kb">new_list = [num for num in range(0,51)]</span><span id="4322" class="jw jx hi jk b fi kc jz l ka kb">******************or********************</span><span id="8c6e" class="jw jx hi jk b fi kc jz l ka kb">new_list = [*range(0,51)]</span></pre><p id="0425" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">现在的问题是:<strong class="il hj">就所需时间而言，哪种代码是最高效的？</strong></p><p id="a4c9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">有一些<code class="du jh ji jj jk b">ipython magic</code>方法可以很方便地用来解决这类问题。不知道<code class="du jh ji jj jk b">ipython</code>的，可以参考这个<a class="ae kd" href="https://www.codecademy.com/articles/how-to-use-ipython" rel="noopener ugc nofollow" target="_blank">链接</a>。我们可以用IPython magic命令<code class="du jh ji jj jk b"><a class="ae kd" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html" rel="noopener ugc nofollow" target="_blank">%timeit</a>.</code>计算运行时间</p><p id="43fd" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">先来看几个使用<code class="du jh ji jj jk b">%timeit</code>的例子，然后我们就明白这个神奇的方法了。</p><figure class="jo jp jq jr fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ke"><img src="../Images/d547432684fc37cdb792f26ac4a3a92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BaF0PCs-Jv8SFCcJ0S7fKA.png"/></div></div></figure><p id="872a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">当代码块运行7次10000000次循环时，输出显示“平均值和标准偏差”。正如你所看到的，当我们使用<code class="du jh ji jj jk b">[]</code>创建一个空列表时，它实际上比使用<code class="du jh ji jj jk b">list()</code>创建要花费更少的时间，但是你应该在使用<code class="du jh ji jj jk b">[]</code>或<code class="du jh ji jj jk b">list()</code>之前理解列表的可变性。您可以通过分别设置标志(-r )/( -n)来指定运行/循环的次数。</p><figure class="jo jp jq jr fd kf er es paragraph-image"><div class="er es km"><img src="../Images/5818776a8e1c1bf582200c7aa470fc3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*YWSgqLFgWullPTo9miCDdw.png"/></div></figure><p id="3042" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">对于多行代码的时间分析，我们可以使用<code class="du jh ji jj jk b">%%timeit</code>。让我们用这个来检查下面代码所用的时间。</p><figure class="jo jp jq jr fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kn"><img src="../Images/9b6137b75d8ec37a7b4bf8d4f0237c3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWgb0U-ug860D6TUQShJBg.png"/></div></div></figure><p id="3abe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">很明显，列表理解比编写简单的<code class="du jh ji jj jk b">for</code>循环要好得多。然而，对于上述问题，使用星号(<code class="du jh ji jj jk b">*</code>)解包<code class="du jh ji jj jk b">range object</code>要比使用列表理解好得多。</p><p id="6498" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">雅虎！！！我们今天在时间剖析的背景中学到了一些新东西。让我们在本系列的下一部分见面，并学习更多python中时间剖析的神奇方法。直到那时再见，继续学习。</p><p id="24fe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jl iv iw ix jm iz ja jb jn jd je jf jg hb bi translated">请在这里找到<a class="ae kd" rel="noopener" href="/@ranjanankur334/part-2-a-beginners-guide-to-time-profiling-in-python-c56f71401b31?source=friends_link&amp;sk=a8880ff6e215b19a2ccd8731114d2c24"> <strong class="il hj">第二部</strong> </a>。</p></div></div>    
</body>
</html>