<html>
<head>
<title>R-Square(R²) and Adjusted R-Square</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R平方(R)和调整后的R平方</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/r-square-r%C2%B2-and-adjusted-r-square-63b77d4a6bd7?source=collection_archive---------12-----------------------#2020-01-02">https://medium.com/analytics-vidhya/r-square-r%C2%B2-and-adjusted-r-square-63b77d4a6bd7?source=collection_archive---------12-----------------------#2020-01-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/14c90e765677a5ca2ac0304320ab80e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aDXOeaXRrZZXMUIvYAAgHA.jpeg"/></div></div></figure><div class=""/></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="362d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">大家好，今天我们将讨论R-Square和调整的R-Square，所以为了获得更多关于你的线性模型的知识，请留在这里。任何回归练习的目标都是解释因变量y的变化。就回归模型而言，下一步是评估模型性能，并了解我们的模型相对于基准模型有多好。</p><p id="4f7a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在这篇博客中，我们将讨论下面提到的事情:</p><ul class=""><li id="3a41" class="jv jw ht iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated"><strong class="iz hu">什么是R？</strong></li><li id="a139" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated"><strong class="iz hu">如何计算R？</strong></li><li id="c420" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated"><strong class="iz hu">R .的范围</strong></li><li id="7eec" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated"><strong class="iz hu">什么是好的R值？</strong></li><li id="be8b" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated"><strong class="iz hu">R的限制</strong></li><li id="e5b3" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated"><strong class="iz hu">调整后的R . </strong></li></ul><h1 id="1b22" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">R是什么</h1><p id="6222" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">R-square(R)也称为<em class="lm">决定系数</em>，它是由自变量x解释的Y的变化比例。它是模型拟合优度的度量。</p><p id="44a5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果R为0.8，这意味着80%的输出变化可以用输入变量来解释。因此，简单来说，R越高，输入变量解释的变化就越多，因此你的模型就越好。</p><h1 id="64cb" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">如何计算R-square (R)？</h1><p id="8492" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">r是<strong class="iz hu"><em class="lm"/></strong>残差平方和与<strong class="iz hu"><em class="lm"/></strong><em class="lm">总平方和之比。</em></p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es ln"><img src="../Images/4cf45788a19960eea8fa52df14f06da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*TYqbBBYPAF-9ODVl8UBJtw.png"/></div></figure><ul class=""><li id="d5df" class="jv jw ht iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">SSR(残差平方和)是实际观测值(y)和预测值(y^)之差的平方和</li><li id="f7a6" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd bi translated">SST(总平方和)是实际观察值(y)和观察值平均值(yavg)之差的平方和</li></ul><p id="287f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">让我们借助一个例子来理解这些术语。考虑一个简单的例子，我们观察到一个人的经历如何影响薪水。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es ls"><img src="../Images/4799f8f742fa34bcd1ade2829f22c932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*PD6a_rBD1ObsD3ujL893fA.png"/></div></figure><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es lt"><img src="../Images/c026fda5adda8f0df7980d33b3244962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*hIWi0QYgZmFITl12B16SYw.png"/></div></figure><p id="688e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我们有一条黑线，它是一条回归线，描绘了相对于x轴上的体验，工资的预测值位于何处。星星代表工资的实际值，即相对于经验观察到的y值。十字标记代表y^.表示的经验观察值的工资预测值</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es lu"><img src="../Images/31bf10d5afac65d439ac344e1d7fee1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*idjB6kCt3cmj44q33TPqTQ.png"/></div></figure><p id="c358" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">其中n是观察次数。</p><blockquote class="lv lw lx"><p id="05f1" class="ix iy lm iz b ja jb jc jd je jf jg jh ly jj jk jl lz jn jo jp ma jr js jt ju hb bi translated"><em class="ht">注:SSR是回归线的最佳拟合标准。也就是说，回归算法通过绘制随机线并比较每条线的SSR，为给定的一组观察值选择最佳回归线。SSR值最小的线是最佳拟合线。</em></p></blockquote><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es mb"><img src="../Images/5d64a26a601275797d9803b8c2bbf155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*vOpV9oti769Ap2Ma54VzeQ.png"/></div></figure><p id="14f9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">上图中的黑线表示平均工资相对于经验的位置。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/240798a2912274c31a3de30bb1355786.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/0*sf3TibvRHsRbSNPe.png"/></div></div></figure><p id="2ee7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">r的平方现在可以通过下式计算:</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es ln"><img src="../Images/4cf45788a19960eea8fa52df14f06da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*TYqbBBYPAF-9ODVl8UBJtw.png"/></div></figure><h1 id="548e" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">R平方的范围(R)</h1><p id="64af" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">一般说R的取值范围是0到1，其实是<strong class="iz hu"><em class="lm">(-无穷大)到1。</em>T29】</strong></p><p id="2d0a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">R <strong class="iz hu"> =0 :- </strong>表示回归线与数据拟合不佳。即X和y之间没有线性关系</p><p id="7a1f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">R <strong class="iz hu"> = 1 :- </strong>它表示完全合适</p><p id="a5d5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">R <strong class="iz hu"> =负:- </strong>当预测太差，残差平方和变得大于总平方和时为负。</p><blockquote class="lv lw lx"><p id="ca6e" class="ix iy lm iz b ja jb jc jd je jf jg jh ly jj jk jl lz jn jo jp ma jr js jt ju hb bi translated">负的R平方意味着什么？</p><p id="9f0b" class="ix iy lm iz b ja jb jc jd je jf jg jh ly jj jk jl lz jn jo jp ma jr js jt ju hb bi translated">这意味着模型的表现比每次预测平均值的水平线差。</p></blockquote><h1 id="12bd" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">什么是好的R值？</h1><p id="39ac" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">值<em class="lm"> 0表示因变量根本不能用自变量来解释。</em></p><p id="7ef1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">值<em class="lm"> 1表示因变量可以被自变量完美地解释</em>而没有错误。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es md"><img src="../Images/696ef63ecbd9539930a16deb48d715d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*S6iHz9gTqNrka1NJjCjzgQ.jpeg"/></div><figcaption class="me mf et er es mg mh bd b be z dx translated"><em class="mi">从左向右增加</em>R<em class="mi"/></figcaption></figure><p id="96fb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">现在考虑一种假设情况，即所有预测值都与数据集中的实际观察值完全匹配。在这种情况下，对于所有观测值，y将等于y^，因此导致<em class="lm"> SSR等于零</em>。所以R = 1。</p><p id="e7ea" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在另一种情况下，如果预测值远离实际观测值，SSR将向无穷大增加。这将增加SSR/SST的比值，从而导致R平方值减小。R = -ve。</p><p id="a62e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，R将帮助我们确定模型的最佳拟合。R越接近1意味着回归越好。</p><h2 id="189a" class="mj kk ht bd kl mk ml mm kp mn mo mp kt ji mq mr kx jm ms mt lb jq mu mv lf mw bi translated"><strong class="ak">R平方何时为负？</strong></h2><p id="0528" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">外表可能具有欺骗性。r实际上不是任何东西的平方。虽然令人惊讶的是看到被称为“平方”的东西有负值，但这不是不可能的<em class="lm"> </em> <strong class="iz hu"> <em class="lm">(因为R实际上不是R的平方)</em> </strong> <em class="lm">。</em></p><p id="8ac3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">当最佳拟合直线或曲线在拟合数据方面表现不佳时，r将为负。这种情况只会发生在您选择了一个很差的模型(可能是错误的)，或者您对模型应用了没有任何意义的约束(可能您在想要输入负数的时候输入了正数)。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es mx"><img src="../Images/2c572b56b509f259279571f625d004f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*veWAZGE4TR13fhc_xlmLVQ.png"/></div><figcaption class="me mf et er es mg mh bd b be z dx translated">例子</figcaption></figure><p id="62b7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">以上是一个简单的例子。当X=0时，蓝线是约束为在Y=150处与Y轴相交的直线拟合。SSR是红点到这条蓝线的距离的平方和。SST是红色点到绿色水平线距离的平方和。由于SSR比SST大得多，R(对于蓝线的拟合)为负。</p><p id="88f9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果R为负，请检查您是否选择了合适的模型，并正确设置了任何约束。</p><h1 id="0adc" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="ak">R的限制</strong></h1><p id="e5e4" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">如上所述，我们考虑了一个简单的例子，其中我们有两个变量<strong class="iz hu"> <em class="lm">经验</em> </strong>和<strong class="iz hu"> <em class="lm">薪水。我们根据员工的经验来预测工资。r和回归可以计算如下:</em></strong></p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es my"><img src="../Images/60ac8e91d8d20c7e7f34915357681c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*2dce6vvIg-CCTiMksRVkIQ.png"/></div></figure><p id="c50d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">还有一个问题是，如果我们在第二个方程中加入另一个变量。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es mz"><img src="../Images/5457f073d9326bc70d82ec059216c20d.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*BWayvIbmDtErgwRlhKdelg.png"/></div></figure><p id="dbdd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">一旦我们向我们的模型<strong class="iz hu">添加了一个新变量，SSR </strong>将最小化，SST 将不受影响，那么<strong class="iz hu"> (SSR / SST ) </strong>将减少。所以R <strong class="iz hu">的值</strong>会增加。这是R的极限，当我们加入变量时，R永远不会减少。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es na"><img src="../Images/952e7b35afff070b8789b596e767dac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H5CMIn_EOznvGeKXFLcB7Q.png"/></div></div></figure><p id="2e6e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">所以在加入变量后，你不会发现它会如何影响你的模型，因为R不会减少，它会增加。因此，为了克服这个问题，我们使用调整后的R。</p><h1 id="06bb" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">调整后R</h1><p id="811e" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hb bi translated">与R相同，调整后的R衡量因变量的变化。</p><p id="1471" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">调整后R平方的公式:</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es nb"><img src="../Images/45a4410cf78caafe0b9e67ff5334fb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*zgv0nuLuzd-o-ufe19VrzQ.png"/></div><figcaption class="me mf et er es mg mh bd b be z dx translated">调整后的R公式</figcaption></figure><p id="d995" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">当R随着变量的增加而增加时，分数n-1/n-p-1随着变量的增加而增加。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nc"><img src="../Images/c2819d157b7e12682e03ba7da5e21fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UELs0vY3uRJreeWha8s9rg.png"/></div></div></figure><p id="8b2a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，调整后R的概念增加了回归变量的成本。因此，当变量添加到回归中时，调整后的R-square可能会减少。</p><p id="3f4c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，仅当增加的变量相关时，调整后的R才会增加。</p><blockquote class="lv lw lx"><p id="8b9d" class="ix iy lm iz b ja jb jc jd je jf jg jh ly jj jk jl lz jn jo jp ma jr js jt ju hb bi translated">请注意，调整后的R始终小于或等于R。</p></blockquote><p id="0fd3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因此，在衡量模型的拟合优度时，建议使用调整后的R而不是R。</p><p id="9aed" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">所以这是关于R和调整后的R，我希望你喜欢这个！👍</p><p id="c7de" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果您有任何问题或建议，请告诉我！</p><p id="48c2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">谢谢大家！😊</p></div></div>    
</body>
</html>