<html>
<head>
<title>Exploratory Data Analysis — Haberman’s Survival Data Set</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析——哈伯曼的生存数据集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploratory-data-analysis-habermans-survival-data-set-f402fb9cf910?source=collection_archive---------0-----------------------#2018-12-08">https://medium.com/analytics-vidhya/exploratory-data-analysis-habermans-survival-data-set-f402fb9cf910?source=collection_archive---------0-----------------------#2018-12-08</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><figure class="ew ey ih ii ij ik es et paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="es et ig"><img src="../Images/d2a8531436349462da64355de8f382fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rDuICIXl10H4xGTT"/></div></div><figcaption class="ir is eu es et it iu bd b be z dy translated">Jair Lázaro 在<a class="ae iv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="4d95" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">探索性数据分析是机器学习中最重要的步骤(它是机器学习中的重要步骤，也是基础和起点)。<strong class="iy hk"> <em class="ju">不执行EDA，解决一个机器学习问题是没有用的。</em> </strong></p><p id="507c" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">在这篇博客中，我们将首先看看为什么EDA？，EDA的价值，EDA的方法，为什么跳过EDA是坏主意，然后举个例子，看看我们能从EDA中推断出什么。</p><h2 id="ce08" class="jv jw hj bd jx jy jz ka kb kc kd ke kf jh kg kh ki jl kj kk kl jp km kn ko kp bi translated">探索性数据分析(EDA)有助于回答所有这些问题，确保项目取得最佳成果。</h2><blockquote class="kq kr ks"><p id="7a58" class="iw ix ju iy b iz ja jb jc jd je jf jg kt ji jj jk ku jm jn jo kv jq jr js jt hc bi translated">如何确保你准备好在项目中使用机器学习算法？</p><p id="1fe1" class="iw ix ju iy b iz ja jb jc jd je jf jg kt ji jj jk ku jm jn jo kv jq jr js jt hc bi translated">如何为你的数据集选择最合适的算法？</p><p id="0de0" class="iw ix ju iy b iz ja jb jc jd je jf jg kt ji jj jk ku jm jn jo kv jq jr js jt hc bi translated">如何定义潜在可用于机器学习的特征变量？</p></blockquote><p id="acce" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">EDA是一种总结、可视化和熟悉数据集重要特征的方法。</p><h1 id="4896" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">EDA的价值</h1><p id="43ca" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">探索性数据分析对数据科学项目很有价值，因为它可以更接近于确定未来的结果将是有效的、正确解释的，并且适用于期望的业务环境。只有在对原始数据进行验证和异常检查后，才能达到这种确定性水平，确保收集的数据集没有错误。EDA还有助于发现对业务利益相关者和数据科学家来说不明显或不值得研究的见解，但对于特定业务来说，这些见解可能非常有用。</p><p id="77af" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">执行EDA是为了定义和细化将用于机器学习的特征变量的选择。一旦数据科学家熟悉了数据集，他们通常不得不返回到特征工程步骤，因为最初的特征可能不符合他们的预期目的。一旦EDA阶段完成，数据科学家就获得了他们进行监督和非监督机器学习所需的坚实的功能集</p><h1 id="3d4b" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">探索性数据分析方法</h1><ol class=""><li id="167a" class="ls lt hj iy b iz ln jd lo jh lu jl lv jp lw jt lx ly lz ma bi translated">单变量分析-提供原始数据集中每个字段的汇总统计数据</li><li id="510b" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">双变量分析-用于查找数据集中每个变量与感兴趣的目标变量之间的关系。</li><li id="b0fb" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">多元分析-用于了解数据集中不同字段之间的相互作用。</li><li id="6fdb" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">降维—有助于理解数据中导致观察值之间最大差异的字段，并允许处理减少的数据量。</li></ol><p id="6ad4" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">为什么跳过EDA是个坏主意？</p><p id="fee0" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">为了快速进入机器学习阶段或给业务利益相关者留下深刻印象，数据科学家往往要么完全跳过探索过程，要么做非常肤浅的工作。</p><ol class=""><li id="df32" class="ls lt hj iy b iz ja jd je jh mg jl mh jp mi jt lx ly lz ma bi translated">生成不准确的模型</li><li id="bb52" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">在错误的数据上生成精确的模型</li><li id="3384" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">为模型选择错误的变量</li><li id="0b3f" class="ls lt hj iy b iz mb jd mc jh md jl me jp mf jt lx ly lz ma bi translated">资源的低效使用，包括模型的重建</li></ol><p id="6768" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">如果我们不执行EDA，这些是一些缺点。</p><p id="3df8" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">It (EDA)一方面用于回答问题、测试业务假设、为进一步分析生成假设。另一方面，也可以用它来为建模准备数据。</p><h1 id="287e" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">例如:哈伯曼生存数据集上的EDA</h1><p id="c462" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">该数据集在kaggle中可用。</p><h1 id="0e33" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">关于数据集:</h1><p id="41b5" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">该数据集包含1958年至1970年间在芝加哥大学比林斯医院进行的一项关于乳腺癌手术患者<strong class="iy hk"> <em class="ju">存活率的研究案例。</em>T3】</strong></p><p id="165c" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">属性信息(关于特性)</strong>:</p><p id="ab6f" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">特征-1 </strong>:手术时患者的年龄</p><p id="60c8" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">特征-2 </strong>:患者手术年份(1900年)</p><p id="1686" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">特征-3 </strong>:检出阳性腋窝淋巴结数</p><p id="5e86" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">功能-4 </strong>:生存状态</p><p id="301b" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">1级=患者存活了5年或更长时间</p><p id="16e7" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">第2类=患者在5年内死亡</p><p id="144b" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">由于特征-4是一个类变量，它是所有其他三个特征的结果，它也可以被认为是一个从属特征，而特征-1，2，3是独立特征</p><h1 id="c0fb" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">目标:</h1><p id="03ec" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">如果给出一个新的观察值，那么我们需要根据它的独立特征来分类它是属于类别1还是类别2。</p><h1 id="ca86" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">此数据集上的EDA:</h1><p id="1f04" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">1.加载数据集，查看数据集中的前5个观察值，并找出数据集的形状。</p><figure class="mk ml mm mn fe ik es et paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="es et mj"><img src="../Images/ae70e2abf4af019093032c0f6676a32f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DAXU0OHQgvTfRgDNa5Z6fA.jpeg"/></div></div><figcaption class="ir is eu es et it iu bd b be z dy translated">加载数据集，查看数据集中的前5个观察值，并找出数据集的形状</figcaption></figure><p id="f558" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">2.<strong class="iy hk"> <em class="ju">多元分析</em> </strong></p><p id="b99f" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">查找类变量(target_variable)(每个类)的计数。从下图可以明显看出，这是一个不平衡的数据集。</p><figure class="mk ml mm mn fe ik es et paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="es et mo"><img src="../Images/011ff099c3236b36969894b3fa8ccc44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vKKiEFrCviCNxYP8MmBNA.jpeg"/></div></div></figure><p id="0851" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">关于目标变量的所有特征的分析</p><figure class="mk ml mm mn fe ik es et paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="es et mp"><img src="../Images/b0e3a52df4fadc7ea5dfab0256737a07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pg3tydgOgc1BhQ0ceb5WiA.jpeg"/></div></div><figcaption class="ir is eu es et it iu bd b be z dy translated">配对图(相对于目标变量绘制在所有特征上)</figcaption></figure><p id="a0c2" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">从上图可以明显看出</p><p id="155b" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">我们无法根据数据集中的任何两个要素对给定观测值(新观测值)进行分类，因为在每个散点图(三个图中)中，数据点不以任何方式分开(不以线性方式分开)。</p><p id="a703" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">让我们尝试对所有三个独立特征进行单变量分析</strong></p><p id="c664" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">由于有三个独立的特征，我们将对每个特征进行单变量分析，看看我们是否能从中获得任何有用的结果。</p><p id="3902" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk"> <em class="ju">需要了解的重要术语:</em> </strong></p><p id="15dd" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><a class="ae iv" href="https://en.wikipedia.org/wiki/Probability_density_function" rel="noopener ugc nofollow" target="_blank"> PDF </a>(概率密度函数):PDF用于指定<a class="ae iv" href="https://en.wikipedia.org/wiki/Random_variable" rel="noopener ugc nofollow" target="_blank">随机变量</a>落在特定值范围内<em class="ju">的概率，而不是取任何一个值。该概率由该变量的PDF在该范围内的<a class="ae iv" href="https://en.wikipedia.org/wiki/Integral" rel="noopener ugc nofollow" target="_blank">积分</a>给出——也就是说，它由密度函数下方、水平轴上方以及该范围的最低值和最大值之间的面积给出</em></p><p id="6794" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><a class="ae iv" href="https://en.wikipedia.org/wiki/Cumulative_distribution_function" rel="noopener ugc nofollow" target="_blank"> CDF </a>(累积分布函数):CDF是pdf '的累积和。它有助于确定在给定的点上低于或高于等级的百分比。</p><figure class="mk ml mm mn fe ik es et paragraph-image"><div class="es et mq"><img src="../Images/6dcffb34a5309453ef59c94005be5fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*eRKiTiOBKxIrSBPCfixLoA.jpeg"/></div><figcaption class="ir is eu es et it iu bd b be z dy translated">“年龄”特征的单变量分析图(特征1)</figcaption></figure><figure class="mk ml mm mn fe ik es et paragraph-image"><div class="es et mr"><img src="../Images/9d44845a476c5e0a04350eecf6582e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*ea8DIai9Mn5xvDoMLZ9d6Q.jpeg"/></div><figcaption class="ir is eu es et it iu bd b be z dy translated">“运行年份”特征的单变量分析图(特征2)</figcaption></figure><p id="5795" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">从上面两幅图我们可以推断出</strong></p><p id="3833" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">在特征‘运行年份’和‘年龄’的直方图中，两个图的PDF显示，两个类别(‘存活&gt; = 5年’和‘存活&lt;5yrs’) overlapped (almost they are top on each other). So, we cannot consider both features as useful feature for our <strong class="iy hk"> <em class="ju">)目标。</em>T15】</strong></p><figure class="mk ml mm mn fe ik es et paragraph-image"><div class="es et ms"><img src="../Images/0ff2dc20fd2dd3d64245fabdd6c6eb0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*xPpd5qfPsP1SvlAFa9Hx-w.jpeg"/></div><figcaption class="ir is eu es et it iu bd b be z dy translated">“腋窝淋巴结”特征的单变量分析图(特征3)</figcaption></figure><p id="f221" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><strong class="iy hk">而在该直方图中，特征“腋窝节点”被标绘</strong>。尽管在两个PDF类别之间有轻微的重叠(存活了&gt;= 5年和存活了&lt;5年),但是与其他两个特征相比，有可能基于该特征对结果进行分类。</p><p id="ccde" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">为了更详细的分析，我们将绘制<strong class="iy hk"> <em class="ju"> CDF和</em> </strong>的盒须图，用于特征‘腋窝节点’</p><h1 id="e367" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">腋窝淋巴结特征的CDF和PDF(特征-3)</h1><figure class="mk ml mm mn fe ik es et paragraph-image"><div class="es et mt"><img src="../Images/28b7f8c3869b3e5fdfe7884b5699456b.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*J-6SB5RWuqufFnX1X-3CBg.jpeg"/></div><figcaption class="ir is eu es et it iu bd b be z dy translated">腋窝淋巴结特征的CDF和PDF</figcaption></figure><p id="f91b" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">在该图中，我们可以观察到两个pdf之间有重叠。</p><p id="55eb" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">即使两者之间有重叠。当我们将阈值固定为“5”(腋窝淋巴结计数为5)时，如果我们需要根据这一特征对新患者进行分类，那么我们可以预测他是否能“存活5年或超过5年”，因为从“存活5年”类别的CDF来看，只有45%的观察值为该值。</p><h1 id="76e5" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">盒须图</h1><figure class="mk ml mm mn fe ik es et paragraph-image"><div class="es et mu"><img src="../Images/256a13c6350d03e213b5b59ba743d17b.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*fTiAoyEcYUzdjDubfh8OBQ.jpeg"/></div><figcaption class="ir is eu es et it iu bd b be z dy translated">目标变量的盒须图</figcaption></figure><p id="de83" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">从该图可以明显看出,“存活&gt; = 5年”类别中有75%的腋淋巴结计数值小于5。大概不到4。</p><p id="2beb" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">这个班幸存了5年。从这个类的箱线图中，可以看出它的大部分值(腋淋巴结计数)是' &gt; 6和&lt;12’ (between 50th percentile and 75th percentile) of this class.</p><h1 id="57e9" class="kw jw hj bd jx kx ky kz kb la lb lc kf ld le lf ki lg lh li kl lj lk ll ko lm bi translated">Conclusion</h1><p id="fa0b" class="pw-post-body-paragraph iw ix hj iy b iz ln jb jc jd lo jf jg jh lp jj jk jl lq jn jo jp lr jr js jt hc bi translated">Out of three features (‘age’,’no.of.operations’ and ‘count of axillary_nodes’) . ‘axillary_nodes’ is the best and most important feature among three to classify the survival_class (target_variable).</p><p id="be5f" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">Even though ‘axillary_nodes’ feature has some overlappings among survival_class. but based on above observations we can classify that if the ‘count of axillary nodes’ is less than 5 , then it can be classified as ‘survived&gt;= 5年'否则它更有可能落入'幸存&lt;5yrs’ class.</p><p id="4c81" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">So, by doing EDA in this problem , we came to know about the important feature (in this case ‘count of axillary nodes’) and we have seen that given dataset is imbalanced dataset. We can make it balanced by using sampling (oversampling and undersampling techniques).</p><p id="14dd" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated">This is toy-example on EDA. EDA is the most powerful tool which is so much useful in solving a machine Learning problem (which helps in getting good understanding of data before we proceed onto further modelling steps).</p><p id="45bc" class="pw-post-body-paragraph iw ix hj iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hc bi translated"><em class="ju">感谢您阅读到目前为止。如果你有什么建议或者有什么想分享的，欢迎随时评论或者通过LinkedIn </em> <a class="ae iv" href="https://www.linkedin.com/in/chamanth-mvs-9a59a4131/" rel="noopener ugc nofollow" target="_blank"> <em class="ju">这里</em> </a> <em class="ju">联系我。</em></p></div></div>    
</body>
</html>