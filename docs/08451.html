<html>
<head>
<title>How I analyzed WhatsApp chat in R using rwhatsapp and ggplot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何使用rwhatsapp和ggplot在R中分析WhatsApp聊天的</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-i-analyzed-whatsapp-chat-in-r-using-rwhatsapp-and-ggplot-912ba9439026?source=collection_archive---------8-----------------------#2020-07-30">https://medium.com/analytics-vidhya/how-i-analyzed-whatsapp-chat-in-r-using-rwhatsapp-and-ggplot-912ba9439026?source=collection_archive---------8-----------------------#2020-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7343" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在分析你的WhatsApp聊天记录后，你会得到令你真正惊讶的结果</h2></div></div><div class="ab cl ix iy gp iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hb hc hd he hf"><p id="f615" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">Whatsapp聊天是一个丰富的数据来源，可以用来从数据中获得更深入的见解。我已经使用R进行了这个分析，并使用shiny创建了一个便于分析的仪表板。Rwhatsapp是一个强大的软件包，旨在简化whatsapp聊天分析。请随意浏览这篇文章，只需看看它的情节和视觉效果。如果你只是对了解项目的概况感兴趣。您可以在以下位置找到我的项目</p><p id="f16e" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><a class="ae ka" href="https://reubenjoseph13.shinyapps.io/Whatsapp_Analyzer/" rel="noopener ugc nofollow" target="_blank">https://reubenjoseph13.shinyapps.io/Whatsapp_Analyzer/</a>。</p><h1 id="dd91" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">如何导出聊天</h1><p id="b8a7" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">Whatsapp可以让你将聊天内容导出到文本文件中。要导出聊天记录，请遵循以下步骤:</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ky"><img src="../Images/461d2d4384bac69a90d3cbc2e6de0df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*in3BpGSosinh0Ml38v_nxg.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">如何导出WhatsApp聊天</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lo"><img src="../Images/3914055e8df5483fe0fbc1b38b1981f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0JasQuaFARy_DBJ3fyVQ2A.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">这是原始数据的样子</figcaption></figure><h1 id="705d" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">数据清理</h1><p id="4db3" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">任何数据分析的第一部分都是清理数据。安装和添加Rwhatsapp将是第一步。使用这个包中的rwa_read()，可以很容易地将文本文件转换成tibble。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="292b" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">由rwhatsapp包创建的Tibble</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lr"><img src="../Images/44d4fd0a03dc4d8fca610a685b26bd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zZwxv4I_uf_oJsuu3auocg.png"/></div></div></figure><h1 id="e0ec" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">创建仪表板</h1><p id="f013" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">如果你只是谷歌Whatsapp聊天分析，你会发现几十个网站和应用程序为你提供了很多可视化。我想提供一些用户期望的额外的分析和见解。</p><ul class=""><li id="9141" class="ls lt hi jg b jh ji jk jl jn lu jr lv jv lw jz lx ly lz ma bi translated">我想让我的应用程序自动检测上传的聊天是否属于一个团体，或者是否是两个人之间的聊天，并相应地显示可视化效果。</li><li id="5281" class="ls lt hi jg b jh mb jk mc jn md jr me jv mf jz lx ly lz ma bi translated">作为一个用户，发送的信息和微笑的总数没有任何意义，除非你和其他人或群体的平均水平进行比较。因此，我的重点是提供两个人之间或相对于平均值的良好比较。</li><li id="b1b0" class="ls lt hi jg b jh mb jk mc jn md jr me jv mf jz lx ly lz ma bi translated">我希望人们能够选择要分析的聊天持续时间，这允许他们放大到某个特定的时间段(这帮助我了解了新冠肺炎对我们信息的频率和差异的影响)</li></ul><p id="1297" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">因此，我使用了已经被<a class="ae ka" href="https://medium.com/u/20095ecca3a" rel="noopener">基根·斯托克埃</a>共享的代码进行基本的可视化，这样我就可以利用我的资源进行更深入的分析。你可以在这里找到他的文章<a class="ae ka" href="https://levelup.gitconnected.com/text-and-sentiment-analysis-of-whatsapp-messages-1eebc983a58" rel="noopener ugc nofollow" target="_blank">的链接</a>。在我们今天生活的世界中，如果你不总是需要从零开始，这真的很有帮助。</p><h1 id="eeb8" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">基本求和</h1><p id="f6d3" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">这些表格不言自明。它给出了所有消息、表情符号、媒体等的计数。以及一些平均指标，如每条消息的平均字数和每条消息的平均字符数。很基本的东西。请注意，个人聊天和小组聊天的表格略有不同。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mg"><img src="../Images/6e6f4d8ad4487c39a1e5c3c138442d0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dzHQ0GbW8gGp_fmf8yIHow.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">群聊的基本总结</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mh"><img src="../Images/69c5ed6ba81bf5de968ed72eb328d5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bc000fN-AmOtdjwFAhql0g.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx translated">个人聊天的基本总结</figcaption></figure><h1 id="e550" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">基本可视化</h1><h2 id="2f00" class="mi kc hi bd kd mj mk ml kh mm mn mo kl jn mp mq kn jr mr ms kp jv mt mu kr mv bi translated">跨时间发送的消息</h2><p id="b1fe" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">我们可以了解信息的频率是如何随时间变化的。看看这个特殊的例子，很明显，自从2020年3月新冠肺炎事件后实施封锁以来，聊天的频率显著增加。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mw"><img src="../Images/100f78333ebbbffd0c5c21e650f3b208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bHj-Yzx8DC23AdNCvTPiUQ.png"/></div></div></figure><h2 id="f6af" class="mi kc hi bd kd mj mk ml kh mm mn mo kl jn mp mq kn jr mr ms kp jv mt mu kr mv bi translated">谁发送的消息最多</h2><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mx"><img src="../Images/e2c9d59ef115ca3f44b577676aa53869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gQFF3UuiMd-nEigaArV4RQ.png"/></div></div></figure><h2 id="47d1" class="mi kc hi bd kd mj mk ml kh mm mn mo kl jn mp mq kn jr mr ms kp jv mt mu kr mv bi translated">最常用的表情符号和单词</h2><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><div class="kz la lb lc fd ab cb"><figure class="my ld mz na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/038fb5e1987a0e1005250e4b4244eaaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*N2xPl3LFR9ErseO5vpzA3Q.png"/></div></figure><figure class="my ld ne na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/1c215d78b2a03347cad1ebc01a19139d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*olcAdomJblDFdNQLGjc6YQ.png"/></div></figure></div><h2 id="e597" class="mi kc hi bd kd mj mk ml kh mm mn mo kl jn mp mq kn jr mr ms kp jv mt mu kr mv bi translated">一周中每一天和一天中每一小时的消息</h2><p id="32b3" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">和你的朋友组成的小组在周末或工作日有更多的消息吗？你倾向于在一天中的什么时候发送更多的信息？这就是制作这些图表的目的。</p><p id="9857" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">这个特定的聊天显示，星期六是大多数消息被发送的时间，并且大多数消息在晚上10点被发送。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><div class="kz la lb lc fd ab cb"><figure class="my ld nf na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/07c7877a133cc43a151a0b784b7c0036.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*KFsDdwSQxg8YleHEo4bcUA.png"/></div></figure><figure class="my ld ng na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/9eb318060f22260f22a948f059eb0ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*PP2fZAaOuomovO4EmbJnCA.png"/></div></figure></div><h1 id="7c89" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">独特的3个字母单词</h1><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es nh"><img src="../Images/cee401967c635246c726401429255276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YC0vq53TsQsymDZc0tqIw.png"/></div></div></figure><h2 id="714c" class="mi kc hi bd kd mj mk ml kh mm mn mo kl jn mp mq kn jr mr ms kp jv mt mu kr mv bi translated">词云</h2><p id="98e0" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">还为个人聊天和群组聊天(一般的群组和群组内的特定人)显示Word Cloud，以便理解个人/群组发送的文本摘要。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es ni"><img src="../Images/2ca70edcfcdee3c60b249eda14842d9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*YU_WNUGgsyEeQoGkK1gOcA.png"/></div></figure><p id="5bbc" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">我尝试在聊天中加入情感分析和其他可视化，但这没有多大意义，因为我的大多数聊天都是用英语输入的当地语言。</p><h1 id="84dd" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">比较</h1><p id="7c26" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">这是分析中最重要的部分。作为一名用户，我觉得如果数据显示为比较值而不是绝对值，理解起来会好得多。个人聊天和群组聊天的对照表是不同的。</p><h1 id="7edc" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">个别聊天中的比较</h1><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es nj"><img src="../Images/4862abeabc2d76f9bf79c720b11363bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDgGyfmmnOZ0c4xfd-6ULA.png"/></div></div></figure><p id="b6a2" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">这个表格非常简单明了。绿色代表较高的值，红色代表较低的值。如果两个人的值相同，则给出黄色。现在让我们看下一个有更深入分析的表格。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es nk"><img src="../Images/7a9aceb625681f9193af914307c073a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rBsbDybbg2O3OHn2XmVnTQ.png"/></div></div></figure><h1 id="6f23" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">群聊中的比较</h1><p id="6ed9" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">这与前面的个人聊天对照表的工作方式相同。在第二个人的位置，需要输入聊天的平均值，这给出了下面的表格。</p><div class="kz la lb lc fd ab cb"><figure class="my ld nl na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/46b81be49255223c20e4ca81d26f792e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*HfF6Mm_o2p0W8wOAjrrHEg.png"/></div></figure><figure class="my ld nm na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/2d7ac0ad6b0ac706462a63346c705674.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*00qIzewcJXU2Ve0qqUaegg.png"/></div></figure></div><h1 id="3e3c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">报表生成</h1><p id="7a5f" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">仪表板还可以选择将分析结果导出为HTML文件，以便与朋友分享。此处可以看到导出文件的示例<a class="ae ka" href="https://drive.google.com/file/d/1k0PCsNa7wlv7UfPtyCnMeK99TyPuznNM/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">。这是通过使用R Markdown报告完成的，该报告的参数是从shiny传递过来的。</a></p><p id="8dcc" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">闪亮的服务器文件:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="a069" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">R-Markdown文件的代码:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="lp lq l"/></div></figure><h1 id="482a" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">部署的仪表板</h1><p id="6d79" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">你可以在这里找到我创建的仪表板:【https://reubenjoseph13.shinyapps.io/Whatsapp_Analyzer/ T2】</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es nn"><img src="../Images/5ceb4e1d41d5e541e146a3536d551b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GdR3pFyqTfg8ad87JTFPEQ.png"/></div></div></figure><div class="kz la lb lc fd ab cb"><figure class="my ld no na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/ef61b1bdf366580bbcebdc61bacee2b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*TbAguEyyZR8kUSW80EPO_Q.png"/></div></figure><figure class="my ld np na nb nc nd paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/1f7d122773815d18174007005aa5ab17.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*Ejp973dNyIs46OVpMSbXPA.png"/></div></figure></div><h1 id="2725" class="kb kc hi bd kd ke kf kg kh ki kj kk kl io km ip kn ir ko is kp iu kq iv kr ks bi translated">结论</h1><p id="a1f0" class="pw-post-body-paragraph je jf hi jg b jh kt ij jj jk ku im jm jn kv jp jq jr kw jt ju jv kx jx jy jz hb bi translated">在开发应用程序之前，站在用户的角度思考确实有帮助。当很多朋友说他们发现比较和分析表非常有趣时，感觉真的很棒。这是你在创建一个应用程序后所能期望的最好回报。</p><p id="6b83" class="pw-post-body-paragraph je jf hi jg b jh ji ij jj jk jl im jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">这也让我意识到仅仅一次聊天就包含了大量的数据。从Whatsapp的角度来看，他们甚至不必知道正在发送什么消息(E2E加密)，就能够获得一些非常好的数据。像发送消息的时间戳、读取消息的时间、某人在线的时间等等。Whatsapp将利用所有这些见解来开发产品。但这并不能掩盖这样一个事实，即我们在使用这些公司的产品时，向它们提供了大量的数据。</p></div></div>    
</body>
</html>