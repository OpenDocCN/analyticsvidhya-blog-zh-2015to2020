<html>
<head>
<title>Computer Vision through OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过OpenCV实现计算机视觉</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/working-of-computer-vision-and-a-beginners-guide-to-opencv-2d0e50ccc38a?source=collection_archive---------16-----------------------#2019-09-28">https://medium.com/analytics-vidhya/working-of-computer-vision-and-a-beginners-guide-to-opencv-2d0e50ccc38a?source=collection_archive---------16-----------------------#2019-09-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1ee5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">视觉是带宽最高的感觉，它提供了关于你周围环境的信息。人脑在理解和分析等任务上的功能更多地依赖于视觉信息，而不是其他感官。</p><p id="5f85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数码相机可以捕捉你最美好的瞬间，如果你需要的话，还可以美化这些图像。但是就像去<em class="jd">听</em>不等于去<em class="jd">听</em>，去<em class="jd">拍</em>不等于去<em class="jd">看</em>。由于这个原因，已经开发了许多算法来即兴发挥<strong class="ih hj">计算机视觉</strong>的功能。</p><h1 id="731c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">什么是计算机视觉？</h1><p id="0c55" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">简而言之，通过模仿人眼的工作方式，使计算机能够看到、识别和处理图像，并获得高层次的理解。</p><h1 id="12c6" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">计算机视觉是如何工作的？</h1><p id="48e2" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">你可能知道，计算机以像素的形式存储图像。像素是屏幕上可寻址的小元素。这些像素代表色谱的强度。每个像素由存储为三原色红、绿和蓝的组合的颜色来定义。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/d97bcd1b8508804d9583ad12efea470b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XhrsRfu8AfsZGkcK1y0opg.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated"><strong class="bd jg">像素颜色划分</strong></figcaption></figure><p id="fe24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个阶段被称为图像采集，图像被转换成机器可理解的二进制数据。</p><p id="f32f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常，这些图像在处理之前被转换成灰度，以提高信噪比并简化可视化过程。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kx"><img src="../Images/e3a95e7d5461b0b693b3f79594d95444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-nkRVNnNikQnzUz-XFjDw.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated"><strong class="bd jg">根据色谱的强度将灰度图像转换为像素数。</strong></figcaption></figure><p id="adc1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们看到每一朵阿瑟花上的一个物体时，我们的大脑会立刻认出它。这是否意味着我们可以比高端电脑计算得更快？不要！我们的大脑在作弊，因为我们已经有了几千年的进化背景。但是电脑没有这种优势。对于计算机来说，图像仅仅是一个二维数组。</p><h1 id="697c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">处理像素</h1><p id="0efc" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">一旦像素数准备好了，我们就可以开始下一步了，即根据内容、颜色、类型等对这些图像进行分类。执行这些任务的热门新算法之一是卷积神经网络或CNN。</p><p id="ad09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CNN将称为过滤器的像素矩阵作为输入，开始将这些模式与网络正在寻找的特定模式进行比较，并开始使用自上而下的方法进行分类。在开始阶段，它理解边界和形状，最后，它识别物体。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ky"><img src="../Images/05680c17a2c354d37335660811fd888e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CWlnrnd2ycsE-i0ijP6IZQ.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated"><strong class="bd jg">CNN的阶段</strong></figcaption></figure><p id="29ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在没有足够数据的情况下，无论这些网络有多深，我们都不能相信任何算法。我们需要用大量不同的数据来训练模型，以提高其性能。</p><p id="572e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是CNN仅仅局限于单个帧。它只能处理单个图像。这将再次导致一个困境和误解。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kz"><img src="../Images/87547436548a79a0754887f3238c2c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*wOoi5DWAXNxu1eaB-52XbQ.jpeg"/></div></figure><p id="fc48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想象一个人在荡秋千。现在，如果我们看一个单独的画面，我们不知道那个人在那个时刻是来回移动，因为没有预语境。在分析图像时，这些事情往往会导致误解。这就是CNN缺乏的地方。它们只能考虑空间特征，而不能考虑时间或时间特征。使用视频可以更容易地做到这一点。</p><p id="e090" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">视频只不过是帧的集合。每一帧的CNN的输出必须被取出并反馈给新的网络。这种类型的模型被称为递归神经网络或RNN。RNN可以使用已经处理过的数据进行决策。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es la"><img src="../Images/4caaa1cd048d3b9effd4a2ddd647bfb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*nEWB6bE5DmVV0gTt4T58jw.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated"><strong class="bd jg"> RNN结构</strong></figcaption></figure><p id="f88f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">RNN最主要也是最重要的特征是<strong class="ih hj">隐藏状态</strong>，它记住了关于一个序列的一些信息。rnn有一个<strong class="ih hj">“存储器”</strong>，它会记住所有已经计算过的信息。它对每个输入使用相同的参数，因为它对所有输入或隐藏层执行相同的任务来产生输出。这降低了参数的复杂性，与其他神经网络不同。</p><h1 id="9779" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用Python迈向OpenCV的初级步骤</h1><p id="91dd" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">OpenCV是一个主要针对实时计算机视觉的编程函数库，最初由英特尔开发。它可以用于执行图像捕获和处理。</p><p id="6c45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要安装OpenCV，请使用以下命令:</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="5f8f" class="lg jf hi lc b fi lh li l lj lk">pip install opencv-python</span></pre><p id="728e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开任意编辑器或python IDLE并导入cv2模块:</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="6af5" class="lg jf hi lc b fi lh li l lj lk">import cv2</span></pre><p id="60b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要从目录中读取图像，我们使用:cv2.imread(path，flag)</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="b731" class="lg jf hi lc b fi lh li l lj lk">img_color = cv2.imread('stephen_hawking.jpg',1) #reads a color image<br/>img_gray = cv2.imread('stephen_hawking.jpg',0)#reads a gray image</span></pre><p id="568a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在窗口中显示图像，请使用</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="8ebc" class="lg jf hi lc b fi lh li l lj lk">cv2.imshow('image', img_color)  #displays image in a window<br/>cv2.waitKey(0)  #will keep displaying till any key is pressed<br/>cv2.destroyAllWindows()</span></pre><p id="2f75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要查看图像的像素值，只需使用print()。我们还可以看到，彩色图像是二维的，而灰度图像是三维的，因为增加了一个额外的维度来存储BGR颜色强度。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="837b" class="lg jf hi lc b fi lh li l lj lk">print(img_color.shape) #prints the dimensions <br/>print(img_color) #prints 3d array representing color intensities</span></pre><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ll"><img src="../Images/54ccba70584e6a27b822abd4d619600a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sAVdwtThlMP6pIeZu6R-CA.jpeg"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated"><strong class="bd jg">左:3d像素阵列右:灰度图像</strong></figcaption></figure><p id="f3aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要知道一个像素在(x，y)的BGR值，打印该值在[y][x]。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="4190" class="lg jf hi lc b fi lh li l lj lk">print(img_color[0][0]) #output: [105  86  59]</span></pre><p id="acf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后现在保存一个图像:</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="04e3" class="lg jf hi lc b fi lh li l lj lk">cv2.imwrite('stephen_hawking_grayscale.jpg',img_gray)</span></pre></div></div>    
</body>
</html>