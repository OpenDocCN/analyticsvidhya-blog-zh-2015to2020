<html>
<head>
<title>Web Scraping Courses From Coursera using Python 2020</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python 2020的Coursera网络抓取课程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-mining-courses-from-coursera-using-python-2020-12273d5409b6?source=collection_archive---------11-----------------------#2020-03-10">https://medium.com/analytics-vidhya/web-mining-courses-from-coursera-using-python-2020-12273d5409b6?source=collection_archive---------11-----------------------#2020-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/edab88c77c40232373227090d39da9cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z3WORKGwfESaSp1iZpJfvg.png"/></div></div></figure><p id="6029" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你是coursera的固定用户吗？如果是，那么你可能会喜欢这个python程序。你可以在类似的课程网站上使用相同的程序，如edx，alison，udemy等。</p><p id="900c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，我们开始吧。如果你有一些使用python和BeautifulSoup的经验，那么你已经拥有了你需要的一切，所以自己动手吧。没有的，跟着走。</p><p id="7993" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为您的操作系统安装python。之后，安装请求和优化如下:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/5668b106ba8ac0f6242f7dc731a906bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*xZ_r1DCZb3xYngt2mxk0AQ.png"/></div></figure><p id="bcdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后，让我们导入模块，并创建一个变量来存储url:</p><blockquote class="ju jv jw"><p id="7389" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">来自bs4 import beautiful group<br/>的进口请求</p><p id="c38c" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">base URL = " https://www . coursera . org "</p></blockquote><p id="09ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，从cli输入或初始化它:</p><blockquote class="ju jv jw"><p id="349b" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">skillset = input()。拆分(" ")</p></blockquote><p id="7ced" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将看到搜索输入的查询url:</p><p id="19aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jx">例子:java </em></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/6e9413bcb9ba5bbd7b38967fce40bad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JzIZPlUuEFNLQyUfl4lZPw.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图1 .课程网站中的搜索栏</figcaption></figure><p id="12fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该url可能如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/bb4566b009babca51b0fb9510edcdc24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E5Y2J4nX_roMP1RTwO3Dqg.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图2 .检查url以查找模式</figcaption></figure><p id="9981" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，重要的部分是“query=”部分之后的。因此，我们将在这里追加用户的输入。</p><blockquote class="ju jv jw"><p id="bfad" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">skillset= "%20 "。join(输入()。拆分(" ")</p><p id="6092" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">courseraUrl = "<a class="ae jo" href="https://www.coursera.org/search?query=" rel="noopener ugc nofollow" target="_blank">https://www.coursera.org/search?query=</a>"+技能组合</p></blockquote><p id="f331" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将向一个web页面发出一个请求，之后我们将通过该模块运行page.text文档，为我们提供一个BeautifulSoup对象(<em class="jx">即来自这个解析页面的解析树)</em>，我们将通过在html上运行Python的内置html.parser来获得该对象。</p><blockquote class="ju jv jw"><p id="75db" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">page = requests.get(courseraUrl)</p><p id="7cc5" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">soup = BeautifulSoup(page.text，' html.parser ')</p></blockquote><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/3bd1fc1798cd463d474f21baa5dcbc9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNj-fa2pZwzPiVhNlswLAQ.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图3 .课程头h2标签的复制类</figcaption></figure><p id="e7dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，我们将使用<em class="jx">beautiful soup . object . find _ all()</em>函数来获取所有的课程名称。以下课程的课程名称相同:</p><blockquote class="ju jv jw"><p id="7d4f" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">found = soup.find("h2 "，{ ' class ':" color-primary-text card-title headline-1-text " })</p></blockquote><p id="1918" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以做类似的事情来获得课程的链接，就像这样:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/6f223eb8859a878117246b7798767d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zxkqDBsXd9WHq1wdPsqqAQ.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图4 .课程url标签的复制类</figcaption></figure><blockquote class="ju jv jw"><p id="8f76" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">foundU= soup.find_all("a "，{ ' class ':" RC-desktop search card anchor-wrapper " })</p></blockquote><p id="56c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们将使用一个循环并打印所有的名称和URL:</p><blockquote class="ju jv jw"><p id="3c03" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">对于found_all中的课程名称:<br/> print(courseName.text)</p><p id="8b88" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">对于foundU_all中的course URLs:<br/>toUrl = course URLs . get(' href ')<br/>course URL = base URL+toUrl<br/>print(course URL)</p></blockquote><p id="3633" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">查看输出:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/14e0a763f1daa2906156300535af790e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*hD01MPOHn4IYwHNov-r7Jw.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图5. CLI输出</figcaption></figure><p id="6b3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它又丑又没用，对吗？嗯，我使用python中的csv模块将这个输出转移到一个csv文件中。</p><blockquote class="ju jv jw"><p id="20e9" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">导入csv</p><p id="94eb" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">使用open('course.csv '，' w+'，newline= ' ')作为文件:</p><p id="7fcb" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">myFields = ['courseName '，' courseUrl'] <br/> writer = csv。DictWriter(file，field names = my fields)<br/>writer . write header()<br/><br/>for I in range(len(found _ all)):<br/><br/># for course URL<br/>toUrl = foundU _ all[I]。get(' href ')<br/>course URL = base URL+toUrl</p><p id="432e" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">#将其存储在字典课程名称-&gt;课程Url中</p><p id="9afc" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">过程[发现所有[我]。text] = courseUrl</p><p id="2cc5" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">writer . writerow({ ' course name ':found _ all[I])。text，' courseUrl': courseUrl})</p></blockquote><p id="848e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出将如下所示:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/bd6f6ac5b5d84e387e8cfe6623e9d5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*gVkUDmyNwK-aacr3Fp11MQ.png"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图6 . course . CSV文件的输出</figcaption></figure><p id="b129" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我写了一个html文件来把它转换成HTML表格。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/f090eb7d06f1969ae108b56b24bc9d5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9DGzEXqKBXf0zQt7qbwBA.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">图7 . html文件的输出</figcaption></figure><p id="6ed9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我这个程序的github链接:<a class="ae jo" href="https://github.com/rahulbhatt1899/webMineCourses" rel="noopener ugc nofollow" target="_blank"> github </a></p><p id="819f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读:)</p></div></div>    
</body>
</html>