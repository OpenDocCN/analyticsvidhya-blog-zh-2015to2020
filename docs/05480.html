<html>
<head>
<title>Power of correlation &amp; causation in the age of data science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学时代相关性和因果性的力量</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/power-of-correlation-causation-in-the-age-of-data-science-989da2d812b3?source=collection_archive---------25-----------------------#2020-04-22">https://medium.com/analytics-vidhya/power-of-correlation-causation-in-the-age-of-data-science-989da2d812b3?source=collection_archive---------25-----------------------#2020-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/80328be344003a16ea5d748f0b627bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iiaugRGK0ICXedSJFw875g.png"/></div></div></figure><p id="880e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“我不能说我比其他65个人都聪明——但肯定是其他65个人的平均值！”—理查德·p·费曼</p><h2 id="4b39" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">什么是相关性？</h2><p id="cbe9" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi ko translated"><span class="l kp kq kr bm ks kt ku kv kw di">C</span>or relationship被定义为二元系统中的一种关系，其中两个变量之间都有一个方向和一定程度的关联。</p><p id="cff0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在统计学中，它被定义为两个变量线性相关的程度。</p><p id="00b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相关性描述了两个数据集之间的关系，可以使用散点图来可视化，散点图中可以绘制出两个变量。</p><p id="985b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了在更深的数学层次上理解相关性，我们需要首先理解协方差。</p><p id="1fae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">协方差的符号给数据一种方向感</strong>，即散点图上的数据点是否有任何方向，或者它们只是在空间上随机分布。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/11907f91eaf126c42a725a3058bb6073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*Y8VXUPVviOQU2z7Pe9uxPg.png"/></div></figure><p id="2acc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，1) x，y是数据集</p><p id="30b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2) <em class="lc"> x_bar </em>，<em class="lc"> y_bar </em>是它们各自数据集的平均值</p><p id="61ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3) N是样本大小</p><p id="c8c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">协方差可以有(+)ve或(-)ve符号，其中正号表示数据集的正斜率，负号表示图表上数据集的负斜率。</p><p id="0134" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">协方差在[(x-x _ bar)&gt;0&amp;(y-y _ bar)&gt;0]或[(x-x _ bar)&lt;0&amp;(y-y _ bar)&lt;0]时显示(+)ve符号。</strong></p><p id="f258" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">协方差在[(x-x _ bar)&gt;0&amp;(y-y _ bar)&lt;0]或[(x-x _ bar)&lt;0&amp;(y-y _ bar)&gt;0]时显示一个(-)ve符号。</strong></p><p id="a462" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">协方差的问题在于，它显示关联强度的幅度位于<strong class="is hj">{∞<em class="lc">到</em> + ∞ } </strong>之间，这使得理解关联的程度变得非常困难，因此相关性开始发挥作用。</p><p id="10bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">相关性是协方差的一个版本，其中协方差值被归一化</strong>，即相关性的域范围是<strong class="is hj"> {-1到+1} </strong>，它使相关性成为数据统计分析的一个真正强大的工具。</p><h2 id="2321" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">怎么用？</h2><p id="8c5c" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">相关性是一种用于量化不同数据集的工具。它是一个数学公式，可以使用不同的编程语言来实现，如python和C++。</p><h2 id="9ef7" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">皮尔逊相关系数公式:</h2><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/a9d8b76f9d2e3b879c3dbb0b987bbf46.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*MKRb5xbP2LFSg6pdEC6Ktg.png"/></div></figure><p id="86ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中，n =信息量</p><p id="59c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">σx =第一个变量值之和</p><p id="287f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">σy =第二个变量值的总和</p><p id="f4cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">xy =第一个值和第二个值的乘积之和</p><p id="c13d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">x2 =第一个值的平方和</p><p id="b008" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">y2 =第二个值的平方和</p><p id="c255" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">系数的值介于-1到+1之间。当系数值为0时，则数据被认为是不相关的或彼此完全独立的，否则就是相关的。</p><h2 id="42ad" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">线性相关系数公式:</h2><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es le"><img src="../Images/039452b644a101df7fdfddbaf6e1589a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*zyWoLqGge70bHCT8fsr57A.png"/></div></figure><h2 id="8482" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak">相关性与因果关系</strong></h2><p id="2d14" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">在很多情况下，相关性和因果关系看似相似，但实际上它们是不同的。</p><p id="b5bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">相关性并不意味着因果关系</strong>虽然一对变量之间的相关性比因果关系更容易发现，因为当一个数据集发生变化时，很容易发现另一个数据集的波动，但很难说两个数据集之间是否存在因果关系。</p><p id="3130" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因果关系明确适用于变量H导致结果变量T的情况，但在相关变量H与变量T相关的情况下。</p><h2 id="6b93" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">如何解读？常见错误</h2><p id="7f04" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">一般来说，人们误解了相关性和因果关系，但两者是具有不同含义的不同术语。</p><p id="4764" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如:假设我们有3个变量<strong class="is hj"> <em class="lc"> h，t，x </em> </strong></p><p id="7477" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，h-吸烟率</p><p id="32dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">t-肺癌发病率增加</p><p id="fdfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">x-酒精中毒</p><p id="85bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，变量h是结果变量t的原因，因此h &amp; t之间存在因果关系，但另一方面，变量h &amp; x之间存在相关性，因为观察到过去吸烟的人也非常喜欢酒精，但吸烟不是酒精中毒的原因。</p><p id="cf07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">一个找出肺癌数据集不同参数之间相关性的小例子，其中0代表“无肺癌”&amp; 1代表“存在肺癌”。</strong></p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/30616cf32a008b75d67c8282778b090b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*3NGmhtx1XsCHsvDqt8m-5Q.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">使用python进行参数之间的相关性估计</figcaption></figure><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/a219a4d3dd4fd1be96d70835bc59e844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*wSkp5rkl60KeMdXJH4fdJg.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">使用python进行参数之间的相关性估计</figcaption></figure><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/472463c75b27be98922d990742e77434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*M3M5fZFWKdFYJ3llsusC0g.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">使用python进行参数之间的相关性估计</figcaption></figure><p id="6850" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">相关类型</strong></p><p id="7eb6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相关性用相关系数表示，相关系数表示两个数据集关联的方向和强度。</p><p id="c2b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相关性大致分为3种主要类型:</p><p id="f32c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1)正相关</p><p id="fef8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2)负相关</p><p id="b000" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3)零(无)相关性</p><p id="1542" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当一个数据集相对于另一个数据集以相同方向增加时，则两个数据集的相关性称为正相关性。用正相关系数值表示。</p><p id="d77b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当相关系数值正好是'+1 '时，那么该相关被称为是一个<strong class="is hj">完全正相关</strong>。</p><p id="bc24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当一个数据集的值减少而另一个数据集的值增加时，两个数据集之间的相关性称为负相关性。用负相关系数值表示。</p><p id="936b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当相关系数值为“-1”时，该相关性被称为是一个<strong class="is hj">完全负相关</strong>。</p><p id="eb29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当两个数据集完全相互独立时，则数据集之间没有相关性，因此相关系数值为零。</p><h2 id="a033" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">用什么？</h2><p id="271e" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">相关系数是一个对数据集的<strong class="is hj">方向和两个数据集</strong>之间的<strong class="is hj">关联度有很大影响的因素。寻找二元系统的函数依赖在数学上几乎是不可能的，这就是为什么相关性对于寻找数据之间的关联非常重要。</strong></p><p id="1301" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相关性随着一些其他数学参数而变化，如<strong class="is hj">标准差、熵&amp;试图满足图上所有数据点的线</strong>的斜率。它与标准偏差成反比，即标准偏差(数据点和数据集平均值之间的差异)越大，相关性的大小就越小。随着数据集熵的增加，相关性也下降到零。随着数据集变得越来越随机，相关系数开始下降，接近零。</p><p id="b749" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它与试图满足数据集所有数据点的直线斜率成正比。斜率和相关系数的符号也相同。</p><p id="49dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="lc">数据集之间的因果关系比函数依赖更多。</em>T9】</strong></p><p id="f2f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">关于作者:</strong></p><p id="42dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Prashant Singh </strong>:数据科学爱好者，擅长分析数据以创建可识别的图表并记录商业和研究目的的见解。</p><h2 id="c9fb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">参考</h2><p id="3c97" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">1)<a class="ae lm" href="https://en.wikipedia.org/wiki/Correlation_and_dependence" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Correlation_and_dependence</a></p><p id="255b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2)<a class="ae lm" href="https://www.statisticssolutions.com/correlation-pearson-kendall-spearman/" rel="noopener ugc nofollow" target="_blank">https://www . statistics solutions . com/correlation-Pearson-Kendall-spearman/</a></p><p id="10bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3)<a class="ae lm" href="https://byjus.com/maths/correlation/" rel="noopener ugc nofollow" target="_blank">https://byjus.com/maths/correlation/</a></p><p id="66a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4)<a class="ae lm" href="https://amplitude.com/blog/2017/01/19/causation-correlation" rel="noopener ugc nofollow" target="_blank">https://amplitude.com/blog/2017/01/19/causation-correlation</a></p><p id="4a3e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="lc">标签:#相关性#因果性#协方差#数据_科学#数据# jupyter _笔记本#熵#皮尔森_相关性_系数# python #预测性_分析</em> </strong></p></div></div>    
</body>
</html>