<html>
<head>
<title>Scikit-learn Pipelines for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">sci kit-初学者学习管道</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/scikit-learn-pipelines-for-beginners-235abd0b8ea1?source=collection_archive---------6-----------------------#2019-12-12">https://medium.com/analytics-vidhya/scikit-learn-pipelines-for-beginners-235abd0b8ea1?source=collection_archive---------6-----------------------#2019-12-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="3323" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">简化建模过程的有用工具。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/276a727db9caa9ab5dae4693865b61e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Chx65rw0xQfPjZFmjgIjQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来源:scikit-learn.org</figcaption></figure><p id="d244" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">按照最简单的定义，Scikit learn中的管道可以用来将多个估算器链接在一起，文档<a class="ae jn" href="https://scikit-learn.org/stable/modules/compose.html#pipeline" rel="noopener ugc nofollow" target="_blank">说</a>。这在进行特征选择、归一化和分类时非常有用，主要原因有三个——数据科学家只需拟合和预测一次回归，Scikit-learn超参数调谐器<a class="ae jn" href="https://scikit-learn.org/stable/modules/grid_search.html#grid-search" rel="noopener ugc nofollow" target="_blank"> GridSearch </a>可应用于多个预测模块，并且它们有助于防止统计数据从测试数据进入训练数据。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kk"><img src="../Images/d721b51ddb6503b65fc86987558420cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*83fXYwf5kTeUBz7W5lG76Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来源:<a class="ae jn" href="https://towardsdatascience.com/custom-transformers-and-ml-data-pipelines-with-python-20ea2a7adb65" rel="noopener" target="_blank">走向数据科学</a></figcaption></figure><p id="e13f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">简而言之，Scikit-learn中的管道可以被认为是一种通过使用给定的操作顺序将选定的过程应用于预定模型来自动化预测过程的手段。或者运行每个回归并指出哪个效果最好。但是，与其谈论它，不如我们来看看它的行动！</p><p id="8f06" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在Scikit-learn中使用管道时，需要注意的是，在找到最佳超参数或您希望使用的超参数范围后，应该对模型进行优化。在使用穷举网格搜索时尤其如此。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kl"><img src="../Images/0c4b2ba24a6988a738ed1d23ab9b91a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*rVstSECEb4XQ32NhZLOHNA.png"/></div></figure><p id="d73a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">按照软件和教育网站<a class="ae jn" href="https://www.kdnuggets.com/2017/12/managing-machine-learning-workflows-scikit-learn-pipelines-part-1.html" rel="noopener ugc nofollow" target="_blank"> KDNuggest </a>创建的指南，首先从scikit learn库以及您需要的任何其他库导入Pipeline。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es km"><img src="../Images/f572007fac93a5326ffed8c352f77e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kt27qvXw6PkT-cuZ6bQP7w.png"/></div></div></figure><p id="d1ac" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">导入管道后，第一步是创建实例化您计划运行的每个模型所需的管道。管道采用元组列表，可以作为操作顺序读取。每个元组中使用的字符串可以是您想要的任何东西，它们只是用来标识您正在使用的转换器和模型的名称。然而，元组列表中的最后一项必须是您计划使用的模型。这里我用XGBoost和Random Forest。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kn"><img src="../Images/8b661130b634c9ebe415483c3c54ae6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*Sxg8PjvWc-dfF3ceirtWKQ.png"/></div></figure><p id="d1f4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果您计划使用网格搜索，可以从这里为您正在使用的每个模型设置网格搜索参数。详尽的GridSearch通过检查指定超参数的每个组合来查看哪个组合产生高精度模型。尽管GridSearch功能强大，但它确实需要很长的运行时间，这取决于所使用的回归模型。随着管道中包含更多模型或参数，这一数字将呈指数级增长。</p><p id="c14a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果使用管道对不断变化的数据集进行回归，最好将搜索参数缩小到历史上为模型产生最高精确度的参数。因此，对于要检查的每个超参数值，模型可能需要更多的运行时间。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ko"><img src="../Images/53e00eb0c487e452dbf659f283578362.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*K2ALUXTuVJaC4dMiyJ6sFQ.png"/></div></figure><p id="83eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在设置了要在网格搜索中使用的参数之后，实例化每个网格搜索。将估计器参数设置为您计划使用的模型，并将param_grid设置为特定的估计器参数，这一点很重要。有趣的是，设置cv = 2可以让你对每个模型进行两次交叉验证。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kp"><img src="../Images/4fd5f1fb908e144c16dfc2ccb73fd536.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*RE07Kn4x_7ucCoBuxnFRvQ.png"/></div></figure><p id="a788" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，创建一个您计划运行的不同网格搜索估计器的列表。这对以后的迭代很有用。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kq"><img src="../Images/469e6efd1db2e20208da53ad0f50973e.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*P8f5y4ClmfyG9h5-to4vPg.png"/></div></figure><p id="f2d3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<a class="ae jn" href="https://www.kdnuggets.com/2017/12/managing-machine-learning-workflows-scikit-learn-pipelines-part-1.html" rel="noopener ugc nofollow" target="_blank"> KDNuggest </a>上，它建议为您管道中的每个模型创建一个字典。我选择跟随他们的领导，并把它包括在我的工作流中，后来证明它很有用，还有准确性、最佳模型和最佳网格搜索变量。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/a503a65bcebce7474e3401944f0df95d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*WjoKZ7YZRp1O62WN0fawvg.png"/></div></figure><p id="60d3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">最后创建一个循环，遍历前面指定的网格列表中的每个网格。</p><p id="9120" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">创建一个管道当然比每次都重新构建每个模型要容易，但是仍然会令人困惑。因此，关注指南、博客和YouTube教程会非常有帮助。这里是我看的博客和视频的列表，以帮助理解这个过程！</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><ul class=""><li id="68af" class="kz la hi jq b jr js ju jv jx lb kb lc kf ld kj le lf lg lh bi translated"><a class="ae jn" rel="noopener" href="/vickdata/a-simple-guide-to-scikit-learn-pipelines-4ac0d974bdcf">sci kit-learn管道示例指南</a></li><li id="b5a5" class="kz la hi jq b jr li ju lj jx lk kb ll kf lm kj le lf lg lh bi translated"><a class="ae jn" href="https://towardsdatascience.com/a-simple-example-of-pipeline-in-machine-learning-with-scikit-learn-e726ffbb6976?" rel="noopener" target="_blank">用scikit-learn实现机器学习中流水线的一个简单例子</a></li><li id="786e" class="kz la hi jq b jr li ju lj jx lk kb ll kf lm kj le lf lg lh bi translated"><a class="ae jn" href="https://towardsdatascience.com/custom-transformers-and-ml-data-pipelines-with-python-20ea2a7adb65" rel="noopener" target="_blank">使用Python定制转换器的ML数据管道</a></li><li id="1d62" class="kz la hi jq b jr li ju lj jx lk kb ll kf lm kj le lf lg lh bi translated"><a class="ae jn" href="https://www.kdnuggets.com/2017/12/managing-machine-learning-workflows-scikit-learn-pipelines-part-1.html" rel="noopener ugc nofollow" target="_blank">使用Scikit-learn管道管理机器学习工作流第1部分:简介</a></li></ul><p id="944f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这里还有一个很棒的youtube频道，可以看看python是如何实现的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ln"><img src="../Images/863af123a84ec43a962007a033ca3f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*RWPSzrL5DHLtQxknRj6r6w.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://www.youtube.com/channel/UCh9nVJoWXmFb7sLApWGcLPQ" rel="noopener ugc nofollow" target="_blank"> Codebasics频道</a></figcaption></figure></div></div>    
</body>
</html>