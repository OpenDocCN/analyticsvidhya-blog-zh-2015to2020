<html>
<head>
<title>Cutting Stock Problem — 1D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">削减库存问题——1D</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cutting-stock-problem-1d-df976f7263cd?source=collection_archive---------3-----------------------#2020-07-18">https://medium.com/analytics-vidhya/cutting-stock-problem-1d-df976f7263cd?source=collection_archive---------3-----------------------#2020-07-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2ea2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何以最少的损耗从库存中切割棒、纸卷</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/7137b9e52b1cb21bddc9f48c8fcb4847.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZYWmcR6Kogj3exEz.png"/></div></div></figure><p id="ac98" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你见过宽纸卷或织物卷被切割成较小宽度的卷，或大金属棒的切割。</p><p id="165d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可能想知道:</p><blockquote class="kf"><p id="3574" class="kg kh hi bd ki kj kk kl km kn ko ke dx translated"><em class="kp"> 1。有多少种方法可以把一个大的原料切成所需长度的小块？</em></p></blockquote><p id="a1ef" class="pw-post-body-paragraph jj jk hi jl b jm kq ij jo jp kr im jr js ks ju jv jw kt jy jz ka ku kc kd ke hb bi translated">答案是:太多种方式了！</p><p id="81dc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">也许更好的问题是:</p><blockquote class="kf"><p id="2fc1" class="kg kh hi bd ki kj kk kl km kn ko ke dx translated"><em class="kp"> 2。如何从库存物品上切下所需的小片，以使浪费最小化？</em></p></blockquote><p id="180c" class="pw-post-body-paragraph jj jk hi jl b jm kq ij jo jp kr im jr js ks ju jv jw kt jy jz ka ku kc kd ke hb bi translated">你可以问的另一个问题是:</p><blockquote class="kf"><p id="f07b" class="kg kh hi bd ki kj kk kl km kn ko ke dx translated"><em class="kp"> 3。如何从库存物品中切割出所需的小块物品，以便使用尽可能少的库存物品？</em></p></blockquote><p id="bfd4" class="pw-post-body-paragraph jj jk hi jl b jm kq ij jo jp kr im jr js ks ju jv jw kt jy jz ka ku kc kd ke hb bi translated">所有这些问题都被称为“下料问题”(CSP)，并在应用数学的一个子领域“运筹学”中进行研究。金属、玻璃、纸张和纺织行业的人们每天都在处理这个问题。</p><h1 id="8e6a" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">1D vs 2D削减库存问题</h1><p id="a56c" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">这是CSP的几种变体。如果我们想要的下一个工件需要一次切割才能得到，这就叫做1D或一维切割下料问题。例子包括切割纸卷、织物卷和金属棒。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/7834d4609837c9ff8f5429b27bdb084a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lG9LOC3mZ4SyBIIz.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">1D切割库存问题示例</figcaption></figure><p id="79bb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果切割包括将矩形薄板切割成所需尺寸的小矩形薄板，这就叫做2D或二维切割下料问题，例如切割玻璃薄板和金属薄板。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lx"><img src="../Images/8218843767933982482d95010779b15b.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/0*xOZ3iQVOFkX7paZr.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">2D切割库存问题示例</figcaption></figure><p id="afd8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这篇文章深入讨论了1D问题，在下一篇文章中，我们将讨论2D问题。为了举例，让我们假设我们的库存中有尺寸为89 cm的标准杆。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ly"><img src="../Images/cc5221ad55f1b3fb93a09ca39b3a8c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pBJefzZdMOALVwHw.PNG"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">我们仓库里的标准库存</figcaption></figure><p id="1c09" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">一份客户订单到达，上面写着，他们需要:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lz"><img src="../Images/77f01c2396acecc00679d6392a053d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/0*igL58x9l_VES9OM5.PNG"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">客户订单详细信息</figcaption></figure><h1 id="da08" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">无计划切割</h1><p id="c50d" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">假设我们立即开始削减订单。我们没有考虑重新排列棒材，而是按照客户订单中提到的方式切割。</p><p id="0a2f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">从第一根棒料开始，我们切割了45厘米和25厘米，剩下19厘米，这不能满足我们的任何客户需求。</p><p id="5b60" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们移动到下一根杆进行切割。我们砍了20厘米，又砍了20厘米，又砍了20厘米，我们只剩下29厘米了。我们最后需要的棒是35厘米，不能从29厘米处切割，所以我们必须切割另一个原料棒</p><p id="ac82" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们开始切第三根杆。我们切掉了35厘米，剩下54厘米</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/6fca17243b821e3cb40faee9cfdf5a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L1Sam3gJJhF-3vmG.PNG"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">剪切摘要</figcaption></figure><p id="91dd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">因此，由于没有裁剪计划，我们最终使用了3根棒料来满足客户需求，剩下的长度分别为19厘米、29厘米和54厘米。我们可能会在未来的订单中使用剩余的29和54厘米的焊条，但剩余的19厘米焊条很可能会被浪费掉，因为似乎没有客户需要小于20厘米的焊条。</p><p id="1c28" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这种没有削减计划的方法当然不理想。如果下一个订单需要一个60厘米的杆怎么办？我们无法满足29和54厘米的杆。</p><p id="e057" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">那么，有没有一种方法可以满足这种客户需求，使我们使用尽可能少的库存棒？我们的浪费也是最少的？</p><h1 id="ca01" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">CSP工具—规划切割</h1><p id="f5e9" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">让我们在工具的帮助下计划削减。我们设计了这个简单的开源工具来解决下料问题，它可以免费使用，并且可以在</p><p id="38ea" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这个CSP工具可以规划1D和2D的下料问题。(2D的部分还没有完成。)</p><p id="4af1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们把重点放在1D工具上，它可以帮助我们找到一个最优的方案来切割你的原料棒或原料织物卷，这样可以使用最少的原料，浪费也最少。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/79eef5148e35bf2218c04b75a5353507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Tv3HwPz64-bjRU4z.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated"><a class="ae mb" href="https://alternate.parts/csp" rel="noopener ugc nofollow" target="_blank"> CSP工具</a>正在运行。削减计划在右边的图表中</figcaption></figure><p id="848b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里你可以看到两张桌子。在顶部表格中，指定要切割的客户棒材的详细信息。在底部的表格中，输入库存杆的详细信息。</p><p id="c982" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">请注意，您现在不能指定原料棒的数量。实际上，这个工具会告诉你要完全满足这一需求需要多少库存杆。(我们可能很快会添加此功能，以便您可以限制要使用的库存杆数量，并在限制范围内满足最大可能的客户需求。)</p><p id="3b8a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们在顶部表格45–1、25–1、20–3、35–1中输入客户名单的尺寸</p><p id="c23d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在底部表格中输入原料棒的尺寸:89</p><p id="16a8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">注意，你不需要写像厘米或英寸这样的单位。您只需指定大小。点击“剪切”。你可以看到计划:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mc"><img src="../Images/521029d0e4b661c3a35b7af187b166d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/0*l8Zf6JAmOBSMwxFq.PNG"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">切割计划详细信息</figcaption></figure><p id="33bc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在右图中，我们看到了如何切割棒的计划。每行指定一个库存杆，每个框代表一个小客户杆。宽度或尺寸相同的杆具有相同的颜色。黑色表示废料或棒料的剩余部分。</p><p id="1fde" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在右下角的表格中，我们可以看到每个库存杆的使用情况。第一批利用率为95.5%，第二批利用率为89.9%。这是削减的细节。您也可以将这些切割细节下载为CSV文件，并导入到Microsoft Excel中。或者简单地复制并粘贴到Google sheets。</p><h1 id="eaa5" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">它是如何工作的</h1><p id="2af5" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">让我们看看CSP工具是如何在幕后工作的。它使用Google的OR-Tools库，这是一个很棒的库，可以解决像下料问题这样的问题。</p><p id="3cb8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">OR-Tools使用起来非常简单。您指定变量。变量将包含你的问题的结果。在我们的例子中，它们将包含使用的原料棒的数量和切割的计划</p><p id="47db" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后指定约束。约束是您的算法必须在其中找到解决方案的限制。在我们的例子中，约束条件是</p><p id="66a9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后指定目标。目标是这个算法的主要目标是什么。就像我们的CSP目标是最大限度地减少库存物品的数量。</p><p id="8e60" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这个算法的代码可以在<a class="ae mb" href="https://github.com/emadehsan/csp" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到</p><h1 id="e0f2" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">不懂编程？别担心！</h1><p id="5470" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">如果你不懂这部分编程，没关系。使用<a class="ae mb" href="https://alternate.parts/csp" rel="noopener ugc nofollow" target="_blank"> CSP工具</a>不需要懂编程。</p><p id="5269" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您可以在随附的视频中观看CSP的解释、CSP工具的演示和一些实际的玻璃切割:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="md me l"/></div></figure><h2 id="0334" class="mf kw hi bd kx mg mh mi lb mj mk ml lf js mm mn lh jw mo mp lj ka mq mr ll ms bi translated">认为要牢记在心</h2><ul class=""><li id="b67a" class="mt mu hi jl b jm ln jp lo js mv jw mw ka mx ke my mz na nb bi translated">仅处理整数:仅处理整数的IP(整数编程)问题。如果有些值有小数部分，可以将所有输入乘以某个数字，使它们成为整数(或接近估计值)。</li><li id="1a18" class="mt mu hi jl b jm nc jp nd js ne jw nf ka ng ke my mz na nb bi translated">您不能指定单位:无论您输入的是英寸还是米，您都必须自己记录下来，如果有转换的话。</li></ul><h1 id="8281" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">进一步阅读</h1><h1 id="d4c1" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">谷歌的或工具</h1><p id="e2b9" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated"><a class="ae mb" href="https://developers.google.com/optimization" rel="noopener ugc nofollow" target="_blank">谷歌的OR Tools </a>库被用来制作这个工具。他们有很棒的教程和例子，即使没有任何运筹学背景也很容易理解。它适用于Python、C++、Java和C#。</p><h1 id="8593" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">实用Python AI项目</h1><p id="d9de" class="pw-post-body-paragraph jj jk hi jl b jm ln ij jo jp lo im jr js lp ju jv jw lq jy jz ka lr kc kd ke hb bi translated">我们也从Serge Kruk教授的书里学到了很多:<a class="ae mb" href="https://amzn.to/3iPceJD" rel="noopener ugc nofollow" target="_blank">实用Python AI项目</a>非常容易理解，完全推荐。事实上，我们的CSP工具中使用的大部分代码都来自这本书。</p><p id="ad14" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">2D下料问题更有趣，也更难解决。下次2D CSP再见。:)</p></div><div class="ab cl nh ni gp nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="hb hc hd he hf"><p id="36d7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="no">原载于2020年7月18日</em><a class="ae mb" href="https://alternate.parts/cutting-stock-problem" rel="noopener ugc nofollow" target="_blank"><em class="no">https://alternate . parts</em></a><em class="no">。</em></p></div></div>    
</body>
</html>