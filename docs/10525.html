<html>
<head>
<title>ES6 Javascript object and array (1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ES6 Javascript对象和数组(1)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/javascript-object-and-array-1-6ce26be61cbe?source=collection_archive---------15-----------------------#2020-10-22">https://medium.com/analytics-vidhya/javascript-object-and-array-1-6ce26be61cbe?source=collection_archive---------15-----------------------#2020-10-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="13d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Javascript中，有很多与对象和数组相关的方法，初学者要记住它们并不容易。</p><p id="c1ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本节中，我将向您介绍object . keys()/Array map()/[…](spread operator)以及与它们相关的一个示例。一旦你理解了这些例子，我相信你会理解并记住它们。</p><p id="60f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Javascript中的对象<br/>用花括号开始和结束</p><p id="92ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">* * *不要在Javascript对象中使用箭头函数，详细内容请阅读<a class="ae jd" rel="noopener" href="/@fifithecat/es6-javascript-this-keyword-4377c61f6f2d">ES6 Javascript—“this”关键字</a></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="261b" class="jn jo hi jj b fi jp jq l jr js">let car = {type:"Tesla", model:"Modal X", color:"white"};</span><span id="1bf7" class="jn jo hi jj b fi jt jq l jr js">//In Javascript, objects can contains function<br/>let car = {<br/>    type:"Tesla", <br/>    model:"Modal X", <br/>    color:"white",<br/>    summary: function() {<br/>       console.log(this.type, this.model, this.color);<br/>    }<br/>};</span></pre><p id="6ecc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Javascript中的数组<br/>以括号开始和结束</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="5b3c" class="jn jo hi jj b fi jp jq l jr js">//Various ways to create new array</span><span id="5293" class="jn jo hi jj b fi jt jq l jr js">let cars = ["Tesla", "Toyota", "BMW"];</span><span id="5053" class="jn jo hi jj b fi jt jq l jr js">let cars = new Array("Tesla", "Toyota", "BMW");</span><span id="2d01" class="jn jo hi jj b fi jt jq l jr js">let cars = new Array(3); //empty array with fixed length of 3</span><span id="ebb4" class="jn jo hi jj b fi jt jq l jr js">let cars = Array(3); //empty array with fixed length of 3</span><span id="b341" class="jn jo hi jj b fi jt jq l jr js">let cars = Array.of("Tesla", "Toyota", "BMW");</span><span id="a6f3" class="jn jo hi jj b fi jt jq l jr js">let cars = Array.from("Tesla");//convert iterable ro array-like objects to array<br/>//["T","e","s","l","a"]</span></pre><p id="070a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对象.键</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f56b" class="jn jo hi jj b fi jp jq l jr js">Retrieve keys from object and place them in array</span><span id="dd58" class="jn jo hi jj b fi jt jq l jr js">let car = {type:"Tesla", model:"Modal X", color:"white"};<br/>const carData = Object.keys(car)<br/>console.log(carData)</span><span id="76b7" class="jn jo hi jj b fi jt jq l jr js">//it prints <br/>//["type", "model", "color"]</span><span id="7048" class="jn jo hi jj b fi jt jq l jr js">What if we put array inside Object.keys?</span><span id="9794" class="jn jo hi jj b fi jt jq l jr js">let cars = ["Tesla", "Toyota", "BMW"];<br/>const carData = Object.keys(cars)<br/>console.log(carData)</span><span id="848d" class="jn jo hi jj b fi jt jq l jr js">//It would return the array index<br/>//["0", "1", "2"]</span></pre><p id="0ca3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数组映射()</p><p id="0fd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个基于map()中现有数组<br/>中的每个元素返回一个新数组的函数，你必须传递一个回调函数——这个函数将为每个数组元素执行。<br/>第一个参数——当前元素，由您指定的变量名。它表示prices数组10.99，5.99，3.99，6.59中的元素<br/>第二个参数—索引，当前数组的索引，由您分配的变量名<br/>第三个参数—我们要处理的数组</p><p id="3a56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，我们将计算15%商品及服务税的价格，新价格将是当前价格* 1.15，因此价格*(1+商品及服务税)在返回声明中</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="14e0" class="jn jo hi jj b fi jp jq l jr js">const prices = [10.99, 5.99, 3.99, 6.59];<br/>const gst = 0.15;</span><span id="49f0" class="jn jo hi jj b fi jt jq l jr js">const pricesWithGST = prices.map((price, idx, prices) =&gt; {<br/>      return price * (1+gst);<br/>});<br/>console.log(pricesWithGST);</span><span id="5c22" class="jn jo hi jj b fi jt jq l jr js">//it prints<br/>//[12.638499999999999, 6.8885, 4.5885, 7.578499999999999]<br/>//the prices now include 15% of GST</span></pre><p id="064b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">[…]扩展运算符</p><p id="e6a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个有助于从数组中提取数据的语法，就像从数组<br/><strong class="ih hj"><em class="ju">【10.99，5.99，</em></strong> 10.99，5.99，3.99，6.59<strong class="ih hj"><em class="ju">】</em></strong>10.99，5.99，3.99，6.59<br/><strong class="ih hj"><em class="ju"/></strong>【约翰】，【菲菲】<strong class="ih hj"><em class="ju"/></strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="7853" class="jn jo hi jj b fi jp jq l jr js">//Copy array data to new array<br/>const names = ['John', 'Fifi'];<br/>const copiedNames = [...names];<br/>console.log(copiedNames);</span><span id="8424" class="jn jo hi jj b fi jt jq l jr js">//["John", "Fifi"]</span><span id="62a5" class="jn jo hi jj b fi jt jq l jr js">//Append data from other array to existing array<br/>const moreNames = ['Eunice', ...names];<br/>console.log(moreNames);</span><span id="302d" class="jn jo hi jj b fi jt jq l jr js">//["Eunice", "John", "Fifi"]</span><span id="1d85" class="jn jo hi jj b fi jt jq l jr js">//extract data from array and place in function accept parameters with comma separator<br/>const prices = [14.99, 7.99, 3.99, 2.59];<br/>console.log(Math.min(...prices))</span><span id="e847" class="jn jo hi jj b fi jt jq l jr js">//copy array contains object<br/>const cars = [{ brand: 'Tesla', color: 'white' }, { brand: 'BMW', color: 'black' }];<br/>const copiedCars = [ ...cars];</span><span id="c0c3" class="jn jo hi jj b fi jt jq l jr js">console.log(copiedCars);</span><span id="a854" class="jn jo hi jj b fi jt jq l jr js">//new array but same objects inside<br/>//[{brand: "Tesla", color: "white"},{brand: "BMW", color: "black"}]</span><span id="b270" class="jn jo hi jj b fi jt jq l jr js">It copies from cars array and save in new array copiedCars, but since the elements inside cars are object, so that means the elements inside copiedCars are the same objects. That means if you edit the elements inside the copiedCars, the elments inside cars will be affected too, unless you handled manually</span></pre><p id="25de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于新的学习者，很难记住所有的，让我们做一些练习，试着理解下面的代码片段</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="09bf" class="jn jo hi jj b fi jp jq l jr js">const fruits   = {<br/>        apple:1,<br/>        orange:1,<br/>        peach:2,<br/>        pear:2<br/>        <br/>    }</span><span id="355e" class="jn jo hi jj b fi jt jq l jr js">const FruitsTags = Object.keys(fruits)<br/>    .map(fruitKey =&gt; {<br/>        return [...Array(fruits[fruitKey])].map(<br/>            (_, i)=&gt; {return `&lt;Fruit key=${fruitKey + i} type=${fruitKey}/&gt;`}<br/>        <br/>        );   <br/>    });<br/>    <br/>console.log(FruitsTags);</span></pre><p id="fcd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">解释—循序渐进</p><p id="1342" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步，很简单，只需从对象中提取那些键</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="ef45" class="jn jo hi jj b fi jp jq l jr js"> const FruitsTags = Object.keys(fruits )</span><span id="6016" class="jn jo hi jj b fi jt jq l jr js">console.log(FruitsTags );<br/>["apple", "orange", "peach", "pear"]</span></pre><p id="4731" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在map中，它将创建一个空数组，其长度基于基于水果数组的每个值(1，1，2，2)。开始时使用spread操作符，它将从每个数组中提取那些空值，并将其打包回数组。这样做的原因是因为空数组没有我们下一步需要的任何索引。通过使用spread运算符对空数组进行重新打包，它将替换为一个未定义的值，从而得到索引</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="fd34" class="jn jo hi jj b fi jp jq l jr js">const FruitsTags = Object.keys(fruits)<br/>.map(fruitKey =&gt; {<br/>        return [...Array(fruits[fruitKey])]   <br/>});</span><span id="3a78" class="jn jo hi jj b fi jt jq l jr js">console.log(FruitsTags );<br/>[[undefined]<br/>[undefined]<br/>[undefined, undefined]<br/>[undefined, undefined]]</span></pre><p id="de7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在嵌套映射中，我们只需在每个数组中添加键和索引就可以返回一个字符串</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e157" class="jn jo hi jj b fi jp jq l jr js">const FruitsTags = Object.keys(fruits)<br/>.map(fruitKey =&gt; {<br/>    return [...Array(fruits[fruitKey])].map(<br/>                <br/>                (_, i)=&gt; { return (fruitKey + i)}<br/>            <br/>    );   <br/>});</span><span id="c392" class="jn jo hi jj b fi jt jq l jr js">console.log(FruitsTags);</span><span id="d89b" class="jn jo hi jj b fi jt jq l jr js">["apple0"]<br/>["orange0"]<br/>["peach0", "peach1"]<br/>["pear0", "pear1"]</span></pre><p id="e2cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用反勾号(模板文字)，我们可以将表达式括在里面并打印标签。实际上，这是来自一个关于如何根据object中的值动态生成组件的React示例。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="82b8" class="jn jo hi jj b fi jp jq l jr js">const FruitsTags = Object.keys(fruits)<br/>    .map(fruitKey =&gt; {<br/>        return [...Array(fruits[fruitKey])].map(<br/>            <br/>            (_, i)=&gt; {return `&lt;Fruit key=${fruitKey + i} type=${fruitKey}/&gt;`}<br/>        <br/>        );   <br/>    });<br/>    <br/>console.log(FruitsTags);<br/>[["&lt;Fruit key=apple0 type=apple/&gt;"]<br/>["&lt;Fruit key=orange0 type=orange/&gt;"]<br/>["&lt;Fruit key=peach0 type=peach/&gt;", "&lt;Fruit key=peach1 type=peach/&gt;"]<br/>["&lt;Fruit key=pear0 type=pear/&gt;", "&lt;Fruit key=pear1 type=pear/&gt;"]]</span></pre><p id="d885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你花时间在你的控制台上尝试过，我想你现在应该很理解object . keys()/Array map()/[…](spread operator)了。</p></div></div>    
</body>
</html>