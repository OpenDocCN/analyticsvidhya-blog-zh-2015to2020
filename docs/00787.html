<html>
<head>
<title>Bengali Text Visualization Using Word2Vec</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Word2Vec的孟加拉文本可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/bengali-text-visualization-using-word2vec-211e2ed9fa30?source=collection_archive---------2-----------------------#2019-09-06">https://medium.com/analytics-vidhya/bengali-text-visualization-using-word2vec-211e2ed9fa30?source=collection_archive---------2-----------------------#2019-09-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6c9168ae14e6e0f6eeffde89f396abed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_oBdp-q3fHpZz_tt-Jr7NQ.png"/></div></div></figure><p id="a801" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">文本可视化是文本分析和文本挖掘的重要组成部分。<br/>某种技术之后是文本的可视化。其中之一就是秀技二字。用向量法显示单词是一个很常见的术语。它的主要任务是保存单词并将它们的向量值放在一起。这将有助于以后解决与课文有关的问题。</p><p id="5e47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">几天来我一直在研究孟加拉文。在一个情节中用孟加拉语文本制作一个节目有点挑战性。因为它不像其他语言。孟加拉语字符不支持直接出现在图中。所以需要特定的孟加拉字体来显示每个字符。从孟加拉文本中去除标点符号是另一个挑战，因为不使用Unicode就不能从孟加拉文本中去除最大数量的标点符号。</p><p id="d3ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，我在下面解释了如何从孟加拉文本中删除标点符号，以及如何使用Word2vec在绘图上显示孟加拉文本。</p><h2 id="be25" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">所需的库</h2><p id="9e88" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">我们使用库来降低编码的复杂性。所以使用图书馆帮助我们做事情非常容易和快速。这里我们使用了流行的库。所有这些库以前都在其他语言中广泛使用过。</p><blockquote class="kx ky kz"><p id="943e" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">gensim: 用于自然语言处理的开源库。它是由python和cython开发的。文本分析，Word2Vec，Doc2Vec是gensim库的主要用途。</p><p id="8da7" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated"><strong class="is hj"> sklearn: </strong>动态有效的机器学习库。数据预处理、模型选择、分类、回归、聚类是sklearn的主要用途。</p><p id="cfb4" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated"><strong class="is hj"> matplotlib: </strong>用于2D和3D绘图。NumPy数组的数值扩展。直方图、散点图、条形图都是matplotlib的例子。</p></blockquote><h2 id="0d48" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第一步:</h2><p id="6243" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">在声明<strong class="is hj"> gensim </strong>库之后，我们导入<strong class="is hj"> word2vec </strong>。Word2vecis是一个<strong class="is hj">两层</strong>神经网络，用于<strong class="is hj">单词嵌入</strong>。使用大型文本文档作为输入，返回其单词的向量值。这是多维的。然后从<strong class="is hj"> sklearn </strong>导入<strong class="is hj"> PCA </strong>(主成分分析),因为它将数值转换为相关到不相关的集合。现在从matplotlib导入pyplot，这将有助于在图形中显示输出。由于孟加拉文字不支持字体，所以<strong class="is hj">字体管理器</strong>必须从matplotlib导入。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="3738" class="jx jy hi lj b fi ln lo l lp lq"><strong class="lj hj">import</strong> <strong class="lj hj">gensim</strong><br/><strong class="lj hj">from</strong> <strong class="lj hj">gensim.models</strong> <strong class="lj hj">import</strong> Word2Vec<br/><strong class="lj hj">from</strong> <strong class="lj hj">sklearn.decomposition</strong> <strong class="lj hj">import</strong> PCA<br/><strong class="lj hj">from</strong> <strong class="lj hj">matplotlib</strong> <strong class="lj hj">import</strong> pyplot<br/><strong class="lj hj">import</strong> <strong class="lj hj">matplotlib.font_manager</strong> <strong class="lj hj">as</strong> <strong class="lj hj">fm</strong></span></pre><h2 id="3163" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第二步:</h2><p id="9127" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">从用户处获取长文本，并将其放入变量(t1)中。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="dd85" class="jx jy hi lj b fi ln lo l lp lq">t1=input("Enter Text:")</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/cc9aac9de97102fae40b2320ffd98ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zvYAJto9y53T1vfQMzxqPw.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">输入孟加拉文字</figcaption></figure><h2 id="dfd7" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第三步:</h2><p id="2f46" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">在<strong class="is hj"> word2vec </strong>之前需要对文本进行预处理。在预处理阶段，我们刚刚删除了正则表达式。<strong class="is hj">空格</strong>去除、<strong class="is hj"> bangla_fullstop </strong>去除、<strong class="is hj">标点</strong>。这需要首先导入一个正则表达式。这里不直接支持孟加拉语的符号。所以他们必须从文本中移除使用<strong class="is hj">的Unicode </strong>。这里使用的正则表达式和<strong class="is hj"> sub() </strong>函数用于替换子字符串。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="8abb" class="jx jy hi lj b fi ln lo l lp lq"><strong class="lj hj">import</strong> <strong class="lj hj">re</strong><br/>whitespace = re.compile(u"[\s<strong class="lj hj">\u0020\u00a0\u1680\u180e\u202f\u205f\u3000\u2000</strong>-<strong class="lj hj">\u200a</strong>]+", re.UNICODE)<br/>bangla_fullstop = u"<strong class="lj hj">\u0964</strong>"<br/>punctSeq   = u"['<strong class="lj hj">\"</strong>“”‘’]+|[.?!,…]+|[:;]+"<br/>punc = u"[(),$%^&amp;*+=<strong class="lj hj">{}</strong>\[\]:<strong class="lj hj">\"</strong>|<strong class="lj hj">\'</strong>\~`&lt;&gt;/,¦!?½£¶¼©⅐⅑⅒⅓⅔⅕⅖⅗⅘⅙⅚⅛⅜⅝⅞⅟↉¤¿º;-]+"<br/>t1= whitespace.sub(" ",t1).strip()<br/>t1 = re.sub(punctSeq, " ", t1)<br/>t1 = re.sub(bangla_fullstop, " ",t1)<br/>t1 = re.sub(punc, " ", t1)</span><span id="76c6" class="jx jy hi lj b fi lw lo l lp lq">print(t1)</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/93f0c79a5297b933aada5ce35a51cd5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kq9Nx6P1DeztNUTwRKMCUg.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">干净的孟加拉文字</figcaption></figure><h2 id="19b9" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第四步:</h2><p id="3271" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">处理完文本后，将其放入一个列表中，并使用<strong class="is hj"> split() </strong>函数将文本作为一个拆分分隔符。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="059c" class="jx jy hi lj b fi ln lo l lp lq">doc=[t1.split()]<br/>print(doc)</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/cfc887ffd435b4ceadaa93433b3f915f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQXmFhP2FyYPHmzIO3AK4g.png"/></div></div></figure><h2 id="0cab" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第五步:</h2><p id="ef31" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">输入文本需要在<strong class="is hj"> Word2vec之前进行训练。</strong>这里我们使用的是<strong class="is hj"> gensim </strong>模型。对于模型火车，我们已经将文本放置在参数计算的列表中，总文本的长度，以及模型的迭代次数。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="e8d0" class="jx jy hi lj b fi ln lo l lp lq">model = Word2Vec(doc, min_count=1)</span><span id="f513" class="jx jy hi lj b fi lw lo l lp lq">model.train(doc, total_examples=len(doc), epochs=model.iter)</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/c8fb9fed5cf0d62635f328d7e6a54292.png" data-original-src="https://miro.medium.com/v2/resize:fit:276/format:webp/1*IXZO1QZd9wI7WFAqC-i4uA.png"/></div></figure><h2 id="ac4b" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第六步:</h2><p id="b8d1" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">模型的词汇表放在表单中的变量(x)中。主成分分析调用了<strong class="is hj"> PCA() </strong>函数。其中组件大小也是2。然后对模型进行拟合和转换，以表示模型的词汇。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="2a67" class="jx jy hi lj b fi ln lo l lp lq">x= model[model.wv.vocab]<br/>pca = PCA(n_components=2)<br/>result = pca.fit_transform(x)</span></pre><h2 id="24bd" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">第七步:</h2><p id="b3f7" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">为了将矢量文件呈现给绘图，在此阶段显示了<strong class="is hj">散点图</strong>。模型的向量文件具有用于将单词分成单词变量的词汇表。必须通过字体属性使用不同的孟加拉字体来支持孟加拉文本。为此，我们使用了孟加拉字体<strong class="is hj"> kalpurush.ttf </strong>。使用for循环转换单词元组列表，然后在x轴和y轴上标注孟加拉语单词。最后，<strong class="is hj"> show() </strong>函数用于显示地块。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="8d35" class="jx jy hi lj b fi ln lo l lp lq">pyplot.scatter(result[:, 0], result[:, 1])<br/>words = list(model.wv.vocab)<br/>prop = fm.FontProperties(fname='kalpurush.ttf')<br/><strong class="lj hj">for</strong> i, word <strong class="lj hj">in</strong> enumerate(words):<br/>	pyplot.annotate(word, xy=(result[i, 0], result[i, 1]),fontproperties=prop)<br/>pyplot.show()</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/412f25783b99b1033fe5427d1554c0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*mM0-iIV0RmkxO6AXb1PAVw.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">孟加拉文本可视化</figcaption></figure><p id="7871" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">github:<a class="ae mb" href="https://github.com/AbuKaisar24/Bengali-Text-Visualization-Using-Word2Vec" rel="noopener ugc nofollow" target="_blank">https://github . com/abukaisar 24/Bengali-Text-Visualization-Using-word 2 vec</a></p></div></div>    
</body>
</html>