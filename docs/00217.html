<html>
<head>
<title>An Overview of Blue Green Deployment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蓝绿色部署概述</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/an-overview-of-blue-green-deployment-fc3cf94bea3b?source=collection_archive---------0-----------------------#2018-12-20">https://medium.com/analytics-vidhya/an-overview-of-blue-green-deployment-fc3cf94bea3b?source=collection_archive---------0-----------------------#2018-12-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0838" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在现代场景中，每当我们谈论开发软件时，我们脑海中闪现的很少是开发实践、部署和发布软件。</p><p id="157b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里讨论的重点是阐明部署所遵循的实践和方法，其中一个是<strong class="ih hj"> <em class="jd">【蓝绿部署】</em> </strong>，另一个是金丝雀部署，后面讨论的不多。</p><h1 id="4c09" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">蓝绿部署究竟是什么？</strong></h1><p id="a351" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">蓝绿色部署是部署和发布软件的一个好策略。这基本上是维护两个独立的生产环境的想法，为了便于讨论，应该命名为蓝色和绿色。无论是蓝色还是绿色的环境，都必须能够为当前生产中的应用程序提供服务。这就是为什么这两个环境必须几乎相同。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/dccd67f7a2c1eed894093b9836646225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*ARe1iLUZA_YGwsj7QFJwsQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx translated"><a class="ae kt" href="https://martinfowler.com/bliki/BlueGreenDeployment.html" rel="noopener ugc nofollow" target="_blank">https://martinfowler.com/bliki/BlueGreenDeployment.html</a></figcaption></figure><h1 id="e45e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">使用蓝绿色部署的优点</strong></h1><p id="83ac" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">它只是通过运行两个相同的生产环境(蓝色和绿色)来减少停机时间和风险。在任何时候，只有一个环境是实时的，实时环境为所有生产流量提供服务。</p><p id="bdf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它还降低了风险系数:如果您的绿色新版本发生了意想不到的事情，您可以通过切换回蓝色立即回滚到上一个版本。</p><p id="eef9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在蓝绿色部署中，蓝色和绿色系统使用相同的层或数据库。保持应用程序数据同步是必要的，但是镜像数据库也可以帮助实现这一点。</p><p id="1a9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，一旦绿色环境开始为实时应用程序提供服务，您就可以关闭旧的蓝色实例。与此同时，您可以在这些实例上部署一个更新的版本，并在下一个即将发布的版本中将它们变成新的绿色。</p><h1 id="b1ec" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">使用蓝绿色部署的缺点</strong></h1><p id="078f" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">您需要基础架构来维护蓝色和绿色环境，这将包括成本和其他因素。</p><p id="6a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您尝试在非隔离的基础架构(虚拟机、Docker等)上这样做，您将面临破坏您的蓝色和绿色环境的风险</p><p id="4a9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，绿色环境中很少有耗时的事务。因此，当您切换到blue时，您必须优雅地处理那些耗时的事务以及新事务。如果您的数据库不够智能来处理这种情况，这可能会造成一些严重的问题。</p><h1 id="ad27" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">简而言之</strong></h1><p id="5157" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">虽然有许多其他策略可用于部署，但蓝绿色部署实际上是一种更简单的机制，可以快速、轻松地实现。您只需创建基础架构的副本。实际上，您还可以及时自动创建副本。它还是一个很好的暂存或备份环境，完全是您的生产环境的镜像。在这种类型的部署中，如果事情没有按预期进行或出现任何故障，立即回滚的机会总是存在的。</p></div></div>    
</body>
</html>