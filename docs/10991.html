<html>
<head>
<title>Among Us EDA Web Application using Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Streamlit 的 EDA Web 应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/among-us-eda-web-application-using-streamlit-3f1a0bd0b8d6?source=collection_archive---------10-----------------------#2020-11-12">https://medium.com/analytics-vidhya/among-us-eda-web-application-using-streamlit-3f1a0bd0b8d6?source=collection_archive---------10-----------------------#2020-11-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7085" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好！我们继续我们的项目，关注来自谷歌的游戏用户评分和评论(见“我们的项目部分”来先睹为快我们以前的项目)。在本次会议中，我们将把我们的<a class="ae jd" href="https://www.linkedin.com/posts/rickynauvaldy_among-us-google-play-store-rating-exploratory-activity-6730014182701432832-OY6o" rel="noopener ugc nofollow" target="_blank">前一个项目</a>的结果包装到一个 web 应用程序中，并对其进行部署，使其更容易被访问。</p><p id="5366" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你错过了，在我们<a class="ae jd" href="https://rickynauvaldy.medium.com/among-us-google-play-store-rating-exploratory-data-analysis-e9ee8b419344" rel="noopener">之前的项目</a>中，我们从《我们中间》游戏的谷歌 Play 商店用户评分和评论中做了一个简单的探索性数据分析(EDA)。这些数据是从 9 月 22 日到 10 月 20 日的谷歌 Play 商店用户对美国游戏的评价和评论中删除的。</p><p id="f545" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们之前的<a class="ae jd" href="https://rickynauvaldy.medium.com/among-us-google-play-store-rating-exploratory-data-analysis-e9ee8b419344" rel="noopener">项目</a>的分析和图形制作是以 Jupyter Notebook 为平台使用 Python 完成的。虽然使用<a class="ae jd" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter Notebook </a>来探索数据很好，但对于那些更喜欢最终产品而不是过程的非程序员来说，很难访问它。基于这个问题，选择之一是创建一个包含所有需要的最终结果的 web 应用程序。有趣的是，它提出了另一个复杂的问题，因为创建一个 web 应用程序并不容易。幸运的是，我们听说了<a class="ae jd" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>，这是一个开源库，可以轻松地将 Python 代码转换成 web 应用程序。</p><h1 id="0bc2" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Streamlit 入门</h1><p id="3327" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">正如 Streamlit 主页所说，它提供了“构建和共享数据应用程序的最快方式，在几分钟内将数据脚本转换为可共享的 web 应用程序，全部用 Python 编写，全部免费，不需要前端体验”。对它感兴趣，我们试一试。即使我们真的很想把 Streamlit 和 Jupyter Notebook 一起用，但还是没有运气做到。相反，我们使用原生 Python 和<a class="ae jd" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio 代码</a>作为代码编辑器。在这里先睹为快我们创造了<a class="ae jd" href="http://project-streamlit.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"/>(<a class="ae jd" href="http://project-streamlit.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">http://project-streamlit.herokuapp.com/</a>)。</p><p id="c479" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将代码分成三个版本:入门版、基础版和高级版。</p><h2 id="0f4c" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">介绍</h2><p id="a345" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">作为介绍，让我们使用 Streamlit 创建一个非常简单的 web 应用程序，代码不到 10 行(或者 15 行，如果我们希望代码更容易阅读的话)。我们从安装 Streamlit 包开始。从您的终端(或 CMD，或 PowerShell)，只需执行<code class="du kv kw kx ky b">pip install streamlit</code>。之后，我们创建一个项目文件夹(可能在你想要的任何地方)并创建一个 Python 文件(例如<code class="du kv kw kx ky b">app_basic.py</code>)。</p><p id="928a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在文件中，通过添加<code class="du kv kw kx ky b">import streamlit as st</code>导入 streamlit 包。假设我们想制作一个“主页”。我们可以在 Python 和 Streamlit 中做到这一点，方法是定义一个包含页面中所有必需组件的函数。我们经常使用的一些 Streamlit 功能有<code class="du kv kw kx ky b">streamlit.title()</code>、<code class="du kv kw kx ky b">streamlit.header()</code>和<code class="du kv kw kx ky b">streamlit.markdown()</code>。正如函数所建议的，调用<code class="du kv kw kx ky b">streamlit.title()</code>创建页面标题，<code class="du kv kw kx ky b">streamlit.subheader()</code>用于页面标题副标题，<code class="du kv kw kx ky b">streamlit.markdown()</code>用于在页面中创建段落。对于命名约定，最好根据页面的用途来命名函数。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">创建主页功能</figcaption></figure><p id="7483" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然您可以通过添加<code class="du kv kw kx ky b">if __name__ == '__main__':</code>并在代码中调用<code class="du kv kw kx ky b">home()</code>函数来直接运行它，但我们希望通过将它包装在<code class="du kv kw kx ky b">main()</code>函数中来使它更具可伸缩性。总之，我们需要使用 Streamlit 创建一个简单的 web 应用程序，这几行代码如下:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">app_intro.py 的完整代码</figcaption></figure><p id="7d0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们尝试在本地主机上运行应用程序(即只有您可以访问它)。要运行它，打开终端，并导航到<code class="du kv kw kx ky b">app_intro.py</code>的项目文件夹。执行<code class="du kv kw kx ky b">streamlit run &lt;your-application-name&gt;.py</code>或本例中的<code class="du kv kw kx ky b">streamlit run app_intro.py</code>。瞧啊。您的(可能是)第一个 Streamlit web 应用程序已经启动并运行了！</p><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es lk"><img src="../Images/72881ebd4c10d1fb21c4096218a96196.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*Lf9GUKA8jAgOsFuKccdGWA.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">当您成功运行 Streamlit 文件时，您会看到这样的通知。跟随<a class="ae jd" href="http://localhost:8501" rel="noopener ugc nofollow" target="_blank"> http://localhost:8501 </a>链接。</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ln"><img src="../Images/ede6a2a32cb094c5e728ade47a1875c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDQYLcJ2k-KXkAE1Pg91WQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">您的(可能是)第一个 Streamlit web 应用程序已经启动并运行</figcaption></figure><h2 id="166d" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">基础</h2><p id="2c93" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我们现在想要实现我们之前的项目，以便在我们的 Streamlit web 应用程序中可用。你可能想继续使用相同的文件作为介绍版本，或者你可能想从头开始，你可以自由选择。基本上，我们将复制以前项目的一些部分，并将其调整为在 web 应用程序中显示。</p><p id="0c68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先导入使用 Streamlit 所需的包，以及我们在之前的项目中创建图表时使用的包:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">导入必要的包</figcaption></figure><p id="cdd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仍然与前一个项目相同，我们将希望读取 Excel 文件并将其存储为 DataFrame <code class="du kv kw kx ky b">df</code>。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">正在读取 XLSX 文件</figcaption></figure><p id="0d48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们希望有两个菜单:“主页”(我们在<em class="ls"> intro </em>中创建的那个)和“仪表板”(我们希望将图表放入其中的那个)。要创建导航栏，我们可以使用 Streamlit 提供的<code class="du kv kw kx ky b">streamlit.sidebar.selectbox()</code>。我们可能还想让页面的标题与我们在侧边栏上创建的菜单相同。如果是这样，我们就需要将<code class="du kv kw kx ky b">streamlit.sidebar.selectbox()</code>设置成一个变量，并将其传递给页面函数(即<code class="du kv kw kx ky b">home(main_mode)</code>)。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">用侧边栏和模式选择修改主功能</figcaption></figure><p id="7ee5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将稍微修改一下我们之前的 home 函数，这样它将接受一个变量(即<code class="du kv kw kx ky b">main_mode</code>)，并在<code class="du kv kw kx ky b">streamlit.title()</code>中使用它。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">具有模式选择和来自模式的标题的主页功能修改</figcaption></figure><p id="18a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于仪表板，我们创建了一个名为<code class="du kv kw kx ky b">dashboard()</code>(基于页面目的命名)的新函数，它接受一个变量<code class="du kv kw kx ky b">mode</code>。由于我们已经加载了 DataFrame <code class="du kv kw kx ky b">df</code>，我们可以使用它并以 Streamlit 方式呈现它。让我们首先创建一个<code class="du kv kw kx ky b">df.head()</code>表，显示数据帧的前 5 个数据。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">使用 streamlit.table()在 streamlit 中创建表</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lt"><img src="../Images/42afdaca77936ba6553bbd0ad91b8e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YadK2WiLVGKY7Mi0KA5Uwg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">我们的网站显示侧栏和数据框表</figcaption></figure><p id="f260" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">继续讨论<code class="du kv kw kx ky b">dashboard()</code>函数，在绘制评级分布图时，我们使用<code class="du kv kw kx ky b">streamlit.plotly_chart()</code>而不是像 Jupyter Notebook 中那样使用<code class="du kv kw kx ky b">fig.show()</code>，因为它是 Streamlit 的一个函数，接收 plotly 图表并以 Streamlit 的方式绘制。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">绘制流线图</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lu"><img src="../Images/5b8e39ac6d999c349245e34aaaa46d6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2R290nC9GdmyBYNMbCtQKA.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">评级分布图，基本上与我们在之前的项目中创建的相同</figcaption></figure><p id="5374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在绘制“一段时间内的用户评级”时，情况也是如此:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">绘制图表绘制一段时间内用户评分的简化方式</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lv"><img src="../Images/df9bc862e3f60411959f731c20122f35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n95T4FIGGNSPRuxhDsAGlA.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">用户评级随时间变化的图表，基本上与我们在以前的项目中创建的相同</figcaption></figure><p id="75fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，整个<code class="du kv kw kx ky b">dashboard()</code>函数将如下所示:</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">完整的仪表板功能</figcaption></figure><h2 id="c853" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">先进的</h2><p id="9ea8" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">这与创建图形或图表或数据分析有些无关，但你们中的一些人可能想知道是否有可能在 Streamlit 中实现自定义的 HTML 和 CSS。虽然这是可能的，但我们认为这有点复杂，或者可能只是我们还没有探索太多。请让我们知道你是否有改进我们所做的事情的建议。</p><p id="ab90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">听起来很简单，我们试图把我们的个人形象展示在网络上。以下是我们取得的成果:</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lw"><img src="../Images/56674c8f6c004bf3e7b1437ca4a92dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpV8vs48HzPRzP2eATHwow.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">将图像放入 Streamlit 网站</figcaption></figure><p id="a980" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我们设法做到了，但我们觉得代码有点乱，应该管理得更好。出于研究目的，我们分享了我们所做的。</p><p id="2edf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">修改主要是在主代码中加入了<code class="du kv kw kx ky b">home()</code>函数和一个附加物。我们定义了<code class="du kv kw kx ky b">image_path</code>,以便在图像路径发生变化时更容易维护。</p><pre class="kz la lb lc fd lx ky ly lz aw ma bi"><span id="a3f9" class="kh jf hi ky b fi mb mc l md me">image_path = drive_path + 'images/'</span></pre><p id="50f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还发现 Streamlit 不能照原样读取图像，我们必须将其编码为 Base64 才能读取图像。在我们通过在导入包部分添加<code class="du kv kw kx ky b">import base64</code>来导入库之后，我们创建一个函数<code class="du kv kw kx ky b">image_to_base64()</code>来实现代码的可重用性。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="de53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们转换我们团队成员的每张图片，供以后的 html 使用。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="114a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过调用带有 HTML 代码段参数的<code class="du kv kw kx ky b">streamlit.markdown()</code>函数来使用我们的定制 HTML，并将<code class="du kv kw kx ky b">unsafe_allow_html</code>设置为<code class="du kv kw kx ky b">True</code>。为了提高代码的可读性，我们将 HTML 代码存储在一个变量中，并结合 f 字符串格式，通过将<code class="du kv kw kx ky b">img</code>标签中的<code class="du kv kw kx ky b">src</code>设置为<code class="du kv kw kx ky b">src=”data:image/jpg;base64,{avatar_imam}</code>来获取我们的图像资源。接下来的 6 个成员的其他图像会重复这些内容。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="3a69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让事情顺利进行，我们还必须导入 CSS 和 JavaScript 文件。我们将它包装在一个易于调用的函数中。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="cb20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且我们调用了<code class="du kv kw kx ky b">main()</code>函数中的函数。</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="077e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">全部完成！我们的图像现在在网上显示得很漂亮。</p><h1 id="12ae" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">部署到 Heroku</h1><p id="afa5" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在本地主机上创建了 Streamlit Python 应用程序之后，现在我们尝试通过互联网部署我们的应用程序。部署我们的应用程序的最简单的方法之一是使用 Heroku。它是一个平台即服务(PaaS ),使开发人员能够完全在云中构建、运行和操作应用程序。它易于使用，而且是免费的！</p><p id="47aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先在<a class="ae jd" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank">https://www.heroku.com/</a>创建一个 Heroku 账户(或者登录，如果你已经有一个的话)。登录我们的帐户后，我们可以单击“New”按钮，然后单击“Create New App”来部署我们的应用程序。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mf"><img src="../Images/02bfad8e423fa0d5da3006cb4d75cae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wi5sCXFn4p0molO6"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">Heroku 仪表板</figcaption></figure><p id="9c4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们输入项目名称和我们希望部署应用程序的区域。假设我们将项目命名为“project-streamlit ”,并使用“美国”地区。点击“创建应用程序”制作项目。在本帖中,“project-streamlit”应用程序名称不可用，因为我们已经为该项目使用了该名称。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mg"><img src="../Images/1a9d13acb6f0b46f64ae44c4591ff1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xqRJz-neaiaFNWfe"/></div></div></figure><p id="7ccc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Heroku 需要几个文件来完成部署，例如 Python 文件本身(例如 app_advanced.py)、Procfile 文件、需求文件和设置文件，我们必须创建这些文件。我们可以使用我们的编辑器(Visual Studio 代码)来制作这个文件。在我们的编辑器上写下<code class="du kv kw kx ky b">web:sh setup.sh &amp;&amp; streamlit run &lt;python-file&gt;</code>并保存为文件名为<strong class="ih hj"> Procfile </strong>的文件。在我们的例子中，</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="3633" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建名为“setup.sh”的安装文件，并编写</p><figure class="kz la lb lc fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><p id="61a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们在编辑器上创建一个新文件，列出我们在应用程序中使用的所有重要包，并将其保存为<strong class="ih hj"> requirements.txt. </strong></p><p id="6717" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这 4 个文件之后，我们就可以部署我们的应用程序了。Heroku 给出了两种部署方案:将我们的 Git 帐户连接到 Heroku，或者使用 Heroku CLI。我们将从网站上演示 Heroku CLI 的使用。Heroku CLI 用于将我们的本地主机连接到 Git，并获取 SSH 公钥以在 Heroku 中部署应用程序。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mh"><img src="../Images/65a9e09fc7f3bea91fac625f4f0325df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K7fKUvkXZ9NIpO-K"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">Heroku 的部署方法选择</figcaption></figure><p id="c54c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的终端(或 Conda 提示符)<code class="du kv kw kx ky b">heroku login</code>上写，将我们的本地主机连接到我们的 Heroku 账户。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mi"><img src="../Images/5041d70785d4d5adade8cb748e78e30a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ev03NeqdCvwOUYanANXEgg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx translated">执行“heroku 登录”的命令行说明</figcaption></figure><p id="b5c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">登录后，我们可以按照 heroku 中的步骤在 git 上初始化一个新的存储库。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mj"><img src="../Images/f7b803ec6eed4547c153a75d423a8580.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/0*V7znem59Xnjb01U3"/></div></div></figure><p id="b69f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以按照这些步骤部署我们的应用程序。</p><ol class=""><li id="ed80" class="mk ml hi ih b ii ij im in iq mm iu mn iy mo jc mp mq mr ms bi translated">写<code class="du kv kw kx ky b">git add .</code></li><li id="8670" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc mp mq mr ms bi translated">写<code class="du kv kw kx ky b">git commit -m “First try to deploy application”</code>(或任何信息性消息)</li><li id="9001" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc mp mq mr ms bi translated">编写<code class="du kv kw kx ky b">git push heroku HEAD:master</code> <strong class="ih hj"> </strong>并等待处理</li><li id="1efb" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc mp mq mr ms bi translated">如果一切都完成了，我们可以通过编写<code class="du kv kw kx ky b"><strong class="ih hj">heroku open</strong></code>来打开我们的应用程序</li></ol><p id="9122" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瞧啊。我们的应用程序已经部署在 Heroku 上。我们可以访问 https:// <app-name> .herokuapp.com/(或者在我们的情况下<a class="ae jd" href="https://project-streamlit.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://project-streamlit.herokuapp.com/</a>)来检查您部署的应用程序。</app-name></p><h1 id="ea14" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">结论</h1><p id="a83a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我们展示了一种使用 Python 和 Streamlit 创建 web 应用程序的简单方法。我们首先创建了一个简单的 Streamlit web 应用程序，然后使用我们之前的 EDA(谷歌 Play 商店用户评分和评论)作为要放在 web 中的对象，然后在 Streamlit 中实现自定义 HTML 和 CSS。我们还分享了在 Heroku 部署这个项目，这样网络上的任何人都可以访问它，你可以在这里查看。关于 Streamlit，我们还有很多需要学习的地方，但就目前而言，我们对目前的进展感到满意。</p><h1 id="0b26" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">评论</h1><ul class=""><li id="07e1" class="mk ml hi ih b ii kc im kd iq my iu mz iy na jc nb mq mr ms bi translated">请在此找到这篇文章<a class="ae jd" href="https://github.com/imbhaskara/project_streamlit" rel="noopener ugc nofollow" target="_blank">使用的源代码。</a></li><li id="b6b2" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc nb mq mr ms bi translated">如果您在部署前测试时使用 Anaconda 作为 Python 编译器，您可能会得到一条错误消息<code class="du kv kw kx ky b">DLL load failed while importing ft2font</code>。根据我们所做的，我们通过卸载并重新安装<code class="du kv kw kx ky b">matplotlib</code>来解决这个错误。您可以通过在终端中执行<code class="du kv kw kx ky b">pip unistall matplotlib</code>，然后执行<code class="du kv kw kx ky b">pip install matplotlib</code>来实现。</li><li id="6021" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc nb mq mr ms bi translated">您可能会注意到，选项卡中显示的应用程序的标题与项目文件名相同(例如<code class="du kv kw kx ky b">app_advanced.py</code>)。因此，请确保您的文件命名正确，如果您想使用空格分隔的标题，请确保在运行 Streamlit(即<code class="du kv kw kx ky b">streamlit run "Among Us.py"</code>)时在文件名周围使用双引号。</li></ul><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es nc"><img src="../Images/c00da7cc5dca55765a3f1aa3cceb3c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*T5HJfaCb0I_Anqzjlj8Hgw.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">选项卡上的标题与文件名相同</figcaption></figure><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es nd"><img src="../Images/61e2fb506920cb7368a9ddf65e1f6f24.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*p8oOOSFZwND1rNdR3v670A.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx translated">根据需要进行更改，但在运行 Streamlit 时，请确保在文件名周围使用双引号来分隔标题</figcaption></figure><ul class=""><li id="dd69" class="mk ml hi ih b ii ij im in iq mm iu mn iy mo jc nb mq mr ms bi translated">这篇文章是我和<a class="ae jd" rel="noopener" href="/@imbhaskara">伊玛目巴斯卡拉</a>联合撰写的，所以我们将在我们双方的媒体上发表这个故事。也请在这里找到<a class="ae jd" rel="noopener" href="/@imbhaskara/among-us-eda-web-application-using-streamlit-f0dbf88c574d">他的故事</a>，如果你不介意，支持我们俩:D</li><li id="8153" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc nb mq mr ms bi translated">随时与我们讨论任何事情:)</li></ul></div><div class="ab cl ne nf gp ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="hb hc hd he hf"><h2 id="63a0" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">我们的项目</h2><ol class=""><li id="ded6" class="mk ml hi ih b ii kc im kd iq my iu mz iy na jc mp mq mr ms bi translated"><a class="ae jd" href="https://www.linkedin.com/posts/rickynauvaldy_me-and-some-colleagues-who-graduated-from-activity-6726391392807088128-mYXB" rel="noopener ugc nofollow" target="_blank">美国谷歌 Play 商店用户评分可视化使用 Tableau </a> ( <a class="ae jd" href="https://public.tableau.com/profile/rahman.firmansyah#!/vizhome/Winthisdatapt_1/Dashboard1" rel="noopener ugc nofollow" target="_blank">来源</a>)</li><li id="e275" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc mp mq mr ms bi translated"><a class="ae jd" href="https://www.linkedin.com/posts/rickynauvaldy_among-us-google-play-store-rating-exploratory-activity-6730014182701432832-OY6o" rel="noopener ugc nofollow" target="_blank">美国谷歌 Play 商店评级探索性数据分析使用 Python </a> ( <a class="ae jd" href="https://github.com/rickynauvaldy/eda_among_us" rel="noopener ugc nofollow" target="_blank">来源</a></li><li id="ba98" class="mk ml hi ih b ii mt im mu iq mv iu mw iy mx jc mp mq mr ms bi translated"><a class="ae jd" rel="noopener" href="/@imbhaskara/among-us-eda-web-application-using-streamlit-f0dbf88c574d">美国 EDA Web 应用使用 Streamlit </a> ( <a class="ae jd" href="https://github.com/imbhaskara/project_streamlit" rel="noopener ugc nofollow" target="_blank">来源</a>)</li></ol><h2 id="252b" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">我们的团队</h2><figure class="kz la lb lc fd ld er es paragraph-image"><div class="ab fe cl nl"><img src="../Images/2fe003caa3bb95da8d7dba7495632f15.png" data-original-src="https://miro.medium.com/v2/0*W4ElHkBAfOnd805C"/></div></figure><p id="7c1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图，从左至右:<a class="ae jd" href="https://www.linkedin.com/in/imam-bhaskara" rel="noopener ugc nofollow" target="_blank">伊玛目巴斯卡拉</a>、<a class="ae jd" href="https://www.linkedin.com/in/rickynauvaldy/" rel="noopener ugc nofollow" target="_blank">里基·瑙瓦尔迪·鲁利普特拉</a>、<a class="ae jd" href="https://www.linkedin.com/in/rahman-firmansyah-79283512b" rel="noopener ugc nofollow" target="_blank">拉赫曼·菲尔曼西亚</a> <br/>下图，从左至右:<a class="ae jd" href="https://www.linkedin.com/in/cahyaputera/" rel="noopener ugc nofollow" target="_blank">卡娅·普特拉</a>、<a class="ae jd" href="https://www.linkedin.com/in/winata-syahputra/" rel="noopener ugc nofollow" target="_blank">温娜塔·西亚普特拉</a>、<a class="ae jd" href="https://www.linkedin.com/in/teokhibran/" rel="noopener ugc nofollow" target="_blank">穆哈马德·特奥·希布兰</a>、<a class="ae jd" href="https://www.linkedin.com/in/arnold-p/" rel="noopener ugc nofollow" target="_blank">阿诺·P</a></p></div></div>    
</body>
</html>