<html>
<head>
<title>Analyze Trip Advisor Hotel Reviews: LDA Topic Modeling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析Trip Advisor酒店评论:LDA主题建模</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analyze-trip-advisor-hotel-reviews-lda-topic-modeling-2c1a56e35a09?source=collection_archive---------7-----------------------#2020-12-02">https://medium.com/analytics-vidhya/analyze-trip-advisor-hotel-reviews-lda-topic-modeling-2c1a56e35a09?source=collection_archive---------7-----------------------#2020-12-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a765" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">酒店的好坏取决于什么？对旅行者来说什么是重要的？让我们找出答案。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a311f0eff18ce0d73d7c130950a5421d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jWOSYoXmA-6ZdO2NfFaisw.jpeg"/></div></div></figure><p id="cddf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">酒店在旅行中起着至关重要的作用，随着信息的增加，选择最佳酒店的新途径出现了。<br/>有了<a class="ae jp" href="https://www.kaggle.com/andrewmvd/trip-advisor-hotel-reviews" rel="noopener ugc nofollow" target="_blank">这个数据集</a>，由从Trip advisor抓取的20k条评论组成，我将把LDA应用于:</p><ul class=""><li id="1534" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">发现评论中提到的热门话题和关键词</li><li id="fdbb" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">探索决定酒店好坏的关键因素</li></ul><h1 id="9bb7" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">潜在狄利克雷分配</h1><p id="7527" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated"><strong class="ih hj"> </strong> <a class="ae jp" href="https://en.wikipedia.org/wiki/Topic_model" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">主题模型</strong> </a>是一种统计<strong class="ih hj">模型</strong>，用于发现文档集合中出现的抽象“主题”。<a class="ae jp" href="http://blog.echen.me/2011/08/22/introduction-to-latent-dirichlet-allocation/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">潜在狄利克雷分配</strong> </a> (LDA)是主题模型的一个例子，用于将文档中的文本分类到特定主题。它建立了每个文档的主题模型和每个主题的单词模型，建模为Dirichlet分布。</p><p id="e538" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧！</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="8a75" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">导入数据集</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es me"><img src="../Images/519de14a42f481ac87d4134275839c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uIwpUMK40AjIlsMN-HYEog.png"/></div></div></figure><p id="d02c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">取数据的峰值</p><pre class="je jf jg jh fd mf mg mh mi aw mj bi"><span id="3d1d" class="lo kf hi mg b fi mk ml l mm mn">df.head(10) #Return the first 10 rows</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/39cad5902781a6b5aafaf52ff9ffda5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DGaaJTfYSfTnrC_TZp3FGA.png"/></div></div></figure><pre class="je jf jg jh fd mf mg mh mi aw mj bi"><span id="0d1e" class="lo kf hi mg b fi mk ml l mm mn">df.info()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/794075c464d834ab0929b44f0d4362c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y9-GdWk5mOSSPQfMQzNdsg.png"/></div></div></figure><h2 id="70bb" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">检查空值</h2><pre class="je jf jg jh fd mf mg mh mi aw mj bi"><span id="ec0e" class="lo kf hi mg b fi mk ml l mm mn">df.isna().sum()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/fbf1f9171cfc4d9f32c7703bb0c0012c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Z11XQsNDiCwpJdTobfy7Q.png"/></div></div></figure><h2 id="e60a" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">可视化评分分布</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><div class="je jf jg jh fd ab cb"><figure class="mr ji ms mt mu mv mw paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/4ae7aa572b91c76e349af24809b387b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*F9mLWCGYJAeloDbXWU12pw.png"/></div></figure><figure class="mr ji mx mt mu mv mw paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/08f46cd5f6745db170920ff0efc815da.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*Y0nwvFFsQN6gCbpGHm6lmA.png"/></div></figure></div><p id="c455" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据评分分布，我们可以看到酒店总体表现良好。正面评价(4&amp;5分)占总评价的74%。</p><p id="a26a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是决定和促成积极/消极体验的因素是什么呢？可以利用的是什么？有什么可以改进的？</p><p id="67d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过回答这些问题，人们可以更好地了解客户，并有望发现商机和弱点。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="3ee2" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">准备模型</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/942be0af13291a5c92da0070d83563ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0C3KfDSiytmQCoIn-LrXSA.png"/></div></div></figure><h2 id="1cc3" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">预处理数据</h2><p id="7a54" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">在这里，我们将执行以下操作:</p><ul class=""><li id="8e3c" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated"><strong class="ih hj">分词</strong>:拆分文本，将其分割成单词。将单词小写，去掉标点符号。</li><li id="6cbe" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">所有的<strong class="ih hj">停用词</strong>都被删除——它们被从给定文本中删除或排除，以便将更多的注意力放在那些定义文本含义的词上。</li><li id="6847" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">单词被词条化——旨在仅移除屈折词尾，并返回单词的基本形式或词典形式。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mz"><img src="../Images/d402a14a9d33e5e2b1d315b25ce67156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcvUf0jDM-vnFApbvByDzQ.png"/></div></div></figure><h2 id="4419" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated"><strong class="ak">潜在狄利克雷分配(LDA) </strong></h2><p id="1379" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">主题建模</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="3f29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我将主题编号设置为3，因为我怀疑这些评论会分为积极、中立和消极三类。您可以随意尝试这个数字。为了保证最高的相关性，你可以参考这篇文章:<a class="ae jp" href="https://www.machinelearningplus.com/nlp/topic-modeling-gensim-python/#14computemodelperplexityandcoherencescore" rel="noopener ugc nofollow" target="_blank">寻找最佳主题数量的方法</a>。</p><p id="1249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，对于每个主题，我们将探索在该主题中出现的单词及其相对权重。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es na"><img src="../Images/e454feb9068bf0aca4ad03f966230239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNMagRdnqYfnjhyy6ea29Q.png"/></div></div></figure><h2 id="a9b3" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated"><strong class="ak">这3个话题的关键词:</strong></h2><ul class=""><li id="c064" class="jq jr hi ih b ii lc im ld iq nb iu nc iy nd jc jv jw jx jy bi translated">话题0:房间，酒店，晚上，服务，时间，桌子，楼层，问题，小时，小，员工，水，问题…</li><li id="2e69" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">主题1:酒店，房间，很棒，很好，员工，位置，早餐，不错，晚上，干净，友好，面积，有帮助，舒适…</li><li id="ec29" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">话题2:食物，好，游泳池，时间，棒极了，度假村，海滩，人，餐厅，美丽，水，尼斯，工作人员…</li></ul><p id="9eea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据关键词，我们可以将它们归类为:</p><ul class=""><li id="af69" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated"><strong class="ih hj">负面的酒店体验</strong>(主题0)——从这一类别的关键词来看，问题似乎往往与等待时间、预订问题、肮脏和响度有关。</li><li id="17d8" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated"><strong class="ih hj">积极的酒店体验</strong>(话题1)——在这个话题中，我们可以看到大多数积极的评论都提到了房间、位置、员工和早餐。这告诉我们评论所基于的标准，所以基本上对客户来说什么是重要的。我们也可以在这里注意到“有益的”这个词。这可能表明，当问题出现时，员工如何处理情况会产生真正的影响，并留下持久的记忆。</li><li id="28f7" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated"><strong class="ih hj">积极的度假酒店体验</strong>(话题2)——我们了解到度假酒店必须受欢迎，而造就一个好的度假场所的因素包括位置/环境，如海滩、人、餐厅等。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ne"><img src="../Images/94fc3ed1225707ccf8168ad1bfda7c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DVuJcLkaRv9GHAdYHL7LLw.gif"/></div></div></figure><h2 id="3105" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">相关性水平</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mc md l"/></div></figure><pre class="je jf jg jh fd mf mg mh mi aw mj bi"><span id="4a30" class="lo kf hi mg b fi mk ml l mm mn">Perplexity:  -7.163128068315959<br/>Coherence Score:  0.3659933989946868</span></pre><p id="b101" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">困惑</strong>是概率模型预测测试数据的程度的度量。主题<strong class="ih hj">连贯性</strong>通过测量主题中高得分单词之间的语义相似度来测量单个主题的得分。简而言之，通过查看困惑和连贯性得分，我们可以了解每个主题中单词的相关程度。困惑度越低越好。连贯性分数越高越好。在这种情况下，相关性相当低。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h1 id="220c" class="ke kf hi bd kg kh nf kj kk kl ng kn ko kp nh kr ks kt ni kv kw kx nj kz la lb bi translated">商业应用</h1><h2 id="d23b" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">限制</h2><h2 id="4eb9" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">见识</h2><p id="ed39" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">从术语列表中，我们可以看到“房间”一词在所有类别的列表中名列前茅，因此我们可以认为这是所有旅行者都会考虑的主要产品方面。</p><p id="4d06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考:<a class="ae jp" href="https://www.youtube.com/watch?v=nNvPvvuPnGs" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=nNvPvvuPnGs</a></p><p id="762f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这是有帮助的！我期待听到任何反馈或问题。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nk"><img src="../Images/700949d672c9a2fa841782df974143f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a001tMi1Hoj8_gRAd4Fx-g.jpeg"/></div></div></figure></div></div>    
</body>
</html>