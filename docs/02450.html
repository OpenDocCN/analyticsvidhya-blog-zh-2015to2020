<html>
<head>
<title>Lightning Network: Some Graph Theory Metrics — Part 2 (Practical Guide)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">闪电网络:一些图论度量——第2部分(实践指南)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/lightning-network-some-graph-theory-metrics-part-2-practical-guide-cfc37fb8e047?source=collection_archive---------7-----------------------#2019-12-17">https://medium.com/analytics-vidhya/lightning-network-some-graph-theory-metrics-part-2-practical-guide-cfc37fb8e047?source=collection_archive---------7-----------------------#2019-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ce3e0c301bd52238071ec101d3cddd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Tuyl7jCI9W7HRyTkfE2sQ.jpeg"/></div></div></figure><h1 id="db30" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="5efc" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">本文是旨在使用图论概念分析闪电网络拓扑的系列文章的一部分。在<a class="ae km" rel="noopener" href="/@stelios.rammos/lightning-network-some-graph-theory-metrics-part-1-7fb3ca83b291">的第一篇文章</a>中，我回顾了一组有助于监控网络增长及其连接健康状况的指标，例如图的直径/半径、完整性、传递性等等。在这一篇中，我们将回顾运行Lightning节点时自己计算这些指标的代码。如果你不熟悉上面提到的指标，你可能想看看这里的第一部分<a class="ae km" rel="noopener" href="/@stelios.rammos/lightning-network-some-graph-theory-metrics-part-1-7fb3ca83b291"/>。不然我们就直入主题吧！</p><p id="f235" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">阅读完本文后，您将能够自己监控网络的增长，并获得一些关于其连通性的有价值的见解。如果您想成为一个有价值的路由节点，并为网络的良好运行做出贡献，您可能会发现其中一些非常有用。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="c77d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="kz">注意:您将需要自己的lightning节点来运行LND实现。如果您尚未设置，请查看以下指南，从头开始设置并运行您的节点。</em></p><div class="la lb ez fb lc ld"><a href="https://veriphi.io/en/blog/tutorial-from-scratch-to-a-lnd-transaction" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">简单的比特币所有权</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">上周，我们通过一个视频演示了闪电网络协议BOLTs(闪电技术基础)</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">veriphi.io</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr io ld"/></div></div></a></div></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><h1 id="3948" class="iq ir hi bd is it ls iv iw ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn bi translated">计算网络度量</h1><h2 id="8c16" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated"><strong class="ak">前置要求</strong></h2><ol class=""><li id="44c2" class="ml mm hi jq b jr js jv jw jz mn kd mo kh mp kl mq mr ms mt bi translated">运行LND的闪电节点</li><li id="b44a" class="ml mm hi jq b jr mu jv mv jz mw kd mx kh my kl mq mr ms mt bi translated">Python的工作版本(我用的是Python 3.7.5)</li><li id="c256" class="ml mm hi jq b jr mu jv mv jz mw kd mx kh my kl mq mr ms mt bi translated">以下python库:Pandas、Numpy、graph-tool、NetworkX</li><li id="9f7c" class="ml mm hi jq b jr mu jv mv jz mw kd mx kh my kl mq mr ms mt bi translated">可选:Jupyter实验室</li></ol><p id="0318" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="kz">注意:几乎所有的事情都可以用NetworkX或graph-tool来完成，但是我发现graph-tool对于一些计算来说要快得多，因为它是用C语言编写的，带有Python包装器。另一方面，NetworkX感觉更像python，您可能会发现它更容易使用。</em></p><p id="0f18" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="kz">注意2:不能使用pip安装graph-tool，您必须手动或使用软件包管理器安装依赖项，然后自己编译。这可能是一个乏味的过程，需要很长时间来编译，所以去给自己泡一杯好咖啡吧。</em></p><p id="83bb" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="kz">注3:为了简单起见，我们假设该图是无向的。然而，这两个库也可以处理有向图。当将JSON图转换成另一种格式时，只需要多做一点处理。如果你想让我再发一个帖子来回顾这个过程，请告诉我！</em></p><h2 id="a865" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated">创建我们的项目环境</h2><p id="6268" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">让我们首先创建一个保存图形数据的项目目录:</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="2a8a" class="lx ir hi ne b fi ni nj l nk nl">$ mkdir ln-graph-stats<br/>$ cd ln-graph-stats </span></pre><p id="8b3c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">然后，我们需要为它创建一个虚拟环境(可选，推荐)。</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="eed9" class="lx ir hi ne b fi ni nj l nk nl">$ python3 -m venv ln-venv</span></pre><p id="c28e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">提示:</strong>如果你要使用graph-tool，我建议你把它安装在你的系统包中，而不是安装在你的虚拟环境中，这样会省去你很多麻烦。在这种情况下，请改为运行以下命令(在安装并编译graph-tool之后):</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="33be" class="lx ir hi ne b fi ni nj l nk nl">$ python3 -m venv ln-venv --system-site-packages</span></pre><p id="5e79" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">最后激活你的虚拟环境，我们准备好了！</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="d7b2" class="lx ir hi ne b fi ni nj l nk nl">$ source ln-venv/bin/activate</span></pre><h2 id="4828" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated"><strong class="ak">获取图形数据</strong></h2><p id="1d52" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了获得图形数据，我们首先需要确保我们有一个LND实例启动并运行。完成后，打开终端选项卡并运行以下命令:</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="b251" class="lx ir hi ne b fi ni nj l nk nl">$ lncli describegraph &gt; /full/path/to/ln-graph-stats/lngraph.json</span></pre><h2 id="f11f" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated">用python读取图形数据</h2><p id="a2a0" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">图形数据将采用json格式。这对于存储数据很好，但是对于处理数据却不太好。因此，我们希望将它解析成一种我们可以使用的格式。我将向您展示如何将json解析成:Pandas数据帧、NetworkX图和Graph-Tool图。每一种都有自己的优点，平衡了速度和方便性，我会让你决定你更喜欢使用哪一种。我将始终指定我对每个统计数据使用哪一个。</p><p id="d0ae" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">熊猫数据帧</strong></p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="7ed4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">网络x图</strong></p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="1d16" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">图形-工具图形</strong></p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><h2 id="5a8a" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated">现在，指标！</h2><p id="7a7d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">好的，太好了！我们可以选择用三种不同的格式保存我们的图表。每种格式都有自己的优势，您使用哪种格式主要取决于您希望进行的分析类型。出于实用指南的考虑，我将展示这三种方法在不同指标计算中的使用。然而，正如我上面提到的，你可以自由地在Graph-Tool和NetworkX之间选择，这取决于你是喜欢速度还是易用性。请记住，Graph-Tool可能也没有NetworkX提供的所有功能。</p><p id="60f3" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">平均值和分位数</strong></p><p id="eb92" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果你查看BitcoinVisuals网站，你会注意到大多数统计数据显示的是平均值，以及以下分位数值:0.9、0.5和0.1。平均值有时会产生误导，分位数值可以更好地反映值在网络中的实际分布。因为我们将为大多数统计数据再现平均值/分位数，所以您可以利用这个有用的小函数来节省一些时间和代码行。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="0f08" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">节点(熊猫数据帧)</strong></p><p id="a13e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">我决定以一种实际上和代码上最有意义的方式将一些指标组合在一起。因此，在这一点上，我们将看看与网络节点相关的所有指标，这些指标不需要任何花哨的图形库。只是一些旧的熊猫相框。我们将计算<strong class="jq hj">有通道</strong>和无通道<strong class="jq hj">的节点总数</strong>、<strong class="jq hj">每个节点的通道数</strong>和<strong class="jq hj">每个节点的总容量</strong>。此外，因为我们无论如何都要查看通道策略，所以我们将计算每个节点启用的通道总数和百分比。</p><p id="18cb" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">以下函数将把以下各列添加到我们的图形数据框中:' num_enabled_channels '，' num_channels '，' percent_enabled_chan '和<br/> 'total_node_capacity '，这是我们计算上述统计数据所需的全部内容。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="f41b" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在调用上述函数并将返回值赋给变量<code class="du no np nq ne b">graph_nodes</code>之后，可以调用<code class="du no np nq ne b">graph_nodes.head()</code>来确保正确添加了列。输出应该如下所示:</p><figure class="mz na nb nc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nr"><img src="../Images/5f9c5a2a9735d4bfeb0bc7ceec26e1a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j3EY4Yv_4yLtSFL-692VDA.png"/></div></div></figure><p id="9f14" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果列被正确追加并且值看起来正确，我们现在就可以使用内置的pandas函数来检索我们想要的信息。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="e45f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">注意，在上面的代码片段中，我区分了活动节点和非活动节点(没有任何已启用通道的通道)。如果一个信道不是路由的可行选项(例如:缺乏足够的容量),则网络会将该信道标记为禁用，以便网络尝试避免通过该信道。仅统计已启用的通道让我们可以看到节点和网络的“可用”容量。代码的输出应该如下所示(值可能会不同):</p><figure class="mz na nb nc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ns"><img src="../Images/07a9825ef4f9bb86500cd4f3df13443d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LjSmrhulUldgbymBO2Nffg.png"/></div></div></figure><p id="0f22" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">频道(熊猫数据帧)</strong></p><p id="f7cf" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">接下来，让我们看看如何检索网络上的频道数量以及重复频道的数量。这一点也可以用两个图形库中的任何一个来完成，但因为我们从数据帧中获取这些值非常简单，而且相对较快。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="70ff" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">输出应该如下所示:</p><figure class="mz na nb nc fd ij er es paragraph-image"><div class="er es nt"><img src="../Images/840aed634aa32f4048344cf10ce413b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*5OQoHL0GjmVWw8-EIdnQew.png"/></div></figure><p id="c1b9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">网络容量(熊猫数据帧)</strong></p><p id="4a55" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">获得总网络容量也非常简单。一旦有了<code class="du no np nq ne b">df_channels</code>数据框架，只需运行这个命令<code class="du no np nq ne b">df_channels.capacity.sum()</code>。</p><p id="ef71" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">每通道容量(熊猫数据帧)</strong></p><p id="cfac" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于每个通道的容量，我们将再次使用我们的<code class="du no np nq ne b">get_basic_stats</code>函数，如下所示:</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="9681" class="lx ir hi ne b fi ni nj l nk nl">values = df_channels.capacity.values<br/>average, percentiles = get_basic_stats(values, 'capacity per channel')</span></pre><p id="be4d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">距离度量(图形-工具图)</strong></p><p id="635a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在我们可以测量图中的距离之前，我们必须确保图是连通的，否则我们将得到错误的距离度量。</p><p id="4f00" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="kz">注意:我发现NetworkX在计算图的直径和半径时非常慢，所以从那以后我就不再使用它了。</em></p><p id="6cf5" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果图是不连通的，我们应该检索不同图的连通部分并分别分析它们。正如我们在下面看到的，图表主要是连接的。然而，我们也观察到由2到5个节点组成的几个较小的连接组件，这些节点很可能只是希望在彼此之间进行交易，而对路由支付不感兴趣，它们之间的通道被称为<strong class="jq hj">私有通道</strong>。</p><p id="386d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果您希望执行网络分析，只保留最大的连通分量更有意义(下面代码片段的第4行和第5行)，因为我们可以假设专用信道无论如何都不想参与路由过程。我们还应该删除重复的边缘，这可能会扭曲一些其他措施(第9行)。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="8e6e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">现在，我们可以使用下面的函数来检索图形的平均距离、直径和半径。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><p id="38d1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果将<code class="du no np nq ne b">pseudo_diameter</code>参数设置为真，该功能将使用Graph-Tool使用的快速直径近似算法。你可以在文档<a class="ae km" href="https://graph-tool.skewed.de/static/doc/topology.html?highlight=diameter#graph_tool.topology.pseudo_diameter" rel="noopener ugc nofollow" target="_blank">这里</a>读到更多。<code class="du no np nq ne b">return_dist</code>参数将返回所有顶点的所有距离的数据帧。</p><p id="9ca4" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">完整性度量(熊猫数据框架)</strong></p><p id="0c8a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">假设我们已经计算了通道的总数(在上面的节点部分),那么计算完整性是很简单的。我们只需要计算这些通道与图中可能的通道总数之比，即n*(n-1)/2，其中n是顶点数。代码看起来应该是这样的:</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="d127" class="lx ir hi ne b fi ni nj l nk nl"># Completeness measure: density of the graph<br/>max_num_channels = (total_cnt_nodes*(total_cnt_nodes-1))/2<br/>completeness = num_unique_channels/max_num_channels</span></pre><p id="88ab" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">聚类度量(图形-工具图)</strong></p><p id="db36" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">聚类度量包括图的传递性和单个节点的传递性。Graph-Tool有一个计算两者的函数，对于图的传递性称为<code class="du no np nq ne b">global_clustering()</code>,对于顶点的传递性称为<code class="du no np nq ne b">local_clustering()</code>。</p><pre class="mz na nb nc fd nd ne nf ng aw nh bi"><span id="06c0" class="lx ir hi ne b fi ni nj l nk nl"># Transitivity is the ratio of potential triangles present.<br/>transitivity, sd = gt.clustering.global_clustering(gtgraph)<br/>print('Graph transitivity: {}\n'.format(round(transitivity,3)))</span><span id="84d2" class="lx ir hi ne b fi nu nj l nk nl"># Clustering coefficient is the ratio of interconnections between a node's peers.<br/>transitivities = gt.clustering.local_clustering(gtgraph).a<br/>get_basic_stats(transitivities, 'node transitivities')</span></pre><p id="815f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">连通性测量(图形工具和网络x图)</strong></p><p id="eecd" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">对于连通性测量，我必须同时使用Graph-Tool和NetworkX，因为Graph-Tool没有计算切割边的功能(据我所知)。如果你一直在使用Graph-Tool，你可以使用<strong class="jq hj"> NetworkX Graph </strong>部分的功能。</p><figure class="mz na nb nc fd ij"><div class="bz dy l di"><div class="nm nn l"/></div></figure><h2 id="ae9b" class="lx ir hi bd is ly lz ma iw mb mc md ja jz me mf je kd mg mh ji kh mi mj jm mk bi translated">摘要</h2><p id="86b8" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">总之，本文介绍了计算有用指标以分析Lightning网络拓扑所需的代码。我们看到了如何将JSON LN图转换成一种格式，使用这种格式我们可以更容易地计算所有指标。根据易用性和性能，我们使用了三种不同的工具:Panda DataFrames、NetworkX和Graph-Tool graphs。你也可以在我的Github上的Jupyter笔记本中找到本文的所有代码，在<a class="ae km" href="https://github.com/SteliosRammos/lightning-network-graph-analysis" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="f644" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果你喜欢这篇文章，或者如果你想讨论它的内容，请随时留下评论或通过下面列出的渠道给我发消息。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><p id="ff8f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">正如我在开头所说，这篇文章是围绕闪电网络及其图形的系列文章的一部分。目的是帮助人们更熟悉图拓扑，并为渠道管理提供一些参考。以下是我对下一篇文章的一些想法:</p><ol class=""><li id="a1a4" class="ml mm hi jq b jr kn jv ko jz nv kd nw kh nx kl mq mr ms mt bi translated">计算图论中使用的更多度量来分析网络拓扑</li><li id="cc8c" class="ml mm hi jq b jr mu jv mv jz mw kd mx kh my kl mq mr ms mt bi translated">自动化指标计算以创建类似仪表板的体验</li></ol><p id="f5db" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">我想听听你最感兴趣的是什么，我也愿意在这些方面进行合作，因为我自己仍在学习这项技术。</p></div><div class="ab cl ks kt gp ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hb hc hd he hf"><h1 id="5641" class="iq ir hi bd is it ls iv iw ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn bi translated">让我们社交吧！</h1><p id="9f46" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">请通过以下任何平台联系我:</p><p id="2ddc" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">推特:</strong> @Stelios_Rms</p><p id="e0ec" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">【stelio.rammos@gmail.com】邮箱:T4</p><p id="1783" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">领英:</strong><a class="ae km" href="https://www.linkedin.com/in/stelios-rammos-675382149/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/stelios-rammos-675382149/</a></p><p id="4267" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">博客:</strong>http://www.blog.steliosrammos.com</p></div></div>    
</body>
</html>