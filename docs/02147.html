<html>
<head>
<title>When and where to use maketrans() and translate() in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的maketrans()和translate()在何时何地使用？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/when-and-where-to-use-maketrans-and-translate-in-python-764670ff91fe?source=collection_archive---------4-----------------------#2019-12-03">https://medium.com/analytics-vidhya/when-and-where-to-use-maketrans-and-translate-in-python-764670ff91fe?source=collection_archive---------4-----------------------#2019-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="094f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从一个简单的字符串示例开始。</p><p id="cd97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">问题:编写一个程序将字符串转换成以下格式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/15072bf427aea23121dd7ac87b54b381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*GRWdzzfJ5ENUNcG3T0AlqQ.jpeg"/></div></figure><p id="f3ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">测试案例:-输入:“ae”输出:“cg”</p><p id="4c17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一般来说，我们编写代码(用Python3)如下:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="50a8" class="jq jr hi jm b fi js jt l ju jv">&gt;&gt;&gt; str1 = "ae"<br/>&gt;&gt;&gt; result = ""<br/>&gt;&gt;&gt; for c in raw:<br/>...     if c &gt;= 'a' and c &lt;= 'z':<br/>...         result += chr(((ord(c) + 2) - ord('a')) % 26 + ord('a'))<br/>...     else:<br/>...         result += c<br/>...<br/>&gt;&gt;&gt; print(f"Output is:{result}")<br/>Output is:cg</span></pre><p id="34e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述代码背后的逻辑很简单。将输入字符串中的字符转换为ASCII值，并将每个字符的ASCII值加上+2，然后将ASCII值转换回字符，并将所有字符连接起来形成输出字符串。这是我们可以在任何语言中应用的逻辑之一。</p><p id="ea34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的逻辑绝对完美无缺，但是在编程的现实世界中，需要一次性替换整个文件中的所有单词/字符。在这种情况下，Python使用函数<strong class="ih hj"> translate() </strong>及其助手函数<strong class="ih hj"> maketrans() </strong>来提供更高效的功能。</p><blockquote class="jw jx jy"><p id="48a9" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong>请有点耐心看完整篇博客。如果你不知道这是什么，请在回复部分告诉我。</p></blockquote><h1 id="268a" class="kd jr hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak"> maketrans( ): </strong></h1><p id="1833" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">maketrans()函数用于构造转换表，即指定整个字符串中需要替换的字符列表或需要从字符串中删除的字符</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="0c84" class="jq jr hi jm b fi js jt l ju jv">Syntax : <strong class="jm hj">maketrans(str1, str2, str3)</strong></span><span id="91ad" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">Parameters :</strong><br/><strong class="jm hj">str1 :</strong> Specifies the list of characters that need to be replaced.<br/><strong class="jm hj">str2 :</strong> Specifies the list of characters with which the characters need to be replaced.<br/><strong class="jm hj">str3 :</strong> Specifies the list of characters that needs to be deleted.</span><span id="d41f" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">-&gt; </strong>If there is only <strong class="jm hj">one argument</strong>, it must be a dictionary mapping ASCII Values of integers or characters to ASCII Values of integers or characters or we can directly map with None if we want to delete the characters.<br/><strong class="jm hj">Ex:</strong> maketrans({'a':'b', 'c':'d'}) or maketrans({97:'b'}) or maketrans({'z':None})</span><span id="2672" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">-&gt; </strong>If there are <strong class="jm hj">two arguments</strong>, they must be strings of equal length, and in the resulting dictionary, each character in <strong class="jm hj"><em class="jz">str1</em></strong> will be mapped to the character at the same position in <strong class="jm hj"><em class="jz">str2</em></strong>.<br/><strong class="jm hj">Ex:</strong> maketrans('ac', 'bd')</span><span id="29c3" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">-&gt; </strong>If there is a <strong class="jm hj">third argument</strong>, it must be a string, whose characters will be mapped to None in the result.<br/><strong class="jm hj">Ex:</strong> maketrans('ac', 'bd', 'z')<br/>Here, a -&gt; b; c -&gt; d; z -&gt; None;</span><span id="95ec" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">Returns :</strong> Returns the translation table which specifies the conversions that can be used by translate().</span></pre><blockquote class="jw jx jy"><p id="11e5" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">我们可以使用<strong class="ih hj"> help </strong>函数找到Python中<strong class="ih hj"> maketrans </strong>函数的确切语法。</p><p id="5a55" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> help(str.maketrans) </strong> —将产生maketrans函数的定义。</p><p id="cad9" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> help(str.translate) </strong> —将产生翻译功能的定义。</p></blockquote><h1 id="f278" class="kd jr hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak"> translate( ) </strong></h1><p id="6d3c" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated"><strong class="ih hj"> Translate </strong>函数用于翻译字符串中的字符。该函数使用通过<strong class="ih hj"> maketrans </strong>函数指定的翻译映射。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="cedb" class="jq jr hi jm b fi js jt l ju jv">Syntax : <strong class="jm hj">translate(table, delstr)</strong></span><span id="6913" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">Parameters :</strong><br/><strong class="jm hj">table :</strong> Translation table, which must be a mapping of ASCII Values to ASCII Values, strings, or None.<br/><strong class="jm hj">delstr :</strong> The delete string can be specified as optional argument is not mentioned in table.</span><span id="f481" class="jq jr hi jm b fi lf jt l ju jv"><strong class="jm hj">Returns :</strong> Returns the argument string after performing the translations using the translation table.</span></pre><blockquote class="jw jx jy"><p id="35ef" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated">注:感谢您的到来。请继续获取这方面的实践经验。这绝对值得你花时间。如果你不知道这是什么，请在回复部分告诉我。</p></blockquote><p id="8f8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">代码#1 : </strong>使用translate()和maketrans()进行翻译的代码。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="f5c8" class="jq jr hi jm b fi js jt l ju jv"># Python3 code to demonstrate translations using maketrans() and translate()</span><span id="e849" class="jq jr hi jm b fi lf jt l ju jv">str1 = "ae"<br/>table = str.maketrans(<br/>"abcdefghijklmnopqrstuvwxyz", "cdefghijklmnopqrstuvwxyzab"<br/>)<br/>print(table)<br/>result = raw.translate(table)<br/>print(result)</span></pre><p id="ce54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="af75" class="jq jr hi jm b fi js jt l ju jv">{97: 99, 98: 100, 99: 101, 100: 102, 101: 103, 102: 104, 103: 105, 104: 106, 105: 107, 106: 108, 107: 109, 108: 110, 109: 111, 110: 112, 111: 113, 112: 114, 113: 115, 114: 116, 115: 117, 116: 118, 117: 119, 118: 120, 119: 121, 120: 122, 121: 97, 122: 98} </span><span id="82e2" class="jq jr hi jm b fi lf jt l ju jv">cg</span></pre><p id="c618" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以基本上，maketranslate()是为字符串的转换创建一个表。它映射了你在论点中提到的每个字符。</p><p id="f16d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了简化起见，<strong class="ih hj"> <em class="jz"> str.maketrans({'a':'b '，' c':'d'}) </em> </strong>或<strong class="ih hj"> <em class="jz"> str.maketrans({'ac '，' bd'}) </em> </strong>【两者产量相同】将生成一个表，该表映射:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="153e" class="jq jr hi jm b fi js jt l ju jv">a -&gt; b and c-&gt; d,</span></pre><p id="e0d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有其他字符将保持不变。</p><p id="70ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以一旦生成了这个表，我们将提供这个表作为translate()的参数。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="20ae" class="jq jr hi jm b fi js jt l ju jv">table = str.maketrans({‘a’:’b’, ‘c’:’d’})<br/>str1 = "acz"<br/>str1.translate(table)</span><span id="bd98" class="jq jr hi jm b fi lf jt l ju jv">Output: bdz</span></pre><p id="7d63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，只有“a”和“c”被替换为“b”和“d ”,而“z”在输出中保持不变，因为在maketrans()中，我们只指定了“a”和“c”。所以只有a和c被替换了。</p><h1 id="98df" class="kd jr hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">不使用maketrans()进行翻译</strong></h1><p id="5230" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">不使用maketrans()也可以实现翻译。</p><p id="5111" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以基本上，我们必须创建一个翻译表，其中映射了所有的ASCII值。</p><p id="5abf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为假设‘a’应该被改为‘b’，所以我们指定{97:98}，这意味着‘a’[a的ASCII值=97]被映射到‘b’[b的ASCII值=98]。如果我们能以这种方式生成一个表，那么就没有必要使用maketrans()函数。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="517f" class="jq jr hi jm b fi js jt l ju jv">table = {97:98, 99:100}<br/>str1 = "acz"<br/>str1.translate(table)</span><span id="b90e" class="jq jr hi jm b fi lf jt l ju jv">Output: bdz</span></pre><p id="9505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以最后，</p><blockquote class="jw jx jy"><p id="0278" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> maketrans() </strong> —用于创建变量之间的映射，</p><p id="7037" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> translate() </strong> —用于根据提供给它的映射转换字符串。</p></blockquote><p id="859a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，伙计们，无论谁使用python，都要利用这些函数，这将减少代码行，并且在编写转换字符串的逻辑时更加复杂。</p><p id="7c96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码:-)</p><blockquote class="jw jx jy"><p id="3fcf" class="if ig jz ih b ii ij ik il im in io ip ka ir is it kb iv iw ix kc iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">感谢阅读！如果你喜欢这篇文章，点击下面的按钮👏。这对我意义重大，也有助于其他人了解这个故事。</em>T9】</strong></p></blockquote></div></div>    
</body>
</html>