<html>
<head>
<title>PANDAS COMPLETE GUIDE(A-Z)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫全指南(A-Z)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/pandas-complete-guide-a-z-36ba8bd15232?source=collection_archive---------12-----------------------#2020-05-02">https://medium.com/analytics-vidhya/pandas-complete-guide-a-z-36ba8bd15232?source=collection_archive---------12-----------------------#2020-05-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="e5bd" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">熊猫图书馆全攻略</h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/a0c6f17689df30f82bffb3d733f23c03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIZ6_ODRqEIv9D4F6Z4KNA.jpeg"/></div></div><figcaption class="iz ja et er es jb jc bd b be z dx translated">掌握熊猫，成为数据世界的神龙大侠。</figcaption></figure><p id="9051" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为什么要学熊猫？</p><p id="ba4b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi kb translated">对于那些想成为有抱负的数据科学家的人来说，andas是一个必不可少的工具。在此之后，你可以提供令人难以置信的数据见解，影响你的经理做出一些关键决策，或者为业务主管增加价值。</p><p id="0244" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">熊猫图书馆里有很多令人惊叹的技术。此外，如果你对机器学习很感兴趣，那么数据预处理是建立模型的重要步骤。这一步还需要你对用于预处理数据的pandas库有深入的了解，因为一个好的数据确实会产生更准确的机器学习模型。</p><p id="4abe" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">本文的内容如下所示，只需点击一下就可以直接访问。不仅仅是理论上的学习。有一个从初级到高级水平的完整代码的实现，附在文章的结尾或可以访问“<a class="ae kk" href="https://github.com/psssnikhil/medium" rel="noopener ugc nofollow" target="_blank">这里</a>”。</p><p id="4ac6" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">将此页设为书签</strong>，这样你只需点击一下鼠标就可以参考你的疑问。需要时，只需浏览下面的内容。</p><p id="6126" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">内容:</p><p id="9610" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">第一章</strong>:</p><ul class=""><li id="0005" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated"><a class="ae kk" href="#b8dc" rel="noopener ugc nofollow">什么是熊猫图书馆？</a></li><li id="e21b" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#36d0" rel="noopener ugc nofollow">将csv或xlsx文件读入数据帧</a></li><li id="d82a" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#f482" rel="noopener ugc nofollow">读取使用任何分隔符分配列名的数据</a></li><li id="8fbe" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#7c74" rel="noopener ugc nofollow">使用不同的属性，如(。列)和方法(。描述，。信息)</a></li></ul><p id="af0e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">第二章</strong>:</p><ul class=""><li id="5104" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated"><a class="ae kk" href="#ff57" rel="noopener ugc nofollow">切割数据帧</a></li><li id="948c" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#bf84" rel="noopener ugc nofollow">访问带有索引值(loc和iloc)的数据</a></li><li id="5b17" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#290c" rel="noopener ugc nofollow">loc和iloc的区别</a></li><li id="226f" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#a161" rel="noopener ugc nofollow">在数据帧中设置索引，并使用loc </a>获取数值</li></ul><p id="accc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">第三章</strong>:</p><ul class=""><li id="c0db" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated"><a class="ae kk" href="#2b6c" rel="noopener ugc nofollow">打印数据框中的列</a></li><li id="cde6" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#5588" rel="noopener ugc nofollow">删除特定列</a></li><li id="2969" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#e867" rel="noopener ugc nofollow"> unique，nunique，value_counts() </a></li><li id="cc0c" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#6990" rel="noopener ugc nofollow">重命名列，串联</a></li><li id="a93b" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#2186" rel="noopener ugc nofollow">合并，加入</a></li><li id="aece" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#2bfc" rel="noopener ugc nofollow"> Groupby和可以应用于它的函数。</a></li><li id="cf08" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated"><a class="ae kk" href="#77b9" rel="noopener ugc nofollow">映射、应用、应用映射</a></li></ul><p id="8a40" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">一旦你掌握了以上内容，你也可以使用下面的技巧，我会继续添加。一定要访问学习新技巧的页面。</p><p id="8430" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kk" href="#07c5" rel="noopener ugc nofollow"> <strong class="jf hs">奖励章(掌握熊猫的把戏)</strong> </a> <strong class="jf hs"> : </strong></p><ul class=""><li id="84b6" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated">为两个数据帧赋值“=”，以及使用copy()的优点。</li><li id="6ead" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">使用条件<br/> - &gt;过滤数据，指定if和else等选择条件<br/> - &gt;选择特定的数据类型<br/> - &gt;使用value_counts()获取特定的统计数据</li><li id="073a" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">将特定值替换为NaN(将“”替换为NaN等)..)</li><li id="8395" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">检查数据帧中的NaN值</li><li id="d137" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">替换或填充NaN(使用“0”、“平均值”、ffill方法)</li><li id="9caa" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">在数字数据框架中，获取行总计和列总计</li><li id="2511" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">使用熊猫的数据透视表。</li></ul><p id="b8dc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">熊猫是什么？</p><p id="3d09" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Pandas是由Wes McKinney开发的高级数据操作工具。它建立在Numpy包之上，其关键数据结构称为DataFrame。数据帧允许您存储和操作观察行和变量列中的表格数据。这些数据可以被处理成不同的数据类型，并且可以使用pandas library中的许多内置函数进行分析。</p><p id="6b1b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">介绍够了，让我们进入内容。</p><p id="7815" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">第一章:</strong></p><p id="36d0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">1)导入pandas库并将csv或excel文件读入数据帧。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="9941" class="li lj hi le b fi lk ll l lm ln">import pandas as pd<br/>df=pd.read_csv(‘Automobile_data.csv’)<br/>#if file format is xlsx use pd.read_excel<br/>df.head(10)</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es lo"><img src="../Images/faf850e1e8278cb123aedbe5a74bef15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZcWy7oRF3iZEz4pkvoC5Dg.png"/></div></div></figure><p id="7cc8" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">df.head()给出了DataFrame的前5行，作为可视化的示例。通过向其中传递数字，可以根据需要调整计数。例如，df.head(10)给出10行。</p><p id="3b1b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果DataFrame中的数据不包含列名，或者使用“|”或“，”等分隔符来分隔列名，那么pandas可以处理这种情况。</p><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es lp"><img src="../Images/4ab35d89d5a793a4ddc92c01b80c2786.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*YK3yzeeRd8XNNpE9CeFXJQ.png"/></div></figure><p id="f482" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用任何分隔符读取数据，将列名指定为showm:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="9df3" class="li lj hi le b fi lk ll l lm ln">df2=pd.read_csv(‘Automobile_data_without_col.csv’,sep=”|”,names=[‘company’,’body-style’,’wheel-base’])<br/>df2.tail()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es lq"><img src="../Images/ce70fd2c240be618581380a41f7ad99f.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*e0JB6Ymne3UiepqO0HO57w.png"/></div></figure><p id="7c74" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">2)让我们了解一些分析数据的基本方法。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="5a01" class="li lj hi le b fi lk ll l lm ln">df.columns</span><span id="ff44" class="li lj hi le b fi lr ll l lm ln">Index(['index', 'company', 'body-style', 'wheel-base', 'length', 'engine-type',<br/>       'num-of-cylinders', 'horsepower', 'average-mileage', 'price'],<br/>      dtype='object')df.info()</span></pre><p id="0ca5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">。info方法从数据帧中为我们提供了以下详细信息</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="a007" class="li lj hi le b fi lk ll l lm ln">df.info()</span><span id="45fe" class="li lj hi le b fi lr ll l lm ln">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 61 entries, 0 to 60<br/>Data columns (total 10 columns):<br/>index               61 non-null int64<br/>company             61 non-null object<br/>body-style          61 non-null object<br/>wheel-base          61 non-null float64<br/>length              61 non-null float64<br/>engine-type         61 non-null object<br/>num-of-cylinders    61 non-null object<br/>horsepower          61 non-null int64<br/>average-mileage     61 non-null int64<br/>price               58 non-null float64<br/>dtypes: float64(3), int64(3), object(4)<br/>memory usage: 4.8+ KB</span></pre><p id="584c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">。描述方法为我们提供数据帧中数据的统计，如计数、平均值、标准偏差等。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="c667" class="li lj hi le b fi lk ll l lm ln">df.describe()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es ls"><img src="../Images/96188771c84be69537eef4529af255d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*9u1PqlXTq4AS1v9ywb-XWg.png"/></div></figure><p id="ff57" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">第二章:</strong></p><p id="b5bb" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">切片数据帧</p><p id="f8e5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在下面的例子中，从索引1到4的切片给出了从1到3的行，索引为4的行将不会被选中。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="bf67" class="li lj hi le b fi lk ll l lm ln">#slicing of Dataframe<br/>df[1:4]</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es lt"><img src="../Images/4ec7c6198931079238b15b6d20128d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jYwziDAM7vFaey4D7nJtQA.png"/></div></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="bf84" class="li lj hi le b fi lk ll l lm ln">#Accessing the data with the index value<br/>df.loc[1]<br/>#alternate method that is using iloc<br/>df.iloc[1]<br/>#output for both methods is shown below</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es lu"><img src="../Images/21024f40bfd9a873ae2ae540d6443007.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*CKqjxnBlEUJT8b7AnxnltA.png"/></div><figcaption class="iz ja et er es jb jc bd b be z dx translated">索引1的loc和iloc的输出</figcaption></figure><p id="91c3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果您观察loc和iloc的输出，在这种情况下它们是相等的。那么loc和iloc有什么区别。让我们进入细节。</p><p id="0535" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs"> loc vs iloc？</strong></p><p id="290c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><code class="du lv lw lx le b">loc</code>从索引中获取带有<strong class="jf hs">特定标签</strong>的行(或列)。而<br/> <code class="du lv lw lx le b">iloc</code>获取索引中<strong class="jf hs">特定位置</strong>的行(或列)(所以它只接受整数)。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="26f6" class="li lj hi le b fi lk ll l lm ln">#accessing data in specific column<br/>df[‘company’].head()</span><span id="a48d" class="li lj hi le b fi lr ll l lm ln">#the above can be done using iloc as shown below (slicing )<br/>df.iloc[0:5][‘company’]</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es ly"><img src="../Images/ec7b9a8feb7be061a692cada3d14a1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*KhypgsfYuR3z_6pR9efd0Q.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="d7e3" class="li lj hi le b fi lk ll l lm ln">#using index 1 getting the values from the specified columns<br/>df.loc[[1],[‘body-style’,’length’]]</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es lz"><img src="../Images/25283e7b42b74e225ac13f119b19fb23.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*jHY-_985a7sbtzY2uEUOwQ.png"/></div></div></figure><p id="a161" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">将索引设置为company so loc完全可以理解。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="f601" class="li lj hi le b fi lk ll l lm ln">df1=df.set_index(‘company’)<br/>df1.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es ma"><img src="../Images/49a4bbe07d4c237b3a9784f39507e6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aVPXzIznzRq6w1AyVHvjiQ.png"/></div></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="8612" class="li lj hi le b fi lk ll l lm ln">df1.index.values <br/>#observe the output.there are many duplicates values .we will handle them getting only unique in the next steps.</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mb"><img src="../Images/0d5f842e3892bdb33270b91049de1c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*U49ETmoPFeAGB1ANgwvc4g.png"/></div></figure><p id="bba5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">以下代码表示转到包含alfa-romero的行，并相应地获取所有给定的列数据</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="fbc4" class="li lj hi le b fi lk ll l lm ln">df1.loc[[‘alfa-romero’],[‘body-style’,’length’]]</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mc"><img src="../Images/0e69b6d6025614ea39cb1c56a81b5cef.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*cbJH1CiM8H1ndtxodEsLpg.png"/></div></figure><p id="2b6c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">第三章:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="fc8e" class="li lj hi le b fi lk ll l lm ln">cols=df.columns<br/>print(cols)</span><span id="cc64" class="li lj hi le b fi lr ll l lm ln"><strong class="le hs">Output:</strong></span><span id="765a" class="li lj hi le b fi lr ll l lm ln">Index(['index', 'company', 'body-style', 'wheel-base', 'length', 'engine-type',<br/>       'num-of-cylinders', 'horsepower', 'average-mileage', 'price'],<br/>      dtype='object')</span></pre><p id="b21b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">现在让我们打印所有列的名称</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="be0e" class="li lj hi le b fi lk ll l lm ln">#print all columns names in order<br/>for i in cols:<br/> print(i)</span><span id="4539" class="li lj hi le b fi lr ll l lm ln"><strong class="le hs">Output:</strong></span><span id="d668" class="li lj hi le b fi lr ll l lm ln">index<br/>company<br/>body-style<br/>wheel-base<br/>length<br/>engine-type<br/>num-of-cylinders<br/>horsepower<br/>average-mileage<br/>price</span></pre><p id="5588" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们使用drop方法消除或删除一些列(使用head只获得数据帧的前5行)</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="a976" class="li lj hi le b fi lk ll l lm ln">df.drop([‘num-of-cylinders’,’average-mileage’],axis=1).head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es md"><img src="../Images/5b1ebed565c8cbae335193f4b781ec9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*QPr8guC3q7Z8R6R3sU47_g.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="5a0a" class="li lj hi le b fi lk ll l lm ln">df[‘company’].unique() </span><span id="165c" class="li lj hi le b fi lr ll l lm ln">#output:<br/>array(['alfa-romero', 'audi', 'bmw', 'chevrolet', 'dodge', 'honda',<br/>       'isuzu', 'jaguar', 'mazda', 'mercedes-benz', 'mitsubishi',<br/>       'nissan', 'porsche', 'toyota', 'volkswagen', 'volvo'], dtype=object)</span></pre><p id="ce85" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这就对了。正如上面承诺的，我们有独特的公司名称。</p><p id="a9a3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">给出唯一值的数量(n代表数字)</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="e867" class="li lj hi le b fi lk ll l lm ln">df[‘company’].nunique()</span><span id="7e7c" class="li lj hi le b fi lr ll l lm ln">#output:<br/>16</span></pre><p id="bd8f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">value_counts()方法:</p><p id="69f1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这给出了所取的单个列中不同值的计数。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="0152" class="li lj hi le b fi lk ll l lm ln">df[‘company’].value_counts()</span><span id="bee2" class="li lj hi le b fi lr ll l lm ln">#output:<br/>toyota           7<br/>bmw              6<br/>nissan           5<br/>mazda            5<br/>audi             4<br/>mercedes-benz    4<br/>mitsubishi       4<br/>volkswagen       4<br/>chevrolet        3<br/>isuzu            3<br/>alfa-romero      3<br/>jaguar           3<br/>porsche          3<br/>honda            3<br/>dodge            2<br/>volvo            2<br/>Name: company, dtype: int64</span></pre><p id="bed3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">Pandas中的CONCAT </strong>功能:</p><p id="7464" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">(注意:在追加行时，两个数据帧中的列名必须相同。否则它将抛出一个错误)</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="8721" class="li lj hi le b fi lk ll l lm ln">df3=df[3:8]<br/>new_data=pd.concat([df,df3],axis=0)<br/>df.info()   <br/>print('#######')<br/>new_data.info()</span><span id="6147" class="li lj hi le b fi lr ll l lm ln">#Output:<br/>&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 61 entries, 0 to 60<br/>Data columns (total 10 columns):<br/>index               61 non-null int64<br/>company             61 non-null object<br/>body-style          61 non-null object<br/>wheel-base          61 non-null float64<br/>length              61 non-null float64<br/>engine-type         61 non-null object<br/>num-of-cylinders    61 non-null object<br/>horsepower          61 non-null int64<br/>average-mileage     61 non-null int64<br/>price               58 non-null float64<br/>dtypes: float64(3), int64(3), object(4)<br/>memory usage: 4.8+ KB<br/>#######<br/>&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>Int64Index: 66 entries, 0 to 7<br/>Data columns (total 10 columns):<br/>index               66 non-null int64<br/>company             66 non-null object<br/>body-style          66 non-null object<br/>wheel-base          66 non-null float64<br/>length              66 non-null float64<br/>engine-type         66 non-null object<br/>num-of-cylinders    66 non-null object<br/>horsepower          66 non-null int64<br/>average-mileage     66 non-null int64<br/>price               63 non-null float64<br/>dtypes: float64(3), int64(3), object(4)<br/>memory usage: 5.7+ KB</span></pre><p id="6990" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">重命名列</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="33fa" class="li lj hi le b fi lk ll l lm ln">df4=df3.rename(columns={‘company’:’brand’})<br/>df4</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es me"><img src="../Images/df6f9c6ba4433454e9f37930e96a566b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S0Bh9cMVjCdGS4cYPq3TgA.png"/></div></div></figure><p id="2186" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">合并:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="c994" class="li lj hi le b fi lk ll l lm ln">merged_df=df.merge(df4, how=’left’,left_on=’company’, right_on=’brand’)</span><span id="6ac7" class="li lj hi le b fi lr ll l lm ln">merged_df.head()  <br/> #merged the dataframe on company and brand on the left(which takes keys from left dataframe ie df)<br/>#_x and _y are attached as the names are same in both dataframes</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mf"><img src="../Images/82d61133753dcb90872cfcaf46bb1585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQOLHzaZkDrOMxZgNUYqRg.png"/></div></div></figure><p id="2349" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">加入:</strong></p><p id="9927" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Join类似于merge，但控制级别较低。它将两个表中的列与用定义的lsuffix和rsuffix重命名的公共列组合在一起。您可以使用“如何”来定义组合方式</p><p id="0ef3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在示例中，定义了lsuffix和r后缀。您还可以通过传递“on”参数来连接DataFrame，该参数采用要执行连接的列名。</p><p id="c134" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">如何</strong> <em class="mg"> { '左'，'右'，'外'，'内' }，默认为'左'</em></p><p id="722b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如何处理两个对象的操作？</p><ul class=""><li id="33ad" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated">左:使用调用框架的索引(或列，如果指定了on)</li><li id="29ef" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">右:使用他人的索引。</li><li id="ed2b" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">outer:将调用框架的索引(或列，如果指定了on)与其他框架的索引形成并集，并对其进行排序。按字典顺序。</li><li id="422d" class="kl km hi jf b jg ku jk kv jo kw js kx jw ky ka kq kr ks kt bi translated">inner:形成调用框架索引(或列，如果指定了on)与其他框架索引的交集，保留调用框架索引的顺序。</li></ul><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="36bc" class="li lj hi le b fi lk ll l lm ln">df_joined=df.join(df2,how=’left’,lsuffix=’ — x’,rsuffix=’ — y’)<br/>df_joined.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mh"><img src="../Images/9715282090361087d48bfaa59095d73b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ks-Lf89jSSNkkQF8GKPcXQ.png"/></div></div></figure><p id="2bfc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs"> GroupBy </strong>在熊猫中的作用:</p><p id="5fc0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">groupby操作涉及拆分对象、应用函数和组合结果的某种组合。这可用于对大量数据进行分组，并对这些组进行计算操作。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="eae9" class="li lj hi le b fi lk ll l lm ln"><br/>#Groupby demonstrated in simplest way possible<br/>grouped=df.groupby(‘company’)<br/>grouped<br/>#Output:<br/>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x000001A67A64A400&gt;</span></pre><p id="dd39" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这将创建一个groupby对象，可以为其应用许多函数，如下所示</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="f124" class="li lj hi le b fi lk ll l lm ln">grouped1=df.groupby(‘body-style’)<br/>grouped1.groups<br/>#Output:<br/>{'convertible': Int64Index([0, 1, 46], dtype='int64'),<br/> 'hardtop': Int64Index([35, 45], dtype='int64'),<br/> 'hatchback': Int64Index([2, 13, 14, 16, 17, 27, 28, 29, 30, 36, 37, 47, 48, 49, 50], dtype='int64'),<br/> 'sedan': Int64Index([ 3,  4,  5,  7,  8,  9, 10, 11, 12, 15, 19, 20, 21, 22, 23, 24, 25,<br/>             26, 31, 32, 34, 38, 39, 40, 41, 42, 44, 55, 56, 57, 58, 59],<br/>            dtype='int64'),<br/> 'wagon': Int64Index([6, 18, 33, 43, 51, 52, 53, 54, 60], dtype='int64')}<br/></span></pre><p id="98eb" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">选择一个特定的组<br/>通过调用带有该组名称的get_group，我们可以返回相应的数据子集。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="0a4a" class="li lj hi le b fi lk ll l lm ln">grouped1.get_group(‘sedan’).head()<br/></span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mi"><img src="../Images/d9b445bd958f2a178e533689a3bb0e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vK0gwVFpkt8evS79ep4DYQ.png"/></div></div></figure><p id="4901" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">一旦我们获得了groupby对象，我们就可以应用如下所示的大小函数</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="b66b" class="li lj hi le b fi lk ll l lm ln">grouped1.size()<br/>#Output<br/>body-style<br/>convertible     3<br/>hardtop         2<br/>hatchback      15<br/>sedan          32<br/>wagon           9<br/>dtype: int64</span></pre><p id="f3a3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">另一个可以应用的重要函数是给定列的groupby对象的“平均值”。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="22f4" class="li lj hi le b fi lk ll l lm ln">grouped[‘average-mileage’].mean() <br/>## we get average mileage of car belonging to different companies<br/>##Output:<br/>company<br/>alfa-romero      20.333333<br/>audi             20.000000<br/>bmw              19.000000<br/>chevrolet        41.000000<br/>dodge            31.000000<br/>honda            26.333333<br/>isuzu            33.333333<br/>jaguar           14.333333<br/>mazda            28.000000<br/>mercedes-benz    18.000000<br/>mitsubishi       29.500000<br/>nissan           31.400000<br/>porsche          17.000000<br/>toyota           28.714286<br/>volkswagen       31.750000<br/>volvo            23.000000<br/>Name: average-mileage, dtype: float64</span></pre><p id="0760" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">骨料(。agg): </strong></p><p id="9ea0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">聚合是聚合组的一种方式。<em class="mg">。agg </em>可以使用函数名(即字符串)或实际函数(即Python对象)。因此，这为我们提供了所需格式的所有所需数据的总体聚合，可以根据我们的需要进行定制。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="94b6" class="li lj hi le b fi lk ll l lm ln"><br/>df.groupby(‘company’).agg({ <br/> ‘body-style’:’size’,<br/> ‘average-mileage’:[‘sum’,’mean’],<br/> ‘price’:[‘sum’,’mean’]<br/>})</span></pre><p id="0210" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这里，我们将一个字典传递给聚合函数，其中<em class="mg"> body-style、average-miles、price </em>是<em class="mg">键</em>是列名，值是正在应用的函数，如(size、['sum '、' mean'])等..</p><p id="7df9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">agg最常用的函数有:<br/>“size”:对行进行计数<br/>“sum”:对列进行求和<br/>“Mean”/“Median”:列的平均值/中值<br/>“max”/“min”:列的最大值/最小值<br/>“idx max”/“idx min”:列的最大值/最小值的索引。获取最小值或最大值的索引有助于映射其他列。<br/> pd。Series.nunique:计算唯一值。注意，与前面的函数不同，这是一个实际的函数，而不是一个字符串。</p><p id="809d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">(有关groupby的更多信息，请阅读官方文档页面)。</p><ul class=""><li id="77b9" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka kq kr ks kt bi translated"><strong class="jf hs">映射、应用、应用映射</strong></li></ul><p id="ca94" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">1)用地图看里程好不好。(lambda函数应用于平均里程列中的所有值)</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="ee5b" class="li lj hi le b fi lk ll l lm ln">df[‘good milege?’]=df[‘average-mileage’].map(lambda mileage:’yes’ if mileage&gt;=22 else ‘no’)<br/>df.head()</span></pre><p id="6f5e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">2)使用数据框的应用功能<br/>让我们将马力(hp)转换为千瓦(千瓦)。1hp=0.745kW</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="f3c2" class="li lj hi le b fi lk ll l lm ln">def converttokW(x):<br/> out=x*0.745<br/> return out<br/> <br/>df[‘horsepower(kW)’]=df[‘horsepower’].apply(lambda x:converttokW(x))<br/>df.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mj"><img src="../Images/8ae47a1f807a8d4c14fe8ea7018da27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBIJhzxlfDF-XOEDdyzXNg.png"/></div></div></figure><p id="019e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">3)在数据框中使用applyMap。它主要用于应用数据帧ie中的所有元素。，所有元素的数据类型都相同。让我们以具有相似数据类型元素的数据帧为例。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="152e" class="li lj hi le b fi lk ll l lm ln">columns=[‘wheel-base’,’length’,’horsepower’,’average-mileage’]<br/>df_new=df[columns]<br/>df_new.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mk"><img src="../Images/088bfe344f9fb84136248562e3cdf096.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*wVLO39uSUU60WZWlGGnARw.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="aa5a" class="li lj hi le b fi lk ll l lm ln">#multiplying every element by 4<br/>df_new=df_new.applymap(lambda x:x*4)</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es ml"><img src="../Images/621a61371ec964dffa0b0028134e79bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*kwNp7rorqacM28I8DIW2ng.png"/></div></figure><p id="fcff" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">最后一章:</strong></p><p id="07c5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hs">掌握熊猫的技巧</strong></p><ol class=""><li id="3f6c" class="kl km hi jf b jg jh jk jl jo kn js ko jw kp ka mm kr ks kt bi translated">为两个数据帧分配“=”。</li></ol><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="79f4" class="li lj hi le b fi lk ll l lm ln">new_df=df3<br/>new_df.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mn"><img src="../Images/2d37e58db30b5e0b861523c0b2503870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJCmmasMNSLdpD9Xo8ErsQ.png"/></div></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="bacb" class="li lj hi le b fi lk ll l lm ln">new_df[‘horsepower(inKw)’]=””<br/>new_df[‘horsepower(inKw)’]=new_df[‘horsepower’].apply(converttokW)<br/>new_df.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mo"><img src="../Images/35fa325dfd2c0374e677ab15812e7bae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YqQEpzLtXAPcPZRDKa7kw.png"/></div></div></figure><p id="9817" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">现在让我们看看df3.head()</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="2fe3" class="li lj hi le b fi lk ll l lm ln">df3.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mp"><img src="../Images/d1c738f89b38bbeccaa3af17fc33a7d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8zBK3Ipqdk_cgni39-a8qg.png"/></div></div></figure><p id="3276" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果观察到上述两个数据帧是相同的，我们把它们赋值为相等。所以在一个数据帧中的改变也会改变另一个数据帧中的值。</p><p id="79bc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">为了解决这个问题，我们使用copy()函数，它只复制数据帧。因此，解决方案是使用下面的代码行，并像前面一样执行其他步骤。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="d041" class="li lj hi le b fi lk ll l lm ln">new_df=df3.copy()</span></pre><p id="7121" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用条件过滤数据帧。这里我们定义了一个条件，我们希望只有车身样式的数据帧等于“旅行车”</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="e13e" class="li lj hi le b fi lk ll l lm ln"><br/>df_filtered=df[df[‘body-style’]==’wagon’] </span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mq"><img src="../Images/e166438e7238ba8e8446f788ac4cae26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kP8mvK8sCwTFP_cxV-Nfgw.png"/></div></div></figure><p id="aa1f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">使用value_counts()</p><p id="b7da" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">了解数据帧中数据的不同类型和数量。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="c0f5" class="li lj hi le b fi lk ll l lm ln">df.dtypes.value_counts()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mr"><img src="../Images/eb78769aef6de5542f62ff42ff088d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*O8qDW2PHH2QbD-kdJR-Rfw.png"/></div></figure><p id="8f1f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在“company”列中显示按不同值排序的统计信息。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="42b2" class="li lj hi le b fi lk ll l lm ln">df[‘company’].value_counts().reset_index().sort_values(by=’index’)<br/>#alternate Method<br/>df['company'].value_counts().sort_index()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es ms"><img src="../Images/5a30369b8a841be39e17dc8b80dcb5ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*rjZtTbMafvDzIMtxG7X1uA.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="71d7" class="li lj hi le b fi lk ll l lm ln">df_choice=df.select_dtypes(include=['int64','float64'])</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mt"><img src="../Images/dd4106605f2377c6cccf23caf3111d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*7zbXc9WdREEuEHudYIlsSw.png"/></div></figure><p id="ff9c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">现在用" "替换任何值只是为了操纵可视化的数据:-) <br/>您可以使用以下格式用any替换任何值:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="3049" class="li lj hi le b fi lk ll l lm ln"><br/>import numpy as np<br/># because 111 is in int format<br/>df_replace=df_select.replace( {111:” “,102: “ “}) <br/>#if the value to be replaced is string it needed to be in ‘ ‘.<br/>#df_replace=df_select.replace( {‘hi’:” “,’hello’: “ “})<br/>df_replace.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mu"><img src="../Images/9732080b41357b0f257699ef4702a2f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*bTEwaMYteOIbwp5mZvywnQ.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="7d7f" class="li lj hi le b fi lk ll l lm ln">df_new=df_replace.copy()<br/>df_new = df_new.replace(r’^\s*$’, np.NaN, regex=True)<br/>df_new.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mv"><img src="../Images/18fe5c4acd907db9c0da8fa6f7acd82c.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*tYWkf4eSu_aDRGrJJ9J5SA.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="915f" class="li lj hi le b fi lk ll l lm ln">print(df_new.isnull().sum())</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mw"><img src="../Images/4d4041de4cb7c252ffd96c0308c45ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*M2IWnfUM3RORnZfK1z53NA.png"/></div></figure><p id="e0cf" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">现在，您可以删除带有NaN的行，也可以根据您的数据集将这些值替换为列的任何值，如“零”或“平均值”。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="81fd" class="li lj hi le b fi lk ll l lm ln"><br/>df_new1=df_new.replace(np.nan,0) #method 1 ie using numpy<br/>df_new2=df_new.fillna(0) #method 2 ie using pandas built in <br/>df_new3[‘horsepower’]=df_new[‘horsepower’].fillna(df_new[‘horsepower’].mean())<br/>#note:You can also apply these methods just to specific columns of your choice<br/>print(df_new1.head())<br/>print(df_new3.head())</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mx"><img src="../Images/ab9fd9d0d62d7ce29dc7ab46d451a676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*BsHI7MS_95WU6Ma0sjnYLw.png"/></div></figure><p id="1a3d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">您也可以使用“ffill ”,它向前填充非空列中取前一个值的数据。</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="0d3c" class="li lj hi le b fi lk ll l lm ln"><br/>df_new4=df_new.fillna(method=’ffill’,inplace=True)<br/>df_new.head()</span></pre><p id="24d5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果您观察马力列，索引为3的行的马力为154，它被ffill替换，ffill采用先前的值并填充它。<br/> PS:观察第1排有马力楠。所以即使是第二排也不受影响。</p><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es my"><img src="../Images/b62f3b1fc60c70e5e88c4bc7cdefbf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*xlbyHG3-56LC3yDSn08yCA.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="88fb" class="li lj hi le b fi lk ll l lm ln">df_new1=df_new1.astype(int) <br/>df_new1[‘col_total’] = df_new1.apply(lambda x: x.sum(), axis=1)<br/>df_new1.loc[‘row_total’] = df_new1.apply(lambda x: x.sum())<br/>df_new1.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es mz"><img src="../Images/a4cfd93c1ea6fe41ce8ae23c7cfb6450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*FdSWnFFjYniEMdwGnujIdQ.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="9ea6" class="li lj hi le b fi lk ll l lm ln">pivot=pd.pivot_table(df,index=[“company”],values=[“price”],aggfunc=[np.mean])</span><span id="32cf" class="li lj hi le b fi lr ll l lm ln">pivot.head()</span></pre><p id="83d8" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这里pd.pivot用于生成一个数据透视表，以一种有组织的方式显示数据。</p><p id="3870" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">它更加灵活，因为您可以定义自定义的聚合函数。</p><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es na"><img src="../Images/2f300e248457732d48c394fcd29b9318.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*c4q_EOPvdLUWBAu4SyH4pA.png"/></div></figure><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="4f5c" class="li lj hi le b fi lk ll l lm ln">pivot=pd.pivot_table(df,index=[“company”,”average-mileage”],values=[“price”],aggfunc=[np.mean,len])</span><span id="0577" class="li lj hi le b fi lr ll l lm ln">pivot.head()</span></pre><figure class="kz la lb lc fd is er es paragraph-image"><div class="er es nb"><img src="../Images/5a50c3b320e0776796f993d6ba44062e.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*ht8KOMxvIHBV7jILo-JoHg.png"/></div></figure><p id="c3bc" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">瞧啊。！你已经很好地掌握了熊猫图书馆。实践是关键，所以只要通过附加的Jupyter笔记本，并尝试操纵代码和实验熊猫的不同功能。这是掌握熊猫的最好方法。</p><p id="9a6f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">您可以通过Colab访问Jupyter笔记本，并可以在连接到运行时后下载数据并添加到Colab中:)</p><p id="46a0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">jupyter笔记本和数据集的GitHub Repo:</p><p id="dca9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kk" href="https://github.com/psssnikhil/medium" rel="noopener ugc nofollow" target="_blank">https://github.com/psssnikhil/medium</a></p><p id="c87a" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">领英:【https://www.linkedin.com/in/nikhil-pentapalli-5744bb18b/ T2】</p><p id="1e28" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我希望这篇文章能增强你的知识。继续支持，快乐学习。</p></div></div>    
</body>
</html>