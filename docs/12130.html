<html>
<head>
<title>Pandas: Powerful Python data analysis toolkit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫:强大的Python数据分析工具包</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/pandas-powerful-python-data-analysis-toolkit-359157dca8a9?source=collection_archive---------20-----------------------#2020-12-31">https://medium.com/analytics-vidhya/pandas-powerful-python-data-analysis-toolkit-359157dca8a9?source=collection_archive---------20-----------------------#2020-12-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/240cbdde35c15c0b856137bfd2dceec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dV8vLGxL7VKgUnYLKYSVrg.jpeg"/></div></div></figure><h1 id="b0a9" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">熊猫是什么？</h1><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es jn"><img src="../Images/2b08dd8415e051e323f91355708379f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*fr8KtvbUbtnPFcix.png"/></div></figure><p id="2a65" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi kq translated">Python Pandas Dataframe不仅仅是一个数组数据结构。Pandas是一个强大的工具，可以让您:</p><ul class=""><li id="b8ed" class="kz la hh ju b jv jw jz ka kd lb kh lc kl ld kp le lf lg lh bi translated">将JSON、CSV、数组、字典和其他数据转换为行和列格式。</li><li id="5d44" class="kz la hh ju b jv li jz lj kd lk kh ll kl lm kp le lf lg lh bi translated">使用名称而不是索引来处理它们(您仍然可以选择索引)</li></ul><p id="c73e" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">简而言之，Pandas有点像电子表格，但它是一个使用代码而不是Microsoft Excel进行工作的电子表格。最大的好处:</p><ul class=""><li id="cf70" class="kz la hh ju b jv jw jz ka kd lb kh lc kl ld kp le lf lg lh bi translated">Pandas使极其复杂的数据转换变得简单而自然。</li><li id="2ae0" class="kz la hh ju b jv li jz lj kd lk kh ll kl lm kp le lf lg lh bi translated">它包括大量的数学、分析和其他功能。</li></ul><p id="cf52" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi">入门</strong></p><p id="d5ac" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">这是对熊猫的简短介绍，主要面向新用户。</p><p id="e57b" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通常，我们导入如下内容:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="6d71" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [1]: import</strong> <strong class="lo hi">numpy</strong> <strong class="lo hi">as</strong> <strong class="lo hi">np</strong></span><span id="a339" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [2]: import</strong> <strong class="lo hi">pandas</strong> <strong class="lo hi">as</strong> <strong class="lo hi">pd</strong></span></pre><p id="1bb4" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通过传递一个值列表来创建一个<strong class="ju hi">序列</strong>，让pandas创建一个默认的整数索引:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="d103" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [3]: </strong>s = pd.Series([1, 3, 5, np.nan, 6, 8])</span><span id="425c" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [4]: </strong>s<br/><strong class="lo hi">Out[4]: </strong><br/>0    1.0<br/>1    3.0<br/>2    5.0<br/>3    NaN<br/>4    6.0<br/>5    8.0<br/>dtype: float64</span></pre><p id="c6f3" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通过传递一个可以转换成类似系列的对象的<strong class="ju hi">字典</strong>来创建一个<strong class="ju hi">数据框架</strong>。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="23ce" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [9]: </strong>df2 = pd.DataFrame(<br/><strong class="lo hi">   ...: </strong>    {<br/><strong class="lo hi">   ...: </strong>        "A": 1.0,<br/><strong class="lo hi">   ...: </strong>        "B": pd.Timestamp("20130102"),<br/><strong class="lo hi">   ...: </strong>        "C": pd.Series(1, index=list(range(4)), dtype="float32"),<br/><strong class="lo hi">   ...: </strong>        "D": np.array([3] * 4, dtype="int32"),<br/><strong class="lo hi">   ...: </strong>        "E": pd.Categorical(["test", "train", "test", "train"]),<br/><strong class="lo hi">   ...: </strong>        "F": "foo",<br/><strong class="lo hi">   ...: </strong>    }<br/><strong class="lo hi">   ...: </strong>)<br/><strong class="lo hi">   ...: </strong></span><span id="593a" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [10]: </strong>df2<br/><strong class="lo hi">Out[10]: </strong><br/>     A          B    C  D      E    F<br/>0  1.0 2013-01-02  1.0  3   test  foo<br/>1  1.0 2013-01-02  1.0  3  train  foo<br/>2  1.0 2013-01-02  1.0  3   test  foo<br/>3  1.0 2013-01-02  1.0  3  train  foo</span></pre><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ly"><img src="../Images/1300f97f88cd4a19a7c2a214214af854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZ1nbLkRCn-8Hu7DK3I4jA.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">系列和数据框架</figcaption></figure><p id="9283" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi">查看数据:</strong></p><p id="a085" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">下面是如何查看框架的<strong class="ju hi">顶排</strong>和<strong class="ju hi">底排</strong>:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="2d90" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [13]: </strong>df.head()<br/><strong class="lo hi">Out[13]: </strong><br/>                   A         B         C         D<br/>2013-01-01  0.469112 -0.282863 -1.509059 -1.135632<br/>2013-01-02  1.212112 -0.173215  0.119209 -1.044236<br/>2013-01-03 -0.861849 -2.104569 -0.494929  1.071804<br/>2013-01-04  0.721555 -0.706771 -1.039575  0.271860<br/>2013-01-05 -0.424972  0.567020  0.276232 -1.087401</span><span id="1f92" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [14]: </strong>df.tail(3)<br/><strong class="lo hi">Out[14]: </strong><br/>                   A         B         C         D<br/>2013-01-04  0.721555 -0.706771 -1.039575  0.271860<br/>2013-01-05 -0.424972  0.567020  0.276232 -1.087401<br/>2013-01-06 -0.673690  0.113648 -1.478427  0.524988</span></pre><p id="a8a8" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">显示<strong class="ju hi">索引，列</strong>:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="ad30" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [15]: </strong>df.index<br/><strong class="lo hi">Out[15]: </strong><br/>DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',<br/>               '2013-01-05', '2013-01-06'],<br/>              dtype='datetime64[ns]', freq='D')</span><span id="058a" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [16]: </strong>df.columns<br/><strong class="lo hi">Out[16]: </strong>Index(['A', 'B', 'C', 'D'], dtype='object')</span></pre><p id="227e" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="md"> describe() </em> </strong>显示您的数据的快速统计汇总:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="584a" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [19]: </strong>df.describe()<br/><strong class="lo hi">Out[19]: </strong><br/>              A         B         C         D<br/>count  6.000000  6.000000  6.000000  6.000000<br/>mean   0.073711 -0.431125 -0.687758 -0.233103<br/>std    0.843157  0.922818  0.779887  0.973118<br/>min   -0.861849 -2.104569 -1.509059 -1.135632<br/>25%   -0.611510 -0.600794 -1.368714 -1.076610<br/>50%    0.022070 -0.228039 -0.767252 -0.386188<br/>75%    0.658444  0.041933 -0.034326  0.461706<br/>max    1.212112  0.567020  0.276232  1.071804</span></pre><p id="5b62" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="md">通过<strong class="ju hi">轴</strong>分拣</em> </strong>:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="57d3" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [21]: </strong>df.sort_index(axis=1, ascending=<strong class="lo hi">False</strong>)<br/><strong class="lo hi">Out[21]: </strong><br/>                   D         C         B         A<br/>2013-01-01 -1.135632 -1.509059 -0.282863  0.469112<br/>2013-01-02 -1.044236  0.119209 -0.173215  1.212112<br/>2013-01-03  1.071804 -0.494929 -2.104569 -0.861849<br/>2013-01-04  0.271860 -1.039575 -0.706771  0.721555<br/>2013-01-05 -1.087401  0.276232  0.567020 -0.424972<br/>2013-01-06  0.524988 -1.478427  0.113648 -0.673690</span></pre><p id="62c7" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="md">按<strong class="ju hi">值</strong>排序</em> </strong>:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="fdfd" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [22]: </strong>df.sort_values(by="B")<br/><strong class="lo hi">Out[22]: </strong><br/>                   A         B         C         D<br/>2013-01-03 -0.861849 -2.104569 -0.494929  1.071804<br/>2013-01-04  0.721555 -0.706771 -1.039575  0.271860<br/>2013-01-01  0.469112 -0.282863 -1.509059 -1.135632<br/>2013-01-02  1.212112 -0.173215  0.119209 -1.044236<br/>2013-01-06 -0.673690  0.113648 -1.478427  0.524988<br/>2013-01-05 -0.424972  0.567020  0.276232 -1.087401</span></pre><p id="8fee" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi">数据的选择:</strong></p><p id="f9e9" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">虽然用于选择和设置的标准Python / Numpy表达式很直观，并且对于交互式工作很方便，但是对于生产代码，我们推荐优化的pandas数据访问方法，<code class="du me mf mg lo b">.at</code>、<code class="du me mf mg lo b">.iat</code>、<code class="du me mf mg lo b">.loc</code>和<code class="du me mf mg lo b">.iloc</code>。</p><p id="fc6c" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">选择单个列，产生一个<code class="du me mf mg lo b"><a class="ae mh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" rel="noopener ugc nofollow" target="_blank"><strong class="ju hi">Series</strong></a></code>，相当于<code class="du me mf mg lo b">df.A</code>:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="dd04" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [23]: </strong>df["A"]<br/><strong class="lo hi">Out[23]: </strong><br/>2013-01-01    0.469112<br/>2013-01-02    1.212112<br/>2013-01-03   -0.861849<br/>2013-01-04    0.721555<br/>2013-01-05   -0.424972<br/>2013-01-06   -0.673690<br/>Freq: D, Name: A, dtype: float64</span></pre><p id="d333" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="md">通过</em> </strong> <code class="du me mf mg lo b">[]</code>选择，切割<strong class="ju hi">行</strong>。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="7368" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [24]: </strong>df[0:3]<br/><strong class="lo hi">Out[24]: </strong><br/>                   A         B         C         D<br/>2013-01-01  0.469112 -0.282863 -1.509059 -1.135632<br/>2013-01-02  1.212112 -0.173215  0.119209 -1.044236<br/>2013-01-03 -0.861849 -2.104569 -0.494929  1.071804</span><span id="e7e4" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [25]: </strong>df["20130102":"20130104"]<br/><strong class="lo hi">Out[25]: </strong><br/>                   A         B         C         D<br/>2013-01-02  1.212112 -0.173215  0.119209 -1.044236<br/>2013-01-03 -0.861849 -2.104569 -0.494929  1.071804<br/>2013-01-04  0.721555 -0.706771 -1.039575  0.271860</span></pre><p id="2d1a" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通过标签在<strong class="ju hi">多轴上选择:</strong></p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="7152" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [27]: </strong>df.loc[:, ["A", "B"]]<br/><strong class="lo hi">Out[27]: </strong><br/>                   A         B<br/>2013-01-01  0.469112 -0.282863<br/>2013-01-02  1.212112 -0.173215<br/>2013-01-03 -0.861849 -2.104569<br/>2013-01-04  0.721555 -0.706771<br/>2013-01-05 -0.424972  0.567020<br/>2013-01-06 -0.673690  0.113648</span></pre><p id="a9c7" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi">按位置选择:</strong></p><p id="f9bd" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通过传递的整数的位置进行选择:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="5a39" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [32]: </strong>df.iloc[3]<br/><strong class="lo hi">Out[32]: </strong><br/>A    0.721555<br/>B   -0.706771<br/>C   -1.039575<br/>D    0.271860<br/>Name: 2013-01-04 00:00:00, dtype: float64</span></pre><p id="9891" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">通过整数切片，类似于numpy/Python:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="03a8" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [33]: </strong>df.iloc[3:5, 0:2]<br/><strong class="lo hi">Out[33]: </strong><br/>                   A         B<br/>2013-01-04  0.721555 -0.706771<br/>2013-01-05 -0.424972  0.567020</span></pre><h1 id="61a2" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">缺失数据:</h1><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/26d57ccd2fdf660f8a1869002b312943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kR9pF8JMX3rN478WLzYQ4g.jpeg"/></div></div></figure><blockquote class="mj mk ml"><p id="b1e7" class="js jt md ju b jv jw jx jy jz ka kb kc mm ke kf kg mn ki kj kk mo km kn ko kp ha bi translated">pandas主要使用值<code class="du me mf mg lo b">np.nan</code>来表示缺失的数据。默认情况下，它不包括在计算中。</p></blockquote><p id="44dc" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">重新索引允许您更改/添加/删除指定轴上的索引。这将返回数据的副本。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="31e3" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [55]: </strong>df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + ["E"])</span><span id="18d6" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [56]: </strong>df1.loc[dates[0] : dates[1], "E"] = 1</span><span id="1ce4" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [57]: </strong>df1<br/><strong class="lo hi">Out[57]: </strong><br/>                   A         B         C  D    F    E<br/>2013-01-01  0.000000  0.000000 -1.509059  5  NaN  1.0<br/>2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0<br/>2013-01-03 -0.861849 -2.104569 -0.494929  5  2.0  NaN<br/>2013-01-04  0.721555 -0.706771 -1.039575  5  3.0  NaN</span></pre><p id="e5a4" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">删除任何缺少数据的行。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="b9ae" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [58]: </strong>df1.dropna(how="any")<br/><strong class="lo hi">Out[58]: </strong><br/>                   A         B         C  D    F    E<br/>2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0</span></pre><p id="7ef2" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">填补缺失数据。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="c5a7" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [59]: </strong>df1.fillna(value=5)<br/><strong class="lo hi">Out[59]: </strong><br/>                   A         B         C  D    F    E<br/>2013-01-01  0.000000  0.000000 -1.509059  5  5.0  1.0<br/>2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0<br/>2013-01-03 -0.861849 -2.104569 -0.494929  5  2.0  5.0<br/>2013-01-04  0.721555 -0.706771 -1.039575  5  3.0  5.0</span></pre><p id="5603" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">获取值为<code class="du me mf mg lo b">nan</code>的布尔掩码。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="34d1" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [60]: </strong>pd.isna(df1)<br/><strong class="lo hi">Out[60]: </strong><br/>                A      B      C      D      F      E<br/>2013-01-01  False  False  False  False   True  False<br/>2013-01-02  False  False  False  False  False  False<br/>2013-01-03  False  False  False  False  False   True<br/>2013-01-04  False  False  False  False  False   True</span></pre><h1 id="9cdf" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">绘图:</h1><blockquote class="mj mk ml"><p id="b93d" class="js jt md ju b jv jw jx jy jz ka kb kc mm ke kf kg mn ki kj kk mo km kn ko kp ha bi translated">我们使用标准惯例来引用matplotlib API:</p></blockquote><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="8db5" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [131]: import</strong> <strong class="lo hi">matplotlib.pyplot</strong> <strong class="lo hi">as</strong> <strong class="lo hi">plt</strong></span><span id="074d" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [132]: </strong>plt.close("all")</span><span id="12fa" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [133]: </strong>ts = pd.Series(np.random.randn(1000), index=pd.date_range("1/1/2000", periods=1000))</span><span id="ee8e" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [134]: </strong>ts = ts.cumsum()</span><span id="84c8" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [135]: </strong>ts.plot()<br/><strong class="lo hi">Out[135]: </strong>&lt;AxesSubplot:&gt;</span></pre><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/45847fde01e8170bd533cdd768d9334a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*U26ldsWqeIIX0Me0.png"/></div></figure><p id="5741" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">在数据帧上，<code class="du me mf mg lo b"><a class="ae mh" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" rel="noopener ugc nofollow" target="_blank"><strong class="ju hi">plot()</strong></a></code>方法可以方便地绘制所有带标签的列:</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="7599" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [136]: </strong>df = pd.DataFrame(<br/><strong class="lo hi">   .....: </strong>    np.random.randn(1000, 4), index=ts.index, columns=["A", "B", "C", "D"]<br/><strong class="lo hi">   .....: </strong>)<br/><strong class="lo hi">   .....: </strong></span><span id="3f9c" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [137]: </strong>df = df.cumsum()</span><span id="e4ad" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [138]: </strong>plt.figure()<br/><strong class="lo hi">Out[138]: </strong>&lt;Figure size 640x480 with 0 Axes&gt;</span><span id="f7d0" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [139]: </strong>df.plot()<br/><strong class="lo hi">Out[139]: </strong>&lt;AxesSubplot:&gt;</span><span id="fbe3" class="ls iq hh lo b fi lx lu l lv lw"><strong class="lo hi">In [140]: </strong>plt.legend(loc='best')<br/><strong class="lo hi">Out[140]: </strong>&lt;matplotlib.legend.Legend at 0x7fa9468dc220&gt;</span></pre><figure class="jo jp jq jr fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/41db49646775df3dbdec2db273c2ad9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*tVW-GU0NtgQp1Tk8.png"/></div></figure><h1 id="6ce4" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">获取数据输入/输出</h1><h1 id="51cb" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">CSV:</h1><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="c16d" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [141]: </strong>df.to_csv("foo.csv")</span></pre><p id="28e9" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><a class="ae mh" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#io-read-csv-table" rel="noopener ugc nofollow" target="_blank">从csv文件中读取。</a></p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="e172" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [142]: </strong>pd.read_csv("foo.csv")<br/><strong class="lo hi">Out[142]: </strong><br/>     Unnamed: 0          A          B          C          D<br/>0    2000-01-01   0.350262   0.843315   1.798556   0.782234<br/>1    2000-01-02  -0.586873   0.034907   1.923792  -0.562651<br/>2    2000-01-03  -1.245477  -0.963406   2.269575  -1.612566<br/>3    2000-01-04  -0.252830  -0.498066   3.176886  -1.275581<br/>4    2000-01-05  -1.044057   0.118042   2.768571   0.386039<br/>..          ...        ...        ...        ...        ...<br/>995  2002-09-22 -48.017654  31.474551  69.146374 -47.541670<br/>996  2002-09-23 -47.207912  32.627390  68.505254 -48.828331<br/>997  2002-09-24 -48.907133  31.990402  67.310924 -49.391051<br/>998  2002-09-25 -50.146062  33.716770  67.717434 -49.037577<br/>999  2002-09-26 -49.724318  33.479952  68.108014 -48.822030</span><span id="3bee" class="ls iq hh lo b fi lx lu l lv lw">[1000 rows x 5 columns]</span></pre><h1 id="8527" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">HDF5:</h1><p id="1d69" class="pw-post-body-paragraph js jt hh ju b jv mq jx jy jz mr kb kc kd ms kf kg kh mt kj kk kl mu kn ko kp ha bi translated">写入HDF5存储。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="95c9" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [143]: </strong>df.to_hdf("foo.h5", "df")</span></pre><p id="fc33" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">从HDF5商店读取。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="9b54" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [144]: </strong>pd.read_hdf("foo.h5", "df")<br/><strong class="lo hi">Out[144]: </strong><br/>                    A          B          C          D<br/>2000-01-01   0.350262   0.843315   1.798556   0.782234<br/>2000-01-02  -0.586873   0.034907   1.923792  -0.562651<br/>2000-01-03  -1.245477  -0.963406   2.269575  -1.612566<br/>2000-01-04  -0.252830  -0.498066   3.176886  -1.275581<br/>2000-01-05  -1.044057   0.118042   2.768571   0.386039<br/>...               ...        ...        ...        ...<br/>2002-09-22 -48.017654  31.474551  69.146374 -47.541670<br/>2002-09-23 -47.207912  32.627390  68.505254 -48.828331<br/>2002-09-24 -48.907133  31.990402  67.310924 -49.391051<br/>2002-09-25 -50.146062  33.716770  67.717434 -49.037577<br/>2002-09-26 -49.724318  33.479952  68.108014 -48.822030</span><span id="e358" class="ls iq hh lo b fi lx lu l lv lw">[1000 rows x 4 columns]</span></pre><h1 id="768b" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">Excel:</h1><p id="7573" class="pw-post-body-paragraph js jt hh ju b jv mq jx jy jz mr kb kc kd ms kf kg kh mt kj kk kl mu kn ko kp ha bi translated">写入excel文件。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="476b" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [145]: </strong>df.to_excel("foo.xlsx", sheet_name="Sheet1")</span></pre><p id="d3dc" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">从excel文件中读取。</p><pre class="jo jp jq jr fd ln lo lp lq aw lr bi"><span id="78ce" class="ls iq hh lo b fi lt lu l lv lw"><strong class="lo hi">In [146]: </strong>pd.read_excel("foo.xlsx", "Sheet1", index_col=<strong class="lo hi">None</strong>, na_values=["NA"])<br/><strong class="lo hi">Out[146]: </strong><br/>    Unnamed: 0          A          B          C          D<br/>0   2000-01-01   0.350262   0.843315   1.798556   0.782234<br/>1   2000-01-02  -0.586873   0.034907   1.923792  -0.562651<br/>2   2000-01-03  -1.245477  -0.963406   2.269575  -1.612566<br/>3   2000-01-04  -0.252830  -0.498066   3.176886  -1.275581<br/>4   2000-01-05  -1.044057   0.118042   2.768571   0.386039<br/>..         ...        ...        ...        ...        ...<br/>995 2002-09-22 -48.017654  31.474551  69.146374 -47.541670<br/>996 2002-09-23 -47.207912  32.627390  68.505254 -48.828331<br/>997 2002-09-24 -48.907133  31.990402  67.310924 -49.391051<br/>998 2002-09-25 -50.146062  33.716770  67.717434 -49.037577<br/>999 2002-09-26 -49.724318  33.479952  68.108014 -48.822030</span><span id="7ba3" class="ls iq hh lo b fi lx lu l lv lw">[1000 rows x 5 columns]</span></pre><p id="3736" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi">总结… </strong></p><p id="35c3" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">在本文中，我们讨论了Pandas的基础知识，包括创建数据框、处理缺失值和数据检索方法。据说数据科学家80%的工作是数据处理和操作。所以，如果你选择用python来完成你的ML项目，了解熊猫是如何工作的是非常重要的。</p></div></div>    
</body>
</html>