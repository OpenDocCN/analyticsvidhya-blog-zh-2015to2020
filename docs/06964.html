<html>
<head>
<title>CW’s Arrow | Data Science Approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CW的箭头|数据科学方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cws-arrow-data-sceince-approach-752389c3eba5?source=collection_archive---------21-----------------------#2020-06-08">https://medium.com/analytics-vidhya/cws-arrow-data-sceince-approach-752389c3eba5?source=collection_archive---------21-----------------------#2020-06-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es et"><img src="../Images/2c5046f7dc306ffc91f8d48266f7eee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJNbTcrq-wZ5tLICXhXV3A.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">绿箭斯蒂芬·阿梅尔(图片来源:CW)</figcaption></figure><p id="cc96" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">自2012年开播以来，CW电视台的《绿箭侠》已经成为世界上最受欢迎和最具革命性的电视剧之一。Arrow启动了CW的DC Universe，被称为Arrowverse，它与Flash，Supergirl，Legends of Tomorrow，蝙蝠女侠和Vixen共享故事连续性。</p><p id="2ffb" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">该剧以DC漫画中最受欢迎的角色之一为基础，凭借其对原始资料的忠实，接地气的动作序列，混合的时间线，将新黑色与超级英雄小说相结合，并从克里斯托弗·诺兰的《黑暗骑士》三部曲中汲取灵感，彻底改变了现代电视超级英雄系列。《绿箭侠》使其主演斯蒂芬·阿梅尔成为收入最高、最受欢迎的电视演员之一。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jr"><img src="../Images/a9d869da152d8a6676b0691eb1975246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zp3gfSWKERLN5yIgW-JdkA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">2016年英雄与反派大会上的阿梅尔；阿梅尔的表演受到了普遍的赞扬，评论家们强调他在银幕上表现各种情绪和塑造复杂角色的能力</figcaption></figure><p id="82e7" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">现在，是时候在节目中使用数据科学方法来了解它有多好以及人们对它的看法了。</p><p id="40b4" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated"><em class="jw">免责声明:这里使用的R脚本对于某些读者来说是可以进阶的。你必须了解r的基础知识。你可能对Twitter API有所了解，以便理解它并使用它。</em></p><p id="1aee" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated"><em class="jw">没有编程知识的读者请注意:请随意忽略R脚本和其他编程方面。带有描述和报告的情节适合所有人。</em></p><h1 id="6fc1" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">资源</h1><ul class=""><li id="e06b" class="kv kw hi iv b iw kx ja ky je kz ji la jm lb jq lc ld le lf bi translated">学习或更新你的R知识，<a class="ae lg" href="https://www.datacamp.com" rel="noopener ugc nofollow" target="_blank">数据营</a>非常有帮助。你只需要创建一个免费账户。</li><li id="845a" class="kv kw hi iv b iw lh ja li je lj ji lk jm ll jq lc ld le lf bi translated">免费在线教材<a class="ae lg" href="https://rafalab.github.io/dsbook/" rel="noopener ugc nofollow" target="_blank">介绍数据分析和R </a>预测算法也确实很有帮助。</li></ul><h1 id="ce22" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">r提示</h1><ul class=""><li id="0c39" class="kv kw hi iv b iw kx ja ky je kz ji la jm lb jq lc ld le lf bi translated">如有可能，使用<a class="ae lg" href="https://mran.microsoft.com/open" rel="noopener ugc nofollow" target="_blank">微软R Open </a>。它带有多线程数学库(MKL)和<em class="jw">检查点</em>包。</li><li id="3710" class="kv kw hi iv b iw lh ja li je lj ji lk jm ll jq lc ld le lf bi translated">但是如果你遇到麻烦，不要犹豫，换成常规休息。微软R Open可以有一些离奇的问题<a class="ae lg" rel="noopener ugc nofollow" target="_blank" href="/@ceshine/cxx11-is-not-defined-problem-in-mro-3-4-e51f1d27da15">我的个人经历</a>。不要浪费太多时间去修理它们。换成常规R往往能解决问题。</li><li id="713c" class="kv kw hi iv b iw lh ja li je lj ji lk jm ll jq lc ld le lf bi translated">通过起重机安装常规R(<a class="ae lg" href="https://cran.r-project.org/bin/linux/ubuntu/README.html" rel="noopener ugc nofollow" target="_blank">Ubuntu的说明</a>)。<a class="ae lg" href="https://mran.microsoft.com/documents/rro/reproducibility" rel="noopener ugc nofollow" target="_blank">安装<em class="jw">检查点</em>确保再现性</a>(不是微软R Open独占。)</li><li id="77b8" class="kv kw hi iv b iw lh ja li je lj ji lk jm ll jq lc ld le lf bi translated">使用<a class="ae lg" href="https://www.rstudio.com/" rel="noopener ugc nofollow" target="_blank"> RStudio </a>并善用其<em class="jw">控制台</em>窗口。有些人对R有强烈的反感，因为它与其他主要编程语言相比有一些独特之处。许多困惑可以通过在<em class="jw">控制台</em>中的简单查询来解决。不确定向量索引是从零开始还是从一开始？告诉你是一个。查询<code class="du lm ln lo lp b">1:10</code>告诉您结果包括10(不像Python)。</li></ul><h1 id="e13b" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">烂番茄的疮疤</h1><p id="e2f3" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">烂番茄是最受欢迎的影视评论聚合网站之一。《绿箭侠》最近结束了第八季，这也是最后一季。每个季节，烂番茄都有一个自动气象仪(平均。评论家分数)和观众分数Arrow。这些都是公开的，很容易检索。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="7426" class="lx jy hi lp b fi ly lz l ma mb">library(plotly)</span><span id="926e" class="lx jy hi lp b fi mc lz l ma mb">Rotten_Tomatoes_Performence &lt;- c("Tomatometer", "Audience Score")<br/>Season_1 &lt;- c(85, 87)<br/>Season_2 &lt;- c(95, 91)<br/>Season_3 &lt;- c(89, 72)<br/>Season_4 &lt;- c(85, 43)<br/>Season_5 &lt;- c(88, 73)<br/>Season_6 &lt;- c(64, 55)<br/>Season_7 &lt;- c(88, 65)<br/>Season_8 &lt;- c(91, 85)<br/>data &lt;- data.frame(Rotten_Tomatoes_Performence, Season_1, Season_2, Season_3, Season_4, Season_5, Season_6, Season_7, Season_8)</span><span id="09f2" class="lx jy hi lp b fi mc lz l ma mb">fig &lt;- plot_ly(data, x = ~Rotten_Tomatoes_Performence, y = ~Season_1, type = 'bar', name = 'Season 1')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_2, name = 'Season 2')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_3, name = 'Season 3')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_4, name = 'Season 4')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_5, name = 'Season 5')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_6, name = 'Season 6')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_7, name = 'Season 7')<br/>fig &lt;- fig %&gt;% add_trace(y = ~Season_8, name = 'Season 8')<br/>fig &lt;- fig %&gt;% layout(yaxis = list(title = 'Scores'), barmode = 'group')<br/>fig &lt;- fig %&gt;% layout(title = "Arrow on Rotten Tomatoes")<br/>fig</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/564c3edff08f69faadd7608f6e955c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BKkhTVjSfABT0gYLbT6JeQ.png"/></div></div></figure><p id="9d9d" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">该系列在评论家中非常受欢迎，但我们可以看到第六季的评分很低，但随着第七季的继续，评分有所提高。另一方面，我们可以看到观众对第四季的评价很低，但从那以后，观众的评分也有所提高。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es me"><img src="../Images/ad91ae74fd30545ecdcf4b8c15a308f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0eaSdRQtrnzlV5CZAtAK1w.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">马努·贝内特饰演斯莱德·威尔森/丧钟，第二季的主要对手，获得了好评。贝内特的《丧钟》被许多人认为是电视上最好的反派角色之一。图片来源:CW</figcaption></figure><h1 id="2f70" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">电视观众</h1><p id="d317" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">让我们创建一个情节，并比较每一季的平均收视率。这些数据是从2012年至2020年每个季度的多个来源检索的。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="6900" class="lx jy hi lp b fi ly lz l ma mb">library(plotly)<br/>Season &lt;- c(1, 2, 3, 4, 5, 6, 7, 8)<br/>AVG_Viewers_in_millions &lt;- c(3.68, 3.28, 3.52, 2.90, 2.21, 1.76, 1.58, 1.52)</span><span id="1db9" class="lx jy hi lp b fi mc lz l ma mb">data &lt;- data.frame(Season, AVG_Viewers_in_millions)</span><span id="1f4a" class="lx jy hi lp b fi mc lz l ma mb">fig &lt;- plot_ly(data, x = Season , y = AVG_Viewers_in_millions, type = 'scatter', mode = 'lines')<br/>fig &lt;- fig %&gt;% layout(title = "Average Viewers for Each Season of Arrow", xaxis = list(title = 'Seasons'), yaxis = list (title = 'AVG Viewer(Millions)'))<br/>fig</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mf"><img src="../Images/a90129eef879993c8955630bba8120f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2UttsutQFAAZGUeQ8UR7Q.png"/></div></div></figure><p id="d566" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">随着连续剧的播出，平均收视率急剧下降。然而，一个重要的因素是，在每一季结束后，它会在网飞上出现。有可能观众更愿意等待这一季在网飞播出，而不是在CW直播。</p><h1 id="e68e" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">按人口统计的评级</h1><p id="d734" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">IMDb是一个在线数据库，包含电影、电视剧、家庭视频、视频游戏和在线流媒体内容的信息。它还包括演员、制作人员、个人传记、情节概要、琐事、评级以及粉丝和评论。</p><p id="3b74" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">特定节目或电影的IMDb投票者的人口统计(年龄组和性别)总是公开的。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="965f" class="lx jy hi lp b fi ly lz l ma mb">library(plotly)</span><span id="f56b" class="lx jy hi lp b fi mc lz l ma mb"># Ratings of Arrow by Sex<br/>age_group &lt;- c("&lt;18", "18-29", "30-44", "45+")<br/>male_rating &lt;- c(7.6, 7.7, 7.4, 7.2)<br/>female_rating &lt;- c(7.8, 7.8, 7.5, 7.6)<br/>data &lt;- data.frame(age_group, male_rating, female_rating)</span><span id="e249" class="lx jy hi lp b fi mc lz l ma mb">fig &lt;- plot_ly(data, x = ~age_group, y = ~male_rating, type = 'bar', name = 'Males Rating')<br/>fig &lt;- fig %&gt;% add_trace(y = ~female_rating, name = 'Female Rating')<br/>fig &lt;- fig %&gt;% layout(yaxis = list(title = 'Score (1-10)'), barmode = 'group')<br/>fig &lt;- fig %&gt;% layout(title = "Rating of Arrow on IMDb")<br/>fig</span><span id="6652" class="lx jy hi lp b fi mc lz l ma mb">#Votings of Arrrow by Sex<br/>age_group &lt;- c("&lt;18", "18-29", "30-44", "45+")<br/>male_votes &lt;- c(345, 90036, 85361, 19341)<br/>female_votes &lt;- c(93, 23507, 23471, 6655)<br/>data &lt;- data.frame(age_group, male_votes, female_votes)<br/>fig &lt;- plot_ly(data, x = ~age_group, y = ~male_votes, type = 'bar', name = 'Males Rating')<br/>fig &lt;- fig %&gt;% add_trace(y = ~female_votes, name = 'Female Rating')<br/>fig &lt;- fig %&gt;% layout(yaxis = list(title = 'Votes'), barmode = 'group')<br/>fig &lt;- fig %&gt;% layout(title = "IMDb Votes for Arrow")<br/>fig</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/06d1fa354e7d6abba4521b28d3733336.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yxQWOjQCroaGSHVqZaM__w.png"/></div></div></figure><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mh"><img src="../Images/abde9a4b6bbbfce0717079a2a6267f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZQBLQXnQtt3WNeJBJ9yZkw.png"/></div></div></figure><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es mi"><img src="../Images/6ff5469158c161cfd6c4891de62976f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*pt9Ao3b4HRxwM-2-GJzXPQ.jpeg"/></div><figcaption class="ip iq et er es ir is bd b be z dx translated">2013年国际动漫展上<em class="mj"> Arrow </em>的主角。从左到右:凯蒂·卡西迪、斯蒂芬·阿梅尔和艾米莉·贝特·理查兹。</figcaption></figure><h1 id="3fc6" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">人们在推特上说什么？</h1><p id="ae26" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">现在，我们自己得到数据。我们将分析关于CW的箭头的推文。我们将使用#Arrow分析最近的10，000条公开推文。</p><h1 id="4790" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">词云和频率</h1><h2 id="5bde" class="lx jy hi bd jz mk ml mm kd mn mo mp kh je mq mr kl ji ms mt kp jm mu mv kt mw bi translated">获取推文的数据和分布</h2><p id="a6af" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">首先按照本文的说明获取自己的API key和访问令牌，安装<code class="du lm ln lo lp b">twitteR</code>包:</p><div class="mx my ez fb mz na"><a rel="noopener follow" target="_blank" href="/@GalarnykMichael/accessing-data-from-twitter-api-using-r-part1-b387a1c7d3e"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">使用R从Twitter API访问数据</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">更新:可以在这里找到本教程的更新版本。</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no in na"/></div></div></a></div><p id="549b" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">你需要这四个变量:</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="d12b" class="lx jy hi lp b fi ly lz l ma mb">consumer_key &lt;- "FILL HERE"<br/>consumer_secret &lt;- "FILL HERE"<br/>access_token &lt;- "FILL HERE"<br/>access_secret &lt;- "FILL HERE"</span></pre><p id="7b85" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">这篇文章的主要访问点是searchTwitter。它将使用“#Arrow”搜索10，000条最近的英语公共推文</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="2d58" class="lx jy hi lp b fi ly lz l ma mb">setup_twitter_oauth(consumer_key, consumer_secret, access_token, access_secret)</span><span id="7b44" class="lx jy hi lp b fi mc lz l ma mb">cw.tweets&lt;- searchTwitter("#arrow",n=10000,lang="en")</span><span id="bb96" class="lx jy hi lp b fi mc lz l ma mb">tweet=cw.tweets[[1]]<br/>tweet$getScreenName()<br/>tweet$getText()<br/>cw.text=laply(cw.tweets,function(t)t$getText())<br/>length(cw.text)</span><span id="d4cf" class="lx jy hi lp b fi mc lz l ma mb">#performing data cleaning and store in csv.file<br/>cw.text = gsub("(RT|via)((?:\\b\\W*@\\w+)+)", "", cw.text)<br/>cw.text = gsub("@\\w+", "", cw.text)<br/>cw.text = gsub("[[:punct:]]", "", cw.text)<br/>cw.text = gsub("[[:digit:]]", "", cw.text)<br/>cw.text = gsub("http\\w+", "", cw.text)<br/>cw.text = gsub("[ \t]{2,}", "", cw.text)<br/>cw.text = gsub("^\\s+|\\s+$", "", cw.text)<br/>cw.text &lt;- str_replace_all(cw.text," "," ")<br/>cw.text &lt;- str_replace_all(cw.text,"#[a-z,A-Z]*","")<br/>cw.text &lt;- str_replace_all(cw.text,"@[a-z,A-Z]*","")  <br/>cw.text &lt;- tolower(cw.text)</span><span id="161a" class="lx jy hi lp b fi mc lz l ma mb">write(cw.text, "arrow.csv",ncolumn=1)</span></pre><p id="6ac2" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">我们现在有了一个CSV文件，其中包含了Arrow的所有清理过的推文。现在，我们用它做一个单词云。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="a10d" class="lx jy hi lp b fi ly lz l ma mb"># Load<br/>library("tm")<br/>library("SnowballC")<br/>library("wordcloud")<br/>library("RColorBrewer")<br/>text &lt;- readLines(file.choose()) # This let us choose the file of tweets. Remember, we created a file of all tweets and named the file arrow.csv</span><span id="1a0f" class="lx jy hi lp b fi mc lz l ma mb"># Load the data as a corpus<br/>docs &lt;- Corpus(VectorSource(text))<br/>inspect(docs)<br/>toSpace &lt;- content_transformer(function (x , pattern ) gsub(pattern, " ", x))<br/>docs &lt;- tm_map(docs, toSpace, "/")<br/>docs &lt;- tm_map(docs, toSpace, "@")<br/>docs &lt;- tm_map(docs, toSpace, "\\|")</span><span id="a0f9" class="lx jy hi lp b fi mc lz l ma mb"># Convert the text to lower case<br/>docs &lt;- tm_map(docs, content_transformer(tolower))<br/># Remove numbers<br/>docs &lt;- tm_map(docs, removeNumbers)<br/># Remove english common stopwords<br/>docs &lt;- tm_map(docs, removeWords, stopwords("english"))<br/># Remove your own stop word<br/># specify your stopwords as a character vector<br/>docs &lt;- tm_map(docs, removeWords, c("blabla1", "blabla2")) <br/># Remove punctuations<br/>docs &lt;- tm_map(docs, removePunctuation)<br/># Eliminate extra white spaces<br/>docs &lt;- tm_map(docs, stripWhitespace)<br/># Text stemming<br/># docs &lt;- tm_map(docs, stemDocument)<br/>dtm &lt;- TermDocumentMatrix(docs)<br/>m &lt;- as.matrix(dtm)<br/>v &lt;- sort(rowSums(m),decreasing=TRUE)<br/>d &lt;- data.frame(word = names(v),freq=v)<br/>set.seed(1234)<br/>wordcloud(words = d$word, freq = d$freq, min.freq = 1,<br/>          max.words=300, random.order=FALSE, rot.per=0.35, <br/>          colors=brewer.pal(8, "Dark2"))</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es np"><img src="../Images/8b03a5cd6bacf54d3d9ac99baa3d30fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ipvs4Ks-Q_PVaM8x2VtVrw.png"/></div></div></figure><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jr"><img src="../Images/9b0c2419fa15d38a610ea38e4b5fa891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9W8NPvs6k_Mn6G-OtX8E8g.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated">大卫·拉姆西饰演约翰·迪格尔/斯巴达；接收斯蒂芬·阿梅尔和凯蒂·卡西迪的明星账单。作为一名有武术背景的资深演员，拉姆齐的表演受到了评论家的高度赞扬</figcaption></figure><p id="2948" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">我们可以观察到斯蒂芬·阿梅尔的名字经常出现在推文中，奥利弗的浪漫伴侣“Olicity”也是如此。我们也可以看到最近的交叉箭头，CW无限地球维基，出现。</p><p id="7b1b" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">现在，我们可以更进一步。我们可以通过词频来了解哪些词出现的次数最多。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="3867" class="lx jy hi lp b fi ly lz l ma mb">par(mar = c(9, 5, 5, 5)) # Set the margin on all sides</span><span id="0519" class="lx jy hi lp b fi mc lz l ma mb">barplot(d[1:30,]$freq, las = 2, names.arg = d[1:30,]$word,<br/>        col ="green", main ="Most frequent words in Tweets about Arrow",<br/>        ylab = "Word frequencies")</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/cc01d2e7cc5c7abdd0417fc756b32241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ma8iuFDT59zfPk3OU2iQzg.png"/></div></div></figure><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nq"><img src="../Images/c4c1e432e966f1b18dc611001f4e4430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rHUMC2BkBTTDNNZB6cpdNw@2x.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx translated"><a class="ae lg" href="https://www.shopdcentertainment.com/products/arrow-the-complete-series-dvd" rel="noopener ugc nofollow" target="_blank">箭头:完整系列(DVD) </a></figcaption></figure><h1 id="ae90" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">情感分析</h1><p id="7bbb" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">现在，我们可以走得更远。我们有一万条推文。我们有词云，我们有词频。如果进行情感分析，我们可以得出更好的结论。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="d21d" class="lx jy hi lp b fi ly lz l ma mb">#perform sentimental analysis <br/>sentiment &lt;- get_nrc_sentiment(cw.text)</span><span id="fdba" class="lx jy hi lp b fi mc lz l ma mb">cw.text &lt;- cbind(cw.text, sentiment)</span><span id="ba10" class="lx jy hi lp b fi mc lz l ma mb">#use the graphic to present the findings</span><span id="2d08" class="lx jy hi lp b fi mc lz l ma mb">#set up y = count<br/>Totals&lt;- data.frame(colSums(cw.text[,c(11:10)]))<br/>names(Totals) &lt;- "score"</span><span id="dee6" class="lx jy hi lp b fi mc lz l ma mb">#set up x = sentiment<br/>Totals &lt;- cbind("sentiment" = rownames(Totals), Totals)<br/>rownames(Totals) &lt;- NULL</span><span id="5c64" class="lx jy hi lp b fi mc lz l ma mb">ggplot(Totals, aes(x = sentiment, y = score)) +<br/>  geom_bar(aes(fill = sentiment), stat = "identity", position = "dodge", width = 1) +<br/>  xlab("Sentiment") + ylab("Sentiment Scores") + ggtitle("Arrow's Sentiment Scores for All Tweets")</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nr"><img src="../Images/498c84650838208c58c89b513713052e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4zHxdPbt1qf4-c_Hg-GfpA.png"/></div></div></figure><p id="f973" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">现在，我们可以宣称大多数观众喜欢阿罗。</p><h1 id="0c34" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">字符网络分析</h1><p id="37d8" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">我们的方法能更进一步吗？我们能想象出其他东西吗？答案是肯定的。我们肯定可以通过可视化剧中主要角色之间的关系来做一些真正有趣的事情。</p><p id="0b15" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">网络分析是一套用于可视化网络和描述整体网络结构具体特征的方法。这里我们就来分析一下《箭头》中的人物网络。</p><p id="5c82" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">我们将定义剧中每个主要角色之间的关系。例如，奥利弗和费利西蒂结婚了。迪格尔是奥利弗和费利西蒂的朋友。奥利弗和罗伊都是作为义务警员打击犯罪的弓箭手，但罗伊也在和奥利弗的妹妹西娅约会。所以，有网络。随着我们添加更多的角色和更多的关系，我们得到了越来越复杂的网络。</p><pre class="js jt ju jv fd lt lp lu lv aw lw bi"><span id="92da" class="lx jy hi lp b fi ly lz l ma mb">library(igraph)<br/>library(readr)</span><span id="4d3f" class="lx jy hi lp b fi mc lz l ma mb">characters &lt;- data.frame(character = c("Oliver", "Laurel", "Diggle", "Felicity", "Thea", "Roy", "Quentin", "Sara", "Rene", "Dinah", "Lyla"),<br/>                         sex = c("male", "female", "male", "female", "female", "male", "male", "female", "male", "female", "female"))</span><span id="ba7d" class="lx jy hi lp b fi mc lz l ma mb">relations &lt;- data.frame(character_1 = c("Oliver", "Laurel", "Diggle", "Felicity", "Thea", "Roy", "Quentin", "Oliver", "Laurel", "Sara", "Rene", "Lyla", "Dinah", "Laurel", "Roy", "Rene", "Felicity", "Diggle", "Dinah"), <br/>                        character_2 = c("Laurel", "Quentin", "Oliver", "Oliver", "Roy", "Diggle", "Oliver", "Thea", "Sara", "Quentin", "Dinah", "Diggle", "Oliver", "Dinah", "Oliver", "Oliver", "Thea", "Rene", "Diggle"), <br/>      relationship = c("Friends", "Father-Daughter", "Friends", "Couple", "Couple", "Friends", "Friends", "Siblings", "Siblings", "Father-Daughter", "Friends", "Couple", "Friends", "Canaries", "Archers", "Friends", "Sisters-In-Law", "Friends", "Friends"))</span><span id="e981" class="lx jy hi lp b fi mc lz l ma mb">characterNetwork &lt;- graph_from_data_frame(d=relations, vertices=characters, directed=F)</span><span id="f368" class="lx jy hi lp b fi mc lz l ma mb">plot(characterNetwork)</span><span id="5bb0" class="lx jy hi lp b fi mc lz l ma mb">E(characterNetwork)$color &lt;- ifelse(E(characterNetwork)$relationship == "Couple", "red", <br/>                             ifelse(E(characterNetwork)$relationship == "Friends", "purple",<br/>                             ifelse(E(characterNetwork)$relationship == "Siblings", "orange", <br/>                             ifelse(E(characterNetwork)$relationship == "Father-Daughter", "yellow", "black"))))</span><span id="c47d" class="lx jy hi lp b fi mc lz l ma mb">V(characterNetwork)$color &lt;- ifelse(V(characterNetwork)$sex == "male", "lightblue", "pink")<br/>plot(characterNetwork)</span><span id="265a" class="lx jy hi lp b fi mc lz l ma mb">legend("topleft", c("Male","Female"), pch=21,<br/>       col="#777777", pt.bg=c("lightblue","pink"), pt.cex=2, cex=.8)<br/>legend("bottomright", c("Couple","Friends", "Siblings", "Father-Daughter"), <br/>       col=c("red","purple","orange","yellow"), lty=1, cex=.8)</span></pre><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ns"><img src="../Images/d97093da539ae1f903cf90e750c19d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IGTE-4tykxM-JRC0ZSie0g.png"/></div></div></figure><p id="1d6c" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">虽然这项研究着眼于单个twitter标签(#Arrow)并对其进行分析，但我们可以进行更深入的分析。我们可以使用其他twitter标签，如#CWArrow、# CWOliverQueen、#CWGreenArrow等等，使用相同的R代码，稍加修改。我们可以把所有这些放在一起得出更好的结论。</p><p id="40a4" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">我们可以在我们的网络分析中添加更多的特征和关系，形成一个更复杂的网络。我们可以添加反派、交叉角色、客串角色等等。</p><p id="64fe" class="pw-post-body-paragraph it iu hi iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq hb bi translated">我们也可以通过文本挖掘来分析评论家对烂番茄的评论。我们可以通过多种方式将数据科学应用于一场演出、电影或体育赛事。</p><h1 id="def3" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">结束了</h1><p id="62a3" class="pw-post-body-paragraph it iu hi iv b iw kx iy iz ja ky jc jd je lq jg jh ji lr jk jl jm ls jo jp jq hb bi translated">《绿箭侠》在过去的八年里一直是一部精彩的电视剧。非常令人难过的是，该系列最近结束了，但它以促成<strong class="iv hj">CW无限地球维基</strong>交叉的高调结束。粉丝们对续集系列《绿箭和金丝雀》极度兴奋，关注新的绿箭和金丝雀(劳雷尔·兰斯和黛娜·德雷克)。与此同时，斯蒂芬·阿梅尔将继续他的演艺生涯，出演一部名为《高跟鞋》的摔跤连续剧。</p><div class="mx my ez fb mz na"><a href="https://screenrant.com/cw-arrow-spinoff-green-arrow-canaries-could-happen/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">绿箭&amp;加那利群岛仍然可能发生在CW电视台</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">绿箭&amp;加那利群岛，女性为中心的箭衍生，仍然有机会发生在CW根据…</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">screenrant.com</p></div></div><div class="nj l"><div class="nt l nl nm nn nj no in na"/></div></div></a></div><div class="mx my ez fb mz na"><a href="https://tvline.com/2019/08/19/stephen-amell-heels-starz-wrestling-series-cast/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">箭的斯蒂芬·阿梅尔标题8集摔跤剧高跟鞋在Starz</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">斯蒂芬·阿梅尔的目标是他的第一份兼职——这正是他的强项。演员有…</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">tvline.com</p></div></div><div class="nj l"><div class="nu l nl nm nn nj no in na"/></div></div></a></div></div></div>    
</body>
</html>