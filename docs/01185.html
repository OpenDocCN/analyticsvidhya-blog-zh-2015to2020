<html>
<head>
<title>How to build a Computer Vision Game in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python构建一个计算机视觉游戏？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-build-a-computer-vision-game-in-python-a6b064ce72be?source=collection_archive---------4-----------------------#2019-10-07">https://medium.com/analytics-vidhya/how-to-build-a-computer-vision-game-in-python-a6b064ce72be?source=collection_archive---------4-----------------------#2019-10-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/87997719194dd5787041dde2aa37cd77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u-441-a-EuStHjZA4FyeRw.png"/></div></div></figure><div class=""/></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="4610" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我成长在90年代，那时还没有互联网、智能手机和下一代游戏机。在增强现实和虚拟现实出现之前。我知道，我老了…至少我经历了物质世界。啪！(没有，我们也没有Snapchat)。我们只是交流一个大概的位置，重返大气层的时间，然后我们就准备起飞了。</p><p id="33b7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">那很有趣。但你知道还有什么更有趣吗？主系统2。</p><p id="7a5a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">游戏机简史</strong></p><p id="f5cb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">很久很久以前，游戏机是这样的:</p><figure class="jw jx jy jz fd hk er es paragraph-image"><div class="er es jv"><img src="../Images/3dae14bbb300af3d6c4144d1de77bf6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*_6M7b87J1GsLbt5Tq-3Bgg.jpeg"/></div></figure><p id="69ba" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">游戏是你必须插入控制台的盒式磁带。嗯…不全是。一款游戏是预装的(感谢G.od他们没有对<a class="ae ka" href="https://www.ft.com/content/56ae8282-89d7-11e8-b18d-0181731a0340" rel="noopener ugc nofollow" target="_blank">滥用主导地位</a>展开调查)。一个捕捉了我生命中几个小时的游戏。</p><p id="2f23" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">奇迹世界里的亚历克斯·基德</strong></p><p id="920c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这场比赛是一个杰作。的确是一个真正的奇迹世界。你扮演一个小角色，亚历克斯，在一次任务中击败一个非法的暴君(<a class="ae ka" href="https://en.wikipedia.org/wiki/Alex_Kidd_in_Miracle_World" rel="noopener ugc nofollow" target="_blank">剧情</a>)。没有弹劾，只是不同层次的吨。</p><p id="6890" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这款游戏最令人惊叹的是游戏的多样性。你跳来跳去打碎砖块，收集钱，在水下游泳试图避开鱼和章鱼的触角。为什么不坐船呢？你可以买一个。或者一架直升机，一辆摩托车，一个飞行斗篷…insta gram inst ragram之前的生活！</p><p id="f18e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">让我们玩石头剪刀布……</strong></p><p id="e0db" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">亚历克斯·基德无所畏惧。除了石头、剪刀和布…</p><figure class="jw jx jy jz fd hk er es paragraph-image"><div class="er es kb"><img src="../Images/bd1db97aa6f93ede159786dbc563d535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*4W2mQKmtqio4c-hgCmewfQ.jpeg"/></div></figure><p id="8cd9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">几乎在每一关结束时，你都要玩石头剪子布的游戏。我从来没有玩过比亚历克斯·基德更激烈的RPS游戏。但那是以前。</p><p id="ec4d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu"> …在直播视频上… </strong></p><p id="5e5f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">科技很神奇。当我回忆起在可能比我还重的电视上玩了几个小时的游戏时，“现在的孩子们”正在虚拟世界里玩，没有电缆。让我们在中间见面。</p><p id="c8f4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我创建的程序使用计算机视觉和深度学习在直播视频流(在这种情况下来自网络摄像头)上玩石头剪刀布游戏。听起来令人印象深刻…其实不然。其实真的很简单！</p><p id="b540" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu"> …使用OpenCV和Python </strong></p><p id="7531" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">OpenCV是一个非常完整的计算机视觉库，可以让你做任何你需要的事情。网上有大量的教程可以帮助你入门(如果需要的话，我可以推荐一些——请在评论中联系我)。这是我用来捕捉和处理图像的。深度学习部分我用了Tensorflow和Keras。</p><p id="f564" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">工作流程</strong></p><p id="06f4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">玩这个游戏需要什么？一只手仅此而已。该程序只需识别手的手势，与对手进行比较，并输出结果(赢、输、平)。</p><p id="9220" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu"> 1 —识别手</strong></p><p id="f250" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">你可以想出一个手部跟踪算法，但我喜欢简单。因此，我创建了一个感兴趣的区域，用户必须将手放在这里并做手势。它不太灵活，也不“白痴证明”，但是它有简化代码的优点。</p><p id="34b6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我们已经缩小了行动地点的范围。但是我们仍然需要“捕捉动作”(意思是识别手)。为此，有几种不同的方法。我尝试的第一个方法是使用梯度方向直方图。如果你不知道那是什么，不要担心，这不是我最后采用的方法。我只是想吹嘘一下。</p><p id="b131" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">我用了一个简单的“背景减法”。如果你减去图像的背景，就只剩下前景了。这就是我们在这里想要的:手(应该是)在感兴趣的区域中唯一运动的东西。</p><p id="ef04" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu"> 2 —识别手势</strong></p><p id="6b5e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">一旦我们隔离了手，我们就可以开始思考识别它正在做什么手势的策略。我决定用深度学习，因为用深度学习做任何事任何事都很酷。</p><p id="eea8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这也非常简单。跟我一起数:我记录了数百张每个手势的图像(20秒)，扩充了数据集(20秒)，训练了模型(5分钟)。6分钟以内深度学习！</p><p id="fa63" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">注意:数据扩充包括随机修改我创建的图像来创建新的图像，有一点点不同(旋转一些角度，放大或缩小一些百分比等)。).你可以在训练模型时直接这样做，但我喜欢分开做，这样1/我可以看到我生成的修改，2/跟踪图片(用于复制), 3/这里内存空间不是问题。</p><p id="6b91" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu"> 3 —输出结果</strong></p><p id="78e1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">一旦程序识别出这个人在做什么手势，你只需要执行规则(布战胜石头，石头战胜剪刀，剪刀战胜布)。我硬编码了逻辑，因为它更简单。</p><p id="cda6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">因为没人愿意和我玩，所以我模拟了一个对手。最后，这就是你得到的。</p><figure class="jw jx jy jz fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/a98141ee816ab885b9c311823d65a42d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqTXOnO9DTX-4jqmmqqzzA.jpeg"/></div></div></figure><p id="affb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">看我玩得多开心！！</p><p id="e321" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">它是如何工作的？</p><p id="bdb2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">让我们来分解一下:</p><p id="b108" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">1-程序获取来自流的第一个图像，并将其视为背景(我们假设只有手会在感兴趣的区域中移动)；</p><p id="0bda" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">2 —然后取每一帧并减去背景(这种方法也适用于不同的肤色)；</p><p id="97dc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">3-采用2/的结果，并将其馈送到深度学习模型，以便识别手势；</p><p id="dd93" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">4 —根据规则将手势与对手的手势进行比较；</p><p id="f410" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">5 —输出图像和结果信息(赢、平、输)。</p><p id="366a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">如何改进？</strong></p><p id="c163" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果这个游戏不能让我在暴雪找到一份开发者的工作，我不知道还有什么可以！但是如果我想花更多的时间并真正提高它，我会:</p><p id="8f2b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">1-使用手跟踪系统来消除对感兴趣的预设区域的需要；</p><p id="431a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">2 —改进深度学习模型(设计，还有训练数据—包括额外的手势)；</p><p id="adc8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">3 —改善对手(要么通过创建强化学习代理，要么通过创建更多的逻辑，如“如果玩家连续玩两个X，就玩Y”——最佳策略是随机玩，但更令人兴奋的是建立一个看似具有你试图猜测的策略的对手)；</p><p id="55df" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">4-改进游戏屏幕的图形和效果(为每一个新游戏倒计时，获胜时的庆祝纸屑等。);</p><p id="a450" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">5 —你的其他想法！</p><p id="cd69" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hu">玩得开心！</strong></p><p id="68e9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果你成功了，恭喜你，你打败了所有的老板(Boredominus，NotFuninator和ObviousItIs)。作为奖励，你可以在<a class="ae ka" href="https://github.com/Enoooooormous/rock_paper_scissors" rel="noopener ugc nofollow" target="_blank">我的github </a>上找到代码。如果您有任何问题，请随时联系我们，但代码非常简单，所以我相信您会没事的！</p><p id="6557" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">好了，这是你真正的奖励:<a class="ae ka" href="https://www.retrogames.cz/play_170-SegaMS.php?language=EN" rel="noopener ugc nofollow" target="_blank">免费在PC上玩《奇迹世界》中的亚历克斯·基德</a>。</p><p id="b6e1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">另一边见！</p></div></div>    
</body>
</html>