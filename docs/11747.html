<html>
<head>
<title>Are farmers reaching a Living Income? A machine learning model with only 9 indicators (and a web app)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">农民达到生活收入了吗？只有9个指标的机器学习模型(和一个web应用程序)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/are-farmers-reaching-a-living-income-c15523a564b2?source=collection_archive---------24-----------------------#2020-12-16">https://medium.com/analytics-vidhya/are-farmers-reaching-a-living-income-c15523a564b2?source=collection_archive---------24-----------------------#2020-12-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fec26d5666b05cc91f2d30011a93eeb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eM1yKIJ7pFS0wfRnKKPVtw.jpeg"/></div></div></figure><p id="d10f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">动机</strong></p><p id="87d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2020年9月9日，我写了一篇<a class="ae jo" rel="noopener" href="/analytics-vidhya/are-cocoa-farmers-reaching-a-living-income-f7724af574c4?sk=344c18d46a7fd402d3a137061c6ba89a"> <strong class="is hj">的帖子</strong> </a> <strong class="is hj"> </strong>，在那里我讨论了机器学习模型是否可以预测农民是否达到生活收入，以及为什么这很重要。</p><p id="c29f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">成绩哪里有前途！该模型在96.5%的时间 <em class="jp">(准确度)内<strong class="is hj">正确。</strong></em>然而，由于数据集中只有15%的农民达到了生活收入，仅通过猜测没有人会达到生活收入，模型就可以非常准确。但即使在这里，模型也是正确的:<strong class="is hj">预测一个农民将达到生活收入</strong>(困难的情况)<strong class="is hj">在87%的时间里是正确的</strong> <em class="jp">【精确】</em><strong class="is hj">87%的农民达到生活收入</strong>(很难找到)<strong class="is hj">被模型</strong> <em class="jp">(回忆)正确标记出来。</em></p><blockquote class="jq jr js"><p id="d0e5" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">然而有一个巨大的问题:这个模型使用了838个变量！</p></blockquote><p id="d3d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好吧，230个只是分类变量到虚拟变量的扩展，但是这个模型仍然基于608个变量做出决定。</p><p id="ce20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">建立机器学习模型的一个关键动机是，收集数据来衡量农民的实际收入和生活收入基准既昂贵又耗时。</p><blockquote class="jq jr js"><p id="08d1" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated"><strong class="is hj">因此，机器学习模型在现实世界中的可用性与它在多大程度上简化了原始数据收集的需求直接相关，即，它基于很少且(相对)容易收集的变量。</strong></p></blockquote></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="3435" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">只有几个变量的模型</p><p id="8e28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我转向下一个问题:<strong class="is hj">如果我只取前10个特性</strong>并重新校准模型会怎么样？</p><p id="7e33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我首先研究了最具预测性的特征:</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/5e2c39bf5c36d1f580fb7dd71f4cac8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cINFEhf8lhAxhHLEzwgmKA.png"/></div></div></figure><p id="e57b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">十大</strong>特性依次为:</p><ul class=""><li id="838b" class="ki kj hi is b it iu ix iy jb kk jf kl jj km jn kn ko kp kq bi translated">可可销售的估计收入百分比</li><li id="3204" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">可可产量(公斤/公顷)</li><li id="b709" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">可可产量(公斤)</li><li id="fc49" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">可可生产用地(公顷)</li><li id="e32e" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">拥有的可可土地(公顷)</li><li id="733e" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">树木树龄在5至25年之间的公顷数</li><li id="6d5d" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">来自自己的小企业或交易的估计收入百分比</li><li id="3920" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">头像:年龄</li><li id="15e6" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">其他作物销售的估计收入百分比</li><li id="9749" class="ki kj hi is b it kr ix ks jb kt jf ku jj kv jn kn ko kp kq bi translated">用于种植所有作物的土地(公顷)</li></ul><p id="4a7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于<em class="jp">可可产量(公斤/公顷)=可可产量(公斤)/可可生产用地(公顷)</em>实际上我有9个特征。</p><p id="a382" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我对此感到非常高兴。这些变量中没有一个特别难收集。大多数公司、认证方案、开发项目等会发现，收集可可产量、土地面积、户主年龄和收入份额的数据(相对而言)比收集每个农民的具体支出数据更容易。事实上，除了收入份额之外，大多数与农民打交道的组织可能手头都有(大部分)这种数据。</p><blockquote class="jq jr js"><p id="2f0a" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">然而，前10个特征仅占该模型解释力的40%以上。<strong class="is hj">所以真正的问题是:只有9个特征的模型性能如何？</strong></p></blockquote></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="e0c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">有9个变量的模型做得很好！</strong></p><p id="b2a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果很有希望。请记住，完整模型的准确率为96.5%，精确度为87%，召回率为87%。</p><blockquote class="jq jr js"><p id="23d9" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">具有9个变量的(重新校准的)模型具有96%的<strong class="is hj">准确度</strong>、90%的<strong class="is hj">精确度</strong>和80%的<strong class="is hj">召回率</strong></p></blockquote><p id="576e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这意味着，当从838个变量下降到10个变量(实际上是9个变量)时,(重新校准的)模型几乎没有损失准确性，以稍差的回忆为代价获得了多一点的准确性。</p><p id="25ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了理解这种权衡，我喜欢看所谓的混淆表(不要混淆😉).<em class="jp">混淆表</em>显示了正确标签和来自模型的预测标签之间的比较。</p><p id="23fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">全模型</strong>具有以下混淆表:</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/0fa422f7074648431d0112760da9598d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*wUQc6Au1X8wu99-um2LzEw.png"/></div></figure><p id="5b2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">而具有9个变量的模型</strong>具有以下内容:</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/ce6b55a0dd88cc2cb33e376f60c370dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*eKF7XdKrZw9TcdMZTf-jPw.png"/></div></figure><p id="e518" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会发现两张表非常相似。</p><blockquote class="jq jr js"><p id="e252" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated"><strong class="is hj">只有9个变量的模型比完整的模型</strong>(这几乎是构造上的，并不奇怪)<strong class="is hj">稍差一些，但是损失是最小的，因为它使用了大约1%的完整特性！</strong></p></blockquote></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="8895" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">将模型变成网络应用</strong></p><blockquote class="jq jr js"><p id="7d71" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">为了让这个模型对生活收入实践社区的利益相关者更加有用，我把这个只有9个变量的模型变成了一个网络应用，可以在<a class="ae jo" href="https://living-income-model.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://living-income-model.herokuapp.com/</a>获得</p></blockquote><p id="78b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在web应用程序中，你只需要输入一个(有代表性的)农民的价值观，你的模型就会告诉你这个家庭达到生活收入的可能性有多大:</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/c8eb1b5b71a907bfda54c084b8db2176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V3Lt4FBoA95bpiCJeaAWeQ.png"/></div></div></figure><p id="5699" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"/><a class="ae jo" href="https://living-income-model.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">web app</strong></a><strong class="is hj">还附带了一些更多的</strong> <a class="ae jo" href="https://living-income-model.herokuapp.com/dataset" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">数据描述</strong></a><strong class="is hj"/><a class="ae jo" href="https://living-income-model.herokuapp.com/performance" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">技术信息</strong> </a> <strong class="is hj">，并允许您</strong> <a class="ae jo" href="https://living-income-model.herokuapp.com/download" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">下载模型</strong> </a></p></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="63c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">提醒一句</strong></p><p id="6d11" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尽管我对这个模型非常满意，并且希望您能使用它，但我需要提醒您:这是一个仍处于起步阶段的模型。它显示出了希望，但它还没有在更大的数据集上进行彻底的审查、测试或验证，也没有在另一个数据集中进行真正的测试。</p><blockquote class="jq jr js"><p id="1587" class="iq ir jp is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">使用它，并给我你的反馈！</p></blockquote></div><div class="ab cl jw jx gp jy" role="separator"><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb kc"/><span class="jz bw bk ka kb"/></div><div class="hb hc hd he hf"><p id="b336" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">延伸阅读</strong></p><p id="ad2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你还没看，请看看我的<a class="ae jo" rel="noopener" href="/analytics-vidhya/are-cocoa-farmers-reaching-a-living-income-f7724af574c4?sk=344c18d46a7fd402d3a137061c6ba89a">上一篇</a></p><p id="6690" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你更愿意阅读一篇技术性更强的帖子，在那里我解释了找到这个模型的所有技术步骤，请到<a class="ae jo" href="https://mtyszler.medium.com/are-farmers-reaching-a-living-income-the-machine-learning-technical-companion-c8e4574868da" rel="noopener">这里</a></p><p id="b1a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博文使用的起始数据集可以在<a class="ae jo" href="https://doi.org/10.7910/DVN/82TWZJ" rel="noopener ugc nofollow" target="_blank">这里</a>找到</p><p id="55ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更大的项目有自己的<a class="ae jo" href="https://www.kit.nl/project/demystifying-cocoa-sector/" rel="noopener ugc nofollow" target="_blank">网站</a></p><p id="5e35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据争论和数据分析在本<a class="ae jo" href="https://github.com/mtyszler/LivingIncomeModel/blob/master/analysis%20notebooks/LivingIncomeAnalysis.ipynb" rel="noopener ugc nofollow" target="_blank"> jupyter笔记本</a>中有详细描述</p><p id="cbd9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完整的机器学习模型拟合和调整可以在这个<a class="ae jo" href="https://github.com/mtyszler/LivingIncomeModel/blob/master/analysis%20notebooks/LivingIncome_MachineLearning.ipynb" rel="noopener ugc nofollow" target="_blank"> jupyter笔记本</a>中找到</p><p id="edd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">限于9个变量的机器学习模型拟合和调整可在本<a class="ae jo" href="https://github.com/mtyszler/LivingIncomeModel/blob/master/analysis%20notebooks/LivingIncome_Model.ipynb" rel="noopener ugc nofollow" target="_blank"> jupyter笔记本</a>中找到</p><p id="982f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与这篇博文相关的所有数据和文件都可以在这个<a class="ae jo" href="https://github.com/mtyszler/LivingIncomeModel/" rel="noopener ugc nofollow" target="_blank"> Github页面</a>中找到</p><p id="4690" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来<a class="ae jo" href="https://www.living-income.com/" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于收入实践社区的生活</p><p id="5593" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于生活收入价值差距分析的具体(半技术性)报告，请点击<a class="ae jo" href="https://c69aa8ac-6965-42b2-abb7-0f0b86c23d2e.filesusr.com/ugd/0c5ab3_fc3386a550b94a898c7757ee13ab59e6.pdf" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae jo" href="https://c69aa8ac-6965-42b2-abb7-0f0b86c23d2e.filesusr.com/ugd/0c5ab3_93560a9b816d40c3a28daaa686e972a5.pdf" rel="noopener ugc nofollow" target="_blank">这里</a>。还有关于如何计算和可视化差距的<a class="ae jo" href="https://c69aa8ac-6965-42b2-abb7-0f0b86c23d2e.filesusr.com/ugd/0c5ab3_74a43f3647724bc58caf4daaa570482b.pdf" rel="noopener ugc nofollow" target="_blank">指南</a>(我是这些报告的主要作者)</p><p id="b8f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jp">参见我的专业</em> </strong> <a class="ae jo" href="https://www.marcelotyszler.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="jp">网页</em> </strong> </a></p></div></div>    
</body>
</html>