<html>
<head>
<title>How to create custom commands in django</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨djangoä¸­åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/how-to-create-custom-commands-in-django-892899178a80?source=collection_archive---------17-----------------------#2020-09-16">https://medium.com/analytics-vidhya/how-to-create-custom-commands-in-django-892899178a80?source=collection_archive---------17-----------------------#2020-09-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="831f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨å¼€å‘djangoé¡¹ç›®æ—¶ï¼Œéœ€è¦ç¼–å†™ä¸€æ¬¡æ€§çš„è„šæœ¬æ¥è‡ªåŠ¨å®Œæˆç‰¹å®šçš„ä»»åŠ¡ã€‚åœ¨æˆ‘ä»¬ç»§ç»­å®ç°ä¹‹å‰ï¼Œè¿™é‡Œæœ‰ä¸€äº›æˆ‘å‘ç°è‡ªå·±æ­£åœ¨åº”ç”¨çš„ç”¨ä¾‹ã€‚</p><ol class=""><li id="533c" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">ä¸€èµ·æ¸…ç†é”™è¯¯çš„æ•°æ®åˆ—ã€‚</li><li id="1dd8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">åœ¨ä¸€ä¸ª<a class="ae jr" href="https://lewiskori.com/series/intro-to-multi-tenant-apps-with-django/" rel="noopener ugc nofollow" target="_blank">å¤šç§Ÿæˆ·åº”ç”¨</a>ä¸­è¿ç§»å¤šä¸ªæ¨¡å¼</li></ol><p id="5b6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨djangoä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è¿è¡Œè¿™äº›ç±»å‹çš„å‘½ä»¤ã€‚ç¼–å†™ä¸€ä¸ªæ™®é€šçš„pythonè„šæœ¬ï¼Œç„¶åå¯ä»¥é€šè¿‡è¿è¡Œæ¥è°ƒç”¨å®ƒï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯åˆ©ç”¨django-adminå‘½ä»¤ã€‚è¿™äº›éƒ½æ˜¯é€šè¿‡è°ƒç”¨<code class="du js jt ju jv b">python manage.py command_name</code>è¿è¡Œçš„ã€‚</p><p id="a8ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¯¹äºè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°†ç”¨ä¸€ä¸ªåªæœ‰3ä¸ªæ•°æ®åº“è¡¨çš„åšå®¢åº”ç”¨ç¨‹åºæ¥æ¼”ç¤ºï¼Œç”¨æˆ·ã€ç±»åˆ«å’Œæ–‡ç« ã€‚æˆ‘å‡è®¾ä½ å¯¹åˆå§‹åŒ–djangoé¡¹ç›®å¾ˆç†Ÿæ‚‰ï¼Œä½†æ˜¯å¦‚æœä½ ä¸ç†Ÿæ‚‰ï¼Œè¿™ç¯‡æ–‡ç« åº”è¯¥èƒ½å¸®åˆ°ä½ ã€‚</p><p id="e9ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™ç¯‡æ–‡ç« çš„æºä»£ç å¯ä»¥åœ¨<a class="ae jr" href="https://github.com/lewis-kori/django-commands" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p><h1 id="5c48" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">æ™®é€špythonè„šæœ¬æ–¹æ³•</h1><p id="b510" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">å¯¹äºç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†å°è¯•ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬åˆ—å‡ºæ‰€æœ‰ç³»ç»Ÿç”¨æˆ·</p><pre class="kz la lb lc fd ld jv le lf aw lg bi"><span id="a5d3" class="lh jx hi jv b fi li lj l lk ll">from django.contrib.auth import get_user_model<br/><br/>User = get_user_model()<br/><br/># retrieve all users<br/>users = User.objects.all()<br/><br/># loop through all users<br/>for user in users:<br/>    print(f'user is {user.get_full_name()} and their username is {user.get_username()}')</span></pre><p id="9f13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‚¨å¯ä»¥å°†è„šæœ¬å‘½åä¸ºlist_users.pyï¼Œå¹¶é€šè¿‡<code class="du js jt ju jv b">python list_users.py</code>è¿è¡Œå®ƒ</p><p id="fad6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œå°±ä¼šé‡åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œ</p><p id="570a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du js jt ju jv b">django.core.exceptions.ImproperlyConfigured: Requested setting AUTH_USER_MODEL, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.</code></p><p id="92b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ‰äººå¯èƒ½ä¼šè®¤ä¸ºï¼Œæ—¢ç„¶æ‚¨åœ¨djangoçš„é¡¹ç›®ç›®å½•ä¸­ï¼Œè„šæœ¬è¿è¡Œèµ·æ¥ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚ç„¶è€Œï¼Œäº‹å®å¹¶éå¦‚æ­¤ã€‚è¿™æ˜¯å› ä¸ºè„šæœ¬ä¸çŸ¥é“è¯¥è„šæœ¬å°†åº”ç”¨äºå“ªä¸ªé¡¹ç›®ã€‚æ‚¨å¯ä»¥åœ¨ä¸€å°æœºå™¨æˆ–è™šæ‹Ÿç¯å¢ƒä¸­æ‹¥æœ‰å¤šä¸ªé¡¹ç›®ã€‚æ‰€ä»¥ç»™å‰§æœ¬ä¸€äº›èƒŒæ™¯æ˜¯å¾ˆé‡è¦çš„ã€‚</p><p id="bc41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å°†é€šè¿‡ç¨å¾®ä¿®æ”¹æˆ‘ä»¬çš„è„šæœ¬æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><pre class="kz la lb lc fd ld jv le lf aw lg bi"><span id="23cf" class="lh jx hi jv b fi li lj l lk ll">import os<br/><br/>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'projectname.settings')<br/><br/>import django<br/>django.setup()<br/><br/>from django.contrib.auth import get_user_model<br/><br/>User = get_user_model()<br/><br/>users = User.objects.all()<br/><br/>for user in users:<br/>    print(f'user is {user.get_full_name()} and their username is {user.get_username()}')</span></pre><p id="e583" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‡å®šé¡¹ç›®çš„è®¾ç½®ï¼Œä¸ä»…å¦‚æ­¤ï¼Œè°ƒç”¨<code class="du js jt ju jv b">django.setup()</code>æ–¹æ³•ã€‚è¯¥æ–¹æ³•é…ç½®è®¾ç½®ã€æ—¥å¿—è®°å½•å¹¶å¡«å……åº”ç”¨ç¨‹åºæ³¨å†Œè¡¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬è®©è„šæœ¬çŸ¥é“æˆ‘ä»¬çš„é¡¹ç›®ç¯å¢ƒã€‚</p><p id="62ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœä½ å¯¹æ“ä½œç³»ç»Ÿæ¨¡å—æ„Ÿå…´è¶£ï¼Œæˆ‘çš„<a class="ae jr" href="https://lewiskori.com/blog/how-to-clear-screen-in-python-terminal/" rel="noopener ugc nofollow" target="_blank">ä¸Šä¸€ç¯‡æ–‡ç« </a>æä¾›äº†æ›´å¤šçš„è§è§£ã€‚</p><p id="b5c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">è¯·æ³¨æ„ï¼Œå¯¼å…¥é¡ºåºå¾ˆé‡è¦ï¼Œå¿…é¡»ä¿æŒä¸å˜ã€‚</strong></p><p id="ac62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæˆ‘ä»¬å†æ¬¡è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ç”¨æˆ·éƒ½åº”è¯¥è¢«æ‰“å°åˆ°ç»ˆç«¯ä¸ŠğŸ‘¯â€â™‚ï¸.</p><p id="7cc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡è¿è¡Œ<code class="du js jt ju jv b">django-admin startapp posts</code>åˆå§‹åŒ–ä¸€ä¸ªåä¸ºpostsçš„åº”ç”¨ç¨‹åºã€‚</p><p id="0e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¯¥åº”ç”¨ç¨‹åºå°†å®¹çº³æˆ‘ä»¬çš„åšå®¢æ–‡ç« æ¨¡å‹ã€‚</p><figure class="kz la lb lc fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="93b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†ä»å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªåšå®¢æ–‡ç« çš„å®ä¾‹ã€‚åˆå§‹åŒ–ä¸€ä¸ªè„šæœ¬ï¼Œå¹¶å°†å…¶å‘½åä¸º<code class="du js jt ju jv b">create_post.py</code></p><pre class="kz la lb lc fd ld jv le lf aw lg bi"><span id="a9ad" class="lh jx hi jv b fi li lj l lk ll">import os<br/>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'commands.settings')<br/><br/>import django<br/>django.setup()<br/><br/>from django.contrib.auth import get_user_model<br/>from posts.models import Category, Post<br/><br/>User = get_user_model()<br/><br/>def select_category():<br/>    # retrieve categories. (You can create some examples from the django admin)<br/>    categories = Category.objects.all().order_by('created_at')<br/>    print('Please select a category for your post: ')<br/>    for category in categories:<br/>        print(f'{category.id}: {category}')<br/>    category_id = input()<br/>    category = Category.objects.get(id=category_id)<br/>    return category<br/><br/><br/>def select_author():<br/>    # retrieve all users<br/>    users = User.objects.all()<br/>    print('Please select an author for your post: ')<br/>    for user in users:<br/>        print(f'{user.id}: {user}')<br/>    user_id = input()<br/>    user = User.objects.get(id=user_id)<br/>    return user<br/><br/><br/><br/>def create_post():<br/>    title = input("Title of your post: ")<br/>    content = input("Long post content: ")<br/>    category = select_category()<br/>    author = select_author()<br/>    Post(**locals()).save()<br/>    print('Post created successfully!')<br/><br/>if __name__ == "__main__":<br/>    create_post()</span></pre><p id="bb5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåšå®¢æ–‡ç« çš„å®ä¾‹ã€‚æ³¨æ„æˆ‘ä»¬å¦‚ä½•å¤„ç†å¤–é”®å…³ç³»ï¼Ÿç¡®ä¿å°†ç›¸å…³æ•°æ®åº“è¡¨çš„å¯¹è±¡å®ä¾‹åˆ†é…ç»™è¯¥å­—æ®µã€‚</p><p id="e8df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é€šè¿‡è¿è¡Œpython create_post.pyï¼Œç³»ç»Ÿä¼šæç¤ºæˆ‘ä»¬è¿›è¡Œä¸€äº›è¾“å…¥ã€‚</p><h1 id="e2cf" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">ç¼–å†™è‡ªå®šä¹‰djangoç®¡ç†å‘½ä»¤çš„æ–¹æ³•</h1><p id="df0a" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">å¦‚å‰æ‰€è¿°ï¼Œdjango-adminå‘½ä»¤æ˜¯é€šè¿‡è¿è¡Œ<code class="du js jt ju jv b">python manage.py command_name</code>æ¥æ‰§è¡Œçš„ï¼Œä¾‹å¦‚<code class="du js jt ju jv b">runserver, migrate and collectstatic</code>ã€‚è¦è·å¾—å¯ç”¨å‘½ä»¤çš„åˆ—è¡¨ï¼Œè¯·è¿è¡Œ<code class="du js jt ju jv b">python manage.py help</code>ã€‚è¿™å°†æ˜¾ç¤ºå¯ç”¨å‘½ä»¤çš„åˆ—è¡¨ä»¥åŠå®ƒä»¬æ‰€åœ¨çš„django appæ–‡ä»¶å¤¹ã€‚</p><p id="c0c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¦æ³¨å†Œè‡ªå®šä¹‰ç®¡ç†å‘½ä»¤ï¼Œè¯·åœ¨django appæ–‡ä»¶å¤¹ä¸­æ·»åŠ ä¸€ä¸ª<code class="du js jt ju jv b">management\commands</code>ç›®å½•ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒå°†ä½äºposts \ management \ commandsä¸­ã€‚</p><p id="c12b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦è®¾ç½®å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆå§‹åŒ–commandsæ–‡ä»¶å¤¹ä¸­çš„è‡ªå®šä¹‰è„šæœ¬äº†ã€‚å¯¹äºç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªå‘½ä»¤ï¼Œå°†ä¹‹å‰åˆ›å»ºçš„åšå®¢æ–‡ç« æ ‡è®°ä¸ºå·²å‘å¸ƒã€‚</p><p id="08ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ºæ­¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¹¶å‘½åä¸º<code class="du js jt ju jv b">publish_post.py</code></p><pre class="kz la lb lc fd ld jv le lf aw lg bi"><span id="44a6" class="lh jx hi jv b fi li lj l lk ll">from django.core.management.base import BaseCommand, CommandError<br/>from posts.models import Category, Post<br/><br/>class Command(BaseCommand):<br/>    help = 'Marks the specified blog post as published.'<br/><br/>    # allows for command line args<br/>    def add_arguments(self, parser):<br/>        parser.add_argument('post_id', type=int)<br/><br/>    def handle(self, *args, **options):<br/>        try:<br/>            post = Post.objects.get(id=options['post_id'])<br/>        except Post.DoesNotExist:<br/>            raise CommandError(f'Post with id {options["post_id"]} does not exist')<br/>        if post.published:<br/>            self.stdout.write(self.style.ERROR(f'Post: {post.title} was already published'))<br/>        else:<br/>            post.published = True<br/>            post.save()<br/>            self.stdout.write(self.style.SUCCESS(f'Post: {post.title} successfully published'))</span></pre><p id="d832" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Djangoç®¡ç†å‘½ä»¤ç”±ä¸€ä¸ªåä¸ºcommandçš„ç±»ç»„æˆï¼Œè¯¥ç±»ç»§æ‰¿è‡ªBaseCommandã€‚</p><p id="c79f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ºäº†å¤„ç†å‚æ•°ï¼Œè¯¥ç±»åˆ©ç”¨äº†<a class="ae jr" href="https://docs.python.org/3/library/argparse.html" rel="noopener ugc nofollow" target="_blank"> argparse </a>ã€‚æ–¹æ³•<code class="du js jt ju jv b">add_arguments</code>å…è®¸æˆ‘ä»¬çš„å‡½æ•°æ¥æ”¶å‚æ•°ã€‚</p><p id="585a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå‡½æ•°æœŸæœ›ä¸€ä¸ªè¢«åˆ†é…äº†é”®<code class="du js jt ju jv b">post_id</code>çš„å‚æ•°</p><p id="816f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç„¶å,<code class="du js jt ju jv b">handle()</code>å‡½æ•°è¯„ä¼°è¾“å…¥å¹¶æ‰§è¡Œæˆ‘ä»¬çš„é€»è¾‘ã€‚</p><p id="8e12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œé¢„æœŸçš„å‚æ•°ç±»å‹ç§°ä¸ºä½ç½®å‚æ•°ï¼Œå¿…é¡»ä¸ºå‡½æ•°çš„è¿è¡Œæä¾›ä½ç½®å‚æ•°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¿è¡Œ<code class="du js jt ju jv b">python manage.py publish_post 1 (or any post primary key)</code></p><p id="43b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦ä¸€ç§ç±»å‹çš„å‚æ•°ç§°ä¸ºå¯é€‰å‚æ•°ï¼Œå¯ä»¥åº”ç”¨åˆ°æ–¹æ³•ä¸­ï¼Œé¡¾åæ€ä¹‰ï¼Œç¼ºå°‘è¿™äº›ä¸ä¼šé˜»ç¢å‡½æ•°çš„æ‰§è¡Œã€‚</p><p id="0c11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢æä¾›äº†ä¸€ä¸ªä¾‹å­ã€‚æˆ‘ä»¬å°†åˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º<code class="du js jt ju jv b">edit_post.py</code>ã€‚ç”¨ä¸‹é¢çš„ä»£ç å¡«å……å®ƒã€‚</p><pre class="kz la lb lc fd ld jv le lf aw lg bi"><span id="71a6" class="lh jx hi jv b fi li lj l lk ll">from django.core.management.base import BaseCommand, CommandError<br/>from posts.models import Category, Post<br/><br/>class Command(BaseCommand):<br/>    help = 'Edits the specified blog post.'<br/><br/>    def add_arguments(self, parser):<br/>        parser.add_argument('post_id', type=int)<br/><br/>        # optional arguments<br/>        parser.add_argument('-t', '--title',type=str, help='Indicate new name of the blog post.')<br/>        parser.add_argument('-c', '--content',type=str, help='Indicate new blog post content.')<br/><br/>    def handle(self, *args, **options):<br/>        title = options['title']<br/>        content = options['content']<br/>        try:<br/>            post = Post.objects.get(id=options['post_id'])<br/>        except Post.DoesNotExist:<br/>            raise CommandError(f'Post with id {options["post_id"]} does not exist')<br/><br/>        if title or content:<br/>            if title:<br/>                old_title = post.title<br/>                post.title = title<br/>                post.save()<br/>                self.stdout.write(self.style.SUCCESS(f'Post: {old_title} has been update with a new title, {post.title}'))<br/>            if content:<br/>                post.content = content<br/>                post.save()<br/>                self.stdout.write(self.style.SUCCESS('Post: has been update with new text content.'))<br/>        else:<br/>            self.stdout.write(self.style.NOTICE('Post content remains the same as no arguments were given.'))</span></pre><p id="45a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç¼–è¾‘ä¸€ç¯‡åšæ–‡çš„æ ‡é¢˜æˆ–å†…å®¹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ<code class="du js jt ju jv b">python manage.py edit_post 2 -t "new title"</code>æ¥ç¼–è¾‘æ ‡é¢˜</p><p id="ca5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ–<code class="du js jt ju jv b">python manage.py edit_post -c "new content"</code>ä»…ç¼–è¾‘å†…å®¹ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›é€šè¿‡è¿è¡Œ<code class="du js jt ju jv b">python manage.py edit_post 2 -t "new title again" -c "new content again"</code>æ¥ç¼–è¾‘æ ‡é¢˜å’Œå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›è¿™ä¸¤ä¸ªå‚æ•°</p><h1 id="c631" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">é¢å¤–èµ„æº</h1><ol class=""><li id="2037" class="jd je hi ih b ii ku im kv iq lp iu lq iy lr jc ji jj jk jl bi translated"><a class="ae jr" href="https://docs.djangoproject.com/en/3.1/howto/custom-management-commands/" rel="noopener ugc nofollow" target="_blank">å§œæˆˆæ–‡ä»¶</a>ã€‚</li><li id="10c0" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae jr" href="https://simpleisbetterthancomplex.com/tutorial/2018/08/27/how-to-create-custom-django-management-commands.html#cron-job" rel="noopener ugc nofollow" target="_blank">ç®€å•èƒœäºå¤æ‚</a>ã€‚</li></ol></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="2530" class="jw jx hi bd jy jz lz kb kc kd ma kf kg kh mb kj kk kl mc kn ko kp md kr ks kt bi translated">èµåŠ©å•†</h1><p id="a0ba" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated"><strong class="ih hj">è¯·æ³¨æ„ï¼Œä¸‹é¢çš„ä¸€äº›é“¾æ¥æ˜¯é™„å±é“¾æ¥ï¼Œæ‚¨æ— éœ€æ”¯ä»˜é¢å¤–è´¹ç”¨ã€‚è¦çŸ¥é“ï¼Œæˆ‘åªæ¨èæˆ‘ä¸ªäººä½¿ç”¨è¿‡çš„å¹¶ä¸”è®¤ä¸ºçœŸæ­£æœ‰ç”¨çš„äº§å“ã€å·¥å…·å’Œå­¦ä¹ æœåŠ¡ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»ä¸æå€¡è´­ä¹°ä½ è´Ÿæ‹…ä¸èµ·æˆ–è€…ä½ ä¸å‡†å¤‡å®æ–½çš„ä¸œè¥¿ã€‚</strong></p><h1 id="376f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">åˆ®åˆ€API</h1><p id="8460" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">Scraper APIæ˜¯ä¸€å®¶ä¸“æ³¨äºç­–ç•¥çš„åˆåˆ›å…¬å¸ï¼Œå¯ä»¥ç¼“è§£ä½ çš„IPåœ°å€åœ¨ç½‘ç»œæŠ“å–æ—¶è¢«é˜»æ­¢çš„æ‹…å¿§ã€‚ä»–ä»¬åˆ©ç”¨IPè½®æ¢ï¼Œæ‰€ä»¥ä½ å¯ä»¥é¿å…æ£€æµ‹ã€‚æ‹¥æœ‰è¶…è¿‡2000ä¸‡ä¸ªIPåœ°å€å’Œæ— é™å¸¦å®½ã€‚</p><p id="cf9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒä»¬è¿˜ä¸ºä½ æä¾›äº†CAPTCHAå¤„ç†åŠŸèƒ½ï¼Œå¹¶å¯ç”¨äº†ä¸€ä¸ªæ— å¤´æµè§ˆå™¨ï¼Œè¿™æ ·ä½ å°±çœ‹èµ·æ¥åƒä¸€ä¸ªçœŸæ­£çš„ç”¨æˆ·ï¼Œè€Œä¸ä¼šè¢«æ£€æµ‹ä¸ºç½‘é¡µæŠ“å–è€…ã€‚ç”¨æ³•ä¸é™äºscrapyï¼Œè¿˜å¯ä»¥ä¸pythonç”Ÿæ€ç³»ç»Ÿä¸­çš„requestsã€BeautifulSoupå’Œseleniumä¸€èµ·ä½¿ç”¨ã€‚è¿˜æ”¯æŒä¸node.jsã€bashã€PHPå’Œrubyç­‰å…¶ä»–æµè¡Œå¹³å°çš„é›†æˆã€‚æ‚¨æ‰€è¦åšçš„å°±æ˜¯å°†æ‚¨çš„ç›®æ ‡URLä¸å®ƒä»¬åœ¨HTTP getè¯·æ±‚ä¸Šçš„APIç«¯ç‚¹è¿æ¥èµ·æ¥ï¼Œç„¶ååƒåœ¨ä»»ä½•webæŠ“å–å™¨ä¸Šä¸€æ ·ç»§ç»­è¿›è¡Œã€‚ä¸çŸ¥é“å¦‚ä½•ç½‘é¡µæŠ“å–ï¼Ÿåˆ«æ‹…å¿ƒï¼Œæˆ‘å·²ç»åœ¨<a class="ae jr" href="https://lewiskori.com/series/web-scraping-techniques-with-python/" rel="noopener ugc nofollow" target="_blank">ç½‘ç»œæŠ“å–ç³»åˆ—</a>ä¸­å¹¿æ³›è®¨è®ºäº†è¿™ä¸ªè¯é¢˜ã€‚å®Œå…¨å…è´¹ï¼</p><figure class="kz la lb lc fd lm er es paragraph-image"><div class="er es me"><img src="../Images/f59d5bf952c31f95161a65d8a1addbe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/0*dLmGIJymkhmsLbs8.gif"/></div></figure><p id="e70c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½¿ç”¨<a class="ae jr" href="https://www.scraperapi.com/?_go=korilewis" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªscraper apié“¾æ¥</a>å’Œä¿ƒé”€ä»£ç lewis10ï¼Œæ‚¨å°†åœ¨é¦–æ¬¡è´­ä¹°æ—¶è·å¾—10%çš„æŠ˜æ‰£ï¼ï¼ä½ å¯ä»¥éšæ—¶å¼€å§‹ä»–ä»¬æ…·æ…¨çš„å…è´¹è®¡åˆ’ï¼Œå¹¶åœ¨éœ€è¦æ—¶å‡çº§ã€‚</p><p id="38b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘å°±è¯´è¿™ä¹ˆå¤šï¼Œå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œ<a class="ae jr" href="https://twitter.com/lewis_kihiu" rel="noopener ugc nofollow" target="_blank"> twitter dm </a>éšæ—¶å¼€æ”¾ã€‚</p></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><p id="0f34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mh">åŸè½½äº</em><a class="ae jr" href="https://lewiskori.com/blog/how-to-create-custom-commands-in-django/" rel="noopener ugc nofollow" target="_blank"><em class="mh">https://lewiskori.com</em></a><em class="mh">ã€‚</em></p></div></div>    
</body>
</html>