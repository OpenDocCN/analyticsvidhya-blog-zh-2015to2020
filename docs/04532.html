<html>
<head>
<title>Using moving averages to predict stock prices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用移动平均线预测股票价格</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-moving-averages-to-predict-stock-prices-168420338cd0?source=collection_archive---------8-----------------------#2020-03-23">https://medium.com/analytics-vidhya/using-moving-averages-to-predict-stock-prices-168420338cd0?source=collection_archive---------8-----------------------#2020-03-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/35bb54b724b308473fe454115a5fb3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-45TWTbWqbD72nSZzZhGNQ.png"/></div></div></figure><h1 id="9ed1" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">目标</h1><p id="b37f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">目标是根据开盘价、最高价、最低价、收盘价、成交量、5DMA(5DMA是5天移动平均线)、10DMA、20DMA、50DMA来预测HDFC银行的第二天开盘价。还进行了比较研究，以检查哪个移动平均值有助于更好的准确性。</p><h1 id="4919" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据</h1><p id="66da" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">数据包含日期、开盘价、最高价、最低价、收盘价、成交量、5天移动平均线、10天移动平均线、20天移动平均线、50天移动平均线和第二天开盘价。分析时不包括日期。<br/>第二天的开盘价被用作标签，所有剩余的属性被用作特征。</p><figure class="km kn ko kp fd ij"><div class="bz dy l di"><div class="kq kr l"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">数据摘要(示例中仅包含10行)</figcaption></figure><p id="2f00" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">从雅虎财经收集的数据。<br/>不同的移动平均线和第二天开盘是通过程序计算的。以上表格存储在<a class="ae lb" href="https://github.com/omkarsk98/StockPricesAnalysis/blob/v3.1/DataSource/hdfc.csv" rel="noopener ugc nofollow" target="_blank">这个</a> csv文件中。</p><h1 id="739a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">(英)可视化(= visualization)</h1><p id="1bff" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">使用日本蜡烛棒图和一个额外的线图绘制5天移动平均线，进行可视化。在一张图中很难理解整个情节。展示了2015年以来的全部数据。它绘制了OHLC和5DMA。为简单起见，最近100天的数据绘制如下，其中包括OHLC价格和5DMA。绿色表示积极的一天，红色表示消极的一天。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/492897a04346b3f733d2b0db94fd6bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5u6ic5NfAJccQO66YC9naA.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">OHLC和5DMA最近100天</figcaption></figure><h1 id="e4da" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">密码</h1><figure class="km kn ko kp fd ij"><div class="bz dy l di"><div class="kq kr l"/></div></figure><p id="ef32" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">我们定义了一个辅助函数，默认情况下它不会对数据进行归一化，而是使用最多4位小数的数据。开、高、低、闭、音量、5DMA、10DMA、20DMA和50DMA用作特征。这些被进一步分割，仅包括特定的移动平均线。标签只包括股票的第二天开盘价。如果normalise设置为true，则各个列将被列平均值所除，以便将大部分数据转换为一位数。就乘法和除法而言，一位数的值更容易计算，因此计算时间减少了。这些列平均值也由该函数返回，因此它们可以乘以一位数数据，以便可视化。</p><figure class="km kn ko kp fd ij"><div class="bz dy l di"><div class="kq kr l"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">开发线性回归模型</figcaption></figure><p id="7bab" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">开发了四个线性回归模型。这些型号同时包括各种移动平均值，即一个型号使用5DMA作为特征，下一个型号使用10DMA作为特征，依此类推。每个模型预测股票第二天的开盘价。结果如下所述。</p><h1 id="7aa0" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">结果</h1><p id="9aff" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">以5DMA为特征的线性回归模型表现最好，准确率为88%。下面是结果的可视化。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7bfcfc0fdbae6bb8415c18b180628eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T9cdSzfFdYJivkh8of1eaw.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">使用5DMA的线性回归结果。其结果是88%的准确率。</figcaption></figure><p id="2c29" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">使用5 DMA、10DMA、20DMA和50DMA计算的其他精度如下</p><figure class="km kn ko kp fd ij"><div class="bz dy l di"><div class="kq kr l"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">不同的线性回归模型结果</figcaption></figure><p id="d375" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">上表显示了在考虑更高的移动平均线后准确度如何下降。</p><p id="cbb7" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">其他移动平均线的图形如下。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dc66e7ba63cee0111c07ebb58f50f7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OnyRF80wtH1xDreaXM3N_Q.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">使用10毫安时线性回归的结果</figcaption></figure><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c24aaa5862de8e503a619da4d3cc4893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWXKjNNk__w_87sSX6dBJA.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">使用20DMA的线性回归结果</figcaption></figure><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/505a3a523529928aaf47c16ba6bd4ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FqqlF-IY-PlXdtv3F9fRBQ.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">使用50毫安的线性回归结果</figcaption></figure><p id="80cf" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">所有结果的集合图如下。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/35bb54b724b308473fe454115a5fb3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-45TWTbWqbD72nSZzZhGNQ.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">所有结果的比较分析</figcaption></figure><h1 id="b266" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">结论</h1><p id="9998" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">当用作预测第二天开盘价的特征时，较小的移动平均线有助于提高准确性。由于较高的移动平均值被视为特征，线性回归模型的准确性下降。</p><p id="3d5b" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">同一项目的参考资料可以在我的<a class="ae lb" href="https://github.com/omkarsk98/StockPricesAnalysis/tree/v3.1" rel="noopener ugc nofollow" target="_blank"> github repo </a>上找到。</p></div></div>    
</body>
</html>