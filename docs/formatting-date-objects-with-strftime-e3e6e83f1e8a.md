# 用“strftime”格式化 Ruby 中的日期对象

> 原文：<https://medium.com/analytics-vidhya/formatting-date-objects-with-strftime-e3e6e83f1e8a?source=collection_archive---------9----------------------->

![](img/63df22860ac200e7a1074480a525c474.png)

第一本日历…真实的故事

`strftime`可转本:

```
=> #<Date: 2019-10-28 ((2458785j,0s,0n),+0s,2299161j)>
```

入此:`=> “Monday, 28 Oct 2019”`

下面是让这成为可能的代码:

```
2.6.1 :005 > d.strftime("%A, %d %b %Y")
```

让我们看看这是怎么回事。

要成功使用它，你不需要知道缩写是什么，但它可能会帮助你记住这种方法何时会派上用场。`strftime`代表“时间之弦”。但首先我们需要问自己“时间是什么？”

别担心。我们不需要对此过于兴奋。出于我们的目的，时间是一个 ruby 对象。我们可以使用“strftime”将这个 ruby 对象变成更可展示的东西。在提供的例子中，我们正在试验的 ruby 对象是 Date 类的一个实例。为了访问 Date 类，我们必须首先要求它。

```
2.6.1 :001 > require 'date'=> true
```

现在我们有了这种力量:

```
2.6.1 :002 > d = Date.today=> #<Date: 2019-10-28 ((2458785j,0s,0n),+0s,2299161j)>
```

`Date.today`从我们讨论过的 Date 类创建一个对象。如果你不想把完整的日期打出来或者你不想记住它，这是非常方便的。虽然这个对象包含了我们需要的关于日期的所有信息，但它并不像那样具有可展示性。也许我们想以其他方式呈现日期。`strftime`让我们选择如何呈现 Date 对象持有的信息，它以字符串的形式返回该信息`=> “Monday, 28 Oct 2019”`

我们如何使用`strftime`从 Date 对象中返回这个特定的字符串呢？

```
2.6.1 :005 > d.strftime("%A, %d %b %Y")
```

在那一行代码中，`d`是保存日期对象的变量。我们对它执行`strftime`方法，并传递参数`(“%A, %d %b %Y”)`。为什么是这些符号和字母？我们将后面跟有字母的`%`称为指令。这些指令告诉我们从对象输出什么信息以及输出到哪里。包围指令的引号`""`表示这是我们正在创建的字符串。

返回字符串以星期几`Monday`开始，用指令`%A`表示星期几`strftime`。`%A`后面的逗号`,`简单地解释为字符串中星期几后面跟一个逗号，如`Monday,`。

在`d.strftime(“%A, %d %b %Y”)`中，`%d`指令取出一个月中的某一天，在本例中是`28`。`%b`表示月份的缩写，即`Oct`。`%Y`表示年份。所有这些放在一起返回`=> “Monday, 28 Oct 2019”`。引号中的空格和逗号会被准确翻译，因此参数中有逗号的地方，返回字符串中也会有逗号。任何空间都一样。

你可以以任何你想要的方式重新排列它们，比如我们想先看到年，然后是月，然后是月中的某一天。我们可能会丢失星期几，这次我们不希望字符串中有任何讨厌的逗号。让我们疯狂地说，我们希望这一个月紧紧抓住这一年，中间没有空间。我们是这样做的:

`2.6.1 :010 > d.strftime(“%Y%b %d”)`会返回`=> “2019Oct 28”`

关于`strftime`还有很多要学的，包括更多你可以使用的指令，比如`%B`，它返回月份的全称，而不是我们例子中的缩写。你也可以在参数中添加标志，这些标志以不同的方式改变输出，但是你可以在没有它们的情况下使用`strftime`,就像我展示给你的那样，它会工作得很好。但是了解它的所有技巧也无妨，所以我建议查看包含`strftime`方法的 Ruby 文档以及其他许多方法:

 [## 日期时间

### Date 的子类，可以轻松处理日期、小时、分钟、秒和偏移量。日期时间不考虑任何跳跃…

ruby-doc.org](https://ruby-doc.org/stdlib-2.6.1/libdoc/date/rdoc/DateTime.html?source=post_page-----e3e6e83f1e8a----------------------#method-i-strftime) 

如果你被这些信息弄得不知所措，这里有一个网站可以帮你。它并不全面，但非常容易使用:

 [## 很长一段时间

www.foragoodstrftime.com](https://www.foragoodstrftime.com) 

用这段代码，你可以把时间转换成一个字符串。好好享受吧！因为在现实中，我们受时间的支配…而正是时间改变了我们。