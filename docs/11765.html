<html>
<head>
<title>How to delete a Git branch locally and remotely?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在本地和远程删除一个Git分支？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-delete-a-git-branch-locally-and-remotely-40ccea01900a?source=collection_archive---------14-----------------------#2020-12-17">https://medium.com/analytics-vidhya/how-to-delete-a-git-branch-locally-and-remotely-40ccea01900a?source=collection_archive---------14-----------------------#2020-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f39169cbceaa6d6af5b85eb70d2349be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RkvZTfVTpz4Na-QE.jpg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.inc.com/andrew-thomas/5-ways-toxic-leaders-destroy-team-morale.html" rel="noopener ugc nofollow" target="_blank">https://www . Inc . com/Andrew-Thomas/5-ways-toxic-leaders-destroy-team-morale . html</a></figcaption></figure><h1 id="b421" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">外行人的术语删除分支</strong></h1><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9655" class="kc iw hi jy b fi kd ke l kf kg">$ git push -d &lt;remote_name&gt; &lt;branch_name&gt;<br/>$ git branch -d &lt;branch_name&gt;</span></pre><p id="cb57" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">注意，在大多数情况下，远程名称是<code class="du lf lg lh jy b">origin</code>。在这种情况下，您必须像这样使用命令。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="dd61" class="kc iw hi jy b fi kd ke l kf kg">$ git push -d origin &lt;branch_name&gt;</span></pre><h1 id="e681" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">删除远程分支</h1><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="0757" class="kc iw hi jy b fi kd ke l kf kg">git push origin --delete &lt;branch&gt;  # Git version 1.7.0 or newer<br/>git push origin -d &lt;branch&gt;        # Shorter version (Git 1.7.0 or newer)<br/>git push origin :&lt;branch&gt;          # Git versions older than 1.7.0</span></pre><h1 id="da24" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">删除本地分支</h1><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="855f" class="kc iw hi jy b fi kd ke l kf kg">git branch --delete &lt;branch&gt;<br/>git branch -d &lt;branch&gt; # Shorter version<br/>git branch -D &lt;branch&gt; # Force-delete un-merged branches</span></pre><p id="8c81" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated"><code class="du lf lg lh jy b">-d</code>选项是<code class="du lf lg lh jy b">--delete</code>的别名，它只删除已经完全合并到其上游分支的分支。您也可以使用<code class="du lf lg lh jy b">-D</code>，它是<code class="du lf lg lh jy b">--delete --force</code>的别名，删除分支“不管它的合并状态”[Source: <code class="du lf lg lh jy b">man git-branch</code> ] <br/>还要注意，如果你当前在你要移除的分支中，<code class="du lf lg lh jy b">git branch -d branch_name</code>将会失败。消息以<code class="du lf lg lh jy b">error: Cannot delete the branch 'branch_name'</code>开始。如果有，先切换到某个其他分支，比如:<code class="du lf lg lh jy b">git checkout master</code>。</p><h1 id="9ad0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">删除本地远程跟踪分支</h1><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="42b0" class="kc iw hi jy b fi kd ke l kf kg">git branch --delete --remotes &lt;remote&gt;/&lt;branch&gt;<br/>git branch -dr &lt;remote&gt;/&lt;branch&gt; # Shorter</span><span id="6783" class="kc iw hi jy b fi li ke l kf kg">git fetch &lt;remote&gt; --prune # Delete multiple obsolete remote-tracking branches<br/>git fetch &lt;remote&gt; -p      # Shorter</span></pre><h1 id="7036" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">有三个不同的分支要删除！</h1><p id="fee6" class="pw-post-body-paragraph kh ki hi kj b kk lj km kn ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le hb bi translated">当您处理本地和远程删除分支时，请记住<strong class="kj hj">涉及三个不同的分支</strong>:</p><ol class=""><li id="c4cb" class="lo lp hi kj b kk kl ko kp ks lq kw lr la ls le lt lu lv lw bi translated">当地分公司<code class="du lf lg lh jy b">X</code>。</li><li id="cfea" class="lo lp hi kj b kk lx ko ly ks lz kw ma la mb le lt lu lv lw bi translated">远程原点分支<code class="du lf lg lh jy b">X</code>。</li><li id="80fd" class="lo lp hi kj b kk lx ko ly ks lz kw ma la mb le lt lu lv lw bi translated">跟踪远程分支<code class="du lf lg lh jy b">X</code>的本地远程跟踪分支<code class="du lf lg lh jy b">origin/X</code>。</li></ol><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/b4876372245c86ac77f783c5291708d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*zHjCwHyiJCxc9hCy.png"/></div></figure><p id="23b6" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">最初的海报使用了:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="c065" class="kc iw hi jy b fi kd ke l kf kg">git branch -rd origin/bugfix</span></pre><p id="b0a0" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">其中只删除了他的<strong class="kj hj">本地遥控分支</strong> <code class="du lf lg lh jy b">origin/bugfix</code>，而没有删除<code class="du lf lg lh jy b">origin</code>上的实际遥控分支<code class="du lf lg lh jy b">bugfix</code>。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/e329b0a23a17228a72b928247a62261a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*Pm4DqwQML9VxIFqo.png"/></div></figure><p id="00ab" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated"><strong class="kj hj">要删除实际远程分支</strong>，您需要</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="bcb3" class="kc iw hi jy b fi kd ke l kf kg">git push origin --delete bugfix</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/5a8a9696f1009ea3b9a5288b4be5afea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*01eKqln5Pwyb7Yrm.png"/></div></figure><h1 id="a72b" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">其他详细信息</h1><p id="0bfc" class="pw-post-body-paragraph kh ki hi kj b kk lj km kn ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le hb bi translated">以下部分描述了删除远程和远程跟踪分支时要考虑的其他详细信息。</p><h1 id="9335" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">推动删除远程分支也会删除远程跟踪分支</h1><p id="39d2" class="pw-post-body-paragraph kh ki hi kj b kk lj km kn ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le hb bi translated">请注意，使用<code class="du lf lg lh jy b">git push</code> <strong class="kj hj">从命令行删除远程分支<code class="du lf lg lh jy b">X</code>也会删除本地远程跟踪分支</strong> <code class="du lf lg lh jy b">origin/X</code>，因此没有必要使用<code class="du lf lg lh jy b">git fetch --prune</code>或<code class="du lf lg lh jy b">git fetch -p</code>删除过时的远程跟踪分支。不过，反正做了也无妨。</p><p id="b432" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">您可以通过运行以下命令来验证远程跟踪分支<code class="du lf lg lh jy b">origin/X</code>是否也被删除:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="c676" class="kc iw hi jy b fi kd ke l kf kg"># View just remote-tracking branches<br/>git branch --remotes<br/>git branch -r</span><span id="a771" class="kc iw hi jy b fi li ke l kf kg"># View both strictly local as well as remote-tracking branches<br/>git branch --all<br/>git branch -a</span></pre><h1 id="6aca" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">删除过时的本地远程跟踪分支原点/X</h1><p id="eb85" class="pw-post-body-paragraph kh ki hi kj b kk lj km kn ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le hb bi translated">如果您没有从命令行删除您的远程分支<code class="du lf lg lh jy b">X</code>(如上)，那么您的本地存储库将仍然包含(现在已经废弃的)远程跟踪分支<code class="du lf lg lh jy b">origin/X</code>。例如，如果你直接通过GitHub的web界面删除一个远程分支，就会发生这种情况。</p><p id="cf44" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">移除这些过时的远程跟踪分支的典型方法(从Git版本1.6.6开始)是简单地用<code class="du lf lg lh jy b">--prune</code>或更短的<code class="du lf lg lh jy b">-p</code>运行<code class="du lf lg lh jy b">git fetch</code>。<strong class="kj hj">请注意，这将删除任何远程分支的所有过时的本地远程跟踪分支，这些分支在远程</strong>上不再存在:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="1eae" class="kc iw hi jy b fi kd ke l kf kg">git fetch origin --prune<br/>git fetch origin -p # Shorter</span></pre><p id="4275" class="pw-post-body-paragraph kh ki hi kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le hb bi translated">以下是来自<a class="ae iu" href="https://github.com/git/git/blob/v2.0.0/Documentation/RelNotes/1.6.6.txt#L162-L166" rel="noopener ugc nofollow" target="_blank"> 1.6.6发行说明</a>(重点是我的)的相关引文:</p><blockquote class="md me mf"><p id="b926" class="kh ki mg kj b kk kl km kn ko kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld le hb bi translated"><strong class="kj hj"><em class="hi">【git fetch】学习了</em> </strong> <em class="hi"> </em> <code class="du lf lg lh jy b"><em class="hi">--all</em></code> <em class="hi">和</em> <code class="du lf lg lh jy b"><em class="hi">--multiple</em></code> <em class="hi">选项，可以从多个存储库中运行fetch，还有</em> <code class="du lf lg lh jy b"><strong class="kj hj"><em class="hi">--prune</em></strong></code> <strong class="kj hj"> <em class="hi">选项可以清除远程跟踪的已经失效的分支。</em> </strong> <em class="hi">这些使得“git远程更新”和“git远程清理”变得不那么必要了(虽然没有计划删除“远程更新”和“远程清理”)。</em></p></blockquote><h1 id="140c" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">对于过时的远程跟踪分支的上述自动修剪的替代</h1><p id="d6f8" class="pw-post-body-paragraph kh ki hi kj b kk lj km kn ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le hb bi translated">或者，除了通过<code class="du lf lg lh jy b">git fetch -p</code>、<em class="mg">删除过时的本地远程跟踪分支，您还可以通过手动删除带有<code class="du lf lg lh jy b">--remote</code>或<code class="du lf lg lh jy b">-r</code>标志的分支来避免额外的网络操作</em>:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="c93b" class="kc iw hi jy b fi kd ke l kf kg">git branch --delete --remotes origin/X<br/>git branch -dr origin/X # Shorter</span></pre><h1 id="4ee9" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">参考</h1><ul class=""><li id="7e25" class="lo lp hi kj b kk lj ko lk ks mk kw ml la mm le mn lu lv lw bi translated"><a class="ae iu" href="https://jk.gs/git-branch.html" rel="noopener ugc nofollow" target="_blank"> git-branch(1)手册页</a>。</li><li id="b067" class="lo lp hi kj b kk lx ko ly ks lz kw ma la mb le mn lu lv lw bi translated"><a class="ae iu" href="https://jk.gs/git-fetch.html" rel="noopener ugc nofollow" target="_blank"> git-fetch(1)手册页</a>。</li><li id="fb74" class="lo lp hi kj b kk lx ko ly ks lz kw ma la mb le mn lu lv lw bi translated"><a class="ae iu" href="https://git-scm.com/book/en/Git-Branching-Remote-Branches" rel="noopener ugc nofollow" target="_blank"> Pro Git 3.5 Git分支—远程分支</a>。</li><li id="17ee" class="lo lp hi kj b kk lx ko ly ks lz kw ma la mb le mn lu lv lw bi translated"><a class="ae iu" href="https://stackoverflow.com/questions/2003505/how-do-i-delete-a-git-branch-locally-and-remotely" rel="noopener ugc nofollow" target="_blank"> git分支移除(2) </a></li></ul></div></div>    
</body>
</html>