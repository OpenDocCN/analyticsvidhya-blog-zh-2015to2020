<html>
<head>
<title>MLflow: Basic logging functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLflow:基本日志功能</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/mlflow-basic-logging-functions-e16cdea047b?source=collection_archive---------8-----------------------#2019-11-04">https://medium.com/analytics-vidhya/mlflow-basic-logging-functions-e16cdea047b?source=collection_archive---------8-----------------------#2019-11-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b3b4593ca9a7ec19626adced49c04532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xq385dWU0Nd305g6MOKwDQ.png"/></div></div></figure><p id="cd3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我的MLflow教程系列的第二篇文章:</p><ol class=""><li id="93ea" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/setup-mlflow-in-production-d72aecde7fef">在生产中设置ml flow</a></li><li id="38b3" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-basic-logging-functions-e16cdea047b"> MLflow:基本的日志功能</a>(你来了！)</li><li id="5979" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-logging-for-tensorflow-37b6a6a53e3c">张量流的MLflow测井</a></li><li id="b3b5" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/mlflow-projects-24c41b00854"> MLflow项目</a></li><li id="2138" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/retrieving-the-best-model-using-python-api-for-mlflow-7f76bf503692">使用Python API为MLflow检索最佳模型</a></li><li id="6fbc" class="jo jp hi is b it jy ix jz jb ka jf kb jj kc jn jt ju jv jw bi translated"><a class="ae jx" rel="noopener" href="/@gyani91/serving-a-model-using-mlflow-8ba5db0a26c0">使用MLflow服务模型</a></li></ol><p id="86f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从一些基本的MLflow函数开始，这些函数将帮助您记录各种值和工件。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="2252" class="km kn hi ki b fi ko kp l kq kr">import mlflow</span></pre><p id="ea7b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">日志记录功能需要与特定的运行相关联。将所有内容放入一次运行的最佳方式是在main函数(或其他调用函数)的开始处指定运行的开始，在main函数的结束处指定运行的结束。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="705c" class="km kn hi ki b fi ko kp l kq kr">if __name__ == '__main__':<br/>  mlflow.start_run()<br/>  #the model code<br/>  mlflow.end_run()</span></pre><p id="8dca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ks kt ku ki b"><a class="ae jx" href="https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.log_param" rel="noopener ugc nofollow" target="_blank">mlflow.log_param()</a></code>记录当前运行中的单个键值参数。键和值都是字符串。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="4bf7" class="km kn hi ki b fi ko kp l kq kr">mlflow.log_param('training_steps', training_steps)</span></pre><p id="71ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ks kt ku ki b"><a class="ae jx" href="https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.log_metric" rel="noopener ugc nofollow" target="_blank">mlflow.log_metric()</a></code>记录单个键值度量。该值必须始终是一个数字。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="6508" class="km kn hi ki b fi ko kp l kq kr">mlflow.log_metric('accuracy', accuracy)</span></pre><p id="518e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ks kt ku ki b"><a class="ae jx" href="https://www.mlflow.org/docs/latest/python_api/mlflow.html#mlflow.log_artifacts" rel="noopener ugc nofollow" target="_blank">mlflow.log_artifacts()</a></code>将一个给定目录中的所有文件记录为工件，可选的<code class="du ks kt ku ki b">artifact_path</code>。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="5fbb" class="km kn hi ki b fi ko kp l kq kr">mlflow.log_artifacts(export_path, "model")</span></pre><p id="56f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上述语句将把<em class="kv"> export_path </em>上的所有文件记录到MLflow运行的工件目录内名为<em class="kv"> "model" </em>的目录中。</p><p id="6832" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多信息请参考<a class="ae jx" href="https://www.mlflow.org/docs/latest/tracking.html#logging-functions" rel="noopener ugc nofollow" target="_blank">记录功能</a>。</p><p id="4e31" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下一篇文章的<a class="ae jx" rel="noopener" href="/@gyani91/mlflow-logging-for-tensorflow-37b6a6a53e3c">中，我们将加深对MLflow测井函数的理解，并将它们用于TensorFlow。</a></p></div></div>    
</body>
</html>