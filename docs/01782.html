<html>
<head>
<title>Understanding Transformation of Random Variables using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python理解随机变量的变换</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-transformation-of-random-variables-using-python-98d7bfbd2517?source=collection_archive---------9-----------------------#2019-11-13">https://medium.com/analytics-vidhya/understanding-transformation-of-random-variables-using-python-98d7bfbd2517?source=collection_archive---------9-----------------------#2019-11-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d5b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随机变量是统计实验结果的数字描述。它可以是离散的，也可以是连续的，这取决于实验的结果。</p><p id="7a82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将会看到随机变量的两种变换，即“缩放”和“移位”。</p><p id="be92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">换挡转型</strong></p><p id="3c9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设‘P’是随机变量，‘Q’是变换后的随机变量，其中Q= P+ t (t是任意实数)。让我们看一个特殊的例子，其中Q= P+ 8。我们在x轴上绘制随机变量，在y轴上绘制1到10之间等间距的一组100个值。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4c52" class="jm jn hi ji b fi jo jp l jq jr"><strong class="ji hj">import numpy as np</strong> # The necessary packages are imported.<br/><strong class="ji hj">import matplotlib.pyplot as plt</strong></span><span id="d29f" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">b = list(np.linspace(1,10,100))</strong> # ‘b’ is initialised as 100 numbers equally spaced between 1 and 10.<br/><strong class="ji hj">P = list(np.random.randn(100))</strong> # ‘P’ random variable is initialised as 100 random numbers.</span><span id="9c97" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.figure(figsize=(20,10))</strong> # The size of figure is adjusted.</span><span id="142c" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">mean_Px = sum(P)/len(P)</strong> # ‘mean_Px’ is the mean value of ‘P’.<br/><strong class="ji hj">mean_Py = sum(b)/len(b) </strong># ‘mean_Py’ is the mean value of ‘b’.</span><span id="ee0e" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.plot(mean_Px,mean_Py,’ro’,markersize = 10)</strong> # The mean value (mean_Px,mean_Py) point is plotted.</span><span id="4bb5" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">Q = [num+8 for num in P]</strong> # ‘Q’ random variable is defined as (P+8).<br/><strong class="ji hj">mean_Qx = sum(Q)/len(Q) </strong># ‘mean_Qx’ is the mean value of ‘Q’.<br/><strong class="ji hj">mean_Qy = sum(b)/len(b)</strong> # ‘mean_Qy’ is the mean value of ‘b’.<br/><strong class="ji hj">plt.plot(mean_Qx,mean_Qy,’ro’,markersize = 10)</strong> # The mean value (mean_Qx,mean_Qy) point is plotted.</span><span id="0c17" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.scatter(P,b) </strong># Scatter plot of ‘P’ on x-axis and ‘b’ on y-axis.<br/><strong class="ji hj">plt.scatter(Q,b)</strong> # Scatter plot of ‘Q’ on x-axis and ‘b’ on y-axis.</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jt"><img src="../Images/cb70af8497c76e2dff3a5a722b3e566a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tj-r61N2953x3zQQjD8tfw.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">“x”值用蓝色阴影表示。y '值用黄色阴影表示。两个数据的平均值都用红色阴影表示。</figcaption></figure><p id="6cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面的散点图中，我们观察到在“移位变换”之后,“P”的平均值已经向右移位了8个单位。让我们通过计算“P”和“Q”之间的平均差值来验证这一点。</p><p id="8d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="kf">Mean _ Px—Mean _ Qx</em></strong>#计算‘P’和‘Q’之间的平均差值。</p><p id="560a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如所料,“P”和“Q”之间的平均差值为8个单位。因此，将随机变量移动“t”个单位也将随机变量的平均值移动“t”个单位。E[P+t] = E[P] + t其中E[P]是P的期望值，与“P”的平均值相同。</p><p id="edf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看移位对随机变量的方差有什么影响。方差给你一个关于平均值的点分布的度量。它是每个点到平均值的距离平方的平均值。高方差值表明这些点远离平均值。较低的方差值表示这些点更接近平均值。如果您观察前面的散点图，我们会看到蓝色和黄色点以类似的方式分布在各自的平均值周围。因此，我们希望方差在“移位变换”后保持不变。让我们通过计算“X”和“Y”之间的方差来验证这一点。</p><p id="ab48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kg kh ki ji b"><strong class="ih hj">Variance_Px = np.var(P)</strong> # Variance of random variable ‘P’ is calculated.</code> <br/> <code class="du kg kh ki ji b"><strong class="ih hj">Variance_Qx = np.var(Q)</strong> # Variance of random variable ‘Q’ is calculated.</code> <br/> <code class="du kg kh ki ji b"><strong class="ih hj">Variance_Px — Variance_Qx</strong> # Variance difference between ‘P’ and ‘Q’ is calculated.</code></p><p id="0021" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如所料，随机变量‘P’和‘Q’之间的方差差为0个单位<strong class="ih hj"> <em class="kf">。因此，将随机变量移动“t”个单位不会影响随机变量的方差。Var[P+t] = Var[P]其中Var[P]是随机变量“P”的方差。</em> </strong></p><p id="716a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缩放变换</strong></p><p id="aefe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设‘P’为随机变量，而‘Q’为变换后的随机变量，其中Q= t*P (t为任意实数)。让我们来看一个特殊的例子，其中Q= 8*P。我们在x轴上绘制随机变量，在y轴上绘制1到10之间等间距的100个值。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="6ec8" class="jm jn hi ji b fi jo jp l jq jr"><strong class="ji hj"><em class="kf">i</em>mport numpy as np</strong> # Import the necessary packages.<br/><strong class="ji hj">import matplotlib.pyplot as plt</strong></span><span id="d7ee" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">b = list(np.linspace(1,10,100)) </strong># ‘b’ is initialised as 100 numbers equally spaced between 1 and 10.<br/><strong class="ji hj">P = list(np.random.rand(100))</strong> # ‘P’ random variable is initialised as 100 random numbers.</span><span id="082f" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.figure(figsize=(20,10))</strong> # The size of figure is adjusted.</span><span id="048f" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">mean_Px = sum(P)/len(P)</strong> # ‘mean_Px’ is the mean value of ‘P’.<br/><strong class="ji hj">mean_Py = sum(b)/len(b)</strong> # ‘mean_Py’ is the mean value of ‘b’.</span><span id="c9a3" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.plot(mean_Px,mean_Py,’ro’,markersize = 10) </strong># The mean value (mean_Px,mean_Py) point is plotted.</span><span id="8aa7" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">Q = [num*8 for num in P]</strong> # ‘Q’ random variable is defined as (8*P).</span><span id="ee64" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">mean_Qx = sum(Q)/len(Q)</strong> # ‘mean_Qx’ is the mean value of ‘Q’.<br/><strong class="ji hj">mean_Qy = sum(b)/len(b) </strong># ‘mean_Qy’ is the mean value of ‘b’.</span><span id="54d7" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.plot(mean_Qx,mean_Qy,’ro’,markersize = 10)</strong> # The mean value (mean_Qx,mean_Qy) point is plotted.</span><span id="874d" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.scatter(P,b)</strong> # Scatter plot of ‘P’ on x-axis and ‘b’ on y-axis.<br/><strong class="ji hj">plt.scatter(Q,b)</strong> # Scatter plot of ‘Q’ on x-axis and ‘b’ on y-axis.</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es kj"><img src="../Images/433c34f6e1c24bb7e6003a4e0542dca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lTdAj9jaSZJo23n4rqitpQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">“x”值用蓝色阴影表示。y '值用黄色阴影表示。两个数据的平均值都用红色阴影表示。</figcaption></figure><p id="1857" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面的散点图中，我们观察到在“缩放变换”后,“P”的平均值变成了之前平均值的8倍。让我们通过下面给出的代码来验证这一点。</p><p id="1bd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="kf">Mean _ Qx/Mean _ Px</em></strong># Q的平均值除以P的平均值。</p><p id="e980" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不出所料，<strong class="ih hj"/>‘P’的平均值在‘缩放变换’后变成了之前平均值的8倍。<strong class="ih hj">因此，用“t”个单位缩放随机变量也用“t”个单位缩放随机变量的平均值。E[t*P] = E[P]*t . </strong></p><p id="25d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看比例对随机变量的方差有什么影响。如果观察前面的散点图，我们会发现黄色点比红色点更远离平均值，这表明“P”的方差在缩放变换后显著增加。让我们通过下面给出的代码来验证这一点。</p><p id="b301" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kf">方差_Px = np.var(P) </em> </strong> #计算随机变量‘P’的方差。<br/><strong class="ih hj"><em class="kf">Variance _ Qx = NP . var(Q)</em></strong>#计算随机变量' Q '的方差。<br/> <strong class="ih hj"> <em class="kf">方差_ Qx/方差_ Px</em></strong># Q的方差除以P的方差。</p><p id="ba35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为‘Q’的预期方差= 64倍‘P’的方差。<strong class="ih hj">因此，将随机变量缩放‘t’个单位，将随机变量的方差缩放‘t’个单位。Var[t*P] = Var[P]*t其中Var[P]是“P”的方差。</strong></p><p id="a874" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">移位&amp;缩放变换</strong></p><p id="dc65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看当一个随机变量既被缩放又被移位时会发生什么。设‘P’为随机变量，‘Q’为变换后的随机变量，其中Q= n*P+ t (n和t为实数)。让我们看一个特殊的例子，其中Q= 10*P+ 8。我们在x轴上绘制随机变量，在y轴上绘制1到10之间等间距的一组100个值。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="09cd" class="jm jn hi ji b fi jo jp l jq jr"><strong class="ji hj">import numpy as np</strong> # The necessary packages are imported.<br/><strong class="ji hj">import matplotlib.pyplot as plt</strong></span><span id="b543" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">b = list(np.linspace(1,10,100))</strong> # ‘b’ is initialised as 100 numbers equally spaced between 1 and 10.<br/><strong class="ji hj">P = list(np.random.rand(100))</strong> # ‘P’ random variable is initialised as 100 random numbers.<br/><strong class="ji hj">plt.figure(figsize=(20,10))</strong> # The size of figure is adjusted.<br/><strong class="ji hj">mean_Px = sum(P)/len(P)</strong> # ‘mean_Px’ is the mean value of ‘P’.<br/><strong class="ji hj">mean_Py = sum(b)/len(b) </strong># ‘mean_Py’ is the mean value of ‘b’.<br/><strong class="ji hj">plt.plot(mean_Px,mean_Py,’ro’,markersize = 10)</strong> # The mean value (mean_Px,mean_Py) point is plotted.</span><span id="f389" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">Q = [10*num+8 for num in P]</strong> # ‘Q’ random variable is defined as (10*P+8).<br/><strong class="ji hj">mean_Qx = sum(Q)/len(Q) </strong># ‘mean_Qx’ is the mean value of ‘Q’.<br/><strong class="ji hj">mean_Qy = sum(b)/len(b)</strong> # ‘mean_Qy’ is the mean value of ‘b’.<br/><strong class="ji hj">plt.plot(mean_Qx,mean_Qy,’ro’,markersize = 10)</strong> # The mean value (mean_Qx,mean_Qy) point is plotted.</span><span id="95b9" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">plt.scatter(P,b) </strong># Scatter plot of ‘P’ on x-axis and ‘b’ on y-axis.<br/><strong class="ji hj">plt.scatter(Q,b)</strong> # Scatter plot of ‘Q’ on x-axis and ‘b’ on y-axis.</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es kk"><img src="../Images/17a272956efac8d8db2042ac13d2056f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6m1Td0rx4AWZB8xXNLtnaQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">“x”值用蓝色阴影表示。y '值用黄色阴影表示。两个数据的平均值都用红色阴影表示。</figcaption></figure><p id="bbb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从散点图中，我们观察到随机变量‘P’的均值和方差都增加了。</p><p id="a638" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们对随机变量“P”应用“缩放”变换，然后应用“移位”变换。平均值缩放10个单位，然后移动8个单位。方差按100个单位缩放。</p></div></div>    
</body>
</html>