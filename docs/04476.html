<html>
<head>
<title>Part-2 : Data preparation made easy with python!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第2部分:使用python简化数据准备！！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/part-2-data-preparation-made-easy-with-python-633027bf6f28?source=collection_archive---------7-----------------------#2020-03-21">https://medium.com/analytics-vidhya/part-2-data-preparation-made-easy-with-python-633027bf6f28?source=collection_archive---------7-----------------------#2020-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="91ce" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">继续我之前的文章:<a class="ae jh" rel="noopener" href="/analytics-vidhya/part-1-data-preparation-made-easy-with-python-e2c024402327">第1部分:用python简化数据准备！！</a>让我们深入了解一下EDA，看看我们如何处理数据集中的数值和异常值。所以我们还在等什么让我们开始吧。</p></blockquote><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ji"><img src="../Images/bef7ad2e300ad68564b31e8a888b87ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*whK_qoF8lU_iKoZgX4Z9GA.png"/></div></div></figure><h2 id="5955" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤5:处理数字数据</h2><ol class=""><li id="30d1" class="ks kt hi il b im ku iq kv kf kw kj kx kn ky jg kz la lb lc bi translated"><strong class="il hj">缩放</strong></li></ol><p id="4967" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated"><em class="ik">让我先解释一下为什么缩放数据很重要。你知道1公斤相当于1000克，或者1公里相当于1000米，但是你的机器不知道，假设一个特征用公斤表示，而另一个特征用克表示，你的系统只是把它们看作数字并进行处理，让机器理解单位的重要性是我们的工作。由于我们的大多数算法使用距离计算，缩放将为计算提供正确的方向。回过头来看看你的数据，如果没有，缩放它，看看算法的性能差异。让我们看看python代码的缩放类型。</em></p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ld"><img src="../Images/e6bcbce0811ea50bef18924c0535222f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1z5qSf5fjqEnVdx5.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">数据<a class="ae jh" href="https://python-data-science.readthedocs.io/en/latest/_images/scaling.png" rel="noopener ugc nofollow" target="_blank">比较</a>使用各种秤。</figcaption></figure><p id="d811" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">有了理论，让我们也在<a class="ae jh" href="https://github.com/nkushwah/MachineLearning/blob/master/top50_sportify_songs.csv" rel="noopener ugc nofollow" target="_blank">数据</a>上实践下面的缩放技术，这个数据大约是前50首流行歌曲，并且具有像Beats这样的特征。每分钟，范围从85到190，而像声音这样的特征范围从1到75，如果要一起研究这两个特征，更好的比较是在相同的尺度上。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">数据集的前10行</figcaption></figure><p id="8f74" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated"><strong class="il hj">#方法1:标准化</strong></p><p id="b055" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">标准化是转换数据的过程，即<strong class="il hj"> </strong>通过移除每个特征的平均值来集中数据，然后通过将(非恒定)特征除以其标准偏差来缩放数据。它假设您的数据在每个要素内呈正态分布，平均值为0，标准差为1。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es lk"><img src="../Images/054087071384d4de198545c8bb6b0e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*_Vq87PswdnBAjumP.GIF"/></div></figure><p id="1de2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">您可以使用seaborn library检查数据的分布，但还有许多其他方法，您可以自由探索。下面是一个带有seaborn库的地块。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">正态分布图</figcaption></figure><p id="4baa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">对角线数据显示直方图分布图，大多数数据看起来不正常，您可以对数据使用log，这有时有助于重塑数据，请在标准化数据之前探索其他选项来重塑数据分布并使其正常化。现在只是标准化数字数据。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">标准缩放</figcaption></figure><p id="53cc" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated"><strong class="il hj">#方法2:归一化</strong></p><p id="5e9d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">标准化是通过将单个样本缩放到单位标准来转换数据的过程。它通常被称为<strong class="il hj">最小-最大缩放</strong>，基本上缩小了<strong class="il hj"> 0和1之间的数据值范围。</strong>当分布不是高斯分布或者标准差很小时，它工作得很好。</p><p id="d135" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">它对异常值非常敏感，所以确保使用这种缩放技术，建议您的数据没有异常值。</p><p id="d1a0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">你也可以使用均值归一化方法，只需将分子中的X-minimum替换为X-mean。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ll"><img src="../Images/94a5b746c825154431d0b69786eebb9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eq7RDAu6znDkheBC3F4iSA.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">公式:使用最小值-最大值进行归一化</figcaption></figure><p id="10c4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">让我们使用python规范化数据，使用sklearn.preprocessing的normalize和MinMaxScaler库。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="6576" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated"><strong class="il hj">#方法3:稳健缩放</strong></p><p id="68ba" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">它的缩放类似于归一化，但它使用四分位数范围，使其对异常值具有鲁棒性。由于四分位数之间的属性，它没有考虑中位数，只关注批量数据所在的部分。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es lm"><img src="../Images/5e9a170f550f6f6369630aef97f3bf6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*uATk8_fV8cwgk8AQNHccNg.png"/></div></figure><p id="b098" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">鲁棒定标器的Python实现。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="d6aa" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第六步:<strong class="ak">离群点剔除</strong></h2><p id="65d9" class="pw-post-body-paragraph ii ij hi il b im ku io ip iq kv is it kf ln iw ix kj lo ja jb kn lp je jf jg hb bi translated"><em class="ik">离群值是最常见的问题之一，如果不小心，它很容易给出误导性的统计结果，并降低模型的性能。这是数据科学家经常看到的数据的重要部分之一，他们中的大多数人不知道如何处理它们。</em></p><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es lq"><img src="../Images/b8ab041d25184af7bad9e26d73cc5cc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*scyMuE3kydWvhGj0pTaQ-A.png"/></div></figure><h2 id="c84e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">局外人</h2><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es lr"><img src="../Images/e13b7bfc9f83d131bc34ca536b358db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*m98yk6GXFcMv-C6KCrrXDw.png"/></div></figure><p id="b1fa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">根据维基百科的统计，一个<strong class="il hj">异常值</strong>是一个与其他观察值显著不同的数据点。</p><p id="a610" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">Moore和McCabe说，离群值是分布总体模式之外的观察值。</p><p id="42f1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">另一个统计定义是<em class="ik">异常值</em>是一个观察值，它与总体随机样本中的其他值存在异常距离。</p><p id="3c9f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">异常值可能是由于测量中的可变性造成的，或者它可能表明实验误差；后者有时被排除在数据集之外。异常值会在统计分析中引起严重的问题。</p><h2 id="bdb6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">异常值的类型</h2><ol class=""><li id="eef6" class="ks kt hi il b im ku iq kv kf kw kj kx kn ky jg kz la lb lc bi translated"><strong class="il hj">全局异常值:</strong>如果一个数据的值远在整个数据集之外，则该数据可被视为相对于整个数据异常。例如，计算机网络中的入侵检测。</li></ol><p id="21fb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">2.<strong class="il hj">上下文异常值:</strong>当单个数据实例在特定的上下文或条件下异常时(但在其他情况下不会异常)。如时间&amp;地点，温度。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ls"><img src="../Images/2da8713904d649dd5bc702aaf0814fe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*HcbitvlfYrm0kNTsl_UP-w.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">全局和上下文异常值</figcaption></figure><p id="44aa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">3.<strong class="il hj">集体异常值:</strong>当数据点的集合相对于整个数据集异常时，它被称为集体异常值。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es lt"><img src="../Images/81ff64f92a33fb065f52f3b1d040a5fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*pTZO71E5d8OB0PbGhm7f1Q.png"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">显示集体异常值的人体心电图报告</figcaption></figure><h2 id="6096" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">异常值检测方法</h2><ol class=""><li id="1070" class="ks kt hi il b im ku iq kv kf kw kj kx kn ky jg kz la lb lc bi translated"><strong class="il hj">统计方法</strong></li></ol><ul class=""><li id="5b00" class="ks kt hi il b im in iq ir kf lu kj lv kn lw jg lx la lb lc bi translated"><strong class="il hj"> <em class="ik">高斯分布法</em> </strong></li></ul><p id="0999" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">如果我们知道数据的分布是高斯分布，或者简单地说，你的数据是正态分布吗？如果ans为是，那么我们可以通过应用正态分布的简单属性，使用数据值的标准偏差来识别异常值。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ly"><img src="../Images/d35e99d7967e04d7b3cbb38f641d5551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CSTdBh5tUKGLNK_JYimm4g.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">高斯分布或正态分布</figcaption></figure><p id="33ed" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">关于正态分布数据覆盖范围的概述:</p><ul class=""><li id="93e2" class="ks kt hi il b im in iq ir kf lu kj lv kn lw jg lx la lb lc bi translated">平均值的1个标准偏差(1sd):68%</li><li id="1e29" class="ks kt hi il b im lz iq ma kf mb kj mc kn md jg lx la lb lc bi translated">平均值的2个标准偏差(2sd):95%</li><li id="e073" class="ks kt hi il b im lz iq ma kf mb kj mc kn md jg lx la lb lc bi translated">平均值的3个标准偏差(3 SD):99.7%</li></ul><p id="afcd" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">大多数样本值都包含在3 SD中，如果值落在3 SD之外，则可将其视为异常值，这在大约1/400的样本中是不太可能或罕见的事件。3 SD是一个通用规则，它可以根据所解决问题的类型而增加或减少，假设需要99.9%的数据覆盖率，则考虑4 SD。让我们看看如何编码它</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="afd3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">这是我们看到我们实现的一维数据，但是如果数据是超平面(n维数据)呢？ans很简单，我们将遵循同样的方法，想象一个显示日蚀形状的2-D数据，考虑边界的分界点，任何位于边界之外的点都将被视为异常值。</p><ul class=""><li id="55ec" class="ks kt hi il b im in iq ir kf lu kj lv kn lw jg lx la lb lc bi translated"><strong class="il hj"> <em class="ik">箱线图或四分位极差(IQR)法</em> </strong></li></ul><p id="0783" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">并非所有数据都服从正态分布，在这种情况下，我们可以对样本数据使用IQR方法。理论参考我的<a class="ae jh" rel="noopener" href="/analytics-vidhya/descriptive-statistics-acba9c2f8e5b">描述性统计文章</a>。让我们看一个python实现的例子。</p><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="8a78" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated"><strong class="il hj"> 2。机器学习算法</strong></p><ul class=""><li id="6bb1" class="ks kt hi il b im in iq ir kf lu kj lv kn lw jg lx la lb lc bi translated"><strong class="il hj"> <em class="ik"> DBSCAN </em> </strong></li></ul><p id="a727" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">这是一种基于密度的聚类方法，在无监督数据中非常常用，本质上不是离群点检测方法，而是由于使用了算法方法。它根据半径和邻居计数形成聚类，聚类之外的任何点都被视为离群点。核心点——周围点最少的点——和足够靠近这些核心点的点一起形成一个聚类。</p><ul class=""><li id="446f" class="ks kt hi il b im in iq ir kf lu kj lv kn lw jg lx la lb lc bi translated">该算法有两个参数(ε:长度标度，min_samples:一个点成为核心点所需的最小样本数)。找到一个好的epsilon很关键。</li></ul><figure class="jj jk jl jm fd jn er es paragraph-image"><div class="er es me"><img src="../Images/15ec78e3a2dfbdd000e630d8f991c588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*88ww0hVJF0EG5DHNZTh8MQ.png"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">DBSCAN算法图形表示</figcaption></figure><figure class="jj jk jl jm fd jn"><div class="bz dy l di"><div class="li lj l"/></div></figure><h1 id="a55d" class="mf jv hi bd jw mg mh mi ka mj mk ml ke mm mn mo ki mp mq mr km ms mt mu kq mv bi translated">接下来是最后的第三部分</h1><ul class=""><li id="ce2d" class="ks kt hi il b im ku iq kv kf kw kj kx kn ky jg lx la lb lc bi translated">使用8种不同的编码技术处理分类数据，如标签、一键、目标等等。</li></ul><p id="a364" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it kf iv iw ix kj iz ja jb kn jd je jf jg hb bi translated">请继续关注最后的第三部分。我希望你喜欢这个和任何最受欢迎的建议。快乐学习到那时。</p><div class="mw mx ez fb my mz"><a rel="noopener follow" target="_blank" href="/@amitansh.iitk/data-cleansing-and-preparation-dd859ed4c601"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">数据清理和准备</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">以下是理解、清理和准备用于构建预测模型的数据的步骤:</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">medium.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn js mz"/></div></div></a></div><div class="mw mx ez fb my mz"><a href="https://www.edvancer.in/encode-categorical-variables/" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">对分类变量进行编码的四大方法</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">真实世界的数据集混合了连续变量和分类变量。许多ML算法，如基于树的…</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">www.edvancer.in</p></div></div></div></a></div><div class="mw mx ez fb my mz"><a href="https://www.kaggle.com/shahules/an-overview-of-encoding-techniques" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">编码技术概述</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自分类特征编码挑战的数据</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">www.kaggle.com</p></div></div><div class="ni l"><div class="no l nk nl nm ni nn js mz"/></div></div></a></div><div class="mw mx ez fb my mz"><a rel="noopener follow" target="_blank" href="/greyatom/why-how-and-when-to-scale-your-features-4b30ab09db5e"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">缩放要素的原因、方式和时间</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">大多数情况下，您的数据集将包含在量级、单位和范围方面差异很大的要素。学习如何…</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">medium.com</p></div></div><div class="ni l"><div class="np l nk nl nm ni nn js mz"/></div></div></a></div><div class="mw mx ez fb my mz"><a href="https://www.anblicks.com/resources/insights-blogs/an-introduction-to-outliers/" rel="noopener  ugc nofollow" target="_blank"><div class="na ab dw"><div class="nb ab nc cl cj nd"><h2 class="bd hj fi z dy ne ea eb nf ed ef hh bi translated">离群值介绍-什么是离群值-离群值的类型</h2><div class="ng l"><h3 class="bd b fi z dy ne ea eb nf ed ef dx translated">离群值是数据分析的一个非常重要的方面。这在确定欺诈和潜在的…</h3></div><div class="nh l"><p class="bd b fp z dy ne ea eb nf ed ef dx translated">www.anblicks.com</p></div></div><div class="ni l"><div class="nq l nk nl nm ni nn js mz"/></div></div></a></div></div></div>    
</body>
</html>