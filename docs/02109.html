<html>
<head>
<title>Data Analysis using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python进行数据分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-analysis-using-python-24f1c1962a5?source=collection_archive---------5-----------------------#2019-12-01">https://medium.com/analytics-vidhya/data-analysis-using-python-24f1c1962a5?source=collection_archive---------5-----------------------#2019-12-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/41c72e02e647e4af2365afa78ead4b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hcqb5g5LNAVv_G3rsBUKhg.jpeg"/></div></div></figure><h1 id="0789" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">简介</strong></h1><p id="dfca" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">这篇文章是关于使用python语言进行数据分析的，我将带你浏览在Python中使用高性能数据库的例子。我们开始吧</p><h1 id="13c2" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">数据收集</h1><p id="e8d6" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">要使用Python分析数据，需要将您的数据组织成由<strong class="jy hj">样本</strong>和<strong class="jy hj">特征</strong>组成的矩阵:</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ku"><img src="../Images/dea2465ee68223ffb56c94ea3f2876fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sVt6Fl1gxegBR8cC.png"/></div></div></figure><p id="feab" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">每当您收集数据时，任何给定的要素都属于以下两种类型之一:</p><p id="561b" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><strong class="jy hj">连续特征</strong></p><p id="6391" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">在连续特征的情况下，在可能的特征值之间存在可测量的差异。特征值通常也是所有实数的子集:</p><ul class=""><li id="5c08" class="la lb hi jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li bi translated">量</li><li id="1bb5" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">时间</li><li id="cea7" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">价格</li><li id="4ced" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">温度</li></ul><p id="a8b9" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><strong class="jy hj">分类特征</strong></p><p id="58a4" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">对于分类特征，存在指定数量的离散的、可能的特征值。这些值可能有也可能没有排序。如果他们有一个自然的顺序，他们被称为有序分类特征。否则，如果没有内在的排序，他们被称为名义分类特征。</p><blockquote class="lo lp lq"><p id="de35" class="jw jx lr jy b jz kv kb kc kd kw kf kg ls kx kj kk lt ky kn ko lu kz kr ks kt hb bi translated">名义上的</p></blockquote><ul class=""><li id="4904" class="la lb hi jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li bi translated">性别</li><li id="d786" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">颜色；色彩；色调</li><li id="ed5d" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">电影</li></ul><p id="6fa8" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">序数</em></p><ul class=""><li id="c54d" class="la lb hi jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li bi translated">小型-中型-大型</li><li id="261f" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">1-10岁，11-20岁，30-40岁</li><li id="b5aa" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">快乐，中立，悲伤</li></ul><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es lv"><img src="../Images/605198b1c090009c6b70b84bf36fd170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vUjGKgmiTtuaNyKCSUEk0g.png"/></div></div></figure><h1 id="98df" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">数据加载</h1><p id="3b2d" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">一旦你收集了数据，下一步就是学习如何有效地操作它。</p><p id="d896" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">熊猫:</p><p id="46f2" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr"> Pandas </em>是Python中最重要、开发最活跃的高性能数据分析库之一，您将使用它来满足所有的数据输入、输出和操作需求。熊猫是在另一个图书馆的基础上建造的。在Pandas中有两种数据结构你需要知道如何使用。第一个是<em class="lr">系列</em>对象，它是一个一维标签数组，表示数据集中的一列。</p><pre class="in io ip iq fd lw lx ly lz aw ma bi"><span id="52aa" class="mb iz hi lx b fi mc md l me mf">import pandas as pd</span></pre><p id="040b" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">熊猫系列</em>:</p><p id="3a10" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">让所有元素共享相同的单位和数据类型使您能够应用系列范围的操作。正因为如此，熊猫系列一定是同质化的。它们能够存储任何Python数据类型(整数、字符串、浮点数、对象等)。)，但是序列<strong class="jy hj">中的所有元素</strong>必须是相同的数据类型。您需要处理的第二个结构是一个叫做<em class="lr"> dataframe </em>的系列集合。</p><p id="dad3" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">熊猫数据帧</em>:</p><p id="f490" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">要操作数据集，首先需要将其加载到数据帧中。不同的人喜欢用不同的方法存储他们的数据，所以Pandas试图让加载数据变得容易，不管它是如何存储的。以下是一些加载数据的方法:</p><pre class="in io ip iq fd lw lx ly lz aw ma bi"><span id="d3d3" class="mb iz hi lx b fi mc md l me mf">from sqlalchemy import create_engine<br/>engine = create_engine('sqlite:///:memory:')<br/><br/>sql_dataframe  = pd.read_sql_table('my_table', engine, columns=['ColA', 'ColB'])<br/>xls_dataframe  = pd.read_excel('my_dataset.xlsx', 'Sheet1', na_values=['NA', '?'])</span><span id="cd3d" class="mb iz hi lx b fi mg md l me mf">json_dataframe = pd.read_json('my_dataset.json', orient='columns')</span><span id="2036" class="mb iz hi lx b fi mg md l me mf">csv_dataframe  = pd.read_csv('my_dataset.csv', sep=',')<br/>table_dataframe= pd.read_html('http://page.com/with/table.html')[0]</span></pre><p id="9d6f" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">请注意。read_html()，它是一个数据帧的<em class="lr"> Python列表</em>，在网页上找到的每个html表格一个。</p><p id="8ac0" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">还要确保你完全理解<strong class="jy hj">以下参数的作用:</strong></p><ul class=""><li id="c371" class="la lb hi jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li bi translated">九月</li><li id="b441" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">定界符</li><li id="c080" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">页眉</li><li id="1a97" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">名称</li><li id="721b" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">索引_列</li><li id="acb9" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">skipinitialspace</li><li id="c531" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">skiprows</li><li id="2239" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">na值</li><li id="e211" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">数千</li><li id="2ecd" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">小数</li></ul><p id="fcf3" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">许多刚接触数据科学的学生遇到了问题，因为他们急于完成他们工作中平凡的数据分析部分，急于进入更令人兴奋的机器学习部分。但是如果他们在这里犯了错误，例如，在使用。read_csv()方法，一旦他们将机器学习应用于他们的数据，他们所有的发现都是错误的。</p><h1 id="b266" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">数据汇总</h1><p id="0f5f" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">来查看数据帧的数字列的描述性统计摘要。描述():</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mh"><img src="../Images/67673db40b6969407b94249f872779ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYXa3DE3mEm1LSlJ6FMY-Q.png"/></div></div></figure><p id="d0c1" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">来快速浏览您的数据，方法是使用。头()和。尾部()。默认情况下，它将显示5条记录。此外，要快速了解数据帧的行数和列数，请使用。shape()方法。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mi"><img src="../Images/5f11d695c97accd1412bb2b9f13c9235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_2MRe4tFd3uK4i6vyas1GQ.png"/></div></div></figure><p id="1055" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">当您加载一个数据帧时，查看Pandas为每一列分配了什么数据类型以及有多少条目总是一个好主意。这可以使用info()方法来完成。这对于检查任何列中是否有空值也非常有用。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mj"><img src="../Images/753b4b02034ec2cce92c51e00ab97779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*1WtQJempqdR2V1Z0arwrQA.png"/></div></figure><h1 id="5c23" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">切片切丁</h1><p id="23dd" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated"><em class="lr">列索引</em></p><p id="f416" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">数据帧本质上是一个或多个序列，它们被“缝合”在一起成为一种新的数据类型。熊猫揭示了<em class="lr">许多</em>等价的方法来分割那些底层的系列。您可以按位置进行切片，就像您通常对常规Python列表进行索引一样。您可以按标签进行切片，这是您通常在Python字典中创建索引的方式。和NumPy数组一样，也可以通过布尔掩码进行索引。下面是查看第一列内容的不同切片方法。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mk"><img src="../Images/9a179242c16743d2fb326fab7484d402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*MPFdEaNelLMnG-lrqielvw.png"/></div></figure><p id="0847" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">通过在代码中使用列名，可以很容易地辨别出正在提取的内容，并且不必担心列的顺序。在对列索引进行切片之前首先匹配列名的这种查找比通过索引直接访问列稍微慢一些。的。loc[]方法通过列标签进行选择。iloc[]按列索引选择。方法。ix[]也可以在您想要使用其中一种混合方法的时候使用，但是，现在不推荐使用它。</p><p id="40da" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">请注意，如果您在语法中使用双括号，即使您只指定了一个列，您将得到的数据类型也是一个<em class="lr">数据帧</em>，而不是一个<em class="lr">系列</em>。所以，这个列表的优点是你可以访问不止一列。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es ml"><img src="../Images/fdc2b670288a7f29f9b2dc5389fbbbce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*1w53EZWiBLYPx6E4kXUYSw.png"/></div></figure><p id="f742" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">行索引</em></p><p id="2c19" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">您可以使用任何。loc[]，。iloc[]方法按行进行选择，注意预期顺序是[row_indexer，column_indexer]:</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mm"><img src="../Images/605889067b3b1a296e0dcc43790635e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ElhM9vtpBNhsGtwrHBiybw.png"/></div></div></figure><p id="a8e5" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">最后一个重要的区别是。loc[]和。ix[]是所选数值范围的<em class="lr">和</em>，其中。iloc[]是非包容性的。从这个意义上说，df.loc[0:1，:]将选择前两个<em class="lr">行，但是使用df.iloc[0:1，:]将只返回第一行。</em></p><p id="d802" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">布尔索引</em></p><p id="2dd1" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">您的数据帧和系列也可以用一个<em class="lr">布尔运算</em>进行索引——一个数据帧或系列与您选择的数据帧或系列具有相同的维度，但是每个值都设置为True或False。您可以通过手动指定值或使用条件来创建新的布尔序列。要使用布尔序列进行索引，只需使用[]括号选择语法将其反馈到常规序列中。您可以使用逐位逻辑运算符|和&amp;进一步将多个布尔索引条件组合在一起。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mn"><img src="../Images/27f6c7c2b137e5f189fcde59babb68ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3p7UbX1YQZuxsFocbZ9q9A.png"/></div></div></figure><p id="0e20" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">这有点违背直觉，因为大多数人最初认为Pandas会支持常规的Python布尔操作符or和and。常规Python布尔运算符不能用于组合Pandas布尔条件的原因是这样做会导致歧义。以下不正确的陈述有两种解释方式:</p><ol class=""><li id="5ba0" class="la lb hi jy b jz kv kd kw kh lc kl ld kp le kt mo lg lh li bi translated">如果评价语句(df1。TotalAssets &lt; 10000) or the evaluation the statement (df1.TotalAssets &gt; 9000)产生除False以外的任何结果，则选择数据集中的所有记录。</li><li id="75d1" class="la lb hi jy b jz lj kd lk kh ll kl lm kp ln kt mo lg lh li bi translated">选择属于数据集中以下任一语句为真的行的所有列:(df1。总资产&lt; 10000) or (df1.TotalAssets &gt; 9000)。</li></ol><p id="d59e" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">选项2是期望的功能，但是为了完全避免这种模糊性，Pandas在其dataframe和series对象上重载了逐位操作符。请<strong class="jy hj">务必</strong>将每一个条件都放在括号中，这样才能有效。</p><p id="cc32" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><em class="lr">写入一个片</em></p><p id="fc43" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">您可以对数据帧或数据系列做的一件方便的事情是写入一个切片:</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mp"><img src="../Images/a7bd2365fa7121ee49e1a4da34bc27ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*T6SLQH8A_3_3eGN7pzEcHw.png"/></div></figure><p id="6ba6" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">执行此操作时要小心，因为您可能会遇到非同类数据帧的问题。在每一列的基础上进行这种操作比在整个数据帧上进行更安全，通常也更有意义。</p><p id="e9d0" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">在下一篇文章中，我想谈谈特征表示、特征提取、特征选择和特征重要性。</p><h1 id="017e" class="iy iz hi bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">探索性数据分析</h1><p id="7dda" class="pw-post-body-paragraph jw jx hi jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">如需进一步阅读，请参考这篇<a class="ae mq" rel="noopener" href="/@harkiratblogs/exploratory-data-analysis-using-python-a591beb8c027">文章</a>。</p><p id="4d4b" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated"><strong class="jy hj">参考文献</strong>:</p><p id="7eda" class="pw-post-body-paragraph jw jx hi jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">edX-Microsoft:dat 210 x-使用Python进行数据科学编程</p></div></div>    
</body>
</html>