<html>
<head>
<title>Data Harvesting simplified using Python, Flask, and SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python、Flask和SQL简化数据采集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-harvesting-simplified-using-python-flask-and-sql-d7049fa14bea?source=collection_archive---------9-----------------------#2020-12-14">https://medium.com/analytics-vidhya/data-harvesting-simplified-using-python-flask-and-sql-d7049fa14bea?source=collection_archive---------9-----------------------#2020-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/63de3103aeff1ae5c74ec849f134896c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/0*DADRx5XKOjoNipkz"/></div></div></figure><p id="498e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有没有想过拥有一个应用程序，可以用作搜索引擎来查询API、获取数据并执行基本的ETL操作，然后将处理后的数据转储到SQL表中。</p><p id="295e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">似乎有点混乱？</p><p id="be6f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，在数据用于分析之前，需要进行大量的处理。</p><p id="382e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，我们构建一个应用程序来处理后端的所有数据处理，并继续填充SQL表以供进一步分析，怎么样？</p><p id="31c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">够有趣吗？系好安全带，这是一个很长的…..</p><p id="1a36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们到底收获了什么？我们将处理后的数据存储在哪里？</p><p id="1889" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我构建这个应用程序是为了从Spotify API获取音乐数据，并将处理后的数据存储在SQL server数据库中。不言而喻，您可以根据您的项目需求修改这个应用程序。</p><p id="4c53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在我们进入构建应用程序的有趣部分之前，让我们首先准备好我们的数据库。</p><p id="3a6e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数据库架构应该是什么样子？</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/239638eb280cced60ae5077809fdc0ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*dtIApvWeT4QFFWgPj5vhWA.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图1.1。SQL数据库</figcaption></figure><p id="5afd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如我们从图1.1中看到的，我们将需要一个工作表:WKR_SPOTIFY_DATA，用于在处理后转储原始数据；一个最终表:SPOTIFY_DATA，用于存储具有正确数据类型的数据；以及一个存储过程:BLD_SPOTIFY_DATA，用于将数据从worker表插入最终表。</p><p id="f417" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们快速看一下两个表的设计和存储过程。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/a7c2747023c64873a93cf11afd3a28b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fU6HH8dHLFZaKlARILEkqg.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图1.2。数据库表设计</figcaption></figure><p id="db3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们的worker表只是以VARCHAR格式存储所有内容，最终的表以正确的数据类型存储它们。我们还为我们需要从Spotify获得的所有数据创建了专栏，因此现在我们对需要提取的内容有了清晰的想法。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/70ed20249253639218984b0c685fa506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KapdTPWbcyOEbe-osZVOag.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图1.3。存储过程声明</figcaption></figure><p id="6cde" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们需要创建一个存储过程，我们将对这个存储过程执行两个操作，这将在下面解释。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/ddb76ebf196f7c517aecfa94c5c57738.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*HQAu-50W6ivQQEk68FQdoA.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图1.4。存储过程的第一个功能</figcaption></figure><p id="073d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一步用worker表中存储的数据填充最终的表。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/b5404a44a24202d76a9881b5c4036fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*bI0rdOzXjP-Zsi0SQTabpQ.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图1.5。存储过程的第二个功能</figcaption></figure><p id="695a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦数据被转储到最终的表中，为下一次数据转储保持worker表的干净是很重要的。</p><p id="87a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们已经建立了数据库来存储处理过的数据，是时候开始构建我们的应用程序了。</p><p id="c5bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">我们的应用程序如何连接API和数据库？</strong></p><p id="c12e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用spotipy连接到Spotify API，使用sqlalchemy创建数据库连接。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/326ecbf2cba4bf013243c9bed4ee1aed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJuLxIxu5n_2gUYzRHUJUQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图2.1。连接管理器</figcaption></figure><p id="8625" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当处理多个连接请求时，处理不同连接请求的简单类总是很方便。</p><p id="3638" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们已经讨论了不同的连接，如图2.1所示，是时候进入这个项目的主要部分了，是的，你猜对了，是时候创建从Spotify API请求中提取和处理所需信息的架构了。</p><p id="138e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们需要哪些功能来收集和处理提取的数据？</p><p id="52bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">需要明确的是，因为本文的主要焦点是构建flask应用程序，所以我不会详细讨论每个功能。但是，我将在参考资料中分享这篇指导我构建这个应用程序的文章。</p><p id="2f73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，没什么好担心的，我们仍然会讨论每一项功能。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/9b147bbd35655c6c68e027a1a7612871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wzbsQ7volZA97959KnVO9A.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.1。Spotify数据采集器构造</figcaption></figure><p id="1849" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，这是我们的构造函数的样子，如图3.1所示。，我们已经实例化了整个课程中需要的所有变量。在创建这个类的对象时，我们将传递Spotify连接、数据库引擎、艺术家URI和艺术家姓名。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/1a71f244ab815dc09d8474fbeef4b977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M4L1vKnT_ItGgUyCn55GVQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.2。函数从专辑中提取歌曲特征</figcaption></figure><p id="f327" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个非常简单的功能，如图3.2所示，使用专辑《URI》提取歌曲的各种特征。正如我们的数据库表中最初显示的那样，我们需要Spotify中的歌曲特征，如专辑名称、曲目编号、歌曲id、歌曲名称和歌曲URI。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/2bdc6e63c1d39fa4424203ee25b08516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YSgFvbeSoIDC8RGasqGlzQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.3。功能提取专辑歌曲的音频特征</figcaption></figure><p id="8559" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果要进行某种音频分析，我们肯定需要更多关于歌曲的信息，对吗？</p><p id="99b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，谢天谢地，Spotify甚至让我们了解了各种音频分析所需的不同音频功能。我们需要做的就是对Spotify进行正确的API调用。</p><p id="91d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">图3.3所示的函数涵盖了提取专辑中所有曲目的音频特征所需的所有步骤。</p><p id="2ff7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们已经创建了提取我们需要的特征所需的函数，现在开始将它们处理成pandas数据帧，并最终将它们转储到数据库worker表中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/fc0191c3fe9df76b22216af1dfea24d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xd0RQoQZKbkUDvwoOaKEvw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.4.1。函数来调用提取方法</figcaption></figure><p id="beae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">构建数据库表的最终方法的第一部分(图3.4.1)调用提取方法，以便在构造函数中实例化的spotify_albums字典为构建最终的pandas数据帧做好准备。</p><p id="ab85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">只要确保在迭代Spotify专辑时不要过度调用API，我会建议在每5次迭代后调用睡眠功能。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/317c86e9137fbc48cb0be73b100b21b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bvpgWVCR9bE3lsCROhOvig.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.4.2。函数来构建数据帧并将数据转储到worker表中</figcaption></figure><p id="701e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在已经提取了所有的歌曲和音频特征。在我们开始将数据转储到worker表之前，剩下的最后一件事是使用一个字典，并将其扩展到所有相册功能。我们将把这个字典转换成pandas数据帧，因为pandas提供了将数据帧直接转换成SQL表的功能。</p><p id="9017" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里需要注意一些重要的事情:</p><ul class=""><li id="1090" class="kh ki hi is b it iu ix iy jb kj jf kk jj kl jn km kn ko kp bi translated">我们将在数据库中传递我们的工人表的名称，</li><li id="2f4a" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">Sqlalchemy引擎将作为连接被传递(别担心，我也会向您展示那个配置)，</li><li id="3ea5" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">确保保持if_exists='append '，这样就不会在每个会话中创建新表并使用现有表，</li><li id="55c7" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">只要保持index=False，我们这里不需要索引，</li><li id="eefd" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">我们需要插入多个数据，所以我们需要保持method='multi '，</li><li id="2599" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">并将块保持在100的安全大小，这样我们就不会在数据转储时遇到问题。</li></ul><p id="b653" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">既然我们已经将数据转储到worker表中，接下来要做的就是执行一点转换，将worker表中的数据转储到最终的表中。</p><p id="4c6c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你猜怎么着，我们已经有了一个存储过程来处理这个问题。所以，我们需要做的就是调用那个存储过程，对吗？</p><p id="4dda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，让我们看看在连接管理器中创建的sqlalchemy引擎的帮助下，我们可以多么容易地做到这一点。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kv"><img src="../Images/5445719957ab5af6a678799cdec81dd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*kjuCRnmU3BTNg9_um3r1Ew.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图3.5。最终转换的ETL架构</figcaption></figure><p id="0cd2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们已经创建了我们的应用程序所需的整个后端。</p><p id="4d26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好的一面是，所有繁重的工作都完成了，剩下的只是创建一个web应用程序，显然还有几行代码。相信我，有了flask这样的工具，这将是小菜一碟。</p><p id="a84d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们如何构建我们的flask web应用程序？</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/6210e7cdeebc9f44980346ce86e2bbba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*i0hTLeCKzSf0M10STsDPVg.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图4.1。调用依赖关系</figcaption></figure><p id="fe33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们开始构建flask应用程序之前，确保你调用了所有的依赖项，如图4.1所示，然后我们继续构建应用程序。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/e847419639fef341d15f4d309bb589bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3K85TfIe7ORcY7uf98smmg.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图4.2。Flask应用架构</figcaption></figure><p id="b6fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在已经准备好了所有需要的依赖项，现在可以开始构建flask应用程序了。</p><p id="0b8c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们试着简化flask应用程序所需的步骤，如图4.2所示。</p><ul class=""><li id="266c" class="kh ki hi is b it iu ix iy jb kj jf kk jj kl jn km kn ko kp bi translated">创建一个烧瓶应用程序。</li><li id="050f" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">定义__name__变量来运行flask应用程序。</li><li id="b9cb" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">构建一个在运行应用程序时呈现主页的函数，处理这个函数的简单方法是用一个简单的注释路由到由“/”表示的主页。</li><li id="67e2" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">构建一个函数，该函数以请求的形式从web页面接收用户输入，并调用上面解释的后端操作。我们的extract方法正是这样做的，并再次确保用web页面扩展注释该方法，用“/extract”表示。</li><li id="13a8" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">最后，为了给出extract方法的功能概述，它接受一个用户输入，查询Spotify API，使用在连接管理器中创建的Spotify连接，提取一个曲目的所有项目的所有艺术家URI和艺术家姓名，将它们存储在字典中，如图4.2所示。，为字典中的每一项调用SpotifyDataHarvester，将数据转储到worker表中，最后当worker表准备好时，调用ETL来构建最终的表。</li><li id="aa27" class="kh ki hi is b it kq ix kr jb ks jf kt jj ku jn km kn ko kp bi translated">现在留给你的就是为这个应用程序设计和构建一个用户界面。关于我使用的UI设计，你可以参考下面提到的我的GitHub库。</li></ul><p id="1c5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">phewww……..代码太多了，不是吗？</p><p id="ad2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，在我们进入正题之前，给自己一点安静的时间。</p><p id="1a88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我相信你已经知道该做什么了。</p><p id="9eaa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，你完全正确！</p><p id="c59a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是时候测试我们的应用程序了。所以，让我们完成它吧。</p><p id="230b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">最终应用测试</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/4f6cf0448cd7825ecdee81c0407c1039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kb8sFDzJa4Y1Oo9Byv_onA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.1。主屏幕</figcaption></figure><p id="5488" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好的……我们的应用程序看起来不错，主页加载没有任何问题。让我们尝试为一条赛道收集一些数据。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/ec1cf4d5e7e35374d3bc99e8b8bb41d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5RfzGg3sEo9i7CuyQgzhvw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.2。正在收割</figcaption></figure><p id="196f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，收获已经开始了，让我们快速看看控制台屏幕后面发生了什么。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/820e1eff01bec7d08522d9f430708a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVZJChfQ0ijFAbPRzEuToA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.3。后端处理控制台屏幕</figcaption></figure><p id="f71c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看起来数据提取进行得很顺利，一些数据已经被转储到工作表中。天啊。难道你不喜欢这些小印刷声明吗……</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/b7c82a8f7a610656908490712406a663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FC3ABoGhRaPXC8d3yj30Aw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.4。收割完成屏幕</figcaption></figure><p id="a6b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，收获完成了，我们得到了我们甜蜜的小信息。</p><p id="e4a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是时候看看我们的最终表是否被填充了，另外正如我们前面讨论的，worker表应该在每次收获后被截断。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/5ec00e4c694a5613468d0fe28849c83e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c1j4JJ-MP596IzkQlbrNKQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.5.1。最终表格</figcaption></figure><p id="32f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">啊哈..我们已经填充了最终表，让我们确保worker表被截断，在我们结束并庆祝所有的辛勤工作之前，我们刚刚完成了。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/df28050985ce1dc837ec5f3f41b10874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mk0U53XYCY76-2hH-2NaTA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">图5.5.2。工人表</figcaption></figure><p id="3799" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，worker表在收获后被截断，这是意料之中的。</p><p id="6ca6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">天哪，这是一次漫长的旅行，不是吗…？</p><p id="f849" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，非常感谢你这么久以来一直关注我。</p><p id="6d5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这个应用程序将有助于减轻平凡的数据采集过程，你会更喜欢开始享受数据采集…</p><p id="9527" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在下面提到的我的GitHub资源库中找到完整的项目，</p><p id="14e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae le" href="https://github.com/AnkitRajSri/Music_Data_Extractor" rel="noopener ugc nofollow" target="_blank">https://github.com/AnkitRajSri/Music_Data_Extractor</a></p><p id="e290" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">收获快乐…..</p><p id="26c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">参考文献:</strong></p><div class="lf lg ez fb lh li"><a rel="noopener follow" target="_blank" href="/better-programming/how-to-extract-any-artists-data-using-spotify-s-api-python-and-spotipy-4c079401bc37"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">如何使用Spotify的API、Python和Spotipy提取任何艺术家的数据</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">导航Spotify的Web API和访问其数据的快速指南</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">medium.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw io li"/></div></div></a></div><p id="1a6e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae le" href="https://rareloot.medium.com/extracting-spotify-data-on-your-favourite-artist-via-python-d58bc92a4330" rel="noopener">https://rare loot . medium . com/extracting-Spotify-data-on-your-favorite-artist-via-python-d 58 BC 92 a 4330</a></p></div></div>    
</body>
</html>