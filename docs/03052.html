<html>
<head>
<title>Send Email with Gmail, Python, and Flask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Gmail、Python和Flask发送电子邮件</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/send-email-with-gmail-python-and-flask-1810c25cf5f5?source=collection_archive---------11-----------------------#2020-01-14">https://medium.com/analytics-vidhya/send-email-with-gmail-python-and-flask-1810c25cf5f5?source=collection_archive---------11-----------------------#2020-01-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4c4d09cb2ae161f70b8cd97fae249c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FVQi12ZncNnKT0i0mtIFsg.png"/></div></div></figure><p id="3b08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你需要什么？</p><ul class=""><li id="b5e2" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">Python(我用的是Python 3.6.4)</li><li id="f221" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae kc" href="https://pypi.python.org/pypi/pip" rel="noopener ugc nofollow" target="_blank"> Pip </a>用于安装依赖项</li><li id="4e55" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae kc" href="https://virtualenv.pypa.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> Virtualenv </a></li><li id="7bb8" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae kc" href="https://accounts.google.com/SignUp" rel="noopener ugc nofollow" target="_blank">一个Gmail账户</a>(没有两步验证，允许不安全的应用)</li></ul><p id="258f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先进入你的项目文件夹，打开终端，输入<strong class="is hj"> <em class="kd"> virtualenv venv </em> </strong>，这将为我们的项目创建一个虚拟环境。然后我们需要激活virtualenv，如果你使用的是Mac或者Linux你可以在终端输入<strong class="is hj"><em class="kd">source env/bin/activate</em></strong>来激活。如果你使用的是windows类型<strong class="is hj"><em class="kd">source env/scripts/activate。</em>T19】</strong></p><p id="575e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们需要安装<strong class="is hj"> <em class="kd">烧瓶邮件。</em> </strong></p><p id="21cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，在终端类型<strong class="is hj"> <em class="kd"> pip中安装Flask-Mail。</em> </strong>之后，我们就可以开始编码了。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="1a90" class="kn ko hi kj b fi kp kq l kr ks">from flask import Flask, jsonify<br/>from flask_mail import Mail, Message<br/><br/>app = Flask(__name__)<br/><br/>mail_settings = {<br/>    "MAIL_SERVER": 'smtp.gmail.com',<br/>    "MAIL_PORT": 465,<br/>    "MAIL_USE_TLS": False,<br/>    "MAIL_USE_SSL": True,<br/>    "MAIL_USERNAME": 'YOUR_GMAIL',<br/>    "MAIL_PASSWORD": 'YOUR_PASSWORD'<br/>}<br/><br/>app.config.update(mail_settings)<br/>mail = Mail(app)</span><span id="5d5b" class="kn ko hi kj b fi kt kq l kr ks">app.config.update(mail_settings)</span><span id="b5e4" class="kn ko hi kj b fi kt kq l kr ks">mail = Mail(app)</span></pre></div><div class="ab cl ku kv gp kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hb hc hd he hf"><p id="d44f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些是配置。现在我要做的是，当用户请求Get request "/ <string: email="">"时，我们将向用户发送请求电子邮件。这是代码，</string:></p><p id="89d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，创建一个app.py文件，粘贴这段代码，输入你的Gmail和密码。</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/c6fdd7170d5e82b835caeeea501fa432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CwVVQ-QSK8EFAXk_xPwclg.png"/></div></div></figure><p id="9c84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后需要在终端使用<strong class="is hj"> <em class="kd"> python app.py </em> </strong>运行app。</p><p id="26ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">可以用postman做Http请求，测试app。</p><p id="2ca6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样。享受Python。</p><p id="99ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>