<html>
<head>
<title>Network Intrusion detection system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络入侵检测系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/network-intrusion-detection-system-4bab3e5baccb?source=collection_archive---------7-----------------------#2020-07-09">https://medium.com/analytics-vidhya/network-intrusion-detection-system-4bab3e5baccb?source=collection_archive---------7-----------------------#2020-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e1ffa01cc9d0b27b7ec9ade70606997c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pfYUvHBh0IKmVwFGMTHBkA.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源谷歌</figcaption></figure><div class=""/><div class=""><h2 id="efab" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">端到端项目</h2></div><p id="d22e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我把这个博客分成三个部分:</p><ul class=""><li id="8375" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">第一部分:在这里我们将了解案例研究的所有基础，比如现实世界的商业问题，以及如何将它转化为一个ML问题。</li><li id="27e2" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jo hy">第二节</strong>:该节专门用于探索性数据分析。</li><li id="929a" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jo hy">第三节</strong>:这里我们将讨论ML模型和一些特征工程技术。</li></ul><h1 id="9fe0" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">第一节</h1><h1 id="acf2" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.(现实世界问题到机器学习问题)</h1><p id="a19a" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">在本节中，我们将尝试回答所有这些问题</p><ol class=""><li id="87bf" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh lt ko kp kq bi translated"><em class="lu">我们首先想到的是</em> <strong class="jo hy"> <em class="lu">什么是网络入侵，我们为什么要关心？</em>T11】</strong></li></ol><p id="1a23" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="lu"> 2。我们要如何把这个当作一个</em> <strong class="jo hy"> <em class="lu">机器学习问题</em> </strong> <em class="lu">？</em></p><p id="b497" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> <em class="lu"> 3。我们ML任务的数据来源</em> </strong> <em class="lu">？</em></p><p id="a986" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="lu"> 4。我们应该从我们的ML模型(</em> <strong class="jo hy"> <em class="lu">目标和约束</em> </strong> <em class="lu">)中期待什么，以及我们如何</em> <strong class="jo hy"> <em class="lu">衡量</em> </strong> <em class="lu">它们？</em></p><p id="422a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="lu"> 5。一.我们要如何使用</em> <strong class="jo hy"> <em class="lu">机器学习</em> </strong> <em class="lu">？<br/>二。</em> <strong class="jo hy"> <em class="lu">现有的方法有哪些</em> </strong> <em class="lu">？<br/> iii。</em> <strong class="jo hy"> <em class="lu">我的方法</em> </strong> <em class="lu">对于这个问题</em></p><p id="1713" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="lu"> 6。如何将</em> <strong class="jo hy"> <em class="lu">这个问题公式化为机器学习问题</em> </strong> <em class="lu">？</em></p><h1 id="db96" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.1:什么和为什么(现实世界/业务问题)</h1><ul class=""><li id="f968" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">网络入侵是计算机网络上任何未经授权的活动。未经授权的活动或异常网络活动威胁着用户的隐私，并可能破坏整个网络的功能和基础设施。</li><li id="3c86" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我们需要NIDS，因为它对网络安全至关重要，使我们能够检测和响应恶意流量。NIDS的主要目的是确保IT人员在攻击或网络入侵可能发生时得到通知。</li></ul><h1 id="1324" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.2:问题陈述(机器学习问题)</h1><ul class=""><li id="0b5a" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">入侵检测器的学习任务是建立一个预测模型(即分类器),能够区分称为入侵或攻击的不良连接和正常的良好连接。</li></ul><h1 id="0962" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.3:数据来源:</h1><ul class=""><li id="00fb" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">这里使用的数据集是NSL KDD(KDD-cup 99的新版本)。</li><li id="60b8" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我们可以很容易地从这个链接下载数据集:<a class="ae ly" href="https://www.unb.ca/cic/datasets/nsl.html" rel="noopener ugc nofollow" target="_blank">https://www.unb.ca/cic/datasets/nsl.html</a></li></ul><h1 id="29af" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.4:机器学习的目标和约束，以及我们如何衡量它们</h1><p id="76fa" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated"><strong class="jo hy">目的:</strong>给定一个数据点分类器，它是否是攻击- &gt;二进制分类</p><p id="6bc7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">约束:</strong></p><ol class=""><li id="3f19" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh lt ko kp kq bi translated">合理的延迟</li><li id="1eaa" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh lt ko kp kq bi translated">可解释性</li></ol><p id="bd97" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">我们关心的KPI(关键绩效指标)</strong></p><ul class=""><li id="2c4d" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">罗马纪元</li><li id="c0ae" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">f1分数</li><li id="b273" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">二元混淆矩阵</li><li id="7ea8" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">检测率——它只不过是召回率</li></ul><p id="f12d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">看到度量标准后，会出现一个问题，为什么是这些度量标准？</p><ul class=""><li id="09b8" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">AUC:众所周知，当我们有两类分类问题时，AUC是一个很好的选择，因为它告诉我们分类点的机会(百分比)。</li><li id="181d" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">f1分数和检测率已经被用于几乎每篇论文和人们的工作中，这是有原因的，因为我们希望这项任务具有高精度和高召回率，这意味着f1分数是合适的。检测率无非是召回值。</li><li id="b352" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">二元混淆矩阵:对于解释来说，这个度量将帮助我们。</li></ul><h1 id="5770" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.5:(一)机器学习的使用:</h1><ul class=""><li id="2472" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">在本案例研究中，我使用了机器学习模型来对攻击与否进行分类。为此，我们使用了ml模型，如朴素贝叶斯、逻辑回归、决策树等等，我们将在后面的部分中探讨这些模型。</li></ul><h1 id="9080" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">㈡现有方法:</h1><ul class=""><li id="2df1" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">清洗后，预处理和一些EDA人员消除了一些无用的特征，并尝试了不同的模型，如支持向量机，逻辑回归等，准确性作为他们的衡量标准</li></ul><h1 id="28a9" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">㈢我的方法:</h1><ul class=""><li id="8925" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">我还做了清理、预处理和EDA，为了消除特征，我使用了递归特征消除，并尝试了不同的基本ML模型和一些定制模型。采用auc作为度量，因为当我们有不平衡的数据时，它不适合使用准确性。</li></ul><h1 id="dba3" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.6:机器学习问题公式</h1><h2 id="708b" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">1.6.1:数据概述</h2><p id="5a39" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">我们有两个数据集</p><ul class=""><li id="d476" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">训练数据:它有125973个数据点和42个特征</li><li id="6cb9" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">测试数据:它有42个特征的22544个数据点</li></ul><p id="8ac5" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">下面是关于数据集<a class="ae ly" href="http://kdd.ics.uci.edu/databases/kddcup99/task.html" rel="noopener ugc nofollow" target="_blank">http://kdd.ics.uci.edu/databases/kddcup99/task.html</a>的详细描述</p><h2 id="1884" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">示例数据点</h2><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h1 id="ff7f" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">1.6.2将现实世界的问题映射到ML问题</h1><h2 id="4daf" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">1.6.2.1型机器学习问题</h2><p id="ce1f" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">我们需要将攻击或正常分为两类-&gt;这是一个二元分类任务</p><h1 id="8f9d" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">第二节</h1><h1 id="43c9" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.探索性数据分析</h1><p id="ad0d" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">为了方便起见，我没有公布所有的代码，如果你想要所有的代码，请随时访问我的github链接。</p><div class="hh hi ez fb hj mt"><a href="https://github.com/Jitendra-Dash/Network-Intrusion-detection-system" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hy fi z dy my ea eb mz ed ef hw bi translated">jitendra-Dash/网络入侵检测系统</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码、管理项目和构建…</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh hp mt"/></div></div></a></div><p id="2257" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">本节涵盖的内容</p><ul class=""><li id="0fe3" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">读取数据</li><li id="a372" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">单变量分析</li><li id="9836" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">双变量分析</li><li id="eef0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">多变量分析</li></ul><h1 id="1dde" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.1读取数据</h1><h2 id="1160" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">读取列车数据</h2><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="076f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ni"><img src="../Images/6ed6cd0623f0d05b2cc0b0729fe9fff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kEJQDezRfgZPIKQaRZ4nA.png"/></div></div></figure><p id="c411" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">有一个额外的功能出现在43号栏，这是没有用的，所以让我们删除它。</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="068d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="895d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">训练数据的形状(125973，42) <br/>数据点数125973 <br/>特征数42</p><h2 id="fd6c" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">读取测试数据</h2><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="6e40" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="6418" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">测试数据的形状(22544，42) <br/>数据点数22544 <br/>特征数43</p><h1 id="9d7f" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.1.3:给攻击加上类别标签</h1><h2 id="2200" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">正常:0</h2><h2 id="3218" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">所有其他攻击:1</h2><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><h2 id="3e3e" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">列车数据类别标签分布</h2><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/d14845eae5ae4f530d64a63059333eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltPEZfMA5S1uT5LRHuSktQ.png"/></div></div></figure><h2 id="9a76" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">测试数据类别标签分布</h2><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nk"><img src="../Images/0dda4ea87b0f14089908004a8cce752d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rPVcswS4UMBYW11nkA-Ag.png"/></div></div></figure><p id="18f0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><ul class=""><li id="465b" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">在训练和测试数据集中有42个特征</li><li id="80fd" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">15个浮点值、23个整数值和4个对象值</li><li id="aca8" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">看起来我们没有空值，但是我们会再次检查。</li><li id="39b7" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在分布图中:训练数据集的0类数据点多于1类数据点，测试数据集的1类数据点多于0类数据点</li></ul><h1 id="6c81" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.2数据清理</h1><h2 id="079b" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">检查重复值</h2><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="cc6b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> (125973，43)</p><h2 id="c9bd" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">检查空值</h2><pre class="mn mo mp mq fd nl nm nn no aw np bi"><span id="78ea" class="lz kx hx nm b fi nq nr l ns nt">null_rows = train_data[train_data.isnull().any(1)]</span></pre><p id="ad95" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="ce35" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">不存在重复值</li><li id="3cf1" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我们没有空值</li></ul><h1 id="1ad8" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.3攻击在数据集中的分布</h1><h2 id="c03d" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">2.3.1:列车数据</h2><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nu"><img src="../Images/6f30ed4188d56fb35ebf0cec70bb9731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ItkD3hPtfvBfN-wWMRXtGQ.png"/></div></div></figure><p id="d274" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">从上面的图中，我们没有得到太多的信息，所以让我们打印出来，这样我们可以得到更清晰的图片。</p><p id="080c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">属于每个类别的数据点</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="5602" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出</strong></p><p id="009c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">第一类数据点数:67343 ( 53.458 %) <br/>第二类数据点数:41214 ( 32.717 %) <br/>第三类数据点数:3633 ( 2.884 %) <br/>第四类数据点数:3599 ( 2.857 %) <br/>第五类数据点数:2931 ( 2.327 %) <br/>第六类数据点数 <br/>第7类数据点数:1493 ( 1.185 %) <br/>第8类数据点数:956 ( 0.759 %) <br/>第9类数据点数:892 ( 0.708 %) <br/>第10类数据点数:890 ( 0.707 %) <br/>第11类数据点数:201 ( 0.16 %) <br/>第12类数据点数:53 <br/>第13类数据点数:30 ( 0.024 %) <br/>第14类数据点数:20 ( 0.016 %) <br/>第15类数据点数:18 ( 0.014 %) <br/>第16类数据点数:11 ( 0.009 %) <br/>第17类数据点数:10 ( 0.008 %) <br/>第18类数据点数:9 ( 0 <br/>第19类数据点数:8 ( 0.006 %) <br/>第20类数据点数:7 ( 0.006 %) <br/>第21类数据点数:4 ( 0.003 %) <br/>第22类数据点数:3 ( 0.002 %) <br/>第23类数据点数:2 ( 0.002 %)</p><p id="4925" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="29f4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在上面的图中，我们有23种不同类型的攻击及其分布:</p><ul class=""><li id="ddd0" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">正如我们在上面看到的，数据集不是均匀分布的</li><li id="74b7" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">有许多攻击的数据点非常少，有些攻击，如normal和Neptune，它们都有85%的数据点，而不是100%的数据点</li><li id="a417" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">23次攻击中有16次攻击的数据点低于1%</li></ul><p id="676b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">从上面的观察我们可以看到:正常有53.5%的数据点，所有其他22类有46.5%的数据点</p><p id="fcab" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我们得到了一个不平衡的数据集</p><h1 id="a7c5" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">测试数据</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nv"><img src="../Images/0a660a19037440d2884f9ff9d0807fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V-d5P-gEXZiHN2KI9vPTrQ.png"/></div></div></figure><p id="6764" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">属于每个类别的数据点</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="6aae" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出</strong></p><p id="64e4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">第一类数据点数量:9711 ( 43.076 %) <br/>第二类数据点数量:4657 ( 20.657 %) <br/>第三类数据点数量:1231 ( 5.46 %) <br/>第四类数据点数量:996 ( 4.418 %) <br/>第五类数据点数量:944 ( 4.187 %) <br/>第六类数据点数量:737 ( 3 . <br/>第7类数据点数:735 ( 3.26 %) <br/>第8类数据点数:685 ( 3.039 %) <br/>第9类数据点数:665 ( 2.95 %) <br/>第10类数据点数:359 ( 1.592 %) <br/>第11类数据点数:331 ( 1.468 %) <br/>第12类数据点数:319 <br/>第13类数据点数量:293 ( 1.3 %) <br/>第14类数据点数量:178 ( 0.79 %) <br/>第15类数据点数量:157 ( 0.696 %) <br/>第16类数据点数量:141 ( 0.625 %) <br/>第17类数据点数量:133 ( 0.59 %) <br/>第18类数据点数量:73 ( 0 <br/>第19类数据点数:41 ( 0.182 %) <br/>第20类数据点数:20 ( 0.089 %) <br/>第21类数据点数:18 ( 0.08 %) <br/>第22类数据点数:17 ( 0.075 %) <br/>第23类数据点数:15 ( 0.067 %) <br/>第24类数据点数:14 ( 0 <br/>第25类数据点数:13 ( 0.058 %) <br/>第26类数据点数:13 ( 0.058 %) <br/>第27类数据点数:12 ( 0.053 %) <br/>第28类数据点数:9 ( 0.04 %) <br/>第29类数据点数:7 ( 0.031 %) <br/>第30类数据点数:4(0.013 <br/>第31类数据点数:3 ( 0.013 %) <br/>第32类数据点数:2 ( 0.009 %) <br/>第33类数据点数:2 ( 0.009 %) <br/>第34类数据点数:2 ( 0.009 %) <br/>第35类数据点数:2 ( 0.009 %) <br/>第36类数据点数:2 ( 0.009 %) <br/>第37类中的数据点数:2 ( 0.009 %) <br/>第38类中的数据点数:1 ( 0.004 %)</p><p id="fe40" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="b825" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">在测试数据中有一个有趣的事情，我们有38个类。这一点以前没有注意到。</li><li id="b2ab" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">这里也正常和海王星类有更多的数据点</li><li id="6ba8" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">同一个故事数据不统一</li><li id="5d13" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">数据集不平衡</li></ul><h1 id="0dab" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.3.3不在列车数据中的攻击</h1><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="c974" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> {'mailbomb '，' sqlattack '，' apache2 '，' udpstorm '，' snmpgetattack '，' ps '，' xterm '，' snmpguess '，' worm '，' mscan '，' processtable '，' saint '，' named '，' xsnoop '，' httptunnel '，' sendmail '，' xlock ' }<br/>* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *<br/>额外攻击次数:17</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="a46d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="2b96" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">{'neptune '，' ftp_write '，' teardrop '，' imap '，' nmap '，' multihop '，' portsweep '，' land '，' perl '，' guess_passwd '，' pod '，' normal '，' back '，' smurf '，' buffer_overflow '，' satan '，' rootkit '，' ipsweep '，' loadmodule '，' phf '，' ware master ' }<br/>* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *，在训练和测试数据21中都存在攻击</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="a601" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong>出现在训练中而不在测试数据中的攻击{'spy '，' warezclient'}</p><p id="d964" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="afa1" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">我们在测试数据中有17个额外的类</li><li id="6182" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">测试和训练数据集中存在21种攻击</li><li id="e514" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">有两个类别不存在于测试数据中，但存在于训练数据中，即:“间谍”、“仓库客户”</li></ul><h1 id="f7f3" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.4分类特征的单变量分析</h1><p id="d211" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">为了分析这些分类特征，我们将提出几个问题，例如</p><ul class=""><li id="b9af" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">给定特性中有多少个类别？</li><li id="cfc3" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">给定特征的分布？</li><li id="2de1" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">如何特征化范畴特征？</li><li id="ebf0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">这个protocol_type特性在预测y_i方面有多好？</li></ul><h1 id="7b1a" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.4.1协议类型的单变量分析</h1><p id="7c62" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated"><strong class="jo hy"> [i]此功能中有多少个类别</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="3467" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="ef57" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">唯一协议类型的数量:3<br/>TCP 102689<br/>UDP 14993<br/>icmp 8291<br/>名称:协议类型，数据类型:int64</p><p id="1083" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="7920" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">我们在训练数据中有3个不同类别的原型类型，即:TCP、UDP和ICMP</li><li id="ba96" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">很多点属于tcp，而udp和icmp的点较少</li></ul><p id="e85e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【二】该特征的分布</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/f3d64c45f9f12416be452b10a5daeb31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvUv1OsTNbBsPpY10eST6g.png"/></div></div></figure><p id="7964" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="7479" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">训练数据中有许多点属于tcp协议类型(102689)。普通类和攻击类只有在tcp方面是一致的。</li><li id="1725" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">大多数udp原型属于正常类，也有少数点属于攻击类。</li><li id="5ccb" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在icmp协议类型中，大多数点属于攻击类别。</li></ul><p id="2923" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【iii】使用一个热编码的特征</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="dea5" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong>train _ protocol _ type _ encoding是使用一键编码方法转换的特征。基因特征的形状:(125973，3)</p><p id="d321" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【iv】这个protocol_type特征对y_i的预测有多好？</strong></p><p id="4a90" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">为了回答这个问题，将建立一个决策树模型，该模型仅使用协议类型特征(一个热编码)来预测y_i</p><ul class=""><li id="1b49" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">构建具有超参数调整的决策树仅使用该特征，我们发现最佳超参数是max_depth = 10，min_samples_split =10。</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/3d8734df0b36d9ee8670df72ff7f1404.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*Q2K4LmwGQWQL3xAcmo8vxQ.png"/></div></figure><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="270e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="ecd1" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">重要特性:<br/>UDP 0.59247<br/>TCP 0.40753<br/>icmp 0.00000</p><p id="a942" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="4cfa" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">通过仅使用该特征，我得到了58的auc分数，由此我们知道，当我们使用所有特征建立实际模型时，该特征可能有助于预测yi。</li><li id="6b96" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">建模认为最重要的类别是udp，而icmp一点也不重要</li></ul><h1 id="8e34" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.4.2服务的单变量分析</h1><p id="cf06" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated"><strong class="jo hy"> [i]此功能中存在多少个类别</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="f3c1" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="fcf4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">唯一服务数量:70<br/>http 40338<br/>private 21853<br/>domain _ u 9043<br/>SMTP 7313<br/>FTP _ data 6860<br/>Name:service，dtype: int64</p><p id="89b0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="cfdf" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">有两种服务http和private比其他服务有更多的数据点。</li></ul><p id="d255" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【二】该特征的分布</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nx"><img src="../Images/e22868f8f7244c60741f20aa5b6caadf.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*Tsa2JIjcPJYzykuNNQsaOw.png"/></div></figure><p id="2554" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="d0e9" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">这是一个偏态分布</li><li id="3823" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">很少有服务发生得更多，大多数服务发生得更少。</li><li id="266b" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在这种分布中，从左到右按降序(频率)服务。</li><li id="4d43" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">第0个索引包含http，第1个索引包含private等。</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ny"><img src="../Images/d77391309d5ecbb1ed5e3b05ce314fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*I1KbAcHlzGxvHtkO5g_C3w.png"/></div></div></figure><p id="12dc" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="7d74" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">前20到25个服务贡献了90%的数据，这意味着这些服务比其他服务出现得更频繁。</li></ul><p id="3230" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> [iii]使用一个热编码的特征</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="c447" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> train_service_encoding是使用一键编码方法转换的特征。基因特征的形状:(125973，70)</p><p id="12d3" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【iv】这个protocol_type特征对y_i的预测有多好？</strong></p><p id="0678" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">为了回答这个问题，将建立一个决策树模型，该模型仅使用协议类型特征(一个热编码)来预测y_i</p><ul class=""><li id="feb7" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">构建具有超参数调整的决策树仅使用该特征，我们发现最佳超参数是max_depth = 5，min_samples_split = 5。</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/8ca26b1e4db8275e9611b21444dc1c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*yik1uXZ_ODQ0R0TL4cfWDA.png"/></div></figure><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="d6af" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="3d96" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">顶级重要特性:<br/>http 0.463210<br/>domain _ u 0.203939<br/>SMTP 0.183398<br/>FTP _ data 0.102040<br/>其他0.047413<br/>nntp 0.000000<br/>NTP _ u 0.00000<br/>pm _ dump 0.000000<br/>pop</p><p id="f93e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="f072" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">通过仅使用这一单一特征，我的模型给出了87个测试auc值，这非常有趣</li><li id="1a43" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">70个特征中，只有5个是重要。</li><li id="5e95" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">此信息可能对特征工程有用(我们可以删除值为0.0的特征)</li></ul><h1 id="8023" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.4.3对Flag的单变量分析</h1><p id="36b3" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated"><strong class="jo hy"> [i]此功能中有多少个类别</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="4e60" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong>唯一旗帜数量:11<br/>SF 74945<br/>S0 34851<br/>REJ 11233<br/>RSTR 2421<br/>RSTO 1562<br/>名称:旗帜，数据类型:int64</p><p id="0883" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【二】该功能的分布</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/25e3f453eca60c73f7753fc997d9599f.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*ynzeDp8Tm1BeOkGRLfew_w.png"/></div></figure><p id="b7f7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><ul class=""><li id="944d" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">有3-4个标志出现的次数更多</li><li id="e077" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">偏斜分布</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nz"><img src="../Images/711cefc33276b0c8bf16760cc5d541d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*E3mi4iy53X__9KzKG4tORw.png"/></div></div></figure><p id="36c7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="814e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在10个标记中，4个标记贡献了98 -99%数据，这4个标记出现得更频繁。</p><p id="b17a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【iii】使用一个热编码的特征</strong></p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="0300" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> train_flag_encoding是使用一键编码方法转换的特征。基因特征的形状:(125973，11)</p><p id="0103" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">【iv】这个protocol_type特征在预测y_i方面有多好？</strong></p><p id="27e4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">为了回答这个问题，将建立一个决策树模型，该模型仅使用协议类型特征(一个热编码)来预测y_i</p><ul class=""><li id="4f24" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">构建具有超参数调整的决策树仅使用该特征，我们发现最佳超参数是max_depth = 5，min_samples_split = 10。</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/951680c71c4351e81a2cb80023164bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*puEEzDH-E--F2E1GBpBwvw.png"/></div></figure><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="b46d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong></p><p id="f15b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">重要特性:<br/>SF 0.954620<br/>s0 0.026476<br/>S1 0.011691<br/>S2 0.003657<br/>rej 0.003556<br/>oth 0.000000<br/>rsto 0.000000<br/>rstos 0.000000<br/>rstr 0.00000【T13</p><p id="f156" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="9699" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">通过观察训练和测试auc值，该模型可能过度拟合，但是我们有78个测试auc值，这表明该模型将是有帮助的</li><li id="29c4" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">有一个类别是最重要的:“科幻”这个类别本身就有95的价值。</li></ul><h1 id="b09b" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.5对一些连续特征的单变量分析</h1><h2 id="cd01" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">持续时间</h2><p id="413a" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">连接的长度(秒数)</p><p id="060c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">小提琴剧情</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/8ac06cb96bd53af732c9f9ed8b7e496b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7KnGj0cmQf3uG1yD_r4HQ.png"/></div></div></figure><p id="47f0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">箱线图</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nj"><img src="../Images/9a5257cb1167d641af044e145cc09d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36kE9z1ssRI5SbTRHhG3Ng.png"/></div></div></figure><p id="7647" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="641b" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">均值、中值、第25、第50、第75百分位太小，无法分析，因为大部分持续时间为0</li><li id="3056" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">让我们看看0到100%的值</li></ul><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="2bf7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> <br/> 0百分位值0 <br/> 10百分位值0 <br/> 20百分位值0 <br/> 30百分位值0 <br/> 40百分位值0 <br/> 50百分位值0 <br/> 60百分位值0 <br/> 70百分位值0 <br/> 80百分位值0 <br/> 90百分位值0 <br/> 100百分位值42908</p><p id="160e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="1aef" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">大约90%的持续时间值为0</li><li id="34ce" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我们可以在100%中看到很多价值</li><li id="20a6" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">所以让我们看看从90%到100%之间</li></ul><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="2ebb" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> 90个百分点值为0 <br/> 91个百分点值为0 <br/> 92个百分点值为0 <br/> 93个百分点值为1 <br/> 94个百分点值为2 <br/> 95个百分点值为4 <br/> 96个百分点值为15 <br/> 97个百分点值为31 <br/> 98个百分点值为2052 <br/> 99个百分点值为9592 <br/> 100个百分点值为4299</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="c9b9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> 99.0百分位值9592 <br/> 99.1百分位值10910 <br/> 99.2百分位值12666 <br/> 99.3百分位值13858 <br/> 99.4百分位值16693 <br/> 99.5百分位值19981 <br/> 99.6百分位值25761 <br/> 99.7百分位值</p><p id="b9d3" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="ada6" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">持续时间值从90%开始增加。</li><li id="e30c" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">如果我们观察类标签1的小提琴图，有一些值可能高达2k到3k</li><li id="c484" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">从99.0到100%，该值急剧增加..这些值可能是异常值。</li></ul><h1 id="b486" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.5.2 .src _字节</h1><p id="8df9" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">从源到目的地的数据字节数</p><p id="73bd" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">小提琴剧情</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oa"><img src="../Images/324387ef50cd893142ba40a31ac9e2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CA-QixzignR7XNBdVrPPug.png"/></div></div></figure><p id="33ec" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="5fdc" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">对于标签0和1都很难分析。但是需要注意的一点是，1类攻击比0类攻击具有更大的价值，这是正常的</li></ul><p id="3623" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">方块剧情:</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oa"><img src="../Images/7c0030d6bb86a3899fa51a65c82f6607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOQNl1GL4xMQ3mu7uRdaTw.png"/></div></div></figure><p id="4315" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="bca8" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">从这个箱形图中，我们可以看到从第25到第75百分位的所有值都为零。这很难解释。</li><li id="b2d5" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">让我们再次放大src_bytes的百分比值。</li></ul><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="a108" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> 0百分位值为0 <br/> 10百分位值为0 <br/> 20百分位值为0 <br/> 30百分位值为0 <br/> 40百分位值为1 <br/> 50百分位值为44 <br/> 60百分位值为192 <br/> 70百分位值为235 <br/> 80百分位值为307 <br/> 90百分位值为848 <br/> 100百分位值为137999</p><p id="e527" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="c7c9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">正如我们可以看到的，从90%到100 %有一个很大的跳跃</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="2af8" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> 90百分位值为848 <br/> 91百分位值为1006 <br/> 92百分位值为1032 <br/> 93百分位值为1087 <br/> 94百分位值为1264 <br/> 95百分位值为1480 <br/> 96百分位值为1830 <br/> 97百分位值为2974 <br/> 98百分位值为8737<br/>98</p><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="0dd0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong> 99.0百分位值为54540 <br/> 99.1百分位值为54540 <br/> 99.2百分位值为54540 <br/> 99.3百分位值为54540 <br/> 99.4百分位值为54540 <br/> 99.5百分位值为54540 <br/> 99.6百分位值为175337 <br/> 99 .</p><p id="2188" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="81ae" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">相当于1.28GB的1379963888字节从源到目标的100 %价值巨大。</li></ul><p id="d8ac" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">已经对dst字节和错误片段进行了类似分析</p><h1 id="7853" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.6双变量分析(配对图)</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ob"><img src="../Images/2a8cfa02b228e30f8a5f1c11ad506780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aPnhaCi8xGPHylKsgFRHKA.png"/></div></div></figure><p id="7bf5" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="ee66" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">如果我们观察dst_host_count和dst_host_same_srv_rate特性，会发现它们有一些点(不完全)但部分分离，但也有一些重叠点。</li><li id="21a0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">dst_hst_srv_count和dst_host_count在中间也有一些重叠，一些数据点是部分可分离的</li><li id="9fb7" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">如果我们看这四个特征的pdf</li><li id="1a1f" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu"> srv_diff_host_rate:类0的值高于类1的值</em></li><li id="d412" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu"> dst_host_count:整个类1都被放置并具有比类0高得多的值</em></li><li id="ee2d" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu"> dst_host_srv_count:类1和类0之间有一些重叠区域，类1的值高于类0。</em></li><li id="a01d" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">dst_host_same_srv_rate:看起来类1和类0是分开，但是有很多重叠的数据点。让我们尝试分析dst_host_srv_count和dst_host_same_srv_rate。</li></ul><p id="fb17" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">"<strong class="jo hy"> dst_host_srv_count </strong>"</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oc"><img src="../Images/4f7b1d34e3315d541ff73425665cbb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvi4XSSz3hY6sjwiDevTvQ.png"/></div></div></figure><p id="d5cc" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="d2b1" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">这两把小提琴没有完全重叠，这个"<strong class="jo hy"> dst_host_srv_count </strong>"特征在分类中可能是有用的</li></ul><p id="fca9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> dst_host_same_srv_rate </strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oc"><img src="../Images/4f7b1d34e3315d541ff73425665cbb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvi4XSSz3hY6sjwiDevTvQ.png"/></div></div></figure><p id="4c2f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="2358" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">这里，这两个类别也没有完全重叠(就第25、50和75百分位而言)，因此在dst_host_same_srv_rate中存在一些可分离性。</li></ul><h1 id="03d2" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">2.7使用TSNE的多变量分析</h1><p id="a616" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">这里我们尝试将32dim(连续变量)到2dim的数据可视化。</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es od"><img src="../Images/97e34c68d48acf310737f921bff85f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*9WJfLKBqEIwFx7fHLz75Ng.png"/></div></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es oe"><img src="../Images/8f3f6cd869841bf1771b0dd529b63898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*XBsNHFGZ_RWEtGEkzNFxWQ.png"/></div></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es od"><img src="../Images/79b73639638b832af8e3c0bfa2a85339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*mh7OhVBr_BImztWND97Dkg.png"/></div></figure><p id="e1fa" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察</strong></p><ul class=""><li id="94b2" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">这里采用32维连续变量，并将它们减少到2维</li><li id="c7ad" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">从图3中我们可以观察到，这32个连续变量将有助于确定类别标签。</li><li id="d871" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在困惑度为30的第一个图中:类1和类0是分开的，是的，有一些重叠的区域，但大部分是分开的。我们可以在2号地块和3号地块看到同样的故事。</li></ul><h1 id="d0f7" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">第三节</h1><h1 id="591b" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.机器学习模型</h1><p id="7d01" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">机器学习模型如下:</p><ul class=""><li id="2f8c" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">我们有更少的功能，所以让我们建立模型，这往往是对更少的功能工作良好。</li></ul><p id="c98c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 1。朴素贝叶斯(基线模型)</strong></p><ul class=""><li id="253f" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">基线模型应该简单，以便我们可以与其他模型进行比较。</li></ul><p id="afa4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 2。KNN </strong></p><p id="b47a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 3。逻辑回归</strong></p><ul class=""><li id="eeec" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">因为，它的一个实验可能是线很好地分开两个类，让我们看看。</li></ul><p id="4d3b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 4。决策树</strong></p><p id="2cc6" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 5。随机森林</strong></p><p id="6253" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 6。Xgboost </strong></p><p id="f70d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">7。普通堆积分类器</p><p id="0246" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">8。定制堆积分类器</p><p id="7151" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">9。特征工程</p><h1 id="465e" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.1基线模型(朴素贝叶斯)</h1><p id="1dd4" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated"><strong class="jo hy">超参数调谐</strong></p><ul class=""><li id="612f" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">我们找到的最佳超参数是<strong class="jo hy"> alpha = 0.01 </strong></li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/5df420963269848a49347bdf40ea9629.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*EWKJqzyV1DvwcCQfiLk76g.png"/></div></figure><p id="af7b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">训练f1分数0.9258446608869385<br/>T33】测试f1分数0.923333836</p><p id="149e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">列车召回分数/检出率0.8852294047415998<br/><strong class="jo hy">测试召回分数/检出率</strong></p><p id="b3cc" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">混淆矩阵:</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/2a21abe14cddf52badd18ae8266c156b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bWtUbpBl5Upw5hPH9fytOg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/fe992e445911dae331f56fec18862e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DDC6aIK5LZPwKBkDwwqADQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><blockquote class="og oh oi"><p id="dde1" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated"><strong class="jo hy">在开始观察之前，让我们知道如何阅读这些指标</strong></p><p id="a4dc" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated"><strong class="jo hy">测试auc分数64 </strong>的含义:-正确分类分数的几率为64%</p><p id="47a9" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated"><strong class="jo hy"> F1得分</strong> —它是精度和召回率平均值的倒数。当精确度和召回率都很高时，它将给出高值</p><p id="ca75" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated"><strong class="jo hy">读数精度和召回矩阵</strong> :-</p><p id="532c" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">精度(列总和为1):在所有预测属于类0的点中，67%实际上属于类0，33%属于类1</p><p id="9ea0" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">回忆(行和为1):在所有实际属于类1的点中，63%被预测为类1，36%被预测为类0</p></blockquote><p id="ebdf" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><ul class=""><li id="d028" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">训练和测试AUC值之间存在差距，这意味着模型过度拟合</li><li id="fd25" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">让我们做一些特征选择来减少过度拟合</li><li id="71d0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我们将通过递归特征消除来进行特征选择</li></ul><h1 id="cf01" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.2通过递归特征消除的特征选择</h1><p id="d702" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">给定将权重分配给特征(例如，线性模型的系数)的外部估计器，递归特征消除(RFE)的目标是通过递归地考虑越来越小的特征集来选择特征。首先，在初始特征集上训练估计器，并且通过coef_ attribute或通过feature_importances_ attribute获得每个特征的重要性。然后，从当前特征集中删除最不重要的特征。该过程在删减集上递归重复，直到最终达到要选择的特征的期望数量。<br/>参考:<a class="ae ly" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.RFE.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/modules/generated/sk learn . feature _ selection。RFE.html</a></p><p id="c30b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">获得最佳或有用特征的程序</strong></p><ul class=""><li id="3b45" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated"><em class="lu">使用标签编码器对对象类型特征(表示分类)进行编码</em></li><li id="098c" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">合并编码器分类特征和数字特征</em></li><li id="b789" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">使用数据框方法corr()计算相关矩阵，该方法默认使用皮尔逊相关系数</em></li><li id="3d92" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">遍历两个for循环，取出相关矩阵中值大于. 8的特征</em></li><li id="69e0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">现在通过使用递归特征消除(使用随机森林模型，我们可以使用我们选择的任何模型，但是RF给出良好的特征重要性)，它给出了29个在预测模型中有用的特征(称为最优特征)</em></li><li id="264b" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">然后通过观察绘制出最重要的特征，我们可以再次移除一些价值很小的特征</em></li></ul><pre class="mn mo mp mq fd nl nm nn no aw np bi"><span id="0912" class="lz kx hx nm b fi nq nr l ns nt">print('Optimal number of features: {}'.format(rfecv.n_features_))</span></pre><p id="f39e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">输出:</strong>最佳特性数:29</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es om"><img src="../Images/74d100c51bcdd95903619736df725e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oiscLQtgGj7c-aUbvuFH-A.png"/></div></div></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es on"><img src="../Images/06e6796d6896f430ecf38de4d2edadf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eqJkWICPM8y1BZcEqy0HWA.png"/></div></div></figure><h1 id="fe32" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">使用选定特征建模</h1><h1 id="70ef" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.3带超参数调整的朴素贝叶斯</h1><ul class=""><li id="1f31" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">这里的最佳超参数:阿尔法= 10</li></ul><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/fdd6cfd63aa71979cefe1f6ad8eb87b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*P_nOpmVVtMKnFghAOednYw.png"/></div></figure><p id="e7cd" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车f1得分</strong>0.9607209835382371<br/>T24】测试f1得分0.966078607</p><p id="3fa0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车召回分数/检出率</strong>0.9436465973051339<br/><strong class="jo hy">测试召回分数/检出率</strong>0.6443636366</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/264c48d08b0f1189979a08333fe47483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i12f4sRMTF3A0pvdyKcb9Q.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/bcf5023b24a7aaa3f5f39274ebbd1a47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_cmjE_psB6tgAXMB2DJ4nA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="15c2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="b4f9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="d56c" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">在移除一些不相关的特征后，f1分数和召回率都有轻微的提高</li><li id="90f6" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">回忆起来似乎有些混乱:在所有实际点中，64%被预测为第2类，而大约36%被预测为第0类</li></ul><h1 id="900a" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.4 KNN超参数调谐</h1><p id="fbe0" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">对于<strong class="jo hy">最佳alpha = 99 </strong>的值，<strong class="jo hy">训练auc分数</strong>为:0.9997159094312437 <br/>对于<strong class="jo hy">最佳alpha = 99 </strong>的值，测试<strong class="jo hy"> auc分数</strong>为:0.8918894763568558</p><p id="ce2c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">训练f1分数</strong> 0.9902896052698944 <br/>测试f1分数<strong class="jo hy">0.799000001</strong></p><p id="4e3d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车召回分数/检出率</strong>0.9897322190005117<br/><strong class="jo hy">测试召回分数/检出率</strong>0.6566666666</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/1eb91399d92790e2c969cc91b0e24d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qA62WRSIgit3Y9gIgaI6rQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/8468804d37d4197fd5551d75fa552d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koKEtqSGq4VrqjwlTT9SNA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="65c1" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="087d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="b1e2" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">简单的knn模型给了我们更多的auc、f1和回忆值，这是一个好现象</li><li id="8755" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">但是在召回事件中，第二类和第一类之间的测试数据仍然存在一些混淆</li><li id="bffc" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">这可能是因为阶级不平衡</li></ul><h1 id="2bd1" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.5逻辑回归超参数调整</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/48d52f9f4d8f2a4ac8ca1714b5e3317c.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*XRB_n4oWuCTBhDFZTHfpOA.png"/></div></figure><p id="b01f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">训练f1分数0.96713555060034306<br/>T30】测试f1分数0.96300001</p><p id="9a3e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车召回分数/检出率</strong>0.9616919665700153<br/>T35】测试召回分数/检出率0.60000001</p><p id="44af" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车混乱矩阵</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/1f092f3709c20ae9e6cf2b5cfec71cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6sfypJqtHWBY-zbdbxDyPA.png"/></div></div></figure><p id="ba38" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">测试混淆矩阵</strong></p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oo"><img src="../Images/61c9d7c29edb192683d48a8616b53c98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CJOM6NOJrN9NDaP4alozFA.png"/></div></div></figure><p id="efe4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="d3a8" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="8019" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">该模型具有较高的auc值，但f1和召回率低于基线模型</li><li id="05cd" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">这里也在回忆模型有一些混乱</li></ul><h1 id="0e7b" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.6具有超参数调整的决策树</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/f89a416d32ca4a8949531bb0ee8890df.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*0_7GR7QxNE0IckCp19Kthw.png"/></div></figure><p id="585e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">训练f1得分</strong> 0.9694895073671678 <br/>测试f1得分 0.</p><p id="7fff" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车召回分数或检出率</strong>0.9999317755415317<br/>T53】列车召回分数或检出率 0</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/2554e8d298b864b6460326c3cac5cdbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUPegkisLiZC3FYYaXLCDw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oo"><img src="../Images/e43c0e569b53545f0cdb0691bdce55d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z_OFL7GoZGlyQHc376kzQQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="f58d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="1314" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="e38c" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">这是迄今为止我们最好的模型</li><li id="eae9" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在做了一些职业平衡后，我们得到了相当好的auc，f1分数和召回率</li><li id="9938" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">现在，模型不会像以前一样与类1和类0混淆</li></ul><h1 id="8d17" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.7随机森林超参数调整</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/3d42113052cc4c6926a5bd0d7f45e3ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*p0xAOsPJKDrG6Q9p486BFg.png"/></div></figure><p id="d63e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">训练f1分数0.9812059973378651<br/><strong class="jo hy">测试f1分数</strong>0.9866766867</p><p id="cac3" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">列车召回分数/检测率0.9995565410199556<br/>T3】测试召回分数/检测率0.8000001</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/e6f011cb2d2cb4aa29c5d74295025171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uy1oR2bmWqOH46RPCpmm6A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/67b2ac218e88ce45029968f2d8e9d78a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-dezpAozBff57jmFXIUpcQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="b07e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="3369" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="3279" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">该模型在AUC方面优于其他模型，它也具有良好的f1和召回值，但不如决策树。</li></ul><h1 id="3c77" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.8 XGBOOST超参数调整</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/4b94b6c968579186c03d22bd0c899212.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*pF2tmR4uDi3iOpooHuyMRQ.png"/></div></figure><p id="9105" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">训练f1得分</strong> 0.999880615342634 <br/>测试f1得分0.999999999</p><p id="7796" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">列车检测率/召回率</strong>0.9999488316561488<br/><strong class="jo hy">测试检测率/召回率</strong>0.99999999</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/764b2410561da4567cdac56ef2e5ca8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GjjQWoSd2l_7yeSOjiFmBg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/ae5057b8cc8fd669cc57fc1aa46e62e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0BClvskNjPYmtXlYDkplQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="73fe" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="396e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">1-&gt;0级和2-&gt;1级</strong></p><ul class=""><li id="41df" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">xgboost模型没有按预期执行</li><li id="9e93" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">它不能很好地回忆起测试数据</li></ul><h1 id="6c0b" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.9基本堆积分类器</h1><p id="9093" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">组合所有模型</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/b84699ddef952aac0501bcc0fb7e6640.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*8EPBGWwSQPEbvRlCi3uYnA.png"/></div></figure><p id="a32f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">训练f1分数<strong class="jo hy">0.99947999259960271<br/>T34】测试f1分数</strong>0.999999999</p><p id="a608" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">列车召回分数/检出率0.9997441582807437<br/><strong class="jo hy">测试召回分数/检出率</strong>0.65000006</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/e9ebcaa9f8d9624139652babc05ba6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGPkxMxNgXMWX77qc8HUBw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/9a3cc4f3fe2273effc591dae26203d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vYC0yrquNEak8IEsCmg_qw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">测试混淆矩阵</strong></figcaption></figure><p id="9038" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><ul class=""><li id="37e7" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">上述模型是正常的打桩模型，我已经采取了所有的模型，并堆叠他们</li><li id="04a1" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">将所有模型的输出传递给元分类器</li><li id="4670" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">在这里，我们也获得了不错的auc分数，但f1分数和回忆没有那么好</li></ul><h1 id="f910" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">3.10定制堆叠分类器</h1><h2 id="d961" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated"><strong class="ak">方法:</strong></h2><blockquote class="og oh oi"><p id="4b4a" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">拿整个数据集来说</p><p id="4801" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">定义培训和测试数据</p><p id="953f" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">将训练数据分成两部分:数据1和数据2(这里我们取50–50%)</p><p id="ebcc" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">从训练数据中创建m个样本，并用基本学习器(xgboost)进行拟合</p><p id="646c" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">现在通过将数据2传递给我们拟合的每个样本来进行预测</p><p id="84ff" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">现在用数据2的给定预测值和目标值训练元分类器(meta clf:逻辑回归)</p><p id="3559" class="jm jn lu jo b jp jq iy jr js jt jb ju oj jw jx jy ok ka kb kc ol ke kf kg kh hb bi translated">现在使用适合的元分类器并预测测试数据</p></blockquote><h2 id="9a67" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">对于1000个样本</h2><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/38a41caea18875056478280598b5ba43.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*maJ-EmG4qsnUaYC7-DQbEA.png"/></div></figure><p id="d749" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">测试f1分数</strong> 0.7845882789317508 <br/>测试召回分数/检出率<strong class="jo hy">0.65000001</strong></p><h2 id="e665" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated"><strong class="ak">用1500个样本</strong></h2><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/945efee89f14e806b37dcc6208eec227.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*McnW0vbP3Wdem4zSjq8Eig.png"/></div></figure><p id="ce7e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">测试f1分数</strong>0.7895077122009792<br/>T59】测试召回分数/检出率0.6666766766</p><h1 id="8f77" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">有了2000个样本</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/ce38e57bf7a19b5284abd935ca191741.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*WGdy04b1iZXdEJdd8x5ilw.png"/></div></figure><p id="9cee" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">测试f1分数0.7801108059034406 <br/>测试召回分数/检测率0.600000001</p><h1 id="96c4" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">10000个数据点和100个样本</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/ee65d2c9ee65c9519d7d9b7666890be5.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*B8MrnZILF3xDIgPfvjZcHQ.png"/></div></figure><p id="17af" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">测试f1分数0.7667231957791597 <br/>测试召回分数/检测率0.466767667</p><h1 id="ed74" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">4.11特征工程</h1><p id="bbd6" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">让我们添加两个新特性</p><ul class=""><li id="5b04" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">根据功能选择添加2个最重要的功能</li><li id="086b" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">使用正方形的一个重要特征</li></ul><figure class="mn mo mp mq fd hk"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="9c22" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们使用随机森林</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div class="er es nw"><img src="../Images/7b47b6d237be9668b10c4870ec47f744.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*tV3Wsh0cZUG9X50gn67nKQ.png"/></div></figure><p id="e1fe" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">火车f1得分 0.9871886660545977 <br/> <strong class="jo hy">测试f1得分</strong>e 0。58666.68666866661</p><p id="6af9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">列车召回分数/检出率 0.9995053726761044 <br/> <strong class="jo hy">测试召回分数/检出率</strong>0.999999999</p><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/d8356509bade01089e337c4cf6b3085c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oGo2ByjKw-dJl1YZJu5d6w.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es of"><img src="../Images/85d7f6d58f64dad02c087445a3f1ff5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSDe5yra6574PoqsOYl2Bg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><strong class="bd ky">列车混乱矩阵</strong></figcaption></figure><p id="4eb2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">观察:</strong></p><p id="cdc7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><code class="du op oq or nm b">this model is giving highest auc value better than our previous random forest model</code></p><h1 id="7d0a" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">理解整个模型构建部分简而言之</h1><ul class=""><li id="1d1d" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated"><em class="lu">合并所有编码的分类和数字特征</em></li><li id="6765" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">建立基线模型在这种情况下，我们采用了朴素贝叶斯(我们也可以采用KNN)</em></li><li id="08b4" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">通过查看超参数调整后的朴素贝叶斯模型，该模型似乎过拟合(训练和测试分数中的差距)</em></li><li id="6fe6" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">为了克服这个问题，我们通过递归特征消除来选择特征(请阅读3.2节后的“理解特征选择”)</em></li><li id="a551" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">完成后，从训练数据中手动移除所有特征，并通过查看重要特征图移除那些没有附加值的特征</em></li><li id="4d94" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">从朴素贝叶斯模型开始再次构建模型</em></li><li id="623c" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">在特征选择之后，我们获得了良好的AUC，但是存在一些问题，如f1分数低和测试召回上的混乱，这是因为数据集不平衡，所以给一些类权重来解决这个问题，之后我们获得了相当好的结果。</em></li><li id="f1e3" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">到目前为止有两个很好的模型决策树和随机森林</em></li><li id="cb19" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">我以为Xgboost会给出最好的结果，但是没关系。</li><li id="85c0" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">尝试了两种堆叠方式，但是结果在f1分数和召回分数方面都不好。</em></li><li id="d766" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">在特征工程部分，我尝试了2个新特征，即通过我们的特征选择方法选择重要的特征，然后添加这些特征，其他的是方形特征</em></li><li id="4018" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><em class="lu">特征工程模型(尝试随机森林)的结果很好，这是我得到的最高auc值，但f1和召回分数低于决策树和随机森林</em></li></ul><h1 id="9d8a" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">模型比较</h1><figure class="mn mo mp mq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es os"><img src="../Images/012329f6e2a75cca658de4a1fd1bd12f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GdNObU3OXKOfFy-60wRZYg.png"/></div></div></figure><h1 id="bb93" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">未来的工作</h1><p id="7815" class="pw-post-body-paragraph jm jn hx jo b jp lo iy jr js lp jb ju jv lq jx jy jz lr kb kc kd ls kf kg kh hb bi translated">在这个案例研究中，我只尝试了ML模型，在未来的工作中，我们可以尝试一些深度学习模型和一些特征工程技术。</p><h2 id="8ac6" class="lz kx hx bd ky ma mb mc lc md me mf lg jv mg mh li jz mi mj lk kd mk ml lm mm bi translated">我的github和Linkedin链接</h2><div class="hh hi ez fb hj mt"><a href="https://github.com/Jitendra-Dash/Network-Intrusion-detection-system" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hy fi z dy my ea eb mz ed ef hw bi translated">jitendra-Dash/网络入侵检测系统</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码、管理项目和构建…</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh hp mt"/></div></div></a></div><div class="hh hi ez fb hj mt"><a href="https://www.linkedin.com/in/jitendra-dash-0738a616b/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hy fi z dy my ea eb mz ed ef hw bi translated">Jitendra Dash -印度|职业简介| LinkedIn</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">查看Jitendra Dash在全球最大的职业社区LinkedIn上的个人资料。Jitendra的教育列在…</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">www.linkedin.com</p></div></div><div class="nc l"><div class="ot l ne nf ng nc nh hp mt"/></div></div></a></div><h1 id="6086" class="kw kx hx bd ky kz la lb lc ld le lf lg jd lh je li jg lj jh lk jj ll jk lm ln bi translated">参考</h1><ul class=""><li id="5d69" class="ki kj hx jo b jp lo js lp jv lv jz lw kd lx kh kn ko kp kq bi translated">应用人工智能课程</li><li id="62a9" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><a class="ae ly" rel="noopener" href="/analytics-vidhya/building-an-intrusion-detection-model-using-kdd-cup99-datasetfb4cba4189ed">https://medium . com/analytics-vid hya/building-an-intrusion-detection-model-using-KDD-cup 99-dataset FB 4c ba 4189 ed</a></li><li id="6138" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><a class="ae ly" href="https://github.com/dimtics/Network-Intrusion-Detection-Using-Machine-Learning-Techniqu" rel="noopener ugc nofollow" target="_blank">https://github . com/dimtics/Network-Intrusion-Detection-Using-Machine-Learning-Techniqu</a>e</li><li id="c757" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><a class="ae ly" href="https://github.com/imRP26/Network-based-Intrusion-Detection-Systems" rel="noopener ugc nofollow" target="_blank">https://github . com/imrp 26/基于网络的入侵检测系统</a></li><li id="641e" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><a class="ae ly" href="https://nycdatascience.com/blog/student-works/network-intrusion-detection/" rel="noopener ugc nofollow" target="_blank">https://nycdatascience . com/blog/student-works/network-intrusion-detection/</a></li><li id="e4fa" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><a class="ae ly" href="https://www.youtube.com/watch?v=M50pQfj9ZOI&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=M50pQfj9ZOI&amp;feature = youtu . be</a></li></ul><p id="56fd" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">谢谢你的时间</p></div></div>    
</body>
</html>