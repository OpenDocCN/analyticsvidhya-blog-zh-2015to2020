# å­¦ä¹ ç†ŠçŒ«ã€‚ç³»åˆ—(ç¬¬äº”éƒ¨åˆ†)ã€‚ä¸ºç´¢å¼•å’Œåˆ‡ç‰‡è€Œæ¢ç´¢çš„ loc)

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/learning-pandas-part-5-series-loc-explored-for-indexing-and-slicing-6447c5d7298c?source=collection_archive---------43----------------------->

![](img/50420d9fd076779b764f06f4d355d824.png)

é©¬åº“æ–¯Â·æ–¯çš®æ–¯å…‹åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

åœ¨å­¦ä¹ ç†ŠçŒ«çš„ç¬¬ 5 éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨`**Pandas.Series**`ä¸­æ¢ç´¢ç”¨äºç´¢å¼•å’Œåˆ‡ç‰‡çš„`**loc**`ç´¢å¼•å™¨ã€‚å¦‚æœæ‚¨ç›´æ¥è·³åˆ°è¿™é‡Œï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ç¬¬ 4 éƒ¨åˆ†ï¼Œäº†è§£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ç´¢å¼•å™¨:

[](/@milankmr/learning-pandas-part-4-series-why-we-need-separate-indexers-loc-iloc-c081047f3a79) [## å­¦ä¹ ç†ŠçŒ«(ç¬¬ 4 éƒ¨åˆ†)(ç³»åˆ—â€”ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å•ç‹¬çš„ç´¢å¼•å™¨(locï¼Œiloc..)?)

### ä¸ºä»€ä¹ˆ iloc å’Œ loc æ˜¯ç†ŠçŒ«ç´¢å¼•å’Œåˆ‡ç‰‡çš„é¦–é€‰ï¼Ÿä¸€å¼€å§‹å¯èƒ½ä¼šå¾ˆå›°æƒ‘ï¼Œä½†æ˜¯ç›¸ä¿¡æˆ‘ï¼Œä½ â€¦

medium.com](/@milankmr/learning-pandas-part-4-series-why-we-need-separate-indexers-loc-iloc-c081047f3a79) 

> `**.loc**` **å±æ€§æ˜¯æŒ‡ç”¨äºç´¢å¼•å’Œåˆ‡ç‰‡çš„æ˜¾å¼ç´¢å¼•ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯åŸºäºç´¢å¼•æ ‡ç­¾è€Œä¸æ˜¯å…ƒç´ çš„ä½ç½®ã€‚**

```
import pandas as pd
series1 = pd.Series([10,12,19,44,15,60],
          index=[11,12,13,14,15,16],
          name='series_name1')print(series1.loc[11])Output:
10series2 = pd.Series([10,12,19,44,15,60],
          index=['a','b','c','d','e','f'],
          name='series_name2')print(series2.loc['a'])Output:
10
```

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­`**11**` æ˜¯ç´¢å¼•æ ‡ç­¾è€Œä¸æ˜¯ä½ç½®ç´¢å¼•ã€‚

![](img/52fa1affc7b1cdf256ef102fdd406e31.png)

ä½¿ç”¨ loc ç´¢å¼•å™¨çš„ä¸²è¡Œè®¿é—®

> å¦‚æœ**æˆ‘ä»¬è¯•å›¾è®¿é—®ä¸å­˜åœ¨çš„æ ‡ç­¾ç´¢å¼•ï¼Œå®ƒå°†å¼•å‘** `**key error**` **:-å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è¯•å›¾è®¿é—®å€¼ä¸º** `**1**` **çš„æ ‡ç­¾ç´¢å¼•ï¼Œ1 ä¸å¯ç”¨ä½œæ ‡ç­¾ç´¢å¼•ã€‚**

![](img/327df996660c51f1d2ba25b8728aaf30.png)

å½“ç´¢å¼•æ ‡ç­¾ä¸å­˜åœ¨æ—¶ï¼Œåœ¨åºåˆ—ä¸­ä½¿ç”¨ loc æ—¶å‡ºç°é”®é”™è¯¯

é—® **é—®é¢˜**:ç°åœ¨æˆ‘ä»¬çŸ¥é“`**.loc**`å±æ€§æŒ‡çš„æ˜¯æ˜¾å¼ç´¢å¼•ï¼Œå¦‚æœæˆ‘ä»¬åœ¨åˆ›å»ºåºåˆ—æ—¶ä¸æä¾›æ˜¾å¼ç´¢å¼•ä¼šæ€ä¹ˆæ ·ï¼Ÿ

æ˜¯çš„ï¼Œä½ çŒœå¯¹äº†ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯å¦åˆ›å»ºï¼Œåºåˆ—ä¸­æ€»æ˜¯å­˜åœ¨ç´¢å¼•ï¼Œæ‰€ä»¥å®ƒä»ç„¶å¼•ç”¨ç”Ÿæˆçš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯åŸºäºä½ç½®çš„ç´¢å¼•ï¼Œå°½ç®¡å®ƒçœ‹èµ·æ¥åƒæ˜¯åŸºäºä½ç½®çš„ï¼Œå› ä¸ºç´¢å¼•æ˜¯ä» 0 åˆ° len-1 ç”Ÿæˆçš„ã€‚

![](img/23b6c7440a9f4b314064795ba46dbb91.png)

å…·æœ‰ä¸å¸¦æ˜¾å¼ç´¢å¼•çš„åºåˆ—çš„ loc å±æ€§

ç°åœ¨ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªåºåˆ—ä¸­æœ‰é‡å¤çš„ç´¢å¼•ï¼Œä½ å°†å¾—åˆ°ä»å±æ€§è¿”å›çš„åºåˆ—

![](img/14b8b070acb9fa17ce5ea58634bae17c.png)

`.loc`åœ¨å…·æœ‰é‡å¤ç´¢å¼•çš„åºåˆ—ä¸Š

> **èŠ±å¼ç´¢å¼•ç”¨ã€‚loc:å¦‚æœæ‚¨æƒ³ä¸€æ¬¡ä¸ºå¤šä¸ªä¸è¿ç»­çš„ç´¢å¼•é€‰æ‹©å€¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨èŠ±å¼ç´¢å¼•ï¼Œæ‚¨å¯ä»¥ä¼ å…¥æ‚¨æƒ³è¦è·å–æ•°æ®çš„ç´¢å¼•åˆ—è¡¨(æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿ç»­åˆ‡ç‰‡)**

![](img/8de4cc10a251fdec9d2eeb00a5c3756a.png)

èŠ±å¼ç´¢å¼•ã€‚ç†ŠçŒ«ç³»åˆ—é”å®š

C

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªé—®é¢˜æ¥ç†è§£å¯è°ƒç”¨ç´¢å¼•:-

**é—®é¢˜** :-å‡è®¾æˆ‘ä»¬æƒ³ä»ç³»åˆ—ä¸­é€‰æ‹©æ•°æ®ï¼Œå…¶å€¼æ»¡è¶³æŸäº›æ¡ä»¶ï¼Œå¦‚å€¼> 12

**å›ç­”** :-æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ python ä¸­çš„ lambda å‡½æ•°å°† callable ä½œä¸ºç´¢å¼•å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œ`**we may also use the boolean array which is discussed after this .**`

![](img/6395b9aa84224198508ebe8208c49636.png)

ç†ŠçŒ«ç³»åˆ—ä¸­çš„å¯è°ƒç”¨ç´¢å¼•å™¨

B å¸ƒå°”æ•°ç»„ä½œä¸ºç³»åˆ—çš„ç´¢å¼•å™¨:-æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸ƒå°”æ•°ç»„ä½œä¸ºç´¢å¼•å™¨ï¼Œå°†é€‰æ‹©æ•°ç»„ä¸­å€¼ä¸ºçœŸçš„ç´¢å¼•ã€‚

```
import pandas as pd
series2 = pd.Series([10,12,19,44,15,60],
          index=[2,4,1,3,6,5],
          name='series_name2')bool_array = [True,False,True,True,False,True]
series2.loc[bool_array]#indexes 4,6 are false so the corresponding data are not present in output2    10 
1    19 
3    44 
5    60 
Name: series_name2, dtype: int64
```

![](img/e7c8f20d61780a5a7f1f76edb90e72e8.png)

å¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥äº†è§£ series å¯¹è±¡ä¸Šçš„æ“ä½œï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå¯¹äº series å¯¹è±¡ä¸Šçš„é€»è¾‘æ“ä½œï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¸ƒå°”æ•°ç»„ä½œä¸ºè¾“å‡ºï¼Œå®ƒå¯èƒ½ä¼šè¿›ä¸€æ­¥ç”¨ä½œç´¢å¼•å™¨ã€‚è®©æˆ‘ä»¬çœ‹çœ‹åŒæ ·çš„ä¾‹å­ã€‚

```
import pandas as pd
series2 = pd.Series([10,12,19,44,15,60],
          index=[2,4,1,3,6,5],
          name='series_name2')bool_array = series2 > 15
print(bool_array)
print(series2.loc[bool_array]) --> output where data_value > 15#one-liner
print(series2.loc[series2>12])--> output where data_value > 12
```

![](img/083f025f3e6f66dfb028abf5992bcd07.png)

è¿™å’Œç´¢å¼•æœ‰ç‚¹å…³ç³»ã€‚loc å±æ€§ä¸²è”ï¼Œæˆ‘ä»¬å¼€å§‹äº†è§£`**slicing using .loc attribute**`

â†’ **åˆ‡ç‰‡** :-åˆ‡ç‰‡æ˜¯ä¸€ç§æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸åŒçš„æ•°æ®ç»“æ„(å¦‚åºåˆ—ã€æ•°æ®å¸§ç­‰)ä¸­æå–åŸºäºèŒƒå›´çš„å­é›†ã€‚

> ä¸...ä¸€è‡´ã€‚ä½ç½®å±æ€§æ˜¯æŒ‡ `**explicit labeled indexes**` **ä¸­çš„åºåˆ—å’Œéä½ç½®/éšå¼ç´¢å¼•:**

**åˆ‡ç‰‡æ ¼å¼â†’**[å¼€å§‹]:[ç»“æŸ][:æ­¥é•¿] â†’å¼€å§‹ã€ç»“æŸå’Œæ­¥é•¿ä¸ºæ•´æ•°ï¼Œæ–¹æ‹¬å·è¡¨ç¤ºå¯é€‰å€¼å’Œ

**å¼€å§‹å’Œç»“æŸåŒ…å«åœ¨ä½¿ç”¨** `**.loc**`æ ‡è®°çš„ç´¢å¼•åˆ‡ç‰‡ä¸­

**ä½¿ç”¨å­—ç¬¦ä¸²æ ‡è®°çš„ç´¢å¼•è¿›è¡Œåˆ‡ç‰‡** :-åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»å€¼ä¸ºâ€˜aâ€™çš„ç´¢å¼•å¼€å§‹ï¼Œä¸€ç›´ç§»åŠ¨åˆ°æ‰¾åˆ°ç´¢å¼•â€˜dâ€™ä¸ºæ­¢ï¼Œå¹¶ä¸”ä¸¤è€…éƒ½åŒ…å«åœ¨å†…ã€‚

```
import pandas as pd
series1 = pd.Series([10,12,19,44,15,60],
          index=['a','c','d','e','b','f'],
          name='series_name1')print(series1.loc['a':'d'])
print(series1.loc['a':'f':2])
```

![](img/8ae0ee6cddbb3d5f0cd8244f3fe8e264.png)

**ä½¿ç”¨æ•´æ•°æ ‡è®°ç´¢å¼•è¿›è¡Œåˆ‡ç‰‡:**

```
series2 = pd.Series([10,12,19,44,15,60],
          index=[2,4,1,3,6,5],
          name='series_name2')print(series2.loc[2:4])
```

![](img/ca1605988bce427f55dfba85e62c7285.png)

å¦‚æœ index ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å°è¯•ä½¿ç”¨`**.loc**`è¿›è¡Œåˆ‡ç‰‡ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ç±»ä¼¼äº indexing with çš„`**key error**`ã€‚é€šä¿¡çº¿è·¯ï¼ˆLinesofCommunicationï¼‰

![](img/6cb96731d224e6016d7d7263858151fc.png)

O

`**If we donâ€™t provide any value for start , it start with the first index**`å’Œ

`**if we donâ€™t provide end , it will consider last index as end**`ã€‚

```
import pandas as pd
series1 = pd.Series([10,12,19,44,15,60],
          index=['a','c','d','e','b','f'],
          name='series_name1')print(series1.loc[:'d'])
print(series1.loc['e':])
```

![](img/9c44b9c59459a94433bf1b283d15902c.png)

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæˆ‘å¸Œæœ›æ‚¨ä»Šå¤©å­¦åˆ°äº†ä¸€äº›æ–°ä¸œè¥¿ï¼Œåœ¨æ•°æ®ç§‘å­¦é¢†åŸŸæœ‰å¾ˆå¤šä¸ç´¢å¼•å’Œåˆ‡ç‰‡ç›¸å…³çš„å†…å®¹ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å¼€ç«¯ğŸ˜„

åœ¨ç³»åˆ—çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†äº†è§£`**.iloc attribute**`ï¼Œæ•¬è¯·æœŸå¾…å¿«ä¹å­¦ä¹ ï¼ï¼