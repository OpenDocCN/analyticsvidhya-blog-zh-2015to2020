# ä½¿ç”¨ Streamlit éƒ¨ç½²æ‚¨çš„ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯ ML æ¨¡å‹

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/deploy-your-first-end-to-end-ml-model-using-streamlit-51cc486e84d7?source=collection_archive---------8----------------------->

![](img/9b5939a99e79ff4d3ea39afef3711f4b.png)

æƒ³è±¡ä¸€ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ªæœ‰ç›‘ç£çš„æœºå™¨å­¦ä¹  ML æ¨¡å‹æ¥å†³å®šä¿¡ç”¨å¡äº¤æ˜“æ˜¯å¦æ£€æµ‹åˆ°æ¬ºè¯ˆã€‚æœ‰äº†æˆåŠŸåº”ç”¨çš„æ¨¡å‹ç½®ä¿¡åº¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯„ä¼°æ— é£é™©çš„ä¿¡ç”¨å¡äº¤æ˜“ã€‚æ‰€ä»¥ä½ å·²ç»å»ºç«‹äº†æ¨¡å‹ï¼Œå¯ä»¥æ£€æµ‹ä¿¡ç”¨å¡æ¬ºè¯ˆï¼Œç°åœ¨å‘¢ï¼Ÿéƒ¨ç½²è¿™æ ·çš„ ML æ¨¡å‹æ˜¯è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ç›®æ ‡ã€‚

éƒ¨ç½² ML æ¨¡å‹ä»…ä»…æ„å‘³ç€å°†æ¨¡å‹é›†æˆåˆ°ç°æœ‰çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯¥ç¯å¢ƒå¯ä»¥æ¥æ”¶è¾“å…¥å¹¶è¿”å›å¯ç”¨äºåˆ¶å®šå®é™…ä¸šåŠ¡å†³ç­–çš„è¾“å‡ºã€‚è¿™å°±æ˜¯ Streamlit å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼

> Streamlit æ˜¯ä¸€ä¸ªå¼€æºåº”ç”¨æ¡†æ¶æ˜¯æ•°æ®ç§‘å­¦å®¶å’Œæœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆåœ¨å‡ ä¸ªå°æ—¶å†…åˆ›å»ºæ¼‚äº®ã€é«˜æ€§èƒ½åº”ç”¨çš„æœ€ç®€å•æ–¹å¼ï¼å…¨æ˜¯çº¯ Pythonã€‚å…¨éƒ¨å…è´¹ã€‚

åœ¨æœ¬æ•™ç¨‹çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘å°†éƒ¨ç½²ä¸€ä¸ªç›‘ç£æœºå™¨å­¦ä¹ æ¨¡å‹æ¥é¢„æµ‹é²é±¼çš„å¹´é¾„ï¼Œåœ¨æœ¬æ•™ç¨‹çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åœ¨ Heroku ä¸Šæ‰˜ç®¡è¿™ä¸ª web åº”ç”¨ç¨‹åºã€‚é²é±¼æ˜¯ä¸€ç§è½¯ä½“åŠ¨ç‰©ï¼Œæœ‰ä¸€ä¸ªå¥‡ç‰¹çš„è€³æœµå½¢çŠ¶çš„å£³ï¼Œé‡Œé¢è¡¬ç€çç æ¯ã€‚é²é±¼çš„å¹´é¾„å¯ä»¥é€šè¿‡èº«ä½“æµ‹é‡å¾—åˆ°ã€‚è®©æˆ‘ä»¬éƒ¨ç½²æ¨¡å‹ã€‚

![](img/1dc97162d76c2e45cb15cf2f97f520d3.png)

ä¸ºæ¨¡å‹åˆ›å»º pickle æ–‡ä»¶ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹å‚è§[æˆ‘çš„ kaggle ç¬”è®°æœ¬](https://www.kaggle.com/apurvasharma866/abalone)ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨éƒ¨ç½²ã€‚å¯¼å…¥å¿…è¦çš„åŒ…ã€‚å¯¼å…¥ streamlit å’Œ pickleï¼Œä»¥å–æ¶ˆ pickle æ–‡ä»¶ã€‚

```
import streamlit as st
import pickle
import numpy as npmodel = pickle.load(open('final_model.pkl','rb'))
```

åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥ä½¿ç”¨é…¸æ´—æ¨¡å‹ã€‚å°†æ‰€æœ‰è¾“å…¥å€¼è½¬æ¢ä¸ºä¸€ä¸ª Numpy æ•°ç»„ï¼Œå¹¶å°†è¾“å…¥æ•°ç»„çš„æ•°æ®ç±»å‹æ›´æ”¹ä¸º floatã€‚ä½¿ç”¨ model.predict(input)åˆ›å»ºé¢„æµ‹å€¼ã€‚è¿”å›é¢„æµ‹å€¼ã€‚

åˆ›å»ºä¸»å‡½æ•°ã€‚

```
def main()
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ„å»ºä¸»å‡½æ•°çš„ç»„ä»¶ã€‚

1.  ä¸ºä½ çš„é¡µé¢åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ã€‚ä½¿ç”¨ [st.markdown](https://docs.streamlit.io/en/stable/api.html?highlight=st.markdown#display-text) åˆ›å»º html æ ‡é¢˜æ–‡æœ¬ã€‚

ä¸»å‡½æ•°çš„åˆ†é‡

2.ä¸ºäº†è·å–ç”¨æˆ·è¾“å…¥ï¼ŒStreamlit æä¾›äº†ä¸€ä¸ª API æ¥ç›´æ¥åˆ›å»º HTML è¡¨å•ç»„ä»¶ï¼Œå¦‚è¾“å…¥å­—æ®µï¼Œä½¿ç”¨ [st.text_input()](https://docs.streamlit.io/en/stable/api.html?highlight=text_input#streamlit.text_input) ä¸ºåº”ç”¨ç¨‹åºè·å–è¾“å…¥å€¼ã€‚

3.å®šä¹‰è¾“å‡ºå­—æ®µã€‚åˆ›å»ºæƒ³è¦åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºçš„ html æ–‡æœ¬ï¼Œå¦‚ safe_htmlï¼Œç±»ä¼¼åœ°å®šä¹‰ warn_html å’Œ danger_htmlã€‚ä½¿ç”¨ [st.button()](https://docs.streamlit.io/en/stable/api.html#streamlit.button) æ„å»ºæŒ‰é’®å°éƒ¨ä»¶ï¼Œä½¿ç”¨ [st.success()](https://docs.streamlit.io/en/stable/api.html?highlight=st%20success#streamlit.success) åœ¨æ¨¡å‹æˆåŠŸé¢„æµ‹å€¼æ—¶æ˜¾ç¤ºæ¶ˆæ¯ã€‚

Python ä¸­çš„æ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§å«åš`__name__`ã€‚å½“æ¨¡å—ä½œä¸ºä¸»ç¨‹åºè¿è¡Œæ—¶ï¼Œ`__name__`å±æ€§çš„å€¼è¢«è®¾ç½®ä¸º`'__main__'`ã€‚å› æ­¤ï¼Œè°ƒç”¨ main()å‡½æ•° if `__name__ = '__main__'`ã€‚

ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹éƒ¨ç½²ã€‚

I)åœ¨æ‚¨çš„æœ¬åœ°è®¡ç®—æœºä¸Šå®‰è£… streamlitã€‚

```
pip install Flask
pip install streamlit 
```

ii)å°†æ–‡ä»¶å¦å­˜ä¸º filename.pyï¼Œå¹¶å°† final_model.pkl æ–‡ä»¶æ·»åŠ åˆ°åŒä¸€ç›®å½•ä¸­ã€‚æˆ–è€…ç®€å•åœ°åœ¨æ‚¨çš„æœºå™¨ä¸Šå…‹éš† GitHub åº“ã€‚

```
git clone [https://github.com/Apurva-tech/abalone-age-app.git](https://github.com/Apurva-tech/abalone-age-app.git)
```

[](https://github.com/Apurva-tech/abalone-age-app.git) [## apurva-tech/é²é±¼-age-app

### ä½¿ç”¨ streamlit web åº”ç”¨ç¨‹åºé¢„æµ‹é²é±¼çš„å¹´é¾„

github.com](https://github.com/Apurva-tech/abalone-age-app.git) 

iii)æ‰“å¼€å‘½ä»¤æç¤ºç¬¦/ç»ˆç«¯ï¼Œå¯¼èˆªåˆ°æ–‡ä»¶ç›®å½•ã€‚å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚è¿™å°†å¯åŠ¨`localhost:8501`ä¸Šçš„ç½‘ç»œåº”ç”¨

`streamlit run filename.py`

è¾“å…¥æ•°å€¼ï¼Œç„¶åç‚¹å‡»é¢„æµ‹ aaaannndd ç§ï¼

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ç»“æŸäº†æœ¬æ•™ç¨‹çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚è¯·ç»§ç»­å…³æ³¨ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åœ¨ Heroku ä¸Šæ‰˜ç®¡è¿™ä¸ª web åº”ç”¨ç¨‹åºï¼Œé“¾æ¥åˆ° web åº”ç”¨ç¨‹åº-[https://abalone-age-app.herokuapp.com/](https://abalone-age-app.herokuapp.com/)ã€‚

é‚£é‡Œè§ï¼

å¿«ä¹å­¦ä¹ ğŸ˜„