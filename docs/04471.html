<html>
<head>
<title>A Super Easy Python Script for Web Scraping that Anybody can use</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个超级简单的Python脚本，任何人都可以使用</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-super-easy-python-script-for-web-scraping-that-anybody-can-use-d3bd6ab86c89?source=collection_archive---------2-----------------------#2020-03-21">https://medium.com/analytics-vidhya/a-super-easy-python-script-for-web-scraping-that-anybody-can-use-d3bd6ab86c89?source=collection_archive---------2-----------------------#2020-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fe67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">**要使用此脚本，您不需要了解Python，甚至不需要在您的计算机上安装Python。</p><p id="aa70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一次，我需要从网页上删除一些简单的数据。我以为互联网上有很多免费工具可以用来做这件事。不幸的是，我错了，或者说我找不到任何一个。那时，我对Python有一点了解，但是，我知道有一个叫做Beautiful Soup的Python包用于解析HTML和XML文档。所以，我想我可以在网上的某个地方找到一个简单的Python脚本，然后进行复制粘贴来完成我的工作。那次我说对了一半。是的，我发现了很多免费的Python脚本，但是没有一个对我来说足够简单，我可以稍加修改就使用。最后，我不得不从这里和那里收集一些零碎的东西来制作我自己的剧本。现在它为你而来。</p><p id="9f84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们的目的是从下面的网页中提取书名和作者名。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b0f757d0cef85c34c73248ede7692cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iQYgkjObOop0Woly.png"/></div></div></figure><p id="c60d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用这个脚本，您需要做三件事(或者两件事，如果您已经有了Python编译器)—</p><ul class=""><li id="6612" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">识别您想要删除的数据的html元素(在下面的例子中，我们使用Chrome开发工具来完成)</li><li id="ac6e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">去网上那个叫repl.it的IDE，打开一个新的repl(真的很简单，去网站就行，你自己就能搞清楚)</li><li id="4f8f" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">复制下面提供的Python脚本并粘贴到repl.it中，并将您的URL和html元素放入脚本中</li></ul><p id="0687" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:寻找html元素</strong></p><p id="7453" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，我们想从下面的网页中提取书名和作者姓名。如果我们使用Chrome浏览器，我们可以进入开发者工具(F12)，点击“正方形内箭头”符号<em class="kd">选择页面中的一个元素来检查它</em>，然后将鼠标悬停在书名和作者姓名上。</p><p id="e24c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看到书名是一个带有class = 'css-5pe77f '的<h3>元素。作者名是一个带有class = 'css-hjukut '的</h3><p>元素。您需要记下这一点，并将其放入本文后面的Python脚本中。</p></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ke"><img src="../Images/1bbe60288173e18a9da00e229ea26308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XpmCW0MSn3Vwn1lN.png"/></div></div></figure><p id="9faf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:回复</strong></p><p id="d015" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您的计算机中没有Python编译器，请遵循此步骤。转到repl.it，点击“新建repl”，然后选择“Python”作为您的语言。复制Python脚本(来自步骤3)并将其粘贴到main.py中</p><p id="6120" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:Python脚本</strong></p><p id="10e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您只需要对脚本进行两处修改。</p><ol class=""><li id="fc77" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc kf jv jw jx bi translated">在" url = "中，提供您要从中提取数据的网页的url。</li><li id="6d8e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc kf jv jw jx bi translated">在“文本1”和“文本2”中提供了各自的元素名和类名。如果要提取更多的数据列，可以添加“text3，text4…”。</li></ol><p id="d2fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你的回复中点击“运行”。您应该会在屏幕左侧看到一个名为“index.csv”的csv文件。您可以在这个index.csv文件中找到书名和作者姓名的列表。任务完成！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kg"><img src="../Images/01ec77a0baf82c43c901d6f3f36d9c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*umnW7-TQLgagRcEv.png"/></div></div></figure><p id="0228" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是你的剧本</p><pre class="je jf jg jh fd kh ki kj kk aw kl bi"><span id="0329" class="km kn hi ki b fi ko kp l kq kr">"""A Simple Script for Extracting Data from a Webpage <br/>This script allows the user to extract data from a webapge and then export the data to a csv file with column(s).<br/>"""</span><span id="b04b" class="km kn hi ki b fi ks kp l kq kr"># libraries<br/>import urllib.request<br/>from bs4 import BeautifulSoup<br/>import csv</span><span id="5318" class="km kn hi ki b fi ks kp l kq kr"># Put your URL here<br/>url = 'https://www.nytimes.com/books/best-sellers/combined-print-and-e-book-nonfiction/'</span><span id="b7f9" class="km kn hi ki b fi ks kp l kq kr"># Fetching the html<br/>request = urllib.request.Request(url)<br/>content = urllib.request.urlopen(request)</span><span id="4184" class="km kn hi ki b fi ks kp l kq kr"># Parsing the html <br/>parse = BeautifulSoup(content, 'html.parser')</span><span id="1983" class="km kn hi ki b fi ks kp l kq kr"># Provide html elements' attributes to extract the data <br/>text1 = parse.find_all('h3', attrs={'class': 'css-5pe77f'})<br/>text2 = parse.find_all('p', attrs={'class': 'css-hjukut'})</span><span id="2017" class="km kn hi ki b fi ks kp l kq kr"># Writing extracted data in a csv file<br/>with open('index.csv', 'a') as csv_file:<br/>  writer = csv.writer(csv_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_ALL)<br/>  writer.writerow(['Title','Author'])<br/>  for col1,col2 in zip(text1, text2):<br/>    writer.writerow([col1.get_text().strip(), col2.get_text().strip()])</span></pre><p id="78df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd">原贴于</em><a class="ae kt" href="http://www.zilhaz.com" rel="noopener ugc nofollow" target="_blank"><em class="kd">【www.zilhaz.com】</em></a></p></div></div>    
</body>
</html>