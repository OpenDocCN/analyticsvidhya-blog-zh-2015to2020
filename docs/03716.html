<html>
<head>
<title>Build a custom image classifier for your android application.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的android应用程序构建自定义图像分类器。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-a-custom-image-classifier-for-your-android-application-f6ab4e1e3a33?source=collection_archive---------2-----------------------#2020-02-15">https://medium.com/analytics-vidhya/building-a-custom-image-classifier-for-your-android-application-f6ab4e1e3a33?source=collection_archive---------2-----------------------#2020-02-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4ffe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图像分类或图像识别是一个概念，在这个概念中，你向设备的摄像头传感器展示一幅图像，它会告诉你该图像中存在什么，或者告诉我们它属于哪一类。</p><p id="add8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我将通过谷歌的一个令人兴奋的在线工具:<a class="ae jd" href="https://teachablemachine.withgoogle.com/" rel="noopener ugc nofollow" target="_blank">teacheble machine with Google</a>的帮助下训练一个简单的深度学习模型，然后将模型导出到与android设备兼容的TensorFlow lite版本，来引导您进行自定义图像分类。最后，我们将把这个模型部署到一个android设备上。</p><p id="1e19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们以一个简单的android应用程序<strong class="ih hj">的水果分类为例。</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/a368e1407d91f8df316fcf50889c4122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7RcvZgE2-3k95wjyU2P5qg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">android中图像分类的工作流程</figcaption></figure><h1 id="5cb9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">模型</h1><p id="c7f7" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">用于训练自定义图像分类器的训练平台是带谷歌的<a class="ae jd" href="https://teachablemachine.withgoogle.com/" rel="noopener ugc nofollow" target="_blank">教学机</a>。这是一个令人兴奋的平台，只需点击一下，通过上传不同类别的数据集或使用网络摄像头，就可以学习深度学习训练过程，然后很容易地训练它。最后，经过训练，您可以导出您选择的模型。我已经将它导出到TensorFlow lite版本，因为我必须在android设备上运行它。你可以选择任何你想要的格式并下载模型。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kx"><img src="../Images/41b61db3b28b7b58881abaeb3ce3a53e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*-05oOpF6ULsbonutn0XVGA.gif"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">训练过程可教机器与谷歌</figcaption></figure><h1 id="3874" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">要求</h1><ul class=""><li id="e1ff" class="ky kz hi ih b ii ks im kt iq la iu lb iy lc jc ld le lf lg bi translated">不同类的图像数据集(用于自定义训练)(可以下载流程下载链接中用到的水果数据集:)<a class="ae jd" href="https://drive.google.com/file/d/12fQWCDOsEY9IXvKEg3BtbMMTnd-rOjBE/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">水果</a></li><li id="cd77" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">Android Studio 3.2(安装在Linux、Mac或Windows机器上)</li><li id="1e8a" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">处于<a class="ae jd" href="https://developer.android.com/studio/debug/dev-options" rel="noopener ugc nofollow" target="_blank">开发者模式</a>的Android设备启用了USB调试</li><li id="c123" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">USB线(将Android设备连接到您的电脑)</li></ul><h1 id="4588" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">构建并运行</h1><h1 id="c2db" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第一步。上传数据集(自定义数据集)</h1><p id="f7c4" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">准备数据集并上传到<a class="ae jd" href="https://teachablemachine.withgoogle.com/" rel="noopener ugc nofollow" target="_blank">带谷歌网站的可教学机器</a>中，并相应定义班级数量。在那边训练图像分类模型，最后以TensorFlow lite格式导出模型。</p><p id="6cbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在训练过程中，您可以更改<strong class="ih hj">超参数</strong>的编号，如下所示:</p><ul class=""><li id="fdf5" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc ld le lf lg bi translated">纪元数量</li><li id="81c0" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">批量</li><li id="3505" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">学习率</li></ul><p id="ec93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">训练完成后，您必须以TensorFlow lite格式导出模型，以便在android设备中部署。的。tflite文件应该放在android项目目录的asset文件夹中，并在读取它的java文件中更改名称。此外，您可以下载量化以及浮动文件格式的tflite。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lp"><img src="../Images/bff03c60d23ab146677dcf71b2bef415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7tYlCnOR6frki68eFaGGA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">导出模型</figcaption></figure><h1 id="db91" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第二步。使用深度学习克隆这个用于图像分类的存储库</h1><p id="19f6" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">将下面这个 GitHub库克隆到你的电脑上，并保存到你选择的文件夹中。这是android应用程序的java代码。</p><p id="a43d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">放置。tflite文件添加到asset文件夹，并替换名称，现在就可以构建应用程序了。</p><h1 id="fcbd" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第三步。构建Android Studio项目</h1><p id="6e0c" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">选择<code class="du lq lr ls lt b">Build -&gt; Make Project</code>并检查项目是否构建成功。您需要在设置中配置Android SDK。您至少需要SDK版本23。<code class="du lq lr ls lt b">build.gradle</code>文件将提示您下载任何缺失的库。你要把fruits.tflite放到android structure项目目录的asset文件夹里，根据你训练过的类的编号来改变标签。</p><h1 id="6dd1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">第四步。安装并运行应用程序</h1><p id="a641" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">将Android设备连接到计算机，并确保批准手机上出现的任何ADB权限提示。选择<code class="du lq lr ls lt b">Run -&gt; Run app.</code>,在要安装应用的设备的连接设备中选择部署目标。这将在设备上安装应用程序。</p><p id="4cc1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">下载代码:</strong></p><div class="lu lv ez fb lw lx"><a href="https://github.com/rafiuddinkhan/Custom-Image-Classification-Android" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">rafiuddinkhan/自定义-图像-分类-Android</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">自定义图像分类，对从android设备的后置摄像头看到的任何东西进行连续分类。推论…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">github.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jo lx"/></div></div></a></div><p id="5f5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><div class="lu lv ez fb lw lx"><a href="https://www.tensorflow.org/lite/examples" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">TensorFlow Lite示例| TensorFlow</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">TensorFlow Lite Android和iOS应用程序的集合。</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">www.tensorflow.org</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml jo lx"/></div></div></a></div><div class="lu lv ez fb lw lx"><a href="https://teachablemachine.withgoogle.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">可教机器</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">训练计算机识别你自己的图像、声音和姿势。为…创建机器学习模型的快速、简单的方法</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">teachablemachine.withgoogle.com</p></div></div><div class="mg l"><div class="mn l mi mj mk mg ml jo lx"/></div></div></a></div></div></div>    
</body>
</html>