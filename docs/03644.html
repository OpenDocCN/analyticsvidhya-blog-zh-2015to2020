<html>
<head>
<title>Features Selection by using Voting Approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用投票方法进行特征选择</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/feature-selection-by-using-voting-approach-e0d1c7182a21?source=collection_archive---------5-----------------------#2020-02-12">https://medium.com/analytics-vidhya/feature-selection-by-using-voting-approach-e0d1c7182a21?source=collection_archive---------5-----------------------#2020-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="372b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何应用多种技术来选择Xverse包的特性？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/405f728b89eec909140ab56ab7ab7601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2dmcgCVYhp2WNOD0UjuXA.jpeg"/></div></div></figure><p id="b5d2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">特征选择是自动或手动选择对您感兴趣的预测变量或输出贡献最大的那些特征的过程。<br/>一个主要原因是，机器学习遵循<strong class="jl hj"> <em class="kf">【垃圾进垃圾出】</em> </strong>的规则，这就是为什么你需要非常关注输入模型的特征。</p><p id="41fc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在你的数据中有不相关的特征既可以增加建模的计算成本<strong class="jl hj"> <em class="kf">降低模型的</em></strong><strong class="jl hj"><em class="kf">精度</em> </strong>又可以让你的模型基于不相关的特征进行学习。这意味着您只需选择<strong class="jl hj"> <em class="kf">重要特征</em> </strong>在模型训练期间展示。</p><p id="5624" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">应用功能选择的主要原因有:</strong></p><ul class=""><li id="fad0" class="kg kh hi jl b jm jn jp jq js ki jw kj ka kk ke kl km kn ko bi translated">它使机器学习算法能够更快地训练。</li><li id="d4ef" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">它降低了模型的复杂性，使其更容易解释。</li><li id="808f" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">如果选择了正确的子集，就可以提高模型的准确性。</li><li id="ffb5" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">它减少了过度拟合。</li></ul><blockquote class="ku kv kw"><p id="3d55" class="jj jk kf jl b jm jn ij jo jp jq im jr kx jt ju jv ky jx jy jz kz kb kc kd ke hb bi translated">“我通过选择所有特征准备了一个模型，我得到了大约65%的精确度，这对于一个预测模型来说不是很好，在做了一些特征选择和特征工程后，没有对我的模型代码做任何逻辑更改，我的精确度跃升到了81 %,这是非常令人印象深刻的。”Raheel Shaikh</p></blockquote><p id="ba98" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">特征选择方法</strong>旨在减少特征数量，使其被认为对模型最有用/最重要，从而预测目标特征。有不同的功能选择方法可以帮助您选择重要的功能。最流行的方法是。</p><ul class=""><li id="6b79" class="kg kh hi jl b jm jn jp jq js ki jw kj ka kk ke kl km kn ko bi translated"><a class="ae la" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.f_regression.html" rel="noopener ugc nofollow" target="_blank">皮尔逊相关系数</a>。</li><li id="91e7" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">斯皮尔曼等级系数。</li><li id="576a" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated"><a class="ae la" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.f_classif.html" rel="noopener ugc nofollow" target="_blank">方差分析相关系数。</a></li><li id="2ba3" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated"><a class="ae la" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.chi2.html" rel="noopener ugc nofollow" target="_blank">卡方检验。</a></li><li id="040e" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">机器学习算法(随机森林和额外树)。</li><li id="f9b7" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated"><a class="ae la" href="https://thuijskens.github.io/2017/10/07/feature-selection/" rel="noopener ugc nofollow" target="_blank">相互信息。</a></li><li id="853d" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">热图相关矩阵。</li></ul><p id="a18c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可以从<a class="ae la" href="https://scikit-learn.org/stable/modules/feature_selection.html" rel="noopener ugc nofollow" target="_blank"> Scikit学习库</a>阅读更多关于特征选择方法的内容。</p><p id="36bb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这些方法的挑战之一是<strong class="jl hj">确定</strong>应该在数据集中应用哪种方法来选择重要的特征。每种方法都有自己识别重要特征的方式。例如，某个特征可以在一种方法中被选为重要特征，而在另一种方法中不被选为重要特征。</p><p id="db16" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Xverse包可以帮你解决这个问题。</p><blockquote class="lb"><p id="77c6" class="lc ld hi bd le lf lg lh li lj lk ke dx translated">“最终，一些机器学习项目会成功，一些会失败。有什么区别？最重要的因素无疑是所使用的功能。”佩德罗·多明戈斯</p></blockquote><h1 id="15e1" class="ll lm hi bd ln lo lp lq lr ls lt lu lv io lw ip lx ir ly is lz iu ma iv mb mc bi translated">Xverse是什么？</h1><p id="ace3" class="pw-post-body-paragraph jj jk hi jl b jm md ij jo jp me im jr js mf ju jv jw mg jy jz ka mh kc kd ke hb bi translated">Xverse代表X Universe，它是用于机器学习的python包，用于帮助数据科学家进行特征转换和特征选择。Xverse是由<a class="ae la" href="https://twitter.com/MSundarKrishnan" rel="noopener ugc nofollow" target="_blank"> Sundar Krishnan </a>创作的。</p><h2 id="91ad" class="mi lm hi bd ln mj mk ml lr mm mn mo lv js mp mq lx jw mr ms lz ka mt mu mb mv bi translated">它是如何工作的？</h2><p id="927b" class="pw-post-body-paragraph jj jk hi jl b jm md ij jo jp me im jr js mf ju jv jw mg jy jz ka mh kc kd ke hb bi translated">Xverse应用各种技术来选择特性。当一个算法选择一个特征时，它会为这个特征投票。最后，Xverse会计算每个功能的总票数，然后根据投票选出最佳功能。这样，我们最终在特征选择过程中以最小的努力挑选出最佳变量。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/68629005ba16da198a7e52170b777f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EYb6ZJf4PuN4BtcrKBZLDg.jpeg"/></div></div></figure><p id="9038" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Xverse使用以下方法来选择重要的特性。</p><ul class=""><li id="c95d" class="kg kh hi jl b jm jn jp jq js ki jw kj ka kk ke kl km kn ko bi translated">使用证据权重的信息价值。</li><li id="dbc1" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">使用随机森林的可变重要性。</li><li id="dbcd" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">递归特征消除。</li><li id="cd7c" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">使用额外树分类器的可变重要性。</li><li id="c721" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">卡方最佳变量。</li><li id="f3f9" class="kg kh hi jl b jm kp jp kq js kr jw ks ka kt ke kl km kn ko bi translated">基于L1的特征选择。</li></ul><h2 id="da50" class="mi lm hi bd ln mj mk ml lr mm mn mo lv js mp mq lx jw mr ms lz ka mt mu mb mv bi translated">装置</h2><p id="ff8b" class="pw-post-body-paragraph jj jk hi jl b jm md ij jo jp me im jr js mf ju jv jw mg jy jz ka mh kc kd ke hb bi translated">封装需要<code class="du mx my mz na b">numpy, pandas, scikit-learn, scipy</code>和<code class="du mx my mz na b">statsmodels</code>。此外，该包在Python版本3.5及更高版本上进行了测试。</p><p id="47bb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">运行以下命令来安装Xverse。</p><pre class="iy iz ja jb fd nb na nc nd aw ne bi"><span id="52a4" class="mi lm hi na b fi nf ng l nh ni">pip install xverse</span></pre><p id="933b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我将使用贷款数据集来寻找最佳特征，这些特征有助于在预测客户是否应该获得贷款时获得良好的准确性。你可以点击下载数据集<a class="ae la" href="https://github.com/Davisy/Feature-Selection-by-using-Voting-Approach/blob/master/data/loans_data.csv" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="aa54" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为此问题导入重要包。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><p id="aea2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">加载贷款数据集。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><pre class="iy iz ja jb fd nb na nc nd aw ne bi"><span id="f7cd" class="mi lm hi na b fi nf ng l nh ni">Loan_ID<br/>Gender<br/>Married<br/>Dependents<br/>Education<br/>Self_Employed<br/>ApplicantIncome<br/>CoapplicantIncome<br/>LoanAmount<br/>Loan_Amount_Term<br/>Credit_History<br/>Property_Area<br/>Loan_Status</span></pre><p id="062d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们有12个独立的特性和一个目标(Loan_Status)。你可以在这里阅读每个特性的描述。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nl"><img src="../Images/c1fc461ad6cd7115917a1d59537cce58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*H192S1SuTPt0AVdxNwHdQA.png"/></div><figcaption class="nm nn et er es no np bd b be z dx translated">特征定义</figcaption></figure><p id="1e35" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我创建了一个简单的python函数来处理缺失数据和特征工程。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><p id="15d0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们对贷款数据集进行预处理。</p><pre class="iy iz ja jb fd nb na nc nd aw ne bi"><span id="9f7a" class="mi lm hi na b fi nf ng l nh ni">data = prepocessing(data)</span></pre><p id="6e17" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">分割成独立的特征和目标。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><p id="99d6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在是时候从Xverse调用VotingSelector，并训练它使用投票方法找到最佳特性。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><p id="c317" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我已经设置了<em class="kf"> minimum_votes= 2 </em>，这意味着要选择的特性必须从Xverse中呈现的六种特性选择方法中获得至少总共<em class="kf"> 2票</em>。总计<em class="kf"> 2票</em>以下的功能将被忽略。</p><p id="a8df" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在训练之后，我们可以看到在训练期间使用的每个特征选择方法中的特征重要性。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nq"><img src="../Images/0dbcd67a5b7587da0de5c43ea244f4f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aMDoj8ezEQdOwT8zsZXuEA.png"/></div></div></figure><p id="16d8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">输出显示了每种方法中的所有特性及其重要性值。</p><p id="f674" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在我们来观察一下这些特征选择方法的投票情况。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nr"><img src="../Images/d71da44a2e80d6851f600fb4f921b648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RP0v6pJet6vJ7WWbW66jkA.png"/></div></div></figure><p id="b99f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">输出显示了<em class="kf">变量名、特性选择方法列表及其投票</em>，最后显示了每个特性的总投票<em class="kf"/>。<br/>首先显示投票数多的功能，然后显示投票数少或为零的功能。</p><p id="d5e9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">可以看到<strong class="jl hj"><em class="kf">Credit_History</em></strong>总共有<strong class="jl hj"> <em class="kf"> 6票，</em> </strong>也就是说Credit _ History对于这个贷款问题是一个非常重要的特征。但是<strong class="jl hj"> <em class="kf">性别</em> </strong>和<strong class="jl hj"> <em class="kf">个体户</em> </strong>特征都有<strong class="jl hj"> <em class="kf"> 0票、</em> </strong>这意味着我们可以忽略这两个特征，因为它们对预测客户是否应该获得贷款的贡献非常低。</p><p id="0d68" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，我们可以转换数据，只保留重要的选定要素。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nj nk l"/></div></figure><h1 id="a03b" class="ll lm hi bd ln lo lp lq lr ls lt lu lv io ns ip lx ir nt is lz iu nu iv mb mc bi translated"><strong class="ak">结论</strong></h1><p id="ee90" class="pw-post-body-paragraph jj jk hi jl b jm md ij jo jp me im jr js mf ju jv jw mg jy jz ka mh kc kd ke hb bi translated">Xverse正在积极开发中。目前，xverse包只处理二进制目标。</p><p id="c02f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这篇文章的代码可以在<a class="ae la" href="https://github.com/Davisy/Feature-Selection-by-using-Voting-Approach" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。</p><p id="3fd3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你学到了新的东西或者喜欢阅读这篇文章，请分享给其他人看。也可以随意发表评论。在那之前，下一篇文章再见！也可以通过Twitter <a class="ae la" href="https://twitter.com/Davis_McDavid" rel="noopener ugc nofollow" target="_blank"> @Davis_McDavid </a>找到我</p></div></div>    
</body>
</html>