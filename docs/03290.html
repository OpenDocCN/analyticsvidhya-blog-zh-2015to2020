<html>
<head>
<title>Building and setting up a Deep Learning PC</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建和设置深度学习电脑</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-and-setting-up-a-deep-learning-pc-4eb7c37f30?source=collection_archive---------9-----------------------#2020-01-24">https://medium.com/analytics-vidhya/building-and-setting-up-a-deep-learning-pc-4eb7c37f30?source=collection_archive---------9-----------------------#2020-01-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b632" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，大约一个月前，我决定为我的项目构建自己的深度学习PC，而不是使用AWS和Google Colab等云服务。原因是AWS似乎太贵，而Colab限制了项目可以连续运行的小时数。在这篇博客中，我将概述我为了建立和设置我自己的钻机所做的一些事情。</p><p id="083c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，已经有一些优秀的博客涵盖了为什么以及如何构建深度学习PC的基础知识。因此，我不会详细讨论这些问题。我要做的是提及一些额外的信息，我觉得这些信息可能对像我这样的新手有所帮助。</p><h1 id="59c5" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">订购和组装零件</h1><p id="e9df" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我从陈明杰的三部分博客系列开始。这是一组很棒的博客，涵盖了几乎所有你需要知道的东西。<a class="ae kg" rel="noopener" href="/the-mission/why-building-your-own-deep-learning-computer-is-10x-cheaper-than-aws-b1c91b55ce8c">第1部分</a>思考为什么要打造自己的pc？P <a class="ae kg" rel="noopener" href="/the-mission/how-to-build-the-perfect-deep-learning-computer-and-save-thousands-of-dollars-9ec3b2eb4ce2">艺术2 </a>讲述了如何构建自己的个人电脑。并且，<a class="ae kg" rel="noopener" href="/the-mission/why-your-personal-deep-learning-computer-can-be-faster-than-aws-2f85a1739cf4">第3部分</a>回顾了性能基准测试，声称一台好的PC可以超越AWS。</p><p id="27ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这是我第一次做这些，我决定慢一点，用单个GPU建立一个装备。我不认为这将胜过AWS，但它仍然是一个开始。我制作的电脑的规格是:</p><ul class=""><li id="abcf" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">CPU:AMD thread ripper 1920 x 3.5 GHz 12核处理器</li><li id="b835" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">CPU冷却器:<a class="ae kg" href="https://uk.pcpartpicker.com/product/nfzZxr/fractal-design-celsius-s24-876-cfm-liquid-cpu-cooler-fd-wcu-celsius-s24-bk" rel="noopener ugc nofollow" target="_blank">分形设计摄氏S24 87.6 CFM液体CPU冷却器</a></li><li id="306a" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">主板:<a class="ae kg" href="https://uk.pcpartpicker.com/product/Qskj4D/msi-x399-sli-plus-atx-tr4-motherboard-x399-sli-plus" rel="noopener ugc nofollow" target="_blank">微星X399 SLI加ATX sTR4主板</a></li><li id="6c94" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">RAM: <a class="ae kg" href="https://uk.pcpartpicker.com/product/Gj7v6h/corsair-vengeance-rgb-pro-64gb-4-x-16gb-ddr4-3000-memory-cmw64gx4m4c3000c15" rel="noopener ugc nofollow" target="_blank">海盗船复仇RGB Pro 64 GB(4x 16 GB)DDR 4–3000内存</a></li><li id="7c33" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">固态硬盘:<a class="ae kg" href="https://uk.pcpartpicker.com/product/JLdxFT/samsung-970-evo-10tb-m2-2280-solid-state-drive-mz-v7e1t0baw" rel="noopener ugc nofollow" target="_blank">三星970 Evo 1tb m . 2–2280 NVME固态硬盘</a></li><li id="8d24" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">GPU: <a class="ae kg" href="https://uk.pcpartpicker.com/product/vtqhP6/asus-geforce-rtx-2080-ti-11gb-turbo-video-card-turbo-rtx2080ti-11g" rel="noopener ugc nofollow" target="_blank">华硕GeForce RTX 2080 Ti 11 GB Turbo显卡</a></li><li id="f85e" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">案例:联立PC-O11 ATX航空全塔案例</li><li id="c08a" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">电源:<a class="ae kg" href="https://uk.pcpartpicker.com/product/LbtWGX/evga-power-supply-220p21600x1" rel="noopener ugc nofollow" target="_blank"> EVGA SuperNOVA P2 1600 W 80+铂金认证全模块化ATX电源</a></li><li id="3c70" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">案例风扇:<a class="ae kg" href="https://uk.pcpartpicker.com/product/W9rcCJ/arctic-case-fan-afaco080p2gba01" rel="noopener ugc nofollow" target="_blank">北极F8 PWM 31 CFM 80 mm风扇</a></li><li id="8930" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">机箱风扇2: <a class="ae kg" href="https://uk.pcpartpicker.com/product/2NcMnQ/arctic-case-fan-acfan00062a" rel="noopener ugc nofollow" target="_blank">北极F12 PWM PST —价值包53 CFM 120 mm风扇</a></li></ul><p id="0f2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这基本上是陈明杰<a class="ae kg" href="https://pcpartpicker.com/list/yWGyWb" rel="noopener ugc nofollow" target="_blank">零件清单</a>在<a class="ae kg" href="https://pcpartpicker.com/" rel="noopener ugc nofollow" target="_blank"> PCPartPicker </a>上的副本。我所要做的就是把地点改到英国，以便从英国找到卖家。所有的零件都很容易买到，除了大部分地方都缺货的那个箱子，所以我不得不多逛逛。总之，这笔交易花了我2604.19英镑，约合3412.06美元。我相信这比在美国同样的建筑要贵400美元。但我想我们不得不接受这个事实。</p><p id="1518" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还买了<a class="ae kg" href="https://www.amazon.co.uk/gp/product/B07BXS5TFT/ref=ppx_yo_dt_b_asin_title_o00_s01?ie=UTF8&amp;psc=1" rel="noopener ugc nofollow" target="_blank">防静电腕带</a>来防止静电放电，如果发生静电放电，很容易杀死各种电气元件，<a class="ae kg" href="https://www.amazon.co.uk/gp/product/B07FYFXCDP/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&amp;psc=1" rel="noopener ugc nofollow" target="_blank">外用酒精</a>来清洁液体冷却器上预先涂抹的导热膏，还有Noctua的<a class="ae kg" href="https://www.amazon.co.uk/gp/product/B07MZ4JJWX/ref=ppx_yo_dt_b_asin_title_o00_s02?ie=UTF8&amp;psc=1" rel="noopener ugc nofollow" target="_blank"> NT-H1 </a>导热膏。如果你还没有以太网电缆，我也建议你买一根合适长度的。这是因为主板似乎没有wifi卡，因此需要有线连接到路由器。</p><p id="c455" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一张我所有零件的照片。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/31b2931e0b3abc7a7be1b53dba6197ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M93WAxFS-cC3qSSA1cvcUA.jpeg"/></div></div></figure><p id="a772" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个箱子的说明书上有如何打开它的说明。具有讽刺意味的是，手册是装在箱子里的。哈哈！不管怎样，打开箱子并不难。背面有两个螺钉将顶部固定到外壳的其余部分。一旦顶部被拆除，侧面板可以很容易地通过滑动他们。</p><p id="225e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我检查了电源单元。它配有一个测试工具，使用该工具可以在PSU上施加人工负载，并检查风扇是否工作。如果风扇开始旋转，那么PSU很可能是好的。如果没有，则检查节能模式是否已关闭，然后重试。我看了这个视频的前几分钟，以确保我做得对。</p><h2 id="2f43" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">主板</h2><p id="9fd2" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">这是一张特写照片。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/a80c65f0720b66d214090b1b2022b5e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2Fa-n06qplJBc-PFACPAg.jpeg"/></div></div></figure><p id="ad51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了避免对主板底部的焊接造成任何损坏，我把它放在瑜伽垫上，这对我来说很好。我通过PCPartPicker观看了<a class="ae kg" href="https://www.youtube.com/watch?v=83mA2TGNRCU&amp;t=2182s" rel="noopener ugc nofollow" target="_blank">这个视频</a>，帮助我完成在主板上安装各种组件的步骤。</p><p id="b35d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，我从外壳中取出微处理器时遇到了一些问题。从上面的PCPartPicker视频中可以看出，(在3.36分钟时)，人们必须扭动外壳上的黑色旋钮才能接触到微处理器。这是不知何故卡住了我，没有从它的位置移动。我必须得到一些额外的手套来帮助我更紧地抓住把手。</p><p id="8f5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，PCPartPicker人员在安装CPU冷却器之前将内存安装到主板上。事后看来，我会在安装内存之前安装CPU冷却器。这仅仅是因为ram具有相当高的高度，并且在安装冷却器时首先安装它们限制了CPU周围的空间量，从而增加了对ram以及主板造成物理损坏的风险。</p><p id="e6be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在箱子上安装各种部件，我跟随陈明杰的<a class="ae kg" href="https://www.youtube.com/watch?v=orzOOPD-E9Y&amp;t=235s" rel="noopener ugc nofollow" target="_blank">视频</a>，因为PCPartPicker视频中的人正在处理一个不同的箱子。CPU冷却器的散热器将安装在机箱的顶部，如下图所示。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/669be59978c8676c7a03bed627ffc111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HvekmLKZ8FnsST54PAzaYw.jpeg"/></div></div></figure><p id="88ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">散热器需要安装两个120mm的风扇。对我来说，顺便说一句，箱子顶部已经预装了两个风扇。然而，安装这些风扇是为了将热空气排出机箱。另一方面，出于我们的目的，我们希望风扇将冷空气吹到散热器上，即它们从外部吸入冷空气。因此，我不得不改变风扇的方向。</p><p id="b1c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其余的或多或少很简单。我将冷却器上的默认安装支架切换到主板附带的安装支架，清洁预先应用的导热膏，在处理器上应用一点Noctua NT-H1，然后将冷却器安装在处理器上，就像PCPartPicker的家伙在他们的视频中的37.18分钟一样。</p><p id="ced1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我安装了显卡。这里有一张图片。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lw"><img src="../Images/062a63d614500a9dfa8d4df4de174abe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uo1mbTVCuOcxGJEmpFgY1Q.jpeg"/></div></div></figure><p id="f01f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在机箱顶部安装了一个120毫米的风扇，在前面安装了三个风扇，用来从外面吸入冷空气。最后，我在机箱后面安装了一个80毫米的风扇，将热空气吹出。</p><p id="e94d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主板的右上角有一个为泵风扇供电的端口，在主板手册中标记为PUMP_FAN1。我在这里连接了CPU冷却器的电缆。散热器的风扇可以连接到冷却器本身的端口。这样就剩下5个风扇直接连接到主板，主板上有4个端口用于系统风扇(SYS_FAN1至SYS_FAN4 ),一个端口用于CPU风扇CPU_FAN1。这给了我正确的端口数量来连接所有的风扇。</p><h2 id="aa57" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">电源连接</h2><p id="e846" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">PSU配备了足够多的电缆来进行所有的连接。特别是，它包含一根ATX 24针电缆、两根8针(4+4) CPU电缆和几根VGA(用于PCI-E)和SATA电缆。我们现在不需要SATA电缆，因为我们已经将固态硬盘直接安装到主板上。</p><p id="b8c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">PSU和主板上只有一个ATX-24端口。这些需要通过ATX电缆连接。PSU上的CPU 1端口通过一根CPU电缆连接到主板上的CPU 1端口。这同样适用于PSU和主板上的CPU2端口。</p><p id="0447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GPU有两个8针端口，每个端口都必须通过独立的8针VGA电缆连接。</p><p id="9210" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！我们完了！这是一张组装好的个人电脑的图片。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/7c14efa862b6e9acd0c77bbe952a02b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XtuQPlDBLtuKiORtBY8aPg.jpeg"/></div></div></figure><p id="56e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我没有费心移动外壳周围的电源线，让它看起来更漂亮。老实说，这部分是因为我担心，如果我强迫电缆停留在外壳中的特定位置，我可能最终会拉出一些东西。</p><h1 id="b755" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">安装软件</strong></h1><p id="8bac" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我按照陈明杰的建议安装了Ubuntu 16.04。他似乎选择了16.04而不是18.04，因为根据他的说法，许多机器学习工具目前只与16.04兼容。电脑连接到互联网后，所有必要的Ubuntu更新都会自动下载，只需15-20分钟就能让电脑启动并运行。</p><h2 id="1973" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">安装Anaconda</h2><p id="b807" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">然后我按照他们的<a class="ae kg" href="https://docs.anaconda.com/anaconda/install/linux/" rel="noopener ugc nofollow" target="_blank">网页</a>上的说明安装了<a class="ae kg" href="https://www.anaconda.com/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>。这是轻而易举的事。</p><p id="2c49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，我想为Tensorflow和Pytorch创建单独的虚拟环境。虽然创建虚拟环境很简单(例如使用<a class="ae kg" href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf" rel="noopener ugc nofollow" target="_blank">这个</a> conda备忘单)，但是我的jupyter笔记本没有自动检测这些环境。这可能是因为我希望在基本环境中启动jupyter笔记本，然后在我希望的时候将其内核更改为必要的环境。我通过在基本环境中安装nb_conda_kernels解决了这个问题。</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="77f4" class="lh je hi ly b fi mc md l me mf">$ conda install nb_conda_kernels</span></pre><h2 id="0d01" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">安装CUDA、TensorFlow和PyTorch</h2><p id="00ea" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">现在到了我花了一段时间才弄好的部分。</p><p id="f22c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安装CUDA工具包</strong>:为了能够使用GPU进行机器学习，我们需要安装NVIDIA的CUDA工具包。最新版本是CUDA 10.2，这是默认安装的。然而，如果你去Tensorflow的<a class="ae kg" href="https://www.tensorflow.org/install/gpu" rel="noopener ugc nofollow" target="_blank"> GPU支持</a>页面的<a class="ae kg" href="https://www.tensorflow.org/install/gpu#software_requirements" rel="noopener ugc nofollow" target="_blank">软件需求</a>部分，那么你可以看到Tensorflow 2.1只与CUDA toolkit10.1兼容。这是我费了很大的劲才学会的。</p><p id="0e26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们必须安装CUDA toolkit 10.1，并确保它不会自动升级到10.2。为此，我遵循了CUDA 10.1的<a class="ae kg" href="https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html" rel="noopener ugc nofollow" target="_blank">安装指南</a>中的说明。</p><p id="ed31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我完成了安装指南第2节中提到的安装前操作，然后下载了。从<a class="ae kg" href="https://developer.nvidia.com/cuda-10.1-download-archive-update2" rel="noopener ugc nofollow" target="_blank">到这里</a>的deb文件包管理器。在这一点上，要小心，你确实是在下载CUDA工具包10.1，因为大多数链接将被重定向到CUDA 10.2安装，除非你直接进入CUDA档案。</p><p id="f692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在可以开始安装CUDA工具包了。遵循NVIDIA安装指南第3节Ubuntu- <a class="ae kg" href="https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html#ubuntu-installation" rel="noopener ugc nofollow" target="_blank">小节</a>中的前4条说明。注意，这里的第5条指令告诉您通过执行$sudo apt-get install cuda来安装CUDA。请不要这样做！</p><p id="4bea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是因为默认情况下“cuda包指向CUDA工具包的最新稳定版本”。因此，执行$sudo apt-get install cuda将自动升级到cuda 10.2。相反，我们将执行</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="c81c" class="lh je hi ly b fi mc md l me mf">$ sudo apt-get install cuda-10-1</span></pre><p id="aced" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将安装cuda 10.1，并保持锁定在10.1，直到安装了附加版本的cuda。</p><p id="3f2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在执行<a class="ae kg" href="https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html#post-installation-actions" rel="noopener ugc nofollow" target="_blank">安装后说明</a>。基本上打开。bashrc文件:</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="89d5" class="lh je hi ly b fi mc md l me mf">nano ~/.bashrc</span></pre><p id="ea6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将下面一行粘贴到。bashrc</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="dcb0" class="lh je hi ly b fi mc md l me mf">export PATH=/usr/local/cuda-10.1/bin:/usr/local/cuda-10.1/NsightCompute-2019.1${PATH:+:${PATH}}</span></pre><p id="8596" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这会将适当的路径添加到path变量中。^O将更改保存到。巴沙尔和^X退出。</p><p id="8cfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我无意中也添加了下面一行。bashrc</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="0b4c" class="lh je hi ly b fi mc md l me mf">export LD_LIBRARY_PATH=/usr/local/cuda-10.1/lib64\<br/>                         ${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}</span></pre><p id="9ea0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除非您使用runfile安装而不是Deb包，否则这不是必需的。我后来把它注释掉了，没有任何明显的问题。</p><p id="a953" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在执行</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="9828" class="lh je hi ly b fi mc md l me mf">$ source ~/.bashrc</span></pre><p id="70af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们完了！</p><p id="277d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过执行以下命令来检查驱动程序版本</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="528d" class="lh je hi ly b fi mc md l me mf">$ cat /proc/driver/nvidia/version</span></pre><p id="1769" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="eca1" class="lh je hi ly b fi mc md l me mf">$ nvcc -V</span></pre><p id="be26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以通过构建和运行cuda示例来进一步验证安装。只需按照7.2.3.2(编译示例)和7.2.3.3的<a class="ae kg" href="https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html#compiling-examples" rel="noopener ugc nofollow" target="_blank">小节中概述的步骤运行deviceQuery和bandwidthTest。您可以通过以下方式找到这些文件</a></p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="ab5b" class="lh je hi ly b fi mc md l me mf">$ locate deviceQuery</span></pre><p id="f857" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="af65" class="lh je hi ly b fi mc md l me mf">$ locate bandwidthTest</span></pre><p id="9dc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行这些</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="3732" class="lh je hi ly b fi mc md l me mf">$ ./deviceQuery</span></pre><p id="bdcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="9db0" class="lh je hi ly b fi mc md l me mf">$ ./bandwidthTest</span></pre><p id="c458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果cuda安装正确，这两个函数都应该返回Result = PASS。如果不是这样，请尝试重新启动计算机并再次运行测试。如果这也不起作用，那么cuda可能必须重新安装。您可以通过执行以下命令彻底卸载cuda</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="7c64" class="lh je hi ly b fi mc md l me mf">$ sudo apt-get --purge remove "*cublas*" "cuda*"</span></pre><p id="8c85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并删除NVIDIA驱动程序</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="5f2c" class="lh je hi ly b fi mc md l me mf">$ sudo apt-get --purge remove "*nvidia*"</span></pre><p id="f474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安装cuDNN </strong>:我在这里<a class="ae kg" href="https://developer.nvidia.com/rdp/cudnn-download" rel="noopener ugc nofollow" target="_blank">下载了CUDA 10.1的cuDNN v7.6.5。请注意，CUDA 10.2和CUDA 10.1的软件包是不同的。所以一定要下载CUDA 10.1的。然后只需遵循本</a><a class="ae kg" href="https://developer.nvidia.com/rdp/cudnn-download" rel="noopener ugc nofollow" target="_blank">安装指南</a>中的说明。</p><p id="4bf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安装TensorFlow </strong>:我们终于准备好安装有GPU支持的Tensorflow 2.1了。我创建了一个名为“tensorflow”的新虚拟环境，激活它，然后简单地执行</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="d1e3" class="lh je hi ly b fi mc md l me mf">$ pip install tensorflow  # stable</span></pre><p id="2110" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！过了一会儿，我让TensorFlow开始运行了。为了检查TensorFlow是否确实检测到了GPU，我打开了一个jupyter笔记本，导入了TensorFlow</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="aa12" class="lh je hi ly b fi mc md l me mf">import tensorflow as tf</span><span id="f634" class="lh je hi ly b fi mg md l me mf">print(tf.__version__)</span></pre><p id="f484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后检查TensorFlow是用cuda构建的(这应该是在安装过程中自动完成的)</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="b90a" class="lh je hi ly b fi mc md l me mf">tf.test.is_built_with_cuda()</span></pre><p id="bbf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并检查TensorFlow是否看到gpu</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="cf9c" class="lh je hi ly b fi mc md l me mf">tf.test.is_gpu_available()</span></pre><p id="8bf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，上面是一个不推荐使用的命令。更好的做法是请求TensorFlow查看所有GPU的列表</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="0dc3" class="lh je hi ly b fi mc md l me mf">tf.config.list_physical_devices('GPU')</span></pre><p id="687e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将返回一个GPU列表。在我的例子中，只有一个，所以输出是:</p><p id="1246" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">[physical device(name = '/physical _ device:GPU:0 '，device_type='GPU')]</p><p id="f77f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你看到一个空列表作为输出，那么TensorFlow肯定没有看到GPU。</p><p id="fae0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为最后的测试，我在GPU上做了一个小计算:</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="edbe" class="lh je hi ly b fi mc md l me mf">with tf.device('/gpu:0'):<br/>    a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')<br/>    b = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[3, 2], name='b')<br/>    c = tf.matmul(a, b)</span><span id="d2df" class="lh je hi ly b fi mg md l me mf">print(c)</span></pre><p id="2b85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我得到了上述计算的合理结果，表明一切进展顺利。万岁！TensorFlow正在工作！</p><p id="530b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装PyTorch :我为PyTorch创建了一个新的虚拟环境，并按照PyTorch下载<a class="ae kg" href="https://pytorch.org/get-started/locally/" rel="noopener ugc nofollow" target="_blank">页面</a>上的说明进行操作。基本上，我被告知运行以下命令:</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="8f81" class="lh je hi ly b fi mc md l me mf">conda install pytorch torchvision cudatoolkit=10.1 -c pytorch</span></pre><p id="8f72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你瞧，PyTorch安装好了。</p><h2 id="852a" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">安装GIT</h2><p id="b616" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">简单地跑</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="0067" class="lh je hi ly b fi mc md l me mf"># apt-get install git</span></pre><p id="d346" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还复制了这里<a class="ae kg" href="https://classroom.udacity.com/courses/ud123/lessons/1b369991-f1ca-4d6a-ba8f-e8318d76322f/concepts/63a6f935-dea7-43c2-aaa3-61deea5070c8" rel="noopener ugc nofollow" target="_blank">提供的目录uda city-terminal-config</a>，并遵循了网页上提到的步骤。这是因为他们声称这将重新配置终端，使其更容易使用。然而，这似乎并没有改变什么，直到我试图通过我的windows笔记本电脑远程登录到我的电脑。windows中的终端似乎有更好的色彩表现。</p><p id="a9c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这是有代价的。远程终端似乎不再检测到康达。尽管它仍然在个人电脑的终端上被检测到。事实证明问题在于。如果. bash_profile文件存在，主目录中的profile文件将停止被检测(例如，参见Lester Peabody在<a class="ae kg" href="https://stackoverflow.com/questions/820517/bashrc-at-ssh-login/820533#820533" rel="noopener ugc nofollow" target="_blank">这篇</a> stackoverflow帖子中的评论)。同时，Udacity在重新配置终端的过程中引入了一个. bash_profile文件。为了解决这个问题，我复制了。配置文件添加到。bash_profile文件。</p><p id="4425" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我安装了VSCode作为我的编辑器。只需下载。deb文件，转到下载它的文件夹并运行<em class="mh">sudo dpkg–I code</em>(并点击tab完成名称)。</p><p id="fc90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在第一次使用git时配置它，只需遵循Udacity的免费<a class="ae kg" href="https://www.udacity.com/course/version-control-with-git--ud123" rel="noopener ugc nofollow" target="_blank">课程</a>中关于Git版本控制的1.4课的说明。</p><h2 id="598d" class="lh je hi bd jf li lj lk jj ll lm ln jn iq lo lp jr iu lq lr jv iy ls lt jz lu bi translated">设置SSH服务器</h2><p id="418f" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我只是按照<a class="ae kg" href="https://dev.to/zduey/how-to-set-up-an-ssh-server-on-a-home-computer" rel="noopener ugc nofollow" target="_blank">这篇</a>帖子来设置我的电脑ssh远程登录。此外，为了能够编写提交消息，我必须启用X11转发。我只是跟着<a class="ae kg" href="http://laptops.eng.uci.edu/software-installation/using-linux/configure-ubuntu-for-x11-forwarding" rel="noopener ugc nofollow" target="_blank">这个</a>帖子来启用X11转发。</p><p id="6b43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然您可以通过远程登录在jupyter笔记本上工作，但一旦X11转发被启用，我发现如果我将Jupyter笔记本在我pc上的端口转发到我笔记本电脑上的端口并收听它，屏幕分辨率会好得多。做这件事的步骤在<a class="ae kg" href="https://ljvmiranda921.github.io/notebook/2018/01/31/running-a-jupyter-notebook/" rel="noopener ugc nofollow" target="_blank">这篇</a>文章中有很好的解释。在创建一个将我的远程服务器上的端口隧道连接到我的windows笔记本电脑的函数时，我必须遵循的唯一额外步骤是在我的笔记本电脑上创建一个. bashrc文件，并向其中添加该函数。</p><p id="9bfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">厉害！我们的pc现在可以进行深度学习了！</p></div></div>    
</body>
</html>