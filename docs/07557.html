<html>
<head>
<title>Fundamentals of Time Series Forecasting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列预测基础</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/fundamentals-of-time-series-forecasting-315b7b729bcb?source=collection_archive---------27-----------------------#2020-06-29">https://medium.com/analytics-vidhya/fundamentals-of-time-series-forecasting-315b7b729bcb?source=collection_archive---------27-----------------------#2020-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2ea3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你能知道自己下周要花多少钱，那不是很有趣吗？或者你能说出第二天你会睡多少小时吗？</p><p id="5996" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">我完全知道该怎么做，因为人类的大脑在受到挑战时会变得好奇。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/e5038a1f5e32b228719d1d64a6c18f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/0*ZbJmgVd-YlVQsgf2"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">时间序列简介</figcaption></figure><p id="df97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">那么，该如何着手呢？</strong></p><p id="5227" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据科学中有一个独立的部分让我们做准确的事情——基于历史数据的预测。这种预测的数据最好是在连续的时间段内收集的数据点，按时间顺序排列。这种特殊的数据称为“时间序列”。</p><p id="5d63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种数据在以下方面不同于其他表格数据</p><ul class=""><li id="795f" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">数据点需要在点时间上连续。</li><li id="bb2b" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">数据点不是独立的。</li></ul><p id="87c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这些特征违反了大多数基本的统计模型，这种数据只能用一种独特的建模技术——“时间序列分析”来处理。</p><h1 id="3d88" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">基础优先…</h1><p id="e933" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">甚至在我们进入建模的本质之前，我们需要确保我们对时间序列在预测中的独特性有一个基本的了解。任何时间序列数据都可能有以下几个或几个组成部分。</p><ul class=""><li id="2378" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">趋势</li><li id="57f0" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">季节性</li><li id="c050" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">周期性</li><li id="9d43" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">随机性</li></ul><p id="d569" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">趋势、季节性和周期性是“系统”的组成部分，表明有一个潜在的模式。然而随机性不能归因于一个单一的原因。</p><p id="3c00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，我们如何观察一个趋势呢？</p><p id="095c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，让我们看看下面的图表。它包含了塔塔汽车公司过去三个月的股票价格。乍一看，我们可以看出这是一个时间序列数据，因为，</p><p id="bb9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道这样一个事实，即数据点是定期收集的。</p><p id="2071" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还知道数据没有断点。</p><p id="470b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进一步保证，数据点不是独立的。我们知道昨天的股价对今天的股价有很大的影响。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lh"><img src="../Images/84ffb1934140c6e86d1703eb03545004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*QbLLvOsZ08lRrCkF7Uv2Ww.png"/></div></figure><p id="000a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，在这三个月中，数据点呈现出积极的趋势。因此，趋势线显示整体上升。</p><p id="251c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这解释了如何定位趋势。</p><p id="c0ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">季节性怎么样？我们如何发现季节性数据？</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/86e9f26686d76ef60df47033bd46d06e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*zEEGQ0r9LojNUcjC1ZccCA.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">在谷歌上搜索“圣诞树”。摘自谷歌趋势。</figcaption></figure><p id="053b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图显示了谷歌搜索“圣诞树”的次数。因此，在节日期间——大约在11月到12月——人们在谷歌上搜索圣诞树的次数会出现一个高峰。以上数据可以确认为季节性数据。</p><p id="14f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">季节性数据的另一个例子可以是温度数据。例如，下图显示了过去5年钦奈的平均气温。说明每年夏季有一个高峰，冬季有一个低谷。总的来说，气温是有季节效应的，这才有意义。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/cf8768ec86e1105d573eeee589f4c237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*lwRr5Zc47TK8ZWJKtygavA.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">钦奈的平均温度在5月至6月达到峰值，在11月至12月达到低谷</figcaption></figure><p id="d7ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧。现在我们知道什么是季节性，什么是趋势。现在让我们理解什么是循环性。简单地说，术语“循环”指的是在一段时间内定期发生的事情。</p><p id="236a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，季节性也是如此。对吗？我的意思是，温度通常在夏天达到最高点，在冬天下降。</p><p id="f053" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，是否意味着气温数据是周期性的，而不是季节性的呢？</p><p id="a52b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们更深入地探讨一下。</p><p id="8249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当数据呈现非固定周期的<em class="jd">上升和下降时，存在<strong class="ih hj">循环</strong>模式。</em></p><p id="9b65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">季节性</strong>模式存在于序列受季节性因素影响时(例如，一年中的季度、一个月或一周中的某一天)。季节性总是有一个固定的和已知的时期。</p><p id="dd54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图生动地解释了这两个术语。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/dccac4f0e97a03d4f53e88f9ecca08b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Oa6Y5pkpPFGkxQwxQvnEmQ.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">显示每35-40年循环模式的图表。</figcaption></figure><p id="44b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的图显示了几乎每十年重复的行为。(8或9次)。因此，y轴上升和下降的周期不是恒定的。因此，这些数据对应于循环数据集。</p><p id="8982" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们以下面的图为例。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/3c42f56158b299d0b8af54799171e8b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*giNvLiHfBpVSj8hGAwjIGg.png"/></div></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">显示每年季节性数据的图(固定)</figcaption></figure><p id="df03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们可以看到一年之内有一个模式，每年都在不断重复。所以这里波动的周期是恒定的——1年。因此，该数据对应于季节性数据集。</p><p id="49e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有趣的是，在上面的图中，房屋销售每6到10年增加和减少一次，这表明数据也可能是周期性的。</p><p id="983f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就给我们留下了最后一个要素——“随机性”</p><p id="21af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个时间序列都有一些不可预测的成分，使其成为一个随机变量。这种随机性可能是由于所考虑的数据集中存在异常值而造成的。</p><p id="37a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">让我们举一个例子，在r中处理它。</strong></p><p id="9244" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我考虑了R—“gas”的“timeseries”包中的内置数据，该包包含了从1956年到1995年澳大利亚每月天然气产量的数据。</p><p id="0598" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先要做的是绘制数据，并检查四个不同组件的视觉线索。执行plot.ts()命令为我们提供了以下图形。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/c6063ca0c5e918f89a031babc990c386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*6_ALHqUcjNwQWwEC8ddIbw.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">一个内置R时间序列数据的曲线图——“气体”</figcaption></figure><p id="c7f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先看一下图表，我们知道</p><p id="54c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在1970年至1997年期间，出现了明显的积极趋势。</p><p id="955f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每年都有季节性，年中有一个高峰。</p><p id="7000" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些年来没有数据循环移动的迹象。</p><p id="1e81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">让我们仔细看看这些组件。</strong></p><p id="2e41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了详细分析时间序列，我们需要将时间序列分解为其核心部分。我们通过使用<strong class="ih hj">分解()</strong>函数来实现。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/6374f5d35690e071827793d9fb3e1a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*_KI2jzRkIWbhM1HlYGin1A.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">时间序列数据的分解版本，显示了三个组成部分。</figcaption></figure><p id="37f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上图是分解()函数的输出。它由四个部分组成</p><p id="51e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.观察到的-具有包含原始数据的图</p><p id="5ea4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.趋势——TS的趋势部分</p><p id="4001" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.季节性——TS的季节性成分</p><p id="ab0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.随机——TS的不规则或随机成分</p><p id="1014" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">分解系列可以通过两种方式完成</strong></p><p id="0860" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">相加分解— </strong>相加后的成分给出了实际观察到的数据。这种类型的分解是在对季节性强度每年不变的数据建模时完成的。全世界圣诞树的销量每年都是100万棵。这里的季节性被假定为常数，因此我们更喜欢一个附加模型。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/0be8567ea4194f1109035d1882beaf74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*yeJW7IywDVh5-9Jmkwvd6g.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">加法时间序列的一个例子</figcaption></figure><p id="8960" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你看到上面的图时，你可以推断出季节成分的强度在一年中是不变的。因此，对于像上面这样的数据集，附加建模将是更可取的。</p><p id="d693" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">乘法分解</strong> —这是分量相乘后给出实际观察数据的地方。这种类型的分解是在对季节性强度每年增加或减少的数据建模时完成的。如果我们举同样的例子，如果全世界圣诞树的销量每年增长10%，我们会选择一个乘法模型。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ln"><img src="../Images/49967b36ec6cf18ea9a29a5b8fbb0619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*62y21vcDfBsxK2sx9b4_ng.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">乘法时间序列示例</figcaption></figure><p id="4d3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然上图显示，季节性成分的强度在一年内有所不同。因此，在这种情况下，乘法模型将是首选。</p><h1 id="0eba" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">后续步骤...</h1><p id="7a36" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">现在，我们都熟悉了时间序列的基本原理，是时候深入研究时间序列数据的更高级建模技术了，如ARIMA和指数平滑。</p></div></div>    
</body>
</html>