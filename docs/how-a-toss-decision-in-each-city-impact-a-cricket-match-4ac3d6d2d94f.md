# 数据科学中的数据分析与代码

> 原文：<https://medium.com/analytics-vidhya/how-a-toss-decision-in-each-city-impact-a-cricket-match-4ac3d6d2d94f?source=collection_archive---------11----------------------->

## 第 2 部分:IPL 数据分析

![](img/30aef1edb9620c8458221353196d722b.png)

IPL 硬币

# 导入必要的包和数据读取

从所有特征中，我选择了四个主要特征，它们将帮助我分析每个城市的投掷对比赛结果的影响。

![](img/ef9780104d1ae50373d1e388aa7ebb48.png)

为了获得唯一的城市，我创建了一个函数，其中使用了 groupby()方法。

![](img/d4534d51aeef6beb0e8e5753e547cda9.png)

假设我想更新数据集中的一个城市名称，或者在数据收集过程中出现了拼写错误，我的第一步是尽可能地清理数据。

![](img/40d08873d9f9aa2f56c2080594893b28.png)

现在我检查更新后的长度，长度应该与我刚刚替换的城市名称相同。之后，我会找到独特的团队。

![](img/b31723ae4c1276b2b327a2c86712f747.png)

在 IPL 的不同赛季，球队有不同的名字，所以为了简化我的过程和避免混淆，让我们把他们的名字更新为一个名字。

因此，正在崛起的浦那超级巨星变成了浦那勇士，德干充电器变成了太阳升起者海得拉巴。

在那之后，我找出了唯一的获奖者，并更新了这里的名字，就像以前一样。

![](img/37ed337c6059fe21664d5300aa9e2af3.png)

独特的团队

![](img/dd42e4b9d3a39affe6d18ee8b85e7250.png)

现在我需要寻找任何丢失的值并处理它。让我来看看唯一的赢家，我应该这样做，以检查是否有一个平局，因此将在 winner 中获得 NaN 值。总共有 3 场平局比赛。因此，我应该删除这些行进行分析。

![](img/6e491ed1685af20ec8d323044881004c.png)

孟买印度人(2018 赛季冠军)

然后我发现 city，toss_decision，toss_winner 的计数相等。

![](img/4a3314778690895e505c3abb2159eb0f.png)

看起来很完美…！

现在，如果 *toss_winner* 是*赢家*，那么 *toss_decision* 为*真*，即决策应该与 *toss_decision* 相同，否则应该相反

![](img/61d43bb92dc8b2e835beac3a41989502.png)

我发现有一个拼写错误，在一些数据条目中,“field”被写成了“field ”,所以我也需要纠正这个错误。然后我做了孟买市的分析，我发现孟买印度人在他们的家乡赢了 45 场比赛，这意味着在他们的主场击败他们是非常困难的。

![](img/8bff1e0207c9fad268eb494cc2a18829.png)

然后，我找出孟买的印度人在掷硬币中获胜的次数，并将这两个数据框合并在一起，以便更好地理解。

![](img/bfcd8b1332fdb2ccf300f6b6458e92d9.png)

现在，从我的数据集中删除 *toss_decision* 、 *toss_winner* 和 *winner* 或者只取*城市*和*决策*列。

![](img/03363247d09da3873bf10cd409bcd0d3.png)

我现在必须使用一个热编码器来转换分类变量。

![](img/a8c4be1eb7b208f12283b1279c935a85.png)

连接这两个数据框并移除决策字段，为了确认对所有要素进行计数，计数必须相等。

![](img/01eb66b0a024ad8b3cfe8cc77365fa1c.png)

我现在必须按领域*城市*分组，并获得所有统计数据，如总数和百分比。

![](img/48077938f65198adc979bd0de7b7c951.png)

我找出击球率最高的城市，也就是"开普敦",你先击球，有 71%的机会赢得比赛。同样，我们也不确定，但是从历史数据来看，我们可以给出这个说法。

我会找出击球率最低的城市，也就是说，如果你先进入“印多尔”球场，你就有 100%的机会赢得比赛。同样，我们也不确定，但是从历史数据来看，我们可以给出这个说法。

![](img/e1e5f64ebe68c5b54aa4ee010f0e54a7.png)

我把这些城市从最高命中率到最低命中率进行了排序。

我绘制了代表 20 个城市(最大到最小)的条形图，在这些城市中，击球首先导致赢得更多比赛。

![](img/0537d4a5162c280cc32556fc95656e80.png)

我已经把这些城市从最大投入百分比到最小投入百分比进行了排序。

我已经绘制了代表 20 个城市(最大到最小)的条形图，菲尔丁首先在这些城市赢得了更多的比赛。

![](img/2ee2acdd973df89eada100b6c3865032.png)