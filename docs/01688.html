<html>
<head>
<title>Regular Expressions — An excellent tool for text analysis or NLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正则表达式——文本分析或NLP的优秀工具</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/regular-expressions-an-excellent-tool-for-text-analysis-or-nlp-d1fa7d666cb9?source=collection_archive---------1-----------------------#2019-11-09">https://medium.com/analytics-vidhya/regular-expressions-an-excellent-tool-for-text-analysis-or-nlp-d1fa7d666cb9?source=collection_archive---------1-----------------------#2019-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/00c7f5c2d68cc46bea1853cdb930872d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfJ52EvlhMGGedX53Ww9_g.png"/></div></div></figure><div class=""/><p id="5c88" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数编程语言中都有一个迷人的编程工具——<strong class="is hu">正则表达式</strong>也称为<strong class="is hu">正则表达式。</strong>这是一个非常强大的编程工具，用于各种目的，如从文本中提取特征、字符串替换和其他字符串操作。正则表达式是一组字符，或一个<strong class="is hu">模式</strong>，用于在给定的字符串中查找子字符串。为了前任。从推文中提取所有标签，获取电子邮件id或电话号码等..从大量的非结构化文本内容中。</p><p id="b09c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简而言之，如果任何字符串中有一个模式，您可以使用正则表达式轻松地提取、替换和进行各种其他字符串操作。正则表达式本身就是一种语言，因为它们有自己的编译器，而且几乎所有流行的编程语言都支持使用正则表达式。</p><p id="7703" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">毫不夸张地说，如果不理解正则表达式，就不可能真正构建基于自然语言处理的系统，比如聊天机器人、对话式用户界面等..Regex有许多重要的元素和特性，有助于构建一个有用的、适合字符串提取或操作的表达式解决方案。</p><p id="52d1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们在接下来的几节中逐一了解一下。</p><p id="c673" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">常用正则表达式函数</strong></p><ol class=""><li id="271f" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">re.search() —检测给定的正则表达式模式是否存在于给定的输入字符串中。如果在字符串中找到该模式，则返回Regexobject，否则返回None对象。</li></ol><ul class=""><li id="9397" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated"><em class="jy">重新搜索(模式，文本)</em></li></ul><p id="7091" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在搜索功能中，可以使用不同的标志来执行特定的操作。例如</p><ul class=""><li id="30ff" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated"><em class="jy">木牌。' I' —忽略文本的大小写</em></li><li id="4e5e" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated"><em class="jy">关于。M —允许多行搜索</em></li><li id="7f02" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated"><em class="jy"> re.search(模式，字符串，标志=re。我| re。M) </em></li></ul><p id="67b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.match.start()和match . end()-分别返回找到的匹配项的起始和结束位置的索引。</p><p id="07b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.re.match() —仅当模式出现在字符串的最开始时，匹配函数才会匹配。</p><ul class=""><li id="e1ce" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated"><em class="jy">重新匹配(模式，文本)</em></li></ul><p id="8b0d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.re.sub() —用于用另一个子字符串替换一个子字符串。例如，用“颜色”替换“颜色”。</p><ul class=""><li id="27c3" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated"><em class="jy">re sub(模式、替代、输入文本)</em></li></ul><p id="3559" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.finditer()或find all()—find all()函数的结果是所有匹配项的列表，finditer()函数在“for”循环中用于逐个遍历每个单独的匹配项。</p><p id="8fc0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.re.compile() —该函数将正则表达式模式存储在高速缓存中，以加快搜索速度。您需要将regex模式传递给re.compile()函数。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="9613" class="kn ko ht kj b fi kp kq l kr ks"># without re.compile() function<br/>result = re.search(“a+”, “abc”)</span><span id="a03b" class="kn ko ht kj b fi kt kq l kr ks"># using the re.compile() function<br/>pattern = re.compile(“a+”)<br/>result = pattern.search(“abc”)</span></pre><p id="0480" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">数量词— </strong>允许提及并控制特定字符模式在给定文本中出现的次数。为了前任。在某些给定的数据中，含有“程序”一词的变体。为了前任。程序'，'编程'，'程序员'。如果要求只找到在单词‘Program’中出现一次或多次‘e’的那些单词。您可以使用以下任何量词来表示特定字符的存在</p><ul class=""><li id="0dbf" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated">'?'—零次或一次匹配前面的字符。它通常用于标记字符的可选存在。</li><li id="11f6" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">*-量词用于标记前面的字符出现了零次或多次。</li><li id="9757" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">+'-量词匹配前面的字符一次或多次。这意味着前面的字符必须至少出现一次，模式才能匹配字符串。</li><li id="08c2" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">{m，n}量词—该量词有四种变体</li><li id="c78f" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">{m，n}:匹配前面的字符' m '次到' n '次。</li><li id="1148" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">{m，}:匹配前面的字符“m”次到无限次，即前面字符的出现次数没有上限。</li><li id="ef22" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">{，n}:从零到“n”次匹配前面的字符，即对于前面的字符的出现次数，上限是固定的。</li><li id="844f" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">{n}:如果前面的字符恰好出现“n”次，则匹配。</li></ul><p id="c9c0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前面提到的每个量词都可以写成{m，n}量词的形式—</p><ul class=""><li id="f244" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated">'?'相当于零或一次，或{0，1}</li><li id="d277" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">* '相当于零次或多次，或者{0，}</li><li id="9d0a" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">+'相当于一次或多次，或{1，}</li></ul><p id="69a1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">空白— </strong>空白由单个空格、多个空格、制表符或换行符(也称为垂直空格)组成。这些空格将匹配字符串中相应的空格。例如，模式“+”，即一个空格后跟一个加号，将匹配一个或多个空格。类似地，您可以在模式中使用空格和其他字符。“Sachin Tendulkar”模式将允许您在任何给定的字符串中查找名称“Sachin Tendulkar”。</p><p id="95f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">括号— </strong>在一些字符周围使用括号将有助于重复一组字符，而不仅仅是重复前面的字符。这个概念在正则表达式中称为分组。为了前任。模式'(xyz){1，3} '将匹配以下字符串:</p><ul class=""><li id="f47c" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated">xyz</li><li id="3b5a" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">xyz</li><li id="042f" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">xyzxyzxyz</li></ul><p id="21a1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您需要从更大的模式中提取子模式时，使用括号也很有帮助。为了前任。如果您有包含日期的文本数据，并且您只想从日期中提取年份。您可以使用带有分组的正则表达式模式来匹配日期，然后您可以提取任何元素，如日、月或年。使用括号运算符可以实现分组。为了前任。10/03/1985".要从该字符串中提取日期，您可以使用以下模式—“d { 1，2}\/\d{1，2}\/\d{4}”。现在要提取年份，可以在模式的年份部分加上括号。图案是:“^\d{1,2}/\d{1,2}/(\d{4})$".</p><p id="1728" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">管道运算符— </strong>用“|”表示。管道运算符用作or运算符。您需要在括号内使用它。例如，模式“(play|walk)ed”将匹配两个字符串—“played”和“walk”。管道操作符告诉我们括号内的位置可以是字符串或字符。</p><p id="2ce0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">特殊字符</strong>——上面作为量词提到的字符，如“？”、' * '、+'、'('、')'、' { '等。也可以出现在输入文本中。在这种情况下，要提取这些特定的字符，您需要使用转义序列。由反斜杠“\”表示的转义序列用于转义特殊字符的特殊含义。要匹配一个问号，需要用' \？'(这称为转义字符)或者为了匹配一个“+”号，需要在正则表达式中提供“\+”。' \ '本身是一个特殊字符，为了匹配' \ '字符，您需要使用模式' \\ '来转义反斜杠。</p><p id="08d4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">锚点— </strong>这些是特殊字符，用于在文本输入的开头和结尾执行字符串操作。</p><ul class=""><li id="6d27" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jx ju jv jw bi translated">克拉character'^' —指定字符串的开头。模式中'^'后面的字符应该是字符串的第一个字符，这样字符串才能匹配模式。</li><li id="2726" class="jo jp ht is b it jz ix ka jb kb jf kc jj kd jn jx ju jv jw bi translated">美元字符' $ '-指定字符串的结尾。模式中' $ '之前的字符应该是字符串中的最后一个字符，以便字符串与模式匹配。</li></ul><p id="9040" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">两个锚点都可以在一个正则表达式中指定。例如，正则表达式模式'^ 01+2$ '将匹配任何以0开头，以2结尾，中间出现1的字符串。它将匹配“012”、“0112”、“01111111112”。</p><p id="91f0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">通配符— </strong>中的“.”(点)字符也称为通配符。它充当占位符，可以匹配任何字符。例如，如果一个字符串以四个字符开头，后面是三个0和两个1，后面是任意两个字符。有效字符串可以是cghj00011op、kghj00011pk等。满足这种条件的模式应该是。{4}0{3}1{2}.{2}'.你也可以用“….00011 ..”其中点充当占位符，这意味着任何东西都可以放在点的位置上。</p><p id="6f47" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">字符集</strong> —字符集比仅仅键入通配符或文字字符提供了更多的灵活性。这些是方括号中指定的一组字符。字符集可以用量词指定，也可以不用量词指定。如果字符集后面没有量词，则它只匹配一个字符，并且只有当字符串中的字符是字符集内的字符之一时，匹配才成功。例如，模式“[a-z]ed”将匹配诸如“ted”、“bed”、“red”等字符串，因为每个字符串的第一个字符“t”、“b”和“r”出现在字符集的范围内。另一方面，当我们使用带量词的字符集时，比如在这种情况下— '[a-z]+ed '，它会匹配任何以' ed '结尾的单词，比如' watched '，' baked '，' jammed '，' educated '等等。本质上，当量词出现在字符集中时，它就失去了特殊的意义，被当作普通字符对待。</p><p id="4c0a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">'^'有两个用例。在字符集之外，它作为一个锚点，但是在字符集之内使用时，它作为一个补码运算符，也就是说，它指定它将匹配字符集之内提到的字符之外的任何字符。为了前任。模式[0–9]匹配任何一位数。另一方面，模式'[^ 0-9 '匹配任何不是数字的单个数字字符。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ku"><img src="../Images/70afc9a005777305bd6eaf1342eb0a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*isiwRR6gio1txeAi06PTyQ.png"/></div></div></figure><p id="f7e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">元序列</strong>——这些基本上是在正则表达式中编写常用字符集的简写方式。这些是常用的元序列。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div class="er es kv"><img src="../Images/a1c306c8643b6f1e66c6232ec711cd73.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*EYy6flLX8oNcs4vPY1x9JA.png"/></div></figure><p id="7da4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以以两种方式使用元序列——或者使用不带方括号的元序列。例如，模式' \w+'将匹配任何字母数字字符。或者你可以把它们写在方括号里。例如，模式“[\w]+”与“\w+”相同。</p><p id="fcd1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">总之，正则表达式可以作为一种方便的工具用于许多实际应用中，并且是实现NLP的基础。除了在NLP中的应用，正则表达式还可以用于各种其他应用，例如检查用户在表单中输入的内容是否满足最低标准等..以及类似的许多其他可能性。</p></div></div>    
</body>
</html>