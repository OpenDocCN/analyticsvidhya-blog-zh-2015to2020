<html>
<head>
<title>Get personalized recommendations using AWS and Node.JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 AWS 和 Node 获得个性化推荐。射流研究…</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/get-personalized-recommendations-using-aws-and-node-js-e79f7442549d?source=collection_archive---------11-----------------------#2020-07-30">https://medium.com/analytics-vidhya/get-personalized-recommendations-using-aws-and-node-js-e79f7442549d?source=collection_archive---------11-----------------------#2020-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="b1cc" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">机器学习，JavaScript，Web 开发，推荐</h2><div class=""/><h1 id="94aa" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">什么是 AWS 个性化？</h1><p id="638f" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">AWS Personalize 是一种机器学习服务，它使非机器学习工程师能够轻松地为他们的用户生成个性化建议。它是一个强大而又对开发者友好的工具，不需要任何机器学习方面的先验知识。你所需要做的就是通过 S3 提供个性化的数据，个性化会处理从识别特征到训练模型的一切事情。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kk"><img src="../Images/7fe2bd5ec4eccbc696a1ddae6e374e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eHCT7_2PnjUFDksj.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">来源:https://aws.amazon.com/personalize/</figcaption></figure><h1 id="bb61" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">我的经历</h1><p id="cd74" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在我之前的一个项目中，我有机会与 AWS 密切合作，因为我当时工作的公司是<a class="ae la" href="https://aws.amazon.com/government-education/nonprofits/aws-imagine-grant-program/" rel="noopener ugc nofollow" target="_blank">AWS 创新资助计划</a>的接受者。AWS 团队建议我们使用 Personalize 根据用户在应用程序上的活动为他们生成智能推荐。从那以后，它一直是我在 AWS 上最喜欢的服务之一。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="95ff" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">第一步—开始—准备数据</em></p><p id="9873" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">步骤 2——在 S3 存储数据</em></p><p id="6b69" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">步骤 3 —创建数据集组</em></p><p id="2e9e" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">步骤 4 —创建用户-项目交互数据</em></p><p id="f9d2" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">步骤 5 —导入用户-项目交互数据</em></p><p id="6084" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">第 6 步—创建解决方案</em></p><p id="9654" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">第 7 步—创建活动</em></p><p id="2cd7" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">第 8 步——获得真正的推荐</em></p><p id="25b5" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated"><em class="ln">可选—使用节点生成真实建议。JS </em></p><h1 id="deee" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">开始—准备数据(步骤 1)</h1><p id="91d8" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，准备好 CSV 格式的数据。如果您愿意，欢迎您使用此<a class="ae la" href="https://www.kaggle.com/prajitdatta/movielens-100k-dataset" rel="noopener ugc nofollow" target="_blank">链接</a>下载一些样本数据进行测试。只需对数据做一些清理和重命名工作，并确保有以下 3 列:<strong class="jo hs"> USER_ID、ITEM_ID 和时间戳</strong>。原因是，Personalize 将这 3 个字段视为一组“交互”，这是 Personalize 训练模型的强制功能。为了便于你阅读，我把数据复制到了 excel 表格中。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lo"><img src="../Images/ba41ab1ff130d4b0d20c64323bd5df73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNcowimMiucrkgMJjExTrw.png"/></div></div></figure><h1 id="01e0" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">在 S3 存储数据(步骤 2)</h1><p id="572e" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，我们将 CSV 数据存储在 S3 存储桶中。通过提供到该文件位置的路径进行个性化，它将可以访问数据。别忘了把这个<a class="ae la" href="https://docs.aws.amazon.com/personalize/latest/dg/data-prep-upload-s3.html" rel="noopener ugc nofollow" target="_blank"> <em class="ln">政策</em> </a>附到你的桶里。如果不这样做，默认情况下，Personalize 将被阻止访问存储桶。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lp"><img src="../Images/449526340481572b5cb5acc6a6518298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5XZex0rcWmdonE5g4gHRmw.png"/></div></div></figure><h1 id="01a5" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated"><strong class="ak">创建数据集组(步骤 3) </strong></h1><p id="ddaf" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们创建一个数据集组！什么是数据集组？本质上，我们可以把它看作一个项目。每个数据集组都有自己的数据集、解决方案和 API。每个数据集组都是相互独立的。如果您想用新的数据集启动一个新项目，那么您必须启动一个新的数据集组。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lq"><img src="../Images/73fa6feff07273fb64a6336fbee22b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w2ZOmTCFXHX1WfFtCcltCw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">在 Personalize 的第一页，点击“创建数据集”并随意命名。</figcaption></figure><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lr"><img src="../Images/2133f0d8cfe4947f99fbb7c29f0f26c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtxpJJskD6cmZiFc_ii_Ow.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">命名您的第一个数据集组。</figcaption></figure><h1 id="6585" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">创建用户-项目交互数据(步骤 4)</h1><p id="bdd1" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">创建数据集组后，下一步是提供数据集，命名数据集，然后单击“创建新模式”。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ls"><img src="../Images/96ae53473b4b883fb03bab1850e393b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jXvAtWhqoY_eLkRlOLYuw.png"/></div></div></figure><p id="e63b" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated">默认情况下，个性化将为您生成以下方案。该模式用于描述交互数据集的结构。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lt"><img src="../Images/379c9388aa7fd639d1dfec9b478ea89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VaYNcavwxTi02B28NqHY-w.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">默认模式</figcaption></figure><h1 id="68dd" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">导入用户项目交互数据(步骤 5)</h1><p id="00a0" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在步骤 2 之后，您需要创建一个导入作业。提供存储 CSV 数据的 S3 存储桶的文件位置的路径。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lu"><img src="../Images/475a1e2c6f7f4302e6eed4eba5a73d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7wRhlmEYcBwWyQYUjw0FA.png"/></div></div></figure><p id="9358" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated">点击“完成”后，导航回“数据集”页面。在 Status 列下，对于您刚刚创建的数据集，它应该显示“Active”。在我的例子中，有两个数据集——用户类型和用户-项目交互项目。现在不要担心用户类型。这不是强制性的。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lv"><img src="../Images/7f39f480e88890477e3189201a7c92e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qq7juUWy8cpFtAXIk7_8Xw.png"/></div></div></figure><h1 id="b779" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">创建解决方案(步骤 6)</h1><p id="5be8" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">导航至概览页面。点击“创建解决方案”。同样，它会要求您命名您的解决方案。创建解决方案需要一段时间。完成后，如果您点击“查看解决方案”，您应该能够在状态下“活动”。</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lw"><img src="../Images/5a9b5f453af42dcf6f5650554d58f1c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XAau-s3dahZQwr3NcoDIg.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">单击创建解决方案</figcaption></figure><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lx"><img src="../Images/ca457c4dcdcafeacb894d6dcf6b86366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cAbz80pcso5X6lXEzathmA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">“活动”状态</figcaption></figure><h1 id="11a2" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">创建活动(步骤 7)</h1><p id="8a9c" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">生成您的解决方案后，单击概述页面中的“创建新活动”。同样，提供一个名称。然后选择刚刚生成的解决方案。对于“minimum provisioned…”字段，现在可以使用 1。</p><p id="51d7" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated">这可能是最耗时的一步。请随意去做一些咖啡，然后回来！</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ly"><img src="../Images/bb472405cad1ef114ecb445446b2ffaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3m16PJeJav1RDGQfUDUAiw.png"/></div></div></figure><p id="2ccb" class="pw-post-body-paragraph jm jn hi jo b jp li jr js jt lj jv jw jx lk jz ka kb ll kd ke kf lm kh ki kj hb bi translated">完成后，导航到“活动”页面，您应该能够在状态下看到“活动”。如此接近！</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lz"><img src="../Images/3003e76e615c06b55aa1d0d6db7a5cdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kUVXEjankaiWTJQbuyTIDw.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">活动生成后…</figcaption></figure><h1 id="4f22" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">产生真正的建议(第 8 步)</h1><p id="3224" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">单击您刚刚创建的活动，它会将您带到如下所示的页面。如果您向“用户 ID”字段提供一个用户 ID，它将自动生成一个项目 ID 列表，该活动认为用户可能会喜欢这些项目 ID。是不是很酷？</p><figure class="kl km kn ko fd kp er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ma"><img src="../Images/3a6769d54d819235d02feb6ebcb37094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n3dHEoCiGZFpYnAeWH5aCw.png"/></div></div></figure><h1 id="6628" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">使用 Node 生成真实的推荐。JS(可选)</h1><p id="f62c" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果您想在您的服务器中使用这个特性，下面是一个代码片段，您可以将其用作示例。您可以使用用户 ID 将 AWS 个性化 API 调用到活动的 ARN，并获得相同的结果。它是用 Node 写的。</p><pre class="kl km kn ko fd mb mc md me aw mf bi"><span id="8f4a" class="mg ip hi mc b fi mh mi l mj mk">var AWS = require ('aws-sdk');<br/>require ('dotenv');<br/>AWS.config.loadFromPath ('./config.json');</span><span id="fc84" class="mg ip hi mc b fi ml mi l mj mk">AWS.config.getCredentials (function (err) {</span><span id="c2fd" class="mg ip hi mc b fi ml mi l mj mk">if (err) console.log (err.stack);</span><span id="97a4" class="mg ip hi mc b fi ml mi l mj mk">else {<br/> console.log ('Access key:', AWS.config.credentials.accessKeyId);<br/> console.log ('Region:', AWS.config.region);}</span><span id="e51d" class="mg ip hi mc b fi ml mi l mj mk">});</span><span id="a363" class="mg ip hi mc b fi ml mi l mj mk">const personalizeRuntime = new AWS.PersonalizeRuntime ();<br/>const campaignARN = [GET IT FROM YOUR CAMPAIGN]</span><span id="5d62" class="mg ip hi mc b fi ml mi l mj mk">personalizeRuntime.getRecommendations({ <br/> campaignARN,<br/> userId: [WHATEVER USER ID YOU HAVE],<br/>},</span><span id="1b3f" class="mg ip hi mc b fi ml mi l mj mk">function (err, data) {<br/>  if (err) {<br/>   console.error (err);<br/>  }<br/>   console.log ('RECOMMENDATIONS: ', data);<br/> }<br/>);</span></pre></div></div>    
</body>
</html>