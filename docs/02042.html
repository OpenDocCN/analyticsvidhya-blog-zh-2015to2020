<html>
<head>
<title>Roles in Oracle Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Oracle数据库中的角色</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/roles-in-oracle-database-f14fc18c7c9c?source=collection_archive---------5-----------------------#2019-11-27">https://medium.com/analytics-vidhya/roles-in-oracle-database-f14fc18c7c9c?source=collection_archive---------5-----------------------#2019-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/179d5916a155f80809cb731e5d0602e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQE4CdRskQRqNwRcqdRj4g.png"/></div></div></figure><div class=""/><p id="c337" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">说到数据库，什么是角色？在我回答这个问题之前，让我先问并回答另一个问题；什么是数据库中的特权？</p><h2 id="5be5" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">特权</h2><p id="f5fa" class="pw-post-body-paragraph iq ir ht is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">特权是在数据库上运行特定任务或查询的权利。你被允许做一些事情。这可能是非常宽泛的限制，并且看您允许或不允许使用哪种SQL命令(<code class="du ko kp kq kr b">select, insert, update, etc</code>)。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b1dc840cc0cc3cd7cce177425768b2d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cFQbj2HWtMk3050gIjEsmg.gif"/></div></div></figure><p id="db1d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">特权也可以更专注，视野狭窄。这个狭窄的视野将包含对象特权。这基本上表示用户可以使用和不可以使用哪些表格或表格的子部分。</p><h2 id="4f26" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">作用</h2><p id="ffb0" class="pw-post-body-paragraph iq ir ht is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">那么这些特权是如何通向角色的呢？角色是一个包中的一组特权。这使得数据库管理员可以轻松地在数据库用户之间授予或撤销特权。可以为用户分配一个角色，而不是手动为每个用户分配权限。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e32ea3b003f41bac4b62f3dfc02387de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*glSJLDnOw-ZToFl39MDF_g.gif"/></div></div></figure><p id="00bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可能想知道类似的角色。如果一个是另一个的子集呢？一个角色可以包含其他角色和特权。这可以使更新角色更容易。</p><p id="bc17" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">比方说，一个“开发人员”拥有“测试人员”的所有特权，外加一些其他特权。因此，不是让两个几乎相同的角色，而是让一个“测试者”来扮演角色。然后，一个“开发人员”被创造出来，并被赋予额外的特权，以及从“测试人员”那里继承的特权。</p><p id="a3f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后决定给予两者相同的新特权。因为“开发人员”角色包含“测试人员”角色，所以通过更新“测试人员”来传递权限！计算中继承的经典例子。</p><p id="b5e6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然您可以像这样嵌套角色，但是请记住，您不能循环地这样做。也就是说，以我们的例子为例，虽然“开发人员”可以包含“测试人员”，“测试人员”不能反过来包含“开发人员”。</p><h1 id="159d" class="kw jp ht bd jq kx ky kz ju la lb lc jy ld le lf kb lg lh li ke lj lk ll kh lm bi translated">履行</h1><p id="55b1" class="pw-post-body-paragraph iq ir ht is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">现在您已经了解了什么是角色，以及它们如何影响用户与数据库的交互。下一步是创建角色和添加权限。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es ln"><img src="../Images/609684e4a3b1bed07922ff31f7778016.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/1*SetbhxUrEFMAy12BMkr6EQ.gif"/></div></figure><p id="2db0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">目前，Oracle数据库附带了几十个预定义角色<a class="ae lo" href="https://docs.oracle.com/cd/B28359_01/network.111/b28531/authorization.htm#DBSEG4414" rel="noopener ugc nofollow" target="_blank">。虽然这些涵盖了您可能需要的许多用例，但是随着数据库更新的发布，这些角色可能会发生变化。这就是用户定义的角色发挥作用的地方。</a></p><p id="fd7f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我假设您已经建立了基本的(或复杂的)数据库，并且您是用一个拥有<code class="du ko kp kq kr b">CREATE ROLE</code>特权的用户登录的。这通常是数据库管理员或安全管理员所拥有的。还有一个假设是，您至少对SQL有基本的了解，可以设置其余的内容。</p><h2 id="e145" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">创建角色</h2><p id="d983" class="pw-post-body-paragraph iq ir ht is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">如果您已经从头开始建立了自己的数据库，您可能知道如何创建角色。但是，如果您需要快速复习，或者如果您使用的是预建的数据库，这里就有了。</p><figure class="ks kt ku kv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e37f49d33f884e16f45ea45758950305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*97lrP8NncDWyTUY3xBw1Zg.gif"/></div></div></figure><p id="bc08" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，与其他现有角色名和用户名相比，角色名必须是唯一的。让我们称这个新的为“<code class="du ko kp kq kr b">employee</code>”。</p><p id="f7fe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了能够向用户授予角色，必须使用某种形式的授权来构造角色。通过密码或外部应用程序。在本例中，我们将选择密码。</p><pre class="ks kt ku kv fd lp kr lq lr aw ls bi"><span id="d21e" class="jo jp ht kr b fi lt lu l lv lw">CREATE ROLE employee IDENTIFIED BY password;</span></pre><p id="d828" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相当简单的过程，不是吗？向该角色授予特权几乎同样简单！最困难的部分是知道您可以授予的特权列表(但是您可以在这样做的时候偷偷看一下文档，我们不会告诉您)。</p><h2 id="cec7" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">授予特权</h2><p id="1a79" class="pw-post-body-paragraph iq ir ht is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">现在假设我们有一个表'<code class="du ko kp kq kr b">sales</code>'。我们希望<code class="du ko kp kq kr b">employee</code>能够查看和查询该表，但他们不能改变它。为此，我们赋予它们对象特权'<code class="du ko kp kq kr b">SELECT</code>'。</p><p id="8a0e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与创建角色类似，我们有一个非常简单的一行命令来授予特权:</p><pre class="ks kt ku kv fd lp kr lq lr aw ls bi"><span id="e904" class="jo jp ht kr b fi lt lu l lv lw">GRANT SELECT ON sales TO employee;</span></pre><h2 id="d3a8" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">授予角色</h2><figure class="ks kt ku kv fd hk er es paragraph-image"><div class="er es lx"><img src="../Images/21edff96beb692aaabc3c84dc2533103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*O8vBc9VOs6Xw5IWjtFha9g.gif"/></div></figure><p id="803e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，让我们向用户授予我们创建的角色。我们假设<code class="du ko kp kq kr b">j_doe</code>是我们系统的用户，我们想授予他员工的角色。这与授予员工角色<code class="du ko kp kq kr b">SELECT</code>的过程大致相同:</p><pre class="ks kt ku kv fd lp kr lq lr aw ls bi"><span id="c75d" class="jo jp ht kr b fi lt lu l lv lw">GRANT employee TO j_doe;</span></pre><p id="e04d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我再给你一点小惊喜。假设您想为<code class="du ko kp kq kr b">j_doe</code>设置这个角色，但是允许他们将这个角色授予其他用户。考虑到这一点，在命令后面添加了一个简单的内容:</p><pre class="ks kt ku kv fd lp kr lq lr aw ls bi"><span id="79b1" class="jo jp ht kr b fi lt lu l lv lw">GRANT employee TO j_doe WITH ADMIN OPTION;</span></pre><p id="269d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个选项需要注意一些事情。除了授予角色，用户还可以撤销角色。在这个设置中，<code class="du ko kp kq kr b">j_doe</code>也将有能力授予管理选项，这将允许<code class="du ko kp kq kr b">j_doe`s</code>被授予相同的能力。</p><p id="a7fe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最重要的是，通过使用<code class="du ko kp kq kr b">WITH ADMIN OPTION</code>，被授权者可以改变分配的角色。因此，如果您使用此功能，请确保它仅适用于受信任的员工或用户。</p><p id="b04a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在创建、授予和撤销角色时，您还有很多选择。但这至少涵盖了基础知识，涵盖了很多用例。</p><p id="bbcd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想亲自尝试一下，可以考虑注册一个Oracle免费云试用版<a class="ae lo" href="http://bit.ly/OCTrialLink" rel="noopener ugc nofollow" target="_blank">并建立你自己的数据库。</a></p><p id="0895" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">问题，评论？你可以在LinkedIn上找到我。</p><blockquote class="ly"><p id="62b0" class="lz ma ht bd mb mc md me mf mg mh jn dx translated">*所有观点均为我个人观点，与甲骨文无关*</p></blockquote></div><div class="ab cl mi mj gp mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hb hc hd he hf"><h1 id="7a27" class="kw jp ht bd jq kx mp kz ju la mq lc jy ld mr lf kb lg ms li ke lj mt ll kh lm bi translated">来源</h1><div class="hh hi ez fb hj mu"><a href="https://docs.oracle.com/cd/B28359_01/network.111/b28531/authorization.htm#DBSEG004" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hu fi z dy mz ea eb na ed ef hs bi translated">配置权限和角色授权</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">本章包含:本节包含:系统特权是执行特定操作或执行以下操作的权利</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">docs.oracle.com</p></div></div></div></a></div></div></div>    
</body>
</html>