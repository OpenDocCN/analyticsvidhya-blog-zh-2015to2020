<html>
<head>
<title>Exploring Azure ML Studio on Employee Promotion Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在员工晋升数据集上探索Azure ML Studio</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploring-azure-ml-studio-on-employee-promotion-dataset-e68af13e524?source=collection_archive---------21-----------------------#2020-08-02">https://medium.com/analytics-vidhya/exploring-azure-ml-studio-on-employee-promotion-dataset-e68af13e524?source=collection_archive---------21-----------------------#2020-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2775" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我当时正在探索Azure ML Studio Classic，并想到处理一个数据集。在这篇文章中，我将解释我用于这个员工晋升数据集的方法。</p><p id="075d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此数据集可在此处获得<a class="ae jd" href="http://:https://datahack.analyticsvidhya.com/contest/wns-analytics-hackathon-2018-1/" rel="noopener ugc nofollow" target="_blank">:https://data hack . analyticsvidhya . com/contest/wns-analytics-hackathon-2018-1/</a></p><h1 id="2228" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">数据可视化</strong></h1><p id="9d4b" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">一旦数据集被拖到设计器中，我们就可以将它可视化。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/da7aa714510b0b1bbac73043f4f45284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1V34RJvFo0DpEh3xldZcxA.jpeg"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">可视化员工晋升数据集</figcaption></figure><p id="a438" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们观察产出变量的分布时，即<strong class="ih hj">被提升了</strong>，我们看到只有8.5%的员工得到了提升。这是一个不平衡的分类问题，一个阶级占多数，另一个阶级占少数。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kx"><img src="../Images/99972e7e7a5b2a8365f6a20f983931ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*w9O4eL_xRxg0gLVKJhkQiA.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">晋升员工的不平衡等级</figcaption></figure><p id="f72f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过查看数据我们了解到有<strong class="ih hj"> 7个分类特征</strong>:部门、地区、学历、性别、招聘渠道、KPI _ met&gt;80%、获奖情况？我们有<strong class="ih hj"> 5个数字特征</strong>:训练次数、年龄、上一年评级、服务年限、平均训练分数。</p><p id="23db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们<strong class="ih hj">从数据集中删除employee_id列</strong>，因为每个雇员都有一个唯一的id，这对我们的预测没有用。之后，我们使用分割数据模块将数据分割成训练和测试部分。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ky"><img src="../Images/3df542c937e33d45aebc3c8de4d12df1.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*X8TSPvQGh1iQbT27g1VUHg.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">将数据分为训练和测试部分</figcaption></figure><p id="daff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将数据分成70%用于训练，30%用于测试，为了能够重复我们的预测，使用了0的随机种子。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kz"><img src="../Images/ef22349ed03486dead3ba918cee829cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*2KiROIyjsoIY1YywEtZnoA.jpeg"/></div></figure><h1 id="fbef" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">数据清理和特征工程</strong></h1><p id="136c" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">数字数据列“上年评级”缺少值，因此使用<a class="ae jd" href="https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/clean-missing-data" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">鼠标算法</strong> </a>对其进行了清理。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es la"><img src="../Images/af55382bf1c6570503f630f932f17b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*1phxN4ZE63zQgySHlVmcCw.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">使用鼠标清理数字特征。</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lb"><img src="../Images/3e75984e28620f6a81853fa755d4af5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*xaX71LQ3yJLdqvDDXJzkoA.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">用于清洗的属性</figcaption></figure><p id="0dfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用选定的色谱柱选择要清洗的色谱柱。<strong class="ih hj">最小缺失值比率</strong>表示特征列中缺失值开始清理过程所需的最小行数。类似地，<strong class="ih hj">最大缺失值比率</strong>意味着开始清洗过程时缺失的最大行数。只有在这两者之间具有缺失值行计数的要素列才会被清理。我们有不同的方法来清理丢失的数据，如下所示。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lc"><img src="../Images/9c6a35406982584a3807f36ee97fe922.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*E5zd6JYWS-yu4QUjVct4vg.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">不同的清洁方法</figcaption></figure><p id="8372" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我创建了两个新的专栏，分别由<strong class="ih hj">宁滨的年龄和工龄特写</strong>。尝试了两种不同的边缘，但下面的效果更好。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ld"><img src="../Images/7462ed247a0ac8aaf1ea32950d2f7122.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*sOOhVWdFMFhFFjOz8mv6HQ.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">对数据进行分组以获取新功能</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es le"><img src="../Images/02b143c18ea872f38362b900a5e300f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*qsBCmL17-zbPXZjYqA9SGg.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">年龄列宁滨的边缘</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lf"><img src="../Images/86cb0c8b6979a9543eee75aac65379cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*g5ZkSNXPIoTIoeC-TFiXeQ.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">服务年限列宁滨的边缘</figcaption></figure><p id="6645" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">年龄栏被分成3组，一组从小于30岁的<strong class="ih hj"/>，另一组从31岁到40岁的<strong class="ih hj"/>，最后一组是大于40岁的<strong class="ih hj"/>。同样，对于服务年限一栏，我们有小于1年的<strong class="ih hj">、<strong class="ih hj"> 2至6年的</strong>和大于6年的<strong class="ih hj"/>。</strong></p><p id="223a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我使用MICE清理了分类列education，并使用编辑元数据模块将新入库的列age和length_of_service标记为分类数据。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lg"><img src="../Images/8c80552e9aedb499365fb891b9cf1826.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*ei7mY1gRc4gZ6G3hcRRYPw.jpeg"/></div></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lh"><img src="../Images/fa806b230b862a70e87e184b1965fa47.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*4oah5Qzm06E6_ZOpizQIxw.jpeg"/></div></figure><p id="83a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在此之后，我根据avg_training_score和previous_year_rating 创建了<strong class="ih hj"> 2个新功能，因为被提升的员工将<strong class="ih hj">高于平均水平</strong>。</strong></p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es li"><img src="../Images/7b21f36bcc406c4b30120e1ff207c398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6haJ8L7ZYuaGQOTW4hIbmA.jpeg"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">用于获取2个新要素的Python脚本</figcaption></figure><p id="5d68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此之后，使用<strong class="ih hj"> Z分数转换，即标准化</strong>对数值数据进行标准化，这意味着数据点被转换为平均值为0，标准偏差为1。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lj"><img src="../Images/6ced8bd743ed1f36c9f5edc70f3492c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*JFFDAFHZ7123FF6uID8S5A.jpeg"/></div></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lk"><img src="../Images/2cde21c339ee39dca19c3b9a5b40a46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*ItWGp4YGNTRJzuY545KStQ.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">选择转换方法和要转换的列</figcaption></figure><p id="66de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为这是一个不平衡的分类问题，所以我尝试使用<a class="ae jd" href="https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/smote" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">击打</strong> </a>。在使用SMOTE后，培训数据中积极班级(即获得晋升的员工)的百分比从8.6%增加到22%。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ll"><img src="../Images/9924f45d57acaf37f5158bd19af29cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*pyVbSG-GozzIBpB3x8Q5Ww.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">应用SMOTE前的分布</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lm"><img src="../Images/e1f32ff82c6b4583216fe0a33435033c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*toaye6RjthawRR6G1liMDg.jpeg"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">应用SMOTE后的分布</figcaption></figure><p id="bb06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后一步是<strong class="ih hj">对分类值进行热编码</strong>，这是使用转换为指标值模块完成的。转换后，年龄列被转换为2列，无论雇员是男性还是女性，因此这2列是高度相关的<strong class="ih hj"/>，因此我们使用数据集模块中的选择列删除这些列中的任何一列。</p><h1 id="8c59" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">模特培训</strong></h1><p id="d739" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在尝试了微软azure ml studio中可用的不同模型后，<a class="ae jd" href="https://docs.microsoft.com/en-us/azure/machine-learning/studio-module-reference/two-class-boosted-decision-tree" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">两类提升决策树</strong> </a>得出了最高的F1分数。</p><p id="b478" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">训练模型、评分模型和评估模型用于检验模型的评分。</p><p id="1473" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了使用测试数据，可使用<strong class="ih hj">应用转换模块</strong>将对列车数据进行的转换应用于测试数据。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ln"><img src="../Images/8dda7f8f803a0eb85841be07f1261d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qogbSe82oLQmWJ-ldOwHRA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">对测试数据应用转换</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lo"><img src="../Images/77bb9c8c7cab6a9fd4ef395ac12f38d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*POjiw5ILfaqftlJ9bWGEkg.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">模型训练和评估</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es lp"><img src="../Images/a12a0c0327eeaebde3611fde383d64c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LIk-sK2P-KCEc6BQ6lvsAg.jpeg"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">模型度量</figcaption></figure><p id="b138" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该模型在测试数据分割上给出了0.554 的<strong class="ih hj"> F1分数，该测试数据分割是从数据集开始进行的。</strong></p><p id="c390" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是Azure ML Studio Classic中完整实验的链接:<a class="ae jd" href="https://gallery.cortanaintelligence.com/Experiment/Employee-Promotion" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://gallery . cortana intelligence . com/Experiment/Employee-Promotion</strong></a></p></div></div>    
</body>
</html>