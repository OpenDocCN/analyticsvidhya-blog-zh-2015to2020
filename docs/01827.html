<html>
<head>
<title>Effect of outliers on K-Means algorithm using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中离群点对K-Means算法的影响</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/effect-of-outliers-on-k-means-algorithm-using-python-7ba85821ea23?source=collection_archive---------2-----------------------#2019-11-16">https://medium.com/analytics-vidhya/effect-of-outliers-on-k-means-algorithm-using-python-7ba85821ea23?source=collection_archive---------2-----------------------#2019-11-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/57e33bedeec530bb91f3412b98d2d126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dL_5BLW0jHOvO0fl"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">杰西卡·鲁斯切洛在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="47a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/@joel_34096/k-means-clustering-using-python-from-scratch-7ccdace7789"> <strong class="ix hj"> K-Means聚类</strong> </a>是一种无监督学习算法，旨在将n个观测值划分为K个聚类，其中每个观测值属于质心最近的聚类。该算法旨在最小化观测值与其所属聚类质心之间的平方欧氏距离。</p><p id="b3ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是有时K-Means算法不能给出最好的结果。它对异常值很敏感。离群点是不同于其余数据点的点。让我们来看一种发现单变量数据(一维)异常值的方法。</p><p id="f8b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下四分位数“Q1”是前半部分数据的中间值。上四分位数“Q3”是数据后半部分的中值。四分位数间距“IQR”是Q3和Q1的差值。异常值是指大于(Q3 + 1.5*IQR)或小于(Q1-1.5 * IQR)的点。下面给出的代码可以用来找出异常值。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="4a6c" class="kc kd hi jy b fi ke kf l kg kh"><strong class="jy hj">Q1 = np.percentile(data, 25, interpolation = ‘midpoint’)</strong> # The lower quartile Q1 is calculated.</span><span id="1b0c" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">Q3 = np.percentile(data, 75, interpolation = ‘midpoint’) </strong># The upper quartile Q3 is calculated.</span><span id="7106" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">IQR = Q3 — Q1 </strong># The Interquartile range is calculated.</span><span id="0dc5" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">Q3 + 1.5*IQR, Q1–1.5*IQR</strong> # The outlier range is calculated.</span></pre><p id="dfd3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将在另一篇文章中讨论发现多元数据异常值的方法。</p><p id="55f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们举一个例子来理解异常值如何影响使用python的数据的平均值。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="d124" class="kc kd hi jy b fi ke kf l kg kh"><strong class="jy hj">X = list(np.random.rand(100)) </strong># ‘X’ is a list of 100 random numbers between 0 and 1.<br/><strong class="jy hj">Y = list(np.linspace(1,10,100))</strong> # ‘Y’ is a list of 100 random numbers equally spaced between 1 and 10.</span><span id="8894" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">plt.figure(figsize=(20,10))</strong> # Size of figure is adjusted.<br/><strong class="jy hj">plt.xticks(fontsize=20) </strong># Size of number labels on x-axis is adjusted.<br/><strong class="jy hj">plt.yticks(fontsize=20) </strong># Size of number labels on y-axis is adjusted.<br/><strong class="jy hj">plt.xlabel(‘X Values’,fontsize=20)</strong> # x-axis is labelled.<br/><strong class="jy hj">plt.ylabel(‘Y Values’,fontsize=20) </strong># y-axis is labelled.</span><span id="bfc1" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">mean_X = sum(X)/len(X)</strong> # ‘mean_X’ is the mean value of ‘X’.<br/><strong class="jy hj">mean_Y = sum(Y)/len(Y)</strong> # ‘mean_Y’ is the mean value of ‘Y’.<br/><strong class="jy hj">plt.plot(mean_X,mean_Y,’ro’,markersize = 10)</strong> # The mean value (mean_X,mean_Y) point is plotted.</span><span id="411e" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">outlier = 1000</strong> # An outlier of value 1000.<br/><strong class="jy hj">X.append(outlier) </strong># The outlier is added to ‘X’.<br/><strong class="jy hj">Y.append(Y[99] + Y[1] — Y[0])</strong> # An extra number is added to ‘Y’ such equal spacing still holds.</span><span id="5b17" class="kc kd hi jy b fi ki kf l kg kh"><strong class="jy hj">mean_X_new = sum(X)/len(X)</strong> # ‘mean_X_new’ is new mean value of ‘X’.<br/><strong class="jy hj">mean_Y_new = sum(Z)/len(Z) </strong># ‘mean_Y_new’ is new mean value of ‘Y’.<br/><strong class="jy hj">plt.plot(mean_X_new,mean_Y_new,’go’,markersize = 10) </strong># The mean value (mean_X,mean_Y) point is plotted in green.</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kj"><img src="../Images/953e4f18b781011cff3c5dcd48c8d27d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LO4MzNKlzT-MjhThAGi1Sw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">红点是排除异常值的数据的平均值。绿点是包括异常值数据的平均值。</figcaption></figure><p id="dae9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们观察到异常值使数据的平均值增加了大约10个单位。考虑到所有数据点的范围从0到1，这是一个显著的增加。这表明平均值受到异常值的影响。</p><p id="cfd8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为K-Means算法是关于寻找聚类的平均值，所以该算法受到离群值的影响。让我们举一个例子来理解异常值如何影响使用python的K-Means算法。</p><p id="f36a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有一个名为“集群”的二维数据集，由3000个点组成，没有异常值。在应用K-means算法后，我们得到以下散点图。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/0071ff3bcec9701e7affe49309985448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qVRAuVWCCSSoi710nBtSkQ.png"/></div></div></figure><p id="d6df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们将60个异常值添加到“群集”数据集。异常值大约是非异常值的2%。在应用K-means算法后，我们得到了以下不同异常值的散点图。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/9662e5c237beeaa72463ecd66f8d3a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TAgxiIttseMs4ikqy4w6vQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">散点图中未显示异常值。为了更好的可视化，散点图中只显示了3000个非异常点。离群值形成一个单独的聚类，由质心数= 3表示。</figcaption></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/3bdbf23f650971376d0455574745387c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uXsS-czRaQAp0t0w6znGw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">散点图中未显示异常值。为了更好的可视化，散点图中只显示了3000个非异常点。离群值形成一个单独的聚类，由质心数= 3表示。</figcaption></figure><p id="0a58" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们观察到异常值显示为一个单独的聚类，并导致其他聚类合并，这表明当异常值包含在数据集中时，聚类是无效的。</p><p id="0e90" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尽管异常值只占现实世界数据集中常见的非异常值的2 %,但它们对聚类有重大影响。因此，在应用K-means聚类算法之前，最好识别并去除异常值。在后续的文章中，我们将寻找识别和去除数据集中异常值的方法。</p></div></div>    
</body>
</html>