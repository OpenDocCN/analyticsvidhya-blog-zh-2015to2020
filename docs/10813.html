<html>
<head>
<title>Breast Cancer Risk Prediction System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">乳腺癌风险预测系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/breast-cancer-risk-prediction-system-a575c2eb8130?source=collection_archive---------15-----------------------#2020-11-03">https://medium.com/analytics-vidhya/breast-cancer-risk-prediction-system-a575c2eb8130?source=collection_archive---------15-----------------------#2020-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0f4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">问题陈述:</strong></p><p id="e00e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">乳腺癌是全球癌症死亡的主要原因之一。早期诊断大大增加了正确治疗和存活的机会，但这一过程是乏味的，并经常导致病理学家之间的分歧。计算机辅助诊断系统显示了提高诊断准确性的潜力。但是早期发现和预防可以大大降低死亡的几率。尽早发现乳腺癌很重要。</p><p id="e71f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">先决条件:</strong></p><p id="6b04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python，机器学习</p><p id="00f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">解决方案:</strong></p><p id="4911" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用机器学习算法决策树建立一个模型，该模型将根据以下信息预测乳腺癌类型:-</p><ul class=""><li id="35cd" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">乳房半径</li><li id="d24f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">纹理</li><li id="075b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">最差半径等。</li></ul><p id="f9a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">方法论&amp;备选方案:</strong></p><ul class=""><li id="6814" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">我们计划在使用 python 的实现中使用决策树算法。之所以如此，是因为它是一种有效的算法，可以根据一些决策(所做的比较)来预测数据。构建一个根节点，然后针对不同的节点进行拆分，并在预测结果之前采取和考虑不同的决策。根节点取决于所计算的数据集中的信息增益和熵。</li><li id="b9aa" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用这种算法的优点是非常容易理解，并且可以处理分类和回归问题。</li><li id="4c9c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">这种算法的缺点是，即使是数据的小变化也可能转化为模型的大变化。</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/f6f116bd67244261f631bf902413a011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cCUGrEz4ckQE79gj"/></div></div></figure><ul class=""><li id="2e69" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">这里可以使用的另一种算法是随机森林分类器，它为这些新数据帧中的每一个拟合一棵树，并通过平均森林中的所有树来进行预测。这样做的好处是，该算法适用于大型数据集，也适用于高维数据。</li></ul><p id="ddb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">程序:</strong></p><p id="52f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从实现部分开始，需要 python 和机器学习算法、决策树的基础知识。</p><p id="0ddb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 1: </strong>准备好数据集。我使用了从 ka ggle(<a class="ae kd" href="https://www.kaggle.com/uciml/breast-cancer-wisconsin-data" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/uciml/breast-cancer-wisconsin-data</a>)下载的乳腺癌风险预测数据集，该数据集具有以下属性:</p><p id="614e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)身份证号码</p><p id="b002" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)诊断(M =恶性，B =良性)</p><p id="282a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">3–32)</p><p id="0ec7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为每个细胞核计算十个实值特征:</p><p id="63c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)半径(从中心到周边各点的平均距离)</p><p id="59e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)纹理(灰度值的标准偏差)</p><p id="23ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c)周界</p><p id="0d6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)面积</p><p id="6f0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">e)平滑度(半径长度的局部变化)</p><p id="a338" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">f)紧密度(周长/面积-1.0)</p><p id="a17f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">g)凹度(轮廓凹入部分的严重程度)</p><p id="f2c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">h)凹点(轮廓的凹入部分的数量)</p><p id="ef55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">I)对称性</p><p id="0ddf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">j)分形维数(“海岸线近似值”-1)</p><p id="b7c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除“诊断”属性外，所有列都包含数字数据。该诊断属性包含癌症类型，即- M(代表恶性)或 B(代表良性)，它是文本数据。</p><p id="d8d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 2: </strong>导入 python 中所有必需的库</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ke"><img src="../Images/4f51dc83f65714b493f5a5ad05ff5f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*I-YobfKXTAVZqWRkXHd9zw.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">Python 库</figcaption></figure><p id="465e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用的库及其功能:</p><ol class=""><li id="1123" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc kj jj jk jl bi translated"><strong class="ih hj">熊猫</strong> -这个库将被用来处理 python 中的数据集。例如:加载数据集，检查丢失的值，数据帧等。</li><li id="56e9" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kj jj jk jl bi translated"><strong class="ih hj">NumPy</strong>——这个库将在需要的时候用来塑造我们的数据。</li><li id="f178" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kj jj jk jl bi translated">这是一个非常有用的 python 库。使用这个库的模块预处理。在预处理模块中，我们需要标签编码器和标准缩放器功能来对数据进行编码，并对其执行功能缩放。此外，该库中的另一个模块 model_selection 将用于导入 train_test_split 函数，该函数是拆分训练和测试数据中的数据集所必需的。这个库中的下一个模块是我们从中导入决策树分类器的树。该库中的最后一个模块是 metric，我们将从中导入混淆矩阵、准确度分数和精确度。</li></ol><p id="9e51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 3 </strong>:处理数据集</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kk"><img src="../Images/a5836510605607b9af8f163c01438f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*fhTAzTLcrIh6v8z15CQZAA.png"/></div></figure><p id="f85e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用 pandas，read_csv 读取数据集并使用”。isnull()。any()"函数来检查数据集中是否有任何缺失值。“#”用于注释代码行，但是如果我们运行 print()语句，我们将得到列和布尔值形式的输出，如果列有任何缺失值，则为 true，否则为 false。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kl"><img src="../Images/db3b5172475b331f520324b45f45284f.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*ntLj1AvjKJTOS_hYLaaUrw.png"/></div></figure><p id="ac10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每一列都有 false 值，这意味着我们没有任何缺失值。</p><p id="3c27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在进入下一步。</p><p id="cc26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:</strong>编码数据</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es km"><img src="../Images/9999a195512d72fffc6b477c484802e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*AtDO-_XRgYxvFtO59DTvjA.png"/></div></figure><p id="2a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道“诊断”列包含文本数据，但我们的机器无法理解文本数据，因此我们需要将其转换为二进制数据。对于这种转换，我们使用诊断列上的标签编码器将 M 和 B 转换为它们各自的编码器二进制数。要知道 M 或 B 的赋值，我们可以打印数据集。如果我们将有两个以上的文本值，我们将进一步在列上使用一个热编码，因为标签编码器将把文本翻译成像 0，1，2，…这样的值。</p><p id="48ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五步:</strong>将数据拆分为自变量和因变量</p><p id="edc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对数据进行编码后，我们需要将数据集分为因变量和自变量，其中自变量包含用于预测结果的列，但它们彼此不依赖，因变量包含需要预测结果的列。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kn"><img src="../Images/27a98c45f4dfde64a3e47df59fee59fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vnryW7896TQxp9jrlnXhsA.png"/></div></div></figure><p id="1c7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">".来自 pandas 的“iloc”用于选择列范围。</p><p id="dfcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们还使用了 numpy 的 ravel()将 y 中的数据以数组的形式成形。</p><p id="7576" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 6: </strong>将数据集分割成训练和测试数据</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ko"><img src="../Images/317d115c1706a68557109eb3b65b5f91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2YVfAs9fDrUPtt9gSVEeXQ.png"/></div></div></figure><p id="aaef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所知，在机器学习中，我们需要在某些数据上训练我们的机器，以便在测试时它可以显示良好的结果。因此，这里我们需要将数据集分成训练和测试数据。Sklearns 的 train_test_split()在这里用于拆分数据，在 LHS 端，我们有存储训练和测试数据的变量，x_train 和 y_train 变量将存储 x 和 y 变量的训练数据，同样也存储测试变量的训练数据。在函数参数中，我们有 x、y 列(完整数据)、test_size(这表明有多少百分比的数据将是测试数据)和 random_state 变量。</p><p id="012e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第七步:</strong>进行特征缩放</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kp"><img src="../Images/d5440729c80e7721db5ef151289ffacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*UA9knsATlMPsOdjD2WC8bA.png"/></div></div></figure><p id="901e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一种用于标准化独立变量范围或数据特征的方法。很多机器学习模型都是基于欧氏距离的。例如，如果一列(x)中的值比另一列(y)中的值高得多，则(x2-x1)的平方将给出比(y2-y1)的平方大得多的值。很明显，一个平方差比另一个平方差占优势。在机器学习等式中，与大得多的值相比，具有较低值的平方差将几乎被视为不存在。我们不希望这种情况发生。这就是为什么有必要将我们所有的变量转换成相同的尺度。有几种方法可以缩放数据。一种方法叫做标准化，可以使用。对于所选列的每个观察值，我们的程序将应用标准化公式，并将其拟合到一个刻度。</p><p id="bc89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以通过使用 StandardScaler()和拟合自变量来执行。</p><p id="a204" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 8: </strong>对数据应用算法</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kq"><img src="../Images/19f299075040a0370d366c9f32a44dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*VR79ngUNvsgkLM9Qr0o5ww.png"/></div></figure><p id="2f86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们使用了决策树分类算法。首先，我们在此算法中拟合我们的训练数据来训练我们的模型，然后使用 predict()来预测测试数据的值。在我们的过程完成后，我们只是在屏幕上打印我们的数据。这里，count_m 和 count_b 是存储预测的 M 和 B 癌症数量的变量。</p><p id="c64f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第九步:</strong>计算指标</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kr"><img src="../Images/db44b902fdf57fdf6e7a957e8842915f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*-9LqpuCKiwX0Z5WGgXICeA.png"/></div></figure><p id="c9d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在执行算法并在屏幕上打印结果后，我们还需要评估我们的模型，以检查预测的准确性，这样我们就可以知道它是否可靠。我使用的指标是:</p><ol class=""><li id="2e0b" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc kj jj jk jl bi translated">混淆矩阵</li><li id="b919" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kj jj jk jl bi translated">准确度分数</li><li id="ce43" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc kj jj jk jl bi translated">精确</li></ol><p id="db23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在是结果时间！！！</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ks"><img src="../Images/57b5dbc91331f02903f00ecad0cd82ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*ZT5fqBnzXKAJpmusDwV52A.png"/></div></figure><p id="15cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经成功地在我们的数据集上预测了 M 和 B 癌症的数量，它们分别是 46 和 68。这表明患良性癌症的几率高于恶性癌症。混淆矩阵打印值如下:</p><p id="90fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真阳性= 64</p><p id="302b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真阴性= 43</p><p id="f150" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假阳性= 3</p><p id="f793" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假阴性= 4</p><p id="dd0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">准确度为 0.9386，精确度为 0.9348。</p><p id="46b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="53e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这个项目得出的结论是，良性癌症比恶性癌症更常见。恶性肿瘤对健康有害，而良性肿瘤对健康危害不大，但如果不治疗，良性肿瘤很少会转化为恶性肿瘤。如果出现症状，不应该忽视，如果严重，可能会导致死亡。计算机辅助诊断系统显示了提高诊断准确性的潜力。但是早期发现和预防可以大大降低死亡的几率。尽早发现乳腺癌很重要。</p><p id="1477" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">限制:</strong></p><p id="8c96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个项目使用了一个决策树分类器，对于数据集中的小变化，其输出容易发生大的变化。</p><p id="d06b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">未来范围:</strong></p><p id="1f12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们计划为这个项目建立一个交互界面，并通过机器学习向患者建议预防措施和应对策略。</p></div></div>    
</body>
</html>