<html>
<head>
<title>Facial Recognition Attendance System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面部识别考勤系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/facial-recognition-is-a-modern-day-technique-capable-of-identifying-a-person-from-its-digital-image-59164121b839?source=collection_archive---------11-----------------------#2020-12-07">https://medium.com/analytics-vidhya/facial-recognition-is-a-modern-day-technique-capable-of-identifying-a-person-from-its-digital-image-59164121b839?source=collection_archive---------11-----------------------#2020-12-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if"><p id="6a0f" class="ig ih hi bd ii ij ik il im in io ip dx translated">"脸是心灵的图画，眼睛是它的解释者."<br/>――马库斯·图留斯·西塞罗</p></blockquote><p id="6fa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ip hb bi translated"><strong class="is hj"> <em class="jn">面部识别</em> </strong>是一种现代技术，能够从数字图像中识别一个人。他们通过比较一个人的面部特征和它通过训练认识的面孔来工作。它是一种生物识别技术，通过分析面部特征，从给定的图像中得出准确的结果。</p><p id="01a7" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">在这个项目中，提供了一个完整的端到端解决方案，用于使用人脸识别和身份验证的常规出勤。</p><p id="88f1" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">这项工作分为两个主要部分:</p><p id="20e4" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated"><strong class="is hj"> 1。面部识别和鉴定。</strong></p><p id="5f9c" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated"><strong class="is hj"> 2。用于服务器和其他需求的REST API。</strong></p><h1 id="b299" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.面部识别和鉴定。</h1><p id="5a89" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm ip hb bi translated">面部识别从从给定图像中提取面部开始，为图像中找到的一个或多个面部裁剪出背景。它将真实的人脸从背景中分离出来，使识别任务变得更加容易。对于人脸识别的过程，我们有不同的方法。在这篇博客中，我在谈论使用<strong class="is hj"/><a class="ae kw" href="http://dlib.net/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">dlib</strong></a><strong class="is hj"/>库</p><p id="7971" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我正在为人脸检测实现<a class="ae kw" href="http://blog.dlib.net/2014/02/dlib-186-released-make-your-own-object.html" rel="noopener ugc nofollow" target="_blank"> dlib，它使用了HOG(梯度方向直方图)&amp;支持向量机(SVM)的组合。该模型在具有锚图像的正图像和负图像上被训练。(正像表示同一个人，负像表示不同的人)</a></p><p id="6da0" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">在这个项目中，我使用<a class="ae kw" href="https://cmusatyalab.github.io/openface/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jn">open face</em></strong></a>预训练模型进行人脸嵌入。OpenFace在dlib库的孤立人脸上使用了<a class="ae kw" href="https://arxiv.org/abs/1503.03832" rel="noopener ugc nofollow" target="_blank"> FaceNet </a> (Google在3D图像上使用的模型)架构。</p><p id="9701" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">OpenFace使用简单的2D仿射变换使眼睛和鼻子出现在神经网络输入的相似位置。<strong class="is hj"> 68 </strong>地标用dlib的人脸地标检测器检测。给定输入人脸，仿射变换使眼角和鼻子接近平均位置。仿射变换还会调整图像的大小并将其裁剪到界标的边缘，因此神经网络的输入图像为96 × 96像素。</p><p id="f858" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">FaceNet在给定的输入图像上使用<strong class="is hj"> <em class="jn">三重损失函数</em> </strong>进行识别，使嵌入更加准确可靠。</p><p id="b3c4" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">学习神经网络参数的一种方法是在三重损失函数上定义一个应用的梯度下降，从而为你的面部图片提供有效的编码。为了应用三重损失，我们需要比较成对的图像。给定一张图片，要学习神经网络的参数，就要同时看几张图片。例如，给定同一个人的一对图像，我们希望它们的编码相似。然而，给定一对不同人的图像，我们希望它们的编码完全不同。在三重损失的术语中，我们要做的是总是看一个锚图像，然后我们希望锚和正图像之间的距离更小。然而，当锚与反例相比时，我们希望距离更远。因此，这就产生了术语三重损失，我们将一次看三个图像，一个正图像，一个负图像和一个锚图像。</p><p id="3ab1" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">用于训练目的的数据集由每个人不同角度的10幅图像组成，以便更精确并避免任何模糊。数据集分成70:30分别作为训练数据集和验证数据集。</p><blockquote class="kx ky kz"><p id="9952" class="iq ir jn is b it jo iv iw ix jp iz ja la jq jd je lb jr jh ji lc js jl jm ip hb bi translated">数学部分:</p></blockquote><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ld"><img src="../Images/2321079a035af20da045a5f7778d2fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NMtXXrY7fh6jTPFez6dLyw.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">来自OpenFace上的官方文件</figcaption></figure><blockquote class="kx ky kz"><p id="3b7d" class="iq ir jn is b it jo iv iw ix jp iz ja la jq jd je lb jr jh ji lc js jl jm ip hb bi translated">在哪里，</p><p id="42ac" class="iq ir jn is b it jo iv iw ix jp iz ja la jq jd je lb jr jh ji lc js jl jm ip hb bi translated">| | fθ(a)—fθ(p)| |是锚图像和正图像的差值，</p><p id="06df" class="iq ir jn is b it jo iv iw ix jp iz ja la jq jd je lb jr jh ji lc js jl jm ip hb bi translated">| | fθ(a)—fθ(n)| |是锚图像和负图像之间的差值，</p></blockquote><p id="8fcc" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我用<a class="ae kw" href="https://keras.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> Keras </strong> </a>和<a class="ae kw" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> TensorFlow </strong> </a>库做了预测的自定义NN。</p><p id="3f78" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">现在，为了分类的目的，我构建了一个定制的序列神经网络，其结构如下:</p><p id="783c" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">1.NN的输入是孤立面的128D嵌入向量。</p><p id="db8d" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">2.这是一个3阶段的CNN，批量标准化，漏失0.5。</p><p id="fd60" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">3.它对中间(隐藏)层使用Relu激活，对分类(输出)层使用softmax激活。</p><p id="2d43" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">4.输出维度是我的数据库中的人数(对我来说n=20)。</p><p id="d58b" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">5.我用Adam优化器和分类交叉熵损失编译了神经网络。</p><p id="3b8a" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">6.NN被训练成批量为64，时期数为1000。</p><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lt"><img src="../Images/af27bd198037653a8bff23fec29dd4fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*67q_YC1_SjJkE5qeO_Ln5A.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">神经网络综述</figcaption></figure><p id="b854" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我在训练模型时遇到了一个尺寸错误问题，它显示你的张量大小不合适。但是经过一番挖掘，我发现我作为输入给出的张量的大小是(128，1)，但可接受的输入大小是(128，)。</p><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lu"><img src="../Images/d6a8015a5cd1228ca114f99b4e745cdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AsUpNW-aRVOpvuFjfPSig.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">1000个时期后的训练结果</figcaption></figure><p id="2a0a" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我执行培训任务的机器有GPU支持，所以我使用CUDA库，但是在将项目部署为does文件时，它显示了一个CUDAdll无法启动的警告，请忽略它，因为它不会改变任何过程</p><p id="a2b6" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">随着我的深入，每个错误都出现了许多解决方案。</p><h1 id="4e46" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">2.服务器和需求的REST API。</h1><p id="b31c" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm ip hb bi translated">这个项目的主要目的是生产一个全功能的基于人工智能的考勤系统，为此我需要一个用户友好的用户界面，它易于导航，并能有效地向给定的机构报告每月和每年的出勤情况。</p><p id="c3b1" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我在<strong class="is hj"> <em class="jn"> flask </em> </strong>中创建了一个后端，这是一个基于python的微框架库，用于暴露和连接到前端端口，并通过一个<strong class="is hj">具象状态转移(REST) API </strong>与后端进行数据传输和用户请求交互。该数据可用于获取、放置、发布和删除数据类型，这是指读取、更新、创建和删除与数据库中资源相关的操作。</p><p id="8d8b" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我使用了一个<strong class="is hj"> MySQL数据库</strong>来满足这个系统的数据库需求。该数据库维护给定公司员工的正常出勤情况。这包括创建一个用户(除了root之外),并授予他添加、删除和修改的所有权限。然后为每日出勤创建表，表中包含当天每个员工的唯一员工id、员工姓名、上班时间和下班时间。</p><p id="3d6a" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">Pymysql库用于连接数据库和服务器，在创建用户时提供唯一的密码。</p><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lv"><img src="../Images/112e9b526948ecea5488c645cf3bd338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*130_BXGB9eUjLPp-LeMfZg.jpeg"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">实际部署</figcaption></figure><p id="e8a5" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">在这之后，我转向了这个考勤系统的用户界面。</p><p id="43fe" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我用了<a class="ae kw" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jn">React JS</em></strong></a>；JavaScript库React JS是一个声明式的、高效的、灵活的JavaScript库，用于构建用户界面</p><p id="5fd9" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我使用“react-html5-camera-photo”库捕获一张照片，并通过POST请求将其发送到服务器。像“react-bootstrap-table”和“@material-ui”这样的库帮助我构建了一个易于使用并且看起来很棒的ui。</p><p id="1b9f" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">图表用于向用户提供员工出勤的月度报告。月度图表使管理机构可以很容易地关注每个员工的出勤情况，并更有效地将数据转换为工资的成本计算。</p><p id="22f5" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">我使用Docker图像在实时使用中快速部署这个系统。</p><p id="635e" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">所以，面部识别是一个很好的研究领域。它的研究范围很广。在这个项目中，我学到了很多关于M <em class="jn">模型架构</em>、<em class="jn">前端开发</em>、S <em class="jn">服务器构建</em>、D <em class="jn">数据库管理</em>和<em class="jn">产品部署</em>的知识。</p><p id="b997" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">在整个项目中，Gaurav Chaware先生给予了极大的帮助。他是我的导师，一直指引我到最后。<br/>太感谢了，<strong class="is hj"> <em class="jn">师傅</em> </strong>。</p><p id="8ce9" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">为了进一步阅读，我提供了关于OpenFace，FaceNet研究论文的链接。</p><p id="aec1" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">open face:-<a class="ae kw" href="https://www.researchgate.net/publication/303563940_OpenFace_An_open_source_facial_behavior_analysis_toolkit" rel="noopener ugc nofollow" target="_blank">https://www . research gate . net/publication/303563940 _ open face _ An _ open _ source _ face _ behavior _ analysis _ toolkit</a></p><p id="dd18" class="pw-post-body-paragraph iq ir hi is b it jo iv iw ix jp iz ja jb jq jd je jf jr jh ji jj js jl jm ip hb bi translated">face net:-【https://arxiv.org/abs/1503.03832 T2】</p></div></div>    
</body>
</html>