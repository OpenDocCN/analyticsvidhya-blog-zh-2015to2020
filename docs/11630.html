<html>
<head>
<title>What is a floating point number ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是浮点数？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/what-is-a-floating-point-number-b376e7098ada?source=collection_archive---------15-----------------------#2020-12-11">https://medium.com/analytics-vidhya/what-is-a-floating-point-number-b376e7098ada?source=collection_archive---------15-----------------------#2020-12-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e1a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个<strong class="ih hj"> <em class="jd">数字，可以被认为是</em> </strong>的一种投影，例如用于测量，无论是时间还是距离，或者用于计数。数字是一种离散的度量方式，与连续相对，离散在某些情况下很有用。</p><p id="2ad4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在数学中<strong class="ih hj"> <em class="jd">存在多种数字</em> </strong>。比如有<strong class="ih hj"> <em class="jd">非负整数</em> </strong>，如<code class="du je jf jg jh b">0</code>或<code class="du je jf jg jh b">1</code>，用集合<code class="du je jf jg jh b">N</code>表示。</p><p id="003b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有<strong class="ih hj"> <em class="jd">整数</em> </strong>由:<code class="du je jf jg jh b"> 0</code>，负整数如<code class="du je jf jg jh b">-1</code>或<code class="du je jf jg jh b">-2</code>，正整数组成。整数由集合<code class="du je jf jg jh b">Z</code>表示。</p><p id="aafc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有<strong class="ih hj"> <em class="jd">有理数</em> </strong>，形式为<code class="du je jf jg jh b">p/q</code>，其中 p 和 q 为整数，q 与<code class="du je jf jg jh b">0</code>不同。有理数由集合<code class="du je jf jg jh b">Q</code>表示。</p><p id="2908" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数字在计算机中用一种算法来表示。集合<code class="du je jf jg jh b">N</code>用<a class="ae ji" href="https://twiserandom.com/data-structure-and-algorithms/what-is-an-unsigned-integer/" rel="noopener ugc nofollow" target="_blank">无符号数表示法</a>表示，集合<code class="du je jf jg jh b">Z</code>用<a class="ae ji" href="https://twiserandom.com/data-structure-and-algorithms/what-is-a-signed-integer/" rel="noopener ugc nofollow" target="_blank">有符号数表示法</a>表示，集合<code class="du je jf jg jh b">Q</code>用浮点数表示法表示。</p><h1 id="bb4d" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">位置数制的局限性</h1><p id="989a" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">在位置数字系统中，有些数字不能用<strong class="ih hj"> <em class="jd">有限小数序列</em> </strong>来表示。</p><p id="786b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">无理数</em> </strong>，如<code class="du je jf jg jh b">pi</code>，在位置数系中，根本无法用有限的数字序列来表示。</p><p id="5081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">形式为<code class="du je jf jg jh b">p/q</code>的有理数</em> </strong>，当选择的基数或者乘以<code class="du je jf jg jh b">1,2 ... q-1</code>的基数不能被<code class="du je jf jg jh b">q</code>整除时，不能用有限的小数序列如<code class="du je jf jg jh b">.12</code>来表示。</p><p id="f798" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如<code class="du je jf jg jh b">1/4</code>可以用十进制位数制<strong class="ih hj"><em class="jd"/></strong>来表示，因为<code class="du je jf jg jh b">10 * 2</code>可以被<code class="du je jf jg jh b">4</code>整除，这样<code class="du je jf jg jh b">1/4</code>可以写成十进制位数制，如<code class="du je jf jg jh b">0.25</code>。</p><p id="5d61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">1/3</code>在<strong class="ih hj"> <em class="jd">三进制位置数制</em> </strong>中是可表示的，因为在这种情况下借用时，我们是借用 3 的倍数，所以<code class="du je jf jg jh b">1/3</code>可以写成<code class="du je jf jg jh b">0.1</code>，以<code class="du je jf jg jh b">3</code>为基数。</p><p id="6a9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">1/3</code>在十进制位数字系统中有一个<strong class="ih hj"> <em class="jd">重复表示</em> </strong>，因为<code class="du je jf jg jh b">10 * 1 </code>、<code class="du je jf jg jh b">10 * 2 </code>不能被<code class="du je jf jg jh b">3</code>整除。因此<code class="du je jf jg jh b">1/3</code>在十进制位置数字系统中表示为重复序列<code class="du je jf jg jh b">0.33333...</code>。</p><p id="91dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以证明，<strong class="ih hj"> <em class="jd">任意重复的小数</em> </strong>，都可以写成有理数，例如:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es km"><img src="../Images/5d863570a2da116f1297114feb4130fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*w9XXhcc3MqSRgpA9p31RmQ.png"/></div></figure><p id="8de1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">当</em> </strong>把一个位置数制中一个数的小数部分限制在有限的位数时，问题就出现了。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es ku"><img src="../Images/e46661f50ff9b43233cdf504442cd264.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/0*PSk-soMqD584mQ8_.jpeg"/></div></figure><p id="b64c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当位数有限时，这意味着只能产生有限数量的小数值。因此要问的问题是，如何表示非生成的小数值，是通过生成的值之一，还是仅仅声明它不能被表示。</p><p id="b956" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来举个例子，在限制小数位数为三个  <em class="jd">时，以 2 为基数生成的小数部分的集合，<strong class="ih hj"> <em class="jd">。</em></strong></em></p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/5fd2080bc11a2b01854e4afed7db3d1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oAAF0Zm-yYgRJtdp.jpeg"/></div></figure><p id="f03e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">0.1</code>以 10 为基数，以<code class="du je jf jg jh b">2</code>为基数表示如下。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/58add1f7e5e284d56241804c8e04f9df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SUldSqFlw42G0tt8.jpeg"/></div></figure><p id="b038" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">0.1</code>小于所选基<code class="du je jf jg jh b">2</code>子集中的任何非零值，其小数位数有限，因此无法在该子集中表示。这就是<strong class="ih hj"> <em class="jd">所谓的下溢</em> </strong>。</p><p id="1447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">较大的值，如大于<code class="du je jf jg jh b">0.1</code>的值，并且不存在于生成的集合中，只能用近似来表示。例如，<code class="du je jf jg jh b">0.4</code>可以表示为<code class="du je jf jg jh b">.011</code>，在十进制上等于<code class="du je jf jg jh b">0.375</code>。 存储值与实际值之差<strong class="ih hj"> <em class="jd">如下:<code class="du je jf jg jh b">0.4 - 0.375</code>，等于<code class="du je jf jg jh b">0.025</code>。</em></strong></p><p id="77a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<code class="du je jf jg jh b">0.57</code>的存储值中减去<code class="du je jf jg jh b">0.77</code>的存储值，等于<code class="du je jf jg jh b">.110 - .100</code>，等于<code class="du je jf jg jh b">.010</code>。<code class="du je jf jg jh b">0.3</code>的存储值是<code class="du je jf jg jh b">.010</code>，因此在我们以 2 为基数的小数部分的表示中，<code class="du je jf jg jh b">0.77 - 0.57</code>等于<code class="du je jf jg jh b">0.3</code>，并且<strong class="ih hj"> <em class="jd">不等于</em> </strong> <code class="du je jf jg jh b">0.2</code>。</p><p id="e770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">向小数部分添加更多的位，将会提高所表示的数字和计算的精度。例如，<code class="du je jf jg jh b">4</code>位用于小数部分时，十进制的<code class="du je jf jg jh b">0.1</code>可以表示为二进制的<code class="du je jf jg jh b">0.0001</code>。</p><p id="8dd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">即使位数再多，前面讨论的<strong class="ih hj"> <em class="jd">问题也会一直持续</em> </strong>。有些数不能用有限的位数准确表示，比如无理数，而且位数有限，可用的小数部分有限，这样精度有限。</p><h1 id="a823" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">IEEE 浮点格式</h1><p id="7e89" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">使用 IEEE 浮点数表示法时，<strong class="ih hj"> <em class="jd">除了精度</em> </strong>(为小数部分选择的位数)之外，还有符号位和指数位。</p><p id="ff00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着，由于指数和符号位的存在，可以生成额外的值，所以简单地说，这是<strong class="ih hj"> <em class="jd">提高</em> </strong>精度的一种方式。</p><p id="05df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个 IEEE 浮点数，有一个位表示和一个数值。IEEE 规定了浮点数必须具有的<em class="jd">位格式</em>，并且通过它来解释它的数值。这种位格式可以用于不同的字长。一个字是由许多位组成的，所以这种格式可以用于 32 位、64 位、128 位等等…它的工作原理是一样的。</p><p id="0c0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个<strong class="ih hj"> <em class="jd">单精度</em> </strong>浮点数有 32 位表示，一个<strong class="ih hj"> <em class="jd">双精度</em> </strong>浮点数有 64 位表示，一个<strong class="ih hj"> <em class="jd">四倍精度</em> </strong>浮点数有 128 位表示</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/024691005157bf1f36293ff68dd1176e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R4FjyW4aCaN-_O-S.jpeg"/></div></figure><h2 id="2d8f" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">无限值</h2><p id="2439" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">当指数位全部设置为<code class="du je jf jg jh b">1</code>，精度位全部设置为<code class="du je jf jg jh b">0</code>时，浮点数位序列表示一个无限值。</p><p id="17bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有<strong class="ih hj"> <em class="jd">两个无穷大值</em> </strong>，正负无穷大。当符号位为<code class="du je jf jg jh b">0</code>时，这是正无穷大，当符号位为<code class="du je jf jg jh b">1</code>时，这是负无穷大。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/710e37c8b69795ecc496e28431539726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J0PS6Nqej6BHyrlC.jpeg"/></div></figure><p id="a350" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">无穷大可以引起</em> </strong>例如，当一个非零数除以<code class="du je jf jg jh b">0</code>时，或者当一个运算的结果，经过舍入后具有无穷大的值时。</p><h2 id="5211" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">不是数字值</h2><p id="2d67" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">当指数位全部设置为<code class="du je jf jg jh b">1</code>，精度位设置为除浮点数的位序列<code class="du je jf jg jh b">0</code>之外的任何值时，<strong class="ih hj"> <em class="jd">表示</em> </strong> <code class="du je jf jg jh b"><strong class="ih hj"><em class="jd">NAN</em></strong></code>。</p><p id="a484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值<code class="du je jf jg jh b">NAN</code>，表示不是一个数，<strong class="ih hj"> <em class="jd">它可能发生</em> </strong> <em class="jd"> </em>例如，当<code class="du je jf jg jh b">0</code>除以<code class="du je jf jg jh b">0</code>时，或者当正负无穷大相加时。</p><p id="fe82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不存在负 NAN 或正 NAN，所以<strong class="ih hj"> <em class="jd">符号位与</em> </strong>无关。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/5df4507a5d24c627f3d87d592895d54d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-aFO-vmHh6jTLxyK.jpeg"/></div></figure><h2 id="8388" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">非标准值</h2><p id="f2ff" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">当指数位全部设置为<code class="du je jf jg jh b">0</code>时，浮点数处于所谓的<em class="jd"> </em> <strong class="ih hj"> <em class="jd">非规格化形式</em> </strong>。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/29702a335d04aa64f04b854a2fa322e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JeXRaMH1QccoQmvd.jpeg"/></div></figure><p id="1924" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">浮点数的</em> <strong class="ih hj"> <em class="jd">有理数值</em> </strong>，等于，对符号值，乘以<code class="du je jf jg jh b">2</code>对指数值，乘以精度值</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/85db3dbed4039a352697c119d5bf6950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9NEVjX9EUQFxF84z.jpeg"/></div></figure><p id="7e00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">符号值</em> </strong>如果符号位值为<code class="du je jf jg jh b">0</code>则为<code class="du je jf jg jh b">1</code>，如果符号位值为<code class="du je jf jg jh b">1</code>则为<code class="du je jf jg jh b">-1</code>。</p><p id="619b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用公式<code class="du je jf jg jh b">1 - bias</code>计算<strong class="ih hj"> <em class="jd">指数值</em> </strong> <em class="jd"> </em>。偏差通过以下公式计算:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/f6f3d2d2fedea15b0b672b5256b72450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VqF6zrJPflwGaLYJttmFfQ.png"/></div></figure><p id="d67a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">精度值</em> </strong>与精度位值相同。精度位值计算为分数位置二进制数。</p><p id="29ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">到</em> <strong class="ih hj"> <em class="jd">举例说明了这个</em> </strong>，比方说，使用<code class="du je jf jg jh b">7</code>位对浮点进行编码。<code class="du je jf jg jh b">1</code>位是符号位，3 位是指数位，3 位是精度位。</p><p id="09ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">符号值</em> </strong> <em class="jd">在符号位为<code class="du je jf jg jh b">0</code>时为</em>等于<code class="du je jf jg jh b">1</code>，在符号位为 1 时为<code class="du je jf jg jh b">-1</code>。</p><p id="b931" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">指数值</em> </strong>等于<code class="du je jf jg jh b">1 - bias</code>，等于<code class="du je jf jg jh b">-2</code>。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es km"><img src="../Images/1f03d280496fdd45cae807d3b339a13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*xDyfskWvLG-0u18PnvjKYA.png"/></div></figure><p id="76da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">精度位值</em> </strong>被计算为位置二进制分数。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/f25c162b0317d29528c4645adc712e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pn1iJUjCDDbEki0F.jpeg"/></div></figure><p id="15f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">精度值</em> </strong>与精度位值相同。</p><p id="6b8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，当处于非规格化形式时，<code class="du je jf jg jh b">7</code>位浮点数、<strong class="ih hj"> <em class="jd">可能的有理数值</em> </strong> <em class="jd"> </em>为:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/a11429f53faa925dc89f6081a04ad9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eoqTbxpB0rYZxZQp.jpeg"/></div></figure><h2 id="ea41" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">标准化值</h2><p id="8b76" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated"><em class="jd">当</em> <strong class="ih hj"> <em class="jd">指数位</em> </strong> <em class="jd"> </em>未全部设置为<code class="du je jf jg jh b">0</code>或未全部设置为<code class="du je jf jg jh b">1</code>时，浮点数位为规格化形式。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/9480932c24fdaa64741fc5675911bdd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h93QLwWTYILA8Swj18g6Tw.png"/></div></figure><p id="1356" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">浮点数<strong class="ih hj"> <em class="jd">有理数</em> </strong> <em class="jd"> </em>，等于符号值，乘以二的幂的指数值，乘以精度值。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/01527ca4e99c44ad055f4524686d5bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*COcXZdcDwP1Go32ba3vG3Q.png"/></div></figure><p id="d5de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当符号位为<code class="du je jf jg jh b">0</code>时，<strong class="ih hj"> <em class="jd">符号值</em> </strong>等于<code class="du je jf jg jh b">1</code>，当符号位设置为<code class="du je jf jg jh b">1</code>时，等于<code class="du je jf jg jh b">-1</code>。</p><p id="cbaa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">指数值</em> </strong>，等于指数位值减去偏差。计算指数位值，就好像指数位是二进制位置数字系统一样。偏差的计算方式与非规格化形式相同。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/a10fad35c687c665cbbb596e1c13b6ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TtBA5W_r9LRpun-UjOgQQ.png"/></div></figure><p id="dc15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">的精度值</em> </strong>，等于 1，加上精度位值。计算精度位值时，假定精度位是以二为基数的小数。</p><p id="60be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了<strong class="ih hj"> <em class="jd">说明这个</em> </strong>，我们就说浮点数是用<code class="du je jf jg jh b">7</code>位编码的。<code class="du je jf jg jh b">1</code>位用于符号，<code class="du je jf jg jh b">3</code>位用于指数，<code class="du je jf jg jh b">3</code>位用于精度。</p><p id="2e6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当符号位为<code class="du je jf jg jh b">0</code>时，<strong class="ih hj"> <em class="jd">符号值等于</em> </strong>至<code class="du je jf jg jh b">1</code>，当符号位为<code class="du je jf jg jh b">1</code>时，等于<code class="du je jf jg jh b">-1</code>。</p><p id="bedb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">可能的指数值</em> </strong>为:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/daf61be41ea82f5f7b07de122cd64e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzCdf8in_o7xLHtvCCQKxg.png"/></div></figure><p id="c998" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="jd"/></strong>可能的精度值有:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/a39e660f640c44b2b786d9e8edbeb116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hrUP4O7zVkqOsJQj.jpeg"/></div></figure><p id="2f82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7 位浮点数，可能的<strong class="ih hj"> <em class="jd">规格化形式有理数</em> </strong> <em class="jd"> </em>有:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/ac9ef9b62d4d457b37c95f6c5dcb7ffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kEMHq5HFkt-2-cxf.jpeg"/></div></figure><h2 id="98a9" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">当对 7 位进行编码时，可视化浮点可能值</h2><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es kv"><img src="../Images/e89e50570b65d73c4afd4a352ca5daaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrlaMds3MrKaCQr-nUMujA.png"/></div></figure><h2 id="96d1" class="kw jk hi bd jl kx ky kz jp la lb lc jt iq ld le jx iu lf lg kb iy lh li kf lj bi translated">交换性、结合性和分配性</h2><pre class="kn ko kp kq fd lk jh ll lm aw ln bi"><span id="b670" class="kw jk hi jh b fi lo lp l lq lr">IEEE floating point addition <br/>    commutative : a + b = b + a <br/>    not associative : ( 5 + 1e40  )  - 1e40 != 5 + ( 1e40    - 1e40 )<br/>                  because               0   !=  5</span><span id="a687" class="kw jk hi jh b fi ls lp l lq lr">IEEE floating point multiplication <br/>    commutative : a * b = b * a <br/>    not associative : 1e40 * ( 1e300 * 1e-300 ) != ( 1e40 *  1e300 ) * 1e-300 <br/>                  because             1e40      !=   Infinity<br/>    not distributive over addition and subtraction <br/>                  0 * (1e308 + 1e308 ) != ( 0 * 1e308 )  + ( 0 * 1e308 )<br/>                  because          NaN != 0<br/>                  1e30 * ( 1e300 - 1e300 ) != 1e30 * 1e300 - 1e200 *1e300<br/>                  because        0         !=   NaN</span><span id="523a" class="kw jk hi jh b fi ls lp l lq lr">IEEE floating point division <br/>    not commutative  : ( 1.0 / 2 ) != ( 2.0 / 1 ) <br/>    not associative  : ( 1.0 / 2 ) / 3 != 1 / ( 2.0 / 3 )  <br/>                  because     0.1666 !=   1.5</span><span id="7507" class="kw jk hi jh b fi ls lp l lq lr">IEEE floating point subtraction <br/>    not commutative : 1.0 - 2 != 2 - 1.0  <br/>    not associative : -4 - ( -4 - -3.0 ) != ( -4 - -4.0 ) - -3<br/>          -4 - ( -4 - -3 )   = -4 - -1 = -3 <br/>          ( -4 - -4 ) - -3 = 0 - -3 = 3</span></pre><h1 id="4bcd" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">C 语言中的浮点格式</h1><p id="9988" class="pw-post-body-paragraph if ig hi ih b ii kh ik il im ki io ip iq kj is it iu kk iw ix iy kl ja jb jc hb bi translated">在计算机中，浮点格式用来表示实数或有理数。C 标准有三种数据类型<strong class="ih hj"><em class="jd"/></strong>用于浮点标准，它们是:<code class="du je jf jg jh b">float</code>、<code class="du je jf jg jh b">double</code>和<code class="du je jf jg jh b">long double</code>。</p><p id="740b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c 标准没有指定使用哪种浮点标准<strong class="ih hj">，但通常使用 IEEE 浮点格式，因此<code class="du je jf jg jh b">float</code>被映射到 IEEE 单精度浮点格式，而<code class="du je jf jg jh b">double</code>被映射到 IEEE 双精度浮点格式。</strong></p><p id="79a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，浮点文字(如<code class="du je jf jg jh b">1.0</code>)具有类型<code class="du je jf jg jh b">double</code>，除非以<code class="du je jf jg jh b">f</code>为后缀，在这种情况下，它将具有类型<code class="du je jf jg jh b">float</code>，或者以<code class="du je jf jg jh b">l</code>为后缀，在这种情况下，它将具有类型<code class="du je jf jg jh b">long double</code>。</p><p id="546a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了<strong class="ih hj"> <em class="jd">检测浮点值</em> </strong> <em class="jd">是否为</em> <code class="du je jf jg jh b">NaN</code>，可以使用<code class="du je jf jg jh b">isnan</code>函数来完成，为了检测浮点数是否为无穷大，可以使用<code class="du je jf jg jh b">isinf</code>函数来完成。</p><p id="2a35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">isnan</code>和<code class="du je jf jg jh b">isinf</code>功能都在<code class="du je jf jg jh b">math.h</code>标题中定义。</p><pre class="kn ko kp kq fd lk jh ll lm aw ln bi"><span id="6892" class="kw jk hi jh b fi lo lp l lq lr">#include&lt;stdio.h&gt;<br/>#include&lt;math.h&gt;</span><span id="6301" class="kw jk hi jh b fi ls lp l lq lr">int main ( void ){<br/>  printf( "%d\n", isnan( 0.0/0.0 ) );<br/>  /* 0.0 divided by 0.0 , results in<br/>     not a number , as such isnan<br/>     returns a nonzero value . */<br/>  // Output : 1<br/>  printf( "%d\n" , isinf( 1.0/0.0 ) );<br/>  /* 1.0 divided by 0.0 results in<br/>     + infinity , as such isinf<br/>     returns a nonzero value  */<br/>  // Output : 1<br/>}</span></pre></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="e822" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">原载于 2020 年 12 月 11 日 https://twiserandom.com</em><a class="ae ji" href="https://twiserandom.com/data-structure-and-algorithms/what-is-a-floating-point-number/" rel="noopener ugc nofollow" target="_blank"><em class="jd"/></a><em class="jd">。</em></p></div></div>    
</body>
</html>