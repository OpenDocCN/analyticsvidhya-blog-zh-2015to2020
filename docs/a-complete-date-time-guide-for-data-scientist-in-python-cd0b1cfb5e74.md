# Python ä¸­æ•°æ®ç§‘å­¦å®¶çš„å®Œæ•´æ—¥æœŸæ—¶é—´æŒ‡å—

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/a-complete-date-time-guide-for-data-scientist-in-python-cd0b1cfb5e74?source=collection_archive---------2----------------------->

![](img/d9aeecd6de5a0973d131966b770df211.png)

çš®çš®å²›ğŸŒ´ï¼Œæ³°å›½

## ä½¿ç”¨ä¸åŒçš„ python åŒ…åœ¨ python ä¸­å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ•°æ®çš„å®Œæ•´æŒ‡å—

åœ¨æ•°æ®ç§‘å­¦å·¥ä½œçš„æŸäº›æ–¹é¢ï¼Œæ¯ä¸ªäººéƒ½éœ€è¦å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ•°æ®ã€‚æ—¥æœŸå’Œæ—¶é—´æ•°æ®æœ‰åŠ©äºå‘ç°é‡è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸€å‘¨ä¸­çš„å“ªä¸€å¤©ä½ çš„ç½‘ç«™ç‚¹å‡»ç‡æœ€é«˜ï¼Œå“ªä¸€å°æ—¶äº¤æ˜“é‡æœ€é«˜ï¼Œæˆ–è€…å“ªä¸€å°æ—¶å¯†ç /è‚¡ç¥¨äº¤æ˜“é‡æœ€é«˜ç­‰ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå‡ ä¸ªéå¸¸é‡è¦çš„ python åŒ…å¯¹æ—¥æœŸå’Œæ—¶é—´æ•°æ®çš„ç”¨å¤„ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ï¼Œåˆ«å†åºŸè¯äº†ã€‚

# **1ã€‚ç†ŠçŒ«**

pandas å’Œ numpy æ˜¯æ•°æ®ç§‘å­¦ä¸­ä½¿ç”¨æœ€å¤šçš„ python åŒ…ã€‚ç†ŠçŒ«å¯ä»¥ç”¨æ¥æ¸…ç†å’Œå¤„ç†æ—¥æœŸå’Œæ—¶é—´æ•°æ®ã€‚

**1.1 å­—ç¬¦ä¸²åˆ°æ—¶é—´æˆ³**
å½“æˆ‘ä»¬ä½¿ç”¨`pd.read_csv('data.csv')`å‘½ä»¤è¯»å– CSV æ–‡ä»¶æ—¶ï¼Œpandas å°†æ—¥æœŸåˆ—ä½œä¸ºå¯¹è±¡(å­—ç¬¦ä¸²)è¯»å–ã€‚ç†ŠçŒ«å¯ä»¥ç”¨æ¥å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ—¶é—´æˆ³å¯¹è±¡ã€‚

é¦–æ‰¹è¿›å£ç†ŠçŒ«:`import pandas as pd`

æœ¬æ–‡æˆ‘ä¼šç”¨[æ©„æ¦„çƒä¸–ç•Œæ¯ 2019 æ•°æ®](https://www.rugbyworldcup.com/matches)ã€‚

![](img/e20368d88f0bb323c6d5edc5abded8be.png)

å­—ç¬¦ä¸²åˆ°æ—¶é—´æˆ³

> **å¥½å¤„ 1 :** æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`pd.to.datetime()`å°†ç§’æˆ–çº³ç§’è½¬æ¢æˆæ—¥æœŸæ—¶é—´

![](img/8b7698a4e4a68fd7e693637e8946c5ee.png)

ç§’å’Œçº³ç§’åˆ°æ—¶é—´æˆ³çš„è½¬æ¢

## **1.2 å¤„ç†æ—¶é—´æˆ³**

ä¸€æ—¦æˆ‘ä»¬å°†æ—¥æœŸå’Œæ—¶é—´ä½œä¸ºæ—¶é—´æˆ³ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»ä¸­è·å¾—å¹´ã€æœˆã€æœˆä¸­çš„æŸä¸€å¤©ã€æ˜ŸæœŸå‡ ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’é’Ÿã€‚

![](img/152eed0f718276630f10c9612c2edc4c.png)

æ—¶é—´æˆ³ä¸ºå¹´ã€æœˆã€æ—¥ã€å‘¨ã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’

> **åŠ æˆ:** *å¦‚ä½•æ”¹å˜æ—¶é—´æˆ³æ ¼å¼ï¼Ÿ* `*strftime(format="desired_format")*` *æ˜¯é€‰é¡¹ã€‚å‚è§ä¸‹é¢çš„ä¾‹å­ã€‚*

![](img/4d8ab94f49adaec0d4391ac811b9a579.png)

**æ³¨:** `strftime()`è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™åº”è¯¥ä½¿ç”¨`pd.to_datetime()`æ›´æ”¹ä¸ºæ—¶é—´æˆ³ã€‚

# **2ã€‚æ—¥æœŸæ—¶é—´**

datetime python åŒ…æ˜¯å¦ä¸€ä¸ªå¤„ç†æ—¥æœŸå’Œæ—¶é—´æ•°æ®çš„å¯¼å…¥åŒ…ã€‚

ä»æ—¥æœŸæ—¶é—´å¯¼å…¥å­åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
from datetime import datetime, timedelta, timezone
```

**æ—¥æœŸæ—¶é—´**ç”¨äºåˆ›å»ºå’Œå¤„ç†æ—¥æœŸæ—¶é—´å¯¹è±¡ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹`datetime`çš„å‡ ä¸ªé‡è¦ç”¨æ³•ã€‚

**datetime.now()** â†’å½“å‰æ—¶åŒºçš„å½“å‰æ—¥æœŸå’Œæ—¶é—´

**datetime.utcnow()** â†’å½“å‰ UTC æ—¶é—´

**datetime.taoday()** â†’å½“å‰æ—¶åŒºçš„å½“å‰æ—¥æœŸå’Œæ—¶é—´

**æ—¥æœŸæ—¶é—´(å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’)** â†’åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡

> æˆ‘ä»¬è¿˜å¯ä»¥ä»ä¸æ—¶é—´æˆ³å¯¹è±¡ç›¸åŒçš„ datetime å¯¹è±¡ä¸­è·å–å¹´ã€æœˆã€æœˆã€æ—¥ã€æ˜ŸæœŸã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’çš„å€¼ã€‚

![](img/bef924c58d579c21681b4f0c53d94210.png)

æ—¥æœŸæ—¶é—´ç¤ºä¾‹

**timedelta** ä¸»è¦ç”¨äºä» datetime å¯¹è±¡ä¸­åŠ å‡æ—¶é—´ã€‚

> ç¤ºä¾‹:
> 
> datetime timedelta(å‘¨=0ï¼Œå¤©=0ï¼Œå°æ—¶=0ï¼Œåˆ†é’Ÿ=0ï¼Œç§’é’Ÿ=0)ï¼Œå…¶ä¸­ datetime æ˜¯ datetime å¯¹è±¡ã€‚

![](img/4adedf9f69bc276f166542a4de61bee2.png)

æ—¶é—´å¢é‡

# **3ã€‚pytz**

è¿™ä¸ªåº“å…è®¸ä½¿ç”¨ Python 2.4 æˆ–æ›´é«˜ç‰ˆæœ¬è¿›è¡Œç²¾ç¡®çš„è·¨å¹³å°æ—¶åŒºè®¡ç®—ã€‚

é€šè¿‡ pip å®‰è£…`pytz`ã€‚`pip install pytz`ã€‚

pytz å¯ç”¨äºè·å–ç‰¹å®šæ—¶åŒºæ—¥æœŸå’Œæ—¶é—´ï¼Œä¹Ÿå¯ç”¨äºåˆ›å»ºç‰¹å®šæ—¶åŒºçš„ datetime å¯¹è±¡ã€‚è§ä¸‹å›¾ä¸­çš„ä¾‹å­ã€‚

![](img/5ecaef7f3556dc387d2bfa592de05e5a.png)

**pytz**

# **4ã€‚æ—¥æœŸå·¥å…·**

æˆ‘å‘ç°äº† dateutil åŒ…çš„ä¸¤ä¸ªé‡è¦åº”ç”¨:I .è§£æå’Œ IIã€‚è·å–ç›¸å¯¹æ—¥æœŸå’Œæ—¶é—´(datetime å¯¹è±¡)

ä¸€ã€**è§£æ**:è§£ææ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´çš„è¿‡ç¨‹ã€‚

äºŒã€‚**è·å–ç›¸å¯¹æ—¥æœŸå’Œæ—¶é—´**:æˆ‘ä»¬åˆšåˆšå­¦ä¹ äº† timedelta çš„æ—¶é—´å‡æ³•å’ŒåŠ æ³•ã€‚timedelta åŠ ä¸Šæˆ–å‡å»ç²¾ç¡®çš„æ•°å­—ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦è·å¾—ç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚ä»ä»Šå¤©ç®—èµ·çš„ä¸€ä¸ªæœˆä¹‹å‰æˆ–ä¹‹åçš„æ—¶é—´ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç»†èŠ‚éå¸¸æœ‰ç”¨ã€‚è§ä¸‹å›¾ä¸­çš„ä¾‹å­ã€‚

![](img/835d5eadfb585a6c0346343c49c98b34.png)

æ—¥æœŸç¤ºä¾‹

> P **ro æç¤º:**

1.  æ€»æ˜¯ä½¿ç”¨`relativedelta` ä»ç‰¹å®šçš„æ—¶é—´è·å¾—å‡†ç¡®çš„æ—¶é—´ï¼Œå› ä¸ºæ¯ä¸ªæœˆçš„å¤©æ•°ä¸ä¸€æ ·ï¼Œè¿™ä½¿å¾—å¾ˆéš¾ä½¿ç”¨`timedelta`ã€‚
2.  å¦‚æœä½ çŸ¥é“ä¸¤ä¸ªæ—¶åŒºçš„æ—¶å·®ï¼Œé‚£ä¹ˆç”¨`timedelta`ä»£æ›¿`pytz`ã€‚
3.  ä½¿ç”¨`pandas dataframe`æ—¶ï¼Œä½¿ç”¨`pandas`å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸ&æ—¶é—´(æ—¶é—´æˆ³)ã€‚

åœ¨ Github ä¸Šæ‰¾åˆ° [Jupyter ç¬”è®°æœ¬æŸ¥çœ‹ä»£ç ã€‚](https://github.com/dc-aichara/DS-ML-Public/blob/master/Medium_Files/Date_Time.ipynb)

å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡ LinkedIn æˆ– twitter è”ç³»æˆ‘ã€‚

æ„Ÿè°¢æ‚¨é˜…è¯»æ–‡ç« ã€‚