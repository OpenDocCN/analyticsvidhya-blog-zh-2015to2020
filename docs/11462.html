<html>
<head>
<title>Hands On Data Visualization with Seaborn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Seaborn 数据可视化实践</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hands-on-data-visualization-with-seaborn-1aefc20569e9?source=collection_archive---------3-----------------------#2020-12-04">https://medium.com/analytics-vidhya/hands-on-data-visualization-with-seaborn-1aefc20569e9?source=collection_archive---------3-----------------------#2020-12-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/0d0e0acd7a0290596620cb5edd38e967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*fUgqcD4ZI1N5_QuaTSb75g.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">图片 src : <a class="ae iq" href="https://www.freepik.com/free-vector/business-people-working-control-center-with-big-screens-flat-illustration_11235252.htm#page=1&amp;query=data&amp;position=7" rel="noopener ugc nofollow" target="_blank"> freepik </a></figcaption></figure><p id="5f05" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Seaborn 用于在 python 中制作统计图形。它构建在<a class="ae iq" href="https://en.wikipedia.org/wiki/Matplotlib" rel="noopener ugc nofollow" target="_blank"> matplotLib </a>之上。为了理解你的数据，你需要将它们可视化。所以让我们用一些代码来弄脏我们的手。</p><p id="4a0b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">先决条件:<code class="du jp jq jr js b"><a class="ae iq" href="https://numpy.org/doc/stable/user/quickstart.html" rel="noopener ugc nofollow" target="_blank">Numpy</a></code> <code class="du jp jq jr js b"><a class="ae iq" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html" rel="noopener ugc nofollow" target="_blank">Pandas — just to read CSV</a></code></p><p id="7ba6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们需要的必要库是:-</p><ul class=""><li id="0b08" class="jt ju hi it b iu iv iy iz jc jv jg jw jk jx jo jy jz ka kb bi translated"><code class="du jp jq jr js b">seaborn</code></li><li id="4905" class="jt ju hi it b iu kc iy kd jc ke jg kf jk kg jo jy jz ka kb bi translated"><code class="du jp jq jr js b">numpy </code>和<code class="du jp jq jr js b">pandas</code></li><li id="9b9d" class="jt ju hi it b iu kc iy kd jc ke jg kf jk kg jo jy jz ka kb bi translated"><code class="du jp jq jr js b">pyplot </code>从<code class="du jp jq jr js b">matplotLib</code></li></ul><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="b04c" class="kp kq hi js b fi kr ks l kt ku">import numpy as np<br/>import pandas as pd<br/>from matplotlib import pyplot as plt<br/>%matplotlib inline</span></pre><p id="0547" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du jp jq jr js b">%matplotlib inline</code>将 matplotlib 的后端设置为<code class="du jp jq jr js b">inline</code>这样，绘图命令的输出在前端内联显示，就像您正在使用的 Jupyter 笔记本一样，绘图将显示在您编写的代码下方。</p><p id="8cae" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Seaborn 有内置数据。所以让我们利用它们。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="931c" class="kp kq hi js b fi kr ks l kt ku"># setting dark grid (whitegrid is other option), it makes visualisation easy</span><span id="ca6a" class="kp kq hi js b fi kv ks l kt ku">sns.set(style = 'darkgrid')</span><span id="a363" class="kp kq hi js b fi kv ks l kt ku"># for any other data you can see <br/># <a class="ae iq" href="https://github.com/mwaskom/seaborn-data" rel="noopener ugc nofollow" target="_blank">https://github.com/mwaskom/seaborn-data</a><br/># But we will be using them for further plots</span><span id="99e2" class="kp kq hi js b fi kv ks l kt ku"># loading tips data<br/>tips = sns.load_dataset('tips')<br/>tips.head(5) # To see how data looks</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/83c2c4772eaf684c42aab5b5fa505422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*RAzmY1UJhiXmxPnJ0FN2cA.png"/></div></figure><ol class=""><li id="97d4" class="jt ju hi it b iu iv iy iz jc jv jg jw jk jx jo kx jz ka kb bi translated">关系图:为了找到数据中两个数字特征之间的关系，我们使用这个图。这里的<code class="du jp jq jr js b">total_bill</code>和<code class="du jp jq jr js b">tip</code>是我们可以使用的数字特征。</li></ol><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="2ea0" class="kp kq hi js b fi kr ks l kt ku">sns.relplot(x = ‘total_bill’, y = ‘tip’, data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/fb42f4acbe34546bdeef84ece821f6bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*3q_BacNTbz1h9Rtl5nAWAw.png"/></div></figure><p id="d06e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们实际上可以包括<code class="du jp jq jr js b">hue</code>用于分等级，这里我们可以设置为吸烟者或非吸烟者。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="e8b3" class="kp kq hi js b fi kr ks l kt ku">sns.relplot(x = ‘total_bill’, y = ‘tip’, data = tips, hue = ‘smoker’)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/92181d6d98eb036f38e79ce2aa90d38c.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*xs23GMX4vscoM8ijUQVnPA.png"/></div></figure><p id="06a7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du jp jq jr js b">size</code>将产生不同大小元素的变量分组</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="ec04" class="kp kq hi js b fi kr ks l kt ku">sns.relplot(x = ‘total_bill’, y = ‘tip’, data = tips, size = 'size')<br/># including sizes you can set the plot size</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es la"><img src="../Images/cc3da23fe89476c92f9aefc3e6d923ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*AdClmm1ViZPN7DigyvVY-A.png"/></div></figure><p id="c5d3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">2.线图:这也是一种数值数据的绘制方式。你已经在股票市场价格、比特币价格等方面看到了这些情节</p><p id="e854" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">通过使用<code class="du jp jq jr js b">kind</code>，我们可以改变绘制的图形类型。默认设置为<code class="du jp jq jr js b">scatter</code>。现在我们把它改成<code class="du jp jq jr js b">line</code>。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="e69a" class="kp kq hi js b fi kr ks l kt ku">sns.relplot(x = 'time', y = 'value', kind = 'line', data = df_random, sort = True)<br/># sort true -&gt; Just to make sure graph X - axis "time" is sorted <br/># if it is not sorted it can arbitrary data &lt;we cannot understand anything from them&gt;</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/8eedb34ee59feedd00f62f0fc20506d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*nOV0mQ3Q8DhpEyexTh47UQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">这里，我们在<code class="du jp jq jr js b">numpy.random</code>的帮助下生成了随机数据，并在 pandas 的帮助下将它们转换成数据帧</figcaption></figure><p id="b5eb" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">像散点图一样，我们可以在线图的参数中添加<code class="du jp jq jr js b">hue</code>。</p><p id="f91e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">**我们可以从<code class="du jp jq jr js b">sns.lineplot()</code>开始绘制线图</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="2179" class="kp kq hi js b fi kr ks l kt ku">sns.lineplot(x = 'total_bill', y = 'tip', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/40952f3714cda8143c38495b032700d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*y_Pc-XQGA6EjZOsuwCJ8eQ.png"/></div></figure><p id="91f3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">**我们可以通过<code class="du jp jq jr js b">sns.scatterplot()</code>制作散点图</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="9583" class="kp kq hi js b fi kr ks l kt ku">sns.scatterplot(x = 'total_bill', y = 'tip', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/75b56552a085fc4965b776366b2c033d.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*NrCCzZGtoxpSvZAPSaaRzg.png"/></div></figure><p id="3803" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">3.Catplot:数据中分类特征的绘图。在提示数据中<code class="du jp jq jr js b">day</code>有<code class="du jp jq jr js b">categorical data</code>，<code class="du jp jq jr js b">total_bill</code>有<code class="du jp jq jr js b">numerical data</code>。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="1a5c" class="kp kq hi js b fi kr ks l kt ku">sns.catplot(x = 'day', y = 'total_bill', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/3cfde65cb1b08f49defdbf6e10aab74c.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*rYGqEOuYvL76Ky_V6nMspA.png"/></div></figure><p id="829a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们甚至可以交换<code class="du jp jq jr js b">x</code>和<code class="du jp jq jr js b">y</code>轴上的变量，得到一个水平的 catplot 图。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/df236459775db7a81b8cd21144823965.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*wujAAnnpCpFddTGytSTm_g.png"/></div></figure><p id="1013" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在<code class="du jp jq jr js b">catplot()</code>中，我们可以将<code class="du jp jq jr js b">kind</code>参数设置为<code class="du jp jq jr js b">swarm</code>以避免点重叠。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/2e544884a7e0eb8dfd22f72e8d384b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*k2xGTSYgrEAiqfxDOJUhkw.png"/></div></figure><p id="1005" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">4.箱线图:为了了解数据的详细分布(数据点的位置),使用箱线图</p><p id="1af7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们可以将 catplot 中的种类更改为<code class="du jp jq jr js b">'box'</code>或者使用 sns.boxplot()</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="1e46" class="kp kq hi js b fi kr ks l kt ku">sns.boxplot(x = 'day', y = 'total_bill', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/0305e7f7ed0360be88dbfd058d3e0a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*npYWtKmi8xuO61utd8Kdhw.png"/></div></figure><p id="7564" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我们可以在此图中添加<code class="du jp jq jr js b">hue</code>,如下所示</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="70e1" class="kp kq hi js b fi kr ks l kt ku">sns.boxplot(x = 'day', y = 'total_bill', data = tips, hue = 'sex')</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/f5144f990ec47e6ba8d2d5034c09155d.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*51GGhlIgs7H9aVt161V6dQ.png"/></div></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/9cbb1f1dceecdfb2b688b6b13ab49ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*LRstTjgZ-xJCBUp6V7o26A.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><a class="ae iq" href="http://web.pdx.edu/~stipakb/download/PA551/boxplot.html" rel="noopener ugc nofollow" target="_blank">http://web.pdx.edu/~stipakb/download/PA551/boxplot.html</a></figcaption></figure><p id="2160" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><a class="ae iq" href="http://web.pdx.edu/~stipakb/download/PA551/boxplot.html" rel="noopener ugc nofollow" target="_blank">更多关于 boxplot </a></p><p id="9f5c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">**箱线图的厚度告诉我们什么，它只是覆盖了数据</p><p id="55d4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">5.Violin Plot:它是箱线图和基础分布的特征核密度估计的组合。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="0335" class="kp kq hi js b fi kr ks l kt ku">sns.violinplot(x="day", y="total_bill", data=tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/fd05dd60038faad74883821152621560.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*bq-asTQGm2RMOZqgG-ys2w.png"/></div></figure><p id="e1cb" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">侧面的曲线表示样品的密度分布，中心线起到箱线图的作用。</p><p id="534c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这可能是一种有效且有吸引力的方式来一次显示数据的多种分布，但请记住，估计过程受样本大小的影响，相对较小样本的小提琴可能看起来平滑得令人误解。</p><p id="3368" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">6.KDEplot:核密度估计(KDE)图是一种可视化数据集中观察值分布的方法，类似于直方图。KDE 使用一维或多维的连续概率密度曲线来表示数据。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="6ab7" class="kp kq hi js b fi kr ks l kt ku">sns.kdeplot(x, shade=True, cbar = True, bw = 1, cut = 0)<br/># x is random 100 points</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ld"><img src="../Images/4c3d993a192ed1704f2e85436126c431.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*v1UMioDwMsVHrXbbZtcqRA.png"/></div></div></figure><p id="8782" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><code class="du jp jq jr js b">shade = True</code>KDE 曲线下区域的阴影。我们可以使用<code class="du jp jq jr js b">bw</code>来控制<code class="du jp jq jr js b">bandwidth</code>。参数<code class="du jp jq jr js b">cut</code>从极端数据点得出切割* bw 的估计值，即切割并缩放图形。</p><p id="3210" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">7.Jointplot:它可以一次处理两个特性分布。它显示了两个变量(双变量)之间的关系以及页边空白中的 1D 剖面(单变量)。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="ffbb" class="kp kq hi js b fi kr ks l kt ku">sns.jointplot(x = tips['total_bill'], y = tips['tip'])</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es li"><img src="../Images/eb320e82e2ea176cdc748585b6b5c188.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*x1toTp1fNSWDRzDKI_6PgA.png"/></div></figure><p id="e3a7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">通过使用<code class="du jp jq jr js b">kind</code>，我们可以选择要绘制的图形类型。在这里我们选择了<code class="du jp jq jr js b">kind = 'hex'</code>，这里的记录被分成六边形。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="268a" class="kp kq hi js b fi kr ks l kt ku">sns.jointplot(x = tips['total_bill'], y = tips['tip'], kind = 'hex')</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es li"><img src="../Images/f632eadf89f3e08f09f481ffc3525932.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*WYwGirT9jxm5h44ly5g3ZA.png"/></div></figure><p id="5384" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当种类变为<code class="du jp jq jr js b">kde</code>时:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es li"><img src="../Images/a518eaab2abfefb0ce35600543db2115.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*whPEnMyzDZ3X3rth6KfHjw.png"/></div></figure><p id="b5f0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">8.Pairplot:绘制数据集中的成对关系。让我们使用经典的数据虹膜。</p><p id="da4d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><a class="ae iq" href="https://en.wikipedia.org/wiki/Iris_flower_data_set" rel="noopener ugc nofollow" target="_blank">关于虹膜数据的更多信息</a></p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="96f9" class="kp kq hi js b fi kr ks l kt ku">iris = sns.load_dataset('iris')<br/>sns.pairplot(iris)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lj"><img src="../Images/2c2d813396a0bde3a0dc07a0596dc0ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fl_-BaSOHDlkdc7bYmBTpQ.png"/></div></div></figure><p id="034a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">通过添加<code class="du jp jq jr js b">hue</code>我们可以更清楚地理解数据</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="99ac" class="kp kq hi js b fi kr ks l kt ku">sns.pairplot(iris, hue='species')</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lk"><img src="../Images/06409617f41cb2618657f50c132e0f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqqhYnCt5CtYlc3H7C3ynA.png"/></div></div></figure><p id="0067" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当 n 很大(n 是要素的数量)时，不能使用 Pair plot，因为您可以看到输出是 n*n。如果 n 很大，计算时间会更长。</p><p id="21c5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">9.regplot:我们可以在<code class="du jp jq jr js b">sns.regplot()</code>的帮助下绘制<code class="du jp jq jr js b">regression plots</code>，这将有助于找到两个变量之间的关系。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="e465" class="kp kq hi js b fi kr ks l kt ku">sns.regplot(x = 'total_bill', y = 'tip', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/3071dcf6c0a2f76c3729c12642e8a070.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*gOBKNbZpfa40sXRVqMc6AQ.png"/></div></figure><p id="bcf3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">10.我们可以用<code class="du jp jq jr js b">sns.lmplot()</code>画一个<code class="du jp jq jr js b">linear model plot</code>。如果散点图包含多个颜色编码组，此命令对于绘制多条回归线非常有用。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="529e" class="kp kq hi js b fi kr ks l kt ku">sns.lmplot(x = 'total_bill', y= 'tip', data = tips)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/55bd85e45a8b818e21cc17f52f521f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*a3CjFZy81f4N9oxzHn9ghQ.png"/></div></figure><p id="c410" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果我们设置<code class="du jp jq jr js b">x_estimator = np.mean</code>，上图中的点将被平均值和置信线代替。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="f166" class="kp kq hi js b fi kr ks l kt ku">sns.lmplot(x = 'size', y = 'tip', data = tips, x_estimator = np.mean)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/10270ce41c07c1aef301a938e006f544.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*U4z1cXoOFEN_k1kUdBMI5g.png"/></div></figure><p id="4fa6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">**我们可以使用<code class="du jp jq jr js b">order</code>参数。如果阶数大于 1，则估计多项式回归。</p><p id="01d0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">**要在 lmplot 中处理<code class="du jp jq jr js b">outliers</code>,我们可以从数据集中手动移除异常值，或者我们可以设置<code class="du jp jq jr js b">robust = True</code>在绘图时消除其影响。</p><p id="3ee7" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们做一些预先策划。真的说他们不先进，他们只是 2 个或更多阴谋的混合物，并在一个盘子里提供一些装饰。</p><p id="9279" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">11.覆盖图:如果几条线共享 x 和 y 变量，那么在一个图中绘制它们。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="4f3a" class="kp kq hi js b fi kr ks l kt ku"># Taken random data X having class from 0 to 3 with corresponding y point<br/> <br/>fig, ax = plt.subplots(figsize=(7,7))<br/>sns.lineplot(x=['Class0','Class1','Class2','Class3'], <br/>             y=[4,3,6,4],<br/>             color='r', #color red<br/>             ax=ax)<br/>sns.lineplot(x=['Class0','Class1','Class2','Class3'],<br/>             y=[1,6,5,5], <br/>             color='b', #color blue<br/>             ax=ax)    <br/>ax.legend(['iteration1', 'iteration2'], facecolor='w')<br/>plt.show()</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/a40abd08bc12f9229c8dd6d9acaee9e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*zw9x9CnOGNk5qofuqwDHkg.png"/></div></figure><p id="e5a3" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">用不同的比例绘图</p><p id="85df" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">x 轴是相同的，而 y 轴的刻度是不同的</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="372d" class="kp kq hi js b fi kr ks l kt ku">sns.set_style("darkgrid", {'axes.grid' : False})<br/>fig, ax1 = plt.subplots(figsize=(6,6))<br/>ax2 = ax1.twinx() # necessary for different scales on same plot<br/>sns.barplot(x=['Class A','Class B','Class C','Class D',<br/>                'Class E','Class F','Class G'],<br/>            y=[100,200,135,98,100,120,198], <br/>            color='#004488',<br/>            ax=ax1)<br/>sns.lineplot(x=['Class A','Class B','Class C','Class D',<br/>                'Class E','Class F','Class G'],<br/>             y=[1,2,4,8,16,32,64], #in place you can keep other func<br/>             color='r',<br/>             marker="o",<br/>             ax=ax2)<br/>plt.show()<br/>sns.set()</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/61dffd44ba64402dd39ca51cbf95ae1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*L-3d1RTugkb7Q7UtTWxT_w.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">这两个图具有不同的 y 轴，我们需要创建另一个具有相同 x 轴的“轴”对象(使用。twinx())然后绘制在不同的“轴”上。sns.set(样式和轴网格)是为当前情节设置特定的美学，我们最后运行 sns.set()将一切设置回默认设置。</figcaption></figure><p id="5064" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">将不同的柱状图组合成一个分组柱状图</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="c9f8" class="kp kq hi js b fi kr ks l kt ku"># Synthetic Data<br/># Different stock price per unit @ month[JAN, FEB, MAR, APR]</span><span id="3d0d" class="kp kq hi js b fi kv ks l kt ku">company = ['Company 1', 'Company 2', 'Company 3', 'Company 4']<br/>category = ['JAN', 'FEB', 'MAR', 'APR']<br/>colors        = ['orange', 'red', 'blue', 'green']<br/>numerical = [[160, 90, 120, 70], #company 1<br/>             [66, 74, 130, 80],  #company 2<br/>             [98, 110, 163, 125], #company 3<br/>             [130, 115, 97, 65]]  #company 4<br/>number_groups = len(category) <br/>bin_width = 1.0/(number_groups+1)<br/>fig, ax = plt.subplots(figsize=(8,8))<br/>for i in range(number_groups):<br/>    ax.bar(x=np.arange(len(category)) + i*bin_width, <br/>           height=numerical[i],<br/>           width=bin_width,<br/>           color=colors[i],<br/>           align='center')<br/>ax.set_xticks(np.arange(len(category)) + number_groups/(2*(number_groups+1)))<br/># number_groups/(2*(number_groups+1)): offset of xticklabel<br/>ax.set_xticklabels(category)<br/>ax.legend(company, facecolor='w')<br/>plt.show()</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/b591f51d17e1fe90f75732d07faf539e.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*reGeUHbNEpRVFc4qEeraMw.png"/></div></figure><p id="9896" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">用 GridSpec 划分图形</p><p id="67f4" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><a class="ae iq" href="https://www.python-course.eu/matplotlib_gridspec.php" rel="noopener ugc nofollow" target="_blank">教程</a></p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="3321" class="kp kq hi js b fi kr ks l kt ku">from matplotlib.gridspec import GridSpec #Lib which is needed</span></pre><p id="180d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">试图用 HTML 制作表格的人可以很容易理解这一点，但没有做过的人不用担心。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="a2b8" class="kp kq hi js b fi kr ks l kt ku">fig = plt.figure(constrained_layout=True)<br/>gs = GridSpec(3, 3, figure=fig) # number of rows = 3 &amp; columns = 3<br/>''' this will make a table of 3,3 units in which we can partition as we like '''  </span></pre><p id="29aa" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">它看起来像一个 3 * 3 的矩阵</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/21827b0b878b8841062d793531062fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*SgIzziN2IMOQt47dlztKDQ.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">3 x 3 矩阵</figcaption></figure><p id="2522" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在这里，我们将有支线剧情，而不是元素</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="9013" class="kp kq hi js b fi kr ks l kt ku">ax1 = fig.add_subplot(gs[0, 0])<br/>ax2 = fig.add_subplot(gs[0, 1])<br/>ax3 = fig.add_subplot(gs[0, 2])<br/>ax4 = fig.add_subplot(gs[1, 0])<br/>ax5 = fig.add_subplot(gs[1, 1])<br/>ax6 = fig.add_subplot(gs[1, 2])<br/>ax7 = fig.add_subplot(gs[2, 0])<br/>ax8 = fig.add_subplot(gs[2, 1])<br/>ax9 = fig.add_subplot(gs[2, 2])</span><span id="0681" class="kp kq hi js b fi kv ks l kt ku"># for format in axes we can make a function like<br/>def format_axes(fig):<br/>    for i, ax in enumerate(fig.axes):<br/>        ax.text(0.5, 0.5, "ax%d" % (i+1), va="center", ha="center")<br/>        ax.tick_params(labelbottom=False, labelleft=False)</span><span id="baad" class="kp kq hi js b fi kv ks l kt ku">fig.suptitle("GridSpec")<br/>format_axes(fig)</span><span id="acd7" class="kp kq hi js b fi kv ks l kt ku">plt.show()</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/5243492bf4513017fcaf1ab032fcabc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*lIJlZSvbOl_rRy9JNzs7GA.png"/></div></figure><p id="5f10" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">让我们玩玩它，做些有趣的东西</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="9fa7" class="kp kq hi js b fi kr ks l kt ku"># making some random data points<br/>x = np.linspace(0., 3*np.pi, 100) # 0 to 3*Pi in 100 steps<br/>y_1 = np.sin(x) <br/>y_2 = np.cos(x)<br/>time = np.linspace(0, 10, 1000)<br/>height = np.sin(time)<br/>weight = time*0.3 + 2<br/>score = time**2 + height<br/># now use gridspecs</span><span id="b809" class="kp kq hi js b fi kv ks l kt ku">fig = plt.figure(constrained_layout=True, figsize=(10, 10))<br/>spec = fig.add_gridspec(3, 3)</span><span id="01ba" class="kp kq hi js b fi kv ks l kt ku">ax1 = fig.add_subplot(spec[0, :-1])<br/>ax1.plot(x,y_1)<br/>ax1.set_title('ax1')</span><span id="428e" class="kp kq hi js b fi kv ks l kt ku">ax2 = fig.add_subplot(spec[:, -1])<br/>ax2.plot(time,score)<br/>ax2.set_title('ax2')</span><span id="de54" class="kp kq hi js b fi kv ks l kt ku">ax3 = fig.add_subplot(spec[1:, 0])<br/>ax3.plot(x,y_2)<br/>ax3.plot(time,height)<br/>ax3.set_title('ax3')</span><span id="1d74" class="kp kq hi js b fi kv ks l kt ku">ax4 = fig.add_subplot(spec[1, 1])<br/>ax4.set_title('ax4')<br/>ax4.plot(time,weight)</span><span id="0c1e" class="kp kq hi js b fi kv ks l kt ku">ax5 = fig.add_subplot(spec[-1, 1])<br/>ax5.set_title('ax5')<br/>ax5.scatter(x,y_2)</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es et"><img src="../Images/e9e5d3a4719b9e13ad2a55174e66dc8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dEBykU6je0CcfFi6GPsULA.png"/></div></div></figure><p id="079c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">其他资源和积分:</p><ul class=""><li id="db78" class="jt ju hi it b iu iv iy iz jc jv jg jw jk jx jo jy jz ka kb bi translated"><a class="ae iq" href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html" rel="noopener ugc nofollow" target="_blank"> FacetGrid </a></li><li id="ed46" class="jt ju hi it b iu kc iy kd jc ke jg kf jk kg jo jy jz ka kb bi translated"><a class="ae iq" href="https://seaborn.pydata.org/tutorial.html" rel="noopener ugc nofollow" target="_blank">海风文件</a></li><li id="8ad7" class="jt ju hi it b iu kc iy kd jc ke jg kf jk kg jo jy jz ka kb bi translated"><a class="ae iq" href="https://www.kaggle.com/learn/data-visualization" rel="noopener ugc nofollow" target="_blank"> kaggle 数据可视化课程</a></li></ul></div></div>    
</body>
</html>