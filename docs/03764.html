<html>
<head>
<title>Adding noise to audio clips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">给音频片段添加噪声</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/adding-noise-to-audio-clips-5d8cee24ccb8?source=collection_archive---------1-----------------------#2020-02-18">https://medium.com/analytics-vidhya/adding-noise-to-audio-clips-5d8cee24ccb8?source=collection_archive---------1-----------------------#2020-02-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6a36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文讨论如何向音频数据(或任何其他数据)添加噪声。这对于诸如评估机器学习模型的性能的许多应用来说可能是重要的。</p><p id="464f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，对音频数据进行分类的深度学习模型会受到噪声的影响。因此，我们可以用不同信噪比的噪声改变原始信号样本，并评估模型在这些噪声条件下的性能。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="32d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来读取音频。我们可以使用下面的代码。我使用python作为这里展示的例子</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="3bdf" class="jt ju hi jp b fi jv jw l jx jy">import librosa</span><span id="15d5" class="jt ju hi jp b fi jz jw l jx jy">signal, sr = librosa.load(“path/to/audio.wav”)</span></pre><p id="f808" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了获得我用于这些实验的信号图(我说“别碰我的狗！”)</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="29cb" class="jt ju hi jp b fi jv jw l jx jy">import matplotlib.pyplot as plt</span><span id="fcef" class="jt ju hi jp b fi jz jw l jx jy">plt.plot(signal)</span></pre><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es ka"><img src="../Images/fd0ca5a7bc980f40417efb6c16c6efb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*5RHF93r_hEip5trTSjDsZA.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">信号图</figcaption></figure><h1 id="caad" class="ki ju hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">信噪比</strong></h1><p id="afec" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">信噪比(SNR)可定义如下:</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es lk"><img src="../Images/db035b7c355f3ef5368f987d58732d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*Ou6VDCIhhMbqBjREMhn3Yg.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">信噪比的定义</figcaption></figure><p id="f4a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中，均方根信号是信号的均方根值，均方根噪声是噪声的均方根值。log是10的对数</p><p id="0509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用下面的代码来计算信号的均方根值</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="472c" class="jt ju hi jp b fi jv jw l jx jy">import numpy as np</span><span id="6d3a" class="jt ju hi jp b fi jz jw l jx jy">RMS=math.sqrt(np.mean(signal**2))</span></pre><p id="b221" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候给信号添加一些噪声了</p><p id="6673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们描述了两种可以添加到音频数据中的噪声</p><ul class=""><li id="a21d" class="ll lm hi ih b ii ij im in iq ln iu lo iy lp jc lq lr ls lt bi translated">加性高斯白噪声(AWGN)</li><li id="9db5" class="ll lm hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">真实世界的噪音</li></ul><p id="c40d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码请参考下面的GitHub repo</p><div class="lz ma ez fb mb mc"><a href="https://github.com/sleekEagle/audio_processing" rel="noopener  ugc nofollow" target="_blank"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">sleeke agle/音频处理</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">用于向提供信噪比(SNR)的信号添加噪声。返回加性高斯白噪声的…</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">github.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq kc mc"/></div></div></a></div><h1 id="beb2" class="ki ju hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">加性高斯白噪声(AWGN) </strong></h1><p id="1b31" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">这种噪声可以添加到信号中(算术元素相加)。它的平均值也为零(从平均值为零的高斯分布中随机采样。标准偏差可以变化)。它以相同的方式包含所有频率分量(因此是“白”噪声)。</p><p id="a7d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AWGN很重要，因为它更容易为分析建模，也更容易生成。但是对于某些应用来说，它可能不代表真实的噪声条件。</p><p id="6be3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据GitHub repo中的代码，我们可以使用函数<em class="mr"> get_white_noise </em>来生成所需信噪比的AWGN。这具有大约0.0的平均值</p><h2 id="ac24" class="jt ju hi bd kj ms mt mu kn mv mw mx kr iq my mz kv iu na nb kz iy nc nd ld ne bi translated"><strong class="ak">如何生成AWGN </strong></h2><p id="d58e" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">从信噪比定义方程，我们可以得到</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nf"><img src="../Images/7310c6addf566771188571ea5267ce3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*d73S4Vyc-0m9vHtEcr09ng.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">所需的噪声均方根值</figcaption></figure><p id="047f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，RMS_required是我们应该产生的噪声的所需均方根值。</p><p id="0e5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有，</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es ng"><img src="../Images/597501ffe5ce4b4f60025aed302636b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*pV5qEi7uK5mbO9aD-KNiqg.png"/></div></figure><figure class="jk jl jm jn fd kb er es paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="er es nh"><img src="../Images/4c69f1bc2cdc663ecbb2c0c3c01f0278.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*uJMAEcyiMHCY2bhev7a3Dw.png"/></div></div></figure><p id="97b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里STD_noise是噪声的标准差。</p><p id="8fe0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为AWGN的平均值是零，我们可以看到</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nm"><img src="../Images/386ae38da922cca468efc20bfbf3584b.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*z3DTXH8ZEIs8SYXcOgwYTw.png"/></div></figure><p id="4cd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了产生噪声，我们可以从均值=0、标准差= RMS_required的高斯分布中采样</p><p id="65fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du nn no np jp b">noise=np.random.normal(0, STD_n, signal.shape[0])</code></p><p id="f84e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们画出我们生成的AWGN，</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nq"><img src="../Images/6104c52c4872b8c776b2647f833eb77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*Gp2msoAR1IqnSO1jgWrdBw.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">噪声图</figcaption></figure><h2 id="a8be" class="jt ju hi bd kj ms mt mu kn mv mw mx kr iq my mz kv iu na nb kz iy nc nd ld ne bi translated"><strong class="ak">AWGN的频率分析</strong></h2><p id="b483" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">为了分析频率成分，我们使用快速傅立叶变换(参考代码)</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="0039" class="jt ju hi jp b fi jv jw l jx jy">X=np.fft.rfft(noise)</span><span id="5c33" class="jt ju hi jp b fi jz jw l jx jy">radius,angle=to_polar(X)</span></pre><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nr"><img src="../Images/95b6199b1ed183c7940b7c2e8bbfc71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*JvjEsy0pFP-Zp7AwTSfPMA.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">噪声的频率分布</figcaption></figure><p id="59a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，我们产生的AWGN有着大致相等的频率分布。这满足了AWGN的“白色”条件。</p><p id="d15e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们可以将噪声添加到信号中</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="cbe2" class="jt ju hi jp b fi jv jw l jx jy">signal_noise = signal+noise</span></pre><p id="a39a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中<em class="mr"> signal_noise </em>是添加噪声的信号</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es ka"><img src="../Images/78076c4edaabf67d874acdb073ea95f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*zWKB0m0pKv5-BLxDMqMe4g.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">添加噪声的信号(信噪比=10)</figcaption></figure><h1 id="663f" class="ki ju hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">与真实世界的噪音混合</strong></h1><p id="b15e" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">这里我们不生成任何数据。相反，我们使用另一个包含噪声的音频剪辑。噪声的确切含义取决于具体的应用。</p><p id="77c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我们需要计算信号和所提供噪声的均方根值。然后，我们修改噪声(将噪声的每个元素乘以一个常数)，使最终噪声具有所需的均方根值，从而获得所需的信噪比。</p><p id="5586" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如在AWGN的情况下，我们可以得到要求的噪声均方根值。然后，我们应该“改变”我们的噪声音频剪辑，使其具有RMS_required的ans RMS值</p><p id="2626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们将整个信号(按元素)乘以一个常数(比如“a”)，会发生什么？根据下式，其均方根值也乘以“a”。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="er es ns"><img src="../Images/43f6658eb8855b367e3c9c88e9541c0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jps1imHo91ZUsp_ybEo-SA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">更改信号的均方根值</figcaption></figure><p id="4ea0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以利用提供的噪声削波来计算均方根噪声。然后我们可以用上面的等式求出常数“a”。之后，我们可以通过在元素上乘以“a”来修改噪声。</p><p id="6f8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用的噪音音频剪辑(水从水龙头流出):</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nq"><img src="../Images/95d4c28ed5993269bb8a2d0fdddb765d.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*Ne_EqaOMBglgOFaHoR3BKg.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">流水噪音</figcaption></figure><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es nq"><img src="../Images/77c937af7bd3c76488a6aaaae2e9f777.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*BVnONI7ok-UJ3r0Ad3rFuA.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">添加噪声的信号(信噪比=10)</figcaption></figure><p id="ce3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要收听我使用的信号和噪声，以及通过向信号添加噪声而创建的添加噪声的音频文件，请访问</p><div class="lz ma ez fb mb mc"><a href="https://sleekeagle.github.io/2020/02/18/mixing_noise.html" rel="noopener  ugc nofollow" target="_blank"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">向音频数据添加噪声</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">有时我们需要在音频数据中加入噪声。一个例子是当我们评估机器学习模型分类…</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">sleekeagle.github.io</p></div></div></div></a></div><p id="7965" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！！请留下评论/反馈！！！</p><p id="8149" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在推特上关注我https://twitter.com/lahirunuwan<a class="ae nt" href="https://twitter.com/lahirunuwan" rel="noopener ugc nofollow" target="_blank"/></p><p id="0ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【Linkedin:www.linkedin.com/in/lahiru-nuwan-59568a88T4</p></div></div>    
</body>
</html>