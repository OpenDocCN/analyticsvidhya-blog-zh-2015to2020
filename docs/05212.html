<html>
<head>
<title>Two ways of extracting points of interest from Sentinel-2A data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从哨兵-2A数据中提取感兴趣点的两种方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/two-ways-of-extracting-points-of-interest-from-sentinel-2a-data-baa124b1ed92?source=collection_archive---------5-----------------------#2020-04-14">https://medium.com/analytics-vidhya/two-ways-of-extracting-points-of-interest-from-sentinel-2a-data-baa124b1ed92?source=collection_archive---------5-----------------------#2020-04-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4f71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近我读到了一个由欧洲航天局组织的<a class="ae jd" href="https://www.sentinel-hub.com/contest" rel="noopener ugc nofollow" target="_blank">竞赛</a>，他们要求使用哨兵卫星免费提供的图像数据，尝试从当前的疫情中发现关于社会、城市和自然变化的见解。并不是说我是一个远程地理传感专家，但我认为这是一个好主意，教育自己一点关于这个主题。</p><p id="0d98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，什么是Sentinel-2成像数据？</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/b95fa7253da0a8ca853d835aa9a5743e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSqc_fHKP2hf9gH5hVToWw.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">哨兵-2A于2015年6月23日发射</figcaption></figure><p id="e26f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哨兵是几年前由欧空局发射的一组卫星。每隔五天，他们拍摄所有陆地和沿海地区的照片。照片是用不同的波长拍摄的——比如Sentinel-1，它有一个微波雷达，可以穿透云层，基本上可以建立一个地区的3D地图。Sentinel-2可以在13种波长范围内拍照，从蓝光(443纳米)到短波红外(2190纳米)。还有其他用于不同目的的卫星。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ju"><img src="../Images/e8982e223446ff640ff8379612327db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AEvJOC0MibuGpMvU48-GBw.png"/></div></div></figure><p id="105a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最棒的是，来自这些卫星的图像是免费公开的——每个人都可以做他们的研究，甚至建立一个商业产品。围绕这些数据已经形成了一个完整的生态系统。</p><p id="abcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你有时间，绝对值得去看看。这就是我所做的。</p><p id="dff4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们处理的是地理数据——这些图像本质上是地图——和光谱数据——不同的物体对不同波长的光有不同的反射。因此，如果您进行研究，您可能希望深入到特定的地理对象或具有特定光谱的对象——由特定材料制成。</p><p id="5862" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将分享两种方法来做到这一点。如果您已经知道如何下载和预处理Sentinel-2图像，您可以跳过以下两节。</p><h1 id="a2be" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">获取图像</h1><p id="5376" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">让我们先下载图像。有两种方法可以做到这一点——通过Copernicus Hub上的<a class="ae jd" href="https://scihub.copernicus.eu/dhus/#/home" rel="noopener ugc nofollow" target="_blank">交互式网络界面</a>,或者通过<code class="du ky kz la lb b">sentinelsat</code> Python包中可用的API。API肯定更方便，但是你应该至少去一次web界面，了解你到底需要下载什么。</p><p id="937d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">原因是Sentinel-2拍摄的是100*100的区域，这些区域略有重叠。当我想得到我的家乡城市塔林的图像时，发现它正好位于这样一个重叠的区域。每张图片大约有1 GB的数据，所以我不想下载不必要的重复图片。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lc"><img src="../Images/cf00ae02b46722fa21138cd6c0e6cede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*00M0_WHn6QDopuM4BHj6dg.png"/></div></div></figure><p id="900f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在知道了我感兴趣的区域有代码“T35VLF ”,我可以预过滤API输出的内容。</p><p id="eee4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你需要安装<code class="du ky kz la lb b">sentinelsat</code>和<code class="du ky kz la lb b">geopandas</code>包，并在Copernicus Hub上注册账号。同样<code class="du ky kz la lb b">shapely</code>也不会有坏处，因为你想处理地理多边形。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lf"><img src="../Images/09d33a8dcbab394e730d13dca95a4b57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t25yK-weKJaFLEmnBDYGzw.png"/></div></div></figure><p id="11ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在下载一个特定的快照(大约1 GB！)你用dataframe index作为参考。或者用<em class="lg">。下载_全部()</em></p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="46bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">解压缩下载的档案，你得到你的数据。</p><h1 id="4a95" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">将光谱带组合成一幅图像</h1><p id="9558" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">解压存档后，会得到一堆名字复杂、目录结构看似晦涩难懂的目录。里面是JPEG2000格式的图像，适用于每个频段(共13个频段)。我们想阅读并结合成一个单一的TIFF文件，方便进一步的工作。</p><p id="481a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">说到乐队，我们需要哪些？根据任务的不同，你可能需要1个、3个、全部，或者我选择的7个，它们很好地代表了最初探索的大部分范围。</p><p id="4bc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不同波长的图像具有不同的分辨率——我们使用的图像的像素边长为10或20米。我们希望将分辨率较小的图像外推至分辨率较大的图像。</p><p id="4b02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来是处理目录结构和文件处理的代码片段。首先，定义正在使用的参数。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="977c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使外推像素之间的过渡平滑的二元样条外推函数。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="f931" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们找到包含实际图像的目录，并将它们组合成TIFF文件，在必要的地方进行外推。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="45bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，它是做什么的？</p><ul class=""><li id="b901" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">这些图像位于颗粒目录的IMG数据子目录中。它们被分成R10m、R20m、R60m子目录，这些子目录表示像素分辨率。里面是对应每个频段的. jp2文件。</li><li id="5775" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">我们正在使用<code class="du ky kz la lb b">rasterio</code>库加载它们。</li><li id="d154" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">每个读取的对象都包含一个属性<code class="du ky kz la lb b">profile</code>，该属性包含宽度、高度、坐标参考系统(CRS)、数据类型(dtype)和多边形在各自CRS中的坐标(<code class="du ky kz la lb b">transform</code>属性)。当进行变换时，比如图像的裁剪，我们需要更新它。</li><li id="d8d6" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">由于我们只对塔林(<code class="du ky kz la lb b">get_tallinn_polygon()</code>)感兴趣，我们想从一开始就裁剪频段层，并只将裁剪区域保存为TIFF。<code class="du ky kz la lb b">mask</code>来自<code class="du ky kz la lb b">rasterio</code>的函数就是这么做的，但是首先它需要将塔林多边形坐标从通常的lat/lng格式转换成EPSG:32635 ( <code class="du ky kz la lb b">mem_file.crs</code>)坐标参考系统。</li><li id="4ba0" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><code class="du ky kz la lb b">mask</code>函数只对<code class="du ky kz la lb b">rasterio</code>文件句柄起作用，我们不想先将全尺寸的TIFFs写入磁盘，然后重新打开它们，然后再进行裁剪——我们想立即执行。所以我们用<code class="du ky kz la lb b">MemFile</code>来表示。</li></ul><p id="7818" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个完整的TIFF文件会超过1 GB，但是裁剪后的版本只有90 MB。</p><h1 id="a172" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用OpenStreetMap数据库提取地理区域和对象</h1><p id="6560" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">什么是<a class="ae jd" href="https://www.openstreetmap.org/" rel="noopener ugc nofollow" target="_blank"> OpenStreetMap </a>？这是一个全球地图门户，类似于谷歌地图，但众包和维基风格——每个人都可以改变和改进地图。例如，添加新的餐馆，建筑编号，道路和其他一切适当的地图应该有。</p><p id="d9e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于它是免费和开放的，你可以下载整个世界——听起来怎么样！不过世界很大，所以有些数据提供商可以让你只下载特定国家的数据。这样的档案将包含该国的一切(道路、森林、房屋等)及其多边形坐标和元数据。我用一个这样的<a class="ae jd" href="https://download.geofabrik.de/europe/estonia.html" rel="noopener ugc nofollow" target="_blank">下载爱沙尼亚</a>——文件是<code class="du ky kz la lb b">estonia-latest-free.shp.zip</code>。解包后，目录如下所示:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lv"><img src="../Images/16489c37d18a58eff276a7d2eaa9bbbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kI3PkI-lGPqmSyVaOW0zrA.png"/></div></div></figure><p id="7dcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能已经猜到了，使用这些文件中的多边形和元数据，我们将裁剪Sentinel数据，就像我们之前提取塔林多边形一样。</p><p id="ac74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我创建了一个特殊的函数来方便地做到这一点，给出的目录如上。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="cef9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它利用了<code class="du ky kz la lb b">geopandas</code>模块，该模块具有所有的<code class="du ky kz la lb b">pandas</code>功能，但也提供了处理地理数据的特定功能。</p><p id="3ecd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入包括:</p><ul class=""><li id="bf01" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">OSM数据位置</li><li id="d731" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">的名称。要加载的shp文件(如“道路”、“建筑”、“交通”)</li><li id="5890" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated"><code class="du ky kz la lb b">sub_polygon</code>，告知是否将整个爱沙尼亚划分为一个特定的多边形(是的，我们只想要塔林)</li><li id="aa59" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">文件中的某些形状可能不是闭合的多边形，而是线串。我们尝试使用凸包方法(计算包含所有点的最小多边形)来闭合它们，但是当它是一个点时，有些仍然是不闭合的。所以<code class="du ky kz la lb b">remove_non_polygons</code>将它们从数据帧中移除。</li><li id="9e95" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">再次，裁剪哨兵地图需要lng/lat格式，所以需要<code class="du ky kz la lb b">swap_coordinates</code>。如果你在任何时候得到“窗口不相交”的错误，首先检查这个，然后检查CRS。</li></ul><p id="c8c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们尝试加载一个TIFF文件，使用OSM数据库提取公园和森林，并在指数为5的波段(B11，1610 nm，近红外)中可视化结果。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lw"><img src="../Images/850ba9e3075ecd3ff8d894bc874cab59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*npgiJQVx6CibnVGrYUXPvw.png"/></div></div></figure><p id="b9c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在这里看到的是给定区域的近红外反射率。从谷歌地图上可以看到，这些位置与实际情况非常吻合。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lx"><img src="../Images/25771ae001f6ca3cc414d8962b6a3571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVd0KBKTvekTx82ObMyTFA.png"/></div></div></figure><h1 id="f35f" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">根据反射光谱寻找物体</h1><p id="f56e" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">有大量的文章和科学论文提供了现成的公式和技巧，说明如何通过不同波长的反射率(如光谱)来定位沼泽、森林、田野和其他自然物体。毕竟，首先也是最重要的哨兵卫星是为农村土地使用监测而创建的。</p><p id="703f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果我想寻找具有自定义光谱的东西呢？如果我想在城市环境中找到人造物体怎么办？我需要找到我感兴趣的特定材料的光谱，并尝试将这些区域从图像中分离出来。我该怎么做？</p><p id="362d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">原来有一个由美国地质调查局精心编制和管理的不同光谱的数据库。你可以下载<a class="ae jd" href="https://www.sciencebase.gov/catalog/item/5807a2a2e4b0841e59e3a18d" rel="noopener ugc nofollow" target="_blank"> 5.1 GB的档案</a>，其中包含许多矿物、人造材料和有机物的光谱。他们还提供了直接适用于Sentinel-2波段的文件格式。</p><p id="3865" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，对于下载和解压缩的归档文件，我编写了一个函数来加载感兴趣的材料。让我们加载“Sheet_Metal”来查找屋顶由钢制成的建筑物。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="322c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们提供未打包的库位置、材料名称、我们拥有的频段以及<code class="du ky kz la lb b">normalize</code>。</p><p id="340f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么要将光谱数据归一化为0均值和单位方差？因为Sentinel图像数据有一个尺度，这个数据有另一个尺度，但我们只是想比较光谱的形状。我们也将很快使哨兵图像数据正常化。但首先，我们来看看剧情。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ly"><img src="../Images/03c281a76b6316ecbc048619455ec4cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*q8tZxvXcc95Y1MX0ZPavOA.png"/></div></figure><p id="c0f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是金属片在与我们的波段相对应的频率下的归一化反射率。</p><p id="872f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们用之前加载的<code class="du ky kz la lb b">tiff_data</code>来找到那些金属屋顶。</p><ul class=""><li id="6822" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">首先，我们沿0轴标准化三维<code class="du ky kz la lb b">tiff_data</code>——基本上，取每个像素并使其光谱的平均值和单位方差为零。</li><li id="531c" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">然后，我们获取金属板的目标光谱，计算它与每个像素之间的均方误差，生成误差热图。</li><li id="a032" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">然后，我们绘制这些误差的分布图，以得到一个线索，从哪里切入，只选取光谱与金属片的光谱相匹配的区域。</li></ul><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lz"><img src="../Images/af4cf455b73759baeb33ac1447116d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*_sJ3aRNO85oMT__dNfXeeA.png"/></div></figure><p id="242f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们取所有MSE ≤ 0.2的数据，显示结果并再次与Google Maps进行视觉比较。</p><p id="ed65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于这些建筑相对于整个城市来说相当小，我们将只选取地图的一个子集。蓝色表示最小的MSE，它最符合金属片的光谱。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ld le l"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ma"><img src="../Images/f39404b3c64502944fee91c2c0973c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*b5StKD5sgGEUVkA3bAE1pg.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mb"><img src="../Images/6138304f978510042bb0a0456be31bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqeOAmG6xbFl7goSdGqbFQ.png"/></div></div></figure><p id="6369" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看来这种方法确实有效。</p><h1 id="7fb0" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">有什么限制吗？</h1><p id="62e5" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">结合这两种方法，可以做出很多有趣的事情。尽管有一些限制，你应该意识到不要在调试上浪费时间。</p><ul class=""><li id="3f4f" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">图像的分辨率为10*10米。这对于研究更大规模的区域来说已经足够了，比如自然区域，但是在城市地区你最多只能建造一座中等规模的建筑。</li><li id="18cf" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">尽管我们选择的云量不超过10%，但这适用于整个100*100公里的图片，您感兴趣的特定区域可能仍会被云遮住。</li><li id="6639" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">根据季节的不同，太阳在城市上空的高度不同，阴影也不同。这会改变反射的强度，并在结果中引入变化。</li></ul><p id="c5a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，有研究似乎表明了亚像素分析的可行性。例如，如果你有一个“灰色”的停车场，位于一个没有阴影的地方，那么汽车的存在与否应该以可预测的方式改变其反射率。这样你就可以从理论上分析城市活动的模式——不管一个地方是否繁忙。</p></div></div>    
</body>
</html>