<html>
<head>
<title>Introduction to Bash Script — 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bash脚本简介— 2</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-bash-script-2-a8e5018df9e4?source=collection_archive---------30-----------------------#2020-04-15">https://medium.com/analytics-vidhya/introduction-to-bash-script-2-a8e5018df9e4?source=collection_archive---------30-----------------------#2020-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6a85cb44990f4a2cd0433d256fb5e496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FMB5omzhWjAc1uQN.png"/></div></div></figure><h1 id="b79a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">内容</h1><ol class=""><li id="6d5f" class="jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf bi translated"><strong class="jq hj">案例陈述</strong></li><li id="c0dd" class="jo jp hi jq b jr kg jt kh jv ki jx kj jz kk kb kc kd ke kf bi translated"><strong class="jq hj"> While循环</strong></li><li id="9d3c" class="jo jp hi jq b jr kg jt kh jv ki jx kj jz kk kb kc kd ke kf bi translated"><strong class="jq hj">为循环</strong></li></ol><h1 id="1bcc" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">选择语句</h1><p id="2604" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">Case语句是检查条件的另一种方式，下面是要做的模板:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="d94e" class="lj ir hi lf b fi lk ll l lm ln">case [expression] in<br/>  pattern1)<br/>    commands...<br/>    ;;<br/>  pattern2)<br/>    commands...<br/>    ;;<br/>  ...<br/>esac</span></pre><p id="9d62" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">这里有一个例子:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="0d98" class="lj ir hi lf b fi lk ll l lm ln">#!/bin/bash</span><span id="c7ef" class="lj ir hi lf b fi lt ll l lm ln">TEST=3 # Assign 3 to TEST</span><span id="6e50" class="lj ir hi lf b fi lt ll l lm ln">case ${TEST} in<br/>  1)<br/>    echo "TEST is 1."<br/>    ;;<br/>  2)<br/>    echo "TEST is 2."<br/>    ;;<br/>  3)<br/>    echo "TEST is 3."<br/>    ;;<br/>esac</span></pre><p id="3d07" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">正如我们所料，结果是:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="94b9" class="lj ir hi lf b fi lk ll l lm ln">&gt; TEST is 3</span></pre><p id="8323" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">到目前为止，我们已经学会了如何使用case。但是，对于那些了解C语言的人来说，类C语言有一个<strong class="jq hj">默认的</strong>选项来捕捉异常。事实上，在<strong class="jq hj"> bash脚本</strong>中有一个对应的脚本，但是使用了<strong class="jq hj">通配符</strong>。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="1fdd" class="lj ir hi lf b fi lk ll l lm ln">case [expression] in<br/>  pattern1)<br/>    commands...<br/>    ;;<br/>  pattern2)<br/>    commands...<br/>    ;;<br/>  ...<br/>  * ) # using wildcards to catch the option not be specified<br/>    commands<br/>    ;;<br/>esac</span></pre><p id="4b84" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">让我们看一个例子:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="5540" class="lj ir hi lf b fi lk ll l lm ln">#!/bin/bash<br/> <br/>TEST=5 # Assign 3 to TEST<br/> <br/>case ${TEST} in<br/>  1)<br/>    echo "TEST is 1."<br/>    ;;<br/>  2)<br/>    echo "TEST is 2."<br/>    ;;<br/>  3)<br/>    echo "TEST is 3."<br/>    ;;<br/>  *)<br/>    echo "Get the exception."<br/>    ;;<br/>esac</span></pre><p id="3b1a" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">结果是:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="85c8" class="lj ir hi lf b fi lk ll l lm ln">&gt; Get the exception</span></pre><p id="e0c6" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">* can代表任何长度的字符。我们将在以后的工作中更多地讨论<strong class="jq hj">通配符</strong>。</p><h1 id="c6a2" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">While循环</h1><p id="6a87" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">现在如果我们说我们有任务想要反复做，我们可以用循环来实现。一般来说，有两种实现循环的方法——对于的<strong class="jq hj">和对于</strong>的<strong class="jq hj">。</strong></p><p id="28e0" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">现在，我们停下来一会儿，然后再进入下一会儿！知道如何使用操作符很重要，因为我们可能想在循环中使用counter。我们的语法是这样的:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="20de" class="lj ir hi lf b fi lk ll l lm ln">$((param1 + param2)) # *, /, - are all the same</span></pre><p id="28bd" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">请注意，我们应该使用(( ))来阻止操作，之后，我们使它成为一个变量！这里有一些提示，请记住如何使用，即使它可能不是事实。首先(( ))是操作的语法，但是对于程序加载器，它将把这种形式视为字符串，因此添加$可以帮助它更具体。还有其他人来做操作，比如<a class="ae lu" href="https://vitux.com/how-to-do-basic-math-in-linux-command-line/" rel="noopener ugc nofollow" target="_blank"> expr </a>，<a class="ae lu" href="http://www.geekpills.com/operating-system/linux/bash-shell-built-in-let-command" rel="noopener ugc nofollow" target="_blank"> let </a>。</p><p id="1ec7" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">回到我们的话题，下面是做<strong class="jq hj"> while循环</strong>的模板:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="e239" class="lj ir hi lf b fi lk ll l lm ln">while [[ condition ]] # Have space before and after condition<br/>do<br/>  commands...<br/>done</span></pre><p id="7386" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">例如，我们想重复“你好”10000次，我们可以这样做:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="26bd" class="lj ir hi lf b fi lk ll l lm ln">#!/bin/bash</span><span id="c40e" class="lj ir hi lf b fi lt ll l lm ln"># Count the times<br/>COUNTER=0</span><span id="036b" class="lj ir hi lf b fi lt ll l lm ln">while [[ ${COUNTER} -ne 10000 ]] # Remember -ne is used for numeric<br/>do<br/>  echo "Hello"<br/>  COUNTER=${{ $COUNTER + 1)) # Doing operation<br/>done</span></pre><h1 id="c908" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">For循环</h1><p id="beb9" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">我们首先讨论如何在bash脚本中使用该命令。在正常情况下，我们不能在bash脚本中直接使用命令，我们应该使用一个括号，并把它作为一个变量使用。它看起来是这样的:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="88bf" class="lj ir hi lf b fi lk ll l lm ln">$(commands)</span></pre><p id="4588" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">假设我们想在bash脚本中使用<code class="du lv lw lx lf b">ls</code>并将其打印出来，我们应该使用:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="5c07" class="lj ir hi lf b fi lk ll l lm ln">echo $(ls)</span></pre><p id="a2fc" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">接下来我们继续我们的话题。<strong class="jq hj">为命令</strong>可用于取出序列中的元素或检查条件。我们先说前者。</p><ul class=""><li id="858e" class="jo jp hi jq b jr lo jt lp jv ly jx lz jz ma kb mb kd ke kf bi translated"><strong class="jq hj">序列</strong></li></ul><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="8285" class="lj ir hi lf b fi lk ll l lm ln">for [element] in [sequence]<br/>do<br/>  commands...<br/>done</span></pre><p id="57dd" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">假设我们想要打印出文件夹中的文件，我们可以使用for来实现它。首先我们必须使用<code class="du lv lw lx lf b">ls</code>来获取文件夹下的文件。：</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="ce1f" class="lj ir hi lf b fi lk ll l lm ln">#!/bin/bash</span><span id="f43f" class="lj ir hi lf b fi lt ll l lm ln">FILES=$(ls) # Save the result to FILES</span><span id="fbe4" class="lj ir hi lf b fi lt ll l lm ln">for file in $FILES   # file is the element inside the FILES<br/>do<br/>  echo "$file"  # Notice that file is still a variable<br/>done</span></pre><ul class=""><li id="dc51" class="jo jp hi jq b jr lo jt lp jv ly jx lz jz ma kb mb kd ke kf bi translated"><strong class="jq hj">表情</strong></li></ul><p id="56ce" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">我们可以通过使用不同的语法将的<strong class="jq hj">视为<strong class="jq hj">而</strong>。以下是模板:</strong></p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="f3ab" class="lj ir hi lf b fi lk ll l lm ln">for (( init; condition; Do after ))<br/>do<br/>  commands...<br/>done</span></pre><p id="f512" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">对于熟悉C-like的人来说，更容易记住。首先，我们需要一个变量作为计数器，这是<strong class="jq hj"> init </strong>部分。在执行命令之前，循环的<strong class="jq hj">要检查条件是否满足。如果不是，则结束，否则，您必须修改计数器，这是</strong>部分之后的<strong class="jq hj">部分。让我们使用<strong class="jq hj"> for循环打印出hello 10000！</strong></strong></p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="a0d4" class="lj ir hi lf b fi lk ll l lm ln">#!/bin/bash</span><span id="9abc" class="lj ir hi lf b fi lt ll l lm ln">#There're some different inside for<br/># 1. Can use "&lt;" directly in the condition part<br/># 2. "COUNTER++" means "COUNTER = COUNTER + 1"<br/>for (( COUNTER=0; COUNTER &lt; 10000; COUNTER++ ))<br/>do<br/>  echo "Hello"<br/>done</span></pre><h1 id="b9be" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">摘要</h1><p id="c619" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">今天我们讨论如何使用<strong class="jq hj">格</strong>、<strong class="jq hj">而</strong>和<strong class="jq hj">格用于</strong>。<strong class="jq hj"> </strong>这些都是我们在进入下一个话题之前要知道的基本的东西。我们还介绍了在shell scipt中执行操作和使用命令的一些方法。</p><p id="ec91" class="pw-post-body-paragraph kl km hi jq b jr lo kn ko jt lp kp kq jv lq ks kt jx lr kv kw jz ls ky kz kb hb bi translated">如果有任何问题，请让我知道。谢谢你的阅读！</p></div></div>    
</body>
</html>