<html>
<head>
<title>Sentiment Analysis using the Vader library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vader库进行情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sentiment-analysis-using-the-vader-library-a91a888e4afd?source=collection_archive---------6-----------------------#2019-09-17">https://medium.com/analytics-vidhya/sentiment-analysis-using-the-vader-library-a91a888e4afd?source=collection_archive---------6-----------------------#2019-09-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eb4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">情绪分析是一个强大的工具，我们可以用它来评估新闻文章的感觉和人们对任何资产类别的看法，以帮助我们或我们的客户决定是否投资该资产。在这篇文章中，我将阐明一个叫做Vader的流行情绪分析库是如何工作的。这是维达图书馆的链接:</p><p id="b23f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/cjhutto/vaderSentiment" rel="noopener ugc nofollow" target="_blank">https://github.com/cjhutto/vaderSentiment</a></p><p id="2de9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出于许多原因，2016年美国总统大选至关重要。除了政治方面，在整个拉票期间，很多注意力都放在了分析的主要用途上。在选举期间，数百万条属于克林顿和特朗普的推特信息点被评估并归类为积极、中立或消极的感觉。评估得出的一些有趣的结果是:</p><p id="755c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-提到“@realDonaldTrump”的推文比提到“@HillaryClinton”的推文多，这表明大多数推文都是关于特朗普的。<br/>——两个申请者的负面推文都与正面推文相匹配。<br/> -特朗普的正面与负面推文比例高于克林顿。</p><p id="9b90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是情绪评估带来的力量，在美国大选中这一点非常明显。</p></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><h1 id="08a0" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">什么是情感分析？</h1><figure class="kk kl km kn fd ko er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es kj"><img src="../Images/72a6348f6ce52bee94bc3c21f136fbcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ASxQRD8RGqt5TERD.jpg"/></div></div></figure><p id="0b28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">情感分析或观点挖掘是自然语言处理(NLP)的一个子领域，它试图定义和提取特定文本中的观点。情感分析的目的是基于文本中的计算主观性疗法来评估说话者/作者的态度、感受、评估、态度和感受。</p><p id="401b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">为什么感情分析如此重要？</strong></p><p id="5d8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天，企业非常依赖信息。然而，这些信息中的大部分是来自电子邮件、聊天、社交媒体、调查、日志和记录等来源的非结构化文本。来自推特和脸书的微博内容带来了严峻的挑战，不仅是因为所涉及的数据量，还因为它们用来表达情感的语言类型，即缩写形式、模因和表情符号。</p><p id="570b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从大量文本信息中筛选既困难又耗时。分析这一切也需要大量的知识和资源。简而言之，这不是一项简单的工作。</p><p id="1e93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">情感分析对从业者和研究人员也很有用，特别是在社会学、市场营销、广告、心理学、经济学和政治学等领域，这些领域非常依赖人机交互数据。</p><p id="321b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">情绪分析允许企业通过自动化整个过程来理解信息！因此，他们可以从庞大的非结构化数据集中获得基本想法，而不必手动沉迷其中。</p><p id="a6c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么情感分析是一项难以完成的任务？</p><p id="f281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然理论上看起来很容易，但事实上情感分析是一个棘手的课题。对此有许多解释:</p><p id="1bd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">——通过文字理解感情，并不总是那么简单。有时，甚至人们也会被误导，所以这就像是对月亮要求笔记本电脑100%精确一样！一篇文章可以同时包含多种感情。</p><p id="f947" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例如，“这部电影背后的目的很棒，但它可能会更好，”</strong></p><p id="c2bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述短语包括两个极性，即积极和消极。那么我们是如何得出评价是正面还是负面的结论呢？</p><p id="c3a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">——在理解比喻辞格上，电脑不太顺手。比喻性语言利用词语来表达一种更复杂的意义或更强烈的影响，这种方式偏离了它们通常被接受的定义。使用明喻、隐喻、夸张等等可以称得上是一种比喻。通过一个实例，让我们更好地理解它。</p><p id="24b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“对于这部电影，我能说的最好的一点就是它很有趣。”</p><p id="0c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里,“有趣”这个词并不一定表示喜欢的感觉，可能会让算法感到困惑。</p><p id="7f21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Twitter和脸书等社交媒体文本中，大量使用带有情感价值的表情符号和俚语也使文本评估变得困难。例如，一个“:)”表示一个笑脸，通常与正面情绪有关，而另一方面，“:(”表示负面情绪。此外，首字母缩写词，如“LOL”，“OMG”和经常使用的俚语，如“Nah”，“meh”，“giggly”等。也是短语中某种情感的有力指示器。</p><p id="0d2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Vader代表“化合价感知词典和情感推理器”。这是一个基于词汇和规则的情绪分析工具，专门针对社交媒体中表达的情绪。VADER利用情感词典的混合作为词汇特征(例如，单词)的列表，这些词汇特征通常根据它们的语义取向被标记为正面或负面。</p><p id="46df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在处理社交媒体文本、纽约时报社论、电影评论和产品评论时，VADER被发现相当有效。这是因为VADER不仅告诉我们积极和消极的分数，还告诉我们一种感觉有多积极或消极。VADER的设计师使用亚马逊的机械土耳其人获得他们的大部分分数，完整的信息可以在他们的Github页面上找到。</p><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es kj"><img src="../Images/4f6b0c2303ed18e1f8ffdb4df681f586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rdTw-FnEWCX0hMnT.jpg"/></div></figure><p id="aae3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与传统的情感分析技术相比，使用VADER VADER有很多好处，包括:</p><p id="2081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-它在社交媒体文本上运行得非常好，但很容易推广到各种领域</p><p id="369e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">-它不需要任何训练数据，而是从一个可概括的、基于化合价的、人类固化的黄金标准情感词典构建而成。</p><p id="13d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">说够了！现在让我们实际看看VADER的评估是如何工作的，图书馆将首先安装。</p><p id="a8f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安装</strong></p><p id="79a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用pip从[ PyPI]进行设置的最简单方法是使用命令行。查看Github库的综合解释。</p><p id="747c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kv kw kx ky b"><strong class="ih hj">&gt; pip install vaderSentiment</strong></code></p><p id="8268" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦安装了VADER，让我们调用<code class="du kv kw kx ky b"><strong class="ih hj">SentimentIntensityAnalyser</strong></code>对象，</p><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="f40c" class="ld jm hi ky b fi le lf l lg lh"><strong class="ky hj">from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzeranalyser = SentimentIntensityAnalyzer()</strong></span></pre><h1 id="a9c7" class="jl jm hi bd jn jo li jq jr js lj ju jv jw lk jy jz ka ll kc kd ke lm kg kh ki bi translated">工作和评分</h1><p id="fadd" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">现在让我们用VADER来检验我们的第一个观点。我们将使用<strong class="ih hj"> polarity_scores() </strong>方法来获取给定句子的极性指数。</p><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="3b50" class="ld jm hi ky b fi le lf l lg lh">def sentiment_analyzer_scores(sentence):<br/>    score = analyser.polarity_scores(sentence)<br/>    print("{:-&lt;40} {}".format(sentence, str(score)))</span></pre><p id="9161" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看VADER在某篇评论中的表现:</p><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="1ec8" class="ld jm hi ky b fi le lf l lg lh"><strong class="ky hj">sentiment_analyzer_scores("The phone is super cool.")The phone is super cool----------------- {'neg': 0.0, 'neu': 0.326, 'pos': 0.674, 'compound': 0.7351}</strong></span></pre><p id="4f42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以表格形式输入:</p><figure class="kk kl km kn fd ko er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ls"><img src="../Images/097c0ad2a1056b0c1978dcd5e1e7a29d.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/0*MhDdQ6YEExUkCiEo.jpg"/></div></div></figure><ul class=""><li id="0927" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">正、负和中性分数代表属于这些类别的文本的比例。这意味着我们的判决被评定为67%肯定，33%中立，0%否定。因此所有这些加起来应该是1。</li><li id="a6ff" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">复合得分是一个计算所有<a class="ae jd" href="https://github.com/cjhutto/vaderSentiment/blob/master/vaderSentiment/vader_lexicon.txt?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">词典评分</a>总和的指标，这些评分已在-1(最负面)和+1(最正面)之间标准化。在上面的例子中，和<code class="du kv kw kx ky b">supercool</code>的词汇等级分别是<code class="du kv kw kx ky b">2.9</code>和<code class="du kv kw kx ky b">1.3</code>。复合分数结果是<code class="du kv kw kx ky b"> 0.75 </code>，表示非常高的正面情绪。</li></ul><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es mh"><img src="../Images/a8ba321d802c113702c55728e97256dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/0*i2LCNjF1DOlNR3Rt.jpg"/></div></figure><p id="535e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">阅读<a class="ae jd" href="https://github.com/cjhutto/vaderSentiment?source=post_page---------------------------#about-the-scoring" rel="noopener ugc nofollow" target="_blank">此处</a>了解VADER评分方法的更多详情。</p><p id="f56f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">VADER主要基于某些关键点来分析情绪:</p><ul class=""><li id="dcea" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated">标点符号:感叹号的使用。)，在不修改语义指向的情况下，增加强度的大小。比如“这里的菜不错！”比“这里的食物很好吃”更强烈并且增加了<strong class="ih hj">(！)</strong>，相应增加量级。</li></ul><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es mi"><img src="../Images/48c08dc9e8d4233c8cc08ba5215db4e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*9hLhwh9IIKm2zxIu.jpg"/></div></figure><p id="89ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mj">看总体</em> <strong class="ih hj"> <em class="mj">复合得分</em> </strong> <em class="mj">如何随着感叹号的增加而增加。</em></p><ul class=""><li id="05ca" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">大写:</strong>在存在其他非大写单词的情况下，使用<strong class="ih hj">大写字母</strong>来强调与情感相关的单词，增加情感强度的大小。比如“这里的食物很棒！”传达比“这里的食物很棒！”更强烈的信息</li></ul><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es mk"><img src="../Images/feb38c8d92263ab0d95b803c23a9b8d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/0*pH324V3mvE5SO6Ib.jpg"/></div></figure><ul class=""><li id="7067" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">程度修饰语:</strong>也称为强化词，它们通过增加或减少情感强度来影响情感强度。例如，“这里的服务非常好”比“这里的服务很好”更强烈，而“这里的服务勉强好”降低了强度。</li></ul><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es ml"><img src="../Images/50db11c26ac03d1f71e96a8163328e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*saRP5j2ACxCKdKyZ.jpg"/></div></figure><ul class=""><li id="0394" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">连词</strong>:连词“but”的使用标志着情感极性的转变，连词后面的文本情感占主导地位。“这里的食物很棒，但服务很糟糕”让人喜忧参半，后半句决定了总体评分。</li></ul><figure class="kk kl km kn fd ko er es paragraph-image"><div class="er es mm"><img src="../Images/7f83610ba0962156718cdfe11656446c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/0*awimH_zFiCr2FzcI.jpg"/></div></figure><ul class=""><li id="99ce" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">前三元组:</strong>通过检查情感丰富的词汇特征前的三元组，我们抓住了近90%的否定翻转文本极性的情况。否定的句子会是“这里的食物真的没那么好”。</li></ul><h1 id="ff21" class="jl jm hi bd jn jo li jq jr js lj ju jv jw lk jy jz ka ll kc kd ke lm kg kh ki bi translated">处理表情符号、俚语和表情符号。</h1><p id="ade1" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">VADER在句子中使用表情符号、俚语和首字母缩略词方面表现得非常好。让我们看一看每一个例子。</p><ul class=""><li id="75ed" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">表情符号</strong></li></ul><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="85ab" class="ld jm hi ky b fi le lf l lg lh">print(sentiment_analyzer_scores('I am 😄 today'))<br/>print(sentiment_analyzer_scores('😊'))<br/>print(sentiment_analyzer_scores('😥'))<br/>print(sentiment_analyzer_scores('☹️'))<strong class="ky hj">#Output</strong>I am 😄 today---------------------------- {'neg': 0.0, 'neu': 0.476, 'pos': 0.524, 'compound': 0.6705}😊--------------------------------------- {'neg': 0.0, 'neu': 0.333, 'pos': 0.667, 'compound': 0.7184}😥--------------------------------------- {'neg': 0.275, 'neu': 0.268, 'pos': 0.456, 'compound': 0.3291}☹️-------------------------------------- {'neg': 0.706, 'neu': 0.294, 'pos': 0.0, 'compound': -0.34}💘--------------------------------------- {'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}</span></pre><ul class=""><li id="c6d2" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">俚语</strong></li></ul><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="3efe" class="ld jm hi ky b fi le lf l lg lh"><strong class="ky hj">print(sentiment_analyzer_scores("Today SUX!"))<br/>print(sentiment_analyzer_scores("Today only kinda sux! But I'll get by, lol"))#output</strong>Today SUX!------------------------------ {'neg': 0.779, 'neu': 0.221, 'pos': 0.0, 'compound': -0.5461}Today only kinda sux! But I'll get by, lol {'neg': 0.127, 'neu': 0.556, 'pos': 0.317, 'compound': 0.5249}</span></pre><ul class=""><li id="d4f3" class="lt lu hi ih b ii ij im in iq lv iu lw iy lx jc ly lz ma mb bi translated"><strong class="ih hj">表情符号</strong></li></ul><pre class="kk kl km kn fd kz ky la lb aw lc bi"><span id="232c" class="ld jm hi ky b fi le lf l lg lh"><strong class="ky hj">print(sentiment_analyzer_scores("Make sure you :) or :D today!"))</strong>Make sure you :) or :D today!----------- {'neg': 0.0, 'neu': 0.294, 'pos': 0.706, 'compound': 0.8633}</span></pre><p id="8b36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们已经了解了Vader的一般工作原理，请看GitHub上的这个例子，通过分析与给定公司股票代码<a class="ae jd" href="https://github.com/dineshdaultani/StockPredictions" rel="noopener ugc nofollow" target="_blank">https://github.com/dineshdaultani/StockPredictions</a>相关的社交媒体帖子的情绪，了解它如何具体应用于股票价格预测</p></div></div>    
</body>
</html>