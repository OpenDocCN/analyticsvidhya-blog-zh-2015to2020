<html>
<head>
<title>3D visualization of a function of two variables (from ℝ² into ℝ) with Python -Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python -Matplotlib实现二元函数的3D可视化(从ℝ到ℝ)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/3d-visualization-of-a-function-of-two-variables-from-%E2%84%9D%C2%B2-into-%E2%84%9D-with-python-matplotlib-5bd3df39fc94?source=collection_archive---------7-----------------------#2020-11-17">https://medium.com/analytics-vidhya/3d-visualization-of-a-function-of-two-variables-from-%E2%84%9D%C2%B2-into-%E2%84%9D-with-python-matplotlib-5bd3df39fc94?source=collection_archive---------7-----------------------#2020-11-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3174368bb93e5b6019f70fbe6496333f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5oQd8NqgZwKbLV4Tb3-SAw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">两个实变量函数的交互式表示(图片由作者提供)</figcaption></figure><p id="b4df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本教程中，我们将了解如何使用python以三维交互方式显示从ℝ到ℝ的函数。这里我用Jupyter笔记本。</p><p id="90bc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你想直接运行代码，你可以<a class="ae js" href="https://github.com/joctet/3D-visualization-of-a-function-of-two-variables-with-Python--Matplotlib" rel="noopener ugc nofollow" target="_blank">在我的回购上下载笔记本。</a></p><p id="ce2a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，有些库是必要的:</p><h1 id="cac7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">装置</h1><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="3434" class="la ju hi kw b fi lb lc l ld le">pip install numpy<br/>pip install matplotlib </span></pre><h1 id="09dc" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">进口</h1><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="484a" class="la ju hi kw b fi lb lc l ld le">import numpy as np<br/>import matplotlib.pyplot as plt<br/>import mpl_toolkits<br/>from mpl_toolkits.mplot3d import Axes3D</span></pre><p id="7f02" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您在导入mpl _ toolkits时遇到困难，请尝试运行:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="8dd0" class="la ju hi kw b fi lb lc l ld le">!pip install — upgrade matplotlib<br/>import mpl_toolkits</span></pre><h1 id="0fee" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">预处理</h1><p id="ac46" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">设函数f从ℝ到ℝ.对于ℝ的任何一对夫妇(x，y ):</p><p id="775a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">f(x，y) = 2*x — x*y + 2*y</p><p id="4dfc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">函数f在python中定义如下:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fc51" class="la ju hi kw b fi lb lc l ld le">def f(x, y):<br/>    return 2*x**2 - x*y + 2*y**2</span></pre><p id="5b6d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们从实数ℝ集合中为x和y选择一个值范围(我将以[-100，100]为例，每个变量有100个值)。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="4f62" class="la ju hi kw b fi lb lc l ld le">x = np.linspace(-100, 100, 100)<br/>y = np.linspace(-100, 100, 100)</span></pre><p id="2b7d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，我们将创建一个包含所有值对(xi，易)的值数组，其中xi在x轴上，易在y轴上</p><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/80fc03e90b299668625bdea1d013333f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*wf4GYfx5YbsymlI5pXX-Yw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">x和y在其值范围内的映射(图片由作者提供)</figcaption></figure><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="de3a" class="la ju hi kw b fi lb lc l ld le">X, Y = np.meshgrid(x, y)</span></pre><p id="e1d9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，我们为每对值(xi，易)计算上面定义的函数的值，并将这些值存储在新的变量Z中:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d063" class="la ju hi kw b fi lb lc l ld le">Z = f(X,Y)</span></pre><p id="b21f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之后，只需将Z显示为X和y的函数。</p><h2 id="3bb6" class="la ju hi bd jv ll lm ln jz lo lp lq kd jf lr ls kh jj lt lu kl jn lv lw kp lx bi translated">交互式可视化</h2><p id="ce9a" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">对于可以在三维空间中旋转图形的交互式可视化，请指定以下命令:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="00e2" class="la ju hi kw b fi lb lc l ld le">%matplotlib notebook</span></pre><h2 id="77ea" class="la ju hi bd jv ll lm ln jz lo lp lq kd jf lr ls kh jj lt lu kl jn lv lw kp lx bi translated">形象化</h2><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9a50" class="la ju hi kw b fi lb lc l ld le">fig = plt.figure()<br/>ax = plt.axes(projection='3d')<br/>ax.plot_surface(X, Y, Z, rstride=1, cstride=1,cmap='jet', edgecolor = 'none')</span></pre><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/416a1e45e88f16e44a8f2d44d5ff3732.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*6aE-bkAgfyY5snTBe-0_Ww.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="ee3a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可以进一步添加标题、为轴添加标题、选择图形的大小、调整图形的单元格大小(rstride和cstride参数)、修改cmap色阶(我在页面底部的奖金部分列出了cmap的可能值)、…</p><h2 id="b53c" class="la ju hi bd jv ll lm ln jz lo lp lq kd jf lr ls kh jj lt lu kl jn lv lw kp lx bi translated">一个更完整的例子</h2><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c993" class="la ju hi kw b fi lb lc l ld le"># We define the size of the figure<br/>fig = plt.figure(figsize = (10,7))<br/>ax = plt.axes(projection='3d')<br/>ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap='jet', edgecolor='none')</span><span id="7b7d" class="la ju hi kw b fi lz lc l ld le"># We caption the figure and set a size with fontsize<br/>ax.set_title("Surface", fontsize = 13)<br/>ax.set_xlabel('x', fontsize = 11)<br/>ax.set_ylabel('y', fontsize = 11)<br/>ax.set_zlabel('Z', fontsize = 10)</span></pre><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/462c1ceabec267e7f016400e6537b16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*B05fWwqCi-avS_6g0FyDKw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="41ef" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那就好多了！</p><p id="4376" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">要一次运行所有内容，您可以使用以下代码:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="1cdb" class="la ju hi kw b fi lb lc l ld le">import matplotlib.pyplot as plt<br/>import numpy as np<br/>from mpl_toolkits.mplot3d import Axes3D</span><span id="6877" class="la ju hi kw b fi lz lc l ld le">%matplotlib notebook</span><span id="7fb3" class="la ju hi kw b fi lz lc l ld le">def f(x, y):<br/>    return 2*x**2 - x*y + 2*y**2</span><span id="1fab" class="la ju hi kw b fi lz lc l ld le">x = np.linspace(-100, 100, 100)<br/>y = np.linspace(-100, 100, 100)</span><span id="9f4f" class="la ju hi kw b fi lz lc l ld le">X, Y = np.meshgrid(x, y)</span><span id="4c50" class="la ju hi kw b fi lz lc l ld le">Z = f(X,Y)</span><span id="47ad" class="la ju hi kw b fi lz lc l ld le">fig = plt.figure(figsize = (10,7))</span><span id="06da" class="la ju hi kw b fi lz lc l ld le">ax = plt.axes(projection='3d')<br/>ax.plot_surface(X, Y, Z, rstride=1, cstride=1,<br/>cmap='jet', edgecolor='none')<br/>ax.set_title("Surface", fontsize = 13)<br/>ax.set_xlabel('x', fontsize = 11)<br/>ax.set_ylabel('y', fontsize = 11)<br/>ax.set_zlabel('Z', fontsize = 10)</span></pre><h1 id="7414" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">奖金</h1><p id="aacb" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">另一个完整代码的例子:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c850" class="la ju hi kw b fi lb lc l ld le">import numpy as np<br/>import matplotlib.pyplot as plt<br/>from mpl_toolkits.mplot3d import Axes3D</span><span id="d7fa" class="la ju hi kw b fi lz lc l ld le">%matplotlib notebook</span><span id="db91" class="la ju hi kw b fi lz lc l ld le">def fonction1 (x, y):<br/>    return 2*x**2 - x*y**2 + 2*y**2</span><span id="b6cb" class="la ju hi kw b fi lz lc l ld le">x = np.linspace(-400, 400, 100)<br/>y = np.linspace(-400, 400, 100)<br/>X, Y = np.meshgrid(x, y)<br/>Z = fonction1(X,Y)</span><span id="7706" class="la ju hi kw b fi lz lc l ld le">fig = plt.figure(figsize = (10,7))<br/>ax = plt.axes(projection='3d')<br/>ax.plot_surface(X, Y, Z, rstride=5, cstride=5,<br/>                cmap='cool')<br/>ax.set_title("Surface Bonus", fontsize = 13)<br/>ax.set_xlabel('x', fontsize = 11)<br/>ax.set_ylabel('y', fontsize = 11)<br/>ax.set_zlabel('Z', fontsize = 11)<br/>plt.show()</span></pre><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/ceb75e742cc4c3dce8b2bc7398d6c01e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*YppPWqfeCc_DsDuyR7glRg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><h2 id="4896" class="la ju hi bd jv ll lm ln jz lo lp lq kd jf lr ls kh jj lt lu kl jn lv lw kp lx bi translated">cmap的选择</h2><p id="308e" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">cmap可以采用多种值，但这里先给出一些示例来帮助您理解:</p><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/365a9ff79ccba302b17a6ffa7657de78.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*LdvzD7WITgKHBByMRQptbg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/a690180a6814a01f05e4fde76e9a657d.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*dvyu0sNhDZCzDqW8sHDd-Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="12f4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后，为了达到迷幻效果:</p><figure class="kr ks kt ku fd ij er es paragraph-image"><div class="er es md"><img src="../Images/05aba9219e1edd78de7917af5e44fc82.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*aTatWAq4-Z49ImxNUrliSQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><h2 id="e132" class="la ju hi bd jv ll lm ln jz lo lp lq kd jf lr ls kh jj lt lu kl jn lv lw kp lx bi translated">cmap的可能值:</h2><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d026" class="la ju hi kw b fi lb lc l ld le">‘Accent’, ‘Accent_r’, ‘Blues’, ‘Blues_r’, ‘BrBG’, ‘BrBG_r’, ‘BuGn’, ‘BuGn_r’, ‘BuPu’, ‘BuPu_r’, ‘CMRmap’, ‘CMRmap_r’, ‘Dark2’, ‘Dark2_r’, ‘GnBu’, ‘GnBu_r’, ‘Greens’, ‘Greens_r’, ‘Greys’, ‘Greys_r’, ‘OrRd’, ‘OrRd_r’, ‘Oranges’, ‘Oranges_r’, ‘PRGn’, ‘PRGn_r’, ‘Paired’, ‘Paired_r’, ‘Pastel1’, ‘Pastel1_r’, ‘Pastel2’, ‘Pastel2_r’, ‘PiYG’, ‘PiYG_r’, ‘PuBu’, ‘PuBuGn’, ‘PuBuGn_r’, ‘PuBu_r’, ‘PuOr’, ‘PuOr_r’, ‘PuRd’, ‘PuRd_r’, ‘Purples’, ‘Purples_r’, ‘RdBu’, ‘RdBu_r’, ‘RdGy’, ‘RdGy_r’, ‘RdPu’, ‘RdPu_r’, ‘RdYlBu’, ‘RdYlBu_r’, ‘RdYlGn’, ‘RdYlGn_r’, ‘Reds’, ‘Reds_r’, ‘Set1’, ‘Set1_r’, ‘Set2’, ‘Set2_r’, ‘Set3’, ‘Set3_r’, ‘Spectral’, ‘Spectral_r’, ‘Wistia’, ‘Wistia_r’, ‘YlGn’, ‘YlGnBu’, ‘YlGnBu_r’, ‘YlGn_r’, ‘YlOrBr’, ‘YlOrBr_r’, ‘YlOrRd’, ‘YlOrRd_r’, ‘afmhot’, ‘afmhot_r’, ‘autumn’, ‘autumn_r’, ‘binary’, ‘binary_r’, ‘bone’, ‘bone_r’, ‘brg’, ‘brg_r’, ‘bwr’, ‘bwr_r’, ‘cividis’, ‘cividis_r’, ‘cool’, ‘cool_r’, ‘coolwarm’, ‘coolwarm_r’, ‘copper’, ‘copper_r’, ‘cubehelix’, ‘cubehelix_r’, ‘flag’, ‘flag_r’, ‘gist_earth’, ‘gist_earth_r’, ‘gist_gray’, ‘gist_gray_r’, ‘gist_heat’, ‘gist_heat_r’, ‘gist_ncar’, ‘gist_ncar_r’, ‘gist_rainbow’, ‘gist_rainbow_r’, ‘gist_stern’, ‘gist_stern_r’, ‘gist_yarg’, ‘gist_yarg_r’, ‘gnuplot’, ‘gnuplot2’, ‘gnuplot2_r’, ‘gnuplot_r’, ‘gray’, ‘gray_r’, ‘hot’, ‘hot_r’, ‘hsv’, ‘hsv_r’, ‘inferno’, ‘inferno_r’, ‘jet’, ‘jet_r’, ‘magma’, ‘magma_r’, ‘nipy_spectral’, ‘nipy_spectral_r’, ‘ocean’, ‘ocean_r’, ‘pink’, ‘pink_r’, ‘plasma’, ‘plasma_r’, ‘prism’, ‘prism_r’, ‘rainbow’, ‘rainbow_r’, ‘seismic’, ‘seismic_r’, ‘spring’, ‘spring_r’, ‘summer’, ‘summer_r’, ‘tab10’, ‘tab10_r’, ‘tab20’, ‘tab20_r’, ‘tab20b’, ‘tab20b_r’, ‘tab20c’, ‘tab20c_r’, ‘terrain’, ‘terrain_r’, ‘twilight’, ‘twilight_r’, ‘twilight_shifted’, ‘twilight_shifted_r’, ‘viridis’, ‘viridis_r’, ‘winter’, ‘winter_r’</span></pre></div></div>    
</body>
</html>