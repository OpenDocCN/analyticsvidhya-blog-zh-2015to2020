<html>
<head>
<title>A Walkthrough of MongoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MongoDB 漫游</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-walkthrough-of-mongodb-aef402594144?source=collection_archive---------11-----------------------#2020-10-12">https://medium.com/analytics-vidhya/a-walkthrough-of-mongodb-aef402594144?source=collection_archive---------11-----------------------#2020-10-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/48a5c9f1f699bdcfffae5332c307a669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/0*yeAA8dHQKW8WJpJY.jpg"/></div></figure><h1 id="421e" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">什么是 MongoDB？</h1><p id="428e" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">MongoDB 是一个 NoSQL 数据库——NoSQL 数据库是一个不用 SQL 查询的数据库。除此之外，NoSQL 对于定义数据库来说没有任何意义。所以让我们再来定义一下 MongoDB。MongoDB 是一个 JSON 文档数据库。它允许您存储和查询 JSON 风格的文档，并带有一些智能。这意味着您可以将包含嵌套数据的对象存储在一个集合中(集合就像 MongoDB 的表)。<br/>对于事务型存储，它通常比传统的 SQL 数据库更快，但缺乏用于分析用途的查询能力。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ki"><img src="../Images/9ed7116c27b30bda76d38e9f20ec23b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w8T-3uzlvecSKSV_.jpg"/></div></div></figure><h1 id="33c0" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">为什么是 MongoDB？</h1><p id="c3a3" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">当我们需要一个 NoSQL 数据库时，我们选择了 MongoDB，原因有很多:</p><ul class=""><li id="3ba3" class="kr ks hi jm b jn kt jr ku jv kv jz kw kd kx kh ky kz la lb bi translated">在云中运行良好(规模、容错、安全)</li><li id="5257" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">易于入门(大量清晰的文档)</li><li id="d5ed" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">全球许多大公司都在使用它，所以 MongoDB 有钱继续开发。</li></ul><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es et"><img src="../Images/e973d2096b9d5fb8c4886a5a9194adb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nK6q5lkHge5ggnaB.png"/></div></div></figure><h1 id="b3c6" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">MongoDB 相对于 RDBMS 的优势:</h1><ul class=""><li id="b6bb" class="kr ks hi jm b jn jo jr js jv lh jz li kd lj kh ky kz la lb bi translated">MongoDB 是无模式的。它是一个文档数据库，其中一个集合包含不同的文档。但是在 RDBMS 中，你需要首先设计你的表，数据结构，关系，只有这样你才能开始编码。</li><li id="fd5d" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">字段数量、内容和文档大小可能会有所不同。但是在 RDBMS 中，每条记录都必须遵循特定的预定义模式。</li><li id="1a9e" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 是水平可扩展的，即我们可以添加更多的服务器(分片),但 RDBMS 只能垂直扩展，即增加 RAM。</li><li id="0401" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 强调 CAP 定理(一致性、可用性和分区容差)，而 RDBMS 强调 ACID 属性(原子性、一致性、隔离性和持久性)。</li><li id="2897" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 最适合分层数据存储，而 RDBMS 不适合。</li><li id="d1fb" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 支持 JSON 查询语言和 SQL，但是 RDBMS 只支持 SQL 查询语言。</li><li id="414e" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">与 RDBMS 相比，MongoDB 易于设置、配置和运行。它的 Java 客户端也很好用。</li><li id="16b3" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 比 RDBMS 等传统数据库系统快近 100 倍，而 RDBMS 比 NoSQL 数据库慢。</li><li id="dc58" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 中不支持复杂连接，但 RDBMS 支持复杂连接，这可能很难理解，并且执行起来需要太多时间。</li><li id="0488" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 使用内存来存储工作集，从而加快了访问速度。</li><li id="00e4" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">MongoDB 支持深度查询能力，即我们可以使用基于文档的查询语言在文档上执行动态查询，这种语言几乎和 SQL 一样强大。</li><li id="7172" class="kr ks hi jm b jn lc jr ld jv le jz lf kd lg kh ky kz la lb bi translated">在 MongoDB 中，不需要将应用程序对象转换/映射到数据库对象。</li></ul><p id="939f" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">让我们开始使用 python 滚动 MongoDB。</p><p id="a0d2" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">首先，安装<a class="ae ln" href="https://pypi.org/project/pymongo/" rel="noopener ugc nofollow" target="_blank"> pymongo </a>包，使用 Python 实现 MongoDB 连接。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="e0eb" class="lt in hi lp b fi lu lv l lw lx">!pip install pymongo</span></pre><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ly"><img src="../Images/7fd5a5af8960b3d26e5edda6ab237a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/0*YHqx1XEGuO79Pzuh.png"/></div></div></figure><p id="9380" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">安装控制台</p><p id="7b03" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">积垢运行</strong></p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/4c76aa5a5350fb5fc1f2ce3ae042b40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*my6SVycGfQoQzlv7.png"/></div></figure><p id="f918" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">导入包</strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="45f5" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">import</strong> pymongo</span></pre><p id="766d" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">设置数据库连接</strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="3e83" class="lt in hi lp b fi lu lv l lw lx">DEFAULT_CONNECTION_URL = "mongodb://localhost:27017/"<br/>DB_NAME = "bank"</span><span id="eba3" class="lt in hi lp b fi ma lv l lw lx"># Establish a connection with mongoDB<br/>client = pymongo.MongoClient(DEFAULT_CONNECTION_URL)</span><span id="7775" class="lt in hi lp b fi ma lv l lw lx"># Create a DB<br/>dataBase = client[DB_NAME]</span></pre><p id="174e" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">MongoDB 安装在我的本地机器上。因此，作为本地主机提供的连接 URL。执行此命令后，数据库就创建好了。</p><p id="14c0" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">收藏</strong></p><p id="d0b3" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">MongoDB 将文档存储在集合中。集合类似于关系数据库中的表。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mb"><img src="../Images/34747eb64de9d7d4daa32442adbfa57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aXvjklOZaTtRatqw.png"/></div></div></figure><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="a27d" class="lt in hi lp b fi lu lv l lw lx">UserDetails = dataBase['UserDetails']</span></pre><p id="c577" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">上面的代码用于创建名为“UserDetails”的集合。</p><p id="d624" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">插入</strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="9623" class="lt in hi lp b fi lu lv l lw lx">record={'_id':1,<br/>        'Name':'Antony',<br/>        'EmployeeType':'Business',<br/>        'Address':'VGN Cross street, Chennai',<br/>        'AccountType':'Savings',<br/>        'Age':45<br/>       }<br/>userDetails.insert_one(record)</span></pre><p id="3401" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">验证 MongoDB Compass 中的数据，数据库“bank”已创建。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mc"><img src="../Images/508338d4d9e970d9cb0055c6141d22f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cprL0FWCMlsNFRJx.png"/></div></div></figure><p id="3ce7" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">数据库屏幕</p><p id="9bae" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">验证该集合是以“UserDetails”的名称创建的</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es md"><img src="../Images/ca9bdcd07c73b4ace1f6ae5759ae10b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bxbB3VwKnZZQD65K.png"/></div></div></figure><p id="2381" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">用户详细信息</p><p id="a534" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">一次插入多条记录。这可以通过下面的步骤很容易地实现，</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="4bee" class="lt in hi lp b fi lu lv l lw lx">records = [</span><span id="14eb" class="lt in hi lp b fi ma lv l lw lx">{'_id':2,       <br/>        'Name':'Anto',<br/>        'EmployeeType':'Business',<br/>        'Address':'VGN Cross street, Chennai',<br/>        'AccountType':'Savings',<br/>        'Age':45<br/>       },<br/>{'_id':3,       <br/>        'Name':'Chris',<br/>        'EmployeeType':'<strong class="lp hj">Self</strong>',<br/>        'Address':'Mayur street, Chennai',<br/>        'AccountType':'Savings',<br/>        'Age':31<br/>       },<br/>{'_id':4,<br/>        'Name':'Maddy',<br/>        'EmployeeType':'Business',<br/>        'Address':'KVN street, Chennai',<br/>        'AccountType':'Savings',<br/>        'Age':56<br/>       }<br/>          ]<br/>userDetails.insert_many(records)</span></pre><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es me"><img src="../Images/c5b773bc7575eb1c2dcfc37e85f2ca84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wca_x08cGBYFrMcV.png"/></div></div></figure><p id="7cde" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">插入的记录</p><p id="3bd1" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">显示</strong></p><p id="0b7f" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> <em class="mf">显示第一条记录:</em> </strong></p><p id="f81f" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">显示集合中的第一条记录</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="9947" class="lt in hi lp b fi lu lv l lw lx">print(userDetails.find_one())</span><span id="c326" class="lt in hi lp b fi ma lv l lw lx">{'_id': 1, 'Name': 'Antony', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}</span></pre><p id="3d59" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> <em class="mf">读取所有记录:</em> </strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="5103" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">def</strong> <strong class="lp hj">display</strong>():<br/>    allRecords = userDetails.find()<br/>    <strong class="lp hj">for</strong> idx, record <strong class="lp hj">in</strong> enumerate(allRecords):<br/>        print(f"{idx}:{record}")</span><span id="9f25" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">0</strong>:{'_id': 1, 'Name': 'Antony', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}</span><span id="a3e4" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">1</strong>:{'_id': 2, 'Name': 'Anto', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}</span><span id="a375" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">2</strong>:{'_id': 3, 'Name': 'Chris', 'EmployeeType': 'Self', 'Address': 'Mayur street, Chennai', 'AccountType': 'Savings', 'Age': 31}</span><span id="fac3" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">3</strong>:{'_id': 4, 'Name': 'Maddy', 'EmployeeType': 'Business', 'Address': 'KVN street, Chennai', 'AccountType': 'Savings', 'Age': 56}</span></pre><p id="e852" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> <em class="mf">显示有限的栏目:</em> </strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="614f" class="lt in hi lp b fi lu lv l lw lx">showLimitedColumns = userDetails.find({},{'Name'})<br/><strong class="lp hj">for</strong> idx, record <strong class="lp hj">in</strong> enumerate(showLimitedColumns):<br/>    print(f"{idx}:{record}")</span><span id="0d32" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">0</strong>:{'_id': 1, 'Name': 'Antony'}<br/><strong class="lp hj">1</strong>:{'_id': 2, 'Name': 'Anto'}<br/><strong class="lp hj">2</strong>:{'_id': 3, 'Name': 'Chris'}<br/><strong class="lp hj">3</strong>:{'_id': 4, 'Name': 'Maddy'}</span></pre><p id="4a42" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> <em class="mf">应用查询或过滤:</em> </strong></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="c052" class="lt in hi lp b fi lu lv l lw lx">query={"Name" : "Antony"}<br/>filterData = userDetails.find(query)<br/><strong class="lp hj">for</strong> <strong class="lp hj">data</strong> <strong class="lp hj">in</strong> filterData:<br/>    print(<strong class="lp hj">data</strong>)</span><span id="1a32" class="lt in hi lp b fi ma lv l lw lx">{'_id': 1, 'Name': 'Antony', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}</span></pre><p id="0634" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> <em class="mf">使用条件运算符过滤数据:</em> </strong></p><p id="45c6" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">$ gt 用符号表示“大于”运算符。从下面的代码中选择年龄大于 45 岁的用户。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="c6d8" class="lt in hi lp b fi lu lv l lw lx">criteria ={"Age" :{"$gt" : 45}}<br/>results = userDetails.find(criteria)<br/><strong class="lp hj">for</strong> rec <strong class="lp hj">in</strong> results: <br/>    print(rec)</span><span id="4b8a" class="lt in hi lp b fi ma lv l lw lx">{'_id': 4, 'Name': 'Maddy', 'EmployeeType':'Business', 'Address': 'KVN street, Chennai', 'AccountType': 'Savings', 'Age': 56}</span></pre><p id="3f82" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">更新</strong></p><p id="d5a7" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">此处将更新用户 id“4 ”,名称为“Mark ”,而不是“Maddy”。基于筛选器更新集合中的单个文档。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="ac29" class="lt in hi lp b fi lu lv l lw lx">presentData={"_id":4}<br/>updateData={"$set": {"Name":"Mark"}}<br/>userDetails.update_one(presentData, updateData)</span></pre><p id="9e08" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">核实数据</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="ba39" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">display</strong>()</span><span id="8c47" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">0</strong>:{'_id': 1, 'Name': 'Antony', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}<br/><strong class="lp hj">1</strong>:{'_id': 2, 'Name': 'Anto', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}<br/><strong class="lp hj">2</strong>:{'_id': 3, 'Name': 'Chris', 'EmployeeType': 'Self', 'Address': 'Mayur street, Chennai', 'AccountType': 'Savings', 'Age': 31}<br/><strong class="lp hj">3</strong>:{'_id': 4, 'Name': '<strong class="lp hj">Mark</strong>', 'EmployeeType': 'Business', 'Address': 'KVN street, Chennai', 'AccountType': 'Savings', 'Age': 56}</span></pre><p id="7c46" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">删除</strong></p><p id="e304" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">在此删除名为“Chris”的第一条记录。从集合中移除单个文档。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="44d1" class="lt in hi lp b fi lu lv l lw lx">query_to_Delete = {"Name":"Chris"}<br/>userDetails.delete_one(query_to_Delete)</span></pre><p id="0f33" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">核实数据</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="b687" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">display</strong>()</span><span id="ba1d" class="lt in hi lp b fi ma lv l lw lx"><strong class="lp hj">0</strong>:{'_id': 1, 'Name': 'Antony', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}<br/><strong class="lp hj">1</strong>:{'_id': 2, 'Name': 'Anto', 'EmployeeType': 'Business', 'Address': 'VGN Cross street, Chennai', 'AccountType': 'Savings', 'Age': 45}<br/><strong class="lp hj">2</strong>:{'_id': 4, 'Name': 'Mark', 'EmployeeType': 'Business', 'Address': 'KVN street, Chennai', 'AccountType': 'Savings', 'Age': 56}</span></pre><p id="9950" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">删除&amp;中的其他操作更新:</strong></p><p id="aa56" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"><em class="mf">db . collection . delete many()</em></strong></p><p id="66b2" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">从集合中删除所有匹配<code class="du mg mh mi lp b">filter</code>的文档。以下操作删除所有文件，其中<code class="du mg mh mi lp b">client : "Crude Traders Inc."</code></p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="96a8" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">try</strong> {<br/>   db.orders.deleteMany( { "client" : "Crude Traders Inc." } );<br/>} <strong class="lp hj">catch</strong> (e) {<br/>   print (e);<br/>}</span></pre><p id="a2c3" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"><em class="mf">db . collection . update many()</em></strong></p><p id="b366" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">更新集合中与指定筛选器匹配的所有文档。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="95a8" class="lt in hi lp b fi lu lv l lw lx">{ "_id" : 1, "name" : "Central Perk Cafe", "violations" : 3 }<br/>{ "_id" : 2, "name" : "Rock A Feller Bar and Grill", "violations" : 2 }<br/>{ "_id" : 3, "name" : "Empire State Sub", "violations" : 5 }<br/>{ "_id" : 4, "name" : "Pizza Rat's Pizzaria", "violations" : 8 }</span></pre><p id="7c7d" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">以下操作更新所有<code class="du mg mh mi lp b">violations</code>大于<code class="du mg mh mi lp b">4</code>且<code class="du mg mh mi lp b"><a class="ae ln" href="https://docs.mongodb.com/manual/reference/operator/update/set/#up._S_set" rel="noopener ugc nofollow" target="_blank">$set</a></code>为待审核标志的文档:</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="05e5" class="lt in hi lp b fi lu lv l lw lx"><strong class="lp hj">try</strong> {<br/>   db.restaurant.updateMany(<br/>      { violations: { $gt: 4 } },<br/>      { $set: { "Review" : <strong class="lp hj">true</strong> } }<br/>   );<br/>} <strong class="lp hj">catch</strong> (e) {<br/>   <strong class="lp hj">print</strong>(e);<br/>}</span></pre><p id="c598" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> MongoDB 图集</strong></p><p id="5954" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj"> MongoDB Atlas </strong>是一个完全托管的云数据库，由构建<strong class="jm hj"> MongoDB </strong>的同一批人开发。<strong class="jm hj"> Atlas </strong>在您选择的云服务提供商(AWS、Azure 和 GCP)上处理部署、管理和修复部署的所有复杂性。</p><p id="da8e" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">让我们开始滚动使用 Atlas 创建数据库和收集。</p><pre class="kj kk kl km fd lo lp lq lr aw ls bi"><span id="ddb2" class="lt in hi lp b fi lu lv l lw lx"># Create a database connection<br/>client = pymongo.MongoClient("mongodb+srv://anto:antouser@antocluster.rp5yu.mongodb.net/school?retryWrites=true")<br/>db = client.school</span><span id="1d91" class="lt in hi lp b fi ma lv l lw lx"># create the student collection<br/>student=db['student']</span><span id="77c8" class="lt in hi lp b fi ma lv l lw lx"># Insert new record<br/>record={'_id':1, 'Name':'Ashok', 'standard':'V', 'Attendance %':78}<br/>student.insert_one(record)</span></pre><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mj"><img src="../Images/ae420548f5f28f99f10d07ffbc2888c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YiUS9DlJ2wbQkSri.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">Atlas 中的样本数据库和集合</figcaption></figure><p id="5ad5" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated"><strong class="jm hj">图表</strong></p><p id="241e" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">图表如何在 MongoDB 中发挥作用？</p><p id="ba0f" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">这将是你要问的第一个问题。是的，我们可以使用 Atlas 通过仪表板管理来制作图表。默认情况下，Atlas 中的任何帐户都嵌入了电影数据库，以便制作图表。让我们看看它是如何显示的。</p><p id="cb9e" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">转到名为“图表”的选项卡</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mo"><img src="../Images/4c30d75a05dc2bb3389d004f2559c007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YYgbQw5sgEjEPowF.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">仪表盘</figcaption></figure><p id="eaee" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">单击示例仪表板上的。数据分别以线形图、条形图、地理空间分布图、饼图的形式呈现。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mp"><img src="../Images/afa2a11c890d40c82cc0c7185332418f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KOpTWB11L_hRdPFe.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">屏幕-I</figcaption></figure><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mp"><img src="../Images/a6b406ba3879356d8c23d14eb7d92975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WvJ2qZN55x51UxMs.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">屏幕-II</figcaption></figure><p id="9484" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">我们也可以创建自己的定制仪表板。通过选择在 Atlas 帐户中创建的数据源。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mp"><img src="../Images/7c925144463dce413fe89ad777eb0ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gLLl4dW_vsxU_IjG.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">自定义仪表板</figcaption></figure><p id="49f5" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">此外，我们可以向外部用户共享仪表板。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mq"><img src="../Images/559a96d2851a289009bc1b5413713d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*756mHvNqZ01fNLNK.png"/></div></div><figcaption class="mk ml et er es mm mn bd b be z dx translated">仪表板共享</figcaption></figure><p id="c416" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">我希望我的博客能让你对 MongoDB 有一个初步的了解。帮助您理解在 MongoDB 中从哪里开始。</p><p id="1f25" class="pw-post-body-paragraph jk jl hi jm b jn kt jp jq jr ku jt ju jv lk jx jy jz ll kb kc kd lm kf kg kh hb bi translated">快乐编码:)</p></div></div>    
</body>
</html>