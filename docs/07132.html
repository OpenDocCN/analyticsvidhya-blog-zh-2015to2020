<html>
<head>
<title>Speedy Coding: Creating a Python Library in a Flash!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速编码:瞬间创建Python库！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-i-wrote-a-python-library-in-under-3-hours-d9b9c502dfe?source=collection_archive---------25-----------------------#2020-06-14">https://medium.com/analytics-vidhya/how-i-wrote-a-python-library-in-under-3-hours-d9b9c502dfe?source=collection_archive---------25-----------------------#2020-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/15b076adc0589dcf997108123cd03195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sAcNitpYV7oo0n32_rAXqQ.jpeg"/></div></div></figure><p id="48db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，你没看错！你可以在3小时或更短的时间内开发一个python库！您也不需要成为python专家。对于像<a class="ae jo" href="https://github.com/catplotlib/Relabel" rel="noopener ugc nofollow" target="_blank"> Relabel </a>这样的简单库，这将是本文的重点，您只需要知道一些基础知识。</p><p id="84b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我是一个机器学习爱好者，我经常处理没有正确组织的大型数据集。所以为了解决这个问题，我决定查找有用的python命令，我确实找到了一个。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="6522" class="jy jz hi ju b fi ka kb l kc kd">os.rename()</span></pre><p id="5954" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我从我的男朋友那里得到了把这个脚本变成一个图书馆的想法，他几个月前出版了他自己的图书馆。一定要看看<a class="ae jo" href="http://GitHub.com/abhinavmir/tasveer" rel="noopener ugc nofollow" target="_blank"> Tasveer </a>，它只需一个命令就能帮助你下载训练和测试图像！</p><p id="c86d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们进入教程之前，这里有一些你需要的先决条件:</p><ol class=""><li id="5f47" class="ke kf hi is b it iu ix iy jb kg jf kh jj ki jn kj kk kl km bi translated">了解基本的python语法。</li><li id="c7a7" class="ke kf hi is b it kn ix ko jb kp jf kq jj kr jn kj kk kl km bi translated">Linux命令的知识。</li><li id="a7ec" class="ke kf hi is b it kn ix ko jb kp jf kq jj kr jn kj kk kl km bi translated">PyPI上的帐户。</li></ol><p id="a49e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们开始陈述吧！</p><h1 id="15f2" class="ks jz hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">写你的代码。</h1><p id="4e4a" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">首先，提出一个问题，并尝试使用python在您的系统上解决它。您也可以在代码中使用其他库。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="7937" class="jy jz hi ju b fi ka kb l kc kd">import os<br/>from os import listdir<br/>def change_name():    <br/>    variable=input("Enter new file names:\n")    <br/>    path = os.getcwd()    <br/>    i = 1    <br/>    for filename in listdir(path):        <br/>        m=filename.index(’.’)        <br/>        l=len(filename)         <br/>        n=l-m        <br/>        if(variable==""):             <br/>            os.rename(filename,str(i).zfill(1)+filename[-n:])        <br/>        else:            <br/>            os.rename(filename,variable+ str(i).zfill(1)+filename[-n:])      <br/>        i+=1</span></pre><p id="257a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我为Relable写的代码。正如你所看到的，这是一个相当简单的代码，它包含了操作系统库。</p><h1 id="34b3" class="ks jz hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">PyPI账户。</h1><p id="86f2" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">然后去https://pypi.org/的<a class="ae jo" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank">和https://test.pypi.org/的</a>和<a class="ae jo" href="https://test.pypi.org/" rel="noopener ugc nofollow" target="_blank">创建两个独立的账户。</a></p><h1 id="c6c6" class="ks jz hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">上传到PyPI。</h1><p id="a75b" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated"><strong class="is hj">步骤1: Linux shell <br/> </strong>打开您的Linux命令提示符，导航到保存代码的文件夹。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/4cb43d55cb65dc8a111d0be665092143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHa44cY0O1vLz5ue2YtIVg.jpeg"/></div></div></figure><p id="facb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第二步:关于你的库。<br/> </strong>将setup.py、setup.cfg、license.txt添加到文件夹中。这些文件包含有关库的信息，这有助于更好地定义库的功能。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/8286b800e5d7155401bab0a8d530d0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nn2gx0x_xKDpMFokFipFBA.jpeg"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">Setup.py</figcaption></figure><p id="c08f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以查找“麻省理工学院许可证”并在添加到你的文件夹之前做一些调整。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/e2328f8be529ee271b448b8f8b866f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8z_h_oHyg565TVgFdpYXcA.jpeg"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">license.txt</figcaption></figure><p id="2c04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">查看我的<a class="ae jo" href="https://github.com/catplotlib/Relabel" rel="noopener ugc nofollow" target="_blank">库</a>以获得关于您需要创建什么文件的更多细节。</p><p id="19df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第三步:测试<br/> </strong>把所有必要的文件都放在一个文件夹里之后，就该进行一些测试了！</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="987c" class="jy jz hi ju b fi ka kb l kc kd">python setup.py sdist</span></pre><p id="17e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从您的Linux shell运行上面的代码行。在运行这一行之前，请确保在您的系统上安装了PyType。这将创建一个可以直接上传到PyPI的. tar文件。</p><p id="2ce4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行下面一行并输入您的用户名和密码来测试PyPI。</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="9876" class="jy jz hi ju b fi ka kb l kc kd">twine upload --repository-url <a class="ae jo" href="https://test.pypi.org/legacy/" rel="noopener ugc nofollow" target="_blank">https://test.pypi.org/legacy/</a> dist/*</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/1a3f7c482c4930512bcc029abc8db5b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aaq3egec2g1eezc4BT7kZw.jpeg"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">testPyPI</figcaption></figure><p id="0d22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以用它做各种各样的测试，只是要确保在新版本发布之前从setup.py文件中修改你的库的版本。</p><p id="e88c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第四步:发布。</p><p id="8be5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成测试并对库的输出满意后，您需要在shell中运行以下命令。出现提示时，输入您的用户名和密码登录PyPI(不是test PyPI)。您的库将被上传到PyPI主站点，您的库现在可以使用了！</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="c22b" class="jy jz hi ju b fi ka kb l kc kd">twine upload dist/*</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/052b5d247e369fd97128204b61419405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xibHXkNT01OaXZm6TUc0lA.jpeg"/></div></div></figure></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="0e35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读！希望你觉得这有用！一定要留下很多掌声！</p></div></div>    
</body>
</html>