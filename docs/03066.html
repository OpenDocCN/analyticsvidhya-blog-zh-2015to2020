<html>
<head>
<title>Time Series brief introduction and how to use interactive time series graph using dygraphs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列简介以及如何使用dygraphs使用交互式时间序列图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/time-series-brief-introduction-and-how-to-use-interactive-time-series-graph-using-dygraphs-9c61fa435504?source=collection_archive---------25-----------------------#2020-01-14">https://medium.com/analytics-vidhya/time-series-brief-introduction-and-how-to-use-interactive-time-series-graph-using-dygraphs-9c61fa435504?source=collection_archive---------25-----------------------#2020-01-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f0fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们将处理一个关于德国通货膨胀率的时间序列数据集，我们将在这里做一些EDA工作，然后尝试拟合一个时间序列模型，并使用dygraphs绘制一个交互式时间序列图。</p><p id="a5c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">内容:</p><ol class=""><li id="d6e9" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">关于来源和数据集的介绍</li><li id="7b08" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">熟悉数据</li><li id="6fb7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">工作大纲</li><li id="4796" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Arima与ETS方法(选择最佳方法)</li><li id="51fc" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">dygraphs简介</li><li id="5f04" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">用最佳方法绘制交互式时序图。</li></ol><p id="2d4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通货膨胀率:衡量单位货币购买力变化的指标</p><p id="afce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2017年12月通胀率被认为是德国最低的。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/7b86b2ea87922d23779e8f3da0006855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NiQR8l07NdSFh_muFr3d_w.png"/></div></div></figure><p id="61f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">通货膨胀数据经常用于时间序列分析，因为它:</strong></p><ol class=""><li id="f5ee" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">影响投资机会</li><li id="b0a4" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">影响股票价格</li><li id="e7d5" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">就业率</li><li id="3091" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">石油和其他。</li></ol></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="eacc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据集来源:</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kk"><img src="../Images/d349b8c55768639236022865a051e4c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UVcrEaBnRI-9n-xFbnsEVw.png"/></div></div></figure><p id="04a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">这个数据集取自</strong><a class="ae kl" href="https://www.statbureau.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://www.statbureau.org/</strong></a></p><p id="5f55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#德国每月通货膨胀率。</p><p id="9f54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果有人想尝试和分析其他国家的数据，可以下载。</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="5c51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="km">熟悉数据集:</em> </strong></p><p id="a28d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们对数据集进行EDA，我们就会了解到许多事情:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kn"><img src="../Images/e0f8c806e4a041a21551ceba1b36cc56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*VCREsutx7M9qqxQg6m6rfA.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">获取数据集中的前5个值。</figcaption></figure><p id="8824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，它不是时间序列格式，R package允许我们使用其内置包制作时间序列，该包根据用户输入的频率将数据转换为时间序列:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ks"><img src="../Images/85ea5f1555bb759204f3e9ec6d79bf1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--OoHyAHSNZDkjh93g7vqA.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">我们可以看到，现在我们有一个从2008年开始的时间序列，并以月度数据表示。</figcaption></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kt"><img src="../Images/89a78cdfa79c931dc86e6aa1e01747f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*PicP0AEh7aGJnXK-TShr0A.png"/></div></figure><p id="8bb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)数据排列不当。</p><p id="5820" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)不存在趋势。</p><p id="7570" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c)季节性存在。</p><p id="50cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)存在负值</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="c714" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="km">EDA后的工作概要:</em> </strong></p><p id="80a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于给出了月度数据的频率，我们可以看到没有趋势，只有季节性:</p><p id="d606" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)季节分解</p><p id="82d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)Arima方法</p><p id="9253" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">c)ETS方法</p><p id="28f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)交叉验证</p><p id="33c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">e)根据误差选择最佳方法并绘制图表。</p><p id="17b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)季节分解:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es kt"><img src="../Images/2ed409202944a96b6c10903df40d805d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*rDS6s5mhqQJ_uIY0FKxj4w.png"/></div></figure><p id="4c4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种技术将数据分成几个部分:</p><ol class=""><li id="db0f" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">趋势</li><li id="24ed" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">季节性</li><li id="8396" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">白噪声</li></ol><p id="cb85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">几个有趣的点/猜测，季节性正在形成一种模式:我们可以看到，在年底(假期时间)，通货膨胀率突然上升，然后在夏季缓慢上升，之后在12月再次下降并再次上升。</p><p id="4bba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但季节性分解模型有几个缺点，比如它们捕捉快速上涨的速度很慢。</p><p id="fabc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新的季节分解方法:(如果你们想看的话，可以提供链接)</p><ol class=""><li id="e104" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">X11:<a class="ae kl" href="https://otexts.com/fpp2/x11.html" rel="noopener ugc nofollow" target="_blank">https://otexts.com/fpp2/x11.html</a></li><li id="e2b2" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">座位:<a class="ae kl" href="https://otexts.com/fpp2/seats.html" rel="noopener ugc nofollow" target="_blank">https://otexts.com/fpp2/seats.htm</a></li></ol><p id="1008" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">B)Arima模型:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ku"><img src="../Images/abab626e34c38c347ebce804ba9cb551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fK4rrqB6C9wU4gKucvrmUw.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">手动和自动arima方法的区别。</figcaption></figure><p id="697d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们可以使用Arima的手动方法来检查序列的平稳性并进行dickey fuller测试，也可以使用auto arima方法来计算最佳模型，因为它是一个较小的数据集。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kv"><img src="../Images/8d41a734c110467fd39a6bbb43ca64bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U2TzCn6-RNvlKV1zGTM2HA.png"/></div></div></figure><p id="c369" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">季节性Arima和非季节性Arima的区别:季节性Arima模型有两个参数:一个常规参数集和用于季节性部分的第二个参数集。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kw"><img src="../Images/1a7e3ce4e067c7507ca68d1f42cee299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P7blyVClVfa5gaFXukjIrA.png"/></div></div></figure><p id="9278" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">推论</strong>:</p><h2 id="a3ef" class="kx ky hi bd kz la lb lc ld le lf lg lh iq li lj lk iu ll lm ln iy lo lp lq lr bi translated">最佳模型:ARIMA(1，0，2)(0，1，1)[12]</h2><ol class=""><li id="33f7" class="jd je hi ih b ii ls im lt iq lu iu lv iy lw jc ji jj jk jl bi translated">(1，0，2):对于非季节性部分，我们有1阶自相关、差分和2阶移动平均。</li><li id="747c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">(0，1，1):对于季节部分，我们有一步差分和移动平均，以及</li><li id="047b" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">12–每间隔一年的观察值，与它们一起，我们有进行预测的系数。</li></ol><p id="6491" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将预测剩余时间，并存储该值以对照ETS进行检查。</p><p id="4690" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">C)ETS模型:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lx"><img src="../Images/461f7113890e7d7a4f891df9bb305e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SN14aPm20chPffUWXJY-DA.png"/></div></div></figure><p id="ae7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们看到的，我们正在自动生成ETS时间序列来预测我们的值，然后我们将它与arima模型进行比较。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ly"><img src="../Images/e3199115fd0c51811e0986d1c8343bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*AbCmddrGxB9mVhAK9XpIWw.png"/></div></figure><p id="9577" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)时间序列交叉验证和误差:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es lz"><img src="../Images/c052356f73e553137915aa96d120359d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kSjseGb9bGNcy_6my56CHw.png"/></div></div></figure><p id="3335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们必须使用误差度量来比较不同的模型，这里我们使用函数:ts.cv()</p><p id="9f8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">后退:对于更长的数据，计算错误率需要大量的计算时间。</p><p id="fe31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算错误率时，我们将选择最佳模型:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ma"><img src="../Images/5cef5b2a1581a987dd01110ffd8f69ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*FbjQq_q4mFTdp8-xw0rH9g.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">arima模型与ets模型的误差比较</figcaption></figure><p id="4808" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看出，Arima模型的误差低于ETS，因此我们将使用该模型预测下一年的通货膨胀。</p><p id="115a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">E) DYGraphs:</p><p id="aa6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于时间序列模型的交互式绘图工具是<a class="ae kl" href="http://dygraphs.com/" rel="noopener ugc nofollow" target="_blank"> dygraphs </a>:一种基于JavaScript的绘制时间序列数据的方法。dygraphs也作为R的一个包提供，因此您可以在基于R的数据探索工作流中生成交互式输出。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es mb"><img src="../Images/76fbbbd37a8f69ad61eb0d1e73e9fa2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RF3n45tZhXuo59xvEnNzoA.png"/></div></div></figure><p id="3523" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">R中的<code class="du mc md me mf b">dygraphs</code>函数处理时间序列对象，将ts数据集作为第一个参数。在本文中，我们将为我们处理过的德国通货膨胀创建一个数据集:</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="85ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了完成工作，请登录我的Github账户:<a class="ae kl" href="https://github.com/kailash14/Time-Series" rel="noopener ugc nofollow" target="_blank">https://github.com/kailash14/Time-Series</a></p><p id="ca4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><ol class=""><li id="4678" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><a class="ae kl" href="https://www.r-graph-gallery.com/316-possible-inputs-for-the-dygraphs-library.html" rel="noopener ugc nofollow" target="_blank">https://www . r-graph-gallery . com/316-possible-inputs-for-the-dy graphs-library . html</a></li><li id="98c1" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae kl" href="https://otexts.com/fpp2/" rel="noopener ugc nofollow" target="_blank">https://otexts.com/fpp2/</a></li><li id="cbb1" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae kl" href="http://r-tutorials.com/" rel="noopener ugc nofollow" target="_blank">http://r-tutorials.com/</a></li><li id="9b23" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><a class="ae kl" href="https://codepen.io/" rel="noopener ugc nofollow" target="_blank">https://codepen.io/</a></li></ol></div></div>    
</body>
</html>