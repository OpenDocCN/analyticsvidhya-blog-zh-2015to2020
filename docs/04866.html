<html>
<head>
<title>Using the rank() function in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Pandas中使用rank()函数</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-the-rank-function-in-pandas-f03c4cb0bd2c?source=collection_archive---------14-----------------------#2020-04-03">https://medium.com/analytics-vidhya/using-the-rank-function-in-pandas-f03c4cb0bd2c?source=collection_archive---------14-----------------------#2020-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8c84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过一个实际的业务用例，了解如何计算数据列上的数字数据等级。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f051b17c11b6a84444fa6e60f8dd78a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pkaQMvsKMQNsfRKr"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jt" href="https://unsplash.com/@helloquence?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Helloquence </a>拍摄的照片</figcaption></figure><p id="0ab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">绩效评估是跟踪员工表现的关键。</p><p id="e85c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在大多数组织中，员工的加薪或年度奖金将取决于他们在评估周期中的表现。</p><p id="e1c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一名员工在市场研究部门比她的同事表现得更好，那么对她的工作给予相应的奖励是合理的。</p><p id="7d03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们假设员工的分数取决于三个属性<em class="ju">(实际上会有更多):</em></p><ol class=""><li id="21aa" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated">截止日期:从1到5，员工在指定的截止日期前完成工作的可能性有多大？<em class="ju">(权重:0.30) </em></li><li id="ba80" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">工作质量:</strong>从1到5分，员工分享的可交付成果质量如何？<em class="ju">(权重:0.40) </em></li><li id="a300" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">沟通:</strong>从1到5分，员工与客户沟通的效率如何？<em class="ju">(权重:0.30) </em></li></ol><p id="8a6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是时候对熊猫的员工表现进行排名了。启动你的Jupyter，跟着走！</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="2f7a" class="kv kw hi kr b fi kx ky l kz la">#import the pandas module<br/>import pandas as pd</span><span id="30ed" class="kv kw hi kr b fi lb ky l kz la">#read the data<br/>data=pd.read_excel('Appraisal.xlsx')</span><span id="063c" class="kv kw hi kr b fi lb ky l kz la">#Check out a sample of the data<br/>data.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lc"><img src="../Images/9084e7cd70f235d05ce62a46c5caa84d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_1Y48dp7lUpcgqZ6b64XQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">评估数据样本</figcaption></figure><p id="1dfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用列<strong class="ih hj"> <em class="ju"> Final_Score </em> </strong>对员工进行排名，这是三个绩效属性的加权和。</p><p id="e517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将创建一个新列<strong class="ih hj"><em class="ju">【rank】</em></strong>，用于存储员工排名。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="d94a" class="kv kw hi kr b fi kx ky l kz la">data['rank']=data['Final_Score'].rank(ascending=False, method='dense')</span></pre><p id="eb20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在等级函数中使用了两个参数:</p><ol class=""><li id="6675" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated">ascending=False:这是为了确保等级1授予得分最高的员工</li><li id="6e1a" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">method= 'dense ':这是在得分时试图解决平局的最佳属性。</li></ol><blockquote class="ld le lf"><p id="f0d4" class="if ig ju ih b ii ij ik il im in io ip lg ir is it lh iv iw ix li iz ja jb jc hb bi translated">如果我们<strong class="ih hj">不</strong>将<strong class="ih hj">方法</strong>的值设置为“<strong class="ih hj">密集</strong>”，并且第一个位置有一个3向平局，会发生什么？</p></blockquote><ol class=""><li id="515c" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated">这三名员工最终都只能排在第二位</li><li id="e5fa" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">下一个雇员将得到等级4</li></ol><p id="8a57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这不仅对员工不公平，而且完全没有道理！</p><p id="7cad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们清楚了这一点，让我们检查我们的最终数据集…</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="3d37" class="kv kw hi kr b fi kx ky l kz la">data.sort_values(by='rank').head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/93d5c05b697730563bdf88e8623d69f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bq4QsVM4l0SjZ-a1T7Erpg.png"/></div></div></figure><p id="49d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任务完成。</p><p id="ef1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">绩效评估很复杂，在现实生活中，公司会使用各种各样的变量来完成这项任务，但希望通过学习这些简单的技能，你可以将一些自动化引入到你的过程中。</p><p id="2c17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下次见！</p><h1 id="d8e5" class="lk kw hi bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">资源:</h1><p id="ad97" class="pw-post-body-paragraph if ig hi ih b ii mh ik il im mi io ip iq mj is it iu mk iw ix iy ml ja jb jc hb bi translated"><a class="ae jt" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.rank.html#pandas.Series.rank" rel="noopener ugc nofollow" target="_blank">熊猫文档</a>关于秩函数</p><p id="eb0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="https://github.com/ddailycoder/HouseOfCode/blob/master/Appraisal.xlsx" rel="noopener ugc nofollow" target="_blank">该数据集的Github链接</a></p></div></div>    
</body>
</html>