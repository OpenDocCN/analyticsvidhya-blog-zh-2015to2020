<html>
<head>
<title>Implement Louvain Community Detection Algorithm using Python and Gephi with visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和Gephi实现可视化的Louvain社区发现算法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/implement-louvain-community-detection-algorithm-using-python-and-gephi-with-visualization-871250fb2f25?source=collection_archive---------6-----------------------#2020-08-25">https://medium.com/analytics-vidhya/implement-louvain-community-detection-algorithm-using-python-and-gephi-with-visualization-871250fb2f25?source=collection_archive---------6-----------------------#2020-08-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/c121a0e1237aaff83b9bfb42797179fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4FhdtRPgyUtj7EtO.jpg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">归功于<a class="ae hv" href="https://www.analyticsvidhya.com/blog/2020/04/community-detection-graphs-networks/" rel="noopener ugc nofollow" target="_blank"> Analytics Vidhya </a></figcaption></figure><div class=""/><h1 id="b44e" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">鲁汶社区检测算法</h1><p id="e4e5" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><strong class="jv hz">卢万社区发现方法</strong>是由<a class="ae hv" href="https://en.wikipedia.org/wiki/Vincent_Blondel" rel="noopener ugc nofollow" target="_blank">布朗德尔</a> <em class="kr">等人</em>创建的一种从大型网络中提取社区的方法。来自<a class="ae hv" href="https://en.wikipedia.org/wiki/Universit%C3%A9_catholique_de_Louvain" rel="noopener ugc nofollow" target="_blank">鲁汶大学</a>(这个方法名字的来源)。该方法是一种贪婪的优化方法，在网络中的节点数为O(n log2n)时运行。你可以在这里查阅论文<a class="ae hv" href="https://arxiv.org/pdf/0803.0476.pdf" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="c8fe" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">我在这里介绍两种实现Louvain社区检测算法和可视化聚类图的方法。</p><h1 id="0c5f" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">Python代码</h1><pre class="kx ky kz la fd lb lc ld le aw lf bi"><span id="3962" class="lg iw hy lc b fi lh li l lj lk"><strong class="lc hz">import </strong>networkx <strong class="lc hz">as </strong>nx<br/><strong class="lc hz">import </strong>community <strong class="lc hz">as </strong>community_louvain<br/><strong class="lc hz">import </strong>matplotlib.pyplot <strong class="lc hz">as </strong>plt<br/><strong class="lc hz">import </strong>matplotlib.cm <strong class="lc hz">as </strong>cm</span><span id="fda2" class="lg iw hy lc b fi ll li l lj lk"># define the graph<br/>edge = [(1,2),(1,3),(1,4),(1,5),(1,6),(2,7),(2,8),(2,9)]<br/>G = nx.Graph()<br/>G.add_edges_from(edge)</span><span id="a346" class="lg iw hy lc b fi ll li l lj lk"># retrun partition as a dict<br/>partition = community_louvain.best_partition(G)</span><span id="19fb" class="lg iw hy lc b fi ll li l lj lk"># visualization<br/>pos = nx.spring_layout(G)<br/>cmap = cm.get_cmap(<strong class="lc hz">'viridis'</strong>, max(partition.values()) + 1)<br/>nx.draw_networkx_nodes(G, pos, partition.keys(), node_size=100,cmap=cmap, node_color=list(partition.values()))<br/>nx.draw_networkx_edges(G, pos, alpha=0.5)<br/>plt.show()</span></pre><p id="22c0" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">结果如下:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/def1c093d9e6a408fb15ba99d0d8ee0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1whWup3NZeajbX6Zym6bDw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">上述Python代码的结果</figcaption></figure><h1 id="c77f" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">格菲</h1><p id="6ae6" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><a class="ae hv" href="https://gephi.org/" rel="noopener ugc nofollow" target="_blank"> Gephi </a>是各种图形和网络的领先可视化和探索软件。可以在Linux，Windows，macOS上使用。</p><p id="0fda" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">我在这里介绍一种简单的方法来导入CSV格式的图，实现Louvain社区检测算法，并对节点进行聚类。感谢<a class="ae hv" href="https://gephi.org/tutorials/gephi-tutorial-quick_start.pdf" rel="noopener ugc nofollow" target="_blank"> Gephi教程</a>，点击了解更多详情。</p><p id="1a78" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">首先，用CSV或excel格式创建一个包含图形边的文件。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ln"><img src="../Images/999dad3093af7841c46ce4b3f80591bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5c8SvZZpFHERfLtrmGqRlg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">边缘的CSV文件</figcaption></figure><p id="cf29" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">其次，你需要在<strong class="jv hz"> <em class="kr">数据实验室</em>面板</strong>中找到<em class="kr"> </em> <strong class="jv hz"> <em class="kr">导入电子表格</em> </strong> <em class="kr"> </em>按钮。并导入这个CSV或excel文件。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/f17b5c514f9744c132d6450489553f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9pF8M_0fR1eIo9_FeSqHcg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">单击导入电子表格</figcaption></figure><p id="f49b" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">转到<strong class="jv hz"> <em class="kr">总览</em> </strong>面板，可以看到导入图形的可视化。您可以选择合适的布局来获得美丽的视觉效果。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lp"><img src="../Images/5cbe26566947cb5cf238e016d3636ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OhpItfRFpYEMUPzS1WFvlg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">在胡一帆布局下导入的图形</figcaption></figure><p id="d787" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">检测和研究社区的能力是网络分析的核心。在我们的例子中，我们希望给集群着色。Gephi实现Louvain方法，可从<strong class="jv hz">统计</strong>面板获得。点击<strong class="jv hz">运行</strong>附近的<strong class="jv hz"> <em class="kr">模块化</em> </strong> <em class="kr"> </em>线。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lp"><img src="../Images/2e88f8c15852542ba1831e13924a239c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Snyd7fZYHTkWS1b06NSO1g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">单击统计面板中“模块化”附近的运行</figcaption></figure><p id="091e" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">社区检测算法为每个节点创建一个“模块性类”值。分区模块可以使用这个新数据来给社区着色。找到左侧面板上的分区模块。选择<strong class="jv hz">模块化类</strong>并点击<strong class="jv hz">应用</strong>。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div class="er es lq"><img src="../Images/727b3120bb71af8737129e910093b315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*v7dx3gmDgBYNm11Jc4GKbg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">在“分区”面板中选择模块化类后，单击“应用”</figcaption></figure><p id="424c" class="pw-post-body-paragraph jt ju hy jv b jw ks jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kw ko kp kq hb bi translated">然后，您可以看到下面带有相应颜色的聚类图。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lr"><img src="../Images/e4a9f5e67287fc9381a6f62269f6786f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXvk_AUiE0lXlY_2SEFQLA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">聚类图</figcaption></figure><h1 id="f77f" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">参考:</h1><ol class=""><li id="39a8" class="ls lt hy jv b jw jx ka kb ke lu ki lv km lw kq lx ly lz ma bi translated">【https://gephi.org/ T4】</li><li id="31b9" class="ls lt hy jv b jw mb ka mc ke md ki me km mf kq lx ly lz ma bi translated"><a class="ae hv" href="https://gephi.org/tutorials/gephi-tutorial-quick_start.pdf" rel="noopener ugc nofollow" target="_blank">https://gephi.org/tutorials/gephi-tutorial-quick_start.pdf</a></li><li id="2a04" class="ls lt hy jv b jw mb ka mc ke md ki me km mf kq lx ly lz ma bi translated"><a class="ae hv" href="https://arxiv.org/pdf/0803.0476.pdf" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/pdf/0803.0476.pdf</a></li><li id="cb34" class="ls lt hy jv b jw mb ka mc ke md ki me km mf kq lx ly lz ma bi translated"><a class="ae hv" href="https://en.wikipedia.org/wiki/Louvain_modularity" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Louvain_modularity</a></li></ol></div></div>    
</body>
</html>