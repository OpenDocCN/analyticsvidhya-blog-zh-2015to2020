<html>
<head>
<title>Python Errors, How Can You Make Python Exceptions More Informative?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python错误，如何让Python异常更有信息量？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-errors-how-can-you-make-python-exceptions-more-informative-350cf66a4c52?source=collection_archive---------13-----------------------#2020-11-21">https://medium.com/analytics-vidhya/python-errors-how-can-you-make-python-exceptions-more-informative-350cf66a4c52?source=collection_archive---------13-----------------------#2020-11-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2595" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何使python错误(python异常)更具描述性，易于阅读和理解。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/a7a86c4308c54d9a7907ad98437d82c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*WBQqhikjvY4ZhPmSToSE7g.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">普通Python语法错误(异常)</figcaption></figure><p id="f08f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">错误或异常是每个程序员在从事项目时都会遇到的最令人沮丧的事情。python也不例外，事实上我发现python的错误有时很复杂，因为有些错误不明确。</p><p id="91a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的图片中，错误类型是语法错误，但错误消息非常复杂，python初学者(有时是中级)都无法理解，这是因为我没有在print语句中关闭括号:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="291e" class="ju jv hi jq b fi jw jx l jy jz">print("Hello World!"  → # No closing parenthesis</span></pre><p id="4281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果解释器可以告诉你只查找拼写错误或未闭合的括号或任何可能在python脚本中产生语法错误的内容，那就简单多了。幸运的是，我已经创建了一个名为Pyerrors的脚本，它可以为你完成这项工作，请查看下面的图片:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ka"><img src="../Images/826b977cbd8ce7182b519afb3aebb1f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*ZNph-QeA6J-9UfLdpmuiQQ.gif"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">Pyerrors脚本的作用</figcaption></figure><p id="8bab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是在引擎盖下到底发生了什么？我收集了所有可能的异常，并创建了一个处理程序，它可以从错误中获取尽可能多的信息，并重新格式化错误消息，以便读者尽可能容易理解。</p><p id="b6c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这不是一切，实际上这是一个基本的和容易解决的异常类型，比如说IndexError？</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="7124" class="ju jv hi jq b fi jw jx l jy jz">lst = []<br/>for i in range(10):<br/>    lst.append(i)</span><span id="536e" class="ju jv hi jq b fi kb jx l jy jz">print(lst[100])</span></pre><p id="7fef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将触发一个IndexError消息将超出范围，这个代码很简单，但是如果你使用嵌套循环或长while循环语句，这个错误特别导致我在尝试进行算法项目时重写我的整个代码。现在让我们看看Pyerrors可以对这种类型的错误做些什么:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kc"><img src="../Images/a85ec85899a86d61fca30565ebf502ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Qf00c_6QjuMsgaeO9kFkw.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">Pyerrors索引错误</figcaption></figure><p id="30ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">脚本返回一个简单的错误，指出行号和要做什么的信息，在这种情况下，脚本告诉您第2行的索引不存在。这比普通的python异常消息要简单和容易理解得多。</p><h1 id="d6c0" class="kh jv hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">怎么用？</h1><p id="577f" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">如果您对绑定脚本感兴趣，首先您需要从这个<a class="ae lj" href="https://github.com/Riade-bg/Pyerrors" rel="noopener ugc nofollow" target="_blank">链接下载源代码，</a>然后您指定一个参数和路径。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="ac0b" class="ju jv hi jq b fi jw jx l jy jz">&gt;&gt;&gt; python pyerrors.py --errors|-e path_to_your_script</span></pre><p id="de73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是开始的全部内容。但是请注意，Pyerrors可能会使用您的系统中没有安装的模块，您需要做的就是:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="507f" class="ju jv hi jq b fi jw jx l jy jz">1 - Navigate to Pyerrors folder from your terminal<br/>2 - run this code: <!-- -->pip install -r requirements.txt</span></pre><p id="21e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，Pyerrors能够在脚本中搜索警告，通常python警告是由用户触发的，因此如果您有非常大的代码，并且您想要检查某个参数是否会触发警告，您可能想要使用此功能:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="687e" class="ju jv hi jq b fi jw jx l jy jz">python pyerrors.py --warnings|-w path_to_your_script</span></pre><h1 id="00c1" class="kh jv hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">异常树:</h1><p id="0680" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">在这个树中，您将发现Pyerrors可以处理所有异常:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="1fe6" class="ju jv hi jq b fi jw jx l jy jz">Exeptions:<br/>  |<br/>  |- • AssertionError<br/>  |- • AttributeError<br/>  |- • EOFError<br/>  |- • FileNotFoundError<br/>  |- • ImportError<br/>  |- • IndexError<br/>  |- • KeyError<br/>  |- • KeyboardInterrupt<br/>  |- • MemoryError<br/>  |- • NameError<br/>  |- • NotImplementedError<br/>  |- • ModuleNotFoundError<br/>  |- • OSError<br/>  |- • OverflowError<br/>  |- • ReferenceError<br/>  |- • RuntimeError<br/>  |- • StopIteration<br/>  |- • SyntaxError<br/>  |- • IndentationError<br/>  |- • TabError<br/>  |- • SystemError<br/>  |- • TypeError<br/>  |- • UnboundLocalError<br/>  |- • ValueError<br/>  |- • ZeroDivisionError</span></pre><p id="2cc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并在python中包含了所有类型的警告。</p><h1 id="a8e8" class="kh jv hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">结论:</h1><p id="3499" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">这是版本1.0，所以它不是一个“成熟”的脚本，它可能有问题或错误，但在未来这个脚本将有更强大的特性和功能。如果你喜欢它或者想为剧本做点贡献，欢迎你，别忘了留下一颗星，这将有助于激励我。</p><p id="749b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lj" href="https://twitter.com/riade_b" rel="noopener ugc nofollow" target="_blank">我的推特</a></p></div></div>    
</body>
</html>