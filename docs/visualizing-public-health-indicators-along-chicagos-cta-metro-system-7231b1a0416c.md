# 芝加哥 CTA 地铁系统沿线公共健康指标的可视化

> 原文：<https://medium.com/analytics-vidhya/visualizing-public-health-indicators-along-chicagos-cta-metro-system-7231b1a0416c?source=collection_archive---------16----------------------->

作者:[哈娜·帕森](/@HanaPassen)、[李思欣·鲁恩斯](https://www.urban.org/author/charmaine-runes)和罗伯托·巴罗佐·卢克

红线上的预期寿命或血压是什么样的，绿线或橙线上的结果有多大不同？芝加哥地铁系统附近的糖尿病和高铅风险模式中，制度性歧视和隔离的遗产是如何显现的？住在 L 火车站附近的老年居民也住在保险费率低的地区吗？

我们通过创建一个芝加哥 L 站周边社区相对健康状况的可视化来回答这类问题。在沿线最繁荣的社区，我们发现所有健康指标的结果都比大部分人口生活在联邦贫困线以下的社区要好；正如我们所料，这些贫穷和不太健康的社区也是黑人和拉丁裔居民比例较高的社区。令人惊讶的是，我们发现铅暴露的房屋相当均匀地分布在除环路以外的所有地铁线上，而且与其他健康指标相比，铅暴露的房屋与任何人口统计或社会经济特征的相关性都较小。

*数据:*

使用芝加哥公共交通管理局(CTA)在芝加哥开放数据门户上的数据，我们收集了关于每个地铁站的信息——名称、线路、位置(纬度/经度)。我们抓取了 CTA 网站来生成一个有序的站点列表，用于我们的可视化。我们还利用芝加哥的开放数据门户网站下载了芝加哥人口普查区域的形状文件。然后，我们使用来自 CTA 的数据生成地铁站形状文件，并将地铁站转换为线，以创建每个 L 线的形状文件。

从美国社区调查(ACS)中，我们收集了人口普查区域级别的人口统计数据:每个人口普查定义的种族类别、种族、年龄的居民百分比，以及低于联邦贫困线的居民百分比。我们还包括了每个普查区域的总租金中值的数据。

从[城市健康仪表板](https://www.cityhealthdashboard.com/)(城市健康)中，我们收集了全市人口普查区的各种公共健康指标:血压、糖尿病发病率、预期寿命、缺乏健康保险以及住房中的潜在铅风险。

我们使用唯一的大地水准面(人口普查区域 FIPS 代码)将 ACS 和城市健康数据联系在一起，并使用生成的 L 线 shapefiles 来查找每条地铁线下方的人口普查区域。这使我们能够将每个 L-stop 与其对应区域的健康和人口统计指标联系起来。

*指标:*

我们研究了各种公共健康指标，既有生理指标，也有来自建筑环境的指标，以生成每个站点沿线人口普查区居民的相对健康状况。

**预期寿命**:我们使用预期寿命作为健康的整体衡量指标——其他健康指标的汇总。

**糖尿病**:我们将糖尿病作为成人健康指标，因为它是美国十大死亡原因之一。当考虑到涉及快餐特许经营和杂货店的经济发展战略的政策含义时，糖尿病的发病率也很有趣。

**高血压**:成年人(18 岁及以上)的高血压，作为未来健康结果的代表，由于各种[社会经济](https://www.ncbi.nlm.nih.gov/pubmed/16458539)原因，在非裔美国人中往往更高。

**未保险的百分比**:没有健康保险的个人比例。

**具有潜在铅风险的房屋**:铅暴露，尤其是婴儿的铅暴露，与大脑发育受损和受教育程度下降有关。此外，含铅量高的房屋往往更便宜，因此由低收入家庭居住。

我们还根据所有这些健康指标计算了一个综合健康逆境得分，为每个普查区域提供一个相对健康的总体衡量标准。我们取了有铅风险的住房、高血压、糖尿病、未保险的百分比和低于联邦贫困线的人口百分比的平均值(作为压力和其他相关不利健康影响的代表)。然后，我们计算了芝加哥市的平均预期寿命，并对每个预期寿命低于该市平均水平的人口普查区域，将这些指标的平均值加权 1.1。最后，我们将综合健康得分标准化，并乘以负 1，因此高于平均值的得分表明结果较好，低于平均值的得分表明结果较差。

*项目:齐心协力*

为了可视化每个站点的健康数据，我们首先使用城市健康门户 API 来访问芝加哥每个人口普查区域的各种健康指标。API 一次只允许我们访问一个指标，因此我们为每个指标构建了小熊猫数据框架，并在一个唯一的大地水准面(该地理区域的联邦信息处理标准(FIPS)人口普查区域标识符)上将它们连接在一起。

我们同样清理了大熊猫的 ACS 数据，从原始计数到人口普查确定的种族类别、年龄组和性别类别的百分比，并将每个人口统计指标与每个人口普查区域的 FIPS 代码相关联。然后，我们将健康数据和人口统计数据结合在一起，这样每个人口普查区域都有一个唯一的标识符 FIPS 代码和一组健康和人口统计指标。

为了生成可视化数据所需的 CTA 行信息，我们编写了 MetroLine 和 MetroStop 类来保存必要的数据。我们抓取了 CTA 网站来生成一个有序的 MetroStop 对象列表，然后用它来构造 MetroLine 对象。与此同时，从芝加哥的开放数据门户网站上，我们将 CTA 地铁站的信息清理并整理成一个熊猫数据帧，其中包含唯一的地图标识符、名称、纬度和经度。最后，我们将 scraper 中的站点(有名称和地铁线路)连接到 CTA 信息的 pandas 数据帧，使用各种字符串匹配技术为每个站点分配纬度和经度。

一个关键的挑战是弄清楚如何在纬度和经度上将每个地铁站的位置与包含该地铁站的人口普查区域的大地水准面联系起来。我们使用 python shapely 库为地铁站和 CTA 线创建 shapefiles。然后，我们使用 geopandas 中的 sjoin 方法将每条线与其普查区域联系起来。

为了在 CTA 线上构建健康指标的可视化，我们使用 geopandas 处理 CTA 线和芝加哥市人口普查区的 shapefiles。shapefiles 保存每个地铁站的纬度和经度信息，我们使用上面描述的链接方法来链接 MetroLine 对象中的每个站。然后，我们使用 matplotlib 库，使用每个停靠点的大地水准面在人口普查区域 shapefile 上绘制健康和人口统计指标的热图。

这里是这个项目使用的所有代码。

*结果:*

我们绘制了一些健康结果及其与各种人口统计指标的相关性，并发现了一些有趣的趋势。总的来说，较贫困的社区在大多数健康结果方面更差——而且这些社区通常有较高比例的黑人和拉丁裔居民。有趣的是，我们发现暴露于铅的房屋更均匀地分布在整个芝加哥，除了环路以外的任何地方，并且比其他健康指标与种族人口统计的相关性更低。

***图 1*** *:红线沿线黑人居民比例较高的地区，成年人患高血压的比例也较高*

![](img/534b59887fab6341224f3460a7fab492.png)

图 1

**图 2:**

![](img/a5fafef8f24573a777a684be61b85037.png)

图 2

**图 3:** *租金最便宜的地区往往表现出最大的潜在领先风险*

![](img/847700eb152988cdae7570ea2dfe43dd.png)

图 3

**图 4:**

![](img/2c4b7d9c05277172a480fd1baf4ad588.png)

**图 5:** *芝加哥的有色人种居民倾向于居住在标准化综合健康得分最低的地区*

![](img/f4bcbfaefa504faffd9dc4665ef87651.png)

图 5

**图 6:** *老年居民居住的地区与保险费率之间没有明显的相关性*

![](img/ffe0302238428cb29c460356ed19114c.png)

图 6

*未来分析*

构建这个工具回答了我们的一些问题，但启发我们提出更多问题:

*   在我们的综合健康逆境指数中，哪一站得分最高？
*   总的来说，哪条线在我们的综合逆境指数中有最好的结果？
*   这些结果如何与人口统计数据或沿线人口普查区域的租金中位数相关联？
*   如果我的家庭月租金预算是 1000 美元，我可以住在交通附近对我的健康最有利的地方？

我们将在以后的文章中探讨这些问题。您可以在这里找到我们创建 MetroLine 和 MetroStop 类[的代码，本月晚些时候，我们将推出一个交互式 web 应用程序，供您生成自己的地图。](https://gist.github.com/crunes/d497815358b3c513a340446669e8a33a)

3 月 13 日星期五，总统宣布新冠肺炎疫情进入全国紧急状态。全国各地的政府机构、非营利组织和企业继续敦促人们保持社交距离，以减缓新冠肺炎病毒的传播，特别是在老年人和免疫抑制的个人周围，他们更容易受到病毒的影响。3 月 20 日，州长普利兹克(Pritzker)发布了整个伊利诺伊州的居家命令，本周，芝加哥市长莱特富特(Lightfoot)宣布，随着天气变暖，湖滨步道和公园将无限期关闭，以阻止大型团体聚集。

我们创建了这个工具来帮助芝加哥的人们获取他们自己社区的公共卫生结果的信息，考虑到当前新冠肺炎的对话，我们认为分析这样的数据集现在更加重要。请于本月晚些时候再来查看更多信息。