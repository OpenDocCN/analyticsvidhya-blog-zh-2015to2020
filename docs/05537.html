<html>
<head>
<title>Understanding data types and structures in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解R中的数据类型和结构</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-data-structures-in-r-793d7ce79073?source=collection_archive---------20-----------------------#2020-04-24">https://medium.com/analytics-vidhya/understanding-data-structures-in-r-793d7ce79073?source=collection_archive---------20-----------------------#2020-04-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4db593885620fc8989db57429f473c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ArDsksgfL1oN1l27gpZwzw.jpeg"/></div></div></figure><p id="5934" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">R 就像任何其他编程语言一样——只是非常注重数据的统计分析。因此，如果你熟悉任何一种编程语言，开始使用R会变得非常容易。也许这是真的，但我觉得一旦你和R走在一起，你就不会去别的地方了。</p><p id="9366" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你对任何编程语言都不熟悉，并且从未尝试过自己学习一门语言，那么问题就来了。对任何编程语言的绝对介绍都应该是通过它的数据结构，然而我已经看到有人直接使用R进行统计分析，而没有先学习它们。随着学习曲线变得非常陡峭，这导致了一个巨大的问题，人们要么在任务变得非常艰巨时中途放弃学习，要么继续在非常简单的事情上接受他人的帮助。因此，我再说一遍，我再怎么强调这一点也不为过— <strong class="is hj">先学习数据结构</strong>！</p><p id="bc6a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">R中有许多不同的数据类型和结构，提到所有这些可能会让初学者感到非常困惑。此外，我们中的许多人不需要或使用这么多不同的类型或结构。我在<a class="ae jo" href="https://en.wikipedia.org/wiki/Behavioral_ecology" rel="noopener ugc nofollow" target="_blank">行为生态学</a>做研究，我只使用了现有选项的一个子集。因此，在这篇文章中，我将解释我发现对我的工作最有用的几个。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h1 id="e1b6" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">原子！</h1><p id="8618" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">好的，让我们从数据类型开始。想想一个原子，物质的积木(物理学家们，请不要杀我，我在尝试用非常简单的类比！).数据类型就像一个原子，它们是更大的数据结构的构建块。数据的原子可以是数字，即数字——无论是整数还是小数。原子也可以是字符(R中还有其他原子，但我们暂时忽略它们)。比如数字123是原子，还有数字159.64和文字“我爱R”。注意到文本周围的引号了吗？这就是在R中编写字符原子的方法(可以使用单引号或双引号中的任何一个，但不能同时使用两个)。下面是你如何向R描述原子的例子:</p><pre class="kz la lb lc fd ld le lf lg aw lh bi"><span id="7f95" class="li jx hi le b fi lj lk l ll lm">integer_atom &lt;- 123<br/>decimal_atom &lt;- 159.64<br/>text_atom &lt;- "I love R"</span></pre><p id="095f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设阅读这篇文章的人是绝对的初学者，在<code class="du ln lo lp le b">&lt;-</code>的左边我们看到原子的名称，在<code class="du ln lo lp le b">&lt;-</code>的右边我们看到我们赋予原子的值。<code class="du ln lo lp le b">&lt;-</code>用于给原子赋值和描述类型(数字或字符)。</p><h1 id="a4fb" class="jw jx hi bd jy jz lq kb kc kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt bi translated">分子！</h1><p id="edc5" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">现在，我们转向更高阶的结构——数据结构。但是在我将要解释的数据结构中也有两个层次。首先，让我们想想分子——当两个或更多的原子结合时，它们会产生分子。同样，当R中的两个或两个以上的原子结合时，就产生了一个分子，叫做“vector”。向量是r中最常见和最基本的数据结构。关于向量分子要记住的主要事情是，它只能容纳一种类型的原子——整数、数字或文本(专家——我在这里只谈论原子向量，我将解释列表字母；而初学者——忽略这一点！).创造一个分子非常容易，只要用一个<code class="du ln lo lp le b">c()</code>把原子结合起来就行了！</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/5b0438ecace4e4094ddc82d5e77ff856.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iQufTM_mavVjgmNPokoVow.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">R中向量的例子</figcaption></figure><p id="7f2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上图中，我首先通过将原子放入<code class="du ln lo lp le b">c()</code>来创建分子。当我调用下一行中的分子时，它们显示它们的内容(忽略开头的<code class="du ln lo lp le b">[1]</code>，它只是那一行中第一个原子的序号)。你可以看到R只接受分子内的整数，小数或者文本。如果你把两种不同的类型放在一起，它们会转换成一种类型。当我把整数和小数放在一起时，它们被转换成小数。当我把文本和数字放在一起时，它们被转换成文本(注意数字周围的双倒逗号，用于描述文本？这意味着该数字已经被转换成文本)。</p><h1 id="a1df" class="jw jx hi bd jy jz lq kb kc kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt bi translated">事！</h1><p id="255a" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">原子和分子很好，也很有用，但是我们并没有在日常生活中直接使用它们，不是吗？不，我们使用由物质构成的物体，物质是由许多分子聚集在一起形成的。类似地，在R中，我们有称为数据帧的物质，它是在两个或多个矢量分子结合时形成的。与向量相比，数据帧(从这里开始称为matter)是一种高阶数据结构，非常有用。我们在R中主要使用matter，每当我们从电子表格或CSV文件中导入数据时，我们通常会使用matter(点击<a class="ae jo" rel="noopener" href="/@bishwarup_paul/easy-way-to-import-data-from-spreadsheet-to-r-d20cdf2da79f">这里</a>，查看我的关于从电子表格中导出数据到R的快捷方式的帖子)。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/a9ff50c457aae442bc29a7969accc97f.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*5Et3QHNq1a-60jFT1TGkrw.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">R中使用“iris”数据集的dataframe示例</figcaption></figure><p id="8f9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面给出了一个例子，使用r中的“iris”数据集。习惯使用电子表格的人可以立即识别格式。有四列，每一列保存一个类别的值。在这里，每一列实际上是一个矢量分子，每一个都是由用行表示的数字原子构成的。每列的第一行代表分子的名称，称为“标题”。四个这样的分子结合起来创造了上面的物质。正如我之前所说，这是电子表格中使用的格式，因此你可以直接将数据从电子表格导入到称为数据框的物质中。是不是很整洁？</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h1 id="7336" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">索引</h1><p id="d462" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hb bi translated">在我们继续学习其他不太有用和更复杂的数据类型和结构之前，我们应该更多地了解如何使用到目前为止我们已经介绍过的数据类型和结构。所以我们学会了如何将数据放入原子、分子和物质中；但是我们如何访问这些数据呢？最常见的访问数据的方法叫做索引，我们现在就要学习它。</p><p id="e8a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">索引也被称为“切片”，因为使用它你可以访问部分数据或全部数据。现在，原子只持有一个单一的数据，所以没有什么可以切片。当你调用一个原子时，你得到全部数据。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/3a50b4bfb5c1e19de1c3b3b9dd52c8a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*DrOPOvxWI5-4Zlq73ynj2w.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">原子不需要索引！</figcaption></figure><p id="c802" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是分子和物质拥有不止一个值，因此索引很方便。为了标记分子，我们使用方括号。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/7e4a625e6070b389ef657e2fc944134e.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*R9mzKEygVG3_RcGw2l-FMg.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">使用方括号索引分子</figcaption></figure><p id="58ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在上面的例子中看到，像原子一样，我们可以通过叫它的名字来访问整个分子。但是为了访问它的部分值，我们使用索引。我们也可以使用索引来替换分子的一个或多个值。</p><p id="e8a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">方括号也可以用来索引物质，但是由于物质中的每个分子都有自己的名称，我们可以使用<code class="du ln lo lp le b">$</code>通过使用名称来索引物质，这要容易得多。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/645025c996581f67166ca985bb4a419f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVIYmCDTANJcI_nT1X0DsA.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">使用$索引物质</figcaption></figure><p id="dee2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的例子中，我们看到了如何访问物质中的分子。但是如何接近原子呢？为此，我们可以使用<code class="du ln lo lp le b">$</code>和方括号的组合。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es me"><img src="../Images/f11e99d2f8c6e88ad65869f505709759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*twL-JUK40EJo-fCFVEoGIg.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">索引物质中的原子</figcaption></figure><p id="d250" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">物质的索引也可以用一个叫做<code class="du ln lo lp le b">subset()</code>的函数来完成。它可以用来访问物质中的特定分子，或者从分子中访问大于或小于或等于特定值的原子。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/f2527901d64fc146b054c227872d69eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*laWXbeEGeGI8XQi7NP4dag.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">使用子集来索引物质</figcaption></figure><p id="0784" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的例子中，我在<code class="du ln lo lp le b">subset()</code>命令中提供了三个参数。第一个参数取物质的名称，第二个参数<code class="du ln lo lp le b">select</code>取你想要访问的分子的名称。提供的第三个参数用于使用特定值访问原子。在这种情况下，我们选择大于6的原子。</p><p id="d819" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一个快速了解事物内容的非常有用的方法是使用名为<code class="du ln lo lp le b">head()</code>和<code class="du ln lo lp le b">tail()</code>的命令。要查看物质内部分子的初始原子，我们用<code class="du ln lo lp le b">head()</code>，用<code class="du ln lo lp le b">tail()</code>查看最后的原子。在这两种情况下，我们都可以提到我们想要看到的原子数量。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/cdc9dd1c08c4510878d9da6bfffd398b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*ftSkWexdIbjwEZqPVoOWbg.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">用头和尾来观察事物的内容</figcaption></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="d86f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想在这里结束这篇文章，现在不想进入其他数据类型和结构，也不想让这个话题过于复杂。如果你认为你已经掌握了我们从这篇文章中学到的三个诀窍，如果你想了解更多，去访问这个<a class="ae jo" href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="7043" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在这篇文章中使用了很多类比，但我使用它们只是因为我认为这对完全的初学者理解结构和更好地记忆它们是有用的。但是如果它们让你感到困惑，只要记住:原子=数字/文本，分子=矢量，物质=数据框架。</p></div></div>    
</body>
</html>