<html>
<head>
<title>Credit Card Fraud Detection Web App using Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Streamlit的信用卡欺诈检测Web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/credit-card-fraud-detection-web-app-using-streamlit-d653b63909c1?source=collection_archive---------6-----------------------#2020-07-15">https://medium.com/analytics-vidhya/credit-card-fraud-detection-web-app-using-streamlit-d653b63909c1?source=collection_archive---------6-----------------------#2020-07-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d921" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">零web开发经验，构建漂亮的交互式web应用程序！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/477a6d14826b140536f1607bd22409f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*-M_3OxQyBAAFcgKU-pbvAg.png"/></div></figure><p id="b312" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于数据分析师来说，可视化和展示他们努力工作的ML项目至少和他们项目的分析部分一样重要。长期以来，分析师们对此一直有一种不足的感觉，但现在不是了！</p><p id="71a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Streamlit是一个开源的Python库，可以很容易地为机器学习和数据科学构建漂亮的定制web应用。它让您的应用程序在您编辑和保存文件时实时更新。您所需要的只是您最喜欢的编辑器(我更喜欢包含在Anaconda中的Spyder。访问https://www.spyder-ide.org/<a class="ae jl" href="https://www.spyder-ide.org/" rel="noopener ugc nofollow" target="_blank"/>来看看这个神奇的编辑器)和一个浏览器。</p><p id="1fd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从头构建一个欺诈检测模型，并查看使用streamlit部署该模型的步骤。</p><p id="fb55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong> <strong class="ih hj">如果你想查看代码，你可以使用下面的链接直接跳转到它:</strong></p><div class="jm jn ez fb jo jp"><a href="https://github.com/jatinkataria94/Creditcard-Fraud-Detection" rel="noopener  ugc nofollow" target="_blank"><div class="jq ab dw"><div class="jr ab js cl cj jt"><h2 class="bd hj fi z dy ju ea eb jv ed ef hh bi translated">jatinkataria 94/信用卡欺诈检测</h2><div class="jw l"><h3 class="bd b fi z dy ju ea eb jv ed ef dx translated">通过在GitHub上创建一个帐户，为jatinkataria 94/信用卡欺诈检测开发做出贡献。</h3></div><div class="jx l"><p class="bd b fp z dy ju ea eb jv ed ef dx translated">github.com</p></div></div><div class="jy l"><div class="jz l ka kb kc jy kd jj jp"/></div></div></a></div><h1 id="125a" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">先决条件</strong></h1><p id="66ff" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">在我们继续下一步之前，必须安装几个包(比如numpy、pandas、sklearn、matplotlib等)。您必须安装包含大部分软件包的Anaconda发行版。你可以阅读这篇文章来获得安装Anaconda的指南。</p><p id="0c32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Streamlit </strong>和<strong class="ih hj"> imblearn </strong>需要按照以下步骤分别安装:</p><ul class=""><li id="a660" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">确保你已经安装了<a class="ae jl" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> Python 3.6 </a>或更高版本。</li><li id="887d" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">在命令提示符或Anaconda提示符下使用<a class="ae jl" href="https://pip.pypa.io/en/stable/installing/" rel="noopener ugc nofollow" target="_blank"> PIP </a>命令安装Streamlit和imblearn:</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="a426" class="ma kf hi lw b fi mb mc l md me">$ pip install streamlit</span><span id="81ea" class="ma kf hi lw b fi mf mc l md me">$ pip install imblearn</span></pre><p id="cfb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事不宜迟，让我们构建我们的第一个欺诈检测web应用程序！</p><h1 id="d28f" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">导入包</strong></h1><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="ab59" class="ma kf hi lw b fi mb mc l md me"># import the necessary packages<br/>import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import timeit<br/>import warnings<br/>warnings.filterwarnings("ignore")<br/>import streamlit as st</span></pre><p id="bb51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您需要为您的web应用程序指定一个标题，这可以使用以下命令来完成:</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="a985" class="ma kf hi lw b fi mb mc l md me">st.title('Credit Card Fraud Detection!')</span></pre><p id="fb42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">streamlit最棒的一点是，你可以运行streamlit应用程序，它会在你编辑和保存文件时实时更新。</p><p id="8ef2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在终端上(<strong class="ih hj"> Anaconda提示</strong>)将目录更改为。使用<strong class="ih hj"> cd命令</strong>保存py文件</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/199562e3678a413b2b85592ffbf92a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PL2o_4t0hdVEEUmBIWAz3w.png"/></div></div></figure><p id="e7db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在anaconda提示符终端中编写下面的命令(<strong class="ih hj"> streamlit run filename.py </strong>)。py文件将会运行，浏览器中将会为该python脚本的web应用程序打开一个新选项卡。(使用<strong class="ih hj"> ctrl+C </strong>结束终端会话)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ml"><img src="../Images/69731303776035b253d3e1d9092e40ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vv3Skxg96GC8a9quI4n43w.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mm"><img src="../Images/bbe107f7fdd53e3631d6155fe10ae644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QCx4155sS4fgBupdeHoFqQ.png"/></div></div><figcaption class="mn mo et er es mp mq bd b be z dx translated">这是您的web应用程序在浏览器中的打开方式。您应该能够在您的浏览器localhost:8501中看到一个简单的应用程序</figcaption></figure><h1 id="87a2" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">加载数据</strong></h1><p id="c876" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">你必须首先从Kaggle网站下载数据，然后用pandas加载。</p><p id="631a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当一个值改变时，我们就一遍又一遍地读取熊猫数据帧。虽然它适用于我们拥有的小数据，但它不适用于大数据，或者当我们必须对数据进行大量处理时。让我们使用streamlit中的<strong class="ih hj"> st.cache </strong> decorator函数来使用缓存，如下所示。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="776a" class="ma kf hi lw b fi mb mc l md me"># Load the dataset from the csv file using pandas<br/>df=st.cache(pd.read_csv)('creditcard.csv')<br/>df = df.sample(frac=0.1, random_state = 48)</span></pre><p id="858c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>我们使用<strong class="ih hj"> df.sample() </strong>只使用了一小部分数据，因为它是一个巨大的数据集。一旦你的模型工作了，你可以把这条线静音，使用整个大数据集。</p><h1 id="0a06" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">查看数据</strong></h1><p id="3738" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated"><strong class="ih hj"> st.checkbox() </strong>用于显示/隐藏应用中的特定部分。它接受一个参数，即小部件标签。在这个应用程序中，复选框用于切换条件语句。<strong class="ih hj"> st.write() </strong>相当于<strong class="ih hj"> print() </strong>命令。它可以写图表、数据帧和简单的文本。为了根据您的偏好获得更整洁的外观，您可能希望将您的小部件移动到侧边栏中。这很简单。只需在小部件的命令中添加<strong class="ih hj"> st.sidebar </strong>。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="c6ef" class="ma kf hi lw b fi mb mc l md me"># Print shape and description of the data<br/>if st.sidebar.checkbox('Show what the dataframe looks like'):<br/>    st.write(df.head(100))<br/>    st.write('Shape of the dataframe: ',df.shape)<br/>    st.write('Data decription: \n',df.describe())</span><span id="d549" class="ma kf hi lw b fi mf mc l md me"># Print valid and fraud transactions<br/>fraud=df[df.Class==1]<br/>valid=df[df.Class==0]<br/>outlier_percentage=(df.Class.value_counts()[1]/df.Class.value_counts()[0])*100</span><span id="be1c" class="ma kf hi lw b fi mf mc l md me">if st.sidebar.checkbox('Show fraud and valid transaction details'):<br/>    st.write('Fraudulent transactions are: %.3f%%'%outlier_percentage)<br/>    st.write('Fraud Cases: ',len(fraud))<br/>    st.write('Valid Cases: ',len(valid))</span></pre><p id="76d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您编辑pyhton脚本并保存编辑后的文件时，更改会自动反映在web应用程序中。它显示源文件已被更改，并为您提供重新运行web应用程序的选项。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mr"><img src="../Images/317fd8827b15f8f26e09f31cfe1897dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZBJhBI4qeiX4WXjfPlvYg.jpeg"/></div></div></figure><p id="0560" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您按下重新运行按钮，它再次运行脚本，然后您可以看到更新的web应用程序</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ms"><img src="../Images/ce53bbc6133e0ea20899de598a3132d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IIsUdpKQ0ZPCbxUZeLjBCA.jpeg"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mt"><img src="../Images/f62163b28d74db3bb90e417a4ecd128b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8ISHTVJKC8oeNBBZz2Rfw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mt"><img src="../Images/1b34626aa771112db4eda0aa5c326fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*km6z8YyZSK3e-G5z9-9L0g.png"/></div></div></figure><p id="ea4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，欺诈性交易在数据集中的比例相当低。因此，数据是高度不平衡的，我们可能不得不使用SMOTE和Near Miss等类别不平衡整流器。(参考本文-<a class="ae jl" rel="noopener" href="/@saeedAR/smote-and-near-miss-in-python-machine-learning-in-imbalanced-datasets-b7976d9a7a79">https://medium . com/@ saeedAR/smote-and-near-miss-in-python-machine-learning-in-unbalanced-datasets-b 7976d 9 a 7 a 79</a>)</p><h1 id="78c6" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">训练和测试数据拆分</strong></h1><p id="d266" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated"><strong class="ih hj"> st.slider() </strong> widget可以滑动改变web app的输出。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="80fe" class="ma kf hi lw b fi mb mc l md me">#Obtaining X (features) and y (labels)<br/>X=df.drop(['Class'], axis=1)<br/>y=df.Class</span><span id="da12" class="ma kf hi lw b fi mf mc l md me">#Split the data into training and testing sets<br/>from sklearn.model_selection import train_test_split<br/>size = st.sidebar.slider('Test Set Size', min_value=0.2, max_value=0.4)<br/>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = size, random_state = 42)</span><span id="ba49" class="ma kf hi lw b fi mf mc l md me">#Print shape of train and test sets<br/>if st.sidebar.checkbox('Show the shape of training and test set features and labels'):<br/>    st.write('X_train: ',X_train.shape)<br/>    st.write('y_train: ',y_train.shape)<br/>    st.write('X_test: ',X_test.shape)<br/>    st.write('y_test: ',y_test.shape)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mu"><img src="../Images/298b41afc31523a2a5dc5fd7b0ff143f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MfUnbxm3fi78jbaCVLPtSg.png"/></div></div></figure><h1 id="226e" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">建立模型</strong></h1><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="7688" class="ma kf hi lw b fi mb mc l md me">#Import classification models and metrics<br/>from sklearn.linear_model import LogisticRegression<br/>from sklearn.neighbors import KNeighborsClassifier<br/>from sklearn.svm import SVC<br/>from sklearn.ensemble import RandomForestClassifier,ExtraTreesClassifier<br/>from sklearn.model_selection import cross_val_score</span><span id="51a8" class="ma kf hi lw b fi mf mc l md me">logreg=LogisticRegression()<br/>svm=SVC()<br/>knn=KNeighborsClassifier()<br/>etree=ExtraTreesClassifier(random_state=42)<br/>rforest=RandomForestClassifier(random_state=42)</span></pre><p id="19b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">功能选择</strong></p><p id="dd30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用特征重要性方法来选择顶级特征来训练我们的模型。</p><p id="44a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于只需要运行一次的复杂且耗时的函数，我们用streamlit的cache decorator <strong class="ih hj"> @st.cache </strong>来标记函数，无论何时调用函数，Streamlit都会检查调用函数时使用的输入参数。如果这是streamlit第一次看到这些参数，它将运行该函数并将结果存储在本地缓存中。下次调用该函数时，如果这些参数没有改变，streamlit知道它可以完全跳过执行该函数。它只是使用缓存中的结果。</p><p id="ec71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用<strong class="ih hj"> st.selectbox() </strong>从一个系列或者一个列表中进行选择。通常情况下，用例是将其用作简单的下拉菜单，从列表中选择值。我们还可以使用<strong class="ih hj"> st.pyplot() </strong>来显示一个matplotlib图形。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="3809" class="ma kf hi lw b fi mb mc l md me">#Feature selection through feature importance<br/>@st.cache<br/>def feature_sort(model,X_train,y_train):<br/>    #feature selection<br/>    mod=model<br/>    # fit the model<br/>    mod.fit(X_train, y_train)<br/>    # get importance<br/>    imp = mod.feature_importances_<br/>    return imp</span><span id="e1f1" class="ma kf hi lw b fi mf mc l md me">#Classifiers for feature importance<br/>clf=['Extra Trees','Random Forest']<br/>mod_feature = st.sidebar.selectbox('Which model for feature importance?', clf)</span><span id="96b0" class="ma kf hi lw b fi mf mc l md me">start_time = timeit.default_timer()<br/>if mod_feature=='Extra Trees':<br/>    model=etree<br/>    importance=feature_sort(model,X_train,y_train)<br/>elif mod_feature=='Random Forest':<br/>    model=rforest<br/>    importance=feature_sort(model,X_train,y_train)<br/>elapsed = timeit.default_timer() - start_time<br/>st.write('Execution Time for feature selection: %.2f minutes'%(elapsed/60))</span><span id="1292" class="ma kf hi lw b fi mf mc l md me">#Plot of feature importance<br/>if st.sidebar.checkbox('Show plot of feature importance'):<br/>    plt.bar([x for x in range(len(importance))], importance)<br/>    plt.title('Feature Importance')<br/>    plt.xlabel('Feature (Variable Number)')<br/>    plt.ylabel('Importance')<br/>    st.pyplot()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mv"><img src="../Images/2847a7a93fdb0df7a48abafcb5dfbff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mPfDRkLHQxpyX-0iLXR0Pw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mu"><img src="../Images/91b1f17a901bb67c67bf22c3e0925b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NhpQzCHq5hWSjsuuA4g3Bg.png"/></div></div></figure><h1 id="3c53" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated"><strong class="ak">模特训练和表演</strong></h1><p id="dd02" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">我们将使用不同的分类模型和不平衡分类整流器来训练我们的模型。我们将计算模型评估的<strong class="ih hj">准确度、精确度、召回率、F1分数和马修斯相关系数</strong>。由于我们的数据高度不平衡，准确性可能会误导，因此我们将计算其他提到的性能指标。</p><p id="9916" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的目标是建立一个召回率高的模型，因为这意味着它对欺诈检测很敏感。这并不意味着它应该有一个非常低的精度，因为这将导致大量的垃圾邮件，因为许多有效的交易被错误地分类为欺诈。因此，该模型应该在某种程度上是平衡的，为此，我们看F1分数和马修斯相关系数。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="8917" class="ma kf hi lw b fi mb mc l md me">#Import performance metrics, imbalanced rectifiers<br/>from sklearn.metrics import  confusion_matrix,classification_report,matthews_corrcoef<br/>from imblearn.over_sampling import SMOTE<br/>from imblearn.under_sampling import NearMiss<br/>np.random.seed(42) #for reproducibility since SMOTE and Near Miss use randomizations</span><span id="8630" class="ma kf hi lw b fi mf mc l md me">smt = SMOTE()<br/>nr = NearMiss()</span><span id="a909" class="ma kf hi lw b fi mf mc l md me">def compute_performance(model, X_train, y_train,X_test,y_test):<br/>    start_time = timeit.default_timer()<br/>    scores = cross_val_score(model, X_train, y_train, cv=3, scoring='accuracy').mean()<br/>    'Accuracy: ',scores<br/>    model.fit(X_train,y_train)<br/>    y_pred = model.predict(X_test)<br/>    cm=confusion_matrix(y_test,y_pred)<br/>    'Confusion Matrix: ',cm  <br/>    cr=classification_report(y_test, y_pred)<br/>    'Classification Report: ',cr<br/>    mcc= matthews_corrcoef(y_test, y_pred)<br/>    'Matthews Correlation Coefficient: ',mcc<br/>    elapsed = timeit.default_timer() - start_time<br/>    'Execution Time for performance computation: %.2f minutes'%(elapsed/60)</span><span id="84ea" class="ma kf hi lw b fi mf mc l md me">#Run different classification models with rectifiers<br/>if st.sidebar.checkbox('Run a credit card fraud detection model'):<br/>    <br/>    alg=['Extra Trees','Random Forest','k Nearest Neighbor','Support Vector Machine','Logistic Regression']<br/>    classifier = st.sidebar.selectbox('Which algorithm?', alg)<br/>    rectifier=['SMOTE','Near Miss','No Rectifier']<br/>    imb_rect = st.sidebar.selectbox('Which imbalanced class rectifier?', rectifier) <br/>    <br/>    if classifier == 'Extra Trees':<br/>        model=etree<br/>        if imb_rect=='No Rectifier':<br/>            compute_performance(model, X_train_sfs_scaled, y_train,X_test_sfs_scaled,y_test)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mw"><img src="../Images/c8842cc7af155a99f647fa49e4bc4f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6foPiv-GTBTWo7J-jOI7IQ.png"/></div></div></figure><p id="8532" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在运行整流器的同时运行不同的算法，改变所用特性的数量，然后根据性能指标和计算成本(由执行时间决定)选择最佳组合。</p><p id="160b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请随意使用streamlit构建您自己的web应用程序。有关更多信息，请查看streamlit(<a class="ae jl" href="https://docs.streamlit.io/en/stable/#" rel="noopener ugc nofollow" target="_blank">https://docs.streamlit.io/en/stable/#</a>)的文档。如果你对这个话题有任何困难或疑问，请在下面评论。非常感谢你的支持，这将激励我写更多的文章。</p></div></div>    
</body>
</html>