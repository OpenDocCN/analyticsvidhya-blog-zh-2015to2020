<html>
<head>
<title>How to deploy Machine Learning models on Android and IOS with Telegram Bots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Telegram Bots在Android和IOS上部署机器学习模型</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-deploy-machine-learning-models-on-android-and-ios-with-telegram-bots-a6fb16922741?source=collection_archive---------6-----------------------#2020-10-16">https://medium.com/analytics-vidhya/how-to-deploy-machine-learning-models-on-android-and-ios-with-telegram-bots-a6fb16922741?source=collection_archive---------6-----------------------#2020-10-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c36b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博客文章中，我将向您展示如何将您的机器学习模型带到手机上，无论是Android还是IOS，都可以使用Telegram Bots，并免费将其托管在heroku上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/fb0fbb8370018d862bfc0e3924123484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSRoEMbi3XTZJ4D6U8irLg.png"/></div></div></figure><p id="369e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我敢肯定，你已经看到了我的面具检测机器人演示。如果你还没有<a class="ae jp" href="https://youtu.be/i1-vxmxwqGA" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">点击这里</strong> </a>。我将一步一步地描述你如何在几分钟内完成同样的事情。但首先，我为什么要这样做，这个面具检测机器人如何有用？</p><h1 id="c823" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">这个项目的灵感</h1><p id="0e89" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">当我看到优步的这条推文时，我有了这个想法，介绍了他们为司机和乘客提供的面具验证功能:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">优步的推特</figcaption></figure><p id="9f3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗯，我想做同样的事情，重现用户体验，也就是说，在应用程序中拍照，然后有一个遮罩检测响应。</p><p id="45c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，像大多数数据科学家和机器学习工程师一样，我没有移动应用程序创建技能。我想过学习Flutter，这样我就可以在IOS和Android上部署，但是，嘿，我已经有一个技能列表要学习了。</p><p id="e2f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我后来发现，你可以在Telegram上免费创建机器人，因为Telegram可以在所有移动平台上使用，也可以在windows，mac和linux上使用，那么它可以用来服务于深度学习模型。</p><p id="40b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，这个项目我们需要什么:</p><ul class=""><li id="d54c" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">数据:戴口罩的人和不戴口罩的人的图像</li><li id="62b1" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">模型:我们将使用Fastai v2来训练一个利用迁移学习的模型</li><li id="6d04" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">电报账户:显然</li><li id="78ee" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">Heroku帐户:用于托管</li></ul><p id="3d4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧。</p><h1 id="33c0" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">数据</h1><p id="d857" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我不必从头开始构建数据集。我是通过<a class="ae jp" href="https://www.linkedin.com/in/prajna-bhandary-0b03a416a/" rel="noopener ugc nofollow" target="_blank">般若波罗蜜多</a>找到这个<a class="ae jp" href="https://github.com/prajnasb/observations" rel="noopener ugc nofollow" target="_blank">回购</a>的。她已经做了这项工作。你可以在实验文件夹中找到数据。690个戴面具的人的图像在名为“带面具”的文件夹中，686个不戴面具的人的图像在名为“不带面具”的文件夹中。这就是我们所需要的。让我们训练一个模型</p><h1 id="ab02" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">使用Fastai v2进行模型训练</h1><p id="0feb" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我最近开始用<a class="ae jp" href="https://www.amazon.fr/Deep-Learning-Coders-Fastai-Pytorch/dp/1492045527" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">程序员深度学习</strong> </a>的书学习fastai。所以，这是一个锻炼我技能的机会。另外，使用fastai v2学习Transfert只需5或6行代码。但我也可以用Tensorflow 2.0来做，得到同样的结果。</p><p id="9447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们安装<a class="ae jp" href="https://github.com/fastai/fastai" rel="noopener ugc nofollow" target="_blank"> fastai </a>。建议在康达环境下做。安装fastbook并获取一些实用程序文件:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="97af" class="ls jr hi lo b fi lt lu l lv lw">conda install -c fastai -c pytorch fastai<br/>pip install -Uqq fastbook</span></pre><p id="9a67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开笔记本，让我们导入所需的所有内容:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="d4c7" class="ls jr hi lo b fi lt lu l lv lw">import fastbook<br/>fastbook.setup_book()<br/>from fastbook import *<br/>from fastai.vision.all import *</span></pre><p id="89ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据目录的路径:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="9e6b" class="ls jr hi lo b fi lt lu l lv lw">path = Path("../data")</span></pre><p id="86fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是时候创建数据加载器了。就这么简单。数据块将获取图像，使用其中的20%进行验证，通过获取父目录名获取标签，并将所有图像的大小调整为128*128*3</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="bf92" class="ls jr hi lo b fi lt lu l lv lw">mask = DataBlock(<br/>    blocks=(ImageBlock, CategoryBlock), <br/>    get_items=get_image_files, <br/>    splitter=RandomSplitter(valid_pct=0.2, seed=42),<br/>    get_y=parent_label,<br/>    item_tfms=Resize(128))</span></pre><p id="6efa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看验证集中的一些图像:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="843b" class="ls jr hi lo b fi lt lu l lv lw">dls = mask.dataloaders(path)<br/>dls.valid.show_batch(max_n=10, nrows=2)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/7d09c6e9e35afaf6ac46597b6a4d6262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_nSnhwRNA113Wwp3EpXfHw.png"/></div></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">我们的掩模检测数据集的一些图像</figcaption></figure><p id="e212" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们已经可以看到，一些图像是通过简单地在人们的脸上添加一个面具而产生的。很高兴知道。</p><p id="72d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在可以添加一些数据扩充步骤，并使用resnet18通过Transfert learning训练我们的模型:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="da0d" class="ls jr hi lo b fi lt lu l lv lw">mask = mask.new(<br/>    item_tfms=RandomResizedCrop(224, min_scale=0.5),<br/>    batch_tfms=aug_transforms())<br/>dls = mask.dataloaders(path)</span><span id="0e07" class="ls jr hi lo b fi ly lu l lv lw">learn = cnn_learner(dls, resnet18, metrics=error_rate)<br/>learn.fine_tune(4)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lz"><img src="../Images/16ede8b37fc0f01887b29143caafdf1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*SvClF0fyl0m9QGqh-qvMBg.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">培养</figcaption></figure><p id="e4ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这样，在我的本地机器上，仅仅2分钟，我们就有了99 %的准确率。多神奇啊！让我们来看看混淆矩阵:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ma"><img src="../Images/15545e465f24232d8152f48dd015cf7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*Bul9JAPdyZnPakhMfuH1Qw.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">混淆矩阵</figcaption></figure><p id="31e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只有2例没有戴口罩的人被误归类为戴口罩。我们可以导出这个模型，并开始为我们的机器人编写代码。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="6c44" class="ls jr hi lo b fi lt lu l lv lw">learn.export("model.pkl")</span></pre><h1 id="8191" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">我们模型的电报机器人</h1><p id="245b" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">这是有趣的部分，而且出乎意料的简单。要在Telegram上创建一个机器人，在Telegram上搜索<strong class="ih hj">机器人父亲</strong>，发送这个命令:<strong class="ih hj"> /newbot </strong>，它会询问你的机器人的名字和用户名。一旦你完成了这些步骤，你将获得一个<strong class="ih hj">链接</strong>来访问你的机器人，以及一个<strong class="ih hj">令牌</strong>，它将在代码中被用来与机器人交互。</p><p id="19be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大概是这样的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/44577b042ed1a1544085bf9db3db3689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*5_jT1t-hAeRh6weSoKDAFg.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">僵尸父亲</figcaption></figure><p id="a29d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">去你最喜欢的代码编辑器，对我来说是Pycharm，让我们为这个机器人写脚本。</p><p id="83e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用<a class="ae jp" href="https://github.com/python-telegram-bot/python-telegram-bot" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> python-telegram-bot库</strong> </a>。安装方式:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="2de3" class="ls jr hi lo b fi lt lu l lv lw">pip install python-telegram-bot</span></pre><p id="6079" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用fastai照常导入库以进行模型加载:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="b9c6" class="ls jr hi lo b fi lt lu l lv lw">import logging<br/>from telegram.ext import Updater, CommandHandler, MessageHandler, Filters<br/>from fastai.vision.all import load_learner</span></pre><p id="e9e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有电报机器人必须为特殊命令<strong class="ih hj">/开始</strong>和<strong class="ih hj">/帮助</strong>定义一个功能。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="22fe" class="ls jr hi lo b fi lt lu l lv lw">def start(update, context):<br/>    update.message.reply_text(<br/>        "Bot by @kevindegila on Twitter \n\n "<br/>        "EN : Just send me a photo of you and I will tell you if you're wearing a mask 😏 \n"<br/>        "FR : Envoie moi une photo de toi et je te dirai si tu portes un masque 😏"<br/>    )<br/><br/><br/>def help_command(update, context):<br/>    update.message.reply_text('My only purpose is to tell you if you are wearing a mask. Send a photo')</span></pre><p id="5ca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，这些函数将更新和上下文作为输入，并使用<strong class="ih hj">update . message . reply _ text()</strong>函数向机器人发送文本。</p><p id="fb51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Updater类的一个实例接收用户输入的命令和消息，将它们转发给调度程序，调度程序将消息发送给不同的处理程序:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="ae4d" class="ls jr hi lo b fi lt lu l lv lw">def main():<br/>    updater = Updater(token="token", use_context=True)<br/>    dp = updater.dispatcher</span><span id="6e18" class="ls jr hi lo b fi ly lu l lv lw">    dp.add_handler(CommandHandler("start", start))<br/>    dp.add_handler(CommandHandler("help", help_command))</span><span id="d6c7" class="ls jr hi lo b fi ly lu l lv lw">    updater.start_polling()<br/>    updater.idle()</span><span id="7930" class="ls jr hi lo b fi ly lu l lv lw">if __name__ == '__main__':<br/>    main()</span></pre><p id="e7c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一步，您可以通过运行脚本来运行您的bot，并为特殊命令发送消息。</p><p id="056a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们添加遮罩检测功能。我们将定义一个函数来加载我们的模型，另一个函数用于接收来自用户的图像，并将这个函数传递给带有图像过滤器的消息处理程序:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="146e" class="ls jr hi lo b fi lt lu l lv lw">def load_model():<br/>    global model<br/>    model = load_learner('model/model.pkl')<br/>    print('Model loaded')</span><span id="65ce" class="ls jr hi lo b fi ly lu l lv lw">def detect_mask(update, context):<br/>    user = update.message.from_user<br/>    photo_file = update.message.photo[-1].get_file()<br/>    photo_file.download('user_photo.jpg')<br/>    <br/>    label = model.predict('user_photo.jpg')[0]<br/>    if label == "with_mask":<br/>        update.message.reply_text(<br/>            "EN: Looks like you are wearing a mask 😷. I hope you don't forget it when going out!😉 \n\n"<br/>            "FR: On dirait que tu portes un masque 😷, J'espère que tu ne l'oublies pas quand tu sors! 😉"<br/>        )<br/>    else:<br/>        update.message.reply_text(<br/>            "EN: Looks like you are not wearing a mask 😷. Please wear one and stay safe 🙄\n\n"<br/>            "FR: On dirait que tu ne portes pas un masque 😷. S'il te plait, va en porter un. Fais attention 🙄"<br/>        )</span></pre><p id="0916" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到我们是如何下载图片并将其传递给我们的模型，并使用<strong class="ih hj">label = model . predict(' user _ photo . jpg ')[0]</strong>获得标签的。我们只是根据预测的标签发送不同的消息。</p><p id="726a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们主要功能现在看起来像这样:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="1de1" class="ls jr hi lo b fi lt lu l lv lw">def main():<br/>    load_model()<br/>    updater = Updater(token="token", use_context=True)<br/>    dp = updater.dispatcher<br/>    dp.add_handler(CommandHandler("start", start))<br/>    dp.add_handler(CommandHandler("help", help_command))<br/><br/>    dp.add_handler(MessageHandler(Filters.photo, detect_mask))<br/><br/>    updater.start_polling()<br/>    updater.idle()</span></pre><p id="b064" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我们的机器人。一切都准备好了，它应该可以在你的笔记本电脑上工作。</p><p id="0804" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们免费在heroku上部署它。</p><h1 id="c9ff" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">在Heroku部署电报机器人</h1><p id="dc5c" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">如果您还没有帐户，请前往<a class="ae jp" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank">https://www.heroku.com/</a>注册。第二步是点击<strong class="ih hj">新建</strong>按钮，进入你的【https://dashboard.heroku.com/】T2创建一个新的应用程序:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mc"><img src="../Images/865799b4157e376aba2fad131976fb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*wirEDPFW0n-ICeg7xZt-oQ.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">heroku上的应用程序创建</figcaption></figure><p id="19fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建应用程序后，您需要在项目文件夹中创建3个特殊文件:</p><ul class=""><li id="bdab" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">一个名为<strong class="ih hj"> Procfile </strong>的文件告诉Heroku如何运行你的代码:</li></ul><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="d0ed" class="ls jr hi lo b fi lt lu l lv lw">worker: python main.py</span></pre><ul class=""><li id="5161" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">一个名为runtime.txt的文件，告诉Heroku安装哪个版本的Python:</li></ul><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="3232" class="ls jr hi lo b fi lt lu l lv lw">python-3.7.0</span></pre><ul class=""><li id="bc4a" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">一个名为requirements.txt的文件，告诉heroku安装一些库。这里我们安装了Pytorch的cpu版本，以避免超过Heroku上500Mb的slug大小。确保将fastai设置为与您训练模型时使用的版本相同:</li></ul><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="0ac6" class="ls jr hi lo b fi lt lu l lv lw">python-telegram-bot<br/>-f https://download.pytorch.org/whl/torch_stable.html<br/>fastai==2.0.13<br/>torch==1.6.0+cpu<br/>torchvision==0.7.0+cpu</span></pre><p id="0f90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您只需执行以下步骤，就可以托管您的bot并随时可用:</p><ul class=""><li id="6747" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">创建一个repo并将所有文件提交给master</li><li id="61f2" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">编写<strong class="ih hj"> heroku登录</strong>命令来连接到您的heroku帐户</li><li id="c644" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">将heroku添加为远程回购，使用<strong class="ih hj">heroku git:remote-a app _ name</strong>作为您在heroku上的应用名称</li><li id="520c" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">通过使用<strong class="ih hj"> git push heroku master </strong>将您的代码推送到Heroku进行部署</li></ul><p id="abd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样。您可以通过测试telegram并查看带有<strong class="ih hj">heroku logs-tail</strong>的日志来检查一切是否正常。</p><h1 id="38b8" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">关于伦理的几点思考</h1><p id="8155" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">创建这样的项目时，有几件事值得考虑:</p><ul class=""><li id="58fa" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated"><strong class="ih hj">关于型号</strong>:它能识别所有肤色、所有性别的面膜吗？在部署这种模型之前，您必须检查偏差。</li><li id="950c" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj">关于bot </strong>:应该保存用户图片吗？他们同意收集他们的数据了吗？在我的情况下，我没有为这个机器人保存图像。如果我做了，无论如何我都会超过子弹的尺寸。</li></ul><p id="e6e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想了解更多关于人工智能伦理的信息，请查看fast.ai的课程:<a class="ae jp" href="https://ethics.fast.ai/" rel="noopener ugc nofollow" target="_blank">https://ethics.fast.ai/</a></p><h1 id="6815" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="3fee" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">在这个项目中，我们创建了一个<strong class="ih hj">电报机器人</strong>，它可以判断用户的照片上是否戴着<strong class="ih hj">面具</strong>。我们用<strong class="ih hj"> fastai v2 </strong>和杠杆<strong class="ih hj">transfer learning</strong>训练模型。这个机器人是使用<strong class="ih hj"> python-telegram-bot </strong>库创建的，我们将我们的机器人部署在<strong class="ih hj"> Heroku </strong>上，这样我们的机器人就可以随时可用。</p><p id="4aa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你读到最后，我鼓励你为这篇文章鼓掌并分享它。如果你会法语，可以在我的<a class="ae jp" href="https://www.youtube.com/channel/UC5tyoKrTlhBSM9NkQYW1RzA" rel="noopener ugc nofollow" target="_blank"> Youtube </a>频道看<a class="ae jp" href="https://youtu.be/i1-vxmxwqGA" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">视频</strong> </a>教程，有问题可以加入我的discord服务器:<a class="ae jp" href="https://www.youtube.com/redirect?q=https%3A%2F%2Fdiscord.gg%2FsHE5exZ&amp;event=video_description&amp;v=dVJPSWkpBKo&amp;redir_token=QUFFLUhqbG5vT1BkSmxzVVA4SzFGb0JtNkR4M0EyMnI0QXxBQ3Jtc0trcVRMTVdHMHFoS2FoZmRKQzFNSmZhTDMzOUJFQ1dMdHlsTkJ1bV93c3V5WEdEc0FVTjVMS0FVTXl5Zl95dENnREZabUxIN3BBVlZxTzRKWkRyc0tWQTdGUDFyZV8tZWYwM0VoYzhwMXYySGIxUHh1MA%3D%3D" rel="noopener ugc nofollow" target="_blank">https://discord.gg/sHE5exZ</a></p><p id="c8b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也欢迎在twitter上提出反馈和问题。</p></div></div>    
</body>
</html>