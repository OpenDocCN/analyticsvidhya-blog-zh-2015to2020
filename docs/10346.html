<html>
<head>
<title>Provisioning EC2 Instances with external EBS Volume attached using AWS CLI!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS CLI为EC2实例配置外部EBS卷！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/provisioning-ec2-instances-with-external-ebs-volume-attached-using-aws-cli-ac85a9ce67ed?source=collection_archive---------26-----------------------#2020-10-14">https://medium.com/analytics-vidhya/provisioning-ec2-instances-with-external-ebs-volume-attached-using-aws-cli-ac85a9ce67ed?source=collection_archive---------26-----------------------#2020-10-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c207" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这篇博客旨在解释使用AWS CLI包创建并附加外部EBS卷来配置AWS EC2实例的过程！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d5b649961a6f37233616fe11cee69bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOU8EPOfL_hmHC6Ou9Fl5A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.knowledgehut.com%2Fblog%2Fcloud-computing%2Faws-cli&amp;psig=AOvVaw3Go-i2sCQ6a4JSDWQhuFve&amp;ust=1602790705971000&amp;source=images&amp;cd=vfe&amp;ved=0CAIQjRxqFwoTCPjxm-7qtOwCFQAAAAAdAAAAABAD" rel="noopener ugc nofollow" target="_blank"> <strong class="bd jo">来源</strong> </a></figcaption></figure><p id="ecf3" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">在当今动态快速的世界中，自动化已经创造了自己的形象，要想在这个世界中生存，了解自动化部分是非常重要的。</p><p id="f03c" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">走向自动化的第一步是使用大多数程序的CLI，因为它给人一种真正的脚本感觉。使用CLI而不是WebUI的另一个好处是它消耗更少的网络带宽和资源。除此之外，如果您知道命令，还可以节省大量时间。</p><p id="cb46" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">因此，在这个世界上学习CLI是必须的&amp;写这篇博客是为了教你AWS CLI包的一些基础知识，它是AWS的官方CLI。</p><h1 id="8b17" class="kl km hi bd jo kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">此任务的先决条件！</h1><ul class=""><li id="31d4" class="lc ld hi jr b js le jv lf jy lg kc lh kg li kk lj lk ll lm bi translated">熟悉AWS基本服务。</li></ul><blockquote class="ln lo lp"><p id="2d28" class="jp jq lq jr b js jt ij ju jv jw im jx lr jz ka kb ls kd ke kf lt kh ki kj kk hb bi translated"><strong class="jr hj">在这篇博客的结尾，您将能够为AWS EC2实例创建一个密钥对，创建一个将附加到EC2实例的安全组，启动一个EC2实例，创建一个额外的EBS卷，&amp;将其附加到所创建的EC2实例。</strong></p></blockquote><p id="fd80" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">让我们开始使用AWS CLI构建设置:</p><p id="1275" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">首先，要创建一个密钥对，执行下面给出的命令。</p><pre class="iy iz ja jb fd lu lv lw lx aw ly bi"><span id="09a1" class="lz km hi lv b fi ma mb l mc md">aws ec2 create-key-pair --key-name &lt;name of the key&gt; &gt; &lt;name of the Key File&gt;.pem</span><span id="36b9" class="lz km hi lv b fi me mb l mc md"><strong class="lv hj">For example:</strong> “aws ec2 create-key-pair --key-name CLIKey &gt; CLIKey.pem”</span></pre><p id="f8cb" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将使用命令中提到的名称创建一个密钥对，并将密钥保存到命令中提到的文件中。这个密钥对将在将来用于访问EC2实例。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mf"><img src="../Images/22f193c716d77bae880b26ba0459c613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M1596kzrrEHOdGB1WaKBVg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="bbf9" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">现在，让我们创建一个安全组，它将附加到EC2实例，该实例将在下一步中创建。</p><p id="54af" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">要创建安全组，请执行下面给出的命令。</p><pre class="iy iz ja jb fd lu lv lw lx aw ly bi"><span id="1006" class="lz km hi lv b fi ma mb l mc md">aws ec2 create-security-group --group-name &lt;name of the Security Group&gt; --description “Any Description abou the security group“</span><span id="fea7" class="lz km hi lv b fi me mb l mc md"><strong class="lv hj">For example:</strong> aws ec2 create-security-group --group-name CLISG --description "Basic Security group created using AWS CLI! "</span></pre><p id="5665" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将使用命令中提到的名称和描述创建一个安全组。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/75b77c6a5876b447795bcad84e37b4e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u98TO1dKd3-rth2sa6WuLQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="20ee" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">在创建了KeyPair &amp; Security组之后，现在让我们创建EC2实例。</p><p id="de20" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">要创建相同的内容，请执行下面显示的命令。</p><pre class="iy iz ja jb fd lu lv lw lx aw ly bi"><span id="1381" class="lz km hi lv b fi ma mb l mc md">aws ec2 run-instances --image-id &lt;AMI Image ID&gt; --key-name &lt;Key Name&gt; --instance-type &lt;Type Of Instance&gt; --security-groups &lt;Name of the Security Group&gt; --tag-specifications 'ResourceType=instance,Tags=[{Key=&lt;Any Key&gt;,Value=&lt;Any Value&gt;}]'</span><span id="1dd6" class="lz km hi lv b fi me mb l mc md"><strong class="lv hj">For Example: </strong>aws ec2 run-instances --image-id ami-052c08d70def0ac62 --key-name CLIKey --instance-type t2.micro --security-groups CLISG --tag-specifications 'ResourceType=instance,Tags=[{Key=Name,Value=CLI-EC2-Instance}]'</span></pre><p id="de99" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将使用指定的资源创建一个AWS EC2实例。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/af42e375cf3390e0e3ed740cd898e37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CHP45aAzcT2OuWE85LS4AQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="ef47" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">现在，让我们为持久存储创建一个额外的EBS卷。</p><p id="b464" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">要完成同样的任务，请执行下面给出的命令。</p><pre class="iy iz ja jb fd lu lv lw lx aw ly bi"><span id="b415" class="lz km hi lv b fi ma mb l mc md">aws ec2 create-volume --size &lt;Size in GiB&gt; --availability-zone &lt;Name of the Availability Zone where EC2 Instance is launched&gt;</span><span id="4d9f" class="lz km hi lv b fi me mb l mc md"><strong class="lv hj">For Example: </strong>aws ec2 create-volume --size 1 --availability-zone ap-south-1a</span></pre><p id="64c0" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将在可用性分区“ap-south-1a”中创建一个大小为1 GiB的EBS卷。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/9025ff0d24e36bcb49873e979b2257e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9356KbupQDsnpCQfijHrQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="9aa5" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">作为这篇博客的最后一步，让我们将这个卷附加到我们上面已经创建的EC2实例上。</p><p id="f091" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">要完成同样的任务，请执行下面给出的命令。</p><pre class="iy iz ja jb fd lu lv lw lx aw ly bi"><span id="137b" class="lz km hi lv b fi ma mb l mc md">aws ec2 attach-volume --volume-id &lt;Volume ID to be attached&gt; --instance-id  &lt;Instance ID to which this volume has to be attached&gt;  --device &lt;Device Name&gt;</span><span id="bdc7" class="lz km hi lv b fi me mb l mc md"><strong class="lv hj">For Example: </strong>aws ec2 attach-volume --volume-id vol-0c266c523d78050de --instance-id  i-0c7ef601cda90170c  --device /dev/xvdh</span></pre><p id="f7ab" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将把创建的EBS卷附加到AWS实例。</p><p id="335b" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">运行该命令后，输出如下:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/83c14c2610449e387a928276e428388e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LHDXC92LTjbI6zRRw1VXNQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/e2e22cddc71e9dc446b2e7b21627f3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zzaPkayJdrEzFRR7TLJn-g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jo">图片作者！</strong></figcaption></figure><p id="5a45" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">上面显示的命令将附加创建的EBS卷，并将它附加到EC2实例！</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="91a2" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated"><strong class="jr hj"> <em class="lq">我希望我的文章用所有深刻的概念和解释来解释与主题相关的每一件事。非常感谢你花时间阅读我的博客&amp;来增长你的知识。如果你喜欢我的作品，那么我请求你为这个博客鼓掌！</em> </strong></p></div></div>    
</body>
</html>