<html>
<head>
<title>Deconfusing the Confusion Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">去融合混淆矩阵</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/deconfusing-the-confusion-matrix-81dba9679981?source=collection_archive---------27-----------------------#2020-06-15">https://medium.com/analytics-vidhya/deconfusing-the-confusion-matrix-81dba9679981?source=collection_archive---------27-----------------------#2020-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/30bf4bb2463e67f927d758a9f1299b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SDNwL1hW53nG0eUS9n8ubQ.png"/></div></div></figure><p id="6a50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">混淆矩阵是一种查看不同分类指标的方法，如准确度、精确度、召回率等。我将首先尝试解释混淆矩阵，然后我们将学习灵敏度、特异性、准确性和其他模型评估指标。</p><p id="b2a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在分类问题测试后，我们得到两类结果:</p><p id="3300" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">真实条件</p><p id="01b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">预测条件。</p><p id="d688" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，如果我们有机器学习的疾病诊断测试。所以机器学习模型会分两节课进行预测。</p><p id="aa46" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们来做如下定义:</p><ul class=""><li id="6430" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">“病”是一个<strong class="is hj">阳性类</strong>。</li><li id="e149" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">“正常”是一个<strong class="is hj">负类</strong></li></ul><p id="4345" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以使用一个2x2混淆矩阵来总结我们的“疾病预测”模型，该矩阵描述了所有四种可能的结果:</p><p id="b7f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这种情况下，混淆矩阵将会是这样的。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/09e7ccbf8dd197deafef0d7452ec304d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iqhjc_4e6A0AU0REShwqNQ.png"/></div></div></figure><p id="e008" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个<strong class="is hj">真阳性(TP) </strong> —当模型正确<em class="kh">预测</em>阳性类(有疾病)。</p><p id="0d76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">A <strong class="is hj">真阴性</strong> <strong class="is hj"> (TN) </strong> —当模型<em class="kh">正确</em>预测到<em class="kh">阴性</em>类时(无疾病-正常)。</p><p id="0321" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个<strong class="is hj">假阳性</strong> <strong class="is hj"> (FP) </strong> —当模型<em class="kh">错误地</em>预测到<em class="kh">阳性</em>类别时。它也被称为l型误差。</p><p id="cf7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个<strong class="is hj">假阴性(FN) </strong> —当模型<em class="kh">错误地</em>预测了<em class="kh">阴性</em>类别。它也被称为ll型误差。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/fd8b0ecd1dea0c2e38eb4032ad55b10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zj0jIbKdhMU3a5Fwvx8bGg.png"/></div></div></figure><p id="7c69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">评估指标</strong></p><ol class=""><li id="e39e" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn kj ju jv jw bi translated"><strong class="is hj">精度</strong></li></ol><p id="bab4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它可以用正确预测的观测值与观测值总数的比率来衡量。</p><p id="2018" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">准确度=正确预测的样本/样本总数</p><p id="c189" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，如果我们有10组测试样本，其中有疾病(2例)和正常(8例)。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/5317c7560dbdc82ce7d407d5b1f9f7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*pIprwt-ufUhTATjtVhMaEg.png"/></div></figure><p id="8805" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">绿色表示正常(无疾病)，红色表示阳性(有疾病)。在这种情况下，模型1和模型2都具有相同的准确性，如下所示，因为正确预测的样本(TP+TN)在两个模型中是相同的。</p><p id="91c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">准确度=正确预测的样本/样本总数</p><p id="c04b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">=TP + TN/(TP+FP+TN+FN)</p><p id="e175" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">=8/10=0.8</p><p id="5a0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以感觉到模型2可能比模型1更有用，因为它至少试图区分健康和疾病患者。</p><p id="da00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们不应该总是假设高精度的模型是最好的。准确性是一个很好的衡量标准，但只有当您拥有对称的数据集，并且假阳性和假阴性的值几乎相同时才是如此。因此，如果您有不对称数据集，我们应该查看其他参数来评估我们模型的性能。</p><p id="15b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。灵敏度(检测概率)</strong></p><p id="5ee5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也称为回忆或真阳性率(TPR)。它是正确预测的阳性观察值与真实阳性类别中所有观察值的比率。对于疾病预测模型，我们可以定义它，如果病人患有疾病，模型预测阳性的概率是多少。</p><p id="7672" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">灵敏度=σ真阳性/σ条件阳性</p><p id="82b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">=TP/TP+FN</p><p id="6b8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。精度</strong></p><p id="0fac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也称为阳性预测值(PPV)。它由正确预测的正观测值与总预测正观测值的比率来描述。这个指标回答的问题是，如果模型预测是肯定的，那么患者患病的概率是多少。</p><p id="242f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">精度=σ真阳性/σ预测阳性</p><p id="3d36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">=TP/ TP+ FP</p><p id="5776" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。F1得分</strong></p><p id="8ccd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">F1分数是精确度和召回率的调和平均值。如果你有一个不均匀的类分布，F1通常比准确性更有帮助。</p><p id="4085" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">F1得分= 2 *召回率*精确度/(召回率+精确度)</p><p id="c349" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。特异性</strong></p><p id="b025" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该指标回答了“如果患者正常，模型预测为阴性的概率是多少”这一问题。它也被称为选择性或真正的负利率(TNR)。</p><p id="72a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">特异性=σ真阴性/σ条件阴性</p><p id="c26a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">参考文献:</strong></p><ol class=""><li id="2517" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn kj ju jv jw bi translated"><a class="ae kl" href="https://blog.exsilio.com/all/accuracy-precision-recall-f1-score-interpretation-of-performance-measures/" rel="noopener ugc nofollow" target="_blank">https://blog . ex silio . com/all/accuracy-precision-recall-f1-score-interpretation-of-performance-measures/</a></li><li id="4d28" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn kj ju jv jw bi translated"><a class="ae kl" href="https://www.coursera.org/learn/ai-for-medical-diagnosis/lecture/z4U4m/accuracy-in-terms-of-conditional-probability" rel="noopener ugc nofollow" target="_blank">https://www.coursera.org/learn/ai-for-medical-diagnosis</a></li><li id="1ae4" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn kj ju jv jw bi translated"><a class="ae kl" href="https://en.wikipedia.org/wiki/F1_score" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/F1_score</a></li></ol></div></div>    
</body>
</html>