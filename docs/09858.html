<html>
<head>
<title>Creating Docker Image + Container from Scratch on Windows Machine for Python 3 onwards</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从 Python 3 开始，在 Windows 机器上从头开始创建 Docker Image +容器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/creating-docker-image-container-from-scratch-on-windows-machine-for-python-3-onwards-3a69ab4ce2b2?source=collection_archive---------1-----------------------#2020-09-23">https://medium.com/analytics-vidhya/creating-docker-image-container-from-scratch-on-windows-machine-for-python-3-onwards-3a69ab4ce2b2?source=collection_archive---------1-----------------------#2020-09-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9f63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于今天数以百万计的开发者来说，<strong class="ih hj"> Docker </strong>是构建和共享容器化应用的事实标准——从桌面到云(Docker.com)。将您的代码部署到生产环境中是如此简单。对于<strong class="ih hj"> Python </strong>开发者来说，它是一个流行的开发工具(它也可以用于将<strong class="ih hj"> R </strong>部署到生产环境中)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/498803137f8f644234ab871462a934e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/0*0TofLcuIKbqD4Q6Z.jpg"/></div></figure><h1 id="86b8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">准备</h1><ol class=""><li id="0c9c" class="kj kk hi ih b ii kl im km iq kn iu ko iy kp jc kq kr ks kt bi translated">从 Docker 网站下载并安装 Docker 桌面:<a class="ae ku" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/get-docker/</a></li><li id="bcc3" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">准备好 python 脚本、库名(依赖项)</li><li id="2f9e" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">右键单击任务栏上的 docker 图标，确保切换到 Windows。如果已经切换到 windows，该选项将不再出现，您将能够看到“切换到 Linux 容器”。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/ce5f6388db0d7e06049703c2d54c47cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/format:webp/1*yPPTvDJ5tKmN5g9lsnfyMA.png"/></div></figure><p id="d9a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.创建一个 requirements.txt，包含所需的库和版本</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/e49e3e452dcaa31d5f7919863e50438e.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*86bdhgAvBi6RHEd3z2PDxg.png"/></div></figure><p id="22c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.创建一个名为<em class="lc"> Dockerfile </em>的 docker 文件，其中包含您希望在 docker 容器中包含的文件层次结构。用您的 python 文件名完成<em class="lc"> Dockerfile </em>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ld"><img src="../Images/856186f95cb38131442a7bfd8fda0823.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*ofhc0FBgXNVytwwDvBBJDQ.png"/></div></figure><p id="8784" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.把它们放在同一个文件夹里</p><h1 id="4539" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">建立</h1><ol class=""><li id="e9f0" class="kj kk hi ih b ii kl im km iq kn iu ko iy kp jc kq kr ks kt bi translated">从你的窗口启动 docker。* *注意:请确保您的计算机中至少有 12 gb 以上的空间专门用于映像。</li><li id="3927" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">打开命令提示符，将目录更改为代码和文件所在的文件夹。示例<code class="du le lf lg lh b">cd "C:\Users\Folder_Name"</code></li><li id="1515" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">在命令提示符下键入<code class="du le lf lg lh b">docker build -t test_python_project .</code>。注意:<em class="lc"> test_python_project </em>是我给图像起的名字。用<strong class="ih hj"> fullstop </strong>结束代码，否则会导致错误。</li><li id="ea74" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">泡一杯咖啡，坐在电视机前，等待图像生成。我没有记下时间，可能需要 30 分钟(取决于你的网络和机器规格)。</li><li id="544e" class="kj kk hi ih b ii kv im kw iq kx iu ky iy kz jc kq kr ks kt bi translated">通过在 cmd 中键入<code class="du le lf lg lh b">docker images</code>,检查您的 docker 图像是否已成功创建。我的文件很小，因为我只有熊猫图书馆。一旦你看到你的图像被成功创建，在我的例子中<em class="lc"> test_python_project </em>出现了。我将根据这个图像创建一个容器。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/125198f5cd5e1023ee738983fee897dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hb-hZv-MdpWqjkYuE0OFOA.png"/></div></div></figure><p id="ced0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.键入 cmd <code class="du le lf lg lh b">docker run — publish 8000:8080 — detach — name test_container test_python_project</code>，如果你不耐烦，你可以再次遛狗——我没有记录创建容器花了多长时间。</p><p id="72fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.完成后，您将在仪表板中看到该容器。再次右击你的 docker 图标，点击 dashboard。在脚本中，我将我的容器命名为<em class="lc"> test_container </em>，它基于我们之前创建的映像，即<em class="lc"> test_python_project。</em>要列出你在 cmd 中的所有容器，只需键入<code class="du le lf lg lh b">docker container ls -all</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ln"><img src="../Images/44d6080d5075996e732b6475aafb3547.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*cckhJiOBhS-M2wlsCLrBXw.png"/></div></figure><p id="bd25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.瞧，我们完成了。将鼠标悬停在容器上，您将能够使用 UI 启动容器。否则，如果您喜欢脚本方式—将代码键入 cmd <code class="du le lf lg lh b">docker start test_pyton_project.</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lo"><img src="../Images/f2d4d034ac812f878ce1563150e47ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Co8FUKKOc3oAr69h_-GtA.png"/></div></div></figure></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="5caf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请给我一个掌声！</p><p id="248f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">留下你的评论。谢谢你。</strong></p></div></div>    
</body>
</html>