<html>
<head>
<title>Significance of Kernel size</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">内核大小的重要性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/significance-of-kernel-size-200d769aecb1?source=collection_archive---------1-----------------------#2020-11-05">https://medium.com/analytics-vidhya/significance-of-kernel-size-200d769aecb1?source=collection_archive---------1-----------------------#2020-11-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1797" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么内核大小应该是奇数？如果我们使用偶数内核大小会发生什么？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d3a856dc597c9ccdbff88ece404dab73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d8QiJNlee752Ky-E"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://unsplash.com/@mooo3721?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> R 莫</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="10db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始讨论内核大小的重要性之前，让我们先回顾一下<strong class="ih hj">内核</strong>到底是什么。</p><p id="e80b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">全连接网络</strong>中，输入中的每个向量元素都连接到第一层中的每个隐藏单元。所以你把每个单元和其他单元连接起来。</p><p id="6ea4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果您有 11×11 的图像，那么单个单元将有 121 个连接，而实际上将有 363 个连接。因为每个图像有 3 个通道。</p><p id="a141" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">本地连接网络</strong>中，我们使用内核/过滤器。内核是一个单元可以看到的图像的一部分。所以我们可以说内核就像一扇窗户。但是这里的窗口可能不同，即内核的权重可能不同。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/5b525850305851fa3d6296778bcdd689.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*PXC7DdSj_Yr8VHYKrkGHzw.png"/></div></figure><p id="f343" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">卷积网络</strong>类似于局部连接网络，只是内核中有权重共享。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/45e7d82249488acbe7a2a031aa9b8aa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*Yat1O_KLUTLfW9FoP5ig2Q.png"/></div></figure><p id="0791" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">内核不断在图像上滑动以生成输出。生成的输出称为特征地图。</p><h1 id="112c" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated"><strong class="ak">卷积是如何工作的？</strong></h1><p id="6eee" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">卷积的目的是对源数据矩阵进行编码，即根据滤波器或内核对整个图像进行编码。更具体地说，我们试图对锚/源像素附近的像素进行编码</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kz"><img src="../Images/2969b5d01a45904b998954c8fb004d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2L9wb6px5Z5YvevqEdLoQ.png"/></div></div></figure><p id="ea53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，无论像素的数量是多少，对称形状的内核的每条边的长度是 2*n+1(锚点的每条边+锚点像素)，因此滤波器/内核总是奇数大小。</p><p id="886d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">边界/边缘呢？</strong></p><p id="f756" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有不同的处理方式:</p><ol class=""><li id="5f0a" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated">忽略它</li><li id="17a7" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">添加零填充</li><li id="9a12" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">镜子反射出影像</li></ol><p id="5f9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常，池化操作(平均池化或最大池化)将会移除您的边界工件。</p><p id="e7de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您不打算计算逆运算，即去卷积，并且对原始图像的完美重建不感兴趣，那么您不会关心由于边界问题而导致的信息损失或噪声注入。</p><p id="b737" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">为什么内核大小是奇数？</strong></p><p id="9719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于奇数大小的滤镜，所有前一层像素将围绕输出像素对称。如果没有这种对称性，我们将不得不考虑各层之间的失真。</p><p id="1e8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">为什么连粒都不分大小？</strong></p><p id="fe5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用偶数大小内核是可能的，但是您可能会遇到别名错误。</p><p id="8fb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">混叠是原始输入中引起的失真。大多数情况下，当我们在信号处理中进行下采样时，这可以通过低通滤波来解决，但这不能插入到深层网络中，因为它会降低性能。</p><p id="ba6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">为什么是 3x3？</strong></p><p id="b428" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参数的数量随着内核大小成平方增长。这使得大卷积核的成本效率不够高。</p><p id="fbfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">限制参数的数量，我们就限制了可能的不相关特征的数量。</p><p id="68b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这迫使机器学习算法学习不同情况下的共同特征，从而更好地进行归纳。</p><p id="6c15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，通常的选择是将内核大小保持在 3x3 或 5x5。</p><p id="b381" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们希望使用更小的奇数大小的内核过滤器。但是，由于提取的特征是细粒度的和局部的，没有来自相邻像素的信息，因此从候选最佳滤波器尺寸列表中排除了 1x1。此外，它并没有真正做任何有用的特征提取</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/915dac40af95ee5ce97b92907895cda0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A90Xz4OcmER5ZxZJHGNVnQ.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/4a913843f064ea732c5042d8e6eb16b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qJgB24eRtgNQIuAHsT6ksA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">更多详情请参考<a class="ae jt" href="https://www.sicara.ai/blog/2019-10-31-convolutional-layer-convolution-kernel" rel="noopener ugc nofollow" target="_blank">链接</a></figcaption></figure><p id="8594" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，在瓶颈条件下使用 1x1 滤波器来减少通道数量并保持特征图的大小。</p></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><blockquote class="lx ly lz"><p id="17f4" class="if ig ma ih b ii ij ik il im in io ip mb ir is it mc iv iw ix md iz ja jb jc hb bi translated">我是一名电子和电信工程师。我发现数据科学很迷人，这就是为什么我决定学习机器学习和大数据分析，目前担任人工智能工程师。希望能为这个不断成长的数据科学社会做点贡献。你可以在<a class="ae jt" href="https://www.linkedin.com/in/anuja-ihare-a5b622b7" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> LinkedIn </strong> </a>上联系我。</p></blockquote></div></div>    
</body>
</html>