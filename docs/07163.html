<html>
<head>
<title>Data Visualization for absolute beginners[part 2/3]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向绝对初学者的数据可视化[第2/3部分]</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-visualization-for-absolute-beginner-using-python-part-2-3-a19b3751ede?source=collection_archive---------25-----------------------#2020-06-15">https://medium.com/analytics-vidhya/data-visualization-for-absolute-beginner-using-python-part-2-3-a19b3751ede?source=collection_archive---------25-----------------------#2020-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1e21" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Matplotlib面向对象方法</h2></div><p id="f112" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">既然我们已经介绍了基础知识，让我们把注意力转移到Matplotlib的面向对象API的介绍上来。这将允许我们实例化图形对象，然后我们可以从该对象调用方法。</p><h2 id="14b7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">面向对象方法简介</h2><p id="fe58" class="pw-post-body-paragraph ix iy hi iz b ja ko ij jc jd kp im jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">这里的想法是使用更正式的面向对象方法来创建图形对象，然后调用该对象的相应方法或属性。这被证明是处理多个情节时的<em class="kt">精彩</em>练习。</p><p id="b65a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在将从创建一个人物实例开始。然后，我们将向该图形添加轴。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="8531" class="jt ju hi kz b fi ld le l lf lg"># Object oriented method<br/># Create Figure (empty canvas)<br/>fig = plt.figure()</span><span id="7b37" class="jt ju hi kz b fi lh le l lf lg"># Add set of axes to figure<br/>axes = fig.add_axes([0.1, 0.1, 0.8, 0.8]) # left, bottom, width, height (range 0 to 1)</span><span id="66bd" class="jt ju hi kz b fi lh le l lf lg"># Plot on that set of axes<br/>axes.plot(x, y, 'b')</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es li"><img src="../Images/649abf28cc300338c19d0c3c7e2b80dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*lqDUkNouvSqLKzpBxlI4ew.png"/></div></figure><p id="233c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">注意:</strong>在本教程的第1部分中，我们使用plt.plot(x，y)做了同样的事情。但是现在使用这种面向对象的方法，我们将对我们的fig对象有更多的控制，我们可以很容易地添加一个以上的轴到我们的图形中，如下所示。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="f6b1" class="jt ju hi kz b fi ld le l lf lg"># Creates blank canvas<br/>fig = plt.figure()</span><span id="9006" class="jt ju hi kz b fi lh le l lf lg">axes1 = fig.add_axes([0.1, 0.1, 0.8, 0.8]) # main axes<br/>axes2 = fig.add_axes([0.2, 0.5, 0.4, 0.3]) # inset axes</span><span id="c5d8" class="jt ju hi kz b fi lh le l lf lg"># Larger Figure Axes 1<br/>axes1.plot(x, y, 'b')</span><span id="28de" class="jt ju hi kz b fi lh le l lf lg"># Insert Figure Axes 2<br/>axes2.plot(y, x, 'r')</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es li"><img src="../Images/cb1defa48b1a4031ce48f5bcc14e3ead.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*4eQIwgGyRrsW2VEmRS8APg.png"/></div></figure><h2 id="fc37" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">支线剧情()</h2><p id="8577" class="pw-post-body-paragraph ix iy hi iz b ja ko ij jc jd kp im jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">现在我们将学习如何使用相同的面向对象方法创建支线剧情。Subplot是不同的，因为我们可以指定行数和列数。</p><p id="411a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">plt.subplots()对象充当更自动化的轴管理器。</p><p id="52d2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基本使用案例:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="fb43" class="jt ju hi kz b fi ld le l lf lg"># Use tuple unpacking to grab fig and axes<br/>fig, axes = plt.subplots()</span><span id="eeb8" class="jt ju hi kz b fi lh le l lf lg"># Use axes object to add stuff to the plot<br/>axes.plot(x, y, 'r')</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es lm"><img src="../Images/335724363e919cc6caeb0eeacf31e4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*Cvmk2YP6sYYsNPO3rVRsGQ.png"/></div></figure><p id="6ade" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们将在实例化subplots()对象时指定行数和列数:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="2a63" class="jt ju hi kz b fi ld le l lf lg"># Make an empty canvas of 1 by 2 subplots<br/>fig, axes = plt.subplots(nrows=1, ncols=2)</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es ln"><img src="../Images/a015bdc0e3fd77421e1e1e46cb93d158.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*oNTuu2rK1Foii6z5CiFwRg.png"/></div></figure><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="c0a6" class="jt ju hi kz b fi ld le l lf lg"># Axes is an array of axes to plot on<br/>axes</span></pre><p id="1174" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Out[]</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="d579" class="jt ju hi kz b fi ld le l lf lg">array([&lt;matplotlib.axes._subplots.AxesSubplot object at 0x111f0f8d0&gt;,&lt;matplotlib.axes._subplots.AxesSubplot object at 0x1121f5588&gt;], dtype=object)</span></pre><p id="d250" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">回想一下，在第1部分中，我们通过手动给定行和列做了同样的事情，但是由于它是一个数组，我们实际上可以迭代它并直接绘制数据。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="c1a8" class="jt ju hi kz b fi ld le l lf lg">for ax in axes:<br/>    ax.plot(x, y, 'b')</span><span id="3929" class="jt ju hi kz b fi lh le l lf lg"># Display the figure object    <br/>fig</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es lm"><img src="../Images/ef03593e759556aa787993f05dcb5dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*Q1HFHeEp2HFHc5hYjDewog.png"/></div></figure><p id="bdbe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在matplotlib中，轴(包括子图)的位置是在标准化图形坐标中指定的。您的轴标签或标题(有时甚至是标记标签)可能会超出图形区域，从而被裁剪掉。</p><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es lo"><img src="../Images/9edb7384950e6621af37310bfe68d167.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*m8ovHOYLwmJOwBfIu4bh6Q.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">使用重叠标签绘图</figcaption></figure><p id="a983" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了解决这个问题，我们可以使用<strong class="iz hj"> fig.tight_layout() </strong>或<strong class="iz hj"> plt.tight_layout() </strong>方法，它自己调整图形画布上的轴的位置，以避免内容重叠:</p><p id="7438" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> tight_layout() </strong>可以带<em class="kt"> pad </em>、<em class="kt"> w_pad、</em>和<em class="kt"> h_pad </em>的关键字参数。这些控件控制人物边界周围和支线剧情之间的额外填充。填充以字体大小的分数指定。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="0b88" class="jt ju hi kz b fi ld le l lf lg">plt.tight_layout(pad=0.4, w_pad=0.5, h_pad=1.0)</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div class="er es lo"><img src="../Images/79d2473175fbe8574cd319c2bd0b7d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*0Pn8pdAtUtmSfMtJFc18YQ.png"/></div></figure><h2 id="1d36" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">图形大小、纵横比和DPI</h2><p id="fd4f" class="pw-post-body-paragraph ix iy hi iz b ja ko ij jc jd kp im jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Matplotlib允许在创建图形对象时指定纵横比、DPI(每英寸点数)和图形大小。我们可以使用<code class="du lt lu lv kz b">figsize</code>和<code class="du lt lu lv kz b">dpi</code>关键字参数。</p><ul class=""><li id="4e5d" class="lw lx hi iz b ja jb jd je jg ly jk lz jo ma js mb mc md me bi translated"><code class="du lt lu lv kz b">figsize</code>是以英寸为单位的图形的宽度和高度的元组</li><li id="cb3f" class="lw lx hi iz b ja mf jd mg jg mh jk mi jo mj js mb mc md me bi translated"><code class="du lt lu lv kz b">dpi</code>是每英寸点数(每英寸像素)。</li></ul><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="1284" class="jt ju hi kz b fi ld le l lf lg">fig = plt.figure(figsize=(8,4), dpi=100)</span></pre><p id="17df" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Out []:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="1c29" class="jt ju hi kz b fi ld le l lf lg">&lt;matplotlib.figure.Figure at 0x11228ea58&gt;</span></pre><p id="5c59" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些相同的参数也可以传递给<code class="du lt lu lv kz b">subplots</code>函数:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="5b5a" class="jt ju hi kz b fi ld le l lf lg">fig, axes = plt.subplots(figsize=(12,3)) # 12 by 4 inches</span><span id="e950" class="jt ju hi kz b fi lh le l lf lg">axes.plot(x, y, 'r')</span></pre><figure class="ku kv kw kx fd lj er es paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="er es mk"><img src="../Images/2fc2ec589d3ccfd209e734347ab83aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LX4X3bl2R_VTiLrzGYft8A.png"/></div></div></figure><h2 id="e703" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">节省数字</h2><p id="9dfa" class="pw-post-body-paragraph ix iy hi iz b ja ko ij jc jd kp im jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Matplotlib以下列格式生成高质量的输出:JPG、PNG、EPS、SVG、PDF和PGF。</p><p id="3f7f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了保存一个文件，我们将使用Figure类中的<code class="du lt lu lv kz b">savefig</code>方法:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="f19f" class="jt ju hi kz b fi ld le l lf lg">fig.savefig("filename.jpg")</span></pre><p id="f573" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还可以选择指定每英寸点数(DPI)并选择不同的输出格式</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="4d73" class="jt ju hi kz b fi ld le l lf lg">fig.savefig("filename.png", dpi=200)</span></pre><p id="ea57" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">恭喜你！完成本系列的第2部分后，点击<a class="ae mp" rel="noopener" href="/@ishankdev/data-visualization-from-absolute-beginner-to-complete-master-part-3-3-96a00d04497f">此处</a>进入第3部分</p><h2 id="e5e1" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">来源</h2><ul class=""><li id="3d38" class="lw lx hi iz b ja ko jd kp jg mq jk mr jo ms js mb mc md me bi translated"><a class="ae mp" href="https://www.udemy.com/course/python-for-data-science-and-machine-learning-bootcamp/" rel="noopener ugc nofollow" target="_blank">https://www . udemy . com/course/python-for-data-science-and-machine-learning-boot camp/</a></li><li id="1b4b" class="lw lx hi iz b ja mf jd mg jg mh jk mi jo mj js mb mc md me bi translated"><a class="ae mp" href="https://sites.google.com/site/ownscratchpad/datascience/matplotlib" rel="noopener ugc nofollow" target="_blank">https://sites . Google . com/site/own scratchpad/data science/matplotlib</a></li><li id="3aaa" class="lw lx hi iz b ja mf jd mg jg mh jk mi jo mj js mb mc md me bi translated"><a class="ae mp" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib . org/3 . 1 . 1/API/_ as _ gen/matplotlib . axes . axes . set _ xlabel . html</a></li><li id="9cf2" class="lw lx hi iz b ja mf jd mg jg mh jk mi jo mj js mb mc md me bi translated"><a class="ae mp" href="https://www.southampton.ac.uk/~fangohr/training/python/notebooks/Matplotlib.html" rel="noopener ugc nofollow" target="_blank">https://www . Southampton . AC . uk/~ Fang ohr/training/python/notebooks/matplotlib . html</a></li><li id="668c" class="lw lx hi iz b ja mf jd mg jg mh jk mi jo mj js mb mc md me bi translated"><a class="ae mp" href="https://www.google.com/search?q=%22axes%20=%20fig.add_axes(%5B0.1,%200.1,%200.8,%200.8%5D)%20#%20left,%20bottom,%20width,%20height%20(range%200%20to%201)%22" rel="noopener ugc nofollow" target="_blank">https://www.google.com/search?q = % 22 axes %20 = %20 fig . add _ axes(% 5b 0.1、%200.1、%200.8、%200.8% 5D)%20 # % 20左、% 20底、% 20宽、% 20高% 20(范围% 200% 20到%201)%22 </a></li></ul></div></div>    
</body>
</html>