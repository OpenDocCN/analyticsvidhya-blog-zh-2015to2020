<html>
<head>
<title>Code Candy 2: Learning about Decorators in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码糖果2:学习Python中的装饰器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/code-candy-learning-about-decorators-3e93d4752ab?source=collection_archive---------0-----------------------#2019-03-12">https://medium.com/analytics-vidhya/code-candy-learning-about-decorators-3e93d4752ab?source=collection_archive---------0-----------------------#2019-03-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9b95ba0dc29aeb4f041ef47f2685e06e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BOMXhpamY2AOtWCGfddS_Q.jpeg"/></div></div></figure><p id="e9cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在从事大型项目时，你难道没有看到一些代码离你想要它做的事情只有几英寸远，你会想，如果这个函数能把松散的部分绑起来以适合我的应用程序，如果我能调整这个现有的函数。</p><p id="89c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Python通过提供重用和扩展功能的特殊功能来帮助我们。你可以将一段运行良好的现有代码添加到其中。这是元编程作为现有程序一部分的一个例子。</p><h2 id="b8d1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">Python是如何做到这一点的？</h2><p id="ee19" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">Python将所有东西都视为对象类、数据和函数。函数是具有属性的简单对象。同一个函数可以有不同的名字，函数可以从函数中返回，甚至可以作为参数传递。</p><p id="458f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">装饰器所做的是将一个函数作为参数，添加更多的特性并返回它。这在扩展现有功能以满足新需求或迎合新界面方面可能是有用的。</p><h2 id="a1fb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">定义装饰器的代码</h2><p id="8e0c" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">定义一个装饰器很简单，作为一个函数，它接受一个函数作为参数，并在其主体中添加一些更多的特性。请查看下面的python快照，了解需要完成的任务。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/914989d9f5714c852550726237f4a926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YrLKWONM165H7JY0nYKkUg.png"/></div></div></figure><h2 id="cdca" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">打电话给装潢师</h2><p id="6c01" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">以下是如何得到一个装饰。因为装饰器返回一个函数，所以它被赋值给b，b也是一个函数，需要用括号括起来才能执行代码。只需输入print(b)就会给出函数的地址，不会执行decorator。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/3ab24da0d7c132470a240cd0e02e7c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MS2cyKYHYyeUddfNXJ6yOg.png"/></div></div></figure><p id="bffc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是输出</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ku"><img src="../Images/aeaab2849416c1a21646e74d39dc2700.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*6ug1Wjq0mY7LmabgGEY-cA.png"/></div></figure><p id="209f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">调用装饰器生成与上面相同的输出的另一种方式是这样的。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/8a09a99768ea90596661bd35ef347399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*luVIk6jQGY0cESnfdxA8qg.png"/></div></div></figure><h2 id="59b3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">使用装饰器时要小心</h2><p id="7601" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">在定义装饰器时，记住整个系统的设计是很重要的，深度嵌套和包装的函数可能会导致系统变慢，Python 2.3和更早的版本也不支持这个特性。</p><p id="8980" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在你的脑海中弹出这个代码糖果来体验一下装饰者的味道..离代码启蒙又近了一步。</p><p id="d88b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你能用这个来设计更好的代码！编码快乐！</p></div></div>    
</body>
</html>