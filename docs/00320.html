<html>
<head>
<title>CRUD API using Spring Boot :Part 1 (without DB)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Spring Boot的CRUD API:第1部分(没有数据库)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/crud-using-spring-boot-part-1-without-db-385a48e8578b?source=collection_archive---------0-----------------------#2019-03-28">https://medium.com/analytics-vidhya/crud-using-spring-boot-part-1-without-db-385a48e8578b?source=collection_archive---------0-----------------------#2019-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="bf0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">背景和为什么弹簧开机</strong></p><p id="8b37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，可能正在读这篇文章的人，我刚刚在我的家庭办公室的办公桌前，决定重新整理一下我的春季书籍技能集。就像每个人都说最好的学习方法是通过做和写你正在做的事情，所以我决定试一试。Java是最稳定和安全的框架之一(<em class="jd">如果不是最好的话)</em>也是我的第一个编程语言，因为<strong class="ih hj"> <em class="jd"> Html，CSS </em> </strong>现在都不被认为是编程语言</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/510501235e133a3d9ce7546e04b39679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*GSZb89o28woaVmMnP9pLng.jpeg"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">Html是一种编程语言</figcaption></figure><p id="73f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现自己对<a class="ae jq" href="https://spring.io/" rel="noopener ugc nofollow" target="_blank"> Java(Spring) </a>的好感超过了最时髦的<a class="ae jq" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jd">Python</em></strong></a><strong class="ih hj"><em class="jd">(到时候学我会考虑的)。</em> </strong>我的观点是，对质量来说，有一个更微不足道的编程基础就是修补一个CRUD应用程序(创建、读取、更新、删除)</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="ef01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是Spring Boot！</p><p id="cbc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个基于Spring的框架，采用Spring平台和第三方库的观点来创建企业应用程序。它使用依赖注入来帮助您快速引导应用程序投入生产。</p><p id="dc8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">开始(项目设置)</strong></p><p id="0446" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用大多数IDE提供的spring starter，或者您可以从这里的<a class="ae jq" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank">生成if。由于这里的重点是让我们的应用程序尽快运行，所以我不会深入到依赖注入的问题中。遵循为spring设置web应用程序的步骤，以及在此构建该应用程序的要求</a><a class="ae jq" href="https://spring.io/guides/gs/spring-boot/" rel="noopener ugc nofollow" target="_blank">。确保你已经运行了我们在本教程中使用的Tom-cat dependency。</a></p><p id="263d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">测试我们的网络应用</strong></p><p id="ab7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完全设置好之后，我们就可以尝试和测试我们的应用程序了(我们在这里不是写测试用例，我们只是确认一切正常)。创建一个名为Home Controller的类，使我们能够服务于我们的应用程序并编写下面的代码。我会试着解释每一个</p><pre class="jf jg jh ji fd jy jz ka kb aw kc bi"><span id="a650" class="kd ke hi jz b fi kf kg l kh ki">@SpringBootApplication<br/>public class DemoApplication {<br/><br/>    public static void main(String[] args) {<br/><br/>        ConfigurableApplicationContext c = SpringApplication.<em class="jd">run</em>(DemoApplication.class, args);<br/><br/>        System.<em class="jd">out</em>.println("Welcome to Spring Boot");<br/>    }<br/><br/>}</span></pre><p id="e394" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击运行应用程序(我正在使用对我来说更简单的集成开发环境)，您可以使用自己选择的集成开发环境。这应该是你的输出<strong class="ih hj">汤姆猫将为我们的应用服务，如下所示。</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/fe7b6fa1a52c71573224a5dd272ffaef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O15U6ajDiTPxyPEkoU2z1A.png"/></div></div></figure><p id="d028" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们将在第1部分创建什么</strong></p><p id="27b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将为编程课程创建一个api</p><p id="6e21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个java类(projo)并将其命名为Topics，将变量初始化为id、名称和描述。然后创建相同的getter和setter。包括一个构造函数，当我们创建一个主题对象时，首先调用这个构造函数</p><pre class="jf jg jh ji fd jy jz ka kb aw kc bi"><span id="b823" class="kd ke hi jz b fi kf kg l kh ki">public class Topic {<br/><br/>    private String id;<br/>    private String name;<br/>    private String description;<br/><br/>    public Topic() {<br/><br/>    }<br/><br/>    public Topic(String id, String name, String description) {<br/>        this.id = id;<br/>        this.name = name;<br/>        this.description = description;<br/>    }<br/><br/>    public String getId() {<br/>        return id;<br/>    }<br/><br/>    public void setId(String id) {<br/>        this.id = id;<br/>    }<br/><br/>    public String getName() {<br/>        return name;<br/>    }<br/><br/>    public void setName(String name) {<br/>        this.name = name;<br/>    }<br/><br/>    public String getDescription() {<br/>        return description;<br/>    }<br/><br/>    public void setDescription(String description) {<br/>        this.description = description;<br/>    }<br/><br/>}</span></pre><p id="77a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个服务，我们将把它作为与数据交互的接口(现在我们还在数组列表中使用虚拟数据)</p><pre class="jf jg jh ji fd jy jz ka kb aw kc bi"><span id="60a7" class="kd ke hi jz b fi kf kg l kh ki">@Service<br/>public class TopicsService {<br/><br/>    private List&lt;Topic&gt; topicList = new ArrayList&lt;&gt;(Arrays.<em class="jd">asList</em>(<br/><br/>            new Topic("_spring", "_Spring FrameWork", "_Spring Description"),<br/>            new Topic("spring", "Spring FrameWork", "Spring Description"),<br/>            new Topic("java", "Java FrameWork", "Java Description")<br/><br/>    ));</span></pre><p id="b7dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码创建了一个可变数组列表，我们将在其中添加条目，查看单个条目，删除和更新条目，就像我们在应用程序中使用数据库连接一样。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ko"><img src="../Images/5b495120d4c43453327957b3d02e654d.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*zSvqtGZuBn7Ico1bCHJ4ug.png"/></div></figure><p id="06f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个TopicsController来操作我们的数据。用“@RestController”对其进行注释。这使您能够从每个函数中获取json对象，而无需显式地告诉函数返回json对象。初始化TopicService并用@Autowired对其进行注释(spring framework的特性使您能够隐式地注入对象依赖)</p><p id="d806" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在TopicController类中创建五个函数/方法。</p><p id="134d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">查看所有话题</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kp"><img src="../Images/167f6ca0c1712cb2882858c5339231ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*4FX6OBL2pHlAlwE2bCWT4A.png"/></div></div></figure><p id="10c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个get方法，用于显示我们的模拟数据库(主题数组)中的所有主题。它有一个“@RequestMapping”的注释。这使得api的访问器(无论是邮差客户端的浏览器)能够到达如下所示的请求api。该函数调用主题服务类中的一个方法，该方法加载所有主题。附上主题服务中的方法。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kq"><img src="../Images/6f20174fb7fbf56870c0ecca2c3fb3da.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*et7U-Cm-WPzt9mj9ctEe3w.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kr"><img src="../Images/97ca6933a4f7c2d9ce9c0f7ce027eb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*tKzSgJPDx4qNcPqhzGg_Tw.png"/></div></figure><p id="b6d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法返回的类型是topic类型的列表。运行spring-boot应用程序来启动服务器。</p><p id="3dab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您启动spring boot应用程序时，您在端口8080(默认配置)为它提供服务。访问你的博文“localhost:8080/topics”中的这个链接，它会列出你所有的项目。</p><p id="2be5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">查看单选题</strong></p><p id="0f40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">添加话题</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ks"><img src="../Images/62581e2994dc583f49442b9f036004c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*VgSFZ1zvY3kAsE6F7tjBgA.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">查看单个主题</figcaption></figure><p id="d484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将请求映射到一个特定的id，并使用“@PathVariable”注释来获取被解析为参数的id。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kt"><img src="../Images/f7a4e39fc5d3c50858f7af7a076618d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*dJGHFy-U_q97-O1zKnjFqQ.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ku"><img src="../Images/de0b562ca600d77254738326c472d126.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*mOjF6SW_KoF8k51gOgGcyw.png"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">添加以主题为参数的主题</figcaption></figure><p id="5a3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用java的filter方法找到解析了id的主题，并获取第一个匹配项</p><p id="c448" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在主题控制器中创建一个名为addTopic的方法，该方法接受post请求并映射到服务中的addTopic方法。该函数接受body类型的参数，并用“@RequestBody”进行注释</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kv"><img src="../Images/b09fe39d681497d159e8cc243a5a234e.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*osmIyY-zwZUWtmrqTMzIDw.png"/></div></figure><p id="8cf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">服务类中的add topic方法将解析后的topic对象添加到现有主题的数组列表中。这是邮递员的复制品。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kw"><img src="../Images/51474a3bcdc0867a61b0fb536002695a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*BwJKx8kHTKGxkBOYBlHHGQ.png"/></div></figure><p id="3eb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>请求方法为put，头的内容类型(Content-Type)为json (application/json)</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kx"><img src="../Images/bfbfc1e7290ecb19ba5f39cefe55a2bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*lU91QSJWOTrA8S2eM1lffA.png"/></div></figure><p id="1f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新和删除</strong></p><p id="0764" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Update和delete函数是相同的，你放置方法(DELETE /UPDATE ),然后放置主题作为请求体和主题的id。两者都调用topicService中各自的方法，并执行更新主题值或删除主题的替代操作。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ky"><img src="../Images/c51dba2e627f589b64186b6a80fe7d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*hqhKTXsz7NkA-08oozD0OA.png"/></div></figure><p id="4320" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新方法检查整个对象，检查主题的id是否与被解析的id匹配，并更新内容。</p><p id="630b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">delete检查主题的id是否与数组中的id相匹配，它是从数组中删除的。</p><p id="5c97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论</strong></p><p id="9ede" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个非常基本的方法，在未来的部分将做一个更好的方法，包括数据库。<strong class="ih hj">注:</strong>这是一种自以为是的做法。</p><p id="c394" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果对你有所启发，请鼓掌。</p></div></div>    
</body>
</html>