<html>
<head>
<title>Forecasting Using Time Series</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用时间序列进行预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/forecasting-using-time-series-dda43b542f8a?source=collection_archive---------13-----------------------#2020-11-09">https://medium.com/analytics-vidhya/forecasting-using-time-series-dda43b542f8a?source=collection_archive---------13-----------------------#2020-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/87c39c528e3f6b8de430348cb4ccda5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-xp62TxfyLj_8bKRMk-0cw.png"/></div></div></figure><p id="2b7d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated"><span class="l jp jq jr bm js jt ju jv jw di"> F </span>预测是预测分析的一种常用应用，因为它对组织的顶线和底线都有重大影响。对产品和服务需求的预测是长期和短期规划的重要输入。各种能力规划问题，如人力规划、机器能力、仓库能力、材料需求规划，将取决于产品/服务的预测需求。</p><p id="abb0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">营销、促销和广告的预算分配通常基于预测结果。</p><p id="6ce5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">预测的例子包括:</p><ul class=""><li id="e6a2" class="jx jy hi is b it iu ix iy jb jz jf ka jj kb jn kc kd ke kf bi translated">波音747–400有600多万个零件和几千个独特的零件。预测备件需求非常重要，因为关键任务部件的不可用会产生不利影响，并会给航空公司带来高昂的成本。</li><li id="030e" class="jx jy hi is b it kg ix kh jb ki jf kj jj kk jn kc kd ke kf bi translated">沃尔玛超市储存了超过142，000种不同的商品。为了增加收入和销售，必须为每一件售出的产品保持库存，并且必须尽可能准确地预测产品的需求。</li><li id="401b" class="jx jy hi is b it kg ix kh jb ki jf kj jj kk jn kc kd ke kf bi translated">对产品和服务的需求不是预测的唯一应用，人力规划也需要使用复杂的模型。</li><li id="429a" class="jx jy hi is b it kg ix kh jb ki jf kj jj kk jn kc kd ke kf bi translated">印度信息技术公司努力为管理业务所需的每项技能管理合适的人力水平。这将包括预测商业机会、管理当前和未来项目所需的技能等。</li></ul><p id="29f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">时间序列数据</p><p id="0c59" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">时间序列数据<em class="kl"> Yt </em>是一个随机变量，通常以固定的时间间隔和时间顺序收集。</p><p id="8a1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单变量时间序列数据:只包含单个变量的观察值的时间序列数据(如t时刻的产品需求)。</p><p id="ec99" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">多变量时间序列数据:如果数据由一个以上的变量组成，例如，时间t时的产品需求、时间t时的价格、时间t时公司在促销上花费的金额、时间t时竞争对手的价格等。</p><p id="e782" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">时序数据的组成部分</p><p id="b5b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">趋势成分<em class="kl"> (Tt) </em>:趋势是数据长期一致的向上或向下的运动。</p><p id="11d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">季节性因素<em class="kl"> (St) </em>:季节性因素是趋势的反复向上或向下运动，在一个日历年内以固定的间隔发生，如季节、季度、月份、星期几等。</p><p id="f778" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">周期性成分<em class="kl"> (Ct) </em>:周期性成分是由于衰退、失业等宏观经济变化而产生的以随机间隔围绕趋势线的波动。周期性波动有重复的模式。</p><p id="3cc3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不规则成分<em class="kl"> (It) </em>:不规则成分是服从均值为0、方差恒定的正态分布的白噪声或随机不相关变化。</p><p id="de8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有几种预测技术，如移动平均、指数平滑和自回归综合移动平均(ARIMA ),在各种行业中都有使用。</p><p id="c82b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">移动平均和指数平滑预测时间序列数据的未来值，作为过去观察值的函数。基于回归的模型，如自回归(AR)、移动平均(MA)、自回归和移动平均(ARMA)、ARIMA使用更复杂的回归模型。使用复杂的数学模型并不能保证更准确的预测。在许多情况下，简单的移动平均技术可能优于复杂的ARIMA模型。</p><p id="fe5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分解时间序列</p><p id="373c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">时间序列数据可以建模为趋势、季节性、周期性和不规则成分的相加或乘积。</p><p id="eb22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加法时间序列模型:这些模型假设季节性和周期性成分独立于趋势成分。加法模型并不常见，因为在许多情况下，季节性因素可能并不独立于趋势。</p><p id="4660" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加法时间序列模型由下式给出</p><p id="8b4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kl"> Yt = Tt + St + Ct + It </em></p><p id="6a67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">乘法时间序列模型:这些模型更常见，更适合许多数据集。基于多年的趋势，季节性对销售额有倍增效应。因此，在许多情况下，季节性效应是与趋势相乘的，而不是像加法模型那样只是相加。</p><p id="43d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它是由</p><p id="c615" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kl"> Yt = Tt x St x Ct x It </em></p><p id="a0a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了分解时间序列数据，我们可以利用以下库:</p><p id="4448" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.statsmodel.tsa为时序分析提供了各种功能。</p><p id="f1f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.statsmodel.tsa.seasonal中的seasonal_decompose()将时间序列分解为趋势、季节和残差。它需要频率参数；例如，每月数据的频率是12。</p><p id="7ebd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自回归综合移动平均</p><p id="3424" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自回归模型和移动平均模型是常用于预测的流行模型。它们被组合起来创建模型，如自回归移动平均(ARMA)和自回归综合移动平均(ARIMA)模型。</p><p id="1209" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">自回归模型</strong>——自回归是在不同时间点测量的变量对自身的回归。具有滞后1的自回归模型AR (1)由下式给出:</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es km"><img src="../Images/07d46fc8814cae7e76dcdea924ee3ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*K6evzeXCp_Cu0jdFCQVrrA.jpeg"/></div></figure><p id="1969" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用自回归模型的一个重要任务是模型识别，即识别p(滞后数)的值。</p><p id="cf0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">模型识别的标准方法是使用自相关函数和部分自相关函数。</p><p id="f6c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">移动平均过程- </strong>移动平均过程是回归模型，其中过去的残差用于预测时间序列数据的未来值。</p><p id="20d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">滞后1的移动平均过程可以写成:</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/d634958940ad67f63ff67aa2aec70b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*WphknwGIqIQsOJxt_o3m8w.jpeg"/></div></figure><p id="4b50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">方程中的模型可以推广到q滞后。</p><p id="30b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">移动平均过程中的q值(滞后数)可以使用以下规则确定:</p><p id="433f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.自相关值对于第一个q滞后是重要的，并且截止到零。</p><p id="9f6f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.部分自相关函数呈指数下降。</p><p id="7993" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">自回归移动平均(ARMA)模型- </strong> ARMA是自回归和移动的组合</p><p id="6755" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一般流程。ARMA (p，q)过程结合了AR(p)和MA(q)过程。</p><p id="4a65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ARMA过程中p和q的值可以使用以下经验法则确定:</p><p id="b6ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.自相关值对于第一个q值(第一个q滞后)是有意义的，并且截止到零。</p><p id="869d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.部分自相关值对于第一个p值是有意义的，并且截止到零。</p><p id="c2e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">自回归综合移动平均(ARIMA)模型- </strong> ARMA模型只能在时间序列数据平稳时使用。当时间序列数据不稳定时，使用ARIMA模型。</p><p id="4215" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果均值、方差和协方差在一段时间内保持不变，则时间序列数据称为平稳数据。</p><p id="05f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ARIMA有以下三个分量，用ARIMA (p，d，q)表示:</p><p id="dcb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.带p滞后的AR分量。</p><p id="0caf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.集成组件(d)。</p><p id="2151" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.带q滞后的MA，MA(q)。</p></div></div>    
</body>
</html>