<html>
<head>
<title>Custom Object Detection with zero code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">零代码自定义对象检测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/custom-object-detection-with-zero-code-d12739569bf7?source=collection_archive---------23-----------------------#2019-12-24">https://medium.com/analytics-vidhya/custom-object-detection-with-zero-code-d12739569bf7?source=collection_archive---------23-----------------------#2019-12-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cddd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想要一个自己的自定义对象检测，并且没有太多的时间编码(或者甚至不是一个编码器)，现在你可以使用我的项目</p><div class="jd je ez fb jf jg"><a href="https://github.com/postor/ease-training" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">岗位/轻松培训</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx">prepare a dataset and you are ready to train, zero coding | 只要准备好训练数据集，就可以开始训练了，无需编码 clone this project and cd project…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">github.com</p></div></div><div class="jp l"><div class="jq l jr js jt jp ju jv jg"/></div></div></a></div><p id="da18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们快速浏览一下</p><figure class="jw jx jy jz fd ka"><div class="bz dy l di"><div class="kb kc l"/></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">轻松训练一瞥</figcaption></figure><p id="ea09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，您需要的只是包含您想要检测的内容的图像。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h2 id="6412" class="ko kp hi bd kq kr ks kt ku kv kw kx ky iq kz la lb iu lc ld le iy lf lg lh li bi translated">启动服务器</h2><p id="e237" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">我自己用的是Ubuntu桌面，你可以用你喜欢的操作系统，但是我不确定软件是否能和其他软件兼容</p><p id="feef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要docker和docker-compose来运行我的图像</p><div class="jd je ez fb jf jg"><a href="https://docs.docker.com/v17.09/engine/installation/" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">安装Docker</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">预计阅读时间:8分钟Docker有两个版本:社区版(CE)和企业版…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">docs.docker.com</p></div></div><div class="jp l"><div class="lo l jr js jt jp ju jv jg"/></div></div></a></div><div class="jd je ez fb jf jg"><a href="https://docs.docker.com/compose/install/" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">安装Docker撰写</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">预计阅读时间:7分钟您可以在macOS、Windows和64位Linux上运行Compose。码头工人写作靠…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">docs.docker.com</p></div></div><div class="jp l"><div class="lp l jr js jt jp ju jv jg"/></div></div></a></div><p id="a15f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后GPU驱动和nvidia-docker，我直接装CUDA里面有GPU驱动，反正我有时候需要直接运行一些机器学习。</p><div class="jd je ez fb jf jg"><a href="https://developer.nvidia.com/cuda-downloads" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">CUDA工具包10.2下载</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">选择目标平台单击描述您的目标平台的绿色按钮。只有受支持的平台才会…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">developer.nvidia.com</p></div></div><div class="jp l"><div class="lq l jr js jt jp ju jv jg"/></div></div></a></div><div class="jd je ez fb jf jg"><a href="https://github.com/NVIDIA/nvidia-docker" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">英伟达/英伟达-docker</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">NVIDIA容器工具包允许用户构建和运行GPU加速Docker容器。该工具包包括一个…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">github.com</p></div></div><div class="jp l"><div class="lr l jr js jt jp ju jv jg"/></div></div></a></div><p id="83f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然需要git</p><div class="jd je ez fb jf jg"><a href="https://git-scm.com/downloads" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">下载</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">Git是软件自由保护协会的成员，该协会处理该项目的法律和财务需求。保护…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">git-scm.com</p></div></div><div class="jp l"><div class="ls l jr js jt jp ju jv jg"/></div></div></a></div><p id="e344" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后下载代码并启动服务</p><pre class="jw jx jy jz fd lt lu lv lw aw lx bi"><span id="6373" class="ko kp hi lu b fi ly lz l ma mb">git clone <a class="ae mc" href="https://github.com/postor/ease-training.git" rel="noopener ugc nofollow" target="_blank">https://github.com/postor/ease-training.git</a><br/>cd <a class="ae mc" href="https://github.com/postor/ease-training.git" rel="noopener ugc nofollow" target="_blank">ease-training</a><br/>. prepare.sh<br/>docker-compose -d</span></pre><p id="d578" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后访问<a class="ae mc" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>或将localhost替换为LAN IP，应该是这样的:</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div class="er es md"><img src="../Images/be46c3e8ee85000bd24f7e8ca98d777b.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*q8rt8Hr4EAr8ybyGdJVUXQ.jpeg"/></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">主页</figcaption></figure><h2 id="ad81" class="ko kp hi bd kq kr ks kt ku kv kw kx ky iq kz la lb iu lc ld le iy lf lg lh li bi translated">准备您的定制VOC格式数据集</h2><p id="feba" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">关于这个有很多链接，你可以先参考这个指南</p><div class="jd je ez fb jf jg"><a rel="noopener follow" target="_blank" href="/deepquestai/object-detection-training-preparing-your-custom-dataset-6248679f0d1d"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">对象检测培训—准备您的自定义数据集</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">以Pascal VOC格式注释自定义图像数据集的教程</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">medium.com</p></div></div><div class="jp l"><div class="mf l jr js jt jp ju jv jg"/></div></div></a></div><p id="1472" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我认为这些链接也会有所帮助</p><div class="jd je ez fb jf jg"><a href="https://gluon-cv.mxnet.io/build/examples_datasets/detection_custom.html#derive-from-pascal-voc-format" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">为对象检测准备自定义数据集- gluoncv 0.6.0文档</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">有了GluonCV，我们已经不费吹灰之力就为广泛使用的公共数据集提供了内置支持，例如Prepare…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">胶子-cv.mxnet.io</p></div></div><div class="jp l"><div class="mg l jr js jt jp ju jv jg"/></div></div></a></div><div class="jd je ez fb jf jg"><a href="https://github.com/tzutalin/labelImg.git" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hj fi z dy jl ea eb jm ed ef hh bi translated">佐他林/标签</h2><div class="jn l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">LabelImg是一个图形化的图像注释工具。它是用Python写的，使用Qt作为它的图形界面…</h3></div><div class="jo l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">github.com</p></div></div><div class="jp l"><div class="mh l jr js jt jp ju jv jg"/></div></div></a></div><p id="1778" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给你的图片贴上标签后，确保你的结构是这样的</p><pre class="jw jx jy jz fd lt lu lv lw aw lx bi"><span id="2ca7" class="ko kp hi lu b fi ly lz l ma mb">xxx.zip<br/><em class="mi">    ├── Annotations</em><br/><em class="mi">    │   └── 000001.xml</em><br/><em class="mi">    ├── ImageSets</em><br/><em class="mi">    │   └── Main</em><br/><em class="mi">    │       ├── train.txt<br/>    │       └── val.txt</em></span><span id="919a" class="ko kp hi lu b fi mj lz l ma mb"><em class="mi">    └── JPEGImages</em><br/><em class="mi">        └── 000001.jpg</em></span></pre><p id="30ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了便于训练，您需要准备两个主图像集，这意味着“train.txt”包含用于训练的图像的基本名称，而“val.txt”用于验证</p><p id="dd33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们点击“主页”中的“添加一个”,并通过“创建数据集”页面将我的挖掘数据集上传到服务器</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div class="er es mk"><img src="../Images/9514ac16c6cfcc3c433c16ce1875a85b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*Pi_ft1tmLk_SiWAscXSqCw.jpeg"/></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">创建数据集页面</figcaption></figure><p id="22d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后服务器会自动训练它</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div class="er es ml"><img src="../Images/089c76dd8a2f4d335cd554390a920af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*nHdd8FHVlcW1oenhiEd_mg.jpeg"/></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">数据集详细信息页面</figcaption></figure><p id="5f74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一段时间后，您可以查看平均AP图表</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/24898c3b19af4924433a3625d35dc34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oJJAEJYcOmm_8l7_V70Olw.jpeg"/></div></div></figure><p id="edad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">训练后，训练的类文件和参数将出现在“ease-training/shared-files/params”中</p><pre class="jw jx jy jz fd lt lu lv lw aw lx bi"><span id="cd5c" class="ko kp hi lu b fi ly lz l ma mb">~/ease-training/shared-files/params/digger.zip/yolo3_darknet53_custom# ls<br/>classes.py                                 yolo3_darknet53_custom_best_map.log<br/>yolo3_darknet53_custom_0000_0.0216.params  yolo3_darknet53_custom_best.params<br/>yolo3_darknet53_custom_0010_0.2489.params  yolo3_darknet53_custom_train.log</span></pre><p id="572a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能想修改一些参数，因为训练是一项复杂的任务，所以打开<a class="ae mc" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>并使用root:ease_training登录，这是一个mysql管理员，选择“模型”表并修改参数</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mr"><img src="../Images/8fcec5b9763308f04c6810952e3a6d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMzDcuWRKmxysV9_D9InVQ.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">修改参数的模型表</figcaption></figure><p id="455c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，如果每个<code class="du ms mt mu lu b">docker_cmd</code>中有两个GPU，您可以指定<code class="du ms mt mu lu b">--gpus=0,1</code></p><p id="6f0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参数的含义请参考<a class="ae mc" href="https://github.com/postor/ease-training/blob/master/training/train_yolo3.py" rel="noopener ugc nofollow" target="_blank">https://github . com/postor/ease-training/blob/master/training/training _ yolo 3 . py</a>和<a class="ae mc" href="https://github.com/postor/ease-training/blob/master/training/train_ssd.py" rel="noopener ugc nofollow" target="_blank">https://github . com/postor/ease-training/blob/master/training/training _ SSD . py</a></p><h2 id="b48f" class="ko kp hi bd kq kr ks kt ku kv kw kx ky iq kz la lb iu lc ld le iy lf lg lh li bi translated">发现</h2><p id="7027" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">如果您想用参数检测图像</p><pre class="jw jx jy jz fd lt lu lv lw aw lx bi"><span id="c92b" class="ko kp hi lu b fi ly lz l ma mb">~/ease-training-test# ls test/<br/>11.jpg 12.jpg 17.jpg 1.jpg 7.jpg 9.jpg</span></pre><p id="35b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你需要<code class="du ms mt mu lu b">classes.py</code>和<code class="du ms mt mu lu b">yolo3_darknet53_custom_best.params</code></p><pre class="jw jx jy jz fd lt lu lv lw aw lx bi"><span id="3ccc" class="ko kp hi lu b fi ly lz l ma mb">/ease-training# docker run -it — rm — gpus all -v $(pwd)/shared-files/params/digger.zip/yolo3_mobilenet0.25_custom:/training/parameters -v $(pwd)/../ease-training-test/test:/test -v $(pwd)/result:/result -v $(pwd)/shared-files/params/digger.zip/yolo3_mobilenet0.25_custom/classes.py:/training/classes.py postor/ease-training:predict — model=yolo3_mobilenet0.25 — data-shape=416 — input-folder=/test — output-folder=/result<br/>/test/17.jpg<br/>/test/11.jpg<br/>/test/9.jpg<br/>/test/12.jpg<br/>/test/1.jpg<br/>/test/7.jpg</span></pre><p id="5ce6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在结果文件夹中，您可以看到检测到的对象(当然，如果有一个良好的结果，依赖于训练过程)</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mv"><img src="../Images/fbd17fdeb1dd2eef553c772bbba1d281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_yOBaTzYFEYQS_6Dr_mgHw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">结果图像示例</figcaption></figure><p id="3994" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能想要为您自己的用例修改检测代码，<a class="ae mc" href="https://github.com/postor/ease-training/blob/master/training/predict.py" rel="noopener ugc nofollow" target="_blank">https://github . com/postor/ease-training/blob/master/training/predict . py</a></p><h2 id="8f75" class="ko kp hi bd kq kr ks kt ku kv kw kx ky iq kz la lb iu lc ld le iy lf lg lh li bi translated">额外的</h2><p id="6934" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">如果上传图片和在线标记会很好，并在训练后启动restful API会更好，我知道如何做，但对我来说太多的编码。一个供所有人测试的公共服务器是很棒的，但是我缺乏资金。所以真的希望一些帮助，编码或服务器。</p></div></div>    
</body>
</html>