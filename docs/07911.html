<html>
<head>
<title>Reading and Writing Files in Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python中读写文件。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/reading-and-writing-files-in-python-15d3360640d6?source=collection_archive---------21-----------------------#2020-07-11">https://medium.com/analytics-vidhya/reading-and-writing-files-in-python-15d3360640d6?source=collection_archive---------21-----------------------#2020-07-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="972f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这周我一直在学习Python中的文件处理。作为初学者，这里有一些关于基本文件处理代码的注释。</p><p id="38a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们用Python来创建、读取、更新和删除文件。</p><p id="8363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。阅读</strong></p><p id="cfbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了读取一个文本文件，我们使用open()函数。这个函数有两个参数，文件名和模式。“helloworld.txt”是我们的文件名，因为我们正在读取一个文件，所以我们使用“r”模式。请注意，如果文件夹中不存在该文件，则“r”会给出一个错误。我已经在python文件所在的文件夹中手动创建了一个名为“helloworld.txt”的文本文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/02f468380de0415fb9d6b41576e8f19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*VBHFNaCWPhBWNyTB5Jhx2w.png"/></div></figure><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="aa07" class="jq jr hi jm b fi js jt l ju jv">with open('helloworld.txt', 'r') as text_file:<br/>    contents = text_file.read()<br/>print(contents)</span><span id="1622" class="jq jr hi jm b fi jw jt l ju jv"><br/><strong class="jm hj">output is :</strong></span><span id="c304" class="jq jr hi jm b fi jw jt l ju jv">country,capital, language<br/>France,Paris,French<br/>Italy,Rome,Italian<br/>Canada,Ottawa,English</span></pre><p id="8c18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将文本文件读取为csv文件:</strong>CSV文件(逗号分隔值)是一种包含大量数据的文件。使用称为分隔符(，)的分隔符来分隔数据。分隔符将数据组织成由行和列组成的表格形式。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="8156" class="jq jr hi jm b fi js jt l ju jv">import csv<br/><br/>with open('helloworld.txt') as csv_file:<br/>    csv_reader = csv.reader(csv_file, delimiter=',')<br/>    for data in csv_reader:<br/>        print(data)</span><span id="1dfb" class="jq jr hi jm b fi jw jt l ju jv">output is:<br/>['country', 'capital', ' language']<br/>['France', 'Paris', 'French']<br/>['Italy', 'Rome', 'Italian']<br/>['Canada', 'Ottawa', 'English']</span></pre><p id="e7cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将文本文件“helloworld.txt”另存为csv文件“hello world . CSV”</strong></p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="1e30" class="jq jr hi jm b fi js jt l ju jv">import pandas as pd<br/><br/>read_file = pd.read_csv (r'/home/d/Documents/Python/Files_Handling/helloworld.txt')<br/>read_file.to_csv (r'/home/d/Documents/Python/Files_Handling/helloworld.csv')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/21f6bac9120bd0af977ec89e691d9f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*F4WKCv6DhuzxxpQsA7z8uQ.png"/></div></figure><p id="6666" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">读取csv格式的文本文件，并以Python字典的形式查看csv文件。</strong></p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="90c7" class="jq jr hi jm b fi js jt l ju jv">import csv<br/><br/>with open('helloworld.txt', mode='r') as csv_file:<br/>    csv_reader = csv.DictReader(csv_file)<br/>    for data in csv_reader:<br/>        print(data)</span><span id="9a12" class="jq jr hi jm b fi jw jt l ju jv">output is:<br/>{'country': 'France', 'capital': 'Paris', ' language': 'French'}<br/>{'country': 'Italy', 'capital': 'Rome', ' language': 'Italian'}<br/>{'country': 'Canada', 'capital': 'Ottawa', ' language': 'English'}</span></pre><p id="2a0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将文本文件读取为csv文件，并以数据帧的形式查看csv文件。</strong></p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="19e1" class="jq jr hi jm b fi js jt l ju jv">import pandas as pd<br/><br/>df = pd.read_csv('helloworld.txt')<br/>print(df)</span><span id="f8ce" class="jq jr hi jm b fi jw jt l ju jv">output is:</span><span id="adb3" class="jq jr hi jm b fi jw jt l ju jv">  country capital  language<br/>0  France   Paris    French<br/>1   Italy    Rome   Italian<br/>2  Canada  Ottawa   English</span></pre><p id="c659" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。写入</strong></p><p id="5603" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了写一个文本文件，我们使用open()函数。这个函数有两个参数，文件名和模式。“books.txt”是我们的文件名，因为我们正在写一个文件，所以我们使用“w”模式。创建文件后，我们可以在文件夹中查看它。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="acdf" class="jq jr hi jm b fi js jt l ju jv">with open('books.txt', 'w') as text_file:<br/>    books = 'title, genre, price, \nHarry Potter, Fiction, 10'<br/>    text_file.write(books)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jy"><img src="../Images/ca87bff8d7c068b99541c7abfb536f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:290/format:webp/1*4aHxOiYRanvv7FNxZE9JUg.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/e758e160da6c126c28b22d2604dfdf11.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*AXZcODnjRpCRSJICHPSpVw.png"/></div></figure><p id="cea5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">编写一个csv文件并将值作为python字典传递。</strong></p><p id="3e12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建该文件时，它会以电子表格的形式打开。</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="2f64" class="jq jr hi jm b fi js jt l ju jv"><br/>import csv<br/>field_names = ['name', 'age']<br/>data = [<br/>{'name': 'Sam', 'age': 32},<br/>{'name': 'Kim', 'age': 28},<br/>]<br/>with open('team.csv', 'w+') as csv_file:<br/>    spreadsheet = csv.DictWriter(csv_file, fieldnames=field_names)<br/>    spreadsheet.writeheader()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ka"><img src="../Images/d2bdb241f96acef87c5ce031f74b63a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*lo9mExiunGWxanAq1FI1Tg.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kb"><img src="../Images/d0e3ff555dc6855933879050e9eee6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*WKBD2z40E1T6VztlubwD8Q.png"/></div></figure><p id="52bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">删除</strong></p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="b3a3" class="jq jr hi jm b fi js jt l ju jv">import os<br/>os.remove("books.txt")</span></pre><p id="f715" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。追加:用户输入</strong></p><p id="c643" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先手动创建一个空的todo文件。然后要求用户输入新的待办事项</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="c85d" class="jq jr hi jm b fi js jt l ju jv"><em class="kc"><br/></em>item = input('Add a todo item:')</span><span id="aba9" class="jq jr hi jm b fi jw jt l ju jv"><em class="kc">#Read <br/></em>with open('todo.txt','r')as todo_file:<br/>    todo = todo_file.read()</span><span id="15cc" class="jq jr hi jm b fi jw jt l ju jv"><em class="kc">#Add the new to do item to the existing to-do items<br/></em>todo = todo + item +'\n'</span><span id="e9b8" class="jq jr hi jm b fi jw jt l ju jv"><em class="kc">#Save <br/></em>with open('todo.txt', 'w') as todo_file:<br/>    todo_file.write(todo)</span><span id="8de7" class="jq jr hi jm b fi jw jt l ju jv"><em class="kc">#open </em><strong class="jm hj"><em class="kc"><br/></em></strong>with open('todo.txt','r')as todo_file:<br/>    todo = todo_file.read()<br/>print(todo)</span><span id="da42" class="jq jr hi jm b fi jw jt l ju jv"><strong class="jm hj">output is:</strong></span><span id="e1e7" class="jq jr hi jm b fi jw jt l ju jv">Add a todo item:Prepare Food<br/>Shopping<br/>Study<br/>Go For A Walk<br/>Prepare Food</span></pre><p id="af16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你喜欢阅读我关于文件处理的笔记。谢谢！</p><p id="ae17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">资源:</strong></p><p id="c714" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">W3Schools Online，2020。Python文件处理。[在线]可在:<a class="ae kd" href="https://www.w3schools.com/python/python_file_handling.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/python/python_file_handling.asp</a>[2020年7月10日访问]。</p><p id="dca6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">w3在线学校，2001-2020。CSV文件的读写。[在线]可在:<a class="ae kd" href="https://docs.python.org/3/library/csv.html?highlight=file%20handling" rel="noopener ugc nofollow" target="_blank">https://docs.python.org/3/library/csv.html?找到highlight = file % 20 handling</a>【2020年7月10日访问】。</p></div></div>    
</body>
</html>