<html>
<head>
<title>How to scrape google images and build a deep learning image dataset in 12 lines of code?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何抓取google图片，用12行代码构建深度学习图片数据集？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-scrape-google-images-and-build-a-deep-learning-image-dataset-in-12-lines-of-code-b5472f5b5c6?source=collection_archive---------7-----------------------#2020-10-23">https://medium.com/analytics-vidhya/how-to-scrape-google-images-and-build-a-deep-learning-image-dataset-in-12-lines-of-code-b5472f5b5c6?source=collection_archive---------7-----------------------#2020-10-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="07ef" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用Bing图像搜索API快速创建您自己的数据集！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/17d14bd4a3a8a2afd612592a37566ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ikq28SLaenGZnazG"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹金</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="d5ac" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi kk translated">深度学习和计算机视觉最具挑战性的部分可能是找到合适的数据集来处理。当我在读<strong class="jq hj">杰瑞米·霍华德的Fastai的书【1】</strong>时，他描述了一种用Bing图像搜索API和Fastai收集图像数据集的简单方法。在这篇简短的文章中，我将向您展示如何毫不费力地构建自己的数据集。然后，我将继续描述如何使用Fastai库轻松地从数据集中删除损坏的文件。</p><blockquote class="kt"><p id="8e0f" class="ku kv hi bd kw kx ky kz la lb lc kj dx translated"><strong class="ak">建立数据集比建立复杂的深度学习算法更重要。</strong></p></blockquote><h1 id="ea4a" class="ld le hi bd lf lg lh li lj lk ll lm ln io lo ip lp ir lq is lr iu ls iv lt lu bi translated">1)使用Bing图像搜索API构建您自己的数据集:</h1><p id="06cf" class="pw-post-body-paragraph jo jp hi jq b jr lv ij jt ju lw im jw jx lx jz ka kb ly kd ke kf lz kh ki kj hb bi translated">微软的Bing图片搜索API让你可以使用Bing的认知图片搜索，从网上收集高质量的图片。在本例中，我将使用以下步骤构建一个包含四种不同植物类型的600幅图像的数据集:</p><p id="8ac8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> A) </strong>在<a class="ae jn" href="https://docs.microsoft.com/en-us/azure/cognitive-services/" rel="noopener ugc nofollow" target="_blank">微软页面</a>创建账户。</p><p id="a007" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> B) </strong>从此<a class="ae jn" href="https://azure.microsoft.com/en-us/try/cognitive-services/?api=bing-image-search-api" rel="noopener ugc nofollow" target="_blank">页面获取Bing搜索API的免费访问密钥。</a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/c04dff945f7a5f5559394290ee6f555d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zylp84k-ormEt20FB77WGw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图1:显示如何获取Bing搜索API密钥的屏幕截图</figcaption></figure><p id="55e4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将带你到一个有几个网址和2个API键的页面。复制其中一个密钥，以便在下一步中使用。</p><p id="53fa" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">与任何软件包一样，您需要安装<code class="du mb mc md me b">azure-cognitiveservices-search-imagesearch</code>并导入这些软件包，如下所示。然后，创建一个简单的函数<code class="du mb mc md me b">seach_images_bing</code>,它接受您的键和您想要搜索的词(针对图片)。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="ac6f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，你可以简单地创建一个包含所有你想要搜索的术语的列表。在我的例子中，我使用了4种不同的植物类型。然后，使用函数<code class="du mb mc md me b">search_images_bing</code>，我遍历列表中的术语来创建一个新的4个文件夹，每个文件夹包含每种植物类型的150张图片。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mf mg l"/></div></figure><h2 id="1610" class="mh le hi bd lf mi mj mk lj ml mm mn ln jx mo mp lp kb mq mr lr kf ms mt lt mu bi translated"><strong class="ak">使用</strong> Bing图像搜索API <strong class="ak">收集你自己的数据集是多么容易，但是如何移除损坏的图像呢？</strong></h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/24cf5c0205b58f94a8f5ce07e8f890a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hrkqQSxsw5oarsE5"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@invictar1997?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Soragrit Wongsa </a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="efb5" class="ld le hi bd lf lg lh li lj lk ll lm ln io mw ip lp ir mx is lr iu my iv lt lu bi translated">2)使用Fastai魔法:</h1><p id="e013" class="pw-post-body-paragraph jo jp hi jq b jr lv ij jt ju lw im jw jx lx jz ka kb ly kd ke kf lz kh ki kj hb bi translated">可以使用fastai库中的<code class="du mb mc md me b">get_image_files()</code>从路径中提取图像，然后使用<code class="du mb mc md me b">verify_images()</code>收集损坏的文件。最后，你可以通过在每张图片上使用<code class="du mb mc md me b">unlink</code>来删除所有失败的图片。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mf mg l"/></div></figure><h2 id="1e9e" class="mh le hi bd lf mi mj mk lj ml mm mn ln jx mo mp lp kb mq mr lr kf ms mt lt mu bi translated">现在，你可以开始毫不费力地为计算机视觉创建你自己的数据集。</h2></div><div class="ab cl mz na gp nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hb hc hd he hf"><h2 id="610d" class="mh le hi bd lf mi mj mk lj ml mm mn ln jx mo mp lp kb mq mr lr kf ms mt lt mu bi translated">参考资料:</h2><p id="01ad" class="pw-post-body-paragraph jo jp hi jq b jr lv ij jt ju lw im jw jx lx jz ka kb ly kd ke kf lz kh ki kj hb bi translated">[1]霍华德，j .，&amp;古格，S. (2020)。<em class="ng">Fastai和PyTorch的程序员深度学习:没有博士学位的ai应用</em>(第1版。)</p><p id="dcf5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">注意:所有的代码都在杰瑞米·霍华德的Fastai书中有描述。</p></div></div>    
</body>
</html>