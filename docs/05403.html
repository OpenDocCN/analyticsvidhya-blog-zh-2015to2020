<html>
<head>
<title>ICC Players Info and Scraping their Images (ESPN Data set)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">国际商会球员信息和刮他们的图像(ESPN数据集)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/icc-players-info-and-scraping-their-images-espn-data-set-bc5db6c24cf2?source=collection_archive---------39-----------------------#2020-04-19">https://medium.com/analytics-vidhya/icc-players-info-and-scraping-their-images-espn-data-set-bc5db6c24cf2?source=collection_archive---------39-----------------------#2020-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="993c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">大家好！！</em>T3】</strong></p><blockquote class="je jf jg"><p id="c8b5" class="if ig jd ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">为了充分利用</strong> <a class="ae jk" href="https://www.kaggle.com/veeralakrishna/icc-test-cricket-runs" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> ESPN ICC数据集</strong> </a> <strong class="ih hj"> : </strong>，我们将创建两个函数</p></blockquote><p id="3e50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些功能是:</p><ol class=""><li id="4b61" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated"><strong class="ih hj"> ICC_Players : </strong></li></ol><p id="85b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个函数，当你输入一个不完整的名字，一个单词，甚至一个字母，就会返回这个玩家的所有信息和细节。</p><p id="4994" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj">玩家_图像:</strong></p><p id="f249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该函数将获取ICC_Player函数输出的索引，并将抓取该球员的个人资料页面，并返回其ESPN个人资料页面上的球员图像的url，该页面可通过单击链接或使用图像函数来查看</p><p id="13e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>您可以将这两个函数放在一起，创建一个主函数，但是为了让您更好地理解，我将它们分开创建</p><blockquote class="je jf jg"><p id="26c6" class="if ig jd ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">所以我们走吧，</p></blockquote><p id="8d77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。数据清理&amp;特征工程</strong></p><p id="2719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入必要的库</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div class="er es ju"><img src="../Images/6f635467376e815b392a78f4facaedf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*SieFB4iCDmLJpoDz0QtaOQ.png"/></div></figure><p id="67f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加载数据并查看它</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kc"><img src="../Images/304ba7d744dd6d7b5df4829f56b972a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WPcPDzC5F9NJR8WMo7gSJQ.png"/></div></div></figure><p id="2335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以看到数据集有12列，我们将在第一个函数(即ICC_Players)中使用前11列，最后一列(即球员个人资料)将在第二个函数中使用，在该函数中，我们将抓取球员的个人资料页面以获取他的图像。</p><p id="9d7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查数据类型、空值等。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div class="er es kh"><img src="../Images/5dd192285077f039baf9d60d87cda339.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*yByRLITptTUXbqQaCX7bug.png"/></div></figure><p id="477f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，大多数功能都有错误的数据类型，如Inn，NO，Runs，HS，Avg，100，50和0应该有dtype int，在检查唯一值后，我得出结论，在所有列中都使用了“-”因为它们有对象dtype，所以我用空字符串替换了它，解决了这个问题</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div class="er es ki"><img src="../Images/89f02849ca7bcf43ea6af8c976e2d371.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*WZ8xFzOWVJQrGo1frYWv7w.png"/></div></figure><p id="b9fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将进入下一个问题，即括号和其中的数据，因为它会在搜索球员姓名时产生问题，并使数据看起来有点混乱，所以为了删除它，我用空字符串替换了括号和其中的数据。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kj"><img src="../Images/58d3bdec0e7583f9895584f9c71197d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QhRkVQlrK2Mpt9dFhb_Evg.png"/></div></div></figure><p id="798f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。创建第一个函数:ICC_Players </strong></p><p id="af87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我将函数名定义为ICC_Players，然后我创建了一个变量:name，它将存储在该函数中输入的内容，然后该函数将player列转换为小写，我使用了lambda，然后我们将删除player列中的空格，然后我对包含输入的名称做了同样的两件事，以避免错误、不匹配并获得最佳结果，然后我存储了 变量ind中结果的索引，然后为了打印输出，我使用了数据的副本，使用了获得的索引号。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kk"><img src="../Images/abde0cd5be015e30bbd2e67d12a620ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UfMCU-eLp1TIZETZSL93uA.png"/></div></div></figure><p id="7df9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非常好用。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kl"><img src="../Images/001c228401e2d78e963825f28d349e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VHIQzq6payD4b9t4iumjWA.png"/></div></div></figure><p id="3fc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3 </strong>。<strong class="ih hj">创建第二个函数:Player_Image </strong></p><p id="0e6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将移动到下一个函数，所以最初我们将导入更多的网络抓取所需的库，即BeautifulSoup &amp; requests</p><p id="63da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们将函数名定义为Player_Image，并定义了一个变量:ind，它将存储输入的索引号，然后我将基本url指定为输入的索引号的播放器配置文件链接，然后requests.get将发出删除基本url的请求，然后我提取了整个网页的html并将其存储在var:html中，然后使用lxml解析器对其进行解析，然后我创建了一个名为links_list的空列表，它将 存储链接，然后我在soup变量中使用findall for img标记运行for循环，通过指定link[0]我的意思是我想要第一个图像标记。在分析了页面的html之后，我知道第一个img标记包含球员图像，因此在这之后我提取了包含图像链接的src，并将其存储在变量:src中，然后我将src追加到空列表中，即links_list，并将第一个链接存储到img变量并打印出来。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es km"><img src="../Images/3244fc99ec314910572e71630f2e37fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ilQtrqVCHet9vAI2Q-wd2g.png"/></div></div></figure><p id="4504" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要检查它是否工作，要么你可以点击输出链接，要么你可以使用图像功能来查看jupyter笔记本内的图像，工作非常好。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kn"><img src="../Images/a8ac9a8be4db941842092adcec8ed0db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QxYNq0JyQ7CGL0BMrOuzA.png"/></div></div></figure><p id="cd3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们两个的功能都非常好。</p><p id="e765" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于代码，请查看我的<a class="ae jk" href="https://github.com/harit198/Project-ICC-Players" rel="noopener ugc nofollow" target="_blank"> Git hub库</a></p><blockquote class="je jf jg"><p id="48ba" class="if ig jd ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">坚持学习！！</strong></p></blockquote></div></div>    
</body>
</html>