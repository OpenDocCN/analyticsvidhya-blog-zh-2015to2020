<html>
<head>
<title>Tutorial-2 : How to create cookbook and recipe -Chef</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">教程-2:如何创建食谱和食谱厨师</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/tutorial-2-how-to-create-cookbook-and-recipe-chef-4c6467956d40?source=collection_archive---------17-----------------------#2020-08-23">https://medium.com/analytics-vidhya/tutorial-2-how-to-create-cookbook-and-recipe-chef-4c6467956d40?source=collection_archive---------17-----------------------#2020-08-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5813" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们将创建一个文件使用厨师食谱和食谱。如果你不知道什么是食谱，我推荐你去看看我以前的博客。<a class="ae jd" rel="noopener" href="/@ommore524/chef-tutorial-1-introduction-to-configuration-management-tool-cmt-chef-ff03a4eab5ad">https://medium . com/@ ommore 524/chef-tutorial-1-简介-配置-管理-工具-cmt-chef-ff03a4eab5ad </a>。只需遵循以下步骤:</p><ol class=""><li id="73b7" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">首先，你需要一个安装在机器上的厨师。在我的情况下，我要去AWS linux机器。你也可以使用你的系统。</li></ol><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es jn"><img src="../Images/c7b9ce2cdc545d4a08ddcaa4130d87c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pW_O_si1rgXPTrVsQ2x-Ng.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">图一。Aws实例</figcaption></figure><p id="6133" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2 .去https://downloads.chef.io/products/workstation?os=el的<a class="ae jd" href="https://downloads.chef.io/products/workstation?os=el" rel="noopener ugc nofollow" target="_blank"/>。根据您的系统配置，即操作系统，复制下载链接。在我的例子中，我使用的是AWS linux机器，默认是Red Hat。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kd"><img src="../Images/97722fb6118fcb7999e93481400235c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkzXqEPRpsQijQrBD1F_Fw.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">图2厨师网站</figcaption></figure><p id="1e1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.去linux机器写wget <url/></p><pre class="jo jp jq jr fd ke kf kg kh aw ki bi"><span id="dc28" class="kj kk hi kf b fi kl km l kn ko">wget <a class="ae jd" href="https://packages.chef.io/files/stable/chef-workstation/20.8.125/el/7/chef-workstation-20.8.125-1.el7.x86_64.rpm" rel="noopener ugc nofollow" target="_blank">https://packages.chef.io/files/stable/chef-workstation/20.8.125/el/7/chef-workstation-20.8.125-1.el7.x86_64.rpm</a></span></pre><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kp"><img src="../Images/8edda9ba9d352751d6316d4249c00ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tm7VAj31x3YvSfBLmMhOsw.png"/></div></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">图三。[计] 下载</figcaption></figure><p id="f756" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.使用“ls”安装的包的检查列表。使用命令' yum install <package name="">安装软件包。</package></p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kq"><img src="../Images/ee4775d3b2848a1892f2814820338650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rKFlEBiThPOsRVI-KJobTQ.png"/></div></div></figure><p id="c154" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.安装检查已成功。写命令<strong class="ih hj"> chef - version。</strong></p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kr"><img src="../Images/25444a625ac8c0354ead83dc01b79bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*ivVE2luHgLrHjMT4f3MXrA.png"/></div></figure><p id="37f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.现在，我们将开始创建一本食谱和食谱。整个想法是</p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es ks"><img src="../Images/4b33c615fb10aad16b39c8563a31988c.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*yXtY7_-KOC31Y2KHUPtu9Q.jpeg"/></div></figure><p id="3855" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.制作一本食谱目录。请注意，目录名应该相同。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kt"><img src="../Images/ffd13a1c39a0cd1161b4783985406e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*T14RQDPZ8pLYx673FbwBmg.png"/></div></figure><p id="da6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.进入cookbooks文件夹，使用命令“<strong class="ih hj"><em class="ku">chef generate cookbook test-cookbook</em></strong>”创建一个名为“test-cookbook”的cookbook</p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kv"><img src="../Images/be4c9dca1ab4ee7cd0fc9ab362c2e3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*3RyArpM6cr9Jfu2EN2PEYA.png"/></div></figure><p id="8b95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.现在你已经完成了你的食谱。现在进入test-cookbook文件夹，用命令<strong class="ih hj"><em class="ku">chef generate recipe test-recipe生成一个名为‘test-recipe’的食谱。</em>T15】</strong></p><figure class="jo jp jq jr fd js er es paragraph-image"><div class="er es kw"><img src="../Images/cd5fec3ec12190deac99d2fa7c2b15b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*bfWJgJhD1t5ybCUqioc4pw.png"/></div></figure><p id="5499" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.现在回到cookbooks目录，使用vi命令'<strong class="ih hj"><em class="ku">VI test-cookbook/recipes/test-recipe . Rb</em></strong><em class="ku">'打开一个测试配方文件。</em>键入I作为插入模式，并键入以下行。进入escape并键入<strong class="ih hj"> :wq </strong>从其中出来。</p><pre class="jo jp jq jr fd ke kf kg kh aw ki bi"><span id="47f4" class="kj kk hi kf b fi kl km l kn ko">file ‘/myfile’ do </span><span id="6d8c" class="kj kk hi kf b fi kx km l kn ko">content ‘ welcome to chef ’</span><span id="10d0" class="kj kk hi kf b fi kx km l kn ko">action :create</span><span id="d9f2" class="kj kk hi kf b fi kx km l kn ko">end</span></pre><p id="bc39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.执行命令'<strong class="ih hj"><em class="ku">chef exec ruby-c</em></strong><strong class="ih hj"><em class="ku">test-cookbook/recipes/test-recipe . Rb</em></strong>'检查代码写的是否正确。现在使用<strong class="ih hj"><em class="ku">chef-client-Zr“recipe[test-cookbook::test-recipe]”应用一个食谱。</em> </strong></p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es ky"><img src="../Images/49cabe7695327633b3d29f2e48e27196.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CaL8DoOEFefh8SWL8rIsmg.png"/></div></div></figure><p id="8fb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">12.一旦你应用了代码。您现在可以看到，在根目录中创建了名为myfile的文件。如果您尝试再次应用该命令，它会显示“最新”</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kz"><img src="../Images/eef5e38534fa5e288a86aaf005ce3735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wr3Q0kfBnzPPpQTYAgNNUg.png"/></div></div></figure><p id="6bca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您已经创建了一个简单的食谱和食谱来在系统中创建一个文件。</p></div></div>    
</body>
</html>