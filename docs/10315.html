<html>
<head>
<title>Exploring Residential Noise Complaint Trends in 311 Requests with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python探索311请求中的住宅噪音投诉趋势</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploring-residential-noise-complaint-trends-in-311-requests-with-python-cc3209dd0dfb?source=collection_archive---------11-----------------------#2020-10-13">https://medium.com/analytics-vidhya/exploring-residential-noise-complaint-trends-in-311-requests-with-python-cc3209dd0dfb?source=collection_archive---------11-----------------------#2020-10-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2bbdeaad70132185f0020b55c19fc8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YKpjLpZq7FdQtPgk"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">由<a class="ae iu" href="https://unsplash.com/@ethanbykerk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">伊森·拜克</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="13b6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我将使用Python来探索NYC 311数据集。该数据集可从纽约市OpenData网站获得，其中包含从2020年1月1日至今的所有311个请求。鉴于对这个帖子的兴趣，我将调查2020年10月1日之前提出的所有请求。所有数据集都是通过API查询获取的。</p><p id="b1b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在探索的过程中，我会问一些问题:</p><ol class=""><li id="a550" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">纽约市索赔总数的年度和月度趋势是什么？</li><li id="1152" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">有哪些重要的索赔类型？</li><li id="563e" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">不同类型的索赔是否相关？2020年前？在疫情期间？</li><li id="d43e" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">某些特定的投诉类型，如<code class="du kh ki kj kk b">Residential Noise</code>在空间上是如何分布的？</li></ol><p id="c2d6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将通过推荐对这个数据集的进一步工作来结束这篇文章。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><ol class=""><li id="6e59" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated"><strong class="ix hj">纽约市索赔总数的年度和月度趋势如何？</strong></li></ol><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/1d5ff5b7e01bcd7a0a4d9b26ebc6ea49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KV7_ks0z8SmGFHz-1i9kQ.jpeg"/></div></div></figure><p id="dda8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们从统计每年的请求数量开始。自2012年以来，纽约市的年度索赔数量稳步攀升，而自2010年以来，这一数字曾连续两年下降。这一数字在2018年达到顶峰，每年为2，747，951人，2019年有所下降。过去十年的平均每日请求从2012年的4921次到2018年的7528次不等。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/aebbaa6050a636c779bb1bdf96e04f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3DYo4NM-DVxKza04gaSFg.png"/></div></div></figure><p id="6d3c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">月图有助于分解年度趋势，并认识到一些周期性。总的来说，每月的索赔数量在上升，但是我们看到，在每一年中，每个月的请求数量会季节性地上升和下降。同样明显的是，在2019年下半年，311项请求的数量大幅下降。</p><p id="bd4e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总的来说，在过去的十年里，纽约人提出的索赔越来越多。</p><p id="2e98" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.<strong class="ix hj">在过去十年中，有哪些重要的索赔类型？</strong></p><p id="6d31" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">多年来，311已经接受了100多种类型的索赔，但其中一些是相互包容的，而另一些则在某些时候不再使用。如果某个索赔类型在过去十年中的任何一年中位列最多索赔的前五名，我们将该索赔类型定义为重大索赔。然后我们算出它们这些年的趋势。有些投诉类型相互重复，我们将其归纳为一种投诉类型。例如<code class="du kh ki kj kk b">Heat</code>、<code class="du kh ki kj kk b">HEAT/HOT WATER</code>为<code class="du kh ki kj kk b">heat_hot_water</code>、<code class="du kh ki kj kk b">Plaster - Paint</code>、<code class="du kh ki kj kk b">PLASTER/PAINT</code>为<code class="du kh ki kj kk b">plaster_paint</code>。</p><p id="3dbe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是过去十年中主要投诉类型的趋势:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/c4db87cc366a15af3badb5e521bfcaaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yttbvD3BNxajEkj7coKjTw.png"/></div></div></figure><p id="4649" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有几个发现:</p><ul class=""><li id="0b79" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Heat and/or Hot Water</code>十年来不断做大。</li><li id="7176" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Residential Noise</code>大幅攀升。</li><li id="e2a7" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Illegal Parking</code>和<code class="du kh ki kj kk b">Blocked Driveway</code>好像是同时增加的。</li></ul><p id="38d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">再说，<code class="du kh ki kj kk b">General Construction</code>2014年逐渐闹翻；<code class="du kh ki kj kk b">Plumbing</code>下降相当缓慢；<code class="du kh ki kj kk b">Street Condition</code>有一些起伏；<code class="du kh ki kj kk b">Request Large Bulky Item Collection</code>2017年出来略低于5万，2018年增加到3倍以上，2019年回落到10万左右。</p><p id="3c01" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。不同类型的索赔是否相关？2020年前？在疫情期间？</strong></p><p id="f44c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们希望完成对2010年1月1日至2020年1月1日期间提交的投诉的研究。同样，我们需要选择一些重要的索赔类型，我们希望重新安排重复的类型。我还删除了一些不经常用于分类的投诉类型。我以下面的关联矩阵可视化结束:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/40094670ab8876485fdda1b8079a9cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*snKr8_Tc-h2IsFkJjjck3g.png"/></div></div></figure><p id="7fe0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从图表中，我们看到四组正相关的投诉类型:</p><ul class=""><li id="6425" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Blocked Driveway</code>和<code class="du kh ki kj kk b">Illegal Parking</code>:显然<code class="du kh ki kj kk b">Illegal Parking</code>会诱发<code class="du kh ki kj kk b">Blocked Driveway</code>。</li><li id="6147" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Dying Tree</code>和<code class="du kh ki kj kk b">Overgrown Tree/Branches</code>:也许它们的相关性可以用某些天气事件来解释。</li><li id="4893" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">ELECTRIC</code>、<code class="du kh ki kj kk b">paint_plaster</code>和<code class="du kh ki kj kk b">construction_plumbing</code>:他们之间的关联对我来说并不明显。</li><li id="8170" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Street Noise</code>和<code class="du kh ki kj kk b">Vehicle Noise</code>。</li></ul><p id="ebaf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来我们研究2020年10月1日之前提交的投诉。像我们在上一部分所做的那样清理数据集，我们可以先看一下2020年的重要类型。请注意，自6月以来,<code class="du kh ki kj kk b">Non-compliance with Phased Opening</code>成为一个主要的投诉。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/62f7d44401dcb91646c65e31bff1dd4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7a1JptINnfGmixpBMh3Ww.png"/></div></div></figure><p id="cce7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一些有趣的事情:</p><ul class=""><li id="b820" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated">八月份我们在<code class="du kh ki kj kk b">Damaged Trees</code>上看到了很多311投诉。记得热带风暴伊萨亚斯在8月4日袭击了纽约地区。根据《纽约时报》的这篇文章，“超过250万用户断电，至少一人死亡。”</li><li id="eb9c" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">五月和六月，对<code class="du kh ki kj kk b">Illegal Fireworks</code>的抱怨激增。非法燃放烟花通常发生在6月下旬，此时7月4日越来越近。然而，随着纽约人正在经历的动荡，对烟花的抱怨来得更快。这是纽约时报的另一篇关于今年T3暴涨的文章。</li></ul><p id="a553" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还得到了以下相关矩阵的可视化:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/a258b998408300097adca2a9dca09833.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oi1HhkkqnbvcAW2kc6QR2w.png"/></div></div></figure><p id="e58f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kh ki kj kk b">Illegal Parking</code>仍然与<code class="du kh ki kj kk b">Blocked Driveway</code>有很好的相关性，但是顺从类型之间的相关性模式也有所改变:</p><ul class=""><li id="eb34" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Residential Noise</code>、<code class="du kh ki kj kk b">Street Noise</code>、<code class="du kh ki kj kk b">Vehicle Noise</code>相关性更强。</li><li id="b30b" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated"><code class="du kh ki kj kk b">Non-compliance with Phased Opening</code>和<code class="du kh ki kj kk b">Street Condition</code>表现出相关性。</li></ul><p id="803f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。某些特定的抱怨类型，比如说，</strong> <code class="du kh ki kj kk b"><strong class="ix hj">Residential Noise</strong></code> <strong class="ix hj">，是如何在疫情时间中进行空间分布的？</strong></p><p id="efff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们研究<code class="du kh ki kj kk b">Residential Noise</code>的空间分布之前，我们可能会对它在2020年的趋势与其历史记录相比如何感兴趣。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/23dcf94677e5342bd78adc95e932355c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FIUVRxwyZoyEYmPeN27LCw.png"/></div></div></figure><p id="b5d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">自5月以来，<code class="du kh ki kj kk b">Residential Noise</code>上的投诉量飙升，几乎达到2019年月度投诉量的两倍。6月和7月，这一数字下降了几千，而8月这一数字跃升至50，000以上，并在9月保持不变。可以有把握地得出结论，2020年的趋势是<strong class="ix hj">而不是</strong>自2012年以来持续增长趋势的一部分。</p><p id="cd36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们可以查看2019年和2020年<code class="du kh ki kj kk b">Residential Noise</code>投诉的空间分布情况。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/bd6a08efb7bb43edaf0b79fa068e899c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coVCg_m7QoZ1KtvKg4WBNQ.png"/></div></div></figure><p id="f6e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了创建每个普查区域内投诉数量的choropleth，我们首先在指定的时间范围内查询<code class="du kh ki kj kk b">Residential Noise</code>类别中的所有请求，并使用经度和纬度列将它们编译到geopandas数据帧中。然后，我们在geopandas数据框架和纽约市人口普查区域shapefile之间执行空间连接，计算点的数量，即落入每个区域的投诉实例。纽约市开放数据网站上也有人口普查的信息。</p><p id="c045" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我选择的创建choropleth的分类方案是<code class="du kh ki kj kk b">boxplot</code>。我选择这一个是因为它可以告诉异常值，即投诉数量极高的地方。<code class="du kh ki kj kk b">boxplot</code>方案将数据分为以下几类:</p><ul class=""><li id="835f" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated">低于最小值(异常值)</li><li id="cd1c" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">最低至25%</li><li id="8ee8" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">25%到50%(中间值)</li><li id="3574" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">50%(中位数)到75%</li><li id="0467" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">最大75%</li><li id="e060" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">高于最大值(异常值)</li></ul><p id="1150" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的案例中，第一个类别捕获的值低于最低线是没有意义的，因为在一个区域内没有负的投诉数量。然而，我们要注意最后一个类别，最大值之上的<em class="le">，它用最暗的绿色标记了拥有大量索赔的区域。</em></p><p id="0dc6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是2020年<code class="du kh ki kj kk b">Residential Noise</code>债权的空间分布:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/1d4e750d8e7dff185b94eca22c4e0f3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2rRLeggUXD41UM5EU8xgCQ.png"/></div></div></figure><p id="5997" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这两种植物显示的空间模式而言，它们非常相似。2019年停留在一个类别的地块在2020年大多停留在同一类别，尽管划分每个类别的确切数量已经发生了变化。2019年，纽约市辖区的年度投诉中值为65起，2020年前十个月为82起。这进一步表明<code class="du kh ki kj kk b">Residential Noise</code>在《疫情时报》越来越糟糕。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="b274" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以对这类投诉进行更多的分析:</p><ul class=""><li id="4240" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js ky jz ka kb bi translated">噪音可能不总是坏邻居的结果；也许这栋建筑很旧了。调查噪音投诉的空间分布与具有特定特征的建筑物的空间分布之间是否存在任何相关性。</li><li id="9e3f" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">也许一些社区人口密集，因此产生更多的索赔。调查一些特定街区的人口密度。</li><li id="8c2f" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js ky jz ka kb bi translated">除了空间性，投诉在一天内的分布情况如何？</li></ul></div></div>    
</body>
</html>