<html>
<head>
<title>How I installed CUDA 10.0 for PyTorch in Linux Mint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何在Linux Mint中为PyTorch安装CUDA 10.0</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-i-installed-cuda-10-0-for-pytorch-in-linux-mint-2ce26dd1930f?source=collection_archive---------6-----------------------#2019-09-20">https://medium.com/analytics-vidhya/how-i-installed-cuda-10-0-for-pytorch-in-linux-mint-2ce26dd1930f?source=collection_archive---------6-----------------------#2019-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="09d8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">10分钟内完成安装和验证！</h2></div><p id="43a4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我知道单独安装CUDA确实很麻烦。对于一个对Linux不是那么熟悉的用户来说，设置CUDA的路径真的很麻烦。</p><p id="1d74" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在继续之前，我建议您备份您的数据，因为您永远不知道事情什么时候会变糟，并且鉴于Linux图形堆栈的复杂性质，结果可能会有所不同。</p><h1 id="2791" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">从<code class="du kl km kn ko b">graphics-drivers</code> PPA上安装<code class="du kl km kn ko b">nvidia-driver-410</code></h1><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="75d5" class="kx ju hi ko b fi ky kz l la lb">sudo add-apt-repository ppa:graphics-drivers/ppa<br/>sudo apt-get update<br/>sudo apt-get install nvidia-driver-410</span></pre><p id="d818" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在做一个<code class="du kl km kn ko b">reboot</code>来应用修改。<br/>运行“nvidia-smi”(不带引号)，这将为您提供正确的驱动程序版本— 410.xx，如下所示:</p><figure class="kp kq kr ks fd ld er es paragraph-image"><div class="er es lc"><img src="../Images/230584174e58e698434341c30dc96520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*SVZLQAY0mmps2eoA0AsNpg.png"/></div></figure><h1 id="294c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">使用Local.deb安装CUDA 10.0</h1><p id="009b" class="pw-post-body-paragraph ix iy hi iz b ja lg ij jc jd lh im jf jg li ji jj jk lj jm jn jo lk jq jr js hb bi translated">请注意，安装Cuda 10.0与安装Cuda 9.0和9.2有很大不同，所以不要对两者使用相同的说明。这是严格针对Cuda 10.0的。</p><p id="f188" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下载<a class="ae ll" href="https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=Ubuntu&amp;target_version=1804&amp;target_type=deblocal" rel="noopener ugc nofollow" target="_blank">CUDA。来自官方网站的deb文件</a>。然后，运行下面给出的说明:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="4f6c" class="kx ju hi ko b fi ky kz l la lb">sudo dpkg -i cuda-repo-ubuntu1804–10–0-local-10.0.130–410.48_1.0–1_amd64.deb<br/>sudo apt-key add /var/cuda-repo-10–0-local-10.0.130–410.48/7fa2af80.pub<br/>sudo apt-get update<br/>sudo apt-get install cuda</span></pre><p id="292a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后重新启动系统。将这两行添加到您的~/的底部。bashrc完成安装后配置:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="21dc" class="kx ju hi ko b fi ky kz l la lb"># CUDA Config - ~/.bashrc<br/>export PATH=/usr/local/cuda-10.0/bin:/usr/local/cuda-10.0/NsightCompute-1.0${PATH:+:${PATH}}export LD_LIBRARY_PATH=/usr/local/cuda-10.0/lib64\<br/>                         ${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}</span></pre><p id="e2ca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要应用此更改，请执行以下操作:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="7115" class="kx ju hi ko b fi ky kz l la lb">source ~/.bashrc</span></pre><p id="0e21" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们需要确认我们的CUDA安装已经完成。为此，我们输入以下命令:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="a277" class="kx ju hi ko b fi ky kz l la lb">cd /usr/local/cuda-10.0/samples<br/>sudo make</span></pre><p id="c30d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成后，让我们运行两个测试:</p><ol class=""><li id="51a0" class="lm ln hi iz b ja jb jd je jg lo jk lp jo lq js lr ls lt lu bi translated">设备查询</li></ol><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="0718" class="kx ju hi ko b fi ky kz l la lb">/usr/local/cuda-10.0/samples/bin/x86_64/linux/release/deviceQuery</span></pre><p id="bc12" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您应该会看到类似这样的内容:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="af81" class="kx ju hi ko b fi ky kz l la lb">$ /usr/local/cuda-10.0/samples/bin/x86_64/linux/release/deviceQuery<br/>/usr/local/cuda-10.0/samples/bin/x86_64/linux/release/deviceQuery </span><span id="37e4" class="kx ju hi ko b fi lv kz l la lb">Starting...CUDA Device Query (Runtime API) version (CUDART static linking)</span><span id="fea2" class="kx ju hi ko b fi lv kz l la lb">Detected 1 CUDA Capable device(s)</span></pre><p id="2fca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.matrixMulCUBLAS</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="5b30" class="kx ju hi ko b fi ky kz l la lb">/usr/local/cuda-10.0/samples/bin/x86_64/linux/release/matrixMulCUBLAS</span></pre><p id="1b7d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您应该会看到类似这样的内容:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="3560" class="kx ju hi ko b fi ky kz l la lb">$ /usr/local/cuda-10.0/samples/bin/x86_64/linux/release/matrixMulCUBLAS<br/>[Matrix Multiply CUBLAS] - Starting...</span><span id="b505" class="kx ju hi ko b fi lv kz l la lb">GPU Device 0: "GeForce GTX 1060" with compute capability 6.1GPU </span><span id="7815" class="kx ju hi ko b fi lv kz l la lb">Device 0: "GeForce GTX 1060" with compute capability 6.1<br/></span></pre><p id="b6a2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您甚至可以使用python来检查它:</p><pre class="kp kq kr ks fd kt ko ku kv aw kw bi"><span id="73bf" class="kx ju hi ko b fi ky kz l la lb">import torch</span><span id="a6b2" class="kx ju hi ko b fi lv kz l la lb">torch.cuda.is_available()</span></pre><p id="c120" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它应该返回“真”</p><figure class="kp kq kr ks fd ld er es paragraph-image"><div class="er es lw"><img src="../Images/e5649ab1c30a4f7492c1f0ca7a9cce8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*0YfEkIWfNRQ_ESYObOYkoA.png"/></div></figure><p id="d6a7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，我就是这样在Linux Mint中为Pytorch安装Cuda的。</p></div></div>    
</body>
</html>