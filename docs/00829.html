<html>
<head>
<title>A few data wrangling Jupyter hacks!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一些数据争论Jupyter黑客！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-few-data-wrangling-jupyter-hacks-71d614b7265d?source=collection_archive---------9-----------------------#2019-09-11">https://medium.com/analytics-vidhya/a-few-data-wrangling-jupyter-hacks-71d614b7265d?source=collection_archive---------9-----------------------#2019-09-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/7b4e4850e2e244c3cd730a03a430fe92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/0*fltwSq9yBDMfbG7R.jpg"/></div></figure><p id="bcd9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这些天来，Jupyter是我的首选工具，因为我从数据沼泽、池塘和湖泊中获取数据。似乎数据习惯于停留在不确定的地方。等待有人来拯救它。朱庇特是我的马，熊猫是我的套索，PDB是我的温彻斯特1886！</p><ol class=""><li id="a7eb" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj"> Jupyter实验室</strong></li></ol><p id="1ed8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我开始使用Jupyter的Jupyter实验室端口。它有一个稍微好一点的UI/UX，更适合我的工作负载。试试看，它非常容易安装，也可以与常规Jupyter笔记本并排工作。定制程度较低，或者与最新版本不兼容。但是易用性弥补了这一点。要安装，只需运行以下命令</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="2a0d" class="kc kd hi jy b fi ke kf l kg kh">pip install jupyterlab --upgrade</span></pre><p id="565b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要使用它，只需运行以下命令</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="b849" class="kc kd hi jy b fi ke kf l kg kh">jupyter lab</span></pre><p id="6ce2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你把大部分工作时间都花在看笔记本上的话，你会得到一个像这样的普通笔记本，使用深色主题会让你看起来很舒服。如果你愿意，也可以添加其他内核，比如JavaScript、Kotlin或Julia。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es ki"><img src="../Images/3d5258e4321166b23c1fc5c308a52a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pf5_scHAPdoSGwkeTgifjQ.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">Jupyter实验室起始页</figcaption></figure><p id="8277" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">字体设置有点绕弯，因为一些字体改变扩展像这里描述的<a class="ae kr" href="https://github.com/deathbeds/jupyterlab-fonts#readme" rel="noopener ugc nofollow" target="_blank"/>已经停止与最新的Jupyter实验室合作。我喜欢使用一些很酷的字体，比如<a class="ae kr" href="https://github.com/tonsky/FiraCode" rel="noopener ugc nofollow" target="_blank"> Fira Code </a>或者<a class="ae kr" href="https://www.fontsquirrel.com/fonts/courier-prime" rel="noopener ugc nofollow" target="_blank"> Courier Prime </a>，这些都是我最近常用的字体。要进行设置，您需要修改设置，并从菜单&gt;设置&gt;笔记本中进行以下更改，更新用户首选项部分，并添加字体系列和大小，假设您在标准位置安装了字体。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es ks"><img src="../Images/352dc3b6181de803a21d2bcb0fb732b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ht3d9aP8ihbaA1Aj_JgzAw.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">为Jupyter实验室设置大小为15的Fira代码</figcaption></figure><p id="25bf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">2.<strong class="io hj"> PDB </strong></p><p id="a47b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用Jupyter的PDB (Python调试器)再简单不过了。在运行您想要运行的代码/函数/方法之前，只需在任意单元格中键入以下内容，即可启用异常时的<strong class="io hj"> <em class="kt">中断</em> </strong>:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="7878" class="kc kd hi jy b fi ke kf l kg kh">%pdb on</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es ku"><img src="../Images/561502db78e1dbf026ba884c5f375b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7bk92B1daLCK8-FFvVrFQ.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">使PDB能够在例外情况下中断</figcaption></figure><p id="657f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当代码运行时，当遇到任何异常时，它会将您直接引入调试器。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es kv"><img src="../Images/11ea389187d63d198406efc505d1dad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFERAq1hKyTcRU6HTSQJfg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">遇到异常后的PDB外壳</figcaption></figure><p id="be2f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">调试器看起来并不像所有的调试器一样漂亮。我认为调试器没有得到太多的爱，比如没有成员名或方法的自动完成，所以有点令人沮丧，但肯定比打印调试更令人沮丧。尽管f-strings使得通过打印进行调试变得更加容易。但是没有什么能打败真正的调试器。</p><p id="1f9d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦进入调试器，就可以使用通常的单步执行(s)、单步下一步(n)、返回(r)、继续(c)、上一帧(u)、下一帧(u)，详情<a class="ae kr" href="https://docs.python.org/3/library/pdb.html#debugger-commands" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="72bd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">只要确保在使用后关闭它，否则每一个微小的异常都会使代码停止。要关闭它，只要输入这个</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="e810" class="kc kd hi jy b fi ke kf l kg kh">%pdb off</span></pre><p id="a4ab" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">3.<strong class="io hj">断点</strong></p><p id="8159" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">例如，您可以在Jupyter笔记本中运行调试器，如Redis或Celery队列任务或其他基于事件的代码。插入断点会让你直接进入python调试器。您可以加快修复速度，比打印语句快得多，不管是不是f字符串！</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/97416eb63dfd88bfe2ceb886976503ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*cGs-GNUuIwpsbYU9UZuP3w.png"/></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">这个片段来自PyCharm，主题为运行Monokai Pro的材质</figcaption></figure><p id="36ff" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">4.<strong class="io hj">摆</strong></p><p id="9876" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">钟摆是一个日期和时间操作库。它提供了一些有用的功能，比如在给定时间戳的情况下查找一周、一月或一年的开始日期。使用以下命令从pip安装它:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="449c" class="kc kd hi jy b fi ke kf l kg kh">pip3 install pendulum --upgrade</span></pre><p id="4cea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">像这样使用它，更多细节在<a class="ae kr" href="https://pendulum.eustace.io/docs/" rel="noopener ugc nofollow" target="_blank">这里</a></p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/e854d671bd69b661c9a7a23aafd3b486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*qgxR3z_QtpHHk5fEXRiYzw.png"/></div></figure><p id="63e0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">5.<strong class="io hj">日期</strong></p><p id="e991" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Dateutil是另一个非常棒的日期和时间操作库。它可以解析任何类型的时间戳，而不必指定格式，太酷了！使用以下命令从PyPI安装它</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="0436" class="kc kd hi jy b fi ke kf l kg kh">pip3 install python-dateutil --upgrade</span></pre><p id="7599" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">像这样使用它，几乎可以处理任何字符串格式的时间戳。更多详情<a class="ae kr" href="https://dateutil.readthedocs.io/en/stable/index.html" rel="noopener ugc nofollow" target="_blank">此处</a></p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="er es ky"><img src="../Images/1945de6574b2a2451b848e5296837c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eS3qxTavYr7SuU5ipxrFlg.png"/></div></div></figure><p id="28c3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我看来，结合datetime、dateutil和pendulum，您可以处理python中几乎任何与日期相关的操作。</p><p id="156f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">6.<strong class="io hj"> pygsheet </strong></p><p id="0cc5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">pygsheets允许从python代码中访问Google Sheets。你可以把一个熊猫数据帧写到一张纸上或者从纸上读取。访问任何特定的单元格，并读取或更新其内容或公式。这是一个非常棒的工具，它让我有机会以一种非数据科学爱好者也能使用的方式展示数据。像这样安装它</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="6249" class="kc kd hi jy b fi ke kf l kg kh">pip3 install pygsheets --upgrade</span></pre><p id="df72" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">设置google服务账户是一个简短但重要的任务。但是GitHub上的说明很容易理解<a class="ae kr" href="https://pygsheets.readthedocs.io/en/latest/authorization.html" rel="noopener ugc nofollow" target="_blank">这里的</a>和<a class="ae kr" href="https://github.com/nithinmurali/pygsheets" rel="noopener ugc nofollow" target="_blank"> GitHub页面</a>中的例子也非常有用</p><p id="4adc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">7.<strong class="io hj">石墨烯</strong></p><p id="228a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">graphene是一个python库，让您的flask服务器处理GraphQL请求。详情在此<a class="ae kr" href="https://www.agiliq.com/blog/2019/08/getting-started-with-python-graphene/" rel="noopener ugc nofollow" target="_blank"/>。您可以从PyPI安装它</p><p id="54b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你不知道GraphQL是什么，那么你应该了解一下。如果你是一个视频爱好者，那么这是一个关于GraphQL的故事以及它如何在脸书总部首次亮相的好视频</p><p id="4ca9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当您在已经构建的应用程序之上构建应用程序时，GraphQL非常有用。数据库访问很好，但是当大量数据通过网络传输时，GraphQL更好，而且更节省空间。</p></div></div>    
</body>
</html>