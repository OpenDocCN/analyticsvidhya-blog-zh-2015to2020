<html>
<head>
<title>Java 14 Exciting New Features</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 14激动人心的新特性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/java-14-exciting-new-features-bcb82c321d26?source=collection_archive---------23-----------------------#2020-03-29">https://medium.com/analytics-vidhya/java-14-exciting-new-features-bcb82c321d26?source=collection_archive---------23-----------------------#2020-03-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="58a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java 14有16个JDK增强提案(jep)</p><p id="0c5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将研究一些重要的问题。</p><blockquote class="jd je jf"><p id="29ca" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">开关表达式:</strong></p></blockquote><p id="a586" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">切换表达式是JDK 12和13的预览版，现在是版本14的标准功能。<br/>这个特性有助于将java中的大小写转换为语句或表达式，减少了代码量和冗长性。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/6733a01a63d9dd1a8ab2f8da406a0ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0K4SLNZNXpOE7DCW7Z5W7A.png"/></div></div></figure><blockquote class="jd je jf"><p id="cc8f" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">有用的空指针异常</strong></p></blockquote><p id="e89f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">NullPointerExceptions是java中常见异常类型，通过查看日志或堆栈跟踪(尤其是在生产环境中)很难理解它们。<br/>以前的版本只指定了发生NullPointerException的文件名和行号。Java 14引入了这个新的JVM特性，它通过描述性消息准确地告诉我们哪个变量或对象为空。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jw"><img src="../Images/45e5809f8535a002f61d1a1cd6bf29a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OmKFCfz1jvZM121EjQ1HPQ.png"/></div></div></figure><blockquote class="jd je jf"><p id="b311" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">用于</strong>实例的模式匹配</p></blockquote><p id="d339" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java 14引入了一个预览特性，有助于消除检查的条件实例中存在的显式强制转换的需要。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jx"><img src="../Images/181fa8808b2e509a1eb3fbb1264cd73c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vcfa8yUF06_z1FJx1eg63A.png"/></div></div></figure><blockquote class="jd je jf"><p id="8e0c" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">文本块</p></blockquote><p id="3014" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文本块是Java 13中的预览特性，这是Java 14中的第二个预览。</p><p id="6973" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文本块使得处理多行字符串文字更加容易。</p><p id="c545" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它有助于使用三个引号编写更加优雅和简洁的代码，这对于在java类中创建HTML、JSON、SQL查询字符串非常有用。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jy"><img src="../Images/003e61c703cd58fc4ab9eb4bcbe299b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSExrCxaDH3FKkjcDMElQA.png"/></div></div></figure><p id="00fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java 14在文本块中引入了两个新的转义序列。</p><p id="2a86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过文本块中的\(反斜杠)转义序列，它禁止在行尾插入新的行字符。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jz"><img src="../Images/aecde52682ad3cc93717772bbc2ac8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Q2TOZlfpjMpUEbXuCQOTg.png"/></div></div></figure><p id="5ad2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">New \s是指单个空格，它保留它之前的所有空格。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ka"><img src="../Images/ffff18fe12c864c925875b946fc472d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*xU2Etcrc9pSQiNt43xLPNw.png"/></div></figure><blockquote class="jd je jf"><p id="8b98" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">记录</p></blockquote><p id="6d77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记录有助于创建纯数据类。</p><p id="b4c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些类只保存数据，没有任何自定义行为。</p><p id="a094" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常在java类中，我们有很多模板代码，比如equals、hashcode、toString、accessors、constructor等方法。</p><p id="c778" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数ide提供了自动生成它们的方法，但是代码仍然变得冗长。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jy"><img src="../Images/02319c040a29d784a938bf07f45a6c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6SmWF8c8Ez63Nu_rlpubRg.png"/></div></div></figure><p id="708e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java编译器会自动生成构造函数、私有final字段、访问器、equals、hashcode、toString方法。</p><p id="8884" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记录的字段被标记为final，所以它们不能被重新分配，但这并不意味着类是不可变的。存储在内部的引用或对象可以被变异。</p><blockquote class="jd je jf"><p id="a521" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">包装工具(培养箱)</p></blockquote><p id="6a21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打包工具帮助将java应用程序打包到一个特定于平台的包中，该包包含应用程序所需的所有必要依赖项。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kb"><img src="../Images/9fbaf0a2ec20b62102eb59779eca5cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_71d1HoxYHb5o_VAxNnoiQ.png"/></div></div></figure><p id="a99b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，jpackage工具为应用程序创建一个简单的本地启动器。</p><p id="a5e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以用选项--参数-- Java选项定制默认的启动器。</p><p id="e62d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打包应用程序前的jpackage创建包含应用程序映像和将运行应用程序的JDK运行时映像的应用程序映像。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/12e6d7e4b09f333e238deed0750a7994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMCXiJ-8rLI-O0R63OJ_uA.png"/></div></div></figure><blockquote class="jd je jf"><p id="c874" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">JFR (JDK飞行记录器)事件流</p></blockquote><p id="e8d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Java 14为进程内和进程外应用程序引入了一个持续消耗磁盘上JFR数据的API。</p><p id="97a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">HotSpot VM使用JFR发出500多个数据点，除了解析日志文件之外，大多数数据点无法通过其他方式获得。</p><p id="2034" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，要使用数据，用户必须开始记录、停止记录、将内容转储到磁盘，然后通过除解析日志文件之外的其他方式解析记录文件。</p><p id="6f7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这有利于应用程序分析，但不利于监控，因为监控仪表板需要显示数据的连续动态更新。</p><p id="9c4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">模块jdk.jfr中的包jdk.jfr.consumer扩展了异步订阅事件的功能。用户可以直接从磁盘库中读取记录数据，而无需转储记录文件。</p><blockquote class="jd je jf"><p id="afed" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">G1的NUMA感知内存分配</strong></p></blockquote><p id="d0ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">提高G1垃圾收集器在非统一内存访问(NUMA)系统上的整体性能。</p><blockquote class="jd je jf"><p id="b044" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">非易失映射字节缓冲器</strong></p></blockquote><p id="a7fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用非易失性内存时，为JDK添加文件映射模式。</p><blockquote class="jd je jf"><p id="35ae" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><strong class="ih hj">外来记忆存取(FMA) </strong>(孵化器)</p></blockquote><p id="e07b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">提供了一个应用程序编程接口，顾名思义，它允许Java程序安全地与其虚拟机堆之外的内存进行通信。</p><p id="2dd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢！</p></div></div>    
</body>
</html>