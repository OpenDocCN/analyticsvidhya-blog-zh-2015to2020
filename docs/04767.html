<html>
<head>
<title>Natural Language Processing using spaCy in Python(part-1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python中的空间进行自然语言处理(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/natural-language-processing-using-spacy-in-python-part-1-ac1bc4ad2b9c?source=collection_archive---------2-----------------------#2020-03-31">https://medium.com/analytics-vidhya/natural-language-processing-using-spacy-in-python-part-1-ac1bc4ad2b9c?source=collection_archive---------2-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/18fc294dc7e3c4a3a9535b83451f101b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6jDP1YC1BU3o7UnICGp5tQ.png"/></div></div></figure><p id="8bfc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博客文章向你简要介绍了python中用于NLP的python库空间。</p><p id="c8b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章包括各种预处理和特征提取技术，使用python编写的开源NLP库spaCy和用于高级自然语言处理的cython。</p><p id="568d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在将你的数据输入机器学习算法之前，我们需要处理数据，以便机器学习算法能够理解。</p><p id="c00b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在直接进入NLP之前，重要的是要知道…..</p><h1 id="fd48" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">什么是文本分析？</strong></h1><p id="8507" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">文本分析是从文本中收集有用信息的技术。文本分析的目的是从自由文本内容中创建<strong class="is hj"> <em class="kr">结构化数据</em> </strong>。文本分析与文本挖掘、文本分析和信息提取<strong class="is hj"> <em class="kr"> (IE) </em> </strong>等其他术语很接近。</p><p id="2c93" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">垃圾入，垃圾出(GIGO) </strong></p><p id="38ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GIGO是处理机器学习的一个重要方面，在处理文本数据时更是如此。垃圾入，垃圾出意味着，<strong class="is hj"> <em class="kr">如果我们的数据格式不佳，我们的结果很可能会很差</em> </strong> <em class="kr">。</em></p><p id="48a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多的数据通常会导致更好的预测，但对于文本分析来说并不总是如此，因为更多的数据可能会导致无意义的结果。例如<em class="kr">停用词</em>，这些词通常会在应用文本分析之前从文本中移除。以类似的方式，我们删除文本主体中出现频率高的单词和只出现一两次的单词——这些单词很可能对文本分析没有用。</p><p id="9377" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自然语言处理技术还可以帮助我们构造工具，这些工具可以帮助个人商业或企业，例如:聊天机器人在主要网站上越来越常见。这在很大程度上是由于<strong class="is hj">机器学习</strong>的子领域，称为<strong class="is hj">深度</strong> <strong class="is hj">学习</strong>，在那里我们使用了受人类大脑结构启发的算法和结构。这些算法和结构被称为<strong class="is hj">神经</strong> <strong class="is hj">网络</strong>。</p><p id="9088" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SpaCy也是python中最快的NLP框架之一。</p><p id="78ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用以下命令安装spaCy:</p><blockquote class="ks kt ku"><p id="c245" class="iq ir kr is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated">pip3安装空间</p></blockquote><h1 id="5e63" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">斯帕西的语言模型</strong></h1><p id="3be2" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">spaCy最有趣的特性之一是它的语言模型。语言模型是一个统计模型，让我们执行自然语言处理任务，如词性标注和NER标注。</p><p id="9562" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用以下方式下载这些模型:</p><blockquote class="ks kt ku"><p id="7489" class="iq ir kr is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated">spacy下载英语模型</p><p id="c907" class="iq ir kr is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated">spacy下载德#德模型</p><p id="14db" class="iq ir kr is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated">spacy下载xx #多语言模型</p></blockquote><p id="dee8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为您的空间安装下载特定型号:</p><blockquote class="ks kt ku"><p id="ac8f" class="iq ir kr is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated">python3 -m空间下载</p></blockquote><p id="ca71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Python shell中运行以下命令:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="3f2a" class="lh jp hi ld b fi li lj l lk ll">import spacy<br/>nlp = spacy.load(‘en_core_web_sm’)</span><span id="a4e5" class="lh jp hi ld b fi lm lj l lk ll">doc = nlp('This is nlp with spaCy')</span></pre><p id="9e7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用spaCy的语言模型来帮助我们进行预处理。在进入预处理步骤之前，让我们了解一下当您运行以下命令时会发生什么:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="5133" class="lh jp hi ld b fi li lj l lk ll">doc = nlp('This is nlp with spaCy')</span></pre><p id="3198" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您对文本调用NLP时，spaCy首先对文本进行标记，以产生一个<strong class="is hj"> Doc </strong>对象。然后，Doc在几个不同的步骤中被处理，我们也称之为流水线。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/ec1435081fa2877a435c95b31ba5f378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*gP6Hm4OIjWwMz2rVHTaWJQ.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图默认管道</figcaption></figure><p id="67c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">标记化是将句子分割成有意义的片段的任务，称为<strong class="is hj">标记</strong>。这些片段可以是单词、标点符号、数字或其他构成句子的特殊字符。</p><p id="ce35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SpaCy的默认管道也执行基于规则的匹配。这用更多的信息注释了文本，并在预处理过程中增加了价值。</p><p id="e43f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">预处理:</strong></p><p id="9440" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了spaCy，停用词就容易识别了，每个令牌都有IS_STOP属性，让我们知道这个词是不是停用词。</p><p id="cee7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以将停用词添加到停用词列表中。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="9b4f" class="lh jp hi ld b fi li lj l lk ll">stop_words = ['say', 'said', 'it', 'an', 'none', 'all', 'saying']<br/>for stopwords in stop_words:<br/>  lexeme = nlp.vocab[stopwords]<br/>  lexeme.is_stop = True</span></pre><p id="baf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也可以使用以下方式添加停用词:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="b213" class="lh jp hi ld b fi li lj l lk ll">from spacy.lang.en.stop_words import STOP_WORDS<br/>print(STOP_WORDS) # SpaCy's default stop words<br/>STOP_WORDS.add("your_additional_stopwords_here")</span></pre><p id="6827" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你注意到<em class="kr">说，说，说</em>提供了相同的信息——除了语法上的不同，它不会影响结果。</p><p id="54ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">词干化和词汇化是流行的技术。<strong class="is hj">词干</strong>一般涉及去除后缀。但往往会产生无意义的文字。例如从<strong class="is hj">中去掉后缀懒惰</strong>会导致<strong class="is hj">懒惰</strong>，它不依赖于词性。另一方面，术语化有助于将单词转化为词根<strong class="is hj">。</strong></p><p id="cc73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在spacy中，单词的词汇化形式是用。<strong class="is hj"> <em class="kr">引理_ </em> </strong>属性。</p><p id="ab5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们检查句子“<em class="kr">全球紧急情况下的实时培训对于有效的准备和响应至关重要。</em>”:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="de77" class="lh jp hi ld b fi li lj l lk ll">doc = nlp(‘Real-time training during global emergencies is critical for effective preparedness and response. ‘)</span><span id="b5c2" class="lh jp hi ld b fi lm lj l lk ll">sentence = []</span><span id="d808" class="lh jp hi ld b fi lm lj l lk ll">for w in doc:</span><span id="a4ce" class="lh jp hi ld b fi lm lj l lk ll">  # if it’s not a stop word or punctuation mark, add it to our     article!</span><span id="5d00" class="lh jp hi ld b fi lm lj l lk ll">  if w.text != ’n’ and not w.is_stop and not w.is_punct and not   w.like_num:</span><span id="8e7e" class="lh jp hi ld b fi lm lj l lk ll">    # we add the lemmatized version of the word</span><span id="3d5d" class="lh jp hi ld b fi lm lj l lk ll">    sentence.append(w.lemma_)</span><span id="2fcd" class="lh jp hi ld b fi lm lj l lk ll">print(sentence)</span></pre><p id="c309" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过使用。is_stop，is_punct，和<strong class="is hj"> w.like_num </strong>属性，我们可以删除句子中我们不需要的部分。</p><p id="5744" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出将是:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="d059" class="lh jp hi ld b fi li lj l lk ll">['real', 'time', 'training', 'global', 'emergency', 'critical', 'effective', 'preparedness', 'response']</span></pre><p id="437b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以根据用例进一步删除或不删除单词。</p><h2 id="9cd4" class="lh jp hi bd jq ls lt lu ju lv lw lx jy jb ly lz kc jf ma mb kg jj mc md kk me bi translated"><strong class="ak">向量化文本、转换和n元语法</strong></h2><p id="cd78" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我们可以将<strong class="is hj"> <em class="kr">向量</em> </strong>视为一种将单词投射到数学空间的方式，同时保留这些单词所提供的信息。在机器学习中，这个特征被称为<strong class="is hj"> <em class="kr">特征向量</em> </strong>，因为每个值对应于一些用于进行预测的特征。</p><p id="c077" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些矢量表示的一些概念是…</p><p id="3f95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">文字袋(蝴蝶结)</strong></p><p id="5e46" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是将句子表示为向量的一种直接形式。例如:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="442e" class="lh jp hi ld b fi li lj l lk ll">P1: “The dog sat near the door.”<br/>P2: ”The bird likes grains.”</span></pre><p id="4dc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按照上面提到的相同预处理步骤，上面的句子变成:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="dc8d" class="lh jp hi ld b fi li lj l lk ll">P1: “dog sat near door.”</span><span id="b736" class="lh jp hi ld b fi lm lj l lk ll">P2: “birds like grains.”</span></pre><p id="2263" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">词汇向量是句子中唯一的单词。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="35a0" class="lh jp hi ld b fi li lj l lk ll">vocab = [‘dog’, ‘sat’, ‘near’, ‘door’, ‘birds', 'like', 'grains']</span></pre><p id="3e8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以考虑将词汇表中的每个单词映射成一个数字。</p><p id="e92a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> BOW </strong>模型使用词频来构造向量。现在我们的句子看起来像..</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="b725" class="lh jp hi ld b fi li lj l lk ll">P1: [1, 1, 1, 1, 0, 0, 0]<br/>P2: [0, 0, 0, 0, 1, 1, 1]</span></pre><p id="54b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在第一句中，单词<em class="kr">狗</em>出现1次，单词<em class="kr">鸟</em>出现0次，以此类推。</p><h1 id="6788" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">TF-IDF</h1><p id="b180" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated"><strong class="is hj"> <em class="kr">词频</em>和<em class="kr">逆文档词频</em> </strong> <em class="kr"> </em>主要用于搜索引擎根据查询找到相关文档。想象你有一个搜索引擎，有人在寻找<em class="kr"> Ronoldo </em>。结果将按相关性顺序显示。最相关的体育文章的排名会更高，因为TF-IDF给了单词<em class="kr"> Ronoldo </em>更高的分数。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="a5c9" class="lh jp hi ld b fi li lj l lk ll">TF(t) = (number of times term t appears in a document) / (total    number of terms in the document)</span><span id="468a" class="lh jp hi ld b fi lm lj l lk ll">IDF(t) = log_e (total number of documents / number of documents with term t in it)</span></pre><p id="92a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TF_IDF就是TF和IDF这两个因子的乘积。</p><p id="501f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TF_IDF使罕见的单词更突出，并忽略常见的单词，如is、or、an，这些单词可能出现很多次，但可能不太突出。</p><p id="c52f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> N-grams </strong></p><p id="56d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">n元语法是文本中n个元素的相邻序列。</p><p id="92b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">二元语法是最流行的n元语法之一。在对你的语料库运行二元模型之前，移除停用词是必要的，否则可能会形成无意义的二元模型<strong class="is hj"/>。</p><p id="f862" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如:机器学习、人工智能、新德里、数据分析、大数据可能是由二元语法创造的词对。</p><p id="92cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想了解更多关于n-grams的知识，请参考链接(<a class="ae mf" href="https://en.wikipedia.org/wiki/N-gram" rel="noopener ugc nofollow" target="_blank"> ngrams </a>)。</p><h1 id="0640" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">位置标记</strong></h1><p id="f2de" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">词性标注是在文本输入中用适当的词性标注单词的过程。</p><p id="ab54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">带空格的位置标记</strong></p><p id="99c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是载入管道的核心特性之一。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="c355" class="lh jp hi ld b fi li lj l lk ll">import spacy<br/>nlp = spacy.load('en_core_web_sm')</span><span id="499f" class="lh jp hi ld b fi lm lj l lk ll">sent1 = nlp('Washing your hands with soap and water or using alcohol-based hand rub kills viruses that may be on your hands.')</span><span id="86f5" class="lh jp hi ld b fi lm lj l lk ll">sent2 = nlp('Antibiotics do not help, as they do not work against viruses.')</span><span id="882e" class="lh jp hi ld b fi lm lj l lk ll">sent3 = nlp(u'Marie took out her rather suspicious and fishy cat to gofish for fish.')</span><span id="4649" class="lh jp hi ld b fi lm lj l lk ll">for token in sent2:<br/>  print(token.text, token.pos_, token.tag_)</span></pre><p id="f6f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="b318" class="lh jp hi ld b fi li lj l lk ll">Antibiotics NOUN NNS<br/>do AUX VBP <br/>not PART RB <br/>help VERB VB <br/>, PUNCT , <br/>as SCONJ IN <br/>they PRON PRP <br/>do AUX VBP <br/>not PART RB <br/>work VERB VB <br/>against ADP IN <br/>viruses NOUN NNS <br/>. PUNCT .</span></pre><p id="090d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如你所看到的，这些单词被标注了适当的词性。</p><p id="d061" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重要的一点是，根据上下文，有些词既可以是名词也可以是动词。请尝试用一个词在一个句子中充当名词，在另一个句子中充当动词的句子，并检查它们是否标有适当的词性。比如说。玛丽拿出她那只相当可疑的猫去抓鱼。</p><p id="08d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想训练自己的贴牌员，请点击下面的链接。</p><p id="167b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae mf" href="https://spacy.io/usage/training" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">训练空间的统计模型</strong> </a> <strong class="is hj">。</strong></p><h1 id="270f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> NER标签</strong></h1><p id="1af0" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">NER是命名实体识别。命名实体是具有适当名称的真实世界对象——例如印度、Sunil Chetri、谷歌，这里印度是一个国家，被标识为<strong class="is hj"> GPE </strong>(地缘政治实体)，Sunil Chetri是<strong class="is hj"> PER </strong>(人)，谷歌是<strong class="is hj"> ORG </strong>(组织)。</p><p id="3cbc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个过程包括从文本块中找到命名的实体(人、地点、组织等),并将它们分类到预定义的类别集中。</p><p id="2ea9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SpaCy本身提供了某些预定义的实体集合。NER标记不是最终结果，它最终有助于进一步的任务。</p><p id="ef25" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">新德里是印度的首都。New塔格会承认新德里是印度的一部分，GPE也是印度的一部分。命名实体可以根据上下文而有所不同。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="c441" class="lh jp hi ld b fi li lj l lk ll">import spacy<br/>nlp = spacy.load('en_core_web_sm')<br/>sentence = 'Uber eats India was acquired by Zomato for $350 million'</span><span id="af41" class="lh jp hi ld b fi lm lj l lk ll">doc = nlp(sentence)</span><span id="f8cb" class="lh jp hi ld b fi lm lj l lk ll">for token in doc:<br/>  print(token.text, token.ent_type_)</span></pre><p id="6d7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="cfd8" class="lh jp hi ld b fi li lj l lk ll">Uber<br/>eats<br/>India GPE<br/>was<br/>acquired<br/>by<br/>Zomato ORG<br/>for<br/>$ MONEY<br/>350 MONEY<br/>million MONEY</span></pre><p id="5aab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于那些没有被识别为命名实体的单词，返回一个空字符串。例如，在上面的输出中，<em class="kr"> eats，acquired </em> dosent引用特定的实体。</p><p id="46aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以使用displaCy来可视化我们的文本，</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="683b" class="lh jp hi ld b fi li lj l lk ll">displacy.render(doc, style = "ent",jupyter = True)</span></pre><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/08806bc4578746a98d72093d4c906593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7P6RA-VnBg80wPQ93_kmg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图5显示词类标签</figcaption></figure><h1 id="9447" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">依存解析</strong></h1><p id="d2a7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated"><em class="kr">解析</em>可以理解为对一个句子进行分析或者分解句子以了解句子结构的一种方式。NLP中的解析是通过基于底层语法分析组成文本的单词来确定文本的句法结构。</p><p id="382d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">顾名思义<strong class="is hj"> <em class="kr">依存解析</em> </strong>是指通过句子中词与词之间的依存关系来理解句子的结构。当对一个句子进行依存分析时，它会给我们一个句子中单词之间关系的信息。</p><p id="bc4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分析器把一个句子分成一个主语和一个宾语，宾语是名词短语和动词短语。依存解析器认为动词是句子的中心，所有的依存关系都是围绕它建立的。</p><p id="86d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这只狗比这只猫跑得快。</p><figure class="ky kz la lb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/4940672f76c08d85d9a44d9f32d593b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AIzzeU9hhHL7QUcWwaAQ4Q.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">图1 .可视化依存句法分析</figcaption></figure><p id="109d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">狗是名词短语，标记为<em class="kr"> nsubj </em>，表示句子的主语。<em class="kr"> Acomp </em>意为形容词补语，表示是修饰形容词或给形容词增加意义的短语。<em class="kr">比</em>的词是介词，这里pobj代表前置的宾语，也就是<em class="kr">猫</em>。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="3dbf" class="lh jp hi ld b fi li lj l lk ll">from spacy import displacy<br/>nlp = spacy.load(‘en_core_web_sm’)<br/>doc = nlp(u”displaCy uses JavaScript, SVG and CSS.”)<br/>spacy.displacy.serve(doc, style=’dep’)</span></pre><p id="405d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码将运行一个web服务器。你可以在浏览器中运行<a class="ae mf" href="http://127.0.0.1:5000" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5000 </a>来查看可视化效果。</p><p id="eb39" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">结论:</strong></p><p id="9ae4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博客简要介绍了基本的预处理技术和特征提取技术，如自然语言处理流水线中的BOW、TF_IDF、n-grams、词性标注、NER标注和依存句法分析。博客的下一部分将包含主题建模、文本摘要、聚类和各种单词嵌入技术。</p><h1 id="d450" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">参考资料:</h1><p id="3376" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">-&gt; <a class="ae mf" href="https://spacy.io/usage/processing-pipelines/" rel="noopener ugc nofollow" target="_blank">空间文件</a>:</p><p id="6c40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">-&gt;博客的某些部分参考了Barghav Srinivasa Desikan的《自然语言处理和计算语言学》一书。</p><p id="80fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">— — — — <em class="kr"> </em> <strong class="is hj"> <em class="kr">谢谢</em> </strong> — — — — — —</p></div></div>    
</body>
</html>