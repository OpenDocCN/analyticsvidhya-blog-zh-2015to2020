<html>
<head>
<title>Python Lambda Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Lambda函数</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-lambda-functions-78d3673aebfd?source=collection_archive---------17-----------------------#2019-12-23">https://medium.com/analytics-vidhya/python-lambda-functions-78d3673aebfd?source=collection_archive---------17-----------------------#2019-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/3f38283d8bd29ab5bc4868dbc1f3e279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/0*HFfGkkw1LjcICGq2.png"/></div></figure><p id="556c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Python lambda函数是一个非常有价值的特性。使用Python的好处之一是，与其他编程语言相比，它简化了代码结构。这意味着用更少的代码行做更多的事情。</p><p id="e18e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然而，情况并非总是如此。如果您不知道python提供了哪些工具来实现这一点，那么编写冗长的代码是非常容易的，因为它的“紧凑性”使选择Python变得毫无意义。</p><p id="2206" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个这样的工具是lambda函数。这些允许我们在python中创建匿名函数。如果您以前读过优秀的python程序员的代码，您可能会遇到类似这样的情况:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="e53e" class="jt ju hi jp b fi jv jw l jx jy">add = lambda a,b : a + b</span></pre><p id="3afb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面的代码可能看起来有点混乱，让我通过将lambda函数分解成组件来阐明它的语法。Lambda函数有3个组成部分:lambda关键字(当然)、一组参数和一个表达式。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="f4b4" class="jt ju hi jp b fi jv jw l jx jy">lambda [(optional) arguments] : [expression]</span></pre><h1 id="0a56" class="jz ju hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">规则</h1><p id="2b6c" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">在我们详细讨论lambda函数的实现之前，让我们先讨论一下它们的规则:</p><ol class=""><li id="1615" class="lb lc hi io b ip iq it iu ix ld jb le jf lf jj lg lh li lj bi translated">Lambda函数是无名的(除非赋给变量)。不能像对“def”关键字那样，在“lambda”关键字后分配函数名。</li><li id="f5dc" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">参数是可选的。Lambda函数可以在不传递任何参数的情况下定义，就像常规函数一样。</li><li id="c342" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">Lambda函数只能有一个表达式。</li><li id="6bd3" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">就像常规函数一样，你可以从lambda函数返回任何东西。也有可能什么都不回。</li><li id="bea5" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">Lambda函数可以赋给变量重复使用。这是命名lambda函数的唯一方法。</li><li id="8a48" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">Lambda函数可以从常规函数返回。</li><li id="681f" class="lb lc hi io b ip lk it ll ix lm jb ln jf lo jj lg lh li lj bi translated">Lambda函数可以返回其他lambda函数。</li></ol><h1 id="805f" class="jz ju hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">为什么使用Lambda函数？</h1><p id="0fcd" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">如果你以前从未使用过lambda函数，你可能认为没有它们你也能做得很好，你是对的。然而，正如我之前所说的，它们在确保我们维护干净、紧凑和pythonic式的代码方面起着重要的作用。</p><p id="20d9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Lambda函数在需要匿名函数一次性使用或重复使用的情况下最有用。</p><h1 id="edc6" class="jz ju hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">履行</h1><p id="3036" class="pw-post-body-paragraph im in hi io b ip kw ir is it kx iv iw ix ky iz ja jb kz jd je jf la jh ji jj hb bi translated">如前所述，我们可以使用lambda函数和常规函数来生成函数。让我们创建一个例子，我们想要创建3个函数。一个是给定数字的两倍，一个是给定数字的三倍，一个是给定数字的四倍。我们可以通过创建3个不同的函数来实现这一点:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="de2e" class="jt ju hi jp b fi jv jw l jx jy">def doubler(n): return n * 2 def tripler(n): return n * 3 def quadroupler(n): return n * 4</span></pre><p id="0e28" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们可以不写上面的代码，而是创建一个函数，返回一个带有我们想要的功能的lambda函数:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="fb86" class="jt ju hi jp b fi jv jw l jx jy">def function_generator(n): return lambda a : a * n</span></pre><p id="68c0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们创建我们想要的函数:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="421d" class="jt ju hi jp b fi jv jw l jx jy">doubler = function_generator(2) tripler = function_generator(3) quadroupler = function_generator(4)</span></pre><p id="705d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">function_generator函数返回一个函数，该函数将其参数与传递给function_generator的任何参数相乘。我们可以用下面的语句对此进行测试:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="3b2f" class="jt ju hi jp b fi jv jw l jx jy">print(doubler(4), tripler(4), quadroupler(4)) # Output 8 12 16</span></pre><p id="bd77" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过在一行中嵌套两个lambda函数，可以进一步简化函数生成器:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="8759" class="jt ju hi jp b fi jv jw l jx jy">function_generator = lambda n : lambda a : a * n</span></pre><p id="eaa5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之前的测试行应该产生与之前相同的输出。</p><p id="c108" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">记住，赋给变量的lambda函数使得变量可以作为函数调用。在引入话题时，我举了以下例子:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="98d9" class="jt ju hi jp b fi jv jw l jx jy">add = lambda a,b : a + b</span></pre><p id="fcf8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这使得“add”可调用。因此，要将两个数字相加，我们将使用以下语句:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="b041" class="jt ju hi jp b fi jv jw l jx jy">add(4, 6) # Returns 10</span></pre><p id="74da" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这也适用于返回lambdas的函数。只要lambda函数被返回，它就是可调用的，不管嵌套有多深。返回的函数也没有名字(因此是“匿名的”)，除非它被赋给一个变量。</p><p id="f3d5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们也可以在lambda函数定义后立即调用它:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="66b2" class="jt ju hi jp b fi jv jw l jx jy">(lambda x : x * 2)(4) # Returns 8</span></pre><p id="cbdb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">确保存储/打印返回的值，因为以后在您的模块代码中将无法再访问它。这种格式对于理解列表非常有用。假设我们有一个数字列表(num ),我们想要生成一个新的数字列表，这样对于num中的每个数字n，n * 2 &gt; 50应该返回True。如何才能实现这一点？</p><p id="8f9c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用常规函数和列表理解:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="c59a" class="jt ju hi jp b fi jv jw l jx jy">def validate(n): <br/>    return n * 2 &gt; 50 </span><span id="d83e" class="jt ju hi jp b fi lp jw l jx jy">nums = [3, 1, 4, 22, 45, 1, 245, 6, 34, 4, 8, 14] <br/>nums2 = [n for n in nums if validate(n)] # Returns [45, 245, 34]</span></pre><p id="cd50" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是，我们可以完全删除函数定义，并在列表理解中包含验证表达式:</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="f5e8" class="jt ju hi jp b fi jv jw l jx jy">nums = [3, 1, 4, 22, 45, 1, 245, 6, 34, 4, 8, 14] <br/>nums2 = [n for n in nums if (lambda x : x * 2 &gt; 50)(n)] <br/># Returns [45, 245, 34]</span></pre><p id="3078" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用Python lambda函数使我们的代码比前一个例子更紧凑。</p><p id="b5a3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">如果你喜欢这篇文章，可以考虑关注我的</strong> <a class="ae lq" href="https://kelvinmwinuka.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">个人网站</strong> </a> <strong class="io hj">，以便在我的内容在媒体上发布之前提前获得(别担心，它仍然是免费的，没有烦人的弹出广告！).另外，请随意评论这篇文章。我很想听听你们的想法！</strong></p></div></div>    
</body>
</html>