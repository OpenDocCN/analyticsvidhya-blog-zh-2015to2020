<html>
<head>
<title>3 Easy Ways to Handle Categorical Data -Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理分类数据的 3 种简单方法——Python</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/3-easy-ways-to-handle-categorical-data-python-b43fbd81e227?source=collection_archive---------14-----------------------#2020-10-22">https://medium.com/analytics-vidhya/3-easy-ways-to-handle-categorical-data-python-b43fbd81e227?source=collection_archive---------14-----------------------#2020-10-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c6bdc7f65fe2ecdc01326b5e77597068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KOZt8wu1O0uw_9Ka"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">埃德加·索托在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="33c4" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">介绍</h2><p id="8b0d" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">NOIR 系统将数据分类为名义数据、顺序数据、区间数据和比率数据。现在，只需要对名词和序数有一个基本的了解。</p><ul class=""><li id="6bd5" class="ko kp hi jv b jw kq ka kr jg ks jk kt jo ku kn kv kw kx ky bi translated"><strong class="jv hj">名词性:</strong>没有任何隐含顺序的范畴。比如 A+ve，O-ve 等不同的血型。它们之间没有隐含的顺序。</li><li id="7c75" class="ko kp hi jv b jw kz ka la jg lb jk lc jo ld kn kv kw kx ky bi translated"><strong class="jv hj">序数:</strong>隐含排序的类别。例如，这种疾病可以分为几个阶段:发病期、急性期和慢性期。一次比一次严重。</li></ul><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es le"><img src="../Images/11d7476341800a5f170dcf40756cc71f.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*V215wtdsFrzxRdw6hBCgQA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">名义数据类型和顺序数据类型的示例</figcaption></figure><p id="0625" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">分类特征可以是名义数据类型或序数数据类型。以下是几个例子:</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/e2a4222de1536c19fc22df054ef3f3c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*ppZtjA_fGZbwOXrta2wwWg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">iris . CSV:species[' setosa ' ' versicolor ' ' virginica ']</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/5934ba3fd3e905d6319d92f938e735ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*u764_XXAboxTVjEUjSAFzg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Seaborn Tips 数据集:性别、吸烟者、日期、时间是分类特征</figcaption></figure><p id="1f35" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">分类特征不能由计算机直接处理。需要对它们进行编码，以便进行进一步的处理和分析。<strong class="jv hj">编码</strong>是将分类变量转换成二进制或数字对应变量。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/ccf7e80aaec558080d4aaa59be51d10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*tizrqn1-WxYx9Z1q3Ybh2g.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">编码示例</figcaption></figure><p id="ac55" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">在这篇文章中，我将解释 Python 中 3 种简单的编码方式。</p><h2 id="3c67" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">先决条件</h2><ul class=""><li id="40bf" class="ko kp hi jv b jw jx ka kb jg lp jk lq jo lr kn kv kw kx ky bi translated">熟悉 Google Colab 笔记本、Jupyter 笔记本(或任何其他等效工具)</li><li id="51d1" class="ko kp hi jv b jw kz ka la jg lb jk lc jo ld kn kv kw kx ky bi translated">对 Python 中熊猫数据框架和 sci-kit 学习库的基本理解。</li></ul><h2 id="9126" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">让我们开始吧…</h2><p id="69a2" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我们将从用 python 导入必要的库开始。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/e823dd0415aa3e241e3d4d5269f65798.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*jAAOcdBrPOuo9dVYZ0bfgw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">导入必要的库</figcaption></figure><p id="de2c" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj"> Seaborn </strong>库用于在 python 中绘制图形(类似于 matplotlib)。它还提供了对一些示例数据集的快速访问，这些数据集用于记录 seaborn 或为 bug 报告生成可重复的示例。可用数据集的列表可以使用<strong class="jv hj"> get_dataset_names() </strong>获得，如下所示。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/9df64f1392ca3b0e4472da4102dc84a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*7PHSDgvv-4b2hKZVFGCM1Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Seaborn 中可用数据集的列表</figcaption></figure><p id="c9ef" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">我将使用<strong class="jv hj">“钻石”</strong>数据集。请随意试验其他数据集，如 iris、titanic、planets 和 tips。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/eaaa12f0d405c8638e2868999a0c4b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*so07Mj4xIoyARdVMvIAP1Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">加载数据集:钻石</figcaption></figure><p id="8109" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">这个经典数据集包含近 54，000 颗钻石的价格和其他属性。我们还可以观察到数据集中没有缺失值。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/3319ab50d6369213536b92dc6f39bdb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*F5xfmjMlfIwogpZWpskJ2Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">数据集的形状和缺失值的百分比</figcaption></figure><p id="8ca0" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">使用 seaborn 和 matplotlib 可以用这些数据绘制出许多漂亮的图形，如下所示(<a class="ae iu" href="https://github.com/athisha-rk/mediumArticlesRelatedFiles/blob/master/categorical_data.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/0e9c37c78cc2a2fee64bbc6f0b6fec4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*y43-nKNcSOuoh8P3r24U6A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">克拉与价格的散点图</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/d10f229ab7d7b3e95482efe5ff28096b.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*tKUugytiWJXTu6Cyb4y0TQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">深度与价格的散点图</figcaption></figure><p id="3d10" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">分类特征是切割、颜色和透明度。在进一步处理之前，需要对这三个特征进行编码。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/e621466d187e74274946630c91d8ab39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*MQy_TZgqzKBxm0E38GZHZA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">每个功能中的不同类别</figcaption></figure><p id="6e6a" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj">方法 1:使用切削特征的应用()</strong></p><p id="7c99" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">apply()函数允许用户对数据帧中的每个特征值应用一个函数。当我们使用 apply()时，它给了我们将它映射到任何值的自由。如下所示，为“切割”完成映射。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/3989a3eaee0dba5e593dc6fe1ed61e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*y5iiMjV7Dc3tpwjbQSSqYg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">CutEncoding()为值“cut”完成了映射</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/a2650a9a8596488986dd3e30174c25bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*Bdzbbw2iBrwPitONHkMUfg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">使用 apply()编码剪切</figcaption></figure><p id="2f1f" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj">方法二:对颜色特征使用标签编码器</strong></p><p id="0764" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">sk learn . preprocessing . label encoder()对 0 到 n-1 之间的值进行编码。在我们的数据中，颜色有 7 类。因此编码值的范围是从 0 到 6。下面的代码片段实现了这个目标。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/374bbe3cf3585cf48ef9ee30c7e102bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*Vu7eoDTcUma7p9edV3SIOA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">颜色的标签编码(sklearn .预处理)</figcaption></figure><p id="1055" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj">方法三:使用 DummyEncoding 获得清晰特征</strong></p><p id="9a98" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">pandas.get_dummies()将分类特征转换为指示器或虚拟变量。</p><p id="0e6b" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj">举例:</strong>考虑一个拥有网球的小数据集？作为一个功能。网球的可能价值？是，不是，也许。get_dummies()的结果如下所示。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/f4686fccce71c28a9d928b7184878d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*Ba0JlYdKOn59bJ8_ysmqpQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">get_dummies 的插图()</figcaption></figure><p id="c376" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">当我们只关心某个特定特性的一个类时，get_dummies()会很有用。当我们试图筛选网球运动员时，数据被重新分组为网球运动员和非网球运动员。在这样的情况下，只有 Tennis_Yes 功能就足够了。</p><p id="2cc8" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">同样的概念可以应用于我们数据集中的“清晰性”。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/83cd7d4bb6148404c2b21789f747699d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V50TOHV6tK8uUU2HERgqYw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">清晰度的虚拟编码</figcaption></figure><p id="2f19" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated"><strong class="jv hj">另一个简单的例子:虹膜数据集</strong></p><ol class=""><li id="947a" class="ko kp hi jv b jw kq ka kr jg ks jk kt jo ku kn md kw kx ky bi translated">使用 seaborn.load_dataset()加载数据集</li></ol><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es me"><img src="../Images/7ef4d8d7f6034d1522143c450b9bd1e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*I3e2mt5IMm73uaNFlqV9nQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">加载虹膜数据集</figcaption></figure><p id="975b" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">2.对物种特征应用 LabelEncoder()</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/46097e35144633e80451fa1f3206ba7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*K0HgTO6gTfbOc9lQm7IaDg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">“物种”的标签编码</figcaption></figure><p id="9494" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">3.决赛成绩</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/8590660b4b525bbd3ae370180d86e43d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*qyV-ruvdIrdbxeTPTdfUuw.png"/></div></figure><h2 id="3e34" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">有用的资源</strong></h2><ul class=""><li id="a063" class="ko kp hi jv b jw jx ka kb jg lp jk lq jo lr kn kv kw kx ky bi translated"><a class="ae iu" href="https://www.kaggle.com/shivam2503/diamonds" rel="noopener ugc nofollow" target="_blank">从 kaggle </a>下载数据集“钻石”</li><li id="81ed" class="ko kp hi jv b jw kz ka la jg lb jk lc jo ld kn kv kw kx ky bi translated"><a class="ae iu" href="https://github.com/athisha-rk/mediumArticlesRelatedFiles/blob/master/categorical_data.ipynb" rel="noopener ugc nofollow" target="_blank">分类数据. ipynb </a></li></ul><p id="fafe" class="pw-post-body-paragraph jt ju hi jv b jw kq jy jz ka kr kc kd jg lj kf kg jk lk ki kj jo ll kl km kn hb bi translated">有很多方法来编码数据。这三个是其中最容易的。请在下面的评论区告诉我你的想法/问题:)</p></div></div>    
</body>
</html>