<html>
<head>
<title>Q-Q plot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Q-Q图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/q-q-plot-9a76b8ba1459?source=collection_archive---------24-----------------------#2020-04-24">https://medium.com/analytics-vidhya/q-q-plot-9a76b8ba1459?source=collection_archive---------24-----------------------#2020-04-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dca4b5bbed95a21c07a2ba79a1e6ed56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IdBZZTHe5d3mOUOw"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">斯蒂芬·道森在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="6afe" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">内容</h1><ol class=""><li id="94e7" class="jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">Q-Q图的定义</li><li id="6d7e" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">Q-Q图解释</li><li id="0098" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">Python中的Q-Q图</li><li id="b653" class="jt ju hi jv b jw kl jy km ka kn kc ko ke kp kg kh ki kj kk bi translated">结论</li></ol></div><div class="ab cl kq kr gp ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hb hc hd he hf"><h2 id="da5f" class="kx iw hi bd ix ky kz la jb lb lc ld jf ka le lf jj kc lg lh jn ke li lj jr lk bi translated">Q-Q图的定义</h2><p id="0ea5" class="pw-post-body-paragraph ll lm hi jv b jw jx ln lo jy jz lp lq ka lr ls lt kc lu lv lw ke lx ly lz kg hb bi translated">Q-Q图是一种图形方法，用于检查两组不同的数据是否与相同的理论分布相关。这里两组数据中的一组是我们生成的，也就是我们知道它的分布类型。我们根据我们生成的已知分布的数据来检查其他的分布。</p><p id="131c" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">在我们使用两个数据集绘制散点图后，如果该图形成直线，那么我们可以说两个数据属于同一分布或不属于同一分布。这些点不需要恰好形成一条直线，有时几乎也考虑。</p><h2 id="30b9" class="kx iw hi bd ix ky kz la jb lb lc ld jf ka le lf jj kc lg lh jn ke li lj jr lk bi translated">Q-Q图解释</h2><p id="b5a6" class="pw-post-body-paragraph ll lm hi jv b jw jx ln lo jy jz lp lq ka lr ls lt kc lu lv lw ke lx ly lz kg hb bi translated">最初在Q-Q图中，我们假设分布的类型，然后我们生成该分布的一组数据样本。稍后，我们从两个数据集中选择几个合理的分位数。之后，两者按非降序排序。现在假设一个数据是x坐标，另一个是y坐标，并绘制散点图。如果这些点几乎形成直线，那么我们可以说它们属于同一分布。如果不是，我们的假设是错误的，我们需要重建我们的假设，并遵循递归方式，直到我们的假设是真的。</p><p id="0458" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">比如:我有数据点data=[9，4，9，1，7，5，9，5，1，1]。现在，我需要知道数据的分布。所以，现在我做一个假设，因为数据是正态分布。现在，我生成10个数据点的平均值=5，正常数据假设=[4，5，7，6，3，4，4，5，4，6]</p><p id="b68c" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">现在，对这两个数据进行排序并假设。排序数据=[1，1，1，4，5，5，7，9，9，9]后，假设= [3，4，4，4，5，5，6，6，7]。</p><p id="60b9" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">这里数据的长度和假设是相同的，所以我们不需要找到分位数。当我们的数据很大或假设数据和数据不在同一长度时，我们找到分位数。我们不需要绘制所有的数据，我们可以在数据集和绘图中获得几个分位数。</p><p id="625a" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">因此，在我们的例子中，选择5个分位数1，3，5，7，9。数据=[1，1，5，7，9]。假设=[3，4，4，5，6]。使用(1，3)(1，4)(5，4)(7，5)(9，6)绘制图表</p><figure class="mg mh mi mj fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/4e004294c454f0dd78219185621c2019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*XlXJinJW8UgMxR5enOgYEw.png"/></div></figure><p id="a956" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">我们的点看起来不像在一条直线上。所以我们对数据的假设是正态分布的，这是真的。在这里，我用很小的数据来绘制。所以你可能不清楚这一点，但接下来你会更明白。</p><h2 id="716c" class="kx iw hi bd ix ky kz la jb lb lc ld jf ka le lf jj kc lg lh jn ke li lj jr lk bi translated">Python中的Q-Q图</h2><pre class="mg mh mi mj fd mk ml mm mn aw mo bi"><span id="6a38" class="kx iw hi ml b fi mp mq l mr ms">import matplotlib.pyplot as plt<br/>import numpy as np<br/>from scipy import stats</span><span id="6d3f" class="kx iw hi ml b fi mt mq l mr ms"># our data is generated<br/>X=[]<br/>for i in range(1000):<br/> X.append(np.random.normal(2,10))<br/></span><span id="1385" class="kx iw hi ml b fi mt mq l mr ms"># Generate assume data<br/>li=[]<br/>for i in range(1000):<br/> li.append(np.random.normal(0,1))</span><span id="8146" class="kx iw hi ml b fi mt mq l mr ms"><br/># find 100 quantiles of data and plot <br/>quantile_li=[]<br/>quantile_x=[]<br/>for i in range(100):<br/> quantile_li.append(np.percentile(li,i))<br/> quantile_x.append(np.percentile(X,i))</span><span id="643e" class="kx iw hi ml b fi mt mq l mr ms">plt.scatter(quantile_li,quantile_x)<br/>plot.show()</span></pre><figure class="mg mh mi mj fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/3d594820a95e0f00f38cc34917f9afe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*XudlfQqajKgCMzb7aP27jA.png"/></div></figure><p id="ce3b" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">在这里，为了便于您的理解，我将数据和假设数据都视为正态分布数据。在上图中，点看起来像一条直线意味着数据属于相同的分布。</p><p id="1904" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">我们的源代码可以使用以下代码来简化:</p><pre class="mg mh mi mj fd mk ml mm mn aw mo bi"><span id="5de8" class="kx iw hi ml b fi mp mq l mr ms"># our data is generated<br/>X=[]<br/>for i in range(1000):<br/> X.append(np.random.normal(2,10))</span><span id="fa5e" class="kx iw hi ml b fi mt mq l mr ms">prob=stats.probplot(X,dist=stats.norm,plot=plt)<br/>plt.show()</span></pre><figure class="mg mh mi mj fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/5f546fa6bd56b7d923337538dfeacb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Ughn-SkHhJK0KUfby9VK3g.png"/></div></figure><p id="8531" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">因为两者相同，所以点在同一直线上</p><p id="9764" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">让我们用不同的分布来绘图:</p><pre class="mg mh mi mj fd mk ml mm mn aw mo bi"><span id="12f0" class="kx iw hi ml b fi mp mq l mr ms">X=[]<br/>for i in range(1000):<br/> X.append(np.random.normal(2,10))</span><span id="304b" class="kx iw hi ml b fi mt mq l mr ms">prob=stats.probplot(X,dist=stats.uniform,plot=plt)<br/>plt.show()</span></pre><figure class="mg mh mi mj fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/edf764ebd9afede494e2b63d70665c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*KXuqBgCQIr23sI67wm9Lwg.png"/></div></figure><p id="2765" class="pw-post-body-paragraph ll lm hi jv b jw ma ln lo jy mb lp lq ka mc ls lt kc md lv lw ke me ly lz kg hb bi translated">在上图中，点形成了一个曲线形状，因为两者是不同的分布。</p><h2 id="31a4" class="kx iw hi bd ix ky kz la jb lb lc ld jf ka le lf jj kc lg lh jn ke li lj jr lk bi translated">结论</h2><p id="f7be" class="pw-post-body-paragraph ll lm hi jv b jw jx ln lo jy jz lp lq ka lr ls lt kc lu lv lw ke lx ly lz kg hb bi translated">Q-Q图是数据的图形表示，不管数据是否属于同一分布。如果数据属于相同的理论分布，它几乎形成一条直线。</p></div></div>    
</body>
</html>