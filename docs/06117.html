<html>
<head>
<title>Setting up Jupyter Lab Instance on Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google云平台上建立Jupyter实验室实例</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/setting-up-jupyter-lab-instance-on-google-cloud-platform-3a7acaa732b7?source=collection_archive---------1-----------------------#2020-05-12">https://medium.com/analytics-vidhya/setting-up-jupyter-lab-instance-on-google-cloud-platform-3a7acaa732b7?source=collection_archive---------1-----------------------#2020-05-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2ac3499125bbdb31e2905df1683712bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UycDa-UOOJjsLPGF3hoyuQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">朱皮特</figcaption></figure><p id="bf91" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">谷歌云平台通过谷歌云的人工智能平台访问Jupyter实验室实例非常简单。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/1d1da9d7d94d531208b9b590ae5fb5de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TWGkVvwonl5e059ibdoWZA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">谷歌云AI平台下的笔记本</figcaption></figure><p id="509f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是，目前Jupyter Lab实例并不适用于所有地区。到目前为止，在撰写本文时，无法为孟买地区(亚洲-南方1)创建实例，这导致了挑战，因为需要分析的数据位于孟买地区(亚洲-南方1)。因此，我们有两个选择，即要么在附近区域创建笔记本电脑并承担出口成本，要么在我们想要的区域创建普通虚拟机实例并在其上安装Jupyter lab。我们今天将探讨第二种方法。</p><p id="8630" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">转到谷歌云平台<a class="ae jx" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/</a>并访问Compute - &gt;计算引擎。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/d3f0fafbcac0b037262485c75bcae418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cEeELW-U0AusQWBXck2OVA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">创建虚拟机实例</figcaption></figure><p id="3605" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">单击“创建实例”创建一个新的虚拟机实例。这将是我们部署jupyter实验室的实例。并非所有地区都有GPU。因此，如果您计划立即或在不久的将来使用GPU，请确保选择适当的地区和区域。提供适当的名称、地区、区域和机器类型。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/b0dfe029c3abd8d1744a461f2b717f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kx5TMl31goga3c_uK7YtgQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">提供虚拟机详细信息</figcaption></figure><p id="1b5d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将引导磁盘大小增加到100GB。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/ffb0be268de86295febd03dfd7c6a3af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6RUyp4LJA_dwBa7iGbg1IQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">启动盘详细信息</figcaption></figure><p id="760c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将访问范围设置为“允许对所有云API的完全访问”，并启用“允许HTTP流量”和“允许HTTPS流量”。提供所需的详细信息后，单击“Create”创建实例。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/49e673c07a578f9db9de5ca345968ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAhho5gX7wCVKzkyc49emA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">虚拟机实例详细信息</figcaption></figure><p id="0ed5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">转到网络-&gt; VPC网络-&gt;外部IP地址</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/23b61e855eabf2b4651d4d5eb018919f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4zqXFwWO086SBLAPZITu9Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">外部IP地址</figcaption></figure><p id="b469" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">转到实例，将类型从“Ephimeral”更改为“Static”。提供一个合适的名称，然后点击“预订”。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/2db78a5edff8b68a55e2aa297b58d3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1YZj6MKPwWcTrXfRa8ihxQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">将类型更改为静态</figcaption></figure><p id="d268" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">单击左侧菜单中的防火墙规则。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/3b1b8953959b5a16f3c5172527615af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*V32tzOeMzIPSjTRkK5vG4A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">防火墙规则</figcaption></figure><p id="9d75" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">点击“创建防火墙规则”。</p><p id="4b2c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">提供适当的名称。将目标设置为“网络中的所有实例”，将源过滤器设置为“IP范围”，将源IP范围设置为“0.0.0.0/0”。启用tcp复选框，并将值设置为8888。点击创建。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/3e7a1a04a546feb5c501c7c6ea5df4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjZOcURaBYk9dfSNBokW3A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">创建防火墙规则</figcaption></figure><p id="e635" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">返回主页-&gt;计算引擎-&gt;虚拟机实例。选择我们的虚拟机实例，并单击SSH以连接到该实例。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/6756372be8a47948d1e06c513cc9f59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lBCOqz5y2l13bAo-K3g5Dw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">使用SSH连接</figcaption></figure><p id="02ae" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">连接到实例后，执行下面的命令集。</p><pre class="jt ju jv jw fd kc kd ke kf aw kg bi"><span id="8fec" class="kh ki hi kd b fi kj kk l kl km">sudo apt update<br/>sudo apt upgrade <strong class="kd hj">#Provide Y/yes as input when prompted.</strong><br/>sudo apt install python3-pip</span><span id="f1e5" class="kh ki hi kd b fi kn kk l kl km">sudo pip3 install jupyterlab<br/>exit</span></pre><p id="4347" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这将在您的机器上安装jupyterlab。通过SSH重新连接到机器，并执行下面的命令集。</p><pre class="jt ju jv jw fd kc kd ke kf aw kg bi"><span id="fcfa" class="kh ki hi kd b fi kj kk l kl km">sudo jupyter serverextension enable --py jupyterlab --sys-prefix<br/>jupyter lab --ip 0.0.0.0 --port 8888 <!-- -->--no-browser</span></pre><p id="fb7c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">该服务将启动，您将看到如下输出。请记下这个令牌，因为我们下一步需要它。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/9f316bc0746931300f662e69ebeb76ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_erqFdFx0oPx1AJrdmNhg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">正在启动服务</figcaption></figure><p id="d26b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在打开网页浏览器，输入网址http:// &lt;<static ip="" of="" vm=""> &gt;:8888。这将显示如下屏幕。</static></p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/d1b5f80e713d3fd1e0ed7d262346da67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbtwbeNrb01AmxNi-hpjLA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Jupyter实验室的第一页</figcaption></figure><p id="b996" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">提供之前捕获的令牌，并设置适当的密码。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/4109fe5b4d231976775cd5f0bff35248.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEMCzBK-hAr-qtLcgEGTkA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">设置密码</figcaption></figure><p id="a6c2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">提供密码后，点击“登录并设置新密码”。你可以进入朱庇特实验室。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/cdbb2e8aab29ad26d01c0d5ce16008e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T8HkePDVbD1FaBHg01EuEA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">朱庇特实验室界面。</figcaption></figure><p id="d78b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">用户可以创建并保存作品。工作完成后，可以关闭虚拟机实例以节省成本。</p><p id="883f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们还可以创建启动命令“jupyter lab-IP 0 . 0 . 0 . 0-port 8888-no-browser”作为启动服务，这样无论何时启动服务器，我们都不必再次运行启动命令。</p></div></div>    
</body>
</html>