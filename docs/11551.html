<html>
<head>
<title>Gender Predictor using FastAPI and Tailwindcss</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 FastAPI 和 Tailwindcss 的性别预测器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/gender-predictor-using-fastapi-and-tailwindcss-623e0965e6ed?source=collection_archive---------8-----------------------#2020-12-08">https://medium.com/analytics-vidhya/gender-predictor-using-fastapi-and-tailwindcss-623e0965e6ed?source=collection_archive---------8-----------------------#2020-12-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/497b6f1a0bdb3d116756f31f41475159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jzGs_3J0V0wdE74ainz9OQ.gif"/></div></div></figure><p id="1680" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">建立一个模型而不把它投入生产就像一张漂亮的脸站在黑暗中。没有人会看得起你，欣赏你。此外，没有人仅仅通过建立模型来赚钱或用 AI 解决现实世界的问题。这就是为什么我们必须将模型投入生产，以便人们可以使用它们来解决他们的问题。</p><p id="a379" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，有许多方法可以将模型投入生产，但是在本文中，我们将使用<a class="ae jo" href="http://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank">FastAPI</a>；一个超级酷，超级快的 Python web 框架。<a class="ae jo" href="http://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a>跟烧瓶一样好用。它是生产就绪的，支持许多现成的东西，如身份验证、数据库、WebSocket、文档等等。相信我，你会喜欢的。FastAPI 构建在顶部<a class="ae jo" href="https://www.starlette.io/" rel="noopener ugc nofollow" target="_blank">starlette</a>；另一个超级酷的 Python web 框架。</p><p id="d520" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用 FastAPI、<a class="ae jo" href="http://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Scikit-learn </a>和<a class="ae jo" href="http://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">Tailwindcss</a>；一个实用的第一用户界面库来建立性别预测器。我不会详细介绍构建模型的细节，但会提供一个 Jupyter 笔记本和一个保存模型的链接供您使用。笔记本可在此处<a class="ae jo" href="https://github.com/Boadzie/gender-predictor-fastapi" rel="noopener ugc nofollow" target="_blank">购买。</a>现在让我们开始吧。</p><h1 id="28de" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">设置</h1><p id="53be" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">第一步。使用 anaconda(或您喜欢的任何其他命令)创建一个 virtualenv，命令如下:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="114f" class="lb jq hi kx b fi lc ld l le lf">conda create --name gender <br/>​<br/>conda activate gender # activate the virtualenv<br/>​<br/># install dependencies<br/>pip install sklearn <br/>pip install fastapi[all] <br/>pip install joblib</span></pre><p id="666c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第二步。创建项目所在的目录，并添加以下文件和目录。你的文件夹应该是这样的。可以忽略<code class="du lg lh li kx b">__pycache__</code></p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="bf80" class="lb jq hi kx b fi lc ld l le lf">.<br/>├── app.py<br/>├── gender_model.joblib<br/>├── __pycache__<br/>│   └── app.cpython-37.pyc<br/>└── templates<br/>    └── index.html<br/>​<br/>2 directories, 4 files<br/>​</span></pre><p id="8a80" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在这里找到型号<a class="ae jo" href="https://github.com/Boadzie/gender-predictor-fastapi" rel="noopener ugc nofollow" target="_blank"/></p><p id="6b13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第三步。让我们向<code class="du lg lh li kx b">app.py</code>文件添加内容。这是我们应用程序的入口。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="59d6" class="lb jq hi kx b fi lc ld l le lf">from fastapi import FastAPI<br/>from starlette.requests import Request<br/>from fastapi.templating import Jinja2Templates<br/>from joblib import load<br/>​<br/>app = FastAPI()<br/>​<br/>templates = Jinja2Templates(directory="templates")<br/>​<br/>@app.get("/")<br/>def home(request: Request):<br/>    <br/>    return templates.TemplateResponse("index.html", {"request": request})<br/>​<br/>@app.post("/")<br/>async def home(request: Request):<br/>    result = ""<br/>    <br/>    if request.method == "POST": <br/>        form = await request.form()<br/>        if form["height"] and form["weight"]: <br/>            height =  form["height"]<br/>            weight =  form["weight"]<br/>            result = predict(int(height), int(weight))<br/>    return templates.TemplateResponse("index.html", {"request": request, "result":result})<br/>​<br/>​<br/>​<br/>​<br/>def predict(a, b): <br/>    clf = load('gender_model.joblib') <br/>​<br/>    prediction = clf.predict([(a, b)])<br/>​<br/>    if prediction[0]:<br/>        result = "Male"<br/>    else:<br/>        result = "Female"<br/>        <br/>        <br/>    return result<br/>​</span></pre><p id="5ccf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我们从导入依赖项开始。然后，我们创建了一个 FastAPI 实例，并添加了我们的模板目录。然后我们创建了两条路线；一个 get 和一个 post 路由。第一个 get 路径呈现表单，第二个路径预处理表单数据并输出我们的预测。请注意，我们使用的是 Starllete 的请求模块。这使用 Python 请求库来处理请求和响应。最后，创建了一个接受两个参数(身高和体重)的函数，加载我们的模型，进行预测，并返回预测标签。</p><p id="a4b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果被发送到我们的 post route，并最终发送到我们的<code class="du lg lh li kx b">index.html</code>文件。该文件的内容将如下所示；</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4e77" class="lb jq hi kx b fi lc ld l le lf">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;!--Import Google Icon Font--&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge" /&gt;<br/>​<br/>    &lt;!-- Compiled and minified CSS --&gt;<br/>    &lt;link<br/>      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"<br/>      rel="stylesheet"<br/>    /&gt;<br/>    &lt;title&gt;Gender Predictor&lt;/title&gt;<br/>    &lt;style&gt;<br/>      body {<br/>        background-color: #e9e5ef;<br/>        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23c1bdc6' fill-opacity='0.4'%3E%3Cpath d='M24.37 16c.2.65.39 1.32.54 2H21.17l1.17 2.34.45.9-.24.11V28a5 5 0 0 1-2.23 8.94l-.02.06a8 8 0 0 1-7.75 6h-20a8 8 0 0 1-7.74-6l-.02-.06A5 5 0 0 1-17.45 28v-6.76l-.79-1.58-.44-.9.9-.44.63-.32H-20a23.01 23.01 0 0 1 44.37-2zm-36.82 2a1 1 0 0 0-.44.1l-3.1 1.56.89 1.79 1.31-.66a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .86.02l2.88-1.27a3 3 0 0 1 2.43 0l2.88 1.27a1 1 0 0 0 .85-.02l3.1-1.55-.89-1.79-1.42.71a3 3 0 0 1-2.56.06l-2.77-1.23a1 1 0 0 0-.4-.09h-.01a1 1 0 0 0-.4.09l-2.78 1.23a3 3 0 0 1-2.56-.06l-2.3-1.15a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1L.9 19.22a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01zm0-2h-4.9a21.01 21.01 0 0 1 39.61 0h-2.09l-.06-.13-.26.13h-32.31zm30.35 7.68l1.36-.68h1.3v2h-36v-1.15l.34-.17 1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0L2.26 23h2.59l1.36.68a3 3 0 0 0 2.56.06l1.67-.74h3.23l1.67.74a3 3 0 0 0 2.56-.06zM-13.82 27l16.37 4.91L18.93 27h-32.75zm-.63 2h.34l16.66 5 16.67-5h.33a3 3 0 1 1 0 6h-34a3 3 0 1 1 0-6zm1.35 8a6 6 0 0 0 5.65 4h20a6 6 0 0 0 5.66-4H-13.1z'/%3E%3Cpath id='path6_fill-copy' d='M284.37 16c.2.65.39 1.32.54 2H281.17l1.17 2.34.45.9-.24.11V28a5 5 0 0 1-2.23 8.94l-.02.06a8 8 0 0 1-7.75 6h-20a8 8 0 0 1-7.74-6l-.02-.06a5 5 0 0 1-2.24-8.94v-6.76l-.79-1.58-.44-.9.9-.44.63-.32H240a23.01 23.01 0 0 1 44.37-2zm-36.82 2a1 1 0 0 0-.44.1l-3.1 1.56.89 1.79 1.31-.66a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .86.02l2.88-1.27a3 3 0 0 1 2.43 0l2.88 1.27a1 1 0 0 0 .85-.02l3.1-1.55-.89-1.79-1.42.71a3 3 0 0 1-2.56.06l-2.77-1.23a1 1 0 0 0-.4-.09h-.01a1 1 0 0 0-.4.09l-2.78 1.23a3 3 0 0 1-2.56-.06l-2.3-1.15a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01zm0-2h-4.9a21.01 21.01 0 0 1 39.61 0h-2.09l-.06-.13-.26.13h-32.31zm30.35 7.68l1.36-.68h1.3v2h-36v-1.15l.34-.17 1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.56.06l1.67-.74h3.23l1.67.74a3 3 0 0 0 2.56-.06zM246.18 27l16.37 4.91L278.93 27h-32.75zm-.63 2h.34l16.66 5 16.67-5h.33a3 3 0 1 1 0 6h-34a3 3 0 1 1 0-6zm1.35 8a6 6 0 0 0 5.65 4h20a6 6 0 0 0 5.66-4H246.9z'/%3E%3Cpath d='M159.5 21.02A9 9 0 0 0 151 15h-42a9 9 0 0 0-8.5 6.02 6 6 0 0 0 .02 11.96A8.99 8.99 0 0 0 109 45h42a9 9 0 0 0 8.48-12.02 6 6 0 0 0 .02-11.96zM151 17h-42a7 7 0 0 0-6.33 4h54.66a7 7 0 0 0-6.33-4zm-9.34 26a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-4.34a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-4.34a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-7a7 7 0 1 1 0-14h42a7 7 0 1 1 0 14h-9.34zM109 27a9 9 0 0 0-7.48 4H101a4 4 0 1 1 0-8h58a4 4 0 0 1 0 8h-.52a9 9 0 0 0-7.48-4h-42z'/%3E%3Cpath d='M39 115a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm6-8a6 6 0 1 1-12 0 6 6 0 0 1 12 0zm-3-29v-2h8v-6H40a4 4 0 0 0-4 4v10H22l-1.33 4-.67 2h2.19L26 130h26l3.81-40H58l-.67-2L56 84H42v-6zm-4-4v10h2V74h8v-2h-8a2 2 0 0 0-2 2zm2 12h14.56l.67 2H22.77l.67-2H40zm13.8 4H24.2l3.62 38h22.36l3.62-38z'/%3E%3Cpath d='M129 92h-6v4h-6v4h-6v14h-3l.24 2 3.76 32h36l3.76-32 .24-2h-3v-14h-6v-4h-6v-4h-8zm18 22v-12h-4v4h3v8h1zm-3 0v-6h-4v6h4zm-6 6v-16h-4v19.17c1.6-.7 2.97-1.8 4-3.17zm-6 3.8V100h-4v23.8a10.04 10.04 0 0 0 4 0zm-6-.63V104h-4v16a10.04 10.04 0 0 0 4 3.17zm-6-9.17v-6h-4v6h4zm-6 0v-8h3v-4h-4v12h1zm27-12v-4h-4v4h3v4h1v-4zm-6 0v-8h-4v4h3v4h1zm-6-4v-4h-4v8h1v-4h3zm-6 4v-4h-4v8h1v-4h3zm7 24a12 12 0 0 0 11.83-10h7.92l-3.53 30h-32.44l-3.53-30h7.92A12 12 0 0 0 130 126z'/%3E%3Cpath d='M212 86v2h-4v-2h4zm4 0h-2v2h2v-2zm-20 0v.1a5 5 0 0 0-.56 9.65l.06.25 1.12 4.48a2 2 0 0 0 1.94 1.52h.01l7.02 24.55a2 2 0 0 0 1.92 1.45h4.98a2 2 0 0 0 1.92-1.45l7.02-24.55a2 2 0 0 0 1.95-1.52L224.5 96l.06-.25a5 5 0 0 0-.56-9.65V86a14 14 0 0 0-28 0zm4 0h6v2h-9a3 3 0 1 0 0 6H223a3 3 0 1 0 0-6H220v-2h2a12 12 0 1 0-24 0h2zm-1.44 14l-1-4h24.88l-1 4h-22.88zm8.95 26l-6.86-24h18.7l-6.86 24h-4.98zM150 242a22 22 0 1 0 0-44 22 22 0 0 0 0 44zm24-22a24 24 0 1 1-48 0 24 24 0 0 1 48 0zm-28.38 17.73l2.04-.87a6 6 0 0 1 4.68 0l2.04.87a2 2 0 0 0 2.5-.82l1.14-1.9a6 6 0 0 1 3.79-2.75l2.15-.5a2 2 0 0 0 1.54-2.12l-.19-2.2a6 6 0 0 1 1.45-4.46l1.45-1.67a2 2 0 0 0 0-2.62l-1.45-1.67a6 6 0 0 1-1.45-4.46l.2-2.2a2 2 0 0 0-1.55-2.13l-2.15-.5a6 6 0 0 1-3.8-2.75l-1.13-1.9a2 2 0 0 0-2.5-.8l-2.04.86a6 6 0 0 1-4.68 0l-2.04-.87a2 2 0 0 0-2.5.82l-1.14 1.9a6 6 0 0 1-3.79 2.75l-2.15.5a2 2 0 0 0-1.54 2.12l.19 2.2a6 6 0 0 1-1.45 4.46l-1.45 1.67a2 2 0 0 0 0 2.62l1.45 1.67a6 6 0 0 1 1.45 4.46l-.2 2.2a2 2 0 0 0 1.55 2.13l2.15.5a6 6 0 0 1 3.8 2.75l1.13 1.9a2 2 0 0 0 2.5.8zm2.82.97a4 4 0 0 1 3.12 0l2.04.87a4 4 0 0 0 4.99-1.62l1.14-1.9a4 4 0 0 1 2.53-1.84l2.15-.5a4 4 0 0 0 3.09-4.24l-.2-2.2a4 4 0 0 1 .97-2.98l1.45-1.67a4 4 0 0 0 0-5.24l-1.45-1.67a4 4 0 0 1-.97-2.97l.2-2.2a4 4 0 0 0-3.09-4.25l-2.15-.5a4 4 0 0 1-2.53-1.84l-1.14-1.9a4 4 0 0 0-5-1.62l-2.03.87a4 4 0 0 1-3.12 0l-2.04-.87a4 4 0 0 0-4.99 1.62l-1.14 1.9a4 4 0 0 1-2.53 1.84l-2.15.5a4 4 0 0 0-3.09 4.24l.2 2.2a4 4 0 0 1-.97 2.98l-1.45 1.67a4 4 0 0 0 0 5.24l1.45 1.67a4 4 0 0 1 .97 2.97l-.2 2.2a4 4 0 0 0 3.09 4.25l2.15.5a4 4 0 0 1 2.53 1.84l1.14 1.9a4 4 0 0 0 5 1.62l2.03-.87zM152 207a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm6 2a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-11 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm3-5a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-8 8a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm3 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm0 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm4 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm5-2a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm5 4a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm4-6a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm6-4a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-4-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm4-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-5-4a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm-24 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm16 5a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm7-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0zm86-29a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm19 9a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm-14 5a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm-25 1a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm5 4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm9 0a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm15 1a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm12-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm-11-14a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm-19 0a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm6 5a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm-25 15c0-.47.01-.94.03-1.4a5 5 0 0 1-1.7-8 3.99 3.99 0 0 1 1.88-5.18 5 5 0 0 1 3.4-6.22 3 3 0 0 1 1.46-1.05 5 5 0 0 1 7.76-3.27A30.86 30.86 0 0 1 246 184c6.79 0 13.06 2.18 18.17 5.88a5 5 0 0 1 7.76 3.27 3 3 0 0 1 1.47 1.05 5 5 0 0 1 3.4 6.22 4 4 0 0 1 1.87 5.18 4.98 4.98 0 0 1-1.7 8c.02.46.03.93.03 1.4v1h-62v-1zm.83-7.17a30.9 30.9 0 0 0-.62 3.57 3 3 0 0 1-.61-4.2c.37.28.78.49 1.23.63zm1.49-4.61c-.36.87-.68 1.76-.96 2.68a2 2 0 0 1-.21-3.71c.33.4.73.75 1.17 1.03zm2.32-4.54c-.54.86-1.03 1.76-1.49 2.68a3 3 0 0 1-.07-4.67 3 3 0 0 0 1.56 1.99zm1.14-1.7c.35-.5.72-.98 1.1-1.46a1 1 0 1 0-1.1 1.45zm5.34-5.77c-1.03.86-2 1.79-2.9 2.77a3 3 0 0 0-1.11-.77 3 3 0 0 1 4-2zm42.66 2.77c-.9-.98-1.87-1.9-2.9-2.77a3 3 0 0 1 4.01 2 3 3 0 0 0-1.1.77zm1.34 1.54c.38.48.75.96 1.1 1.45a1 1 0 1 0-1.1-1.45zm3.73 5.84c-.46-.92-.95-1.82-1.5-2.68a3 3 0 0 0 1.57-1.99 3 3 0 0 1-.07 4.67zm1.8 4.53c-.29-.9-.6-1.8-.97-2.67.44-.28.84-.63 1.17-1.03a2 2 0 0 1-.2 3.7zm1.14 5.51c-.14-1.21-.35-2.4-.62-3.57.45-.14.86-.35 1.23-.63a2.99 2.99 0 0 1-.6 4.2zM275 214a29 29 0 0 0-57.97 0h57.96zM72.33 198.12c-.21-.32-.34-.7-.34-1.12v-12h-2v12a4.01 4.01 0 0 0 7.09 2.54c.57-.69.91-1.57.91-2.54v-12h-2v12a1.99 1.99 0 0 1-2 2 2 2 0 0 1-1.66-.88zM75 176c.38 0 .74-.04 1.1-.12a4 4 0 0 0 6.19 2.4A13.94 13.94 0 0 1 84 185v24a6 6 0 0 1-6 6h-3v9a5 5 0 1 1-10 0v-9h-3a6 6 0 0 1-6-6v-24a14 14 0 0 1 14-14 5 5 0 0 0 5 5zm-17 15v12a1.99 1.99 0 0 0 1.22 1.84 2 2 0 0 0 2.44-.72c.21-.32.34-.7.34-1.12v-12h2v12a3.98 3.98 0 0 1-5.35 3.77 3.98 3.98 0 0 1-.65-.3V209a4 4 0 0 0 4 4h16a4 4 0 0 0 4-4v-24c.01-1.53-.23-2.88-.72-4.17-.43.1-.87.16-1.28.17a6 6 0 0 1-5.2-3 7 7 0 0 1-6.47-4.88A12 12 0 0 0 58 185v6zm9 24v9a3 3 0 1 0 6 0v-9h-6z'/%3E%3Cpath d='M-17 191a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm19 9a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1zm-14 5a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm-25 1a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm5 4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm9 0a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm15 1a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm12-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2H4zm-11-14a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm-19 0a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2h-2zm6 5a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1zm-25 15c0-.47.01-.94.03-1.4a5 5 0 0 1-1.7-8 3.99 3.99 0 0 1 1.88-5.18 5 5 0 0 1 3.4-6.22 3 3 0 0 1 1.46-1.05 5 5 0 0 1 7.76-3.27A30.86 30.86 0 0 1-14 184c6.79 0 13.06 2.18 18.17 5.88a5 5 0 0 1 7.76 3.27 3 3 0 0 1 1.47 1.05 5 5 0 0 1 3.4 6.22 4 4 0 0 1 1.87 5.18 4.98 4.98 0 0 1-1.7 8c.02.46.03.93.03 1.4v1h-62v-1zm.83-7.17a30.9 30.9 0 0 0-.62 3.57 3 3 0 0 1-.61-4.2c.37.28.78.49 1.23.63zm1.49-4.61c-.36.87-.68 1.76-.96 2.68a2 2 0 0 1-.21-3.71c.33.4.73.75 1.17 1.03zm2.32-4.54c-.54.86-1.03 1.76-1.49 2.68a3 3 0 0 1-.07-4.67 3 3 0 0 0 1.56 1.99zm1.14-1.7c.35-.5.72-.98 1.1-1.46a1 1 0 1 0-1.1 1.45zm5.34-5.77c-1.03.86-2 1.79-2.9 2.77a3 3 0 0 0-1.11-.77 3 3 0 0 1 4-2zm42.66 2.77c-.9-.98-1.87-1.9-2.9-2.77a3 3 0 0 1 4.01 2 3 3 0 0 0-1.1.77zm1.34 1.54c.38.48.75.96 1.1 1.45a1 1 0 1 0-1.1-1.45zm3.73 5.84c-.46-.92-.95-1.82-1.5-2.68a3 3 0 0 0 1.57-1.99 3 3 0 0 1-.07 4.67zm1.8 4.53c-.29-.9-.6-1.8-.97-2.67.44-.28.84-.63 1.17-1.03a2 2 0 0 1-.2 3.7zm1.14 5.51c-.14-1.21-.35-2.4-.62-3.57.45-.14.86-.35 1.23-.63a2.99 2.99 0 0 1-.6 4.2zM15 214a29 29 0 0 0-57.97 0h57.96z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");<br/>        display: flex;<br/>        height: 100vh;<br/>        justify-content: center;<br/>        align-items: center;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>​<br/>  &lt;body&gt;<br/>    &lt;section class="text-gray-700 body-font"&gt;<br/>      &lt;div class="container px-5 py-24 mx-auto flex flex-wrap items-center"&gt;<br/>        &lt;div class="lg:w-2/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0"&gt;<br/>          &lt;h1<br/>            class="font-bold mt-24 lg:mt-0 font-medium text-5xl text-gray-600"<br/>          &gt;<br/>            Gender Predictor<br/>          &lt;/h1&gt;<br/>          &lt;p class="leading-relaxed mt-4 text-xl text-gray-500"&gt;<br/>            Predict your gender by providing your Height and Weight.<br/>          &lt;/p&gt;<br/>        &lt;/div&gt;<br/>        &lt;form method="post" action=""&gt;<br/>          &lt;div<br/>            class="lg:w-5/6 md:w-1/2 bg-gray-800 rounded-lg p-8 flex flex-col text-xl md:ml-auto w-full mt-10 md:mt-0"<br/>          &gt;<br/>            &lt;div class="relative mb-4"&gt;<br/>              &lt;label<br/>                for="height"<br/>                class="leading-7 font-bold text-sm text-gray-100"<br/>                &gt;Height(Inches)&lt;/label<br/>              &gt;<br/>              &lt;input<br/>                type="number"<br/>                id="height"<br/>                name="height"<br/>                class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"<br/>              /&gt;<br/>            &lt;/div&gt;<br/>            &lt;div class="relative mb-4"&gt;<br/>              &lt;label<br/>                for="weight"<br/>                class="leading-7 text-sm font-bold text-gray-100"<br/>                &gt;Weight(lbs)&lt;/label<br/>              &gt;<br/>              &lt;input<br/>                type="number"<br/>                id="weight"<br/>                name="weight"<br/>                class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"<br/>              /&gt;<br/>            &lt;/div&gt;<br/>            &lt;input<br/>              class="text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"<br/>              type="submit"<br/>              value="Predict"<br/>            /&gt;<br/>          &lt;/div&gt;<br/>        &lt;/form&gt;<br/>        &lt;br /&gt;<br/>        &lt;div class="mt-10 mr-4"&gt;<br/>          &lt;div class=""&gt;<br/>            {% if result == "Male" %}<br/>            &lt;p class="text-5xl text-gray-500 font-bold"&gt;<br/>              The person is a &lt;span class="text-indigo-500"&gt;{{result}}&lt;/span&gt;<br/>            &lt;/p&gt;<br/>            {% else %}<br/>            &lt;p class="text-5xl text-gray-500 font-bold"&gt;<br/>              The person is a &lt;span class="text-pink-500"&gt;{{result}}&lt;/span&gt;<br/>            &lt;/p&gt;<br/>            {% endif %}<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/section&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;<br/>​</span></pre><p id="1d7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们选择使用 Tailwindcss 作为 UI 库，因为它很酷，而且 Tailblocks 上有许多组件可供您在应用程序中使用。由于 FasAPI 用的是 Jinja2Flask 使用的相同模板引擎；很容易输出我们的结果，创造条件。</p><p id="2247" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第四步。如果我们在本地安装了 uvicorn，我们可以通过在我们的终端上运行以下命令来运行该应用程序；</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="9a5c" class="lb jq hi kx b fi lc ld l le lf">uvicorn app:app --reload # using the command line <br/># make sure to install uvicorn first <br/>​<br/>​# you can also run the app by addingthe following to the app.py file<br/>import uvicorn</span><span id="92bd" class="lb jq hi kx b fi lj ld l le lf">if __name__=="__main__": <br/>   uvicorn.run("gender_model_fastapi:app", reload=True)</span></pre><p id="da02" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出应该是这样的:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/497b6f1a0bdb3d116756f31f41475159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jzGs_3J0V0wdE74ainz9OQ.gif"/></div></div></figure><p id="22df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是用 FastAPI 在生产中部署 Scikit-learn 模型有多容易。我相信 FastAPI 将成为数据科学家和 Web 开发人员的重要框架，用于部署机器学习模型和使用 Python 构建全栈应用程序和 API。</p></div></div>    
</body>
</html>