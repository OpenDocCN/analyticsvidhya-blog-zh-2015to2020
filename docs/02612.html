<html>
<head>
<title>7 methods to evaluate your classification models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">评估分类模型的7种方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/everything-you-need-about-evaluating-classification-models-dfb89c60e643?source=collection_archive---------7-----------------------#2019-12-25">https://medium.com/analytics-vidhya/everything-you-need-about-evaluating-classification-models-dfb89c60e643?source=collection_archive---------7-----------------------#2019-12-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/35efa796ef137239f1342ae3aec2e6bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cye-TT5CbhQZOqGzN95G-w.png"/></div></div></figure><p id="6b8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分类模型广泛应用于各种场景。在这篇文章中，不仅会讨论准确性或f1评分，还会提到KS和Kappa评分。7不同的评价方法如下。让我们深入了解它们！</p><ol class=""><li id="4619" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">准确(性)</li><li id="8a89" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">精确</li><li id="474d" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">回忆</li><li id="1a4e" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">子一代</li><li id="7b13" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">AUC-ROC</li><li id="dac9" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">偷杀/抢杀</li><li id="1c15" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">Kappa评分</li></ol><h1 id="4a7d" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">准确(性)</h1><p id="aef0" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">准确度是计算预测正确的百分比。一般来说，在大多数情况下都可以使用。</p><p id="e47a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，当目标超级不平衡时，使用精确度是错误的。例如，在欺诈检测中，99.99%的交易是好的，只有0.01%是坏的。如果我们简单地假设100%的用户是好的，那么准确率可以达到99.9%，这意味着准确率不是一个评估性能的好指标。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/fed9aa245b5ed1e71ebee8326742f6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*g3KLDZatpTquU7_yUhAMYg.png"/></div></figure><h1 id="2a47" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">精确</h1><p id="136c" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">精确度也称为阳性预测值和特异性。计算精度的方法如下。</p><p id="d1cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果预测中有3个阳性(“1”)，其中2个是正确的(真阳性，即TP)，则精度为66.6% (2/3)。在这里，无论有多少个0是正确的或不正确的，精度都不会受到它们的影响。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/41a2ac0edc901cdbbe9f00281fae978a.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*QVaXdPVGKg8tsNCcPdPy-g.png"/></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es ll"><img src="../Images/d913cd1ca4e0e844db5c1221ea852e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*un6jCAT84LdonCOD3s9Z1A.png"/></div></figure><h1 id="dedd" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">回忆</h1><p id="bc01" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">同样，回忆被定义为“成功检索到的相关文档的分数”，它也被称为敏感度。</p><p id="0da0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，10个标签(基本事实)是肯定的(“1”)，其中3个被预测为肯定的，那么召回率是30%。用例可以是在医院，医生更关心是否所有潜在的新冠肺炎病例都被诊断出来。甚至有些情况下假阳性(FP)并不重要，因为有第二轮或第三轮测试。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/88157467040fc4079c6fe2e093f6ffa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*dbF78GT8clgmXQAjPfSlog.png"/></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/1f9d6a7eae551aab0793480370de53e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*yvEMspixf9OiTDVM7T7kPw.png"/></div></figure><p id="71e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要注意的是，查全率和查准率并不仅仅可以用于二元分类问题。它们也可以用于多类建模，这将在未来深入讨论。你也可以在scikit-learn中快速查看如何操作[ <a class="ae lo" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_recall_fscore_support.html" rel="noopener ugc nofollow" target="_blank">点击此处</a> ]。</p><h1 id="45be" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">子一代</h1><p id="d49e" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">上面讨论了召回率和精确度。F-measure是一种同时关注两个指标的方法。公式如下:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/fec6b04b69bce9e903dc07b4866e957b.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*wrgXpXTuXSjHMgKPBHRQiQ.png"/></div></figure><p id="e27f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果查全率和查准率同等重要，F1将如下使用。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/32a1ad34423b505d278cf7a24edc8bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*v9cPoh5oD3ewGLo3irksHw.png"/></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/ef6ad72e482e5e4cd3c80cc0f3941ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*iY_Mr0PLq2dAR3MdTqTLWg.png"/></div></figure><h1 id="e6d6" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">AUC-ROC</h1><p id="a1ae" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">AUC-ROC代表“ROC曲线下的面积”就是用各种阈值(默认阈值为0.5)来衡量分类模型。值的范围是从0到1。特别是，公式中使用的术语如下。</p><p id="27af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TN:真阴性</p><p id="4c60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TP:真阳性</p><p id="4330" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">FN:假阴性</p><p id="2347" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">FP:假阳性</p><p id="28f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TPR(真阳性率)=召回率= TP / (TP + FN)</p><p id="e106" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">FPR(假阳性率)= 1-精度= FP /(FP + TN)</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/07318574f326d301644649443956ebbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KK51NEp0VcOm_jamgPa9DA.jpeg"/></div></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/3199064926eea73bd9fc3bd2be4989db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*O9LpNlBx6aZ6qZjAUXJaIA.png"/></div></figure><h1 id="ec2c" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">偷杀/抢杀</h1><p id="a03c" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">KS(Kolmogorov–Smirnov检验)是一种评估指标，用于比较两个样本是否来自同一分布。此外，KS还广泛用于银行业的风险管理和欺诈检测。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/e781f27f8339a2589a8e2e737ad5dcaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*uhMOYVP4rwq9cih5-VsGTQ.png"/></div></figure><p id="405a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在图中，KS可以解释为2类的最大余量(红蓝线代表两类的累积概率)。如果差距足够大，我们可以说分类模型可以很好地区分两个类别。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/d5f08ada0e52b9aaa17a4e5b46356fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*535sng0P6cGKRTwL.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">图片来自维基</figcaption></figure><h1 id="7820" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Kappa评分</h1><p id="438d" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">Kappa评分是衡量区间信度的指标。换句话说，我们想知道“真正的准确性”并降低不确定性水平。比如有2个类，2个类的比例相同，那么通过随机猜测得到正确答案的概率很大。在同样的情况下，如果有超过10门课，相对来说，通过随机猜测得到正确答案要困难得多。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/018b94ce45afbd09dc5d6418febcc441.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*OdZfzGBxl-p9VgbSKM-4NA.png"/></div></figure><p id="62a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的公式中，Po是观察到的一致，Pe是机会一致的假设概率。仍然不知道它是如何工作的？让我们看一个例子。Po (75%)与准确度相同。然后，我们需要计算一下，我们有多幸运能正确地得到Y (35/60)和N (25/60)(我们也可以理解为难度的高低)。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/0e7d6a6a277c2c799f7824625c1d76d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HSGC_Np8mKbh5ZdfcM50VA.png"/></div></div></figure><p id="a665" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在实际操作中，我们不需要一步一步地手动计算Kappa分数。而是可以直接从sklearn导入cohen_kappa_score。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/b20b6b413b216aea030e082eb2c2aa62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*MHJmjfetRMwohMEbECmg1Q.png"/></div></figure><p id="5774" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，加权kappa评分可用于评估有序多类分类模型。</p></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="59d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读。希望这7个评价指标能给你一个评价分类模型的总体思路。</p><h1 id="2442" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">参考</h1><p id="d714" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated"><a class="ae lo" href="https://en.wikipedia.org/wiki/Precision_and_recall#Recall" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Precision_and_recall#Recall</a></p><p id="def2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">https://en.wikipedia.org/wiki/Cohen%27s_kappa<a class="ae lo" href="https://en.wikipedia.org/wiki/Cohen%27s_kappa" rel="noopener ugc nofollow" target="_blank"/></p><p id="e2a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lo" href="https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Kolmogorov % E2 % 80% 93 Smirnov _ test</a></p></div></div>    
</body>
</html>