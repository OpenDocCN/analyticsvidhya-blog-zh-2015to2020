<html>
<head>
<title>#DataBlogSpp3: Confused between the DatesInPeriod and the DatesBetween? NW, You’re sorted!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">#DataBlogSpp3:混淆了DatesInPeriod和DatesBetween？NW，你被分类了！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/confused-between-the-datesinperiod-and-the-datesbetween-nw-youre-sorted-7893cc0d4b16?source=collection_archive---------6-----------------------#2020-02-28">https://medium.com/analytics-vidhya/confused-between-the-datesinperiod-and-the-datesbetween-nw-youre-sorted-7893cc0d4b16?source=collection_archive---------6-----------------------#2020-02-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好，很高兴在另一个博客上见到你们。</p><p id="c3e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我快速解释一下什么是DATESINPERIOD()和DATESBETWEEN()函数:</p><ul class=""><li id="d592" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">这些是微软为POWER BI设计的时间智能DAX函数。</li><li id="d2c3" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">两者都返回一列日期值。</li><li id="3bb8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">DATESBETWEEN()需要一个<strong class="ih hj">开始日期</strong>和一个<strong class="ih hj">结束日期</strong>。</li><li id="9498" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">DATESINPERIOD()只需要<strong class="ih hj">开始日期、间隔数和间隔类型</strong>(日/月/季/年)。</li></ul><p id="1952" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我更喜欢用更简单的方式解释概念，就像你的一个朋友，他在考试那天教你所有重要的问题！归根结底，我们需要传递知识。让我们进入博客。</p><p id="f27c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我有一个汽车销售数据集，其中包含不同制造商的销售额及其相应的销售日期。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/2c48b31178cba7bec6ba47c9237c5ffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sqrtsT2snrCulIgJ"/></div></div></figure><p id="efa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的场景是向我们的老板提交一份关于三月和四月汽车销售的报告。所以，我们这里的第一个目标是提取三月和四月的汽车销售，对吗？</p><p id="5ef1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本博客的目的是解释哪种功能最适合使用。</p><p id="fbcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我将展示如何使用#DAX中的DATESBETWEEN()函数提取所有制造商在3月和4月的销售额。</p><p id="7992" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看微软怎么说……</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kd"><img src="../Images/6d54b2b0f7a25d03417788f6a7585f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YnOUIeJeb6cEM_ug"/></div></div></figure><p id="08de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，酷。让我们开始用更简单的方式解释这些东西。</p><p id="69be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DATESBETWEEN()函数有三个参数:</p><ul class=""><li id="844a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><dates>:我们有日期的栏目。例:<strong class="ih hj">表名【日期列】</strong> — <strong class="ih hj">简单！！</strong></dates></li><li id="47a6" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><start_date> —你说的“约会表情”是什么意思，就当是约会好了，这是第一次约会<strong class="ih hj"/>！！要用的格式是<strong class="ih hj"> (YYYY，MM，DD)。</strong>格式中请不要使用连字符，你必须使用一个<strong class="ih hj"> <em class="ke">逗号</em> </strong>。</start_date></li><li id="0b49" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><end_date> —有效格式中的结束<strong class="ih hj">【日期】</strong>。</end_date></li></ul><p id="d707" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，我们要怎么处理一列日期呢？没道理啊。我们的目标是什么？这是为了提取3月和4月的汽车销售额。酷毙了。</p><p id="8e8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一个简单的公式可以做到这一点，相信我，这很容易。这是一个度量(DAX，lol):</p><p id="6667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">new column name = CALCULATE(SUM(CarSales[销售价格])，dates between(CarSales[销售日期]，日期(2018，3，1)，日期(2018，3，31 ) ) ) </strong></p><p id="6576" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在这里做的只是计算从2018年3月1日<strong class="ih hj">到2018年3月31日</strong>每一个制造商的销售价格。容易吗？</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kf"><img src="../Images/c53071b38859db839b7f1c117dae6926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wfbDtnsDN7dtwGBQ"/></div></div></figure><p id="14af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们以卡片可视化的形式得到了3月和4月的销售额，描述以<strong class="ih hj">“DB”、</strong>结尾，对吗？它表示这些值是使用DATESBETWEEN()函数提取的。对于四月，DAX公式是相同的，但是<strong class="ih hj">的开始日期应该是(2018，4，1) </strong>和<strong class="ih hj">的结束日期应该是(2018，4，30)。</strong></p><p id="ffbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们在DATESINPERIOD()中尝试同样的事情，注意我们要尝试同样的事情。在此之前，我们先来看看我们的朋友(微软:-P)对DATESINPERIOD()函数的看法。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kg"><img src="../Images/6978a9bea87c69001723fe388ab609e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xTbTQwcHprbM2l62"/></div></div></figure><p id="d1b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DATESINPERIOD函数有四个参数:</p><ul class=""><li id="9e1a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><dates>:我们有日期的栏目。例:<strong class="ih hj">表名【日期列】</strong> — <strong class="ih hj">简单！！</strong></dates></li><li id="228a" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><start_date> —有效的<strong class="ih hj">开始日期(YYYY-MM-DD)。</strong></start_date></li><li id="4d68" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><number_of_intervals> —您应该添加<strong class="ih hj"> 28/29/30/31 </strong>间隔，以获得一个月的最后一天和第一天。您应该在第一个月加上12个间隔，以得到一年中的最后一个月。容易吗？<strong class="ih hj">基本上就是你要跟起始日期加减的天数/季度数/月数/年数。</strong></number_of_intervals></li><li id="7531" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><intervals> —您不能输入<em class="ke"> 30作为&lt;间隔数&gt; </em>并选择<em class="ke">“月”作为&lt;间隔&gt; </em>，因为一年中我们只有12个月！<strong class="ih hj"> &lt;区间&gt;是你输入的区间数的定义，很简单。</strong></intervals></li></ul><p id="5e53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，在我们的DATESBETWEEN()示例中，我们使用3月1日的<strong class="ih hj">作为开始日期&lt;和3月31日的&lt;结束日期&gt; </strong>来计算3月份的总销售额，对吗？请向上滚动以交叉核对。</p><p id="5a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在DATESINPERIOD()中做同样的事情。让我们开始播放DIP函数的参数:</p><ul class=""><li id="85dc" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><dates>:汽车销售【日期栏】</dates></li><li id="5b90" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><start_date> : <strong class="ih hj"> (2018，3，1) </strong> — <strong class="ih hj">同DATESBETWEEN()函数</strong></start_date></li><li id="05cf" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><number_of_intervals> : <strong class="ih hj"> 30 </strong>。因为<strong class="ih hj">3月1日+ 30天= 3月31日，接受？</strong></number_of_intervals></li><li id="9161" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><intervals>:我把这个选项留给你，试一试；-)</intervals></li></ul><p id="3c42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经执行了DAX代码，让我们看看在我们的POWER BI桌面上发生了什么。<strong class="ih hj">“DIP”</strong>是指使用DATESINPERIOD()函数计算的值。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kh"><img src="../Images/234d21b84a4fbc7246a030ece34e3f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pdy2FiKoceI5EHEu"/></div></div></figure><p id="8281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哇哦！！为什么价值观会发生变化？？有什么猜测吗？？好吧，我告诉你发生了什么。从PowerBI桌面查看编辑查询。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ki"><img src="../Images/57f176c589ea0b78e7575c53d561eedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1_8tPjH9C6METWV4"/></div></div></figure><p id="6ec8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="0e56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，我们发现并不是三月份所有的日子都有销售额，但是DATESBETWEEN()函数工作正常，只给出了三月份的总销售额，因为它是根据<strong class="ih hj">实际日期工作的，换句话说，它是根据<em class="ke">日历工作的。</em>T47】</strong></p><p id="99e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，在DATESINPERIOD()函数的情况下，如果某个特定月份的所有日期都在我们的数据集内，它就可以很好地工作，但是在我们的情况下，我们不满足要求。所以，事情是这样的，它检查<strong class="ih hj">用户输入的&lt; start_date &gt; = (2018，3，1) </strong>却找不到，因为它<strong class="ih hj">不存在</strong>。在这种情况下，如果没有找到提到的数据，<strong class="ih hj">第一条记录的日期值将被视为开始日期(2018，3，21) </strong>，并且由于日期值的不一致，基于我们给出的间隔数，它不起作用。因此，它一直计算到第30条记录的日期值。</p><p id="7eb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不信我给你看证明(只要记住30日记录的日期vale是2018年4月<strong class="ih hj">19日</strong>)。我已经在前面的截图中突出显示了它，让我们尝试将该日期作为DATESBETWEEN()函数的<strong class="ih hj"> &lt; end_date &gt;。</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kj"><img src="../Images/57f7596ffc6e1d8435d04041c74dd9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J8bdl_cpldwFHQpj"/></div></div></figure><p id="d315" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经证明了<strong class="ih hj"> LHS( DATESINPERIOD ) </strong>等于<strong class="ih hj"> RHS( DATESBETWEEN ) </strong>，LOL。</p><p id="a1ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，我在这里修改了DATESBETWEEN() dax代码，将<end_date>更新为<strong class="ih hj"> (2018，4，19) =第30个记录值。</strong></end_date></p><p id="1969" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">DATESBETWEEN()非常出色，甚至它的工作方式与DATESINPERIOD()类似。DB函数无法找到用户输入的第一个日期，因此它将第一个记录日期值<strong class="ih hj">作为第一个日期，但它返回了预期的值，因为我们提到了&lt; end_date &gt;，并且它存在于数据集中。</strong></p><p id="5a7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总之，我已经向你解释了概念，我已经解释了事情是如何工作的，最重要的是哪个函数将与<strong class="ih hj">一致和不一致的数据集一起工作。现在，你可以从中选择一个，因为你将使用不同的数据集。</strong></p><p id="aa9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，现在你会有一个疑问，我们如何使用DATESINPERIOD()函数而不是使用DATESBETWEEN()函数来获得三月和四月的正确销售额，这很简单。我会告诉你怎么做。</p><p id="ef73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们不要改变DIP函数的<strong class="ih hj"> &lt; start_date &gt; </strong>值，而是让我们对<strong class="ih hj">&lt;number _ of _ intervals&gt;做一个小的改变，使其变为11。</strong></p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kk"><img src="../Images/48ce67aa954de702a3e2fff7c83d7e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AEoiCTRRPqQuxaJX"/></div></div></figure><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kl"><img src="../Images/5f46e31e4c6391d70473a62846fa36b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CBTVzjZxpP7nB8Wy"/></div></div></figure><p id="0a47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任务完成了！我们想要三月份的总销售额，我们输入了数据集中不存在的<start_date>，因此第<strong class="ih hj">条记录的日期值被取为</strong>。三月的最后一个日期是<strong class="ih hj">31日</strong>，其对应的序列号或&lt;间隔数&gt;是<strong class="ih hj"> 11 </strong>(根据我的数据集)。通过用上面的值更新DATESINPERIOD()函数的DAX代码，我们成功地完成了工作，使用了两个不同的函数来实现一个共同的目标！</start_date></p><p id="a0a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在同一个数据集上使用两个不同的函数向我们的老板提交最终报告:</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es km"><img src="../Images/265bebfc7377da10d33444a6473b000e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4eQs-wQByVYOow-d"/></div></div></figure><p id="8db9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种比较清楚地显示了哪个制造商最有前途，以及所有制造商的销售额。太棒了。</p><p id="a12f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">*免责声明:这些是样本数据集，因此汽车制造商方面没有抱怨。LOL*</p><p id="b892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你的宝贵时间。我们很快会在另一个博客上见面。</p><div class="kn ko ez fb kp kq"><a href="https://twitter.com/Drdataspp" rel="noopener  ugc nofollow" target="_blank"><div class="kr ab dw"><div class="ks ab kt cl cj ku"><h2 class="bd hj fi z dy kv ea eb kw ed ef hh bi translated">苏丽亚·普拉卡什·帕蒂班</h2><div class="kx l"><h3 class="bd b fi z dy kv ea eb kw ed ef dx translated">Soorya Prakash Parthiban的最新推文(@Drdataspp)。蛇💖*可视化/洞察力📈📊*数据库💾 *…</h3></div><div class="ky l"><p class="bd b fp z dy kv ea eb kw ed ef dx translated">twitter.com</p></div></div><div class="kz l"><div class="la l lb lc ld kz le kb kq"/></div></div></a></div><div class="kn ko ez fb kp kq"><a href="https://www.instagram.com/drdata25/" rel="noopener  ugc nofollow" target="_blank"><div class="kr ab dw"><div class="ks ab kt cl cj ku"><h2 class="bd hj fi z dy kv ea eb kw ed ef hh bi translated">登录* Instagram</h2><div class="kx l"><h3 class="bd b fi z dy kv ea eb kw ed ef dx translated">欢迎回到Instagram。登录查看您的朋友、家人和兴趣爱好捕捉和分享了什么…</h3></div><div class="ky l"><p class="bd b fp z dy kv ea eb kw ed ef dx translated">www.instagram.com</p></div></div></div></a></div></div></div>    
</body>
</html>