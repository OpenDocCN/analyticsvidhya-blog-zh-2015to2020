<html>
<head>
<title>Data Cleaning and Preprocessing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据清理和预处理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-cleaning-and-preprocessing-9267de71ac3f?source=collection_archive---------13-----------------------#2020-01-08">https://medium.com/analytics-vidhya/data-cleaning-and-preprocessing-9267de71ac3f?source=collection_archive---------13-----------------------#2020-01-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="73f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在使用数据构建模型之前，确保数据是干净的是非常重要的。在数据科学中，你将花费大部分宝贵的时间来确保你的数据是可靠的，并且符合算法的规则。有时候，这项任务需要你有一些比特和字节以外的知识。这可能需要你了解一些生物、金融、地理等知识。它们的存在会使您的数据变得混乱。本文将讨论其中的几个。</p><p id="4324" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我试图避免深奥的计算机语言，并试图不包含代码，以接触更广泛的社区。</p><p id="c5a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据类型问题</strong></p><p id="7a20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每一列中，每个输入都应该符合列数据类型。您应该始终检查是否有违反列数据类型的输入。例如，在有整数的列中，不希望有字符串，反之亦然。</p><p id="fe78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">语境问题</strong></p><p id="ba18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有些问题需要一些领域知识来检测，一个列可能包含正确数据类型的输入，但包含上下文错误的输入。例如，糖水平不能为零，零是正确的数据类型，它也不是空值，但在这种情况下，您应该将其标记为缺失值，因为它在上下文中是错误的。这意味着，在不了解列的上下文的情况下，您不会自发地将零标记为缺失值，正如前面提到的，这可能需要一些领域知识。</p><p id="d78c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查数据集中的零点的一种快速方法是检查数据的摘要。这可以通过运行<strong class="ih hj"> pandas，</strong>的describe()方法来完成，它将返回几个值，但此时感兴趣的是最小值，这假设您的数据集只包含正数。现在，每一个最小值为零的列(变量)都是我们非常感兴趣的。请注意，零可能是由于错误或上下文的原因。身体质量向量的最小值为零表示有错误，必须更换或移除。</p><p id="accc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们再举一个疯狂的例子，假设你在交通部工作，试图建立一个处理车祸的模型。然后，在速度栏中，您会看到一个540km/h的输入。这并不需要任何特殊的领域知识，就可以知道在公共道路上几乎不可能找到一辆可以以该速度行驶的汽车。这也可以通过describe()方法进行研究，该方法返回最小值和最大值，因此，如果列的最大值或最小值超出了上下文可接受的值的范围，就要开始清理该列。</p><p id="7c89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些背景问题很重要。明智的做法是列出所有不可能的上下文输入，你可以通过构建一个正则表达式或任何你认为合适的方法来实现。</p><p id="3501" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">空值。</strong></p><p id="ccf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多机器学习算法不接受空值，因此您应该将空值标记为缺失值。您可能会遇到的一个问题是，当空值以Numpy无法理解的方式表示时。在某些上下文中，零可能表示空值，在某些情况下，数据捕获使用一些字符符号来表示空值。他们可能会使用'-'、' none '或任何其他numpy无法理解的方式。你应该永远记住，数据捕获并不精通编程库。您可能陷入的陷阱是假设所有空值都用' NaN '表示。您的数据集中仍然会留下无数的空值，这将使您的模型过时。</p><p id="8734" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您处理大型数据集时，很有可能会遇到一些输入为空的记录。那一定是由于打字错误或其他技术问题。</p><p id="e4c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">缺失值不仅涉及空值，还涉及上下文混淆的输入。例如，列中应该只有整数的字符串被视为缺失值。与假定只有文本的列中的数字一样，将被归类为缺失值。有时数据录入团队选择使用其他符号来分类“空”</p><p id="52d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查数据集中的零点的一种快速方法是检查数据的摘要。这可以通过运行<strong class="ih hj"> pandas，</strong>的describe()方法来完成，它将返回几个值，但此时感兴趣的是最小值，这假设您的数据集只包含正数。现在，我们对最小值为零的每一列都很感兴趣，记住许多算法不处理空值。请注意，零可能是由于错误或上下文的原因。身体质量向量的最小值为零表示有错误，必须更换或移除。</p><p id="9d59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">检测到所有这些缺失值后该怎么办，</strong></p><p id="0fa4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">强烈建议不要删除包含缺失值的行。这是因为删除这些数据的方法会改变数据的分布。想象一下，如果几乎30%的行包含零；这对你的模型来说是灾难性的。</p><p id="e91c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有各种各样的技术用于替换缺失数据，对于数字，我们通常使用均值、众数或中位数。对于分类数据，sklearn为我们提供了编码方法，即一键编码器和顺序编码器，以取代分类数据。</p><p id="794f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编码器首先必须将特征转换成有序整数，从0到类别数。因此，如果你有4个类别，“棕色”，“黑色”，“蓝色”和粉红色。你会得到一个向量(0，1，3和4)。因此，丢失的值必须由这些值中的任何一个来替换。在分类数据中你可以选择用频繁分类的模式来替换。</p><p id="1f06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止还没有经验法则，因此您可以利用性能指标来检查每种方法的效果。在数字数据中，使用均值替换缺失值时要小心，因为它很容易受到异常值的影响，并且请记住，您可能想要引入新数据，这可能会有一些奇怪的异常值。</p></div></div>    
</body>
</html>