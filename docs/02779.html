<html>
<head>
<title>Linear Regression using Least Squared method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最小二乘法线性回归</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/linear-regression-using-least-squared-method-88f85b1b3050?source=collection_archive---------19-----------------------#2020-01-01">https://medium.com/analytics-vidhya/linear-regression-using-least-squared-method-88f85b1b3050?source=collection_archive---------19-----------------------#2020-01-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1420" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在处理数据的时候，首先要做的就是用回归分析来检验你所拥有的变量之间是否有关系。散点图是可视化变量之间关系的最佳方式。从左到右向上的圆点表示一种积极的关系。这意味着x变量的增加将导致y变量的增加。从左到右向下的点表示反比关系。</p><p id="c15d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在重要的是首先检查你的数据中是否有任何可能的关系，散点图将帮助我们进行调查。我们需要导入<code class="du jd je jf jg b"><strong class="ih hj">matplotlib.pyplot as plt</strong></code></p><p id="1e6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">plt.scatter( x, y, color=’blue’) // putting data to your scatter diagram</code></p><p id="c222" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">plt.show() // This will plot and give you a pop up of a scatter diagram</code></p><p id="278e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文假设您正在处理简单的线性回归。有了它，你就可以分析你的数据中是否有任何关系。如果这些点靠得很近，这意味着有很强的关系，而分散的点则意味着很弱的关系。如果您得到的点形成了一条水平线，这意味着您的数据中没有关系。</p><p id="64dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">假设你已经从sklearn.linear_model库导入了线性回归，</strong>第一步是获取对象的实例:</p><p id="c8a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">Regression = LinearRegression ()</code></p><p id="3780" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，你可以像一个物体一样与它互动。其中有一个叫做<strong class="ih hj"> fit </strong>的方法，分别取x和y的参数。直观地说，它会将你所有的点(点)绘制成散点图，然后在散点图中找到最符合<strong class="ih hj">点的线。也就是找到一条尽可能接近所有其他点的线，使我们的预测更加准确。</strong></p><p id="5eb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">拟合</strong>方法使用一种叫做<strong class="ih hj">最小二乘法</strong>的方法来达到这个目的。既然这条线不会是完美的，那就穿过所有的点。它会在某些点上方和其他点下方通过。所有不在直线上的点称为“误差”。线上的点具有正误差，线上的点具有零误差，线下的点具有负误差。所有这些误差的总和必须为零。目标是使误差尽可能小，即接近直线。我们可以通过一种统计方法——最小二乘法来实现这一点，这种方法将计算最小的误差平方和(线外所有点的平方)</p><p id="630f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">拆分您的数据，我假设您从sklearn.model_selection导入了train_test_split方法</strong></p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="404a" class="jp jq hi jg b fi jr js l jt ju">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=3)</span></pre><p id="8591" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">train_test_split方法有四个参数，第一个参数“X”将获取我们用于训练的数据，在这种情况下，它将使用70%的数据进行训练，并将X变量存储在X_train中，将y变量存储在y_train(target)中。剩下的30%将用于测试，它将测试数据中的X变量存储在X_test中，测试数据中的y变量存储在y_test中。</p><p id="0cb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据数据的偏差程度，这将决定您希望分割数据的百分比。另一方面，均衡数据总是最佳的，也就是说；如果你在进行情绪分析，确保你的数据有50%的正面情绪和50%的负面情绪。</p><p id="92b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">随机状态</strong>，重要的是要包括使你的数据一致，现在这个数字完全取决于你，它可以是4，33，或者任何数字，它将总是产生相同的结果。如果没有包含，每次运行脚本时，它会选择不同的索引，而当有一个数字时，它总是选择相同的索引，也就是说，如果它第一次选择索引3、5、6和9进行测试，下一次编译时它可能会选择索引1、2、7和10。</p><p id="1555" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经有了所有的基础，我们可以使用上面提到的fit方法和我们从train_test_split方法中得到的数据</p><p id="3394" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">regressor.fit(X_train, y_train)</code></p><p id="3edf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种方法只是计算最接近所有点的直线的斜率和y截距。该公式将采用以下形式:</p><p id="8ec6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Y = a + bx</p><p id="2705" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们的算法已经生成了公式，我们可以从预测开始，在纸面上，您可以用一个值来代替X，在编程术语中，将在我们的回归实例中使用一种称为predict的方法，我们可以使用X_test数据来查看我们的公式(模型)有多准确</p><p id="30ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">y_prediction = regressor.predict(X_test)</code></p><p id="76ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要查看结果，您可以打印结果并检查我们的模型有多准确。快乐编码</p></div></div>    
</body>
</html>