<html>
<head>
<title>A/B Hypothesis Testing Explained Using R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R解释A/B假设检验</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-b-hypothesis-testing-explained-using-r-a44252f47149?source=collection_archive---------6-----------------------#2020-09-26">https://medium.com/analytics-vidhya/a-b-hypothesis-testing-explained-using-r-a44252f47149?source=collection_archive---------6-----------------------#2020-09-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="02fa" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">样本、假说、P值、显著性、误差和测试</h2></div><h2 id="b859" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">序幕</h2><p id="ba00" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">在上一篇<a class="ae ko" rel="noopener" href="/@marco_17979/8-descriptive-statistics-concepts-explained-using-r-8e0d28115fcd">文章</a>中，我谈到了对你的数据使用描述性统计的重要性。</p><p id="cbcd" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你没有读上一篇文章，我强烈建议你去读。</p><p id="fb25" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">以上讲解了8个著名的描述性统计概念，<strong class="jx hj">本文中有些是想当然的，不再赘述</strong>。</p><p id="f971" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">希望你仅仅通过看实际例子就能学到很多东西。</p><p id="ffcb" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你用R自己做，你会学得更快。</p><p id="2006" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，让我们深入第二篇文章。</p><p id="8623" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">听说过CRO吗？</p><p id="e1df" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">它代表转化率优化，是当今数字营销的一个分支。</p><p id="3a0b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">它基于这样一种假设，即你的网站可能会表现得更好，并就此采取行动。</p><p id="76f9" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">CRO顾问调整按钮、产品信息、文案、设计等等来增加你的转化率。</p><p id="b830" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你是一个数学极客，你想先睹为快进入CRO世界，这篇文章是给你的。</p><p id="7777" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果您是CRO的顾问，并且想知道如何使用R进行简单的A/B测试，那么这篇文章就是为您准备的。</p><p id="e323" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你只是好奇，想学习，这篇文章也适合你。</p><p id="42e9" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们将使用R来解释A/B测试的基本概念:</p><ul class=""><li id="5324" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">抽样、样本大小和总体</li><li id="4cf3" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">假设创建和零假设</li><li id="618b" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">第一类和第二类错误</li><li id="a30f" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">p值和显著性水平</li><li id="8617" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">置信水平和能力</li><li id="2617" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">一个样本T检验和多个T检验</li><li id="4848" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">多重T检验问题和方差分析</li></ul><h2 id="6f3c" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">A/B假设检验对你有什么帮助？</h2><p id="990d" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">假设你在一家电子商务网站工作，你想了解UX最近的重新设计是如何影响你的用户参与度或购买率的。</p><p id="668c" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你还不知道这是积极的还是消极的，但你手头有很多数据。</p><p id="a05b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这就是假设检验发挥作用的地方。</p><p id="fbbe" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">它会帮助你评估这种变化是真实而持久的，还是只是一种随机波动。</p><p id="f1ed" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">假设检验为您提供了一个框架，您可以重复使用该框架根据数据做出明智的决策。</p><p id="ef67" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你的测试结果越好，你的<em class="li">信心水平</em>就越高，说明改变你的网站是一个好的选择。</p><p id="1503" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们稍后会谈到这一点。</p><h2 id="0fdf" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">抽样、样本大小和总体</h2><p id="48c1" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">在进行测试之前，我们需要了解基本概念。</p><p id="02b3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在统计学中，样本是原始总体的一部分。</p><p id="c75e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们为什么要这样做？</p><p id="47e6" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">想想吧。</p><p id="50ae" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你想知道美国男性的平均身高是多少。</p><p id="fc67" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你能测量我们所有人吗？</p><p id="8a1e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你可以，但是效率不高:会花掉你好几年的时间。</p><p id="ef6b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">取而代之的是，分析师通过一个叫做<em class="li">抽样</em>的过程，从原始<em class="li">人群</em>中抽取<em class="li">样本</em>。</p><p id="9f28" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">请记住，有一种叫做<em class="li">采样误差</em>的东西，原因有几个。</p><p id="2ebb" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">看看下面的图表。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/efa982858cff7b80028da8cd1df0d66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I-ycm6r8HsZJoL19BC1Tvg.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">抽样误差—出版时间和法国前100名小说作者出版的书籍数量</figcaption></figure><p id="6906" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你认为我们采集的样本会帮助我们对给定的人口做出准确的预测吗？</p><p id="642e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">当然不是。</p><p id="466a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">但是如果我们取这样的样本呢？</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/96582b769075759ec7f82d550dbf1300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*69JSY6OYdJJ2A-Ut0Wdd8A.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">样本—出版年代和前100名法语小说作者出版的书籍数量</figcaption></figure><p id="05fd" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你猜对了。</p><p id="73ca" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这个样本将帮助我们对数据做出准确的预测，因为它几乎代表了总体。</p><p id="5c40" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们无法在一个不完美的世界里谈论完美，但在统计学中，一切永远是“假设”。</p><p id="c19a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你如何计算实验的最小样本量？</p><p id="5453" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">归结起来有三个因素:</p><ul class=""><li id="87c2" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">您想要检测多大的差异</li><li id="18a0" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">可信度</li><li id="e0e2" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">力量和可变性</li></ul><p id="699a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你可能只熟悉第一个。</p><p id="2dd1" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">下面再讲另外两个。继续读！</p><h2 id="143a" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">假设创建和零假设</h2><p id="a122" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">既然搞清楚了什么是样本和总体，那就来说说假设。</p><p id="9467" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我记得在高中的时候，尝试提出三角形的假设是多么的无聊。</p><p id="e6e6" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">然而，在现实世界中，这一切要令人兴奋得多。</p><p id="49d8" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">举个例子吧。</p><p id="7298" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你认为在你的产品页面上改变你的产品形象会导致%的访问者将产品加入他们的购物车。</p><p id="92a4" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">根据常识，你可以使用“真实”假设:</p><blockquote class="lz ma mb"><p id="d33b" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">"新产品形象提升了访客购物车细分市场的转化率."</p></blockquote><p id="2d02" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">相反，在统计学中，为了减少混乱，我们将使用零假设，它正好相反:</p><blockquote class="lz ma mb"><p id="b2bc" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">"新产品形象不会对访客购物车细分市场的转化率产生任何影响."</p></blockquote><p id="5f77" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这对我们很有帮助，尤其是在有错误的时候。</p><p id="bdab" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">想想为什么I型和II型错误总是<em class="li">假</em>想出自己的假设(null)。</p><p id="7ba1" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">写下来，我们看看你是否答对了。</p><h2 id="2e19" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">第一类和第二类错误</h2><p id="ddf2" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">我们现在开始使用R，但是让我们先设计一个实验。</p><p id="dd8f" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们想知道</p><blockquote class="lz ma mb"><p id="6726" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“历史和化学学者对排球的兴趣相同”。</p></blockquote><p id="4a13" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们邀请100名历史专业和100名化学专业的学生加入一个排球队。</p><p id="8fa6" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">一周后，我们检查我们的订户。</p><p id="94bc" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">39%的化学专业学生订阅，而只有34%的历史专业学生订阅。</p><p id="79d5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">由于我们已经对我们的人口进行了抽样，我们想知道这个结果是否足够准确来预测整个人口的行为，或者它只是一个抽样误差。</p><p id="496b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们再次分析我们的数据，并决定我们应该保持我们的零假设，因为这是一个抽样误差。</p><p id="64e5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">换句话说:</p><blockquote class="lz ma mb"><p id="4932" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“历史专业和化学专业的订阅率是一样的，任何差异都是由于抽样误差造成的。”</p></blockquote><p id="738a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，一个更好的分析师(你刚刚开始学习)在做这个实验，他说你错了。</p><p id="8f9c" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你保留了无效假设，但实际上，你应该拒绝它。</p><p id="d758" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">嗯，你的错误是一个<em class="li">假阴性:</em></p><blockquote class="lz ma mb"><p id="ffec" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">当你保持零假设时，就会出现假阴性，但实际上你应该拒绝它。这个假设是错误的。</p></blockquote><p id="b8bb" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这被称为第二类错误。</p><p id="8ac7" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">所以现在你的结果改变了:</p><blockquote class="lz ma mb"><p id="29eb" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“历史和化学专业的订阅率是不同的，我们应该拒绝零假设。”</p></blockquote><p id="c7f3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在让我们尝试另一个实验。</p><p id="61ca" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们想知道参加Coursera认证的人是否更有可能获得加薪。</p><p id="e8e3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">人口大约是10000人，但是我们为了效率取了一个样本。</p><p id="4d17" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们打电话给200个参加了证书考试的人和200个没有参加的人。</p><p id="b1c8" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们随后发现，25%参加了证书考试的人获得了加薪，而没有参加证书考试的人只有18%获得了加薪。</p><p id="cb21" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们提出了我们的无效假设:</p><blockquote class="lz ma mb"><p id="1149" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“在加薪方面，参加过Coursera认证的人和没有参加的人之间没有明显的区别。”</p></blockquote><p id="1b55" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你分析了数据，发现参加证书考试的人和没有参加证书考试的人在加薪方面有明显的差异。</p><p id="b056" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你用简单的语言表达你的结果:</p><blockquote class="lz ma mb"><p id="3e23" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“参加过Coursera认证的人和没有参加过的人在加薪方面存在差异。”</p></blockquote><p id="5788" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">像以前一样，一个有20年经验的高级分析师来了，他说你错了。</p><p id="05eb" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为什么？</p><p id="a22e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">因为他发现了一个I型错误。</p><p id="8293" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">分析师:</p><blockquote class="lz ma mb"><p id="0684" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“你拒绝了无效假设，但实际上，你不应该这么做。现在我们有麻烦了。”</p></blockquote><p id="e846" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你:</p><blockquote class="lz ma mb"><p id="97cf" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“我们今晚去你真正喜欢的夜总会吧…”</p></blockquote><p id="1ce7" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">分析师:</p><blockquote class="lz ma mb"><p id="9d47" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“住手！!"</p></blockquote><p id="2444" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">他开始哭。</p><p id="8bec" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">吃过午饭后，你分析数据，你发现他是对的。</p><p id="eeb9" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">第一类错误通常被称为假阳性。</p><p id="f4c3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">正如分析师所说，这意味着你的零假设应该被保留，但事实上，你已经拒绝了它。</p><p id="49ee" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">然后你用简单的语言表达新的结果:</p><blockquote class="lz ma mb"><p id="ae33" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“经过精确的分析，参加过Coursera认证的人和没有参加过的人在加薪方面没有明显的差异。<em class="hi"/></p></blockquote><p id="f0f0" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中，这些结果是使用函数<em class="li"> intersect()得到的。</em></p><p id="9795" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">假设我们上一次实验的结果总结为四个数字向量:</p><ul class=""><li id="6714" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">实际正值</li><li id="62ba" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">实际负值</li><li id="c059" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">实验阳性</li><li id="c54a" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">实验阴性</li></ul><p id="ae32" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">前两个是真正的积极和消极。</p><p id="8cc6" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">最后一个是通过实验确定的。</p><p id="615c" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="b5dd" class="ix iy hi mg b fi mk ml l mm mn">real_positive &lt;- c(2, 5, 6, 7, 8, 10, 18, 21, 24, 25, 29, 30, 32, 33, 38, 39, 42, 44, 45, 47)</span><span id="aa5d" class="ix iy hi mg b fi mo ml l mm mn">real_negative &lt;- c(1, 3, 4, 9, 11, 12, 13, 14, 15, 16, 17, 19, 20, 22, 23, 26, 27, 28, 31, 34, 35, 36, 37, 40, 41, 43, 46, 48, 49)</span><span id="7ab1" class="ix iy hi mg b fi mo ml l mm mn">experimental_positive &lt;- c(2, 4, 5, 7, 8, 9, 10, 11, 13, 15, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 32, 35, 36, 38, 39, 40, 45, 46, 49)</span><span id="edf3" class="ix iy hi mg b fi mo ml l mm mn">experimental_negative &lt;- c(1, 3, 6, 12, 14, 23, 25, 29, 30, 31, 33, 34, 37, 41, 42, 43, 44, 47, 48)</span></pre><p id="dd86" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为了检测假阳性或I型错误，我们将把rea <em class="li"> l阴性</em>与实验阳性<em class="li">相交。</em></p><p id="2291" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为什么？</p><p id="6068" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">嗯，你用你的<em class="li">实验</em>拒绝了零假设，所以你得到了一个<em class="li">正假设。</em></p><p id="17ee" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">实际上，结果是否定的。</p><p id="7c1b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这就是原因。</p><p id="3588" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="1d44" class="ix iy hi mg b fi mk ml l mm mn">type_i_errors &lt;- intersect(real_negative, experimental_positive)</span><span id="20d7" class="ix iy hi mg b fi mo ml l mm mn">type_i_errors</span></pre><p id="e767" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为了检测假阴性或II型错误，我们将把<em class="li">真实阳性</em>与<em class="li">实验阴性相交。</em></p><p id="4474" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为什么？</p><p id="1c61" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">好吧，你在你的<em class="li">实验中保持了零假设，</em>所以你得到了一个<em class="li">否定。</em></p><p id="8603" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">实际上，结果是<em class="li">积极的。</em></p><p id="1247" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这就是原因。</p><p id="1076" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="c733" class="ix iy hi mg b fi mk ml l mm mn">type_ii_errors &lt;- intersect(actual_positive, experimental_negative)</span><span id="e8f1" class="ix iy hi mg b fi mo ml l mm mn">type_ii_errors</span></pre><p id="b247" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">上面这几行代码将返回一个向量，其中第一个向量和第二个向量之间的元素作为输入。</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="54f7" class="ix iy hi mg b fi mk ml l mm mn">[4  9 11 13 15 16 17 19 20 22 26 27 28 35 36 40 46 49] #Type I</span><span id="4a30" class="ix iy hi mg b fi mo ml l mm mn">[6 25 29 30 33 42 44 47] #Type II</span></pre><p id="f9e3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，让我们继续讨论P值和置信水平。</p><h2 id="a439" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">p值和显著性水平</h2><p id="f091" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">P值是从样本中获得差异的概率，如果真的所有人群都没有差异的话。</p><p id="c839" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">p值有助于确定您在验证零假设时的自信程度。</p><p id="0970" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">举个例子吧。</p><p id="84da" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你还记得历史和化学专业吗？</p><p id="bbb3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们的排球队中，化学专业的注册率为39%，历史专业的注册率为34%，相差5%。</p><p id="a831" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我们对实验进行了测试，在其他数据中，我们发现p值为4%。</p><p id="a2c2" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这意味着，假设零假设为真(这是我们开始的地方)，由于抽样误差，我们在100次中只有4次会看到至少5%的差异。</p><p id="eb00" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">显著性水平是P值的阈值。</p><p id="7f07" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">按照惯例，它被设置为5%，所以你有5%的概率得到一个假阳性。</p><p id="9400" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">当你进行A/B测试时，这是非常重要的。</p><p id="437d" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">然而，有时你会接受一个更高的重要性水平来继续快速前进。</p><p id="c38e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你不想失去你的衬衫，那很好。</p><p id="eeec" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">请记住，您的P值:</p><ul class=""><li id="2640" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">没有告诉你B &gt; A</li><li id="0564" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">当你选择B而不是A时，不会告诉你出错的概率</li></ul><p id="ae96" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这些是常见的误解，需要强调。</p><h2 id="b07f" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">置信水平和能力</h2><p id="0296" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">现在您已经找到了P值，您可以通过将其减去100%来计算置信水平</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="7d15" class="ix iy hi mg b fi mk ml l mm mn">P_value &lt;- 4%</span><span id="b466" class="ix iy hi mg b fi mo ml l mm mn">Confidence_Level = 100% - P_value</span><span id="28ed" class="ix iy hi mg b fi mo ml l mm mn">print(Confidence_Level) #96%</span></pre><p id="2928" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">P值和置信水平的主要区别在于时间:</p><ul class=""><li id="cd63" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">p值是在运行测试后获得的，它表示得到假阳性的概率</li><li id="28a9" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">置信水平在运行测试之前设置，并影响置信区间。</li></ul><p id="0a67" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，由于我们通常希望能够拒绝零假设，我们需要理解我们的“强大”是我们的测试。</p><p id="f5f5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这就是为什么我们需要引入统计能力的概念。</p><p id="c699" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">静态功率为:</p><blockquote class="lz ma mb"><p id="1c77" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">"当有一种效应需要检测时，研究检测到这种效应的可能性."</p></blockquote><p id="d60a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">它由以下因素决定:</p><ul class=""><li id="65ac" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">您想要检测的效果的大小</li><li id="23d2" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">所用样本的大小</li></ul><p id="5cf8" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">结果1:</p><blockquote class="lz ma mb"><p id="257c" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">影响越大越容易被发现。</p></blockquote><p id="17fa" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">结果2:</p><blockquote class="lz ma mb"><p id="6ad3" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">样本量越大，越容易检测。</p></blockquote><p id="bac1" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">当你有一个不准确的样本量时，你很可能进入一个<em class="li">动力不足的</em> A/B测试。</p><p id="6c09" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这意味着你没有足够的数据来准确地确定结果。</p><p id="a0ca" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你得到假阴性II型错误的概率比它应该的要高。</p><p id="aa35" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">事实上，你可以压倒一个动力不足的A/B测试来弥补差异，但不要太多。</p><p id="ee6f" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为什么？</p><p id="b376" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">因为这样做，你实际上会得到相反的结果，得到一个假阳性I型错误。</p><p id="2bd8" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">那么我们如何监管呢？</p><p id="b9c9" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">通常，您希望将您的统计能力保持在80%左右，这意味着您的A/B测试有20%的可能性出现类型II错误。</p><p id="348f" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在让我们最后做一些测试！</p><h2 id="7736" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">一个样本T检验和多个T检验</h2><p id="f587" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">假设你经营一个博客，你估计你的读者的平均年龄是<em class="li"> 30 </em>。</p><p id="5ffe" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">昨天你有500个访客，平均年龄是<em class="li"> 32 </em>。</p><p id="28a5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">参观者的年龄是否比预期的要大，还是仅仅因为抽样误差？</p><p id="e8bd" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">首先，让我们设定一个无效假设:</p><blockquote class="lz ma mb"><p id="8786" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">"样本属于具有目标均值的总体."</p></blockquote><p id="b988" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">或者</p><blockquote class="lz ma mb"><p id="d216" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“样本和总体之间的平均年龄相等”</p></blockquote><p id="75c5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中，可以使用t.test()函数对此进行测试。</p><p id="c2d1" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">t.test()函数将以下内容作为输入:</p><ul class=""><li id="a5a3" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">您的<em class="li">样本的值</em></li><li id="891e" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">自变量<em class="li"> mu </em>，表示期望的平均值</li><li id="d904" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated"><em class="li"> expected_mean </em>，表示您想要的平均值</li></ul><p id="c923" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">让我们编码如下:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="306b" class="ix iy hi mg b fi mk ml l mm mn">load("ages.Rda")</span><span id="76af" class="ix iy hi mg b fi mo ml l mm mn">ages # [<!-- -->33 34 29 30 22 39 38 37 38 36 30 26 22 22<!-- -->]</span><span id="8ccd" class="ix iy hi mg b fi mo ml l mm mn">ages_mean &lt;- mean(ages)</span><span id="9a7d" class="ix iy hi mg b fi mo ml l mm mn">ages_mean #32</span><span id="fa0c" class="ix iy hi mg b fi mo ml l mm mn">results &lt;- t.test(ages, mu = 30)</span><span id="635a" class="ix iy hi mg b fi mo ml l mm mn">results</span><span id="ffbe" class="ix iy hi mg b fi mo ml l mm mn"># data:  ages<br/># t = 0.59738, df = 13, p-value = 0.5605<br/># alternative hypothesis: true mean is not equal to 30<br/># 95 percent confidence interval:<br/># 27.38359 34.61641<br/># sample estimates:<br/># mean of x :32</span></pre><p id="4401" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">P值高于通常接受的显著性阈值，因此这意味着我们可能得到一个<em class="li">假阳性</em>，因此在我们不应该拒绝假设的时候拒绝假设。</p><p id="a240" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">然而，在商界，我们可以接受5-6%的P值。</p><p id="d491" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在这种情况下，我们接受替代假设，因此真实平均值是32，而不是30。</p><p id="7e8e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，让我们看看多样本的<em class="li"> t.test() </em>是如何工作的。</p><p id="ff52" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">您想要比较两个流量样本:</p><ul class=""><li id="6a90" class="ku kv hi jx b jy kp kb kq ji kw jm kx jq ky kn kz la lb lc bi translated">上周订单的平均年限</li><li id="12e7" class="ku kv hi jx b jy ld kb le ji lf jm lg jq lh kn kz la lb lc bi translated">本周订单的平均年龄</li></ul><p id="6ce4" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">使用R计算平均值:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="9138" class="ix iy hi mg b fi mk ml l mm mn">last_week_mean &lt;- mean(last_week)</span><span id="a540" class="ix iy hi mg b fi mo ml l mm mn">last_week_mean  # 25.44</span><span id="e7d7" class="ix iy hi mg b fi mo ml l mm mn">this_week_mean &lt;- mean(this_week)</span><span id="6a02" class="ix iy hi mg b fi mo ml l mm mn">this_week_mean # 29.02</span></pre><p id="72f4" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你运行测试来找出:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="f976" class="ix iy hi mg b fi mk ml l mm mn">results &lt;- t.test(week_1,week_2)</span><span id="7d1a" class="ix iy hi mg b fi mo ml l mm mn">results </span><span id="3f17" class="ix iy hi mg b fi mo ml l mm mn"># t = -3.5109, df = 94.554, p-value = 0.0006863<br/># alternative hypothesis: true difference in means is not equal to 0<br/># 95 percent confidence interval:<br/># -5.594299 -1.552718<br/># sample estimates:<br/># mean of x mean of y <br/># 25.44806  29.02157</span></pre><p id="06f2" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">有了非常低的P值和正确的置信区间，我们可以肯定地说，两个样本均值之间存在差异，这种差异不是由于采样误差造成的。</p><h2 id="7cc6" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">多重T检验和方差分析</h2><p id="d15b" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">我们实际上是一家CRO代理公司，我们的客户很着急。</p><p id="e20b" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">他希望加快这个过程，并要求您在三个不同的样本之间运行多个t.tests()。</p><p id="6ab5" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你的客户认为P值会一直保持不变。</p><p id="7676" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">然而，你知道你的事情，你向他解释完全相反:</p><p id="6abf" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated"><em class="li">“运行</em><strong class="jx hj"><em class="li">N</em></strong><em class="li">t . tests()意味着你必须将置信度减去1乘以</em> <strong class="jx hj"> <em class="li"> N </em> </strong> <em class="li">的次数，因此极大地增加了得到假阳性I型错误的几率。”</em></p><p id="4ab8" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果您的置信度为95%，并且您在3个样本之间运行了3次测试，那么得到假阳性I型错误的概率为:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="3a68" class="ix iy hi mg b fi mk ml l mm mn">prob_error = 1 - (0.95*3)</span><span id="78ad" class="ix iy hi mg b fi mo ml l mm mn">prob_error = 0.14 </span></pre><p id="8096" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">这个误差在统计学上是不可接受的，你跟客户解释一下。</p><p id="5723" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，如果你的客户坚持认为降低错误概率的唯一方法是使用<em class="li"> ANOVA </em>或<em class="li">方差分析</em>。</p><p id="186e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在您比较平均值的情况下，ANOVA测试您考虑的所有数据集具有相同平均值的零假设。</p><p id="293d" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你用方差分析拒绝零假设，你是说你的样本中至少有一个有不同的均值，但它不会告诉你是哪一个。</p><p id="746c" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你想知道哪一个是正确的，你需要进行<a class="ae ko" rel="noopener" href="/@seeve/machine-learning-factor-analysis-887436c0c648"><em class="li"/></a><em class="li">单因素分析。</em></p><p id="002d" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中，ANOVA函数是<em class="li"> aov() </em>，它将样本的两个向量作为输入，并将它们组合成一个新的数据帧，即一个表。</p><p id="beb1" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">假设您想要测试大学中每个专业在给定游戏中的分数。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es mp"><img src="../Images/9205a259cab8fb5f2fe8c928450898af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*csIhQZ6a6gNWSHftHE6lGg.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">方差分析的数据框</figcaption></figure><p id="f612" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在R中，您将使用:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="6244" class="ix iy hi mg b fi mk ml l mm mn">results &lt;- aov(score ~ group, data = df_scores)</span></pre><p id="c738" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">注:<em class="li">分数~分组</em>表示你要分析的关系或者每个专业与游戏<em class="li">分数的关系。</em></p><p id="d67e" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">要检索您需要的P值，您将运行以下代码:</p><pre class="lk ll lm ln fd mf mg mh mi aw mj bi"><span id="7cb5" class="ix iy hi mg b fi mk ml l mm mn">summary(results)</span></pre><p id="f832" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">在这种情况下，无效假设是</p><blockquote class="lz ma mb"><p id="4f05" class="jv jw li jx b jy kp ij ka kb kq im kd mc kr kf kg md ks ki kj me kt kl km kn hb bi translated">“所有专业的学生在电子游戏中得分相同”</p></blockquote><p id="603f" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果您拒绝零假设，您可以自信地声明一对数据集是显著不同的。</p><p id="bb07" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">正如我们所说的，你知道哪些是。</p><p id="f4ee" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你和客户谈过，现在他终于明白了。</p><p id="c16c" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">您可以继续进行简单的<em class="li"> A/B测试</em>，而不是<em class="li">多元A/B测试</em>。</p><h2 id="171a" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">反馈</h2><p id="4c4e" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">太棒了，这是我们文章的最后一部分。</p><p id="9700" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">我做得怎么样？</p><p id="ac7d" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">你到底懂不懂这些概念？</p><p id="fdc4" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">如果你有任何问题，请在下面的评论区告诉我。</p><p id="9ba3" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">现在，享受你的一天吧！</p><p id="961a" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">【男性名字】马可</p></div></div>    
</body>
</html>