# 尺寸缓慢变化

> 原文：<https://medium.com/analytics-vidhya/slowly-changing-dimension-346270b22d0f?source=collection_archive---------15----------------------->

![](img/10a0418ff550d1b2a90ebe4255c2f9a9.png)

很长时间以来，我一直想了解慢慢变化的维度，但我无法为不熟悉该主题的人找到一个清晰、简洁的博客帖子。因此，我将向您提供我自己的产品，快速介绍数据仓库场景中缓慢变化的维度或 SCD。

我们坐两张桌子吧

*   用户(维度)

*   销售(事实)

当将数据仓库组织成星型模式时，我们需要将事实记录与维度记录相关联，以获得它的相关属性。在某些情况下，维度中的信息可能会发生变化。例如，用户 Adam 可能会搬到英国。如果他有，我们要把他所有的事实记录和这个新国家联系起来吗？还是我们要忽略国家的变化以保持历史的准确性？或者我们对待国家变化前的事实和变化后的事实呢？

正是这个决定决定了是否要使维度成为一个缓慢变化的维度。有不同类型的 SCD，这取决于你如何对待到来的变化。

# SCD 的类型

## 类型 0-固定维度

此处不允许更改。换句话说，维度永远不会改变。在这种情况下，我们不改变亚当的国家，即使他搬到另一个国家。

## 类型 1 —无历史记录

直接更新维度。没有尺寸变化的轨迹。我们只能看到当前的状态。在我们的情况下，Adam 的记录将被修改为英国作为国家。他在美国时下的所有订单现在都指向英国。

## 类型 2 —行版本控制

类型 2 是跟踪数据仓库中变化的最常见的方法。在这里，我们使用新记录和附加列(如当前标志和生效日期)来跟踪更改。

新列

*   **ID** —我们添加了一个新的 ID 列，因为现有的用户 ID 不足以识别我们需要的特定记录。
*   **Current_Flag** —只返回每个用户最新记录的快捷方法。
*   **Start_Date** —特定记录开始生效的日期。
*   **结束日期** —特定记录生效的日期

这个方法很厉害。我们维护整个记录的历史，并可以轻松地执行随时间变化的分析。

## 类型 3

在这种类型中，我们添加了一个新列，而不是一条记录。在我们的例子中，我们添加了一个新列“Previous Country”来跟踪变化。以防万一，如果用户再次更改国家，我们必须添加另一列。

## 类型 4

我们将简单地更新类似于类型 1 的记录，以适应新的变化。然而，我们同时维护一个类似于 type2 的历史表来跟踪变化。

更新后的维度表将如下所示

历史表将包含以下记录。

如果大多数用户只使用当前值，将历史记录与维度分离会使维度表更小，从而有助于提高性能并降低复杂性。

但是，如果需要历史值，这种类型会增加复杂性和性能开销。

类型 1 和类型 2 通常比类型 4 更优选。

有问题吗？在这里随意评论。

如果你喜欢这篇文章，请点击👏所以其他人会在媒体上看到它。