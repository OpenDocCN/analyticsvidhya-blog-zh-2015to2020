<html>
<head>
<title>Picking Your Next Meal Like a Data Scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像数据科学家一样挑选下一餐</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/picking-your-next-meal-like-a-data-scientist-3b1933c9b95a?source=collection_archive---------18-----------------------#2019-11-27">https://medium.com/analytics-vidhya/picking-your-next-meal-like-a-data-scientist-3b1933c9b95a?source=collection_archive---------18-----------------------#2019-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="281a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">这篇文章由我的数据科学家同事</em> <a class="ae je" href="https://www.linkedin.com/in/peter-garcia/" rel="noopener ugc nofollow" target="_blank"> <em class="jd">彼得·加西亚</em> </a> <em class="jd">共同撰写。你可以在这里</em>  <em class="jd">查看他的媒介账号</em> <a class="ae je" rel="noopener" href="/@garciapeter924"> <em class="jd">。</em></a></p><p id="4517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以彼得和我坐在那里，做我们各自的顶点项目。这是一个星期二的晚上，我们的数据科学项目只剩下一周的时间了，我们需要我们能得到的每一分钟。就在那时，饥饿来袭。像往常一样，伴随着饥饿而来的是选择一个地方寻找食物的美妙过程。像往常一样，对于这类决定，彼得和我都举棋不定——所以像任何优秀的数据科学家一样，我们“建立了一个模型”来消除我们自己的个人偏见。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jf"><img src="../Images/bf3ca2309b3db020b05f9dc36ed21e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*4WaveC9CfXMR8kvPYXBbnQ.gif"/></div><figcaption class="jn jo et er es jp jq bd b be z dx translated">是时候找点乐子了</figcaption></figure><p id="e9d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…对于模型，我们的意思是使用一个简单的函数来决定去哪里，这个函数叫做<code class="du jr js jt ju b">numpy</code>子包<code class="du jr js jt ju b">random</code>中的<code class="du jr js jt ju b">choice()</code>。</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="ce0f" class="jz ka hi ju b fi kb kc l kd ke">import numpy as np</span><span id="9d73" class="jz ka hi ju b fi kf kc l kd ke">food = ['pizza',<br/>        'chinese',<br/>        'mcdonalds',<br/>        'chicken place next to the arepa place',<br/>        'dos toros',<br/>        'chickfilla',<br/>        'mexique',<br/>        'smashburger',<br/>        'shake shack',<br/>        'shortys']</span><span id="3a14" class="jz ka hi ju b fi kf kc l kd ke"># We clearly want THE healthiest of choices</span><span id="76e1" class="jz ka hi ju b fi kf kc l kd ke">np.random.choice(food)</span></pre><p id="df44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在jupyter笔记本中导入<code class="du jr js jt ju b">numpy</code>之后，我们实例化了该地区的食物选择列表。之后，numpy的<code class="du jr js jt ju b">random.choice()</code>随机选择了一个地方:</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="4b46" class="jz ka hi ju b fi kb kc l kd ke">`mcdonalds`</span></pre><p id="94d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，我们对结果不满意，因为这个结论太容易得出了。所以我们想了一个“先到”的场景。就这样，我们把事情复杂化了，因为为什么不呢。这并不像我们有一个顶点来完成或任何其他时间敏感的事情。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/a6868e7bee436827f7a8e1710218383c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7z7hT-7hXa3dkKB1FZfJfw.png"/></div></div></figure></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="b531" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们正在创建一个函数，所以首先要做的是。让我们定义我们的函数和它的参数。<code class="du jr js jt ju b">food_list</code>是我们想去的地方的列表，而<code class="du jr js jt ju b">count</code>是我们将在“第一个到”场景中观察到的实例数量，默认为“第一个到三个”。</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="76b2" class="jz ka hi ju b fi kb kc l kd ke">def get_food(food_list, count = 3):</span></pre><p id="a3d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将通过使用字典理解来跟踪我们想去吃饭的每个地方的计数，从而开始这个函数。字典的关键字是位置，它们各自的值是它被选择的次数。</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="e973" class="jz ka hi ju b fi kb kc l kd ke">    food_dict= {item:0 for item in food_list}</span></pre><p id="8750" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么是字典？好吧，因为我们想做一个“第一次”的场景，我们最终会把这些零转换成数字，代表一个特定的键被随机选择的次数。一个简单的例子是，如果我们必须在比萨饼和中餐之间选择前三名，比萨饼以3比1获胜，字典最终会是这样的:</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="95b6" class="jz ka hi ju b fi kb kc l kd ke">{'pizza': 3,<br/> 'chinese' : 1}</span></pre><p id="7255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于<code class="du jr js jt ju b">'pizza'</code>比列表中任何其他选项被随机选择的次数都多，我们的函数将返回<code class="du jr js jt ju b">'pizza'</code>作为要去的地方。</p><p id="a60f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的<code class="du jr js jt ju b">get_food</code>函数的下一步是一个<code class="du jr js jt ju b">while</code>循环。</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="e66b" class="jz ka hi ju b fi kb kc l kd ke">while max(list(food_dict.values())) &lt; count:<br/>        increment = np.random.choice(food_list)<br/>        food_dict[increment] += 1</span></pre><p id="00e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，虽然我们的字典中的最大值(最初是我们创建字典时的<code class="du jr js jt ju b">0</code>)小于“第一个到达”的场景(<code class="du jr js jt ju b">count= 3</code>)，但是我们将从我们的<code class="du jr js jt ju b">food_list</code>中随机选取一个地方，并将其对应的字典值增加<code class="du jr js jt ju b">1</code>。第一个达到我们期望数量的食物将成为我们的赢家。</p><p id="5d62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，使用列表理解，我们需要用一个<code class="du jr js jt ju b">return</code>语句来结束函数，这将给出我们想要的:去哪里吃饭！</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="78f5" class="jz ka hi ju b fi kb kc l kd ke">return [place for place in food_list if food_dict[place] == count]</span></pre><p id="6994" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，将所有这些放在一起，代码看起来有点像这样:</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="1552" class="jz ka hi ju b fi kb kc l kd ke">food = ['pizza',<br/>        'chinese',<br/>        'mcd',<br/>        'chicken place next to the arepa place',<br/>        'dos toros',<br/>        'chickfilla', <br/>        'mexique', <br/>        'smashburger', <br/>        'shake shack', <br/>        'phillys']</span><span id="48c9" class="jz ka hi ju b fi kf kc l kd ke"># Remember - healthy foods only!<br/></span><span id="2e42" class="jz ka hi ju b fi kf kc l kd ke">def get_food(food_list, count = 3):<br/>    <br/>    food_dict= {item:0 for item in food_list}<br/>    <br/>    while max(list(food_dict.values())) &lt; count:<br/>        increment = np.random.choice(food_list)<br/>        food_dict[increment] += 1<br/>        <br/>    return [place for place in food_list if food_dict[place] == count]</span></pre><p id="2e9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是关键时刻。我们将把<code class="du jr js jt ju b">food</code>列表传递给函数，让它做一个“first-to-15”场景。</p><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="a5f7" class="jz ka hi ju b fi kb kc l kd ke">get_food(food, count = 15)</span></pre><p id="670d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这告诉我和彼得我们应该从…</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ks"><img src="../Images/3c2b4964c6d34aa8e98c00920e5ceb2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*vbcxy2fwQBzMRFE2vNeQ7w.gif"/></div></figure><pre class="jg jh ji jj fd jv ju jw jx aw jy bi"><span id="4901" class="jz ka hi ju b fi kb kc l kd ke">['shake shack']</span></pre><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ks"><img src="../Images/d8e2cb752b60ad703c1f499ad7b62e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*vNUbg2ooJRddGm19tDgc7A.gif"/></div></figure></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="cd66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于该功能的未来实现，我们正在考虑让<code class="du jr js jt ju b">get_food</code>从让用户提供选项开始，然后我们可以将这些选项转换成字典。从编码的角度来看，这允许可伸缩性和放手的方法，因为我们不必经常回到代码和修改列表——这将是一个令人头痛的问题，因为位置可以改变，这意味着食物选项也可以改变。</p><p id="b792" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，我们实际上并没有从我们的决定中消除任何偏见，因为<code class="du jr js jt ju b">food</code>列表是从我们头脑中产生的一个狭窄的选项列表开始的。使列表更加客观的一种方法可能是使用位置和时间来填充当前营业的餐馆列表——但这有点复杂，因为现在是周二晚上9点。</p></div><div class="ab cl kl km gp kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hb hc hd he hf"><p id="17e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，最初开始是两个优柔寡断的人在编写了<code class="du jr js jt ju b">np.random.choice()</code>解决方案后聚在一起做决定，后来变成了30分钟的故障排除会议，因为我们正在构建<code class="du jr js jt ju b">get_food</code>功能。也许我们很无聊，也许我们太饿了，无法决定，或者也许…</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es kt"><img src="../Images/e0a11d3d7f0487b905e0da9b720d5270.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*wAwQxEjrN5A7xGoU1L0Y4Q.gif"/></div></figure><p id="b83c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不管为什么，我们所知道的是，我们现在想享受我们美味的沙克汉堡…哦，还有我们的顶石！</p></div></div>    
</body>
</html>