<html>
<head>
<title>Python — A Better Scripting Language.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">python——一种更好的脚本语言。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-a-better-scripting-language-112c665c7de2?source=collection_archive---------1-----------------------#2018-10-25">https://medium.com/analytics-vidhya/python-a-better-scripting-language-112c665c7de2?source=collection_archive---------1-----------------------#2018-10-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c615" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果说调试是去除软件bug的过程，那么编程一定是把bug放进去的过程。—埃德格·迪杰斯特拉</p><h1 id="7a57" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">脚本面临的挑战</h1><p id="078a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">不考虑我们在软件开发中的角色，我们经常使用Linux/Unix(*nix)。在*nix上使用命令行(CLI)时，我们需要编写shell脚本。我们通过脚本自动完成一些事情，或者使用shell命令对一些数据进行数字处理。大多数时候我们已经知道经常使用的命令，否则我们谷歌一下。但是，如果任务很长或很复杂，就会变得很乏味，并且很难找到合适的命令或组合两个以上的命令。</p><p id="d0bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，编写脚本并不像使用一两个带有正则表达式和管道的命令那么简单。这变得很痛苦，我们找到一些解决方法或者放弃。但是无论哪种方式都是耗费时间和精力的任务，所以我们倾向于避免它，因为它会浪费你的实际工作时间。除非你是全职命令行脚本编写员。</p><p id="e118" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时你会抽出一些时间完成剧本，并为自己感到骄傲(这是你应该的)。但是大约一个月后，当你访问同一个脚本并试图找出一种方法来调整它以适应新的/变化的需求时，你会发现自己完全迷失在这个过程中，因为当谈到脚本时，很难理解你的代码(在长时间访问它之后)。现在有人可能会说，这不仅仅局限于脚本，其他编程任务也会发生这种情况。真的！但是我要说的是，使用脚本更有可能发生这种情况，原因是使用脚本构建抽象的过程比使用其他花哨的编程语言更复杂，因此当使用脚本时，我们经常会编写上下文敏感的代码。</p><p id="f0ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，让我们来看看如何使用python来帮助克服这些问题。</p><h1 id="873b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">为什么python是编写脚本的好选择？</h1><ul class=""><li id="b707" class="kh ki hi ih b ii kc im kd iq kj iu kk iy kl jc km kn ko kp bi translated">Python是一种非常高级的语言，它具有与所有其他典型的高级编程语言相似的特征。</li></ul><p id="1533" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python为您处理了大量的复杂性，语法比其他经典脚本语言更加用户友好。</p><ul class=""><li id="a880" class="kh ki hi ih b ii ij im in iq kq iu kr iy ks jc km kn ko kp bi translated">Python还提供了一个很好REPL(解释器),这对于试错策略来说非常方便。</li><li id="4fa8" class="kh ki hi ih b ii kt im ku iq kv iu kw iy kx jc km kn ko kp bi translated">丰富的库支持和巨大的开发人员社区，用于IRC、邮件列表和堆栈溢出的问答。</li><li id="a4fc" class="kh ki hi ih b ii kt im ku iq kv iu kw iy kx jc km kn ko kp bi translated">用python编写的与操作系统交互的库是围绕操作系统特定库的包装器。这样，这些库就是通用。</li></ul><p id="4444" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，您可以轻松地在一个特定的操作系统上编写python脚本，并可以在另一个操作系统上使用，而无需任何更改。</p><ul class=""><li id="d992" class="kh ki hi ih b ii ij im in iq kq iu kr iy ks jc km kn ko kp bi translated">要使用python编写脚本，你不需要完全成熟的IDE，你只需要一个编辑器(vim或任何其他)和一个python二进制文件。</li></ul><p id="4762" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以从这个意义上来说，我可以说它是非常轻的。</p><ul class=""><li id="8dec" class="kh ki hi ih b ii ij im in iq kq iu kr iy ks jc km kn ko kp bi translated">我认为选择python编写脚本而不是传统脚本语言的最重要的原因之一是</li></ul><p id="e950" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">python为您提供了比shell更好的编程环境。也就是说，您可以通过python代码启动shell命令来提取数据，并将输出带到更好的编程环境中，您可以对数据进行建模，从数据中提取一些模式，对数据进行计算，将其写入另一个文件，使用python代码通过网络轻松发送数据。所有这些都变得很容易，因为python提供了典型编程语言的特性，构建抽象的过程变得更加容易，从而使代码更具可读性、可维护性和可扩展性。</p><h1 id="c8b5" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">让我给你看一个简短的例子。</h1><p id="0524" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">假设我们有一个文件，其中包含一些包含IP地址的文本(类似于“ip addr”命令的输出)。现在的任务是首先从文件中提取所有的IP地址，然后逐一检查IP地址是上升还是下降。这个任务听起来可能很简单，但是我强烈建议您在这里暂停一下，尝试使用shell命令编写相同的脚本，或者至少尝试思考一下如何完成这个任务。</p><p id="41b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文件:样本文本文件</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="143e" class="lh jf hi ld b fi li lj l lk ll">~]# ip address add 192.1.2.223/24 dev eth1<br/>~]# ip address add 192.165.4.223/24 dev eth0<br/>~]# ip addr<br/>3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000<br/>    link/ether 52:54:00:fb:77:9e brd ff:ff:ff:ff:ff:ff<br/>    inet 192.168.8.1/24 scope global eth1<br/>    inet 192.168.4.23/24 scope global eth1</span></pre><p id="c50f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成了吗？</p><p id="7cf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们用python脚本来做这件事。</p><pre class="ky kz la lb fd lc ld le lf aw lg bi"><span id="c276" class="lh jf hi ld b fi li lj l lk ll">import sys<br/>import os<br/>import re<br/><br/><em class="jd"># function to extract all ip address from a file.</em><br/><strong class="ld hj">def</strong> <strong class="ld hj">get_all_ip_from_file</strong>(file_path):<br/><br/>    file_data <strong class="ld hj">=</strong> open(file_path, "r")<strong class="ld hj">.</strong>readlines()<br/>    ip_address_list <strong class="ld hj">=</strong> [] <em class="jd"># List to store ip address</em><br/>    <strong class="ld hj">for</strong> line <strong class="ld hj">in</strong> data:<br/>        ips_on_line <strong class="ld hj">=</strong> re<strong class="ld hj">.</strong>findall( r'[0-9]+(?:\.[0-9]+){3}', line ) <br/>        ip_address_list <strong class="ld hj">=</strong> ip_adress_list <strong class="ld hj">+</strong> ips_on_line<br/>    <strong class="ld hj">return</strong> ip_address_list<br/><br/><em class="jd"># function to check if the ip is Up or Down</em><br/><strong class="ld hj">def</strong> <strong class="ld hj">check_if_ip_up_or_down</strong>(ip):<br/><br/>    response <strong class="ld hj">=</strong> os<strong class="ld hj">.</strong>system("ping -c 1 " <strong class="ld hj">+</strong> ip) <br/>    <strong class="ld hj">if</strong> response <strong class="ld hj">==</strong> 0:<br/>        <strong class="ld hj">print</strong> ip, 'is up!'<br/>        <strong class="ld hj">return</strong> True<br/>    <strong class="ld hj">else</strong>:<br/>        <strong class="ld hj">print</strong> ip, 'is down!'<br/>        <strong class="ld hj">return</strong> False<br/><br/><br/><strong class="ld hj">def</strong> <strong class="ld hj">main</strong>():<br/>    ip_list <strong class="ld hj">=</strong> get_all_ip_from_file('sample_text_file.txt')<br/>    <strong class="ld hj">for</strong> ip <strong class="ld hj">in</strong> ip_list:<br/>        status <strong class="ld hj">=</strong> check_if_ip_up_or_down(ip)<br/>        <strong class="ld hj">print</strong> ip <strong class="ld hj">+</strong> " --&gt; "<strong class="ld hj">+</strong> str(status)<br/><br/>main()</span></pre><p id="6608" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你能从这个小演示中明白这一点。请随意在下面的评论区写下你的评论/意见/批评。我很乐意讨论更多。编码快乐！！！</p></div><div class="ab cl lm ln gp lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hb hc hd he hf"><p id="4150" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">原载于</em><a class="ae lt" href="https://saurabhkukade.github.io/Python-A-Better-Scripting-Language/" rel="noopener ugc nofollow" target="_blank"><em class="jd">saurabhkukade . github . io</em></a><em class="jd">。</em></p></div></div>    
</body>
</html>