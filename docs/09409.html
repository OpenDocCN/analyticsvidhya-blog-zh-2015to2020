<html>
<head>
<title>Portfolios of Two Risky Assets with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 实现两种风险资产的投资组合</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/portfolios-of-two-risky-assets-with-python-7a390cd84fe7?source=collection_archive---------7-----------------------#2020-09-05">https://medium.com/analytics-vidhya/portfolios-of-two-risky-assets-with-python-7a390cd84fe7?source=collection_archive---------7-----------------------#2020-09-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="2ec8" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">如何使用 Python 和 Pandas、NumPy、Matplotlib、Seaborn 和 Scipy 库构建两个风险资产的投资组合。</p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/bff35a3cde409279943023c1fea1c46e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmzaRC--1kyaNu8QSGAb7w.png"/></div></div></figure><p id="9285" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">通过资产多样化，我们可以建立一个投资组合，为任何水平的预期回报提供尽可能低的风险。</p><p id="d7a5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">Harry Markowitz 观察了一种常见的投资组合多样化实践，并准确地展示了投资者如何通过选择波动不完全一致的股票来降低投资组合回报的波动性。</p><p id="66f5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">两种风险资产的投资组合很容易分析，并显示适用于许多资产投资组合的原则。</p><h2 id="bdd6" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">资产</h2><p id="5df6" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">被选来演示使用 Python 语言计算有效边界的两家公司是思科和微软。没有考虑公司在其活动领域的多样化(两家公司都在技术领域)。降低投资组合风险还需要考虑其他因素，其中之一是分散投资(但这是另一篇文章的主题)。</p><p id="1d6d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">选择的每日价格从 2013 年 3 月 9 日到 2018 年 8 月 31 日，从<a class="ae jw" href="https://finance.yahoo.com" rel="noopener ugc nofollow" target="_blank">雅虎财经</a>网站获得。关注一些关于公司的信息:</p><p id="6538" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">思科系统公司(CSCO)——</strong>该公司将其产品和技术分为几个类别，如交换；新一代网络路由(NGN)；协作；数据中心；无线；服务提供商视频；安全等产品</p><p id="a749" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">微软公司(MSFT) </strong> —微软是一家开发、许可和支持各种软件产品、服务和设备的技术公司</p><h2 id="05d5" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">分析价格</h2><p id="9c14" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">首先，我们必须导入所有需要开始工作的库。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="1ca5" class="jx jy hi ky b fi lc ld l le lf">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="4773" class="jx jy hi ky b fi lg ld l le lf">price= pd.read_csv('price.csv', index_col= 0, sep=';', parse_dates=True, dayfirst=True,)<br/>price.head()</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lh"><img src="../Images/5899772ab1dea47c9b8825e490ba148d.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*ZDmkhoefueYck4KoEctQxw.png"/></div></figure><p id="f8fc" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">下一个点显示了股价在五年中的表现。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="ae6c" class="jx jy hi ky b fi lc ld l le lf"># CSCO plot<br/>plt.subplot(2, 1, 1) <br/>plt.plot(price.CSCO, color='b')<br/>plt.ylabel('Price')<br/>plt.title('CSCO Daily Returns')</span><span id="4787" class="jx jy hi ky b fi lg ld l le lf"># MSFT plot<br/>plt.subplot(2, 1, 2)<br/>plt.plot(price.MSFT, color='g')<br/>plt.ylabel('Price')<br/>plt.title('MSFT Daily Returns')</span><span id="02a8" class="jx jy hi ky b fi lg ld l le lf"># Use plt.tight_layout() to improve the spacing between subplots<br/>plt.tight_layout()<br/>plt.show()</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es li"><img src="../Images/e6f906106a09ec32b0d36b98c7c64cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fld0Ml6iprlzBjp0hkUyJA.png"/></div></div></figure><h2 id="b8db" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">返回</h2><p id="17c1" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">我们可以通过使用函数 pct_change()来计算两项资产的日收益率。默认情况下，此函数计算前一行的百分比变化。正因为如此，我们使用函数<em class="ik"> dropna() </em>删除第一天之前不存在的一天创建的<em class="ik"> NaN </em>第一行。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="fdc9" class="jx jy hi ky b fi lc ld l le lf">returns = price.pct_change().dropna()<br/>print(returns.head())</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lj"><img src="../Images/b11eb68d25f47af098608a4ce82fbfff.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*E0IgB305Y9uI7u0eBtDybg.png"/></div></figure><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="29e6" class="jx jy hi ky b fi lc ld l le lf">returns.info()</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lk"><img src="../Images/a2a6e5f4c2a4a800bca39e7d308468d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*TXICwf-dYWY1giCDrky5DA.png"/></div></figure><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="4990" class="jx jy hi ky b fi lc ld l le lf">returns.describe()</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ll"><img src="../Images/87c17fbf73cd3f2ed2299160f4eddab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*kbc6--9xHd75gtZDYSov8w.png"/></div></figure><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="9dd9" class="jx jy hi ky b fi lc ld l le lf">fig = plt.figure(figsize=(10,10))</span><span id="30a3" class="jx jy hi ky b fi lg ld l le lf"># CSCO plot<br/>plt.subplot(2, 1, 1) <br/>sns.distplot(returns.CSCO, color='b');<br/>plt.xlabel('Return')<br/>plt.ylabel('Probability')<br/>plt.title('CSCO Returns')</span><span id="ee33" class="jx jy hi ky b fi lg ld l le lf"># MSFT plot<br/>plt.subplot(2, 1, 2) <br/>sns.distplot(returns.MSFT, color='g')<br/>plt.xlabel('Return')<br/>plt.ylabel('Probability')<br/>plt.title('MSFT Returns')</span><span id="1bc7" class="jx jy hi ky b fi lg ld l le lf">plt.show()</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lm"><img src="../Images/7b9bd5eb0f6d349f98a6886c5a3d01cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*dG0BFNoJYh4bDifTlg712w.png"/></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ln"><img src="../Images/10824940630c5601731fa8d63bcc2a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*-W6cYqXQ20UedEtdNh_xKg.png"/></div></figure><p id="d4af" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">根据柱状图和表格描述，CSCO 和 MSFT 投资的预期日回报率分别为 0.07%和 0.11%。此外，两者都有相似的可能收益，因此风险也相似。这种差异可以通过标准偏差来衡量。CSCO 投资的标准差为 1.3%，而 MSFT 的标准差为 1.38%。</p><h2 id="13b1" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">最大水位下降</h2><p id="d82f" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">提取被定义为资产价格从其最高运行价格的下降。最大损失衡量的是这类投资者的最大损失。以下示例显示，MSFT 在 2016 年 2 月 10 日的最高提款率为 23%。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="1204" class="jx jy hi ky b fi lc ld l le lf">wealth_index_MSFT = (1+returns['MSFT']).cumprod()<br/>previous_peaks_MSFT = wealth_index.cummax()<br/>drawdowns_MSFT = (wealth_index - previous_peaks_MSFT)/previous_peaks_MSFT<br/>drawdowns_MSFT.plot.line()<br/>plt.ylabel('Drawdown')<br/>plt.title('MSFT Maximum Drawdown')</span><span id="8bd0" class="jx jy hi ky b fi lg ld l le lf">drawdowns_MSFT.min(), drawdowns_MSFT.idxmin()</span></pre><div class="ji jj jk jl fd ab cb"><figure class="lo jm lp lq lr ls lt paragraph-image"><img src="../Images/a57f31b484503612f5155e6c6bbb261e.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*b_86khHx6Qp2_SgdxcNJzw.png"/></figure><figure class="lo jm lu lq lr ls lt paragraph-image"><img src="../Images/df9664df0472edf6e5f0c95cc30e1ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*56_JIw1zify_67Y8HLxXvQ.png"/></figure></div><div class="ab cb"><figure class="lo jm lv lq lr ls lt paragraph-image"><img src="../Images/b95cd9e5038de448e7bba79ccb5e2399.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*EZK5dgLFjIymdBv67s5T6w.png"/></figure><figure class="lo jm lw lq lr ls lt paragraph-image"><img src="../Images/8d0df742d59ba2d5d6794e30f025c4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*m9qgTb5Eg9YFaU-F4B92Fw.png"/></figure></div><div class="ab cb"><figure class="lo jm lx lq lr ls lt paragraph-image"><img src="../Images/b3a3f94dbafcc35cc535dec5098e90ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*k61rn7gv-fgrVV2Na-7Zcg.png"/></figure><figure class="lo jm ly lq lr ls lt paragraph-image"><img src="../Images/4bf03e697c6b94685c51208135332b63.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*c5TR1MAlDdL9_lPDnXJLSw.png"/></figure></div><h2 id="bd0b" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">相互关系</h2><p id="5e01" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">一种统计，其中协方差缩放到 1(完全负相关)和+1(完全正相关)之间的值。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="f46d" class="jx jy hi ky b fi lc ld l le lf">corr = returns[['CSCO', 'MSFT']].corr()<br/>print(corr)</span><span id="d984" class="jx jy hi ky b fi lg ld l le lf">sns.scatterplot(x="CSCO", y="MSFT", data=returns)</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lz"><img src="../Images/178300c6e5975b4eb7b98f7291c7d03b.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*ws2PIg640swSVSUVwiQBGQ.png"/></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ma"><img src="../Images/730832a0ecbd419e3de822f3b584b587.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*aJCgymIAq6ikUxtsZ-RnPA.png"/></div></figure><p id="2de4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">两项资产的相关系数为 0.505。</p><h2 id="7e8c" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">年回报率</h2><p id="a179" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">要计算日回报率，你需要将回报率乘以 252。日回报率 Rd 的年化公式为:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mb"><img src="../Images/211ae4b97247a9d77e8e5f8915c4e9c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/format:webp/1*THJJqGLxrtIyVItdszYo5g.png"/></div></figure><p id="db0a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">该公式以下列方式应用于下面的代码:</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="b652" class="jx jy hi ky b fi lc ld l le lf">n_days = returns.shape[0]</span><span id="8be7" class="jx jy hi ky b fi lg ld l le lf">compounded_growth = (1+returns).prod()</span><span id="8b3c" class="jx jy hi ky b fi lg ld l le lf">n_periods = returns.shape[0]<br/>ann_returns =  compounded_growth**(252/n_days)-1</span><span id="aa3b" class="jx jy hi ky b fi lg ld l le lf">ann_returns</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mc"><img src="../Images/ce5c9a34c8407ded78e7b765545e52e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:284/format:webp/1*dCWe8vhcMxHrlVh7Hf8A_A.png"/></div></figure><h2 id="6f70" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">年度波动率</h2><p id="2d3c" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">我们通过将波动率乘以每次观察周期数的平方根来计算波动率，在本例中，<a class="ae jw" href="https://en.wikipedia.org/wiki/Trading_day" rel="noopener ugc nofollow" target="_blank">252/年</a>。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="7ec7" class="jx jy hi ky b fi lc ld l le lf">ann_vol = returns.std()*(252**0.5)<br/>ann_vol</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es md"><img src="../Images/19c223ffa0008ee2e9529c6583dd5075.png" data-original-src="https://miro.medium.com/v2/resize:fit:266/format:webp/1*i9w48xKI5IHNCYS_cKi7YQ.png"/></div></figure><h2 id="48f9" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">协方差</h2><p id="615a" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">它衡量两种风险资产的回报同步变动的程度。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="35c0" class="jx jy hi ky b fi lc ld l le lf">cov = returns.cov()<br/>cov</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es me"><img src="../Images/a2923302166e4eda6dbbd85117e75047.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*-p7T7KRGWx5SAHElPt6uxw.png"/></div></figure><p id="959e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">正的协方差意味着资产收益一起移动。</p><h2 id="a6e3" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">投资组合回报</h2><p id="2a39" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">假设你正在考虑是投资思科还是微软的股票。根据上面显示的结果，思科的预期回报率为 19.0%，微软的预期回报率为 31.8%。另外，你可以看到思科汤和微软的回报率波动分别为 20.6%和 22.0%。微软提供更高的预期回报，但风险更大。</p><p id="1060" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">我们可以创建一个投资组合，而不是只持有一只股票，其预期回报只是这两只股票预期回报的加权平均值。</p><p id="c9aa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">由<em class="ik"> wC </em>表示的一部分投资于 CSCO 股票，而剩余的 1<em class="ik">wC</em>表示为<em class="ik"> wM </em>投资于 MSFT 股票。投资组合的预期回报是以投资组合的比例作为权重的组成股票的预期回报的加权平均值:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mf"><img src="../Images/d30a794c1150931d206af14471d292c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*cAPLAq0JWpUiaaAE7XZZig.png"/></div></figure><p id="26f1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">我们可以用 python 把这个公式写成矩阵转置权重乘以回报。</p><h2 id="7eaa" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">投资组合波动</h2><p id="f4db" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">从下面的公式中可以看出，与预期收益不同，投资组合方差不是单个资产方差的加权平均值。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mg"><img src="../Images/f91d56a79964a2a5b365c901bb6a1f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*UTQ-0dzjOsWJmrHJoDaHAQ.png"/></div></figure><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="fe46" class="jx jy hi ky b fi lc ld l le lf"># Calculate the portfolio return<br/>def portfolio_return(w, r):<br/>   <br/>    return w.T @ r</span><span id="bc89" class="jx jy hi ky b fi lg ld l le lf"># Calculate the portfolio volatility return<br/>def portfolio_vol(w, covmat):<br/>   <br/>    return (w.T @ covmat @ w)**0.5<br/></span></pre><h2 id="84e4" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jt ki kj kk ju kl km kn jv ko kp kq kr bi translated">效率限界</h2><p id="41c9" class="pw-post-body-paragraph ii ij hi il b im ks io ip iq kt is it jt ku iw ix ju kv ja jb jv kw je jf jg hb bi translated">有效边界(曲线)说明了当你持有两只股票的不同组合时，预期回报率和标准差是如何变化的。</p><p id="dfd6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">曲线的每个点(n_points=15)包含 15 个双资产权重的组合(weights =[NP . linspace(0，1，n_points)中 w 的 np.array([w，1-w])</p><p id="7c3a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">例如:</p><ul class=""><li id="3edb" class="mh mi hi il b im in iq ir jt mj ju mk jv ml jg mm mn mo mp bi translated"><strong class="il hj">曲线的 0 点</strong></li></ul><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="c683" class="jx jy hi ky b fi lc ld l le lf">weights[0]</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mq"><img src="../Images/a20265d602951e11016398444f5053d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:248/format:webp/1*FPT9J4WMW6GQAMsS-Bbagw.png"/></div></figure><p id="b0ae" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">这意味着所有的投资都分配在一个资产上:CSCO 资产</p><ul class=""><li id="434c" class="mh mi hi il b im in iq ir jt mj ju mk jv ml jg mm mn mo mp bi translated"><strong class="il hj">曲线的第二点</strong></li></ul><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="bcb9" class="jx jy hi ky b fi lc ld l le lf">weights[2]</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mr"><img src="../Images/ede1afe580943846a96d1fe993a66442.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*0Y9ZBGZ3L4J2GakjISuVlA.png"/></div></figure><p id="b269" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">这意味着 CSCO 资产的权重=85.7%，而 MSFT 资产的权重=14.3%。以此类推，直到曲线上的第 15 点，在这里所有的 MSFT 资产拥有总投资。</p><pre class="ji jj jk jl fd kx ky kz la aw lb bi"><span id="7f9e" class="jx jy hi ky b fi lc ld l le lf">#Plot the efficient frontier of two assets</span><span id="3986" class="jx jy hi ky b fi lg ld l le lf">n_points = 15<br/>weights = [np.array([w, 1-w]) for w in np.linspace(0, 1, n_points)]</span><span id="1035" class="jx jy hi ky b fi lg ld l le lf">def plot_ef2(n_points, returns, cov):<br/>  <br/>    weights = [np.array([w, 1-w]) for w in np.linspace(0, 1, n_points)]<br/>    rets = [portfolio_return(w, ann_returns) for w in weights]<br/>    vols = [portfolio_vol(w, cov) for w in weights]<br/>    ef = pd.DataFrame({<br/>        "Returns": rets, <br/>        "Volatility": vols<br/>    })<br/>    return ef.plot.line(x="Volatility", y="Returns", style="o-")</span><span id="f8c7" class="jx jy hi ky b fi lg ld l le lf">ax = plot_ef2(n_points, ann_returns, cov)<br/>ax.set_ylabel('Expected Return')<br/>ax.set_ylim(top=0.35)<br/>ax.set_xlim(left = 0.0115, right=0.014)</span></pre><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ms"><img src="../Images/45497d47fc99cd4e33e2d09c3a76a749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*2-YLkw_qbTrVBVzIF3mGMA.png"/></div></figure><p id="8e04" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">蓝色的曲线显示了你通过两种股票的不同组合可以获得的预期收益和风险。<br/>这里的目标是展示使用 python 创建的投资组合，但理想情况是不限于只投资两只股票。例如，您可能决定创建一个由 10 只股票组成的投资组合，在分析了每家公司的前景后，得出它们的回报预测。</p></div></div>    
</body>
</html>