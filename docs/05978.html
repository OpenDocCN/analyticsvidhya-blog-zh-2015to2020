<html>
<head>
<title>Loading Packages in R: require() vs library()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在R: require()和library()中加载包</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/loading-packages-in-r-require-vs-library-f81464d88be7?source=collection_archive---------25-----------------------#2020-05-07">https://medium.com/analytics-vidhya/loading-packages-in-r-require-vs-library-f81464d88be7?source=collection_archive---------25-----------------------#2020-05-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b0cf74841d0f0bbde11928899ff157e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T99tWyUIyRUrNrtd0ibd6g.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.pexels.com/@negativespace" rel="noopener ugc nofollow" target="_blank">负空格</a> @ <a class="ae iu" href="https://www.pexels.com" rel="noopener ugc nofollow" target="_blank">像素</a></figcaption></figure><p id="4a13" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.r-project.org/" rel="noopener ugc nofollow" target="_blank"> R </a>是为统计计算和图形开发的特殊软件环境。它可以被认为是一种工具，用于从大量数据中分析和提取模式，从而得出结论。</p><p id="49de" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">r语言附带了一系列非常有用的数据分析函数。但是，用户需要根据其领域安装扩展功能的软件包。这些软件包由综合档案网络(CRAN)托管。目前全世界R用户写的包有15604个。没有必要被数量庞大的软件包所淹没，因为它们为数百个不同领域的数据分析提供了大量的功能，并且它们都不是由一个用户使用的。</p><p id="2233" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">在R中安装软件包</strong></p><p id="36cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“install.packages()”用于在r上安装新的软件包。例如，下面是如何安装软件包“dplyr”。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="1c56" class="kc kd hi jy b fi ke kf l kg kh">install.packages("dplyr")</span></pre><p id="ec2a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">加载已安装的软件包</strong></p><p id="48fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">应该将已安装的包加载到当前的R环境中。require()或library()函数都可以用来将包加载到R环境中。</p><p id="98a0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是如何使用require()和library()加载已安装的软件包“dplyr”的:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="6530" class="kc kd hi jy b fi ke kf l kg kh">require("dplyr")</span><span id="100c" class="kc kd hi jy b fi ki kf l kg kh">library("dplyr")</span></pre><p id="dfd4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">两个函数看起来一样，对吧？</p><p id="0fdb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> require() vs library(): </strong></p><p id="ba4c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尽管它们看起来一样，require()有一个不言而喻的缺点。</p><p id="e72b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果要加载的包没有安装或者不存在(可能是打印错误？)，library()会产生一个错误，而require()只提供一个警告。library()提供的错误会阻止当前的R脚本进一步运行，而require()提供的警告则不会。</p><p id="6822" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设您正在运行一个非常耗时的大型R脚本，如果您使用require()而不是library()来加载包，该脚本将一直运行，直到它实际调用由于某种原因未能加载的包。相反，如果您使用library()，它会停止运行脚本，通知您采取必要的措施。</p><p id="fd9a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">require()的用法</strong></p><p id="3ea8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">require()有这个小缺陷并不意味着它完全没有用。它在许多其他方面也很有用。例如，require()可以用来检查我们试图加载的包是否可用。每当用包名调用require()时，它都返回一个二进制值，TRUE或FALSE，表示包是否可以加载。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="6625" class="kc kd hi jy b fi ke kf l kg kh"># Capturing the return value of require(dplyr) to variable x</span><span id="1ef4" class="kc kd hi jy b fi ki kf l kg kh">x &lt;- require(dplyr)</span><span id="a600" class="kc kd hi jy b fi ki kf l kg kh"># If the dplyr package is available, it returns TURE and if it is not, it returns FALSE</span></pre><p id="541e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这在自动化检查和安装R脚本中的包的过程中很有用。请参见下面的示例。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="fa6b" class="kc kd hi jy b fi ke kf l kg kh">if(!require(dplyr)) { install.packages("dplyr"); library(dplyr) }</span></pre><p id="623e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这将检查程序包dplyr的可用性。如果不是，软件包会自动安装并加载到环境中。</p><p id="e648" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">library()和require()函数在处理R中的包时非常有用，用户应该知道如何以及何时使用它们，以确保使用该语言进行数据分析的最大结果。</p></div></div>    
</body>
</html>