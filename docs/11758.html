<html>
<head>
<title>Analyse your Personal Facebook Data with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python分析您的个人脸书数据</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/analyse-your-personal-facebook-data-with-python-5d877e556692?source=collection_archive---------7-----------------------#2020-12-17">https://medium.com/analytics-vidhya/analyse-your-personal-facebook-data-with-python-5d877e556692?source=collection_archive---------7-----------------------#2020-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4d4a36383a7c0fb53505e4cb993c6966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SR6YO1MWwK3SF3XfcDlhkw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源:towardsdatascience.com</figcaption></figure><p id="b586" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从Twitter开始，我一直在尝试做一些关于社交媒体分析的东西，但我一直在创建Twitter开发帐户API方面遇到挑战…所以我转到脸书，试图分析我自2009年加入脸书以来的帖子数…是..那是11年前的事了..有意思！！..跟我来。！</p><ol class=""><li id="e086" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iw hj">下载您的脸书数据</strong></li></ol><p id="a395" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">脸书允许我们将网站上的每一项活动下载成文件。你可以<a class="ae kb" href="https://web.facebook.com/dyi/?referrer=yfi_settings&amp;_rdc=1&amp;_rdr" rel="noopener ugc nofollow" target="_blank">在这里</a>下载你的数据。但是您可能不需要所有选中/选中的项目，该文件可能很大，这取决于您使用脸书的频率和持续时间。我的是1MB。</p><p id="c43e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将在分析我们的帖子时回答这些问题</p><ul class=""><li id="1065" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr kc jy jz ka bi translated">我多久发布一次</li><li id="86d5" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr kc jy jz ka bi translated">我使用脸书的次数比以前多了还是少了？</li></ul><p id="3d7e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">回到我们的<a class="ae kb" href="https://web.facebook.com/dyi/?referrer=yfi_settings&amp;_rdc=1&amp;_rdr" rel="noopener ugc nofollow" target="_blank">数据下载脸书页面</a>。我们将取消所有选项，只检查帖子。我们还会将请求的文件格式从HTML更改为JSON，然后单击Create File。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/ab9b0a870401218985668d86379723bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lAlJT3ZTLsiob_2xT8wGSA.png"/></div></div></figure><p id="3480" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">文件创建完成后，脸书会通知您文件已经可以下载了。这可能需要一段时间，取决于你的脸书历史。</p><p id="8e26" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下载zip文件，解压缩并查找“posts”文件夹和其中名为“your_posts_1.json”的文件。</p><p id="a7aa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> 2。数据清理</strong></p><p id="1f60" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在是我们动手的时候了..哇哦。启动Jupiter笔记本或VS代码，我们开始导入我们的库。我们导入熊猫和我们刚刚下载的脸书JSON文件，并将其读入数据帧。</p><p id="8c3f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">内置的<em class="kn"> pd.read_json() </em>函数将能够自动解释数据帧中的json数据</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/8636dd28ef91a8887c940733e9d378e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IsB26w-Kj0y8oI6YfvLawg.png"/></div></div></figure><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/b7c43629469e9112b67d07e1ac4d85ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9w-XdOw4E2xdenvCb33-w.png"/></div></div></figure><p id="ac1e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们这里的重点不是实际的文章内容或附加的媒体文件。我们关心的是频率——发布新帖子的频率。</p><p id="418a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来是清理我们的数据。为此，我们删除了一些不必要的列。有几行写着NaN——这些帖子只包含图片，没有文字。图像将在“附件”栏中链接。我们还将把“时间戳”列重命名为“日期”</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/95513ae444a6fd19552319de7da3c8a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCJj2I9VdGS_akKLBtmBbg.png"/></div></div></figure><p id="de9a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这个阶段，我们有一些更清晰的数据可以处理。我们可以获得一些关于我们想要分析的数据的信息。</p><p id="f980" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae kb" href="http://df.info" rel="noopener ugc nofollow" target="_blank"> df.info </a>()将为您提供有关数据的简短摘要信息</p><p id="b712" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">df.shape将计算我们正在分析的帖子的行数</p><p id="c46f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">df.head()将获得前5行数据</p><p id="ba86" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">df.tail()将检查数据帧的结尾</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/159699d49c70280f25c6ca7eebbab179.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdVmgYfkdZc7sed9gGDTgg.png"/></div></div></figure><p id="3f48" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以我个人的脸书数据为例，我总共发布了248次……哇！！。我的数据从2009年开始。</p><p id="10e4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> 3。计算每月帖子数量</strong></p><p id="652b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">逐月查看我们的数据会很有意义。这意味着我们需要按月对“日期”列进行分组，并计算每个月有多少行(即文章)与之相关联。</p><p id="e87f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是时间序列数据的一个例子，pandas的设计使得处理起来相对简单。我们需要做两件事:</p><ol class=""><li id="0a64" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">将日期列设置为数据帧的索引</li><li id="93f3" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr jx jy jz ka bi translated">按月对数据进行重新采样，计算每个月有多少帖子</li></ol><p id="5667" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于第一步，我们可以使用set_index()。对于第二步，我们将执行以下操作</p><ol class=""><li id="7177" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">选择我们要重新取样的列——“数据”列</li><li id="5a4d" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr jx jy jz ka bi translated">使用。带有参数“MS”(表示“月初”)的resample()函数按月对数据进行重采样</li><li id="3b29" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr jx jy jz ka bi translated">使用。size()来指定我们每个月想要度量的内容——在本例中，是发布日期在该月内的行数(即帖子数)。</li><li id="4eae" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr jx jy jz ka bi translated">将结果序列赋给一个名为post_counts的变量。</li></ol><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/48d6c966b3202a62fee248f32196b794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uoc4CajKQHcfAcl7Q7Db1g.png"/></div></div></figure><p id="2491" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们已经得到了按月细分的帖子数量，如果我们从原始数据集进行确认，我们可以看到数量是正确的。</p><p id="cec3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">请注意，没有帖子的月份被正确地计为0，而不是简单地跳过。</p><p id="aada" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> 4。可视化您的脸书用法</strong></p><p id="97c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在是时候可视化我们的数据了。为此，我们将导入matplotlib(并使用%matplotlib inline magic使我们的图表出现在Jupiter笔记本中。我们还将导入Seaborn和NumPy，这将帮助我们制作一个可读性更好的图表。</p><p id="fbe1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，我们将使用sis.set()来设置图表的大小和字体大小</p><p id="a3b8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，我们将x标签设置为使用post_counts(日期)的索引，并使用sns.barplot()创建一个条形图。在sns.barplot()的参数中，我们将告诉函数使用我们定义的x标签，在post_counts中绘制数据，并将条形颜色设为蓝色。</p><p id="cbae" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">仅此一点就足以创建一个基本的图表，但在这种情况下，我们希望采取一些额外的步骤来使图表可读。具体来说，我们希望将x轴上的刻度位置安排为每24个月一次，这样我们就可以在结果图表中每隔一年看到一个刻度。我们还想重新格式化图表中的日期，以便只显示年份。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/516b1a5a765522c1cf9f3547a6bc7276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTAVNbOwDV3uK9zdQ6IkCQ.png"/></div></div></figure><p id="719c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上面的图表是我个人的脸书数据。我在2009年加入平台的早期很少发帖。我的常规使用始于2011年，在2013年左右达到峰值。我记得我试图推广我开发的一款小型手机应用程序..哇哦。在2014年至2016年期间，出现了下降和小幅上升。2017年我有个不错的秒杀。虽然没有达到2011年的水平。从那以后，我的使用逐渐减少了。<br/>还有记住，那只是<em class="kn">帖子</em>，不是<em class="kn">评论</em>！还有一个完整的JSON文件用于注释。</p><p id="25ac" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我就停在这里。你也可以试着分析一下你的脸书用法，看看是不是比我的好。以下是我们所做工作的总结:</p><ul class=""><li id="7ca2" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr kc jy jz ka bi translated">我们从脸书下载了个人使用数据</li><li id="bc5e" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr kc jy jz ka bi translated">我们将JSON文件读入熊猫数据帧</li><li id="5035" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr kc jy jz ka bi translated">我们按月对数据进行了分解，并统计了每个月的帖子数量</li><li id="42c9" class="js jt hi iw b ix kd jb ke jf kf jj kg jn kh jr kc jy jz ka bi translated">我们想象了脸书的用法</li></ul><p id="12ee" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">资源</strong></p><p id="2071" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">https://www.dataquest.io/blog/analyze-facebook-data-python/<a class="ae kb" href="https://www.dataquest.io/blog/analyze-facebook-data-python/" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>