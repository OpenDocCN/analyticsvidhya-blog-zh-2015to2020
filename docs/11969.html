<html>
<head>
<title>Variable Names — Verbs and Nouns parsed from top Javascript libraries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">变量名—从顶级Javascript库中解析的动词和名词</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/variable-names-verbs-and-nouns-parsed-from-top-javascript-libraries-e50dbbbdd2db?source=collection_archive---------10-----------------------#2020-12-26">https://medium.com/analytics-vidhya/variable-names-verbs-and-nouns-parsed-from-top-javascript-libraries-e50dbbbdd2db?source=collection_archive---------10-----------------------#2020-12-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e0c7" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">通过解析React、Angular、Express等JS库构建变量名字典</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a3a63b6353543eebb8011cd082716ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qvMDtLW2lDQAmHV-f8azlA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">由解析的动词生成的词云</figcaption></figure><h1 id="cb3b" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">问题是</h1><p id="9bbd" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">当错误日志中抛出错误信息或者寻找“按关键python排序json数组”的解决方案时，很可能我在网上就能找到答案或者至少是一些提示。但是在给一个变量命名的时候，它告诉我要给一个有意义的，有表现力的，自我描述的变量命名。变量名需要遵循惯例。在Javascript中，变量名和函数名应该用camelCase编写。我应该用名词作为变量名，用动词作为函数名。永远不要使用无意义的名字，比如foo和bar(事实证明，许多JS库都在使用它们，但只是用于单元测试或基准测试)</p><p id="382c" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">我知道这些规则。但问题不在于我的变量名违反了这些规则。问题是我不能想出一个令我满意的变量名。而我觉得是因为我脑子里没有足够的“编码词汇”。因此，我决定从其他开发人员那里学习更多的词汇，并尝试将它们分为动词、名词和形容词。</p><blockquote class="lg lh li"><p id="159a" class="kf kg lj kh b ki lb ij kk kl lc im kn lk ld kq kr ll le ku kv lm lf ky kz la hb bi translated">如果说我看得更远，那是因为我站在了巨人的肩膀上——艾萨克·牛顿</p></blockquote><p id="d257" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在Javascript世界中，巨头是React、Angular、Express和许多其他在NPM出版的顶级库。</p><h1 id="d635" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated"><strong class="ak">方法</strong></h1><p id="3394" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated"><strong class="kh hj">第一步。克隆流行的NPM图书馆</strong></p><p id="2fab" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">基于这个列出顶级Javascript库的<a class="ae ln" href="https://gist.github.com/anvaka/8e8fa57c7ee1350e3491" rel="noopener ugc nofollow" target="_blank">列表</a>，390个库被克隆到本地机器。</p><p id="0a5f" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated"><strong class="kh hj">第二步。解析源代码并将其转换为抽象语法树(AST) </strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lo"><img src="../Images/ed8b3d0284ec7cd0ee7528dc49f3e8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jgo94gCG__BgGYGgwhv0tA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来自关于AST的<a class="ae ln" href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" rel="noopener ugc nofollow" target="_blank"> Wiki </a>的截图</figcaption></figure><p id="c1ec" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">使用<a class="ae ln" href="https://www.npmjs.com/package/acorn" rel="noopener ugc nofollow" target="_blank"> Acorn </a> ( <em class="lj">一个用JavaScript </em>编写的小型快速JavaScript解析器)，我解析了。js和。ts文件并得到一个抽象语法树对象。从Wiki来看，抽象语法树<em class="lj">是源代码</em>的抽象语法结构的树表示。对于这个任务，最重要的事情是从树中检索变量名和函数名。添加了一条规则来排除/build、/node_modules、/dist下的文件，以避免分析精简代码。</p><p id="5e08" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated"><strong class="kh hj">第三步。查找函数名和变量名</strong></p><p id="c012" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">抽象语法树中有许多节点类型。提取了两种节点类型，即<em class="lj">变量声明</em>和<em class="lj">函数声明</em>。在<em class="lj">变量声明</em>中，两个特殊的初始化类型<em class="lj"> FunctionExpression </em>和<em class="lj"> ArrowFunctionExpression </em>被识别并被视为函数名而不是变量名。下图说明了我对“函数名”和“变量名”的分类方式。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lp"><img src="../Images/d0049a308822b4eb72ccabb7f5abeb95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EFDP6ls0SRdfLQYQ"/></div></div></figure><p id="9993" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated"><strong class="kh hj">第四步。提取动词/名词/形容词(带假设)</strong></p><p id="014a" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在获得变量名和函数名之后，我将名字拆分成单词，并根据以下假设确定动词、名词和形容词</p><ol class=""><li id="0ce9" class="lq lr hi kh b ki lb kl lc ko ls ks lt kw lu la lv lw lx ly bi translated">动词—函数名中的第一个词，例如<strong class="kh hj">获取</strong>年龄，<strong class="kh hj">检查</strong>是否成年，<strong class="kh hj">恢复</strong></li><li id="3055" class="lq lr hi kh b ki lz kl ma ko mb ks mc kw md la lv lw lx ly bi translated">名词—变量名中的最后一个词。例如解析<strong class="kh hj">值</strong>，<strong class="kh hj">数据</strong></li><li id="7789" class="lq lr hi kh b ki lz kl ma ko mb ks mc kw md la lv lw lx ly bi translated">形容词——变量名中的第一个词，可以分成多个词，例如<strong class="kh hj">是</strong>成人，<strong class="kh hj">预期</strong> Json</li></ol><p id="d12a" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在处理名词时，我将单词单数化，并将所有字符转换为小写，以便将“name”、“names”、“Name”和“Names”视为同一个单词。</p><h1 id="7a50" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated"><strong class="ak">结果</strong></h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a3a63b6353543eebb8011cd082716ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qvMDtLW2lDQAmHV-f8azlA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">由解析的动词生成的词云</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e18902e46a140ae13872246f8a0ddab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhGzO-dZK2oeb-mUl35MiQ.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">由解析的名词生成的词云</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/c03b179351ca564c9bcf6117613d1459.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0qDwCmYbUbHL3osOVKAK7g.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">由解析的形容词生成的词云</figcaption></figure><p id="6d1f" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">不出所料，“得到”是使用最多的动词。我还得到了一些其他熟悉的动词，如创建、读取、更新、删除和提取、转换、加载。</p><p id="243a" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">基于结果数据，我构建了一个名为<a class="ae ln" href="https://jack-siu.github.io/varnamedict/" rel="noopener ugc nofollow" target="_blank">变量名字典</a>的小型web应用程序，通过从库中解析的变量名示例来显示最常用的单词。json格式的原始数据可以在那里下载。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/d9c358d9d1ac88d23b3e3b5ec284a655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HdlAs4n9e-wtjb-_lS7Obg.png"/></div></div></figure><h1 id="88f5" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">下一步是什么</h1><p id="0421" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">拥有一个单词列表可以扩展我的“编码词汇量”，这在我没有任何想法给变量命名的时候很有帮助。但是更多的时候，我已经对变量名应该是什么有了一个模糊的想法。比如，我可能已经想到一个函数名为“getTotalPrice”，但后来发现，也许calculateTotalPrice能更准确地描述这个函数。</p><p id="52eb" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">如果我能计算不同动词和形容词的相似度，有助于提炼函数名。我正在检查一些Python库，如Gensim和NLTK，看看我是否能获得两个动词之间的语义相似性(在编码上下文中)。如果你有任何获得语义相似度的建议或想法，请留下评论。</p></div></div>    
</body>
</html>