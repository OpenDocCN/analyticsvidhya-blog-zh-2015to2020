<html>
<head>
<title>Why to replace Matplotlib with Google Chart ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么要用Google Chart代替Matplotlib？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/why-to-replace-matplotlib-with-google-chart-b8ef3017607d?source=collection_archive---------19-----------------------#2020-08-08">https://medium.com/analytics-vidhya/why-to-replace-matplotlib-with-google-chart-b8ef3017607d?source=collection_archive---------19-----------------------#2020-08-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e319f97d647fc5f04f3e6fbb6413ca67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jqUg7c7pr5z4gO_E"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">马库斯·温克勒在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="fb17" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">大多数Python用户习惯用Matplotlib表示数据。</p><blockquote class="jt"><p id="abb2" class="ju jv hi bd jw jx jy jz ka kb kc js dx translated"><em class="kd">“Matplotlib是一个全面的库，用于在Python中创建静态、动画和交互式可视化效果。”</em></p></blockquote><p id="c1d5" class="pw-post-body-paragraph iv iw hi ix b iy ke ja jb jc kf je jf jg kg ji jj jk kh jm jn jo ki jq jr js hb bi translated"><strong class="ix hj"> Matplotlib </strong>顾名思义来源于<em class="kj"> Matlab </em>，所以语法也很相似。然而，这是因为需要用几行代码来表示Python环境中的数据。<strong class="ix hj"> pyplot API </strong>用于创建图形，一切都与matplotlib库的集成一起工作。当数据由Python脚本生成并且需要在单台机器上即时表示时，使用Matplotlib是最简单的方法。</p><p id="15f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，在某些情况下，有必要以静态甚至动态的方式在网页中显示结果。这样，与观众的交互也变得容易了，因为观众只需从他的浏览器访问某个域。将Matplotlib集成到用HTML编写的页面中是可以实现的，但是有一个更好的替代方案，它被称为<strong class="ix hj"> Google Chart </strong>。</p><blockquote class="jt"><p id="1e4e" class="ju jv hi bd jw jx jy jz ka kb kc js dx translated">"<em class="kd"> Google Charts是一种交互式网络服务，可以根据用户提供的信息创建图形图表。用户提供嵌入在网页中的以JavaScript表达的数据和格式规范；作为响应，该服务发送图表的图像。</em></p></blockquote><p id="72a9" class="pw-post-body-paragraph iv iw hi ix b iy ke ja jb jc kf je jf jg kg ji jj jk kh jm jn jo ki jq jr js hb bi translated">Web服务是一个能够让机器通过HTTP协议进行通信的应用程序。为此，正如我们之前所说的，使用Google Chart，您可以通过HTML页面向任何人提供可视化效果。<br/>因此，Matplotlib和Google Chart需要达到相同的目标(数据的表示)，只是方式不同。事实上，Matplotlib是一个库，它使用Python语言，而Google Chart是一个web服务，它使用JavaScript语言。有人会知道如何建立一个HTML页面，通过JavaScript和Google Chart表示Python中产生的数据。嗯，两种技术之间的“中介”<em class="kj"/>将是<strong class="ix hj"> Flask </strong>，这是一个Python库，允许你以非常简单的方式启动Web服务。这是我的选择，但是您可以自由地使用任何其他工具来拥有Python中的web服务。</p><blockquote class="jt"><p id="ca90" class="ju jv hi bd jw jx jy jz ka kb kc js dx translated">Flask是用Python编写的微型web框架，之所以被归类为微型框架，是因为它不需要特定的工具或库</p></blockquote><p id="e21f" class="pw-post-body-paragraph iv iw hi ix b iy ke ja jb jc kf je jf jg kg ji jj jk kh jm jn jo ki jq jr js hb bi translated">由于Flask使用起来非常简单，我们先来看看如何配置它来托管一个HTML页面，然后看看如何使用Google Chart来表示数据。</p><p id="2ed0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们需要从Flask库中导入<strong class="ix hj"> Flask </strong>和r <strong class="ix hj"> ender_template </strong>类。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="8dc5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们创建一个Flask类的<em class="kj">实例</em>。第一个参数是应用程序的<em class="kj">模块</em>或<em class="kj">包</em>的名称。这是必需的，以便Flask知道在哪里寻找<em class="kj">模板</em>、<em class="kj">静态</em>、<em class="kj">文件</em>等等。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="8780" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们使用函数<strong class="ix hj"> route() </strong>作为<em class="kj">装饰器</em>来告诉Flask什么URL应该触发我们的函数。因此，我们定义了一个具有任意名称的函数，该函数必须包含要传输到html页面的数据，以表示将出现在子文件夹<strong class="ix hj"> "/templates" </strong>中的数据和页面名称。<strong class="ix hj"> render_template() </strong>函数正是从已定义的函数返回的内容，它将HTML页面和用于表示的数据作为参数。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="0e96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们还使用<strong class="ix hj"> app.run() </strong>命令在每次运行代码时启动web服务会话。</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="ea04" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是我们拥有的全部代码:</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="4f18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那<strong class="ix hj"> "results.html" </strong>文件呢？在Flask中，每个HTML页面都必须在名为<strong class="ix hj">“templates”</strong>的子文件夹中，这个子文件夹与主脚本放在同一个文件夹中。我们的HTML页面可能有这样的形式:</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="835f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如您所见，整个JavaScript代码非常直观。我们根据我们想要表示的内容定义一个函数，在我们的例子中是一个<em class="kj">图表</em>到<strong class="ix hj"> drawChart() </strong>。<br/>在函数中，定义了两个变量，它们将成为<strong class="ix hj"> chart.draw() </strong>函数的参数。这两个变量是:<br/> <strong class="ix hj"> 1。“data”</strong>:Python产生的数据，通过Flask传递给HTML页面。<br/>2<strong class="ix hj">。【选项】</strong>:装饰和数据将如何在页面上显示。</p><p id="5dcc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，如果我们尝试执行代码，我们会得到这个表达式:</p><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/05880e5a0a598c5aa655b417aff1a6e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XGcang5C2h8GcXm04YWjaA.png"/></div></div></figure><p id="8042" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以说，它看起来比Matplotlib更优雅，最重要的是，它可以很容易地与他人分享。</p><p id="ed96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，通过这篇简短的指南，我们关注了Google Chart的潜力，尤其是如果它与Python集成的话。我确信有许多其他的方法来表示你的数据，但是到目前为止，这对我来说是非常有用和舒适的。</p><p id="e193" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">参考文献:</strong></p><p id="b192" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[1] <a class="ae iu" href="https://matplotlib.org/contents.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib文档</a></p><p id="11da" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[2] <a class="ae iu" href="https://developers.google.com/chart" rel="noopener ugc nofollow" target="_blank">谷歌图表文档</a></p><p id="db50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[3] <a class="ae iu" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank">烧瓶文件</a></p><p id="f7bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[4] <a class="ae iu" href="https://it.wikipedia.org/wiki/Web_service" rel="noopener ugc nofollow" target="_blank">网络服务维基百科</a></p></div></div>    
</body>
</html>