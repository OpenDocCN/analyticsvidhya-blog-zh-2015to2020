<html>
<head>
<title>How to Create a Fully Functional E-commerce Website with Django</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Django创建一个功能齐全的电子商务网站</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-create-fully-functional-e-commerce-website-with-django-7205d250e76f?source=collection_archive---------4-----------------------#2020-02-12">https://medium.com/analytics-vidhya/how-to-create-fully-functional-e-commerce-website-with-django-7205d250e76f?source=collection_archive---------4-----------------------#2020-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="17c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第4步，共5步:创建结帐表单</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/6fc134ba6f76d6e1138bdb2fe3143e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nnmReMTx0I47i2-kzdG0Lw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.shuup.com/wp-content/uploads/2017/12/python-plus-django-1.jpg" rel="noopener ugc nofollow" target="_blank">https://www . shuup . com/WP-content/uploads/2017/12/python-plus-django-1 . jpg</a></figcaption></figure><p id="3f56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本部分教程中，我们将创建订单结账</p><h1 id="6ac7" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">先决条件</h1><ul class=""><li id="9286" class="ks kt hi ih b ii ku im kv iq kw iu kx iy ky jc kz la lb lc bi translated">Django最新版本</li><li id="f98d" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">Anaconda(可选)创建虚拟环境</li><li id="4c92" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">作为代码编辑器的Visual Studio代码(可选)</li></ul><p id="a72c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始本教程之前，不要忘记激活您的虚拟环境，以及我们在上一个教程中创建的项目。如果你没有，你可以在这里下载:</p><div class="li lj ez fb lk ll"><a href="https://github.com/Andika7/DjangoEcommerce/tree/0bdedf2fe57b3677ec0b1e006d0946cfed10e546" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">安集卡7/DjangoEcommerce</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为Andika7/DjangoEcommerce的发展做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz jn ll"/></div></div></a></div><h1 id="9f7f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">A.形式</h1><p id="cb17" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">在教程的这一部分，我们将创建一个结帐表单。好的，只要从下面的链接下载名为checkout.html<strong class="ih hj">的结帐页面表单的模板就可以了:</strong></p><div class="li lj ez fb lk ll"><a href="https://github.com/Andika7/DjangoEcommerce/tree/bd146d530d8bec8a5dea3960d3291fe9b60d2bfe/templates" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">安集卡7/DjangoEcommerce</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为Andika7/DjangoEcommerce的发展做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="md l lw lx ly lu lz jn ll"/></div></div></a></div><p id="5f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结账</strong>。html文件已根据结账显示的需要进行了调整。然后我们只需要从核心目录创建一个表单。</p><p id="ad87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在核心目录中创建一个名为<strong class="ih hj"> forms.py </strong>的新文件，该文件将存储与表单相关的所有内容。</p><p id="0cf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="7da4" class="mj jv hi mf b fi mk ml l mm mn">from django import forms<br/>from django_countries.fields import CountryField<br/>from django_countries.widgets import CountrySelectWidget</span></pre><p id="5274" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，我们正在使用国家/地区字段库，这是第三方库，因此我们必须安装它才能使用。要安装国家库，只需运行下面的命令:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="2548" class="mj jv hi mf b fi mk ml l mm mn">$ pip install django-countries</span></pre><p id="4391" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在settings.py中添加以下代码:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="83f7" class="mj jv hi mf b fi mk ml l mm mn">INSTALLED_APPS = [<br/>   ...<br/>   'django_countries'<br/>]</span></pre><p id="d136" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们创建一个名为<strong class="ih hj"> CheckoutForm </strong>的类表单，作为来自checkout页面的表单</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="8e40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个，你就有了结账表格</p><h1 id="5477" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">B.模型</h1><p id="208b" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">为了创建一个结帐表单，我们将创建一个新的模型类，用于保存订单的送货地址。</p><p id="ed49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将创建的类是<strong class="ih hj"> CheckoutAddress </strong>,它将存储我们之前创建的表单中订单的发货地址</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="296a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也不要忘记导入，因为我们将使用国家字段:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="953c" class="mj jv hi mf b fi mk ml l mm mn">from django_countries.fields import CountryField</span></pre><p id="9288" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不要忘记使用下面的命令迁移您的模型数据库:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="c19a" class="mj jv hi mf b fi mk ml l mm mn">$ python manage.py migrate<br/>$ python manage.py makemigrations</span></pre><p id="0089" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整的models.py代码可以在以下链接中看到:</p><div class="li lj ez fb lk ll"><a href="https://github.com/Andika7/DjangoEcommerce/blob/bd146d530d8bec8a5dea3960d3291fe9b60d2bfe/core/models.py" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">安集卡7/DjangoEcommerce</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为Andika7/DjangoEcommerce的发展做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="mq l lw lx ly lu lz jn ll"/></div></div></a></div><h1 id="2137" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">C.视图</h1><p id="2146" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">在视图中，不要忘记添加国家字段库，也不要忘记添加我们刚刚创建的模型和表单</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="94b4" class="mj jv hi mf b fi mk ml l mm mn">from .forms import CheckoutForm<br/>from .models import (<br/>    ...<br/>    CheckoutAddress<br/>)</span></pre><p id="5667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建签出视图类</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="6a3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们之前创建的forms.py文件中。我们通过视图将表单发送到模板中。<strong class="ih hj"> post </strong>函数捕获通过模板中的表单发送的值</p><p id="7941" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整的<strong class="ih hj"> views.py </strong>代码可以在下面的链接中看到:</p><div class="li lj ez fb lk ll"><a href="https://github.com/Andika7/DjangoEcommerce/blob/bd146d530d8bec8a5dea3960d3291fe9b60d2bfe/core/views.py" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">安集卡7/DjangoEcommerce</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为Andika7/DjangoEcommerce的发展做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="mr l lw lx ly lu lz jn ll"/></div></div></a></div><h1 id="437f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">D.资源定位符</h1><p id="0102" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">像往常一样，在我们创建视图之后，不要忘记在core/urls.py文件中注册它。</p><p id="a54d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="b6d7" class="mj jv hi mf b fi mk ml l mm mn">from django.urls import path<br/>from .views import (<br/>    ...<br/>    CheckoutView<br/>)</span></pre><p id="3d79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将视图中的所有类和函数注册到urls.py文件中。之后，我们将添加地址</p><p id="d811" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用下面的代码创建结帐页面的路径url:</p><pre class="je jf jg jh fd me mf mg mh aw mi bi"><span id="e784" class="mj jv hi mf b fi mk ml l mm mn">urlpatterns = [<br/>   ...<br/>   path('checkout', CheckoutView.as_view(), name='checkout'),<br/>]</span></pre><p id="f45d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后可以访问结帐表单，并将订单数据保存到数据库中</p><h1 id="a9fa" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">完成源代码这一部分:</h1><div class="li lj ez fb lk ll"><a href="https://github.com/Andika7/DjangoEcommerce/tree/bd146d530d8bec8a5dea3960d3291fe9b60d2bfe" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hj fi z dy lq ea eb lr ed ef hh bi translated">安集卡7/DjangoEcommerce</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为Andika7/DjangoEcommerce的发展做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="ms l lw lx ly lu lz jn ll"/></div></div></a></div><h1 id="f99f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">进行下一部分！</h1><p id="49d8" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">我希望本教程的第四部分对你有所帮助。在下一节课中，我们将使用stripe处理支付。</p></div></div>    
</body>
</html>