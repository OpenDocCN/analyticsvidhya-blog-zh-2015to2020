<html>
<head>
<title>Installing OpenCV 3 from Source on macOS Catalina</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在macOS Catalina上从源代码安装OpenCV 3</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/installing-opencv-3-from-source-on-macos-catalina-cefc71e2fda?source=collection_archive---------2-----------------------#2019-10-27">https://medium.com/analytics-vidhya/installing-opencv-3-from-source-on-macos-catalina-cefc71e2fda?source=collection_archive---------2-----------------------#2019-10-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5613d236a29ab479831cea5882a98451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g1hU5S5mAibzeZah"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">托马斯·Q在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="dd4e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">penCV已经成为计算机视觉领域中使用最广泛的开源库之一。感谢为这个图书馆做出贡献的志愿者们。从柳树车库到opencv.org的旅程令人振奋。然而，设置从源代码构建OpenCV的环境总是具有挑战性。随着每个新版本以及新操作系统的发布，OpenCV的配置将变得很麻烦。</p><p id="b640" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇博文中，我将记录下最近发布的<em class="kc"> macOS Catalina </em>上的OpenCV构建过程。放弃对32位应用程序的支持在一些用户中造成了不愉快的局面。</p><h2 id="fcba" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">开始构建过程之前的先决条件</h2><p id="35c9" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">你需要安装python，因为我们不想弄乱系统python。对于这篇博文，我将使用<em class="kc"> python 3.6 </em>。从其官方网站<a class="ae iu" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">下载并安装。下面给出了在macOS Catalina上构建OpenCV需要遵循的步骤。</a></p><h2 id="06c5" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">1.安装和配置Xcode</h2><p id="bdfc" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">从App Store下载Xcode。这将需要一段时间，因为这个文件的大小接近7到8 GB。成功安装Xcode后，运行以下命令。</p><p id="f68d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ld le lf lg b">$ sudo xcodebuild -license</code></p><p id="3ec6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用空格键移动到协议页面的底部，并键入[accept]以同意该许可证。接下来，我们需要安装<em class="kc">命令行工具</em>，它将安装基本编译器(gcc、g++等。).使用下面给出的命令。</p><p id="5168" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ld le lf lg b">$ sudo xcode-select --install</code></p><h2 id="cdbf" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">2.为MacOS Catalina安装自制软件</h2><p id="a4de" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">要安装家酿软件，请访问他们的官方网站[ <a class="ae iu" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">链接</a> ]。从终端运行以下代码进行安装。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="b976" class="kd ke hi lg b fi lp lq l lr ls">$ /usr/bin/ruby<!-- --> <!-- -->-e "$(curl -fsSL <a class="ae iu" href="https://raw.githubusercontent.com/Homebrew/install/master/install" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)"</span></pre><p id="415a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装homebrew后，更新包定义。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="fab0" class="kd ke hi lg b fi lp lq l lr ls">$ brew update</span></pre><blockquote class="lt lu lv"><p id="4963" class="iv iw kc ix b iy iz ja jb jc jd je jf lw jh ji jj lx jl jm jn ly jp jq jr js hb bi translated"><strong class="ix hj">【注意】</strong>在终端运行<code class="du ld le lf lg b"><em class="hi">$ echo $PATH</em></code>命令，检查/usr/local/bin是否已经添加到系统路径中。如果还没有添加，更新bash_profile或bashrc或zshrc(基于您的系统),并将下面几行添加到文件中。由于我使用<a class="ae iu" href="https://www.iterm2.com/" rel="noopener ugc nofollow" target="_blank"> iTerm2 </a>作为我的终端替代品，在下面的命令中，我将更新~/。zshrc文件。你可以使用任何你选择的编辑器。</p></blockquote><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="aee2" class="kd ke hi lg b fi lp lq l lr ls">$ vim ~/.zshrc</span></pre><p id="3c63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将下面几行添加到文件中并保存。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="8c3f" class="kd ke hi lg b fi lp lq l lr ls"># Homebrew<br/>export<!-- --> <!-- -->PATH=/usr/local/bin:$PATH</span></pre><p id="4a7c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用源命令重新加载<code class="du ld le lf lg b">~/.zshrc</code>文件。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="462e" class="kd ke hi lg b fi lp lq l lr ls">$ source<!-- --> <!-- -->~/.zshrc</span></pre><h2 id="d91f" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">3.从官方网站安装Python 3.6</h2><p id="24f4" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">安装下载的python文件后，运行以下命令检查python3的路径。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="b77f" class="kd ke hi lg b fi lp lq l lr ls">$ which<!-- --> <!-- -->python3<br/>/Library/Frameworks/Python.framework/Versions/3.6/bin/python3</span><span id="1c44" class="kd ke hi lg b fi lz lq l lr ls">$ python3 --version<br/>Python 3.6.8</span></pre><p id="1d38" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用brew包管理器，安装以下用于构建OpenCV的依赖项。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="f794" class="kd ke hi lg b fi lp lq l lr ls">$ brew install<!-- --> <!-- -->cmake pkg-config wget<br/>$ brew install<!-- --> <!-- -->jpeg libpng libtiff openexr<br/>$ brew install<!-- --> <!-- -->eigen tbb hdf5</span></pre><h2 id="cef2" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">4.创建python虚拟环境</h2><p id="3c2f" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">下一步是使用<em class="kc"> pip </em>安装<a class="ae iu" href="https://virtualenv.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> virtualenv </a>和<a class="ae iu" href="https://virtualenvwrapper.readthedocs.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> virtualenvwrapper </a>。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="e757" class="kd ke hi lg b fi lp lq l lr ls">$ pip3 install<!-- --> <!-- -->virtualenv virtualenvwrapper</span></pre><p id="456f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">再次配置<code class="du ld le lf lg b">~/.zshrc</code>配置文件页面来设置环境变量。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="c79a" class="kd ke hi lg b fi lp lq l lr ls"># virtualenv and virtualenvwrapper<br/>export VIRTUALENVWRAPPER_PYTHON=/Library/Frameworks/Python.framework/Versions/3.6/bin/python3</span><span id="b53d" class="kd ke hi lg b fi lz lq l lr ls">source /Library/Frameworks/Python.framework/Versions/3.6/bin/virtualenvwrapper.sh</span></pre><p id="fa20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">更新完<code class="du ld le lf lg b">~/.zshrc</code>文件后，使用source命令重新加载它。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="6b7d" class="kd ke hi lg b fi lp lq l lr ls">$ source<!-- --> <!-- -->~/.zshrc</span></pre><p id="802f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建一个名为<em class="kc"> py3cv3 </em>的虚拟环境。你可以根据自己的需要选择一个合适的名字。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="2d17" class="kd ke hi lg b fi lp lq l lr ls">$ mkvirtualenv py3cv3 -p python3</span></pre><h2 id="74d3" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">5.从源代码安装Opencv 3.4.7</h2><p id="b0cc" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">OpenCV唯一需要的python依赖项是<em class="kc"> NumPy </em>(我们将使用1.14.0)，我们可以使用下面的命令安装它。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="637e" class="kd ke hi lg b fi lp lq l lr ls">$ workon py3cv3<br/>$ pip install<!-- --> <!-- -->numpy==1.14.0</span></pre><p id="1e95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们从源代码编译OpenCV。首先我们要下载<em class="kc"> opencv </em>和<em class="kc"> opencv_contrib </em>的源代码(我们会用3.4.7版本)。可以根据自己的需求使用版本。下载源代码后，我们会将其解压缩并存储在主文件夹中。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="3c07" class="kd ke hi lg b fi lp lq l lr ls">$ cd<!-- --> <!-- -->~<br/>$ wget -O opencv.zip <a class="ae iu" href="https://github.com/opencv/opencv/archive/3.4.7.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv/archive/3.4.7.zip</a><br/>$ wget -O opencv_contrib.zip <a class="ae iu" href="https://github.com/opencv/opencv_contrib/archive/3.4.7.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv_contrib/archive/3.4.7.zip</a><br/>$ unzip opencv.zip<br/>$ unzip opencv_contrib.zip</span></pre><p id="0404" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将重命名提取的文件夹，以便从提取的文件夹名称中删除版本信息。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="f690" class="kd ke hi lg b fi lp lq l lr ls">$ mv<!-- --> <!-- -->opencv-3.4.7 opencv<br/>$ mv<!-- --> <!-- -->opencv_contrib-3.4.7 opencv_contrib</span></pre><p id="0cc0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用<a class="ae iu" href="https://cmake.org/" rel="noopener ugc nofollow" target="_blank"> <em class="kc"> CMake </em> </a>从源代码[1]运行构建过程。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="7477" class="kd ke hi lg b fi lp lq l lr ls">$ cd ~/opencv<br/>$ mkdir build<br/>$ cd build<br/>$ cmake -D CMAKE_BUILD_TYPE=RELEASE \<br/>    -D CMAKE_INSTALL_PREFIX=/usr/local \<br/>    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib/modules \<br/>    -D PYTHON3_LIBRARY=`python -c 'import subprocess ; import sys ; s = subprocess.check_output("python-config --configdir", shell=True).decode("utf-8").strip() ; (M, m) = sys.version_info[:2] ; print("{}/libpython{}.{}.dylib".format(s, M, m))'` \<br/>    -D PYTHON3_INCLUDE_DIR=`python -c 'import distutils.sysconfig as s; print(s.get_python_inc())'` \<br/>    -D PYTHON3_EXECUTABLE=$VIRTUAL_ENV/bin/python \<br/>    -D BUILD_opencv_python2=OFF \<br/>    -D BUILD_opencv_python3=ON \<br/>    -D INSTALL_PYTHON_EXAMPLES=ON \<br/>    -D INSTALL_C_EXAMPLES=OFF \<br/>    -D OPENCV_ENABLE_NONFREE=ON \<br/>    -D BUILD_EXAMPLES=ON ..</span></pre><p id="1b74" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">检查CMake的输出。它应该如下所示:</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/b29c459ee3ae2ddd6ef0067f2039e23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCcqc7jIr638N21TEAnuUg.png"/></div></div></figure><p id="0856" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行下面的代码，从生成文件中生成。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="96ed" class="kd ke hi lg b fi lp lq l lr ls">$ make<!-- --> <!-- -->-j4</span></pre><p id="de26" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">成功制作后，我们可以使用下面的命令安装它。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="52ec" class="kd ke hi lg b fi lp lq l lr ls">$ sudo<!-- --> <!-- -->make<!-- --> <!-- -->install</span></pre><p id="fb22" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要检查系统内部安装是否成功，您可以搜索“<em class="kc">opencv . PC”</em>配置文件。通常，可以在以下路径中找到它。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="7a1d" class="kd ke hi lg b fi lp lq l lr ls">/usr/local/lib/pkgconfig/opencv.pc</span></pre><p id="7b26" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行以下命令检查安装的版本。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="65c6" class="kd ke hi lg b fi lp lq l lr ls">$ pkg-config --modversion opencv<br/>3.4.7</span><span id="4775" class="kd ke hi lg b fi lz lq l lr ls">$ pkg-config --libs --cflags opencv</span><span id="f7de" class="kd ke hi lg b fi lz lq l lr ls">-I/usr/local/include/opencv<!-- --> <!-- -->-I/usr/local/include<!-- --> <!-- -->-L/usr/local/lib<!-- --> <!-- -->-lopencv_stitching -lopencv_superres -lopencv_videostab -lopencv_aruco -lopencv_bgsegm -lopencv_bioinspired -lopencv_ccalib -lopencv_dnn_objdetect -lopencv_dpm -lopencv_face -lopencv_fuzzy -lopencv_hdf -lopencv_hfs -lopencv_img_hash -lopencv_line_descriptor -lopencv_optflow -lopencv_reg -lopencv_rgbd -lopencv_saliency -lopencv_stereo -lopencv_structured_light -lopencv_phase_unwrapping -lopencv_surface_matching -lopencv_tracking -lopencv_datasets -lopencv_text -lopencv_highgui -lopencv_videoio -lopencv_dnn -lopencv_plot -lopencv_xfeatures2d -lopencv_shape -lopencv_video -lopencv_ml -lopencv_ximgproc -lopencv_xobjdetect -lopencv_objdetect -lopencv_calib3d -lopencv_imgcodecs -lopencv_features2d -lopencv_flann -lopencv_xphoto -lopencv_photo -lopencv_imgproc -lopencv_core</span></pre><p id="68b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装完成后，我们需要创建一个<em class="kc"> cv2.so </em>文件到虚拟环境的符号链接。让我们首先检查。所以文件是否存在于安装路径中。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="1863" class="kd ke hi lg b fi lp lq l lr ls">$ cd<!-- --> <!-- -->/usr/local/lib/python3.6/site-packages/cv2/python-3.6</span><span id="bc67" class="kd ke hi lg b fi lz lq l lr ls">$ ls<br/>cv2.cpython-36m-darwin.so</span></pre><p id="7f33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们想安装多个版本的OpenCV，最好将其重命名，以避免与后面的安装混淆。重命名后，我们可以创建。所以文件放入虚拟环境(如py3cv3)。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="5812" class="kd ke hi lg b fi lp lq l lr ls">$ sudo<!-- --> <!-- -->mv<!-- --> <!-- -->cv2.cpython-36m-darwin.so cv2.opencv3.4.7.so</span><span id="9def" class="kd ke hi lg b fi lz lq l lr ls">$ cd<!-- --> <!-- -->~/.virtualenvs/py3cv3/lib/python3.6/site-packages</span><span id="efa5" class="kd ke hi lg b fi lz lq l lr ls">$ ln<!-- --> <!-- -->-s /usr/local/lib/python3.6/site-packages/cv2/python-3.6/cv2.opencv3.4.7.so cv2.so</span></pre><p id="abe2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们可以通过运行以下命令来测试安装。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="baca" class="kd ke hi lg b fi lp lq l lr ls">$ cd<!-- --> <!-- -->~<br/>$ workon py3cv3<br/>$ python<br/>&gt;&gt;&gt; import<!-- --> <!-- -->cv2<br/>&gt;&gt;&gt; cv2.__version__<br/>'3.4.7'</span></pre><p id="b7ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你能看到OpenCV的版本，说明你的系统已经安装成功，你可以开始了。恭喜你！！</p><p id="2221" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 6。在macOS Catalina上安装Tensorflow和Keras】</strong></p><p id="288c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将在虚拟环境py3cv3中安装TensorFlow和Keras。要激活虚拟环境，只需运行以下代码。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="2893" class="kd ke hi lg b fi lp lq l lr ls">$ workon py3cv3</span></pre><p id="5d3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用pip，我们将安装一些著名的计算机视觉、机器学习和图像处理软件包。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="7b49" class="kd ke hi lg b fi lp lq l lr ls">$ pip install<!-- --> <!-- -->scipy pillow<br/>$ pip install<!-- --> <!-- -->imutils h5py requests progressbar2<br/>$ pip install<!-- --> <!-- -->scikit-learn scikit-image</span></pre><p id="e2b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将安装<em class="kc"> matplotlib </em>并更新渲染背景。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="4dfa" class="kd ke hi lg b fi lp lq l lr ls">$ pip install<!-- --> <!-- -->matplotlib<br/>$ mkdir<!-- --> <!-- -->~/.matplotlib<br/>$ vim ~/.matplotlib/matplotlibrc<br/>$ echo<!-- --> <!-- -->"backend: TkAgg"<!-- --> <!-- -->&gt;&gt; ~/.matplotlib/matplotlibrc</span></pre><p id="ffda" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你在<em class="kc"> matplotlib </em>中获得最终输出时遇到任何困难，请按照官方文档页面为<em class="kc"> matplotlib </em> [ <a class="ae iu" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank">链接</a>设置虚拟环境。现在是时候安装TensorFlow和Keras了。按照<a class="ae iu" href="https://www.tensorflow.org/versions" rel="noopener ugc nofollow" target="_blank">tensor flow API</a>页面选择所需版本。我这里用的是r1.15版。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="0b5c" class="kd ke hi lg b fi lp lq l lr ls">$ pip install<!-- --> <!-- -->tensorflow==1.15<br/>$ pip install<!-- --> <!-- -->keras<br/>$ python<br/>&gt;&gt;&gt; import<!-- --> <!-- -->tensorflow as tf<br/>&gt;&gt;&gt; tf.__version__<br/>'1.15.0'<br/>&gt;&gt;&gt; import<!-- --> <!-- -->keras<br/>Using TensorFlow backend.</span></pre><p id="8551" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Keras配置文件位于主文件夹中，路径为<em class="kc"> ~/。keras/keras.json </em>。你可以打开文件看看内容。确保<em class="kc">“image _ data _ format”</em>字段设置为<em class="kc"> channels_last </em>并且<em class="kc">“back end”</em>设置为<em class="kc"> tensorflow </em>。</p><p id="2e6f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">恭喜你！！您已经在macOS Catalina上成功安装了OpenCV。</p><h2 id="e201" class="kd ke hi bd kf kg kh ki kj kk kl km kn jg ko kp kq jk kr ks kt jo ku kv kw kx bi translated">参考</h2><p id="261a" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">1.<a class="ae iu" href="https://www.pyimagesearch.com/2019/01/30/macos-mojave-install-tensorflow-and-keras-for-deep-learning/" rel="noopener ugc nofollow" target="_blank">https://www . pyimagesearch . com/2019/01/30/MAC OS-mojave-install-tensor flow-and-keras-for-deep-learning/</a></p></div></div>    
</body>
</html>