<html>
<head>
<title>Receive or Return files-Flask API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">接收或返回文件-Flask API</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/receive-or-return-files-flask-api-8389d42b0684?source=collection_archive---------0-----------------------#2020-07-06">https://medium.com/analytics-vidhya/receive-or-return-files-flask-api-8389d42b0684?source=collection_archive---------0-----------------------#2020-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="20c8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用Flask提供文件或下载文件作为输出</h2></div><p id="2176" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我们将看到“如何使用Python通过Flask返回单个文件和多个文件”</p><h1 id="3466" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">为什么是这个教程？？？</h1><p id="2e8f" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">有时，您希望允许用户从您的网站或应用程序下载报告或文件，这是任何网站或应用程序经常需要的功能。。。,</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kq"><img src="../Images/09fd4b6239a35f59d667c76fda62f0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c0Aoo3TDLUhz4A-OUpX3KA.png"/></div></div><figcaption class="lc ld et er es le lf bd b be z dx translated">解决方法循环下载文件</figcaption></figure><p id="9ade" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Flask为此提供了一些有用的功能</p><p id="d974" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看到有人写关于“初学者用Flask”教程的博客后。我注意到，他们没有涵盖“发送文件和允许用户下载文件”。所以，我对写“服务文件”产生了兴趣。我确信这个博客会带你去“服务文件”,让你变得简单。。。,</p><p id="0c5b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我之前的博客中，讨论了“<strong class="iz hj">上传文件到服务器</strong></p><div class="lg lh ez fb li lj"><a rel="noopener follow" target="_blank" href="/@ngbala6/get-started-with-multiple-files-upload-using-flask-e8a2f5402e20"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hj fi z dy lo ea eb lp ed ef hh bi translated">开始使用Flask上传多个文件</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">烧瓶多个文件上传</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx la lj"/></div></div></a></div><div class="lg lh ez fb li lj"><a rel="noopener follow" target="_blank" href="/dev-genius/a-simple-way-to-build-flask-file-upload-1ccb9462bc2c"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hj fi z dy lo ea eb lp ed ef hh bi translated">建立Flask文件上传的简单方法！！！</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">烧瓶文件上传</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="ly l lu lv lw ls lx la lj"/></div></div></a></div><h1 id="2a6e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">为什么选择烧瓶？？？</h1><p id="b10a" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">尽管人们说Flask简单易用，而Django对于构建web应用程序来说很笨重。</p><blockquote class="lz ma mb"><p id="0261" class="ix iy mc iz b ja jb ij jc jd je im jf md jh ji jj me jl jm jn mf jp jq jr js hb bi translated"><em class="hi"> Flask是一个广泛使用的</em> <strong class="iz hj"> <em class="hi">微web框架</em> </strong> <em class="hi">用于在Python中创建API。这是一个简单而强大的web框架，旨在快速轻松地开始使用，并能够扩展到复杂的应用程序。</em></p></blockquote><p id="969c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从<a class="ae mg" href="https://flask.palletsprojects.com/en/1.1.x/foreword/" rel="noopener ugc nofollow" target="_blank">文档</a>中，</p><blockquote class="lz ma mb"><p id="5ea5" class="ix iy mc iz b ja jb ij jc jd je im jf md jh ji jj me jl jm jn mf jp jq jr js hb bi translated"><em class="hi">“微型”并不意味着你的整个web应用程序必须适合一个单独的Python文件(尽管它确实可以)，也不意味着Flask缺乏功能。微框架中的“微”意味着Flask旨在保持核心简单但可扩展。</em></p></blockquote><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mh"><img src="../Images/36448deaa5abed0cf3e3727993175ba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*H3aEP7X3hd7wVCigrF3O1Q.png"/></div></div></figure><h1 id="41db" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">要求和安装</h1><ol class=""><li id="7cb7" class="mi mj hi iz b ja kl jd km jg mk jk ml jo mm js mn mo mp mq bi translated">当然，我们需要Python 3.5或以上版本。<a class="ae mg" href="https://flask.palletsprojects.com/en/0.12.x/python3/" rel="noopener ugc nofollow" target="_blank">但是为什么呢？？见此</a></li><li id="71d6" class="mi mj hi iz b ja mr jd ms jg mt jk mu jo mv js mn mo mp mq bi translated">安装烧瓶</li></ol><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="a0f0" class="nb ju hi mx b fi nc nd l ne nf">pip install flask</span></pre></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="01f3" class="jt ju hi bd jv jw nn jy jz ka no kc kd io np ip kf ir nq is kh iu nr iv kj kk bi translated"><strong class="ak"> #使用Flask从服务器简单发送文件</strong></h1><p id="4f51" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated"><em class="mc">一个简单的文件使用Flask API发送Python脚本。。，</em></p><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="c132" class="nb ju hi mx b fi nc nd l ne nf"># servefile.py</span><span id="1fbd" class="nb ju hi mx b fi ns nd l ne nf"><strong class="mx hj">from </strong>flask <strong class="mx hj">import </strong>Flask,send_from_directory<br/><br/>app = Flask(__name__)</span><span id="9fff" class="nb ju hi mx b fi ns nd l ne nf"># Specify directory to download from . . . </span><span id="53ad" class="nb ju hi mx b fi ns nd l ne nf">DOWNLOAD_DIRECTORY = <strong class="mx hj">"&lt;your folder directory&gt;"<br/><br/></strong>@app.route(<strong class="mx hj">'/get-files/&lt;path:path&gt;'</strong>,methods = [<strong class="mx hj">'GET'</strong>,<strong class="mx hj">'POST'</strong>])<br/><strong class="mx hj">def </strong>get_files(path):<br/><br/>    <em class="mc">"""Download a file."""<br/>    </em><strong class="mx hj">try</strong>:<br/>        <strong class="mx hj">return </strong>send_from_directory(DOWNLOAD_DIRECTORY, path, as_attachment=<strong class="mx hj">True</strong>)<br/>    <strong class="mx hj">except </strong>FileNotFoundError:<br/>        abort(404)<br/><br/><br/><strong class="mx hj">if </strong>__name__ == <strong class="mx hj">'__main__'</strong>:<br/>    app.run(host=<strong class="mx hj">'0.0.0.0'</strong>, port = <strong class="mx hj">8000</strong>, threaded = <strong class="mx hj">True</strong>, debug = <strong class="mx hj">True</strong>)</span></pre><p id="c30a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过运行“python servefile.py”来运行应用程序。进入浏览器，输入“<strong class="iz hj">http://localhost:8000/get-files/&lt;文件名，扩展名为&gt; </strong>”。</p><p id="e807" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您在URL中提到的指定文件存在，您可以下载该文件。否则将出现404错误。。,</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es nt"><img src="../Images/ce15966ca4b6a9e70e90fb8928ae6340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*EkYeYqVNHVOh6vXDCnRx3g.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx translated">下载示例文件</figcaption></figure></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="d0f3" class="jt ju hi bd jv jw nn jy jz ka no kc kd io np ip kf ir nq is kh iu nr iv kj kk bi translated">#根据请求返回各种文件</h1><p id="78b1" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated"><em class="mc">文件下载是从服务器接收二进制或普通文件的过程。Flask方便我们轻松下载文件。</em></p><p id="0ea6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于路由返回各种文件</p><blockquote class="lz ma mb"><p id="fbd8" class="ix iy mc iz b ja jb ij jc jd je im jf md jh ji jj me jl jm jn mf jp jq jr js hb bi translated"><em class="hi">创建一个名为“variousfiledownloadflask.py”的文件</em></p></blockquote><p id="d9b1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="mc"> 1。导入库</em>和</strong></p><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="e13a" class="nb ju hi mx b fi nc nd l ne nf"><strong class="mx hj">from </strong>flask <strong class="mx hj">import </strong>Flask,send_file,send_from_directory</span></pre><p id="878c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">T8】2。创建实例并指定文件位置和</strong></p><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="5e26" class="nb ju hi mx b fi nc nd l ne nf">app = Flask(__name__)<br/><br/><em class="mc"># The absolute path of the directory containing images for users to download<br/></em>app.config[<strong class="mx hj">"CLIENT_IMAGES"</strong>] = <strong class="mx hj">"E:/AudiotoText/Flask_File_Downloads/filedownload/files/image"<br/><br/></strong><em class="mc"># The absolute path of the directory containing CSV files for users to download<br/></em>app.config[<strong class="mx hj">"CLIENT_CSV"</strong>] = <strong class="mx hj">"E:/AudiotoText/Flask_File_Downloads/filedownload/files/csv"<br/><br/></strong><em class="mc"># The absolute path of the directory containing PDF files for users to download<br/></em>app.config[<strong class="mx hj">"CLIENT_PDF"</strong>] = <strong class="mx hj">"E:/AudiotoText/Flask_File_Downloads/filedownload/files/pdf"</strong></span></pre><p id="e692" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="mc"> 3。应用程序路由</em> </strong></p><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="7174" class="nb ju hi mx b fi nc nd l ne nf"># Get CSV File Routing<br/>@app.route(<strong class="mx hj">'/get-csv/&lt;csv_filename&gt;'</strong>,methods = [<strong class="mx hj">'GET'</strong>,<strong class="mx hj">'POST'</strong>])<br/><strong class="mx hj">def </strong>get_csv(csv_filename):<br/><br/>    <strong class="mx hj">try</strong>:<br/>        <strong class="mx hj">return </strong>send_from_directory(app.config[<strong class="mx hj">"CLIENT_CSV"</strong>], filename=csv_filename, as_attachment=<strong class="mx hj">True</strong>)<br/>    <strong class="mx hj">except </strong>FileNotFoundError:<br/>        abort(404)<br/><br/># Get PDF file Routing<br/>@app.route(<strong class="mx hj">'/get-pdf/&lt;pdf_filename&gt;'</strong>,methods = [<strong class="mx hj">'GET'</strong>,<strong class="mx hj">'POST'</strong>])<br/><strong class="mx hj">def </strong>get_pdf(pdf_filename):<br/><br/>    <strong class="mx hj">try</strong>:<br/>        <strong class="mx hj">return </strong>send_from_directory(app.config[<strong class="mx hj">"CLIENT_PDF"</strong>], filename=pdf_filename, as_attachment=<strong class="mx hj">True</strong>)<br/>    <strong class="mx hj">except </strong>FileNotFoundError:<br/>        abort(404)<br/><br/># Get Image file Routing<br/>@app.route(<strong class="mx hj">"/get-image/&lt;path:image_name&gt;"</strong>,methods = ['GET','POST'])<br/><strong class="mx hj">def </strong>get_image(image_name):<br/><br/>    <strong class="mx hj">try</strong>:<br/>        <strong class="mx hj">return </strong>send_from_directory(app.config[<strong class="mx hj">"CLIENT_IMAGES"</strong>], filename=image_name, as_attachment=<strong class="mx hj">True</strong>)<br/>    <strong class="mx hj">except </strong>FileNotFoundError:<br/>        abort(404)<br/><br/><br/><br/><strong class="mx hj">if </strong>__name__ == <strong class="mx hj">'__main__'</strong>:<br/>    app.run(host=<strong class="mx hj">'0.0.0.0'</strong>,port = 8000, threaded = <strong class="mx hj">True</strong>, debug = <strong class="mx hj">True</strong>)</span></pre><p id="8566" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">路由可以接受以下变量类型:</p><ul class=""><li id="2ce7" class="mi mj hi iz b ja jb jd je jg nu jk nv jo nw js nx mo mp mq bi translated"><em class="mc">字符串:接受任何不带斜杠的文本(默认情况下)。</em></li><li id="f520" class="mi mj hi iz b ja mr jd ms jg mt jk mu jo mv js nx mo mp mq bi translated"><em class="mc"> int:接受正整数</em></li><li id="e8c9" class="mi mj hi iz b ja mr jd ms jg mt jk mu jo mv js nx mo mp mq bi translated"><em class="mc"> float:接受包含小数点的正数值。</em></li><li id="b4c0" class="mi mj hi iz b ja mr jd ms jg mt jk mu jo mv js nx mo mp mq bi translated"><em class="mc">路径:类似于字符串，但接受斜线</em></li><li id="c460" class="mi mj hi iz b ja mr jd ms jg mt jk mu jo mv js nx mo mp mq bi translated"><em class="mc"> uuid:接受uuid字符串</em>(通用唯一标识符)(例如118 bc9c 3–1af 4–4d 46–87a 1–266 db 2 e 64 e 7a)</li></ul><p id="4889" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mc">与静态路由不同，使用可变规则创建的路由接受参数，这些参数就是路由变量本身。</em></p><p id="37b3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如，如果你用<code class="du ny nz oa mx b">&lt;int:some_integer&gt;</code>定义了一个url，Flask将尝试把它转换成一个整数，<code class="du ny nz oa mx b">&lt;path:path_to_some_file&gt;</code>将允许一个类似字符串的路径，包括斜线等..</p><h2 id="eb9e" class="nb ju hi bd jv ob oc od jz oe of og kd jg oh oi kf jk oj ok kh jo ol om kj on bi translated">这里是各种文件格式的完整代码</h2><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="oo op l"/></div></figure><p id="ce13" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过运行"<em class="mc">python</em>variousfiledownloadsflask . py "来运行应用程序。进入浏览器，输入“<strong class="iz hj">http://localhost:8000/get-csv/&lt;文件名&gt; </strong>”，即可下载指定的CSV文件。。。,</p><div class="kr ks kt ku fd ab cb"><figure class="oq kv or os ot ou ov paragraph-image"><img src="../Images/6f939e56de83438177a53b114f0079d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*QJdRsCpe6BbFVMKGWOy3Aw.png"/></figure><figure class="oq kv ow os ot ou ov paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><img src="../Images/9d0dfbf12bfc83d9a70c4d0bf374e165.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/format:webp/1*EZHdppfNtmEcZok28cs1Qg.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx ox di oy oz translated">使用路由获取各种文件</figcaption></figure></div></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="423a" class="jt ju hi bd jv jw nn jy jz ka no kc kd io np ip kf ir nq is kh iu nr iv kj kk bi translated">#使用Flask返回多个文件</h1><p id="5111" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated"><em class="mc">假设，如果我们想发送多个文件给某人，这将有助于你</em></p><p id="77e6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您无法将所有文件发送到可下载的文件中。但是如果你把所有的文件都转换成zip格式，然后你可以把它作为一个文件(ZIP文件)发送出去</p><blockquote class="lz ma mb"><p id="c566" class="ix iy mc iz b ja jb ij jc jd je im jf md jh ji jj me jl jm jn mf jp jq jr js hb bi translated"><em class="hi">创建一个名为“multiplefiledownloadflask.py”的文件</em></p></blockquote><ol class=""><li id="0e7a" class="mi mj hi iz b ja jb jd je jg nu jk nv jo nw js mn mo mp mq bi translated"><strong class="iz hj"> <em class="mc">导入库</em> </strong></li></ol><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="e263" class="nb ju hi mx b fi nc nd l ne nf"><strong class="mx hj">import </strong>zipfile<br/><strong class="mx hj">import </strong>os<br/><strong class="mx hj">from </strong>flask <strong class="mx hj">import </strong>send_file,Flask,send_from_directory</span></pre><p id="0e9e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="mc"> 2。创建实例和烧瓶路由</em>和</strong></p><pre class="kr ks kt ku fd mw mx my mz aw na bi"><span id="5e24" class="nb ju hi mx b fi nc nd l ne nf">app = Flask(__name__)<br/><br/>@app.route(<strong class="mx hj">'/download_files'</strong>)<br/><strong class="mx hj">def </strong>download_all():<br/>    <em class="mc"># Zip file Initialization<br/>    </em>zipfolder = zipfile.ZipFile(<strong class="mx hj">'Audiofiles.zip'</strong>,<strong class="mx hj">'w'</strong>, compression = <strong class="mx hj">zipfile.ZIP_STORED</strong>) # Compression type <br/><br/>    <em class="mc"># zip all the files which are inside in the folder<br/>    </em><strong class="mx hj">for </strong>root,dirs, files <strong class="mx hj">in </strong>os.walk(<strong class="mx hj">'&lt;foldername&gt;'</strong>):<br/>        <strong class="mx hj">for </strong>file <strong class="mx hj">in </strong>files:<br/>            zipfolder.write(<strong class="mx hj">'&lt;foldername&gt;'</strong>+file)<br/>    zipfolder.close()<br/><br/>    <strong class="mx hj">return </strong>send_file(<strong class="mx hj">'Audiofiles.zip'</strong>,<br/>            mimetype = <strong class="mx hj">'zip'</strong>,<br/>            attachment_filename= <strong class="mx hj">'Audiofiles.zip'</strong>,<br/>            as_attachment = <strong class="mx hj">True</strong>)<br/><br/>    <em class="mc"># Delete the zip file if not needed<br/>    </em>os.remove(<strong class="mx hj">"Audiofiles.zip"</strong>)<br/><br/><strong class="mx hj">if </strong>__name__ == <strong class="mx hj">'__main__'</strong>:<br/>    app.run(host = <strong class="mx hj">'0.0.0.0'</strong>, port = 8000 , debug= <strong class="mx hj">False</strong>, threaded = <strong class="mx hj">True</strong>)</span></pre><p id="78cf" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我使用的是<strong class="iz hj"><em class="mc">ZIP _ STORED</em></strong>Compression，意思是“只归档而不压缩文件”</p><p id="eee7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一些压缩类型是<code class="du ny nz oa mx b"><strong class="iz hj">ZIP_STORED, ZIP_DEFLATED , ZIP_BZIP2, ZIP_LZMA</strong></code></p><p id="0811" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ny nz oa mx b"><em class="mc">ZIP_STORED</em></code> <em class="mc">:只是对文件进行归档，而且是无损压缩</em></p><p id="b797" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ny nz oa mx b"><em class="mc">ZIP_DEFLATED</em></code> <em class="mc">:这是通常的ZIP压缩方式</em></p><p id="e27f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ny nz oa mx b"><em class="mc">ZIP_BZIP2</em></code> <em class="mc">:该方法使用BZIP2压缩技术</em></p><p id="c450" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du ny nz oa mx b"><em class="mc">ZIP_LZMA</em></code> <em class="mc">:该方法使用LZMA压缩技术</em></p><p id="4b63" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关于压缩类型的详细信息，<a class="ae mg" href="https://docs.python.org/3.5/library/zipfile.html" rel="noopener ugc nofollow" target="_blank">这里是链接</a></p><blockquote class="lz ma mb"><p id="0583" class="ix iy mc iz b ja jb ij jc jd je im jf md jh ji jj me jl jm jn mf jp jq jr js hb bi translated"><strong class="iz hj">返回多个文件的完整代码</strong></p></blockquote><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="oo op l"/></div></figure><p id="7c55" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过运行“<em class="mc">python</em><em class="mc">multiplefiledownloadsflask . py</em>”来运行应用程序。进入浏览器，输入“<strong class="iz hj">http://localhost:8000/download _ files</strong>，你会得到一个可下载的Zip文件。。。,</p><div class="kr ks kt ku fd ab cb"><figure class="oq kv pa os ot ou ov paragraph-image"><img src="../Images/42fe40f09dc9df682b114ad6ff2be126.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*GVm0VWgoDwzMFhHvr78o4w.png"/></figure><figure class="oq kv pb os ot ou ov paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><img src="../Images/97e08374f92515ee5be459a2776e43e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*SjEyyAYD2KQl7FphGqyYzg.png"/></div><figcaption class="lc ld et er es le lf bd b be z dx pc di pd oz translated">多文件下载的输出示例</figcaption></figure></div><p id="48c2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="mc">注意:</em> </strong> <em class="mc">下载文件时始终使用匿名模式，因为缓存可能会导致下载不正常。。。</em></p><p id="a22e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完整的代码被上传到下面的GitHub库</p><div class="lg lh ez fb li lj"><a href="https://github.com/ngbala6/Flask-Downloadfiles.git" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hj fi z dy lo ea eb lp ed ef hh bi translated">ngbala 6/Flask-下载文件</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">在GitHub上创建一个帐户，为ngbala6/Flask-Downloadfiles的开发做出贡献。</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">github.com</p></div></div><div class="ls l"><div class="pe l lu lv lw ls lx la lj"/></div></div></a></div><p id="c7aa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于<strong class="iz hj">烧瓶文件上传</strong>，勾选此项。。,</p><div class="lg lh ez fb li lj"><a rel="noopener follow" target="_blank" href="/dev-genius/a-simple-way-to-build-flask-file-upload-1ccb9462bc2c"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hj fi z dy lo ea eb lp ed ef hh bi translated">建立Flask文件上传的简单方法！！！</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">烧瓶文件上传</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="ly l lu lv lw ls lx la lj"/></div></div></a></div><div class="lg lh ez fb li lj"><a rel="noopener follow" target="_blank" href="/@ngbala6/get-started-with-multiple-files-upload-using-flask-e8a2f5402e20"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hj fi z dy lo ea eb lp ed ef hh bi translated">开始使用Flask上传多个文件</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">烧瓶多个文件上传</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx la lj"/></div></div></a></div></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="bab9" class="jt ju hi bd jv jw nn jy jz ka no kc kd io np ip kf ir nq is kh iu nr iv kj kk bi translated">结论</h1><p id="a036" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">这篇文章是“如何使用Python通过Flask返回单个文件和多个文件”的总结</p><p id="cb1d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="mc">你喜欢这个帖子并对你有帮助。。。</em></p><p id="f41d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尽你所能用<strong class="iz hj">鼓掌</strong>来感谢我，并分享</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es pf"><img src="../Images/03aa705a036bfa3d1518215bafbe19b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*UNy09wWzb_Z0NZar0vLWUQ.gif"/></div></figure><p id="76f7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢，</p><p id="bf72" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">巴拉穆鲁甘N G </strong></p></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><h1 id="3f07" class="jt ju hi bd jv jw nn jy jz ka no kc kd io np ip kf ir nq is kh iu nr iv kj kk bi translated">参考</h1><p id="4e74" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated"><a class="ae mg" href="https://pythonise.com/series/learning-flask/sending-files-with-flask" rel="noopener ugc nofollow" target="_blank">用烧瓶发送文件</a></p></div></div>    
</body>
</html>