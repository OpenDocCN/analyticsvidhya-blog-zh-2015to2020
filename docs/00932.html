<html>
<head>
<title>Image processing with Python(scikit-image)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python进行图像处理(scikit-image)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/image-processing-with-python-scikit-image-de3969533701?source=collection_archive---------3-----------------------#2019-09-20">https://medium.com/analytics-vidhya/image-processing-with-python-scikit-image-de3969533701?source=collection_archive---------3-----------------------#2019-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8df2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Scikit-image是一个很好的图像处理库。这篇文章是从图像处理开始的一些技术和技巧的演练。</p><h1 id="7514" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">阅读并绘制图像</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="55b1" class="kk je hi kg b fi kl km l kn ko">import matplotlib.pyplot as plt<br/>from skimage import io<br/>img = io.imread("image.png") #path to the image</span><span id="d2b1" class="kk je hi kg b fi kp km l kn ko">plt.imshow(img)<br/>plt.show()</span><span id="a9c4" class="kk je hi kg b fi kp km l kn ko">print(img.shape) # show dimension of image<br/>dim1, dim2 = img.shape[0], img.shape[1]<br/>num_channels = img.shape[2]</span></pre><figure class="kb kc kd ke fd kr er es paragraph-image"><div class="er es kq"><img src="../Images/fa6b87cc8902662399994d94e999960b.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*c8NvM3BiitkjzY5MDNBk8Q.png"/></div></figure><p id="6f67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">读取图像是一个numpy数组，这个图像有494个形状和4个通道。检查发生了什么，当你改变:</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="8bcf" class="kk je hi kg b fi kl km l kn ko">plt.imshow(img) --&gt; plt.imshow(img[:,:,0])</span></pre><h1 id="66dc" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">图像尺寸的改变</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="43c9" class="kk je hi kg b fi kl km l kn ko">from skimage.transform import rescale, resize</span><span id="af3a" class="kk je hi kg b fi kp km l kn ko">def resized_img(img, scale=2):<br/>    image_resized = resize(img, (img.shape[0] / scale, img.shape[1] / scale),anti_aliasing=True)<br/>    return image_resized</span></pre><h1 id="5daa" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">显示调整大小的图像</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="eb6a" class="kk je hi kg b fi kl km l kn ko">img = io.imread("image.png")<br/>image_resized = resized_img(img, 2) # I choosed 2, but you could all integers</span><span id="6b74" class="kk je hi kg b fi kp km l kn ko">def plot_compared_img(img1, img2, title1="Original image", title2="New one image"):<br/>    fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(20, 10))<br/>    ax = axes.ravel()<br/>    ax[0].imshow(img1)<br/>    ax[0].set_title(title1)<br/>    ax[1].imshow(img2, cmap='gray')<br/>    ax[1].set_title(title2)<br/>    plt.show()<br/>    <br/>plot_compared_img(img, image_resized,"Original image", "Resized image")</span></pre><figure class="kb kc kd ke fd kr er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ku"><img src="../Images/55412e7f2c0ded3994ba41891c770a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mTHgfbVRWX6A7U4u9XRYNA.png"/></div></div></figure><p id="1a8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意比例已经改变。</p><h1 id="b7de" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">给图像添加噪波</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="af31" class="kk je hi kg b fi kl km l kn ko">import numpy as np<br/>k = 0.2 # you could set any any real number<br/>noise = np.ones_like(img) * k * (img.max() - img.min())<br/>noise[np.random.random(size=noise.shape) &gt; 0.5] *= -1</span><span id="4341" class="kk je hi kg b fi kp km l kn ko">img_noise = img + noise # new image with noise</span><span id="93eb" class="kk je hi kg b fi kp km l kn ko">plot_compared_img(img, img_noise, "Original image", "The image with noise")</span></pre><figure class="kb kc kd ke fd kr er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kz"><img src="../Images/46cdc59a1a7d70808b7a2d4caa9ba93b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_gLC-4UVb2WwaMKbxeMrA.png"/></div></div></figure><h1 id="9b66" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用ssim比较图像</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="adf9" class="kk je hi kg b fi kl km l kn ko">from skimage.measure import compare_ssim as ssim<br/>ssim_noise = ssim(img, img_noise,<br/>                  data_range=img_noise.max() - img_noise.min(), multichannel=True)</span><span id="530f" class="kk je hi kg b fi kp km l kn ko">print(ssim_noise) #0.10910931410753069</span></pre><p id="f5a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结构相似性指数(ssim)表示图像的相似性。</p><ul class=""><li id="0575" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated">ssim值等于零表示图像之间没有相似性。</li><li id="5bd4" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">值ssim等于1表示照片是相同的。</li></ul><p id="562d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上我是比较原始图像(img)与带有噪声的img(img _ noise)。</p><h1 id="176f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">将图像转换为灰度</h1><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="fa47" class="kk je hi kg b fi kl km l kn ko">from skimage.color import rgb2gray</span><span id="404e" class="kk je hi kg b fi kp km l kn ko">grayscale = rgb2gray(img)<br/>plot_compared_img(img, grayscale,"Original image", "The image with greyscale")<br/></span></pre><figure class="kb kc kd ke fd kr er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es lo"><img src="../Images/98ab9015f98f68c8677fd745f645e698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTegLQpICjL3gZpjxQrjOA.png"/></div></div></figure><h1 id="2a4b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">图像的熵</h1><p id="0478" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">在信息论中，信息熵是一条消息的可能结果数量的以2为底的对数。对于一幅图像，局部熵与邻域包含的复杂度有关。更多关于熵(香农熵)的链接</p><p id="ab67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lu" href="https://en.wiktionary.org/wiki/Shannon_entropy" rel="noopener ugc nofollow" target="_blank">https://en.wiktionary.org/wiki/Shannon_entropy</a></p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="afc5" class="kk je hi kg b fi kl km l kn ko">from skimage.measure.entropy import shannon_entropy<br/>print(shannon_entropy(img[:,:,0])) #7.5777861360050265</span><span id="1366" class="kk je hi kg b fi kp km l kn ko">#plot entropy</span><span id="fa71" class="kk je hi kg b fi kp km l kn ko">from skimage.filters.rank import entropy<br/>from skimage.morphology import disk</span><span id="18b0" class="kk je hi kg b fi kp km l kn ko">entr_img = entropy(img[:,:,0], disk(10))<br/>plt.imshow(entr_img, cmap='viridis')<br/>plt.show()<br/></span></pre><figure class="kb kc kd ke fd kr er es paragraph-image"><div class="er es lv"><img src="../Images/ed8dfd8520d073fb0e7be02d3cdd7ad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*sjQ2339JwYB6WlAGGetZng.png"/></div></figure><h1 id="7ed1" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">收尾</strong></h1><p id="40e7" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">当然，这只是从图像中操作或提取特征的最基本的技术。我鼓励从底部阅读链接。jupyter-notebook中包含的所有代码:</p><p id="7c1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【https://github.com/fuwiak/medium_scikit-image T4】</p><p id="e0ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来源:</p><ul class=""><li id="6253" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated"><a class="ae lu" href="https://scikit-image.org/" rel="noopener ugc nofollow" target="_blank">https://scikit-image.org/</a></li><li id="efce" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><a class="ae lu" href="https://en.wiktionary.org/wiki/Shannon_entropy" rel="noopener ugc nofollow" target="_blank">https://en.wiktionary.org/wiki/Shannon_entropy</a></li><li id="5a7f" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><a class="ae lu" href="https://github.com/scikit-image" rel="noopener ugc nofollow" target="_blank">https://github.com/scikit-image</a></li></ul></div></div>    
</body>
</html>