<html>
<head>
<title>No-hassle way to get started with Google Maps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">轻松开始使用谷歌地图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/no-hassle-way-to-get-started-with-google-maps-dd4da0cf1482?source=collection_archive---------24-----------------------#2020-03-21">https://medium.com/analytics-vidhya/no-hassle-way-to-get-started-with-google-maps-dd4da0cf1482?source=collection_archive---------24-----------------------#2020-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1d41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果任何位置有一个地址，在地图上找到它是一种习得行为。自从美国宇航局在1978年率先使用GPS技术以来，使用这种技术的设备呈指数级增长。今天，世界上有35亿部智能手机。几乎所有这些设备都能够在4.9米的距离内定位智能手机。仅仅通过<em class="je">纬度</em>和<em class="je">经度</em>坐标来记录一个位置是非常容易的。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/d9412a9a8aa633fbcc3a0a6ac7aa1bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ui5Yy3Ll71waHbxWoEP4w.png"/></div></div></figure><p id="7247" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天位置信息被提议用来<a class="ae jd" href="https://www.washingtonpost.com/technology/2020/03/17/white-house-location-data-coronavirus/" rel="noopener ugc nofollow" target="_blank">对抗</a>现代最大的疫情。</p><p id="1fd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，让我们尝试创建一个应用程序，可以在谷歌地图上定位这些坐标。我们将利用谷歌地图库对COVID-29爆发的主要热点地区进行地理定位。</p><p id="d3ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">npx create-react-app &lt;your app name&gt;</code></p><p id="af72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">npm i react-google-maps</code></p><p id="10cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我们在父组件中导入<code class="du jr js jt ju b">WrappedMap</code>。</p><p id="e61f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">import {WrappedMap} from ‘./Map’;</code></p><p id="5fe2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将尝试在App.js中渲染地图</p><p id="811d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我们必须将地图包装在包装地图中，我们将从自定义组件Map.js导入该地图</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jv"><img src="../Images/ae359ded06beb70b4ffdeae0b4eef4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSDcIO-nrAJEfKR4lnr0Og.png"/></div></div></figure><p id="295a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">把它包在一个div中，并添加<code class="du jr js jt ju b">style={{width: ‘100vw’, height: ‘70vw’}}</code></p><p id="63d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你第一次制作这个应用程序并且没有google api密钥时，请编辑上面的链接。</p><p id="8564" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=geometry,drawing,places&amp;key=`}</code></p><p id="ca05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基本上，您正在删除以下组件:</p><p id="2de0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">${process.env.REACT_APP_GOOGLE_API_KEY}</code></p><p id="e892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">没有api密匙仍然可以渲染你的地图，但是会有警告和水印。一旦你有了一把钥匙，你就可以越过这里的<a class="ae jd" rel="noopener" href="/better-programming/how-to-hide-your-api-keys-c2b952bc07e6">去学习如何隐藏它们。</a></p><p id="171e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以制作<code class="du jr js jt ju b">&lt;Map&gt;</code>组件了。</p><p id="b65a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们把它变成一个功能组件</p><p id="1ad9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入以下内容</p><p id="f026" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">import { GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow } from “react-google-maps”</code>；</p><p id="996b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的状态中有两个值，<code class="du jr js jt ju b">Cases</code>和<code class="du jr js jt ju b">selectedCase</code></p><p id="f4f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据来源:我们将使用全世界新冠肺炎确诊病例报告的json API。链接到API <a class="ae jd" href="https://covid19.mathdro.id/api/confirmed" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="dd63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据结果在下面的<code class="du jr js jt ju b">json</code>文件中。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jw"><img src="../Images/24206e5352ddfb703640b8d2ab0b0d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*8Z1-aMq0edVc2R39PAxl1Q.png"/></div></figure><p id="e52e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们获取数据并将其存储在我们的状态中。</p><p id="6a56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">const [cases, setCases] = useState([])</code>；</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jx"><img src="../Images/a9d6dcb59a44bdfba3178ac771839a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*T9RcLWuQoJ3f6n_z8wV5KA.png"/></div></figure><p id="f7bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以继续渲染<googlemap>元素。</googlemap></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es jy"><img src="../Images/5ea441871c5438569a25b9a32693894c.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*jWunHTrTg8Mi68ML-_oLZg.png"/></div></figure><p id="ae8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，我们已经渲染了一个<code class="du jr js jt ju b">&lt;GoogleMap&gt;</code>，并且我们迭代了数组中的所有对象，为数组中的所有对象创建了<code class="du jr js jt ju b">&lt;Marker/&gt;</code>(请参考上面的代码)。</p><p id="9c23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要的唯一值(对于每个对象)是“country region”“lat”和“long”。现在，我们需要在单击地图上的大头针时显示信息。</p><p id="f6aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将selectedRegion添加到我们的状态:</p><p id="45ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">const [selectedRegion, setSelecteRegion] = useState(null)</code></p><p id="3d4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将默认保存它<code class="du jr js jt ju b">null</code>，这样就不会选择管脚。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jz"><img src="../Images/808ce1299326251cd618ee75693af1e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVaXofNxUzQar05sFMnpfg.png"/></div></div></figure><p id="0730" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当地图上呈现的任何大头针被点击时，我们可以添加一个函数，这样当<code class="du jr js jt ju b">onClick()</code>时，<code class="du jr js jt ju b">selectedRegion</code>被设置为我们点击的那个。</p><p id="44a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果从selectedRegion中选择了任何内容(基于<code class="du jr js jt ju b">&lt;InfoWindow&gt;</code>的<code class="du jr js jt ju b">.lat</code>和<code class="du jr js jt ju b">.long</code>，我们可以拉出Region ( <code class="du jr js jt ju b">selectedRegion.countryRegion</code>)和我们需要的任何其他值，并在pin上显示出来。</p><p id="a811" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们导出地图，以便<code class="du jr js jt ju b">App.js</code>可以将其作为<code class="du jr js jt ju b">&lt;WrappedMap&gt;</code>接收</p><p id="3d9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jr js jt ju b">export const WrappedMap = withScriptjs(withGoogleMap(Map));</code></p><p id="1f17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在下面找到完整的代码。</p><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="ka kb l"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">App.js</figcaption></figure><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="ka kb l"/></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">Map.js</figcaption></figure><p id="f251" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请在此找到上述网站<a class="ae jd" href="https://googlemapsdemo.netlify.com/" rel="noopener ugc nofollow" target="_blank">的现场版。您可以使用这段代码在任何项目中实现它。这里的</a>代号<a class="ae jd" href="https://github.com/ransing/map-blog" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7457" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>