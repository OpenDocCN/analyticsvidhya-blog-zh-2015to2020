<html>
<head>
<title>Understanding Energy Consumption for Appliances</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解电器的能耗</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/appliances-energy-prediction-2562af6ad3d9?source=collection_archive---------0-----------------------#2019-04-22">https://medium.com/analytics-vidhya/appliances-energy-prediction-2562af6ad3d9?source=collection_archive---------0-----------------------#2019-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ace6b00c5bfc0caeeadbf2f8465f2e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RhycqYLYjv9pWet9"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">由<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae iu" href="https://unsplash.com/@karsten_wuerth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡斯滕·沃思</a>拍摄的照片</figcaption></figure><p id="5608" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个全球不确定的时代，世界需要越来越多的能源，以支持经济和社会进步，提高生活质量，特别是在发展中国家。但即使在今天，仍有许多地方，尤其是发展中国家，存在断电现象。这些断电主要是因为家里的电器消耗了过多的负荷。供暖和制冷设备消耗室内大部分电力。在这个项目中，我们将分析通过家用传感器收集的室内电器使用情况。在4.5个月内，每隔10分钟读取一次所有读数。目标是预测电器的能源消耗。</p><p id="4f68" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在智能家居时代，预测能源消耗的能力不仅可以为最终用户节省资金，还可以通过将多余的能量回馈给电网(在使用太阳能电池板的情况下)来帮助用户赚钱。在这种情况下，回归分析将用于基于从各种传感器收集的数据来预测电器能量使用。我的代码可以在<a class="ae iu" href="https://github.com/mayur29/Udacity_Machine_Learning_Projects/tree/master/Udacity_ML_Nanodegree_Capstone_Master" rel="noopener ugc nofollow" target="_blank"> github </a>上找到</p><h1 id="5654" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">问题陈述</h1><p id="057c" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我们应该根据温度、湿度和压力等因素来预测房屋的电器能耗。为了实现这一点，我们需要使用回归算法开发一个监督学习模型。回归算法用于由连续特征组成的数据，并且在数据集中没有器具的标识</p><h1 id="00bd" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">数据</h1><p id="f16f" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">日期设置可以从<a class="ae iu" href="https://www.kaggle.com/loveall/appliances-energy-prediction" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>下载。</p><p id="4abe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有29个特征来描述电器的能源使用:</p><p id="5fee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.日期:时间年-月-日时:分:秒</p><p id="4a22" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.灯:室内照明设备的能源使用</p><p id="b636" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.T1:厨房区域的温度，单位为摄氏度</p><p id="9e52" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.T2:起居室的温度，以摄氏度计</p><p id="e929" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.T3:洗衣房区域的温度</p><p id="780a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.T4:办公室的温度，单位是摄氏度</p><p id="96e2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.T5:浴室温度，单位为摄氏度</p><p id="1045" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">8.T6:建筑物外部(北侧)的温度，单位为摄氏度</p><p id="5079" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">9.T7:熨烫室内的温度，单位为摄氏度</p><p id="3106" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">10.T8:青少年房间2的温度，单位为摄氏度</p><p id="4c03" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">11.T9:父母房间的温度，单位为摄氏度</p><p id="87a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">12.T_out:室外温度(来自Chievres气象站)，单位为摄氏度</p><p id="4425" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">13.Tdewpoint:(来自Chievres气象站)，C</p><p id="c4ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">14.RH_1:厨房区域的湿度，单位为%</p><p id="865d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">15.RH_2:客厅区域的湿度，单位为%</p><p id="c8cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">16.RH_3:洗衣房区域的湿度，单位为%</p><p id="2905" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">17.RH_4:办公室的湿度，单位为%</p><p id="2ede" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">18.RH_5:浴室中的湿度，单位为%</p><p id="9cad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">19.RH_6:建筑物外部(北侧)的湿度，单位为%</p><p id="d06d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">20.RH_7:熨烫室内的湿度，单位为%</p><p id="c827" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">21.RH_8:青少年房间2中的湿度，单位为%</p><p id="4845" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">22.RH_9:父母房间的湿度，单位为%</p><p id="b6b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">23.RH_out:室外湿度(来自Chievres气象站)，单位为%</p><p id="54a0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">24.压力:(来自Chievres气象站)，毫米汞柱</p><p id="9518" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">25.风速:(来自Chievres气象站)，单位为米/秒</p><p id="2e4d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">26.能见度:(来自Chievres气象站)，公里</p><p id="606a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">27.Rv1:随机变量1，无量纲</p><p id="0768" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">28.Rv2:随机变量2，无量纲</p><p id="33ed" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">29.电器:电器使用的总能量，单位为Wh</p><h1 id="b3bb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">家电消费探索</h1><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="e606" class="lf ju hi lb b fi lg lh l li lj"><br/>import numpy as np <em class="lk"># linear algebra</em><br/>import pandas as pd <em class="lk"># data processing</em><br/>import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>from sklearn import preprocessing, model_selection, metrics</span><span id="9924" class="lf ju hi lb b fi ll lh l li lj">data = pd.read_csv("../input/KAG_energydata_complete.csv")<br/>data.head()</span></pre><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/b4be3c58632a189e1954f9a3e1bba3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5DcSvOY_22y4kUoF5X6PFw.png"/></div></div></figure><p id="ca71" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该数据集由放置在房屋内部的传感器收集，外部读数来自附近的气象站。主要属性是温度、湿度和压力读数。每次观察以10分钟为间隔测量电流。温度和湿度以10分钟为间隔进行平均。</p><p id="769a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">独立变量:28(11个温度，10个湿度，1个压力，2个随机变量)</p><p id="a4d2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因变量:1(设备)</p><p id="740f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">主要观察结果:</strong></p><p id="c6a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.日期列仅用于理解消费与日期时间行为，鉴于这不是一个时间序列问题，已将其删除。我临时增加了一个列(工作日),重点是某一天是工作日还是周末，以便检查电器消耗的差异</p><p id="c1e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.灯柱也被删除，因为它们是子仪表的读数，我们不关注电器特定的读数</p><p id="5765" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.此阶段的独立变量数量— 26</p><p id="12ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.此阶段的因变量数量— 1</p><p id="e74d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.总行数— 19735</p><p id="371d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.数据集将在培训和测试之间分成75-25%。</p><p id="e92c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.定型集中的总行数-14801</p><p id="9750" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">8.测试集中的总行数— 4934</p><p id="5415" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">9.所有特征都有数值。没有分类或顺序特征。</p><p id="9afd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">10.缺失值和空值的数量= 0</p><p id="e1f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">描述性统计:</strong></p><p id="d415" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">温度柱</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/16051840e52f90ecbb881a81f8815890.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*0O1K12k1wwgS08DG99gIYA.png"/></div></figure><p id="90ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">湿度栏</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/c20180ff55a1ff51a46d687061a52d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*HzN7QjdxFVh51C7a44IbLA.png"/></div></figure><p id="875c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">天气栏目</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/9696cf75a10c328a4e05a57e9612e661.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*8nCy96VU0ifYob_QiiCPUw.png"/></div></figure><p id="116f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">电器栏(因变量)</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/7449e4ef965019963acd2863e091db2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:272/format:webp/1*n73LhQdSgu2HaHU9AI1CCg.png"/></div></figure><p id="cbca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">功能范围</strong></p><p id="a6ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.温度:-6至30度</p><p id="8861" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.湿度:1至100 %</p><p id="d364" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.风速:0至14米/秒</p><p id="fd34" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.能见度:1至66公里</p><p id="7184" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.压力:729至772毫米汞柱</p><p id="6303" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.电器能耗:10至1080瓦时</p><p id="0722" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据可视化</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/bbf42e2e3ad9ce7b858b154d2510c94f.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*A78bASYlva7KU0rfHdPtlQ.png"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/391ca7de25505b4d656ad5cdaedfe340.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*Mm2-Q9f4POHHCvULye9gcw.png"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/756eb5e3e105031ca79b0e3e2075cd0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*Fz8L612_iSnjGUG68-8bGA.png"/></div></figure><p id="ca62" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">自变量分布</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/e38da0b663ff7a0722f8c1d821496118.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*C1XjPCO7BW5zqArSkEcxCA.png"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/a70ee1073bec2b2aac091efd4d3a9fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*55toNAHCy2Y7pT6koBM-2Q.png"/></div></figure><p id="e078" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> RH_6，RH_out，能见度，风速不规则分布</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/0df471145217631b2e202b41cc0d275c.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*D7hyf7on3WtO9kbrei-ITA.png"/></div></figure><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/f6d6035e309e256b3455cff291c3d9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*BV9dEU4MBW-eCviHDqTWVA.png"/></div></figure><p id="322b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">因变量分布</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/5fc90ba249b6c2337121edf78b7ac4cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*QbaP1Y35_duErl4k-udJiA.png"/></div></figure><p id="5032" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">基于分布图的观察结果</strong></p><p id="ce6c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.除了RH_6和RH_out之外的所有湿度值都遵循正态分布，也就是说，来自室内传感器的所有读数都来自正态分布。</p><p id="388e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.类似地，除了T9，所有温度读数都遵循正态分布。</p><p id="1caf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.在剩余的列中，我们可以看到能见度、风速和设备是倾斜的。</p><p id="e974" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.对于所有记录，随机变量rv1和rv2具有或多或少相同的值。</p><p id="8424" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.输出变量电器的大多数值小于200Wh，表明高能耗情况非常少。</p><p id="99c1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.没有一列像目标变量Appliances那样具有分布。</p><p id="b2e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，不存在与目标具有线性关系的特征无关的特征。</p><p id="33e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">相互关系图</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/3f369ec3019a5e0622b790c483cae344.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*GM-sTNYviI2hNzLzeYR3hw.png"/></div></figure><p id="3291" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">基于相关图的观察</strong></p><p id="9415" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.温度—T1-T9和T_out中的所有温度变量都与目标设备正相关。对于室内温度，相关性如预期的那样高，因为通风是由HRV装置驱动的，并使房间之间的空气温差最小化。四列与T9高度相关— T3、T5、T7、T8，T6和T_Out也高度相关(两个温度都来自外部)。因此，T6和T9可以从训练集中移除，因为它们提供的信息可以由其他字段提供。</p><p id="08ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.天气属性-能见度、Tdewpoint、Press_mm_hg具有较低的相关值</p><p id="f140" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.湿度——湿度传感器没有显著的高相关性案例(&gt; 0.9)。</p><p id="2fcf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.随机变量没有任何作用</p><p id="a216" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.随机变量rv1、rv2和可见度Tdewpoint、Press_mm_hg与目标变量的相关性低。</p><p id="ab54" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于上述结论，我已经放弃rv1，rv2，能见度，T6，T9。</p><h1 id="54de" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">输入变量的数量— 21个(从26个减少到21个)</h1><p id="ac40" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated"><strong class="ix hj">造型技术&amp;基准</strong></p><p id="606b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是一个回归问题。回归分析是预测建模技术的一种形式，它调查因变量(目标)和自变量(预测值)之间的关系。使用的回归方法有</p><p id="b62e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 1。线性模型</strong>:</p><p id="64df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">线性回归</strong></p><p id="64c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在线性回归中，我们希望拟合一个函数</p><p id="904b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">形式ŷ=β0+β1x1+β2 x2+β3x 3其中x是特征向量，β0，β1，</p><p id="c934" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">β2，β3是我们希望学习的系数。它在每一步更新β</p><p id="3a07" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尽可能降低损失函数。作为对线性回归模型的修改，我们可以应用正则化技术来惩罚特征的系数值，因为较高的值通常倾向于过度拟合和丧失泛化能力。</p><p id="9e1c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">岭回归</strong></p><p id="fbb7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个损失函数包括两个元素。每个预测与其基础事实之间的距离总和。第二个元素对平方的β值求和，并将其乘以另一个参数λ。这样做的原因是为了“惩罚”系数β的高值的损失函数。</p><p id="0d2a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它会强制降低β系数，但不会强制使其为零。也就是说，它不会去除不相关的特征，而是最小化它们对训练模型的影响。</p><p id="2dd1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">套索回归</strong></p><p id="d246" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与岭回归的唯一区别是正则项是绝对值。但这种差异对权衡影响巨大。Lasso方法克服了岭回归的缺点，它不仅惩罚系数β的高值，而且如果它们不相关，实际上将它们设置为零。因此，模型中包含的特性可能会比开始时少，这是一个巨大的优势。</p><p id="6642" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。支持向量机</strong></p><p id="a269" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">支持向量回归</strong></p><p id="136c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">支持向量回归(SVR)使用与SVM相同的原理进行分类。在回归的情况下，一个容限(ε)被设置为接近问题已经要求的SVM。</p><p id="97b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。最近邻回归变量</strong></p><p id="035c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> KNeighborsRegressor </strong></p><p id="ebb7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">KNeighborsRegressor检索查询对象的k个邻居，并基于这些邻居进行预测。它计算最近邻标签的平均值。</p><p id="6c23" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。基于树的回归模型</strong></p><p id="4304" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们划分预测值空间，即X1，.。。，Xp-分成J个不同且不重叠的区域，R1，。。。，RJ。对于落在区域Rj中的每个观察值，我们进行相同的预测，这只是Rj中训练观察值的响应值的平均值。</p><p id="7121" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的目标是找到盒子R1，。。。，最小化RSS的RJ由下式给出</p><p id="76ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">RSS = X J J = 1 X I∈Rj(yi yˇRj)2，</p><p id="92cf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其中，yrj是第j个框内训练观测值的平均响应。与线性模型相比，基于树的模型受离群值的影响较小。鉴于任何输入和目标变量之间没有线性关系，因此树可能比线性模型更好。</p><p id="4ed8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">集成方法</strong></p><p id="08c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它结合了几个决策树来产生比使用单个决策树更好的预测性能。集成模型背后的主要原理是一组弱学习者聚集在一起形成一个强学习者。</p><p id="27c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">- <strong class="ix hj">装袋:</strong>装袋(Bootstrap Aggregation)在我们的目标是减少决策树的方差时使用。这里的想法是从随机选择的训练样本中创建几个数据子集。现在，每个子集数据的集合都被用来训练他们的决策树。使用来自不同树的所有预测的平均值，这比单个决策树更健壮。&amp;助推</p><p id="4847" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">- <strong class="ix hj"> Boosting </strong> : Boosting是另一种创建预测器集合的集成技术。在这种技术中，学习者是按顺序学习的，早期的学习者将简单的模型与数据拟合，然后分析数据中的错误。换句话说，我们拟合连续的树(随机样本),并且在每一步，目标都是解决来自先前树的净误差。</p><p id="1a46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">随机森林</strong></p><p id="862c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随机森林是一种集成技术，能够使用多个决策树和一种称为bagging的技术来执行回归任务。并且在高维数据上工作良好</p><p id="c22f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">梯度推进机</strong></p><p id="8720" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">梯度增强是对增强方法的扩展。它使用梯度下降算法，可以优化任何可微损失函数。一个系综树被一个接一个地构建，并且各个树被顺序地求和。下一棵树试图挽回损失。梯度推进=梯度下降+推进。</p><p id="0698" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">极度随机化的树</strong></p><p id="0db7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Extra-Trees算法根据经典的自顶向下过程构建一个未修剪的决策树或回归树的集合。它通过完全随机地选择切割点来分割节点，并使用整个学习样本来生长树。</p><p id="e54e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5。神经网络</strong></p><p id="e1d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">多层感知器(MLP)是一种深度的人工神经网络。它由一个以上的感知器组成。它们由接收信号的输入层、对输入做出决策或预测的输出层以及这两层之间任意数量的隐藏层组成，这些隐藏层是MLP的真正计算引擎。具有一个隐藏层的MLPs能够逼近任何连续函数。</p><h1 id="7b7c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">基准</h1><p id="b112" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">基准是作者在其原始研究论文中使用的梯度推进技术的R2分数。以下是基准数据</p><p id="9481" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.训练数据的R2得分:57%</p><p id="babb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.测试数据的R2得分:97%</p><p id="cfa2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.训练数据上的RMSE = 17.56</p><p id="ebdd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.测试数据上的RMSE = 66.65</p><p id="0e2c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据预处理&amp;实现</strong></p><p id="4c3a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据缩放</strong></p><p id="00c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">功能集包含不同范围的数据。温度(-6至30)、湿度(1至100)、风速(0至14)、能见度(1至66)、压力(729至772)和应用能耗(10至1080)。由于不同的特征范围，一些特征可能会主导回归算法。为了避免这种情况，需要对所有要素进行缩放。因此，使用sklearn.preprocessing模块中的StandardScaler类将数据缩放到0均值和单位方差。</p><h1 id="5c23" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">履行</h1><p id="625e" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">下面提到的scikit-learn &amp; xgboost libaray用于测试每个回归模型:</p><ol class=""><li id="c75e" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">sklearn.linear_model。山脉</li><li id="4c92" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sklearn.linear_model。套索</li><li id="8397" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sk learn . ensemble . randomforestregressor</li><li id="87a3" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sk learn . ensemble . gradientboostingregressor</li><li id="4272" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sk learn . ensemble . extra tree regressor</li><li id="6800" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">导入xgboost</li><li id="6047" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sklearn _邻居</li><li id="9c35" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sklearn.svm.SVRPipeline</li><li id="1f6b" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">sklearn.neural_network。MLPRegressor</li></ol><h1 id="0a21" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">管道:</h1><p id="8eaa" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">1.将所有算法存储在一个列表中，并遍历该列表</p><p id="3843" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.回归变量的random_state用一个种子初始化，这样每次其他参数为默认值时结果都是相同的。</p><p id="b2e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.回归器被制作成适合测试和训练数据</p><p id="7499" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.训练集和测试集的回归变量、名称、计时和分数的属性作为键-值对存储在字典变量中。</p><p id="c26e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.该词典被附加到转换成数据帧的所有词典的全局列表中</p><p id="a33b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结果:</strong></p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/d93c63bf7ae4b25ac719a37ffdb01a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*Gn_aGygrK9B4GXHebUjxTg.png"/></div></figure><p id="a31c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从结果来看，<strong class="ix hj">的extractreesregressor</strong>在除训练时间之外的所有指标方面都比所有其他回归者表现更好</p><h1 id="839a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">用于改进的功能选择</h1><p id="6a01" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">额外树回归器在默认参数下表现最佳。我使用sklearn.model_selection库的GridSearchCV函数进行了网格搜索交叉验证。调整的参数:</p><p id="4aab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.n_estimators:要使用的树的数量</p><p id="1b2c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.max_features:每次分割要考虑的特征数量</p><p id="c1f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.max_depth:树的最大深度，如果没有提供参数，那么分割将继续，直到所有叶子都是纯的或者包含的内容少于指定的min_samples_split</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/42d68751b238fb6212317b9cea48feee.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*oNHRaKSDSdwAWj5GXxnxFA.png"/></div></figure><p id="bc32" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用GridSearchCV建议的参数后，R2评分提高了10% (0.57至0.63)</p><h1 id="b675" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">项目过程中的挑战和收获</h1><p id="d32e" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">1.特征缩放对于回归模型来说非常重要，我最初没有尝试过，结果并不好。在Kaggle上，所有用户都建议这样做。</p><p id="6ef8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.使用种子值有助于重现算法的结果。如果没有这个值，结果每次都不同。</p><p id="9cb7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.为了去除具有高相关值的冗余特征，检查所有变量之间的相关性是非常重要的。</p><p id="eff1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.在缩放数据时，维护数据帧的单独副本很有用，这些副本可以使用原始数据帧的索引和列名来创建</p><p id="d123" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.添加算法的管道应该易于管理</p><p id="7163" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.Seaborn和pyplot是绘制数据帧各种属性的好库</p><p id="bc14" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.为了在超参数空间中执行穷举搜索或随机搜索以调整模型，总是并行化该过程，因为有许多具有不同配置的模型要拟合。(将n_jobs参数设置为值-1，以利用所有CPU)</p><p id="e823" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">8.检查模型稳健性的一种有效方法是在高维数据的情况下将其拟合到一个缩减的特征空间上。为此任务选择前“k”(通常&gt; = 3)个关键功能。</p><p id="f71d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结果</strong></p><p id="d276" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">模型评估&amp;估值</strong></p><p id="4f8b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">未调模型的特征:</strong></p><blockquote class="mi mj mk"><p id="de6b" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">1.n _估计值:10</p><p id="2b41" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">2.最大功能:自动</p><p id="4ec5" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">3.最大深度:无</p></blockquote><p id="afc3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">超参数调整后最佳模型的特征:</strong></p><blockquote class="mi mj mk"><p id="6147" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">1.n _估计值:200</p><p id="5de8" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">2.max_features: 'sqrt '</p><p id="ae30" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">3.最大深度:80</p></blockquote><p id="0ab9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在缩减的特征空间上训练最佳模型，该特征空间仅具有5个重要性最高的特征，而不是22个特征。</p><p id="d24d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">鲁棒性检查:</strong></p><p id="dd89" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在缩减的特征空间上训练最佳模型，该特征空间仅具有5个重要性最高的特征，而不是22个特征。</p><blockquote class="mi mj mk"><p id="7719" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">具有简化特征的测试数据模型的R2得分= 0.47。</p><p id="b0cb" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">未调整模型的测试数据的R2得分= 0.57。</p><p id="e487" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">差异= 0.10</p><p id="d947" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">具有简化特征的测试数据模型的RMSE得分= 0.72</p><p id="333e" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">未调整模型的测试数据的RMSE得分= 0.65</p><p id="5fcf" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">差异= 0.07</p></blockquote><p id="99f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，我们可以看到，即使特征空间急剧减少(超过75%)，测试数据的相对性能损失也较少。</p><p id="adbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">基准对比</strong></p><p id="1470" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最终模型</p><blockquote class="mi mj mk"><p id="6dc7" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">训练R2分数— 1.0</p><p id="f3e2" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">测试R2分数— <strong class="ix hj"> 0.63 </strong></p><p id="f643" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">测试数据上的RMSE-0.60</p></blockquote><p id="4f7c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基准模型</p><blockquote class="mi mj mk"><p id="b8a2" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">训练R2分数— 0.97</p><p id="d305" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">测试R2分数— 0.57</p><p id="9fd3" class="iv iw lk ix b iy iz ja jb jc jd je jf ml jh ji jj mm jl jm jn mn jp jq jr js hb bi translated">测试数据上的RMSE—0.66</p></blockquote><p id="c606" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">测试集的R2分数提高了10.53%，随着更多的数据和特征工程，这可以进一步提高。</p><p id="3b06" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结论</strong></p><p id="6a2f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据最佳拟合模型，5个最重要和最不重要的特征</p><p id="c382" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">前3个重要特征是湿度属性，这导致湿度比温度更影响功耗的结论。风速是最不重要的，因为风速不影响室内的电力消耗。所以控制室内湿度可以节约能源。</p><p id="d3ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">反思</strong></p><p id="8f36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个项目可以概括为</p><p id="fa17" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.在UCI机器学习知识库和Kaggle上寻找能源相关的数据集</p><p id="f9a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.在分类和回归问题之间做出决定。</p><p id="4736" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.可视化数据，通过学习Kaggle的其他回归竞赛进行预处理。</p><p id="8fb5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.数据预处理和特征选择。寻找特征之间的相关性</p><p id="8f58" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.决定用于解决问题的回归算法。</p><p id="1604" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.使用GridSearchCV代替RandomizedSearchCV创建基准模型。</p><p id="d800" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.应用选定的算法并可视化结果。</p><p id="c1db" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">8.为最佳算法调整超参数，并报告最佳模型的测试分数。</p><p id="703b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">9.讨论所选特征的重要性，并检查模型的稳健性..</p><p id="0dff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">10.将我调优的模型与作者的基准测试结果进行比较。</p><p id="1a39" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">改进</strong></p><p id="0300" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.执行积极的特征工程</p><p id="e180" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.在数据集中寻找分类方案并探究问题</p><p id="0e6a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.修改网格搜索参数空间的参数。</p><p id="97c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">a.添加更多参数，如最小样本分割、最小输入减少等。</p><p id="7e56" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">b.max_depth可以有更多的值</p><h1 id="028d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考资料:</h1><p id="a562" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">相关学术研究和早期工作:</p><p id="dc04" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="http://dx.doi.org/10.1016/j.enbuild.2017.01.083" rel="noopener ugc nofollow" target="_blank">http://dx.doi.org/10.1016/j.enbuild.2017.01.083</a></p><div class="mo mp ez fb mq mr"><a href="https://github.com/LuisM78/Appliances-energy-prediction-data" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">luism 78/设备-能源-预测-数据</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">能源与建筑出版物的数据集和脚本。这是出版物的数据存储库…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf io mr"/></div></div></a></div><p id="b304" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你有任何问题，让我知道乐意帮忙。如果你想收到我博客上的更新，请在<a class="ae iu" rel="noopener" href="/@sand.mayur"> Medium </a>或<a class="ae iu" href="https://www.linkedin.com/in/mayursand/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上关注我！</p></div></div>    
</body>
</html>