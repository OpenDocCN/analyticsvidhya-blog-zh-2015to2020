<html>
<head>
<title>Data Analysis for Cab service SUPPLY — DEMAND GAP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">出租车服务供需缺口的数据分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-analysis-for-cab-service-supply-demand-gap-d0c9c55ed961?source=collection_archive---------9-----------------------#2019-10-31">https://medium.com/analytics-vidhya/data-analysis-for-cab-service-supply-demand-gap-d0c9c55ed961?source=collection_archive---------9-----------------------#2019-10-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/95119b07ec311eaae01111c09e249730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAYFpU_Ml-1pDXg9Licoew.jpeg"/></div></div></figure><p id="4e30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可能有一些往返机场或城市的经历。你这次旅行使用过出租车服务吗？你有没有遇到过没有车的问题？如果这些是客户面临的问题，那么这些问题也会影响公司的业务。如果司机取消乘客的请求，或者没有车，公司就会损失收入。<br/>该分析旨在找出问题的根本原因，并推荐改善情况的方法。</p><p id="e1d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从导入必要的库和研究我们拥有的数据开始。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/04d273c4dd6ef4fd4d35402ce9216b54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NF6QWEIAt4C5gCtiJUPYA.png"/></div></div></figure><p id="cb7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们的数据集中，我们有6745个数据点和6个特征。我们的数据的特征是请求id、定义出租车预订地点的取车点。司机id、状态定义行程是否已完成、取消或出租车是否可用。请求时间戳定义了预订出租车的时间和日期，丢弃时间戳定义了丢弃客户的时间和日期。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/1053144ba955338faedc306c1b9e37cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HAQ-41i6CxIO8xnSpW-cGQ.png"/></div></div></figure><p id="87c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面可以看出，驱动程序id中几乎有39%的值缺失，Drop timestamp列中有58%的值缺失。基本上，我们对缺失值所做的是估算或使用其他方法来处理缺失值，但在这种情况下，如果我们清楚地查看两个列，Driver id是一个唯一值列，它对数据分析没有用，Drop timestamp对我们的分析也没有用，因此我们不需要担心这两个列。</p><p id="e4a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们将预订的日期和时间提取到单独的列中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/aa1520dba5177499403b12565675017a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8MMnRFnmnW64gBVGvyMmA.png"/></div></div></figure><p id="36a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们可以做的是从日期和时间列中提取预订的时间，然后编写一个函数，返回一天中不同的时间，比如早上、午夜、晚上等。利用我们提取的时间。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/0013fb92a51f98facd85ec0da0ed0d79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FWD6pIQHRRmN9QlFYyyOKg.png"/></div></div></figure><p id="de63" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于我们的主要关注点是供需缺口，因此从定义行程是已完成、已取消还是不可用的状态栏中，我们可以编写一个函数，如果行程已完成，则返回供应，如果行程已取消或不可用，则返回需求。并删除不必要的列。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/4c98ac18f8d0445f866e65c474530e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nIxOLe41Q7KxbxGO7SlGCg.png"/></div></div></figure><p id="b8ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面我们可以看到，在删除和添加一些列之后，我们剩下了5个特性。现在让我们开始可视化我们的数据。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/0a23a8f87b43ddf874fca8cb4f4bd0bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvvk-Edga0I4rwZYf3QXgg.png"/></div></div></figure><p id="2ca9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面的图中我们可以看到，与机场相比，城市中的预订数量更多，当你从城市和机场的人口规模的角度来看，我们可以说机场对出租车有更多的需求。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/c151f9227c1a00702369904c30ea9abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*49QD7P7VNEeVBqAl5rbpnw.png"/></div></div></figure><p id="301e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的图是一个<a class="ae jz" href="https://stackoverflow.com/questions/49880314/what-is-difference-between-plot-and-iplot-in-pandas" rel="noopener ugc nofollow" target="_blank"> iplot </a>(交互式图)，它向我们精确地显示了一天中特定时间的预订数量。在早上5点，有445辆出租车被预订，同样，我们可以使用iplot来了解一天中每个小时的预订数量。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/3774a59edcef8d6bd63f9bf02325557a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c4e0gnPPePS0zcDnMkDk2g.png"/></div></div></figure><p id="7c3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们发现，更多的预订是在夜间进行的，即晚上7点到11点，其次是早上7点到11点，中午12点到1点的预订量最少。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/d9396d2c3d3111529c14f54a6f7b4c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIgj7g05hb_aWBIq47GyGQ.png"/></div></div></figure><p id="7b7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成的车次和无车几乎相等。我们可以推断对出租车的需求很大，但供应很少。让我们找出机场和城市的需求和供给百分比，然后我们可能会得出一个结论，在哪些地方我们可以增加出租车的供应。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/b773491c1e03f8e094d55bdcbe083bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O7tMu44IdBwduMhejSoXJw.png"/></div></div></figure><p id="1f8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们找出这两个地方的需求和供给的百分比。我们将编写一个函数，当您将预订地点作为参数传递给该函数时，该函数将返回需求和供应的百分比。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/f3ced3517faf02153e25e7cca2f5684c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rxo5NfCwiCEyu5jit4JjZw.png"/></div></div></figure><p id="3a09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以看到，机场和城市的需求几乎相等，而出租车的供应不能满足城市和机场客户的需求。让我们看看在一天中的什么时间和地点会有更多的预订。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/edf73653d5427cc55062b6f5742280a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86rL35MV6N6PyzpA88DmMA.png"/></div></div></figure><p id="0200" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面的图中，我们可以看到在晚上6点到10点之间有很多需求，但供应太少。我们可以看到，在机场早上5点到9点和下午5点到9点之间，越来越多来自城市的预订。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/6f4a6608dd010034d0ae50329330027f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWJayTdqzi6cTVhIZ-_Q3g.png"/></div></div></figure><p id="5509" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该图描述了一天中不同时段的出行状态计数，早上和晚上完成了近700次出行，而大多数出租车也在早上和清晨被取消，对出租车的需求主要出现在晚上，我们可以看到在该时间段没有出租车可用，这导致了公司和客户的损失。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/9fef395c3e27659d4bc2b0f01664865c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fgGbPJ9u_k_3UK3BmT6ZAA.png"/></div></div></figure><p id="c2a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面的可视化中，我们可以看到，早上7点到下午2点之间城市和机场的汽车数量在下午5点到晚上8点之间不可用。早上6点到9点之间城市和机场的取消出租车数量在下午1点到8点之间发生。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/71fac057108027ebfc3c8ca0980113ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6IW-8_eZmfuUKwjFtIV7bw.png"/></div></div></figure><p id="56e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面的图中我们可以看到，在上午4点到9点的时间间隔内，城市中的需求更多，而供应太低，现在当你看一个机场时，在此时间段内的供应高，而需求低。类似地，机场在下午4点到晚上11点之间有更多的需求，而供应很少，在这个时间间隔内，城市的供应更多，需求更少。</p><h2 id="f68c" class="ki kj hi bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">结论</h2><p id="dee0" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">为了满足供需缺口，我们可以做的一件事是，我们可以帮助少数出租车司机在下午4点至晚上11点期间从城市前往机场，因为在这段时间内，机场的需求更多，供应更少，而城市的需求更少，供应更多。同样，在早上4点到9点期间，城市的需求大于机场，因此我们可以帮助一些出租车司机在该时段前往城市以满足需求，而不是在需求较少而供应较多的机场等待。通过这种方式，我们可以缩小供需差距，最终对客户和公司都有利。</p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="5b2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读。</p></div></div>    
</body>
</html>