# ä¸ Django æ·»åŠ å¥½å‹çš„åˆ†æ­¥æŒ‡å—

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/add-friends-with-689a2fa4e41d?source=collection_archive---------1----------------------->

æƒ³åœ¨ä½ çš„ Django ç½‘ç«™ä¸Šæ‹¥æœ‰ ***æ·»åŠ å¥½å‹ã€å‘é€å¥½å‹è¯·æ±‚ã€æ¥å—å¥½å‹è¯·æ±‚*** åŠŸèƒ½å—ï¼Ÿé‚£ä¹ˆè¯·é˜…è¯»è¿™ç¯‡æ–‡ç« :

![](img/fce6fd493655273ffee79829a6252d10.png)

åœ¨ Django æ·»åŠ æœ‹å‹éå¸¸ç®€å•

# æ­¥éª¤ 1:æ‹¥æœ‰æŸç§é…ç½®æ–‡ä»¶æ¨¡å‹æˆ–å®šåˆ¶ç”¨æˆ·

ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ç”¨æˆ·æ¨¡å‹æˆ–æ¦‚è¦æ–‡ä»¶æ¨¡å‹ï¼Ÿè¿™ä¸ªé…ç½®æ–‡ä»¶æ¨¡å‹æˆ–è‡ªå®šä¹‰ç”¨æˆ·æ¨¡å‹å°†æœ‰ä¸€ä¸ªæœ‹å‹å­—æ®µï¼Œæˆ‘ä»¬å°†å­˜å‚¨ä¸€ä¸ªç‰¹å®šç”¨æˆ·çš„æ‰€æœ‰æœ‹å‹

æˆ‘ä½¿ç”¨çš„æ˜¯**å®šåˆ¶ç”¨æˆ·æ¨¡å‹**ï¼Œå®ƒæœ‰ä¸€ä¸ª*ManyToManyField***friends**å¼•ç”¨å›è¿™ä¸ª**ç”¨æˆ·**æ¨¡å‹ã€‚

![](img/58f855fda0badc92979d0fa7d8630e7a.png)

è¿™é‡Œæœ€é‡è¦çš„æ˜¯æœ‹å‹å­—æ®µ

# æ­¥éª¤ 2:åˆ›å»ºæœ‹å‹è¯·æ±‚æ¨¡å‹

è¿™ä¸ªæœ‹å‹è¯·æ±‚æ¨¡å‹å°†å­˜å‚¨æœ‹å‹è¯·æ±‚ä¿¡æ¯ï¼Œå³è°å‘è°å‘é€è¯·æ±‚ã€‚

è¿™ä¸ªæœ‹å‹è¯·æ±‚æ¨¡å‹å°†æœ‰ä¸¤ä¸ªå­—æ®µ:

*   **æ¥è‡ªç”¨æˆ·**:å®ƒå°†ä¸å‘é€è¯¥è¯·æ±‚çš„ç”¨æˆ·(*ç¬¬ä¸€ç”¨æˆ·* ) **æœ‰ä¸€ä¸ª*å¤–é”®*å…³ç³»ï¼Œ**
*   **åˆ°ç”¨æˆ·**:å®ƒè¿˜å°†ä¸å¦ä¸€ä¸ªç”¨æˆ·*ç¬¬äºŒä¸ªç”¨æˆ·* ) **æœ‰ä¸€ä¸ª*å¤–é”®*å…³ç³»ï¼Œç¬¬ä¸€ä¸ªç”¨æˆ·å‘å…¶å‘é€è¯·æ±‚**ã€‚

![](img/7147cc4b161da59c16e5f748e0dd71b0.png)

æœ‹å‹è¯·æ±‚æ¨¡å‹

**ç¡®ä¿å­—æ®µæœ‰ç›¸å…³åç§°ï¼Œå¹¶ä¸”å®ƒä»¬æœ‰ä¸åŒçš„åç§°ã€‚**

## ç„¶åè¿ç§»æ¨¡å‹ã€‚

> **è®¤è¯ç”¨æˆ·(å¯é€‰)**
> 
> å¦‚æœä½ ä»é›¶å¼€å§‹å­¦ä¹ æœ¬æ•™ç¨‹ï¼Œæˆ–è€…ä½ è¿˜æ²¡æœ‰è®¾ç½®ä½ çš„è®¤è¯ç³»ç»Ÿï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™äº›æ­¥éª¤æ¥åšã€‚
> 
> **æˆ‘æŠŠä¸‹é¢é‚£äº›æ­¥éª¤éƒ½æŒªäº†ï¼**

# æ­¥éª¤ 3:ä¸ºå¥½å‹è¯·æ±‚åˆ›å»ºè§†å›¾

## 1.å‘é€å¥½å‹è¯·æ±‚

*   æˆ‘ä»¬å¾—åˆ°ç”¨æˆ· id **ï¼Œæˆ‘ä»¬å°†å‘å…¶å‘é€å¥½å‹è¯·æ±‚**
*   åˆ›å»ºä¸€ä¸ªæ–°çš„æœ‹å‹è¯·æ±‚å®ä¾‹ï¼Œå…¶ä¸­æˆ‘ä»¬å°†è¯·æ±‚å°†è¢«å‘é€åˆ°çš„ç”¨æˆ·è®¾ç½®ä¸º _user = **ï¼Œ**
*   from_user å°†æ˜¯å‘é€è¯·æ±‚*çš„**ç”¨æˆ·ï¼Œå³***è¯·æ±‚ç”¨æˆ·æˆ–å½“å‰ç”¨æˆ·

![](img/3a27fa789009db1f76f22f6aa7abcd2b.png)

å‘é€å¥½å‹è¯·æ±‚è§†å›¾

## 2.æ¥å—å¥½å‹è¯·æ±‚

*   æˆ‘ä»¬å¾—åˆ°æˆ‘ä»¬å°†è¦æ¥å—çš„è¯·æ±‚çš„è¯·æ±‚ id
*   æˆ‘ä»¬è¿˜ç¡®ä¿è¯·æ±‚çš„ **to_user** æ˜¯å½“å‰ç”¨æˆ·*å³* **å‘é€è¯·æ±‚çš„ç”¨æˆ·**æ˜¯æ¥å—è¯·æ±‚çš„å½“å‰ç”¨æˆ·ï¼Œ
*   ç„¶åæˆ‘ä»¬å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°***from _ userâ€™***s(**å‘é€** **è¯·æ±‚çš„ç”¨æˆ·**)å¥½å‹å­—æ®µ
*   æˆ‘ä»¬è¿˜å°† from_user æ·»åŠ åˆ°å½“å‰ç”¨æˆ·çš„æœ‹å‹å­—æ®µä¸­

![](img/d952d79c41c0ddbe808a597c111ea377.png)

æ¥å—å¥½å‹è¯·æ±‚

# æ­¥éª¤ 4:åˆ›å»º URL

![](img/af13ade0eb4b3c2e07df2f4e320bdc14.png)

å‘é€å’Œæ¥æ”¶è§†å›¾çš„ URL

# ç¬¬äº”æ­¥:æ¨¡æ¿

1.  æˆ‘åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª *href* ï¼Œå½“ç‚¹å‡»å®ƒæ—¶**ä¼šå‘è¯¥ç”¨æˆ·å‘é€ä¸€ä¸ªå¥½å‹è¯·æ±‚ã€‚**

![](img/1d8dd73f2e0ed03982b762761cd1b412.png)

2.æˆ‘åœ¨è¿™é‡Œæ˜¾ç¤ºäº†å‘é€ç»™å½“å‰ç”¨æˆ·çš„æ‰€æœ‰å¥½å‹è¯·æ±‚ï¼Œå½“å‰ç”¨æˆ·æœ‰ä¸€ä¸ª *href* ï¼Œç‚¹å‡»å**å°†æ¥å—å¥½å‹è¯·æ±‚**ï¼Œä¸¤ä¸ªç”¨æˆ·éƒ½å°†æˆä¸º**å¥½å‹ã€‚**

![](img/656de06ee4718cc65b3f77650059c010.png)

# **å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬åˆ°æ­¤ä¸ºæ­¢ã€‚**

# æ­¥éª¤ 3 ä¹‹å‰çš„å¯é€‰æ­¥éª¤:éªŒè¯ç”¨æˆ·

> åœ¨ settings.py ä¸­æ·»åŠ  AUTH_USER_MODEL
> 
> æ­¤å¤„**ä¸º*ç”¨æˆ·ã€‚ç”¨æˆ·*** æ˜¯æŒ‡ ***ç”¨æˆ·*** app ä¸­çš„ ***ç”¨æˆ·*** æ¨¡å‹

![](img/7e0a70d4251e093834bfae2688d43150.png)

åœ¨ settings.py ä¸­

## 1.åˆ›å»ºç”¨æˆ·è¡¨å•:

![](img/9130b54b6fd519268f26b350a404a644.png)

æ³¨å†Œçš„ç”¨æˆ·åˆ›å»ºè¡¨å•

## 2.åˆ›å»ºæ³¨å†Œè§†å›¾:

å°†è¿™äº›å¯¼å…¥ views.py

![](img/66d967d8ac11e5b16d020bc976728c3f.png)

å¿…è¦çš„è¿›å£

ç„¶ååˆ›å»ºæ³¨å†Œè§†å›¾:*(éå¸¸åŸºæœ¬çš„è®¤è¯)*

![](img/88ee701bec7de33020d80f003aba3aa6.png)

æ³¨å†Œè§†å›¾(å¿½ç•¥æ‰“å°å£°æ˜)

## 3.åˆ›å»ºç™»å½•è§†å›¾

![](img/46806aeed91791a9586437670a617096.png)

ç™»å½•è§†å›¾

## 4.åˆ›å»º URL

![](img/4cf1170a358e37b7eb884f67ed0a6ad0.png)

urls.py

## 5.HTML æ¨¡æ¿

![](img/a583602a13621bf24425d4c04c700f3d.png)

Homepage.html

![](img/8ae10020b3ee3ef4a42a080c860a77dc.png)

login.html

![](img/b1e3130db515b5defdcff6541b666268.png)

Signup.html

# å¸Œæœ›è¿™æœ‰æ‰€å¸®åŠ©ğŸ‰