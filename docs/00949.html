<html>
<head>
<title>Apache Superset — Rich Open Source Visualization Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache超集——丰富的开源可视化平台</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/apache-superset-rich-open-source-visualization-platform-a13785944c83?source=collection_archive---------1-----------------------#2019-09-21">https://medium.com/analytics-vidhya/apache-superset-rich-open-source-visualization-platform-a13785944c83?source=collection_archive---------1-----------------------#2019-09-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ff70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">阿帕奇气流的创造者的另一个雄心勃勃的Pythonic项目。</p><p id="1fd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个数据可视化工具，最初由Airbnb设计，后来为社区开源。</p><p id="d70a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超集是一个数据探索平台，被设计成可视化、直观和交互式的。它允许切片，切块和可视化数据。</p><p id="443b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它是用python写的，使用Flask作为web框架库。</p><p id="cf5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Apache Superset是可视化类别的开源工具，为大数据生态系统中的数据工程师增加了新的功能。</p><h1 id="cb86" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">关键特征</h1><ol class=""><li id="5222" class="kb kc hi ih b ii kd im ke iq kf iu kg iy kh jc ki kj kk kl bi translated">它支持多种类型的可视化过滤器。</li><li id="7f27" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">它支持所有支持SQL炼金术的数据源。</li><li id="f131" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">超集允许缓存以加载和共享仪表板。</li><li id="c1c3" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">允许数据浏览的简单、有吸引力的交互式视图。</li><li id="24ff" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">支持使用SQL查询。</li><li id="c9b3" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">它具有安全特性，如身份验证、用户管理和角色。</li></ol><h1 id="cb57" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">安装和配置</h1><p id="4535" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">让我们先看看超集UI，我最初发现它类似于Airflow kinda，这是非常明显的，因为它也使用相同的Flask库作为web框架。</p><p id="df01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了安装之外，最后我还会提到我在这个过程中遇到的一些错误。所以这将有助于把安装命令和可能出现的问题放在一篇文章的一个地方。</p><p id="6970" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始…</p><p id="4c0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在GCP的Linux机器上安装Apache超集。</p><p id="a040" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Apache超集有一些操作系统级的依赖项，需要在安装超集之前安装</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="e551" class="ld je hi kz b fi le lf l lg lh">sudo yum upgrade python-setuptools</span><span id="1839" class="ld je hi kz b fi li lf l lg lh">sudo yum install gcc gcc-c++ libffi-devel python-devel python-pip python-wheel openssl-devel libsasl2-devel openldap-devel</span></pre><p id="ccc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经安装了Python 3.6，并为超集安装创建了单独的虚拟环境。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="05cc" class="ld je hi kz b fi le lf l lg lh">python3.6 -m venv superset_virtualenv</span></pre><p id="fd66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们激活这个虚拟环境，</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="9b2d" class="ld je hi kz b fi le lf l lg lh">source environments/superset_virtualenv/bin/activate</span></pre><p id="e885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在安装python包和超集之前，我们需要将pip实用程序升级到最新版本，</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="a50a" class="ld je hi kz b fi le lf l lg lh">pip install — upgrade setuptools pip</span></pre><p id="3f7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将首先下载所有必需软件包的列表，这些软件包是超集的先决条件，否则安装过程会出错。这个需求列表可以在超集github存储库中获得。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="cfce" class="ld je hi kz b fi le lf l lg lh">wget <a class="ae lj" href="https://raw.githubusercontent.com/apache/incubator-superset/master/requirements.txt" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/apache/incubator-superset/master/requirements.txt</a></span><span id="bb79" class="ld je hi kz b fi li lf l lg lh">pip install -r requirements.txt</span></pre><p id="d4aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，是时候安装超集了</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="853a" class="ld je hi kz b fi le lf l lg lh">pip install superset</span></pre><p id="0f4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将安装最新版本的Apache超集。如果没有观察到错误，我们可以认为超集安装成功。</p><p id="38c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，初始化超集保存所有元数据的数据库。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="3573" class="ld je hi kz b fi le lf l lg lh">superset db upgrade</span></pre><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/052fdb6c00e4384f4b184463feac103e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*G9iZMt7AmK2XXLvpb1g7CA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">超集数据库初始化</figcaption></figure><p id="894f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个管理员用户，在设置密码之前，系统会提示我们设置用户名、名字和姓氏。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="279c" class="ld je hi kz b fi le lf l lg lh">fabmanager create-admin — app superset</span></pre><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/2f0a1229ec3917d4aff8c566001851c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*OyBZsuLHvrTbuPndmpXgaA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">超集用户创建</figcaption></figure><p id="ccc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">维护用户和密码详细信息以供将来参考。</p><p id="4184" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您使用过Apache Airflow，它提供了一些示例DAG供用户使用。在同一行上，超集还附带了一些我们需要初始加载的例子。我们开始吧，</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="77b8" class="ld je hi kz b fi le lf l lg lh">superset load_examples</span></pre><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/e816ae63b73e097fcd6a6e4dacae5f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*XJj_doFz-omRnkpWwaeRcA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">加载示例示例</figcaption></figure><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/ad1dc77b39d2e4c227c5773f54ed5759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*52PNikDcVHp4PpE6Krl67g.png"/></div></figure><p id="0041" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超集还使用基于fab的用户认证模型，该模型带有默认角色和权限。让我们进行初始化，以便默认角色可用。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="7ddc" class="ld je hi kz b fi le lf l lg lh">superset init</span></pre><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/6c024bfc248ea0e655ccd8b12cb870d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*xsqIAPdkYU15n5Mr9l1lSg.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">初始化默认角色和权限</figcaption></figure><p id="aa34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们准备启动超集服务器。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="4f19" class="ld je hi kz b fi le lf l lg lh">superset runserver -d</span></pre><p id="cc08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在端口8088上启动超集开发web服务器。要在另一个端口上运行，我们可以使用-p参数。</p><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/3975453d2122978509c8fae70754633c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*zU7glCC7_CPiXfJYNBb1vg.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">运行超集服务器</figcaption></figure><p id="696d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超集web服务器的URL将是<a class="ae lj" href="http://localhost:8088/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">http://localhost:8088</strong></a><strong class="ih hj">。</strong>使用创建管理员用户时输入的凭证登录。</p><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/b3c6095ba787885c32b9586a3376ce8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*6MR3ZmR-nWrts4hPaiJtKw.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">登录屏幕</figcaption></figure><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/e9602e3c725cd716a6440e7db5f40e7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*2g1xvsCM6GHtn_qqnK0rRA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">登录后</figcaption></figure><p id="6733" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们转到“Dashboards”选项卡，将会看到我们加载的示例仪表板，例如世界银行数据和出生数据。</p><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/3f7242aedbba4aa60dff98544d1c4b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*HhYRosoRb0sLleQqzp3NUA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">世界银行数据仪表板</figcaption></figure><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/003dfa068fd58dd31595b681df31915a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*1HSf5ppzIMAE8PoyeWlVXA.png"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">出生仪表板</figcaption></figure><p id="f887" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，就这样了。这是一个很好的工具，可以探索它如何适应BI生态系统，以满足仪表板和可视化需求，而且它也正被一些公司用于满足他们的要求，因为它是开源的，有很多好处。</p><p id="e4ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但在与Tableau等更强大、更有许可的工具竞争时，它又缺少什么呢？</p><ol class=""><li id="69e4" class="kb kc hi ih b ii ij im in iq ls iu lt iy lu jc ki kj kk kl bi translated">因为它是开源，所以需要依靠社区来修复错误。</li><li id="78ce" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">目前它不支持NoSQL数据库。</li><li id="d0c7" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">Tableau可以访问和连接来自相同或不同数据库的多个表，而在超集中，我们需要为多个表连接创建视图。所以我们应该知道如何编写SQL查询。</li><li id="b100" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">由于Superset仍在孵化中，它仍在成长和成熟，因此目前它的定制选项和仪表板功能有限，但它正在快速增长。</li></ol><h1 id="8689" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">安装时出错</h1><p id="8fa2" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">我提到了一些我在超集安装时遇到的错误。希望这对您开始安装过程有用，</p><ol class=""><li id="c22b" class="kb kc hi ih b ii ij im in iq ls iu lt iy lu jc ki kj kk kl bi translated">使用fabmanager命令时，出现flask版本冲突。</li></ol><p id="5e7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果Flask版本要求没有得到满足，这个问题会引起很多麻烦。所以升级pip实用程序并重新安装flask。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="fb37" class="ld je hi kz b fi le lf l lg lh">pip install — upgrade setuptools pip<br/>pip install — upgrade flask</span></pre><h2 id="ad81" class="ld je hi bd jf lv lw lx jj ly lz ma jn iq mb mc jr iu md me jv iy mf mg jz mh bi translated">2.错误:创建管理员用户时无法导入名称' _maybe_box_datetimelike '。</h2><p id="f1b1" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">转到<path to="" your="" virtual="" env="">/superset _ virtualenv/lib/python 3.6/site-packages/superset。</path></p><p id="6407" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将<code class="du mi mj mk kz b"><strong class="ih hj">dataframe.py</strong></code>文件中两次出现的<code class="du mi mj mk kz b"><strong class="ih hj">_maybe_box_datetimelike</strong></code>替换为<code class="du mi mj mk kz b"><strong class="ih hj">maybe_box_datetimelike</strong></code>。现在，重新运行用户创建步骤。</p><p id="ae6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">发行参考:</strong><a class="ae lj" href="https://github.com/apache/incubator-superset/issues/6770" rel="noopener ugc nofollow" target="_blank">https://github.com/apache/incubator-superset/issues/6770</a></p><h2 id="6015" class="ld je hi bd jf lv lw lx jj ly lz ma jn iq mb mc jr iu md me jv iy mf mg jz mh bi translated">3.ModuleNotFoundError:没有名为“flask.exthook”的模块</h2><figure class="ku kv kw kx fd ll er es paragraph-image"><div class="er es lk"><img src="../Images/affbe981ba1ef27a6f83af78896f6ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*7r3xg2w9GaT7toOqo2L1xg.png"/></div></figure><p id="6742" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了避免这个问题，正如我上面提到的，在安装Superset之前，首先使用requirement.txt安装所有需要的依赖包。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="19bd" class="ld je hi kz b fi le lf l lg lh">wget <a class="ae lj" href="https://raw.githubusercontent.com/apache/incubator-superset/master/requirements.txt" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/apache/incubator-superset/master/requirements.txt</a></span><span id="3aea" class="ld je hi kz b fi li lf l lg lh">pip install -r requirements.txt</span><span id="67ec" class="ld je hi kz b fi li lf l lg lh">pip install — upgrade superset</span><span id="cfd8" class="ld je hi kz b fi li lf l lg lh">pip install sqlalchemy==1.2.18</span></pre><p id="76d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">发行参考:</strong><a class="ae lj" href="https://www.gitmemory.com/issue/apache/incubator-superset/7861/511873236" rel="noopener ugc nofollow" target="_blank">https://www . git memory . com/Issue/Apache/incubator-superset/7861/511873236</a></p><p id="90f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望，这篇文章将帮助您理解什么是Apache超集，以及如何安装它来实现Apache超集提供的漂亮的可视化。</p><p id="691a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有关更多详细信息和路线图，请查看以下链接超集文档:</p><div class="ml mm ez fb mn mo"><a href="https://superset.incubator.apache.org/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hj fi z dy mt ea eb mu ed ef hh bi translated">Apache超集(孵化)- Apache超集文档</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">免责声明:Apache超集是Apache软件基金会(ASF)正在酝酿的一项工作，由…</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">superset.incubator.apache.org</p></div></div><div class="mx l"><div class="my l mz na nb mx nc lm mo"/></div></div></a></div><p id="37b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面链接找到github库代码，</p><div class="ml mm ez fb mn mo"><a href="https://github.com/apache/incubator-superset" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hj fi z dy mt ea eb mu ed ef hh bi translated">Apache/孵化器-超集</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">Apache Superset(孵化)是一个现代的、企业就绪的商业智能web应用程序</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">github.com</p></div></div><div class="mx l"><div class="nd l mz na nb mx nc lm mo"/></div></div></a></div><p id="6755" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读这篇文章。快乐学习！</p><p id="6572" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"># Apache superset # Python #数据工程</strong></p></div></div>    
</body>
</html>