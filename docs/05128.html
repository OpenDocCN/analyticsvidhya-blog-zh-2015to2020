<html>
<head>
<title>Introduction to Bash Script — 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bash脚本简介— 1</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-bash-script-1-45ab15845f81?source=collection_archive---------35-----------------------#2020-04-11">https://medium.com/analytics-vidhya/introduction-to-bash-script-1-45ab15845f81?source=collection_archive---------35-----------------------#2020-04-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/24c521ff56c5b1d49c14d00b61f521b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwxS3e9thQRk7nUbNc_Bmw.png"/></div></div></figure><h1 id="946c" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">内容</strong></h1><ol class=""><li id="1eb3" class="jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf bi translated">bash shell是什么？</li><li id="a4a1" class="jo jp hi jq b jr kg jt kh jv ki jx kj jz kk kb kc kd ke kf bi translated">可变的</li><li id="49d2" class="jo jp hi jq b jr kg jt kh jv ki jx kj jz kk kb kc kd ke kf bi translated">如果语句</li></ol><h1 id="768a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">什么是Bash脚本？</h1><p id="c2f3" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated"><strong class="jq hj"> Bash (Bourne Again Shell) </strong>是一种处理命令的解释器。然后，脚本可以帮助我们将<strong class="jq hj">许多命令</strong>放到一个文件中并执行它。在本文中，我们将展示bash脚本的一些基本概念。</p><p id="3546" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">在开始之前，我们先进入一些我们经常使用的shell命令。粗略地说，这些命令可以写成:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="c2f2" class="lo ir hi lk b fi lp lq l lr ls"># option is for some special function<br/># param is the arguments that user type in<br/>commands [-option name]... param1 param2</span></pre><p id="fd37" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">A.<code class="du lt lu lv lk b">echo</code></p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="ffd7" class="lo ir hi lk b fi lp lq l lr ls">echo "Hello"<br/>&gt; Hello</span></pre><p id="a415" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">B.<code class="du lt lu lv lk b">cd</code></p><p id="1eff" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated"><code class="du lt lu lv lk b">cd</code>代表<strong class="jq hj">变更目录</strong>。有两种方法可以使用该命令。</p><ul class=""><li id="19d3" class="jo jp hi jq b jr la jt lb jv lw jx lx jz ly kb lz kd ke kf bi translated"><strong class="jq hj">绝对路径</strong></li></ul><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="c8fd" class="lo ir hi lk b fi lp lq l lr ls"># Change to /usr/test/hello/bash/practice<br/>cd /usr/test/hello/bash/practice</span></pre><ul class=""><li id="0cbb" class="jo jp hi jq b jr la jt lb jv lw jx lx jz ly kb lz kd ke kf bi translated"><strong class="jq hj">相对路径</strong></li></ul><p id="86df" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">如果目标在某个相对路径中，我们可以只指定那个路径。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="09da" class="lo ir hi lk b fi lp lq l lr ls"># Switch to AVL dir<br/>cd AVL</span></pre><p id="fd83" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">C.<code class="du lt lu lv lk b">rm</code></p><p id="03d8" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated"><code class="du lt lu lv lk b">rm</code>代表<strong class="jq hj">删除</strong>，它可以删除文件。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="85d4" class="lo ir hi lk b fi lp lq l lr ls"># remove the test.sh<br/>rm test.sh</span></pre><p id="e183" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">D.<code class="du lt lu lv lk b">ls</code></p><p id="59d7" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated"><code class="du lt lu lv lk b">ls</code>表示列表，可以列出目录里面的东西。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="db88" class="lo ir hi lk b fi lp lq l lr ls"># List thing inside the dir<br/>ls</span></pre><p id="0b9e" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">在bash脚本中，<strong class="jq hj"> #用于注释。</strong></p><h1 id="500a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">可变的</h1><p id="e35f" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">有时我们需要<strong class="jq hj">存储用户提示的结果</strong>，因此，我们需要学习如何声明变量。通常，变量的名称应该全部是大写的<strong class="jq hj"/>。这里是我们声明的方式:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="b285" class="lo ir hi lk b fi lp lq l lr ls"># There is no space between the equal sign<br/>[variable name]=[result]</span></pre><p id="e5d2" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">现在，如果我们想把结果显示在屏幕上，我们该怎么做呢？嗯，<strong class="jq hj">呼应</strong>现在派上用场了！但是我们要注意，我们要回显<strong class="jq hj">变量</strong>，因此，我们要在<strong class="jq hj">名称</strong>前加上<strong class="jq hj"> $ </strong>。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="a011" class="lo ir hi lk b fi lp lq l lr ls"># This is how we did<br/>TOTAL_SUM=5</span><span id="e8f0" class="lo ir hi lk b fi ma lq l lr ls"># This is how we show the result<br/>echo $TOTAL_SUM<br/>​<br/># Or more specific<br/>echo ${TOTAL_SUM}<br/>​<br/># Even more specific<br/>echo "${TOTAL_SUM}"</span></pre><p id="e8c9" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">在我们结束这个主题之前，我们称之为尝试将所有这些内容写入脚本！</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="c262" class="lo ir hi lk b fi lp lq l lr ls">#!/bin/bash<br/>​<br/>TOTAL_SUM=5<br/>echo "${TOTAL_SUM}"</span></pre><p id="f65b" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">太棒了，我们全都做了！</p><p id="3230" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">等等，我们如何执行这个文件，第一行是什么？</p><ul class=""><li id="2f91" class="jo jp hi jq b jr la jt lb jv lw jx lx jz ly kb lz kd ke kf bi translated"><strong class="jq hj">射棒</strong></li></ul><p id="44e9" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">第一行不是为人类写的，是为解释者写的。解释器必须计算出<strong class="jq hj">加载哪个程序</strong>来执行文件。在这里，我们使用<strong class="jq hj"> /bin/bash </strong>意味着我们要使用<strong class="jq hj"> /bin </strong>中的bash程序来执行文件。还有，如果想用python，可以指定<strong class="jq hj"> /bin/python </strong>。</p><p id="ea82" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">另外，<strong class="jq hj"> # </strong>是<strong class="jq hj">尖</strong>和！就是<strong class="jq hj">砰</strong>。的确，这就是shebang 名字的由来。注意，<strong class="jq hj"> bash </strong>的路径可能与计算机不同，您可以通过键入<code class="du lt lu lv lk b">which bash</code>来检查路径。</p><ul class=""><li id="718b" class="jo jp hi jq b jr la jt lb jv lw jx lx jz ly kb lz kd ke kf bi translated"><strong class="jq hj">权限</strong></li></ul><p id="5ca0" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">如果我们想运行文件，我们可以使用使用<code class="du lt lu lv lk b">./[filename]</code></p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="e724" class="lo ir hi lk b fi lp lq l lr ls"># Execute test.sh<br/>./test.sh<br/>​<br/>&gt; permission denied: ./test.sh</span></pre><p id="58a1" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">还有一个错误。该错误告诉我们无法执行该文件，因此我们必须通过<code class="du lt lu lv lk b">chmod</code>更改权限:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="c692" class="lo ir hi lk b fi lp lq l lr ls"># Change the permission<br/>chmod u+x test.sh</span></pre><p id="ff72" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">我不会进入<strong class="jq hj">许可</strong>和<strong class="jq hj"> chmod </strong>。到目前为止，我们可以成功地执行它！</p><h1 id="f222" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">如果语句</h1><p id="c652" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">我们通常需要在某种情况下决定下一步做什么。因此，我们需要<strong class="jq hj"> if </strong>语句来帮助我们！以下是它的实现方式:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="2508" class="lo ir hi lk b fi lp lq l lr ls">if [[ statement ]] # White space before and after the statement<br/>then<br/>  commands...<br/>fi</span></pre><p id="c732" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">这句话有很多特殊的用法:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="e1c0" class="lo ir hi lk b fi lp lq l lr ls"># For compare</span><span id="fbf5" class="lo ir hi lk b fi ma lq l lr ls"># "=" used to check string type, also &gt;, &lt;, &gt;=, &lt;= for string type<br/>if [[ ${TEST} = "ABC"]] </span><span id="7be7" class="lo ir hi lk b fi ma lq l lr ls"># -eq used to check numeric type<br/>​​if [[ ${TEST} -eq 2]] </span><span id="4d8c" class="lo ir hi lk b fi ma lq l lr ls"># -nq -&gt; not equal for numeric type<br/>​if [[ ${TEST} -ne 2]] </span><span id="6ab8" class="lo ir hi lk b fi ma lq l lr ls"># -le -&gt; large or equal for numeric type<br/>​if [[ ${TEST} -le 2]] </span><span id="865a" class="lo ir hi lk b fi ma lq l lr ls"><br/>​<br/># For file management<br/>​<br/>PATH="./Hello"<br/>if [[ -d ${PATH} ]] # PATH is exist and is directory<br/>​<br/>FILE="./test.sh"<br/>if [[ -e ${FILE} ]] # FILE is exist and is file<br/>​<br/>if [[ -r ${FILE} ]] # FILE exist and read permission is granted<br/>​<br/>if [[ -w ${FILE} ]] # FIEL exist and write permission is granted</span></pre><p id="db90" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">在这里，我只是提到了其中的一部分。如果你想要一些特殊的功能，你可以在谷歌上搜索并使用模板来达到你的目标！</p><p id="fe21" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">现在，我们将了解如何使用<strong class="jq hj"> if-else </strong>和<strong class="jq hj"> if-elif-else* </strong>语句:</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="1d7f" class="lo ir hi lk b fi lp lq l lr ls"># if-else<br/>if [[ statement ]]<br/>then<br/>  commands...<br/>else<br/>  commands...<br/>fi<br/>​<br/>​<br/># if-elif-else<br/>if [[ statement ]]<br/>then<br/>  commands...<br/>elif [[ statement ]]<br/>then<br/>  commands...<br/>else<br/>  commands...<br/>fi</span></pre><p id="8e9a" class="pw-post-body-paragraph kl km hi jq b jr la kn ko jt lb kp kq jv lc ks kt jx ld kv kw jz le ky kz kb hb bi translated">对于<strong class="jq hj"> if-elif-else </strong>语句，允许实现多个<strong class="jq hj"> elif </strong>。</p><h1 id="12df" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">摘要</h1><p id="e88a" class="pw-post-body-paragraph kl km hi jq b jr js kn ko jt ju kp kq jv kr ks kt jx ku kv kw jz kx ky kz kb hb bi translated">今天，我们讨论bash脚本的一些基本概念。我们将在下一部作品中探讨更多主题。如果有什么不对或者让你困惑的地方，请告诉我！</p></div></div>    
</body>
</html>