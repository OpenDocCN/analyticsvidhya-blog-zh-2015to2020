<html>
<head>
<title>Python Data Cleaning: Convert String Objects to Numeric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 数据清理:将字符串对象转换为数字对象</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-data-cleaning-convert-string-objects-to-numeric-64ccfb1a2f33?source=collection_archive---------10-----------------------#2020-08-19">https://medium.com/analytics-vidhya/python-data-cleaning-convert-string-objects-to-numeric-64ccfb1a2f33?source=collection_archive---------10-----------------------#2020-08-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/99a30570ce378011512b9cd6e27aea1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*gHMcYFEONGAScjreXMDKHQ.jpeg"/></div></figure><h1 id="3951" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated"><strong class="ak">简介:</strong></h1><p id="685d" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在从事任何数据科学项目时，大部分时间都花在数据清理和准备数据以应用机器学习算法上。</p><p id="04a2" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在许多这样的情况下，你可能会发现数据被标记为 object，而它本应该是数字的。例如，包含价格的数据集可能具有格式为$100，000 的价格。由于数据具有特殊字符，如“$”和“，”该列被视为对象，而不是数字。</p><p id="4364" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在本文中，我们将介绍如何将这些类型的列从 object 转换为 numeric。</p><p id="0948" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在本练习中，我将使用西雅图 Airbnb 数据中的“listings.csv”数据文件。数据可以在这个链接下找到:【https://www.kaggle.com/airbnb/seattle?select=listings.csv T2】</p><p id="93d7" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">第一步:加载数据框并研究数据框的结构。</strong></p><p id="ec53" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们将加载数据帧并研究数据帧的结构。正如您在下面看到的，有 62 列标记为 objects，30 列标记为 numeric (float 和 int)</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ko"><img src="../Images/b12e18a55a8c6ae6e74ddf142bbfd3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKc0DJ1pmDb8080H9Hl2NQ.jpeg"/></div></div></figure><p id="5b6e" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">第 2 步:浏览数值列和对象列:</strong></p><p id="a689" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">查看 object 和 numeric 列，您可以看到一些包含数值的列被视为对象。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kx"><img src="../Images/1ab1f8eb62c796331dffee7760e2c611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fEB6rnFbzQBYZDXjwyux6Q.jpeg"/></div></div></figure><p id="6ace" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">步骤 3:浏览被错误标记为对象的列</strong></p><p id="0861" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在研究这些列的数据时，我发现这些列在数据中有特殊字符，如“$”、“”和“”。因此，这些列被视为对象，而不是数字。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ky"><img src="../Images/af62a0dcb6081cff7ba06b35d3e78227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FKBkWkiBm3QyUhr1jTswg.jpeg"/></div></div></figure><p id="5e4b" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">第四步:去除特殊字符，转换为数字</strong></p><p id="652e" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">下一步是从这些列中删除特殊字符并转换成数字。由于 host_response_rate 和 host_acceptance_rate 与其他 3 个相比具有不同的特殊字符，因此我们将分别处理它们。</p><p id="167c" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">您可以使用“str.replace”函数来删除特殊字符。因为我们有多列，所以我们可以遍历每一列并删除特殊字符。</p><p id="f352" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">正如您在下面看到的，这些列在去除特殊字符后被标记为数字。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kz"><img src="../Images/63b5c9ef1d0ba7418ee6bf510b04a8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ycBFr1qa04VRIGo7siUWOA.jpeg"/></div></div></figure><h1 id="fe74" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated"><strong class="ak">结论</strong></h1><p id="acbe" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在本文中，我们研究了数据清理过程中的一个重要步骤，即当列应该是数字时，如何处理被标记为对象的列。</p><p id="1ffb" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们讨论了如何使用 str.replace()删除特殊字符并将它们转换成数字。</p></div></div>    
</body>
</html>