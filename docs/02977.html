<html>
<head>
<title>“Simpson’s Paradox” — When You Derive A Wrong Insight From Your Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“辛普森悖论”——当你从分析中得出错误的见解时</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/simpsons-paradox-when-you-derive-a-wrong-insight-from-your-analysis-ee488b346427?source=collection_archive---------12-----------------------#2020-01-10">https://medium.com/analytics-vidhya/simpsons-paradox-when-you-derive-a-wrong-insight-from-your-analysis-ee488b346427?source=collection_archive---------12-----------------------#2020-01-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d7e3" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">从选择偏差到因果图，以及如何避免偏差的提示。</h2></div><p id="6567" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于各种原因，分析可能会有偏差。在这篇文章中，我们将从一个选择偏差的例子开始，来理解偏差的影响。</p><p id="9bfe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还将比较两个拥有相同数据却导致不同结果的例子，了解什么是<strong class="iz hj">辛普森悖论</strong>。</p><p id="683d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们将讨论<strong class="iz hj">后门标准</strong>，以学习如何避免偏见。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="1f1d" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">目录</h1><p id="8dab" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">1.介绍</p><p id="6b0f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.1.选择偏差</p><p id="c39d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.2.问题1</p><p id="5e64" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.3.问题2</p><p id="f197" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.4.问题1和问题2有什么不同？</p><p id="3aeb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.5.辛普森悖论</p><p id="d9ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.因果结构和因果图</p><p id="bce5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.在数据分析中正确使用因果结构</p><p id="27fe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.因果图中的后门准则</p><p id="85a5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.结论</p><p id="7326" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">参考</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="d045" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">1.介绍</h1><h2 id="99a3" class="kx kb hi bd kc ky kz la kg lb lc ld kk jg le lf km jk lg lh ko jo li lj kq lk bi translated">1.1 —选择偏差</h2><p id="b6c2" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">看看下面的散点图。它在比较一些人的数学成绩和英语成绩。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es ll"><img src="../Images/e7c98a0e326e02d54769154a65302487.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*xLsGlfgXOexNOMxiOtcYew.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">人口的数学分数与英语分数</figcaption></figure><p id="4fd2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们看到数学成绩和英语成绩之间有更强的负(线性)相关性。那么，我们是否可以说<em class="lx">“数学能力高的学生往往英语素养低，反之亦然”</em>？</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es ly"><img src="../Images/40b302d7f68a852e82342e89fef0a4c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*KuY5hVVVTjXDqzKl6IjWIw.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">真实世界中数学分数与英语分数的散点图</figcaption></figure><p id="6f90" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">实际上，这些数据是通过以下步骤编造出来的:</p><ol class=""><li id="116b" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js me mf mg mh bi translated">独立生成两个服从正态分布的随机数，均值=50，标准差=20，在0和100处截取。一个是数学成绩，一个是英语成绩。</li><li id="5a1c" class="lz ma hi iz b ja mi jd mj jg mk jk ml jo mm js me mf mg mh bi translated">如果数学成绩+英语成绩&gt; 120，则选择子群体，假设子群体代表数学和英语总分录取的学生。</li></ol><p id="d1ea" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，真正的洞见是“<strong class="iz hj"> <em class="lx">学生的数学能力和英语能力是独立分布的</em> </strong>”。我们提到的偏差只来自于灰色虚线上的亚群体趋势，因为选择边界是对角线。</p><p id="1379" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种偏差叫做<a class="ae mn" href="https://en.wikipedia.org/wiki/Selection_bias" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj">选择偏差</strong> </a>。</p><p id="0e03" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这一次偏倚很容易被检测到，因为我们知道有一个整个人群的数据集，并且有一个选择子集的公式，但是<strong class="iz hj">如果我们只有选择的数据而没有注意到它是被选择的，并且不知道选择标准是什么呢？</strong></p><p id="6cee" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了进一步讨论，我们来看看下面两个有偏差的分析例子。</p><h2 id="c255" class="kx kb hi bd kc ky kz la kg lb lc ld kk jg le lf km jk lg lh ko jo li lj kq lk bi translated"><em class="mo"> 1.2 —问题1 </em></h2><p id="30b4" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated"><strong class="iz hj">背景:</strong></p><blockquote class="mp mq mr"><p id="9bc1" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated">我们有男性或女性患者接受治疗或未接受治疗的医学观察数据，以及最终预后。</p></blockquote><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es mv"><img src="../Images/469ef0468903e63e66d4cb4ce73392c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*_J4ZkT_WRZuXqNukiMSIVA.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">分析#1的数据</figcaption></figure><p id="083d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">有点分析:</strong></p><p id="c719" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">女性患者的治愈率:</p><ul class=""><li id="47a7" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">如果未处理40% (=2/5) &lt; if treated 44% (12/27)</li></ul><p id="e9e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Cured ratio within male patients:</p><ul class=""><li id="f665" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">if not treated 57% (=4/7) &lt; if treated 62% (8/13)</li></ul><p id="26e8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Cured ration within female or male patients:</p><ul class=""><li id="1310" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">if not treated 50% (=6/12) = if treated 50% (=20/40)</li></ul><p id="0fd2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">问题:</strong></p><blockquote class="mp mq mr"><p id="edfe" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">我们能说治疗有效还是无效吗？</em></p></blockquote><p id="d885" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">(让我们暂时忘记“统计意义”，只讨论数据的比例！)</p><p id="aec9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">回答:</strong></p><blockquote class="mp mq mr"><p id="adf4" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated">这种疗法对不同性别的人有不同的效果，但是值得一试。 <strong class="iz hj"> <em class="hi">我们应该忽略“总计”行上的比率。</em>T11】</strong></p></blockquote><h2 id="96c3" class="kx kb hi bd kc ky kz la kg lb lc ld kk jg le lf km jk lg lh ko jo li lj kq lk bi translated">1.3 —问题2</h2><p id="53bc" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated"><strong class="iz hj">背景:</strong></p><blockquote class="mp mq mr"><p id="08c5" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">在婴儿玩了一副卡牌后，我们记录了婴儿每种类型和颜色的卡牌弄脏了多少张。</em></p></blockquote><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es mx"><img src="../Images/f1d0221fd1d95f75914a8f964463feca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*w0ZxG6yCNPnx2cs3VNgSxQ.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">分析#2的数据</figcaption></figure><p id="040f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">一点分析:</strong></p><p id="93c3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">干净牌中的红色比率:</p><ul class=""><li id="db1f" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">如果法院卡40% (=2/5) &lt; if plain cards 44% (12/27)</li></ul><p id="4ba3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Red ratio within dirty cards:</p><ul class=""><li id="a7c5" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">if court cards 57% (=4/7) &lt; if plain cards 62% (8/13)</li></ul><p id="7ef6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Red ratio within clean or dirty cards:</p><ul class=""><li id="0767" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">if court cards 50% (=6/12) = if plain cards 50% (=20/40)</li></ul><p id="406b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">问题:</strong></p><blockquote class="mp mq mr"><p id="8839" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">宫廷牌的比例与颜色有关吗？</em></p></blockquote><p id="59d5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">(还是那句话，让我们忘掉‘统计意义’！)</p><p id="629c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">回答:</strong></p><blockquote class="mp mq mr"><p id="b20d" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated">与黑色卡片相比，婴儿可能更喜欢红色卡片，但两种颜色的比例是一样的。 <strong class="iz hj"> <em class="hi">我们应该忽略单独的“干净”和“脏”行上的比率。</em>T29】</strong></p></blockquote><h2 id="a202" class="kx kb hi bd kc ky kz la kg lb lc ld kk jg le lf km jk lg lh ko jo li lj kq lk bi translated">1.4 —问题1和问题2有什么不同？</h2><p id="567d" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">你有没有注意到问题#1和问题#2的数据表中的数字都是一样的？</p><p id="9ce4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，<strong class="iz hj"> #2造成了按行分层的选择偏倚，而#1没有，从我们对被试的了解，我们正确地选择了分析和推导洞察力的方式。我们对学科的知识大概是这样的:</strong></p><ul class=""><li id="134b" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated">“人们很自然地认为，医学治疗对不同性别的人有不同的效果”，以及</li><li id="2a16" class="lz ma hi iz b ja mi jd mj jg mk jk ml jo mm js mw mf mg mh bi translated">“每种颜色和类型的卡片数量是完全独立的(虽然婴儿可能喜欢玩特定的颜色和类型)。”</li></ul><p id="498b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，如果这个案子是我们不知道的呢？</p><h2 id="3289" class="kx kb hi bd kc ky kz la kg lb lc ld kk jg le lf km jk lg lh ko jo li lj kq lk bi translated">1.5 —辛普森悖论</h2><p id="eb63" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">所有这些时尚都是关于“<a class="ae mn" href="https://en.wikipedia.org/wiki/Simpson%27s_paradox" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj">辛普森悖论</strong> </a>”。辛普森悖论最初是在<a class="ae mn" href="http://math.bme.hu/~marib/bsmeur/simpson.pdf" rel="noopener ugc nofollow" target="_blank"><em class="lx">对列联表中相互作用的解释中讨论的。</em>”由爱德华·h·辛普森于1951年</a>。</p><p id="62a1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于2011年埃尔南、米盖尔·a、大卫·克莱顿和尼尔斯·凯丁的<a class="ae mn" href="https://www.researchgate.net/publication/50939554_The_Simpson's_paradox_unraveled" rel="noopener ugc nofollow" target="_blank"><em class="lx">《辛普森悖论的解开</em>》，辛普森悖论给我们的启示是:</a></p><blockquote class="mp mq mr"><p id="658c" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi"> -统计数据不足以进行分析，因为来自不同因果结构的相同数据应进行不同的分析。</em></p><p id="26ab" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi"> -对于因果推断来说，忽略主题(因果)知识的数据分析是没有希望的。</em></p></blockquote><p id="8a10" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">(来自<a class="ae mn" href="https://twitter.com/_MiguelHernan/status/860542619818106881?s=20" rel="noopener ugc nofollow" target="_blank">米格尔·埃尔南的推文。</a>)</p><p id="3bef" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我解释一下:</p><ul class=""><li id="09b9" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated"><strong class="iz hj">在做数据分析的时候，你得知道题目的因果结构，并且运用得当。否则，你可能会得出错误的见解。</strong></li></ul><p id="f53a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，这意味着什么呢？<strong class="iz hj">什么是因果结构</strong>和<strong class="iz hj">怎样才能‘用得其所’</strong>？让我们在下一节看到它们。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="er es my"><img src="../Images/723fe3b18d6f9990406fcf37f8fb8478.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G7F-AVMgYOF93ioM"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">“辛普森悖论”，引用自<a class="nd ne ge" href="https://medium.com/u/53e3ac233f9b?source=post_page-----ee488b346427--------------------------------" rel="noopener" target="_blank">RJ·安德鲁斯</a>的<a class="ae mn" href="https://twitter.com/infowetrust/status/984536880199876608" rel="noopener ugc nofollow" target="_blank">推特账号</a></figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="28d1" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">2.因果结构和因果图</h1><p id="9299" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">当人们听到“因果关系”这个词时，你可能会有一些概念，但实际上并不容易正式定义。</p><p id="a21e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Miguel Hernán 的<a class="ae mn" href="https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/" rel="noopener ugc nofollow" target="_blank"><em class="lx">因果推理书</em>定义为，当A被拿走和A被拿走的结果Y不同时,‘A对Y有因果影响’。形式上，A和Y在这里都是<em class="lx">随机变量</em>。让我们避免进一步复杂的讨论定义，只是相信它代表了所谓的因果关系。详见</a><a class="ae mn" href="https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/" rel="noopener ugc nofollow" target="_blank"><em class="lx">因果推理书</em></a>。</p><p id="e231" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因果图是直观表示因果关系的图形。当A引起Y时，其因果图如下。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es nf"><img src="../Images/ef8754792605644723e4d12880bc3ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*AyOLprOOW80qDS_-lCFVFA.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">显示原因的因果图</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="7c2d" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">3.在数据分析中正确使用因果结构</h1><p id="3032" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">那么，因果关系/图与辛普森悖论的关联是什么，“恰当使用因果结构”的理念是什么？</p><p id="8063" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以上，我说:</p><ul class=""><li id="62c8" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated"><strong class="iz hj">在做数据分析的时候，你得知道题目的因果结构，并且运用得当。否则，你可能会得出错误的见解。</strong></li></ul><p id="1f05" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的两个例子中，我们想知道“治疗”(A:原因)和“治愈”(Y:效果)，以及“法庭/普通牌”(A)和“红/黑牌”(Y)之间的因果关系。</p><p id="1e24" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把结论放在第一位，当我们想要检测是否有任何因果关系时，我们必须记住以下两条规则:</p><p id="2aae" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="lx">规则#1 </em>:我们必须使用使(A)和(Y)都分层的变量(A和(Y)的上级)。否则，结果会有偏差。</strong></p><p id="2dce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="lx">规则#2 </em>:我们一定不能用(A)(A的后代)引起的变量来分层，因为它会引起选择偏差</strong>。<strong class="iz hj">否则，结果会有偏差。</strong></p><p id="b1d8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lx">(这两条规则后面会用‘后门准则’来概括。不要混淆，因为它们表示相同的东西！)</em></p><p id="903d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看看两个案例的因果图+第一个数学分数和英语分数的例子，我们确信它会产生选择偏差。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="er es ng"><img src="../Images/d4ebed8b0818c853a24250c783fcdf94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LAChqmRgYDDQIHgAYEvdLQ.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">问题#1、问题#2的因果图，以及数学成绩&amp;英语成绩示例。</figcaption></figure><blockquote class="mp mq mr"><p id="1339" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">处理示例(问题#1)的图表符合规则#1，因此</em> <strong class="iz hj"> <em class="hi">我们必须按性别对数据进行分层</em> </strong> <em class="hi">。</em></p><p id="0994" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">王牌示例(问题2)和数学/英语分数的图表符合规则2，因此</em> <strong class="iz hj"> <em class="hi">我们不能按干净/脏或总分对数据进行分层。</em>T25】</strong></p><p id="f15b" class="ix iy lx iz b ja jb ij jc jd je im jf ms jh ji jj mt jl jm jn mu jp jq jr js hb bi translated"><em class="hi">但是</em> <strong class="iz hj"> <em class="hi">如果仅仅因为数据没有性别信息而没有按性别对问题#1案例进行分层会怎么样？您的结果仍然有偏差</em> </strong> <em class="hi">，就像图表中的“总计”行一样。这描绘了</em> <strong class="iz hj"> <em class="hi">关于主题的背景知识对于获得正确见解</em> </strong> <em class="hi">是多么重要。</em></p></blockquote><p id="fb06" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，记住问题#1和问题#2在展示中有完全相同的值。这意味着我们无法仅从数据中确定我们必须遵循两个规则中的哪一个，唯一的方法是从我们对主题的先验知识中得出因果结构。</p><p id="8fe7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经写了两次了，如果我们简单地总结一下，</p><ul class=""><li id="6784" class="lz ma hi iz b ja jb jd je jg mb jk mc jo md js mw mf mg mh bi translated"><strong class="iz hj">在做数据分析时，你必须知道题目的因果结构，并恰当地使用它。否则，你最终可能会得出错误的见解。)</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="er es nh"><img src="../Images/0c45e5e8d9736ffac29fa58578d955b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G92xTKbOZ92neaBi"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">由<a class="ae mn" href="https://unsplash.com/@florenciaviadana?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Florencia Viadana </a>在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="c137" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">4.因果图中的后门准则</h1><p id="2197" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">规则#1和规则#2由Pearl提出的<a class="ae mn" href="http://blog.sciencenet.cn/home.php?mod=attachment&amp;filename=Causality_%20models%2C%20reasoning%2C%20and%20inference%5BJudea_Pearl%5D.pdf&amp;id=56698" rel="noopener ugc nofollow" target="_blank">“后门标准”的概念概括如下</a>:</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div class="er es ni"><img src="../Images/fe258f6596f40105a2c8c4ca65745347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*ivEV3uvDeWDWxWVQNgVV4g.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">摘自朱迪亚·珀尔的《因果关系——模型、推理和推论》</figcaption></figure><p id="b697" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个定义中的<em class="lx"> X </em>就是我们上一节所说的<em class="lx"> A </em>的那个。后门准则的要点是<strong class="iz hj">一旦我们通过这个准则识别出<em class="lx"> Z </em>，它们立刻成为我们通过</strong>对数据进行分层所需要的变量。</p><p id="d1cd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在问题#1的情况下，如果我们在<em class="lx"> Z </em>中不包括性别，<em class="lx"> Z </em> ={}。既然<em class="lx"> Y </em> ={cured}，就违反了借壳准则中的(ii)。现在，考虑另一个选择，Z<em class="lx"/>= { gender }，我们可以确认它们满足标准的两个条件。数据<strong class="iz hj">必须按性别</strong>分层。</p><p id="56bb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在问题#2的情况下，如果我们在<em class="lx"> Z </em>中包含清洁度，<em class="lx"> Z </em> ={clean}。clean是<em class="lx">X</em>= {庭证}的后代，因此这违反了后门规范中的(I)。现在，考虑另一个选择，Z  ={}，我们可以确认它们满足标准的两个条件。数据<strong class="iz hj">不得按清洁度</strong>分层。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="er es nj"><img src="../Images/4749e21803df6bf1a80e029bb946f50a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CKVjG6fHSTYuhsOz"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">汉娜·莫里斯在<a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="a70f" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">5.结论</h1><p id="8b62" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated"><strong class="iz hj">选择偏差</strong>和<strong class="iz hj">辛普森悖论</strong>是可能从数据分析中得出相反见解的偏差，是每个数据分析都必须担心的。</p><p id="9cde" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一步应该始终是"<strong class="iz hj">试图理解主题及其在背景中的因果结构</strong> " — <strong class="iz hj"> </strong>这是数据分析自动化的厄运:(</p><p id="4c83" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦我们知道了因果关系，当因果结构足够简单时，以下两个规则可以给出一个简单的扫描来知道哪些变量应该用于分层。</p><p id="2254" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="lx">规则#1 </em>:我们必须使用使(A)和(Y)都分层的变量(A和(Y)的上级)。否则，结果会有偏差。</strong></p><p id="b8c3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> <em class="lx">规则#2 </em>:我们一定不能用(A)引起的变量(A的后代)来分层，因为它会引起选择偏差。否则，结果会有偏差。</strong></p><p id="bc25" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在更复杂的情况下，我们应该考虑<strong class="iz hj">后门标准</strong>来确定分层变量。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="3fed" class="ka kb hi bd kc kd ke kf kg kh ki kj kk io kl ip km ir kn is ko iu kp iv kq kr bi translated">参考</h1><p id="f7b3" class="pw-post-body-paragraph ix iy hi iz b ja ks ij jc jd kt im jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated"><a class="ae mn" href="http://math.bme.hu/~marib/bsmeur/simpson.pdf" rel="noopener ugc nofollow" target="_blank">“列联表中相互作用的解释”，作者E. H. Simpson </a></p><p id="9b8b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae mn" href="http://blog.sciencenet.cn/home.php?mod=attachment&amp;filename=Causality_%20models%2C%20reasoning%2C%20and%20inference%5BJudea_Pearl%5D.pdf&amp;id=56698" rel="noopener ugc nofollow" target="_blank">【链接打开PDF】《因果关系——模型、推理和推论》，作者朱迪亚·珀尔</a></p><p id="da01" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae mn" rel="noopener" href="/@akelleh/how-do-you-correct-selection-bias-d781a9b12de2">亚当·凯莱赫的《如何纠正选择偏差》。</a></p><p id="2333" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae mn" href="https://www.hsph.harvard.edu/miguel-hernan/causal-inference-book/" rel="noopener ugc nofollow" target="_blank">《因果推理书》作者米格尔·埃尔南</a></p><p id="a500" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae mn" href="http://ftp.cs.ucla.edu/pub/stat_ser/r425.pdf" rel="noopener ugc nofollow" target="_blank">“从因果和统计推断中的选择偏差中恢复”, Elias Bareinboim，Jin Tian，Judea Pearl </a></p><p id="2899" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae mn" href="https://www.researchgate.net/publication/50939554_The_Simpson's_paradox_unraveled" rel="noopener ugc nofollow" target="_blank">《辛普森悖论被解开》作者米盖尔·埃尔南、大卫·克莱顿、尼尔斯·凯丁</a></p></div></div>    
</body>
</html>