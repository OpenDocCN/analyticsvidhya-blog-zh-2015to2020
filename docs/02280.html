<html>
<head>
<title>Housing Rent Prices and Venues Data Analysis of London — A geographical clustering approach for house seekers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">伦敦住房租金价格和场地数据分析——一种面向购房者的地理聚类方法</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/housing-rent-prices-and-venues-data-analysis-of-london-a-geographical-clustering-approach-for-3abbf999b02?source=collection_archive---------9-----------------------#2019-12-09">https://medium.com/analytics-vidhya/housing-rent-prices-and-venues-data-analysis-of-london-a-geographical-clustering-approach-for-3abbf999b02?source=collection_archive---------9-----------------------#2019-12-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1ae8e542fd04bbdcae8b6dd10f4324ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tdIkLF-rCqIbGWkn"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">杰米·韦芬在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="c638" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">了解环境——伦敦人口2019</h1><h1 id="5c34" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi">9,176,530</h1><p id="38ee" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">对伦敦<a class="ae iu" href="http://worldpopulationreview.com/world-cities/london-population/" rel="noopener ugc nofollow" target="_blank">人口的最新官方估计来自国家统计局。根据他们的数据，2016年大伦敦地区的人口预计为8787892人。2019年的地铁人口估计多达918万。</a></p><p id="13c3" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">英国<a class="ae iu" href="http://worldpopulationreview.com/countries/united-kingdom-population/" rel="noopener ugc nofollow" target="_blank"/>的<a class="ae iu" href="http://data.london.gov.uk/census" rel="noopener ugc nofollow" target="_blank">人口普查每十年进行一次，最近一次于2011年完成，这意味着我们即将进行下一次人口数据收集。</a></p><p id="f696" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">伦敦的人口使其成为英国最大的城市。英国第二大城市——伯明翰<a class="ae iu" href="http://worldpopulationreview.com/world-cities/birmingham-population/" rel="noopener ugc nofollow" target="_blank">——人口110万，仅为首都人口的11.98%。伦敦也是欧盟最大的城市，是都柏林的两倍，罗马的三倍。</a></p><p id="5b5f" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">它是欧洲第三大城市，排在伊斯坦堡(1480万人)和T21(1030万人)之后，也是世界上第27大城市。</p><h1 id="09d8" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">种族划分</h1><p id="6f09" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">作为一个城市，伦敦比英国其他地方更加多样化。根据2011年的人口普查，在英格兰和威尔士，86%的人口是白人，但在伦敦，这一数字降至59.79%。当离开市中心时，伦敦人口中的白人比例会增加。</p><p id="73d8" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">理解人口种族的多样性如何改变我们分析住房市场的方式是很重要的。人们有不同的需求和优先事项需要满足，当需要租房时，他们更有可能在步行距离内有特定场地的地区租房。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/2b93bd1dc9941138fc8cb6f00e2eadbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/0*42Jv-wP-8QQKvdbU"/></div></figure><h1 id="612d" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">介绍和业务问题演示</h1><p id="3a96" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">我认为公寓不符合顾客需求有三个主要原因:</p><ul class=""><li id="37b4" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated"><em class="lk">公寓看起来又旧又破</em></li><li id="6fc0" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated"><em class="lk">附近没有预期的商品</em></li><li id="4ef5" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated"><em class="lk">价格对那套公寓来说太高了，或者超出了预算</em></li></ul><p id="88c0" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">我这项研究的目标是有一个系统的方法来分析RightMove.co.uk发布的招聘信息，从而绘制出该城市最佳机会的地图。如果你正在寻找一个新的单位，你喜欢你的实际居住区，这个项目可以根据你的喜好为你提供一份市场上所有最好的房产的清单。</p><p id="e8e4" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">对于这个项目，我将创建一个简单的软件，它可以抓取RightMove以获得可供出租的最新公寓列表，使用Foursquare收集和分析每个可供出租的房产附近的主要场地，并对它们进行聚类，以便在500米的半径内根据场地相似性将住房市场分为20个组。</p><h1 id="00ef" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">方法学</h1><p id="4ff2" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">让我们从数据收集过程开始。</p><p id="07df" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为此，我决定花时间使用Beautiful Soup 4开发一个web抓取应用程序，但是后来我在GitHub上发现了一个由toby-p提供并可供下载的资源库，它提供了一种简单的抓取Rightmove的方法！</p><p id="07a9" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">该脚本收集以下信息:</p><ul class=""><li id="d7b4" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">价格</li><li id="9e2c" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">类型</li><li id="448a" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">地址</li><li id="7186" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">统一资源定位器</li><li id="4a51" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">代理_url</li><li id="128e" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">邮政编码</li><li id="d778" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">数量_卧室</li><li id="2e49" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">搜索日期</li></ul><p id="a31b" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">数据集将如下所示:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/116b5ff0f730bb82ed2ca9fa88d70b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xyhv-9nALfAjLqnJ"/></div></div></figure><p id="bb81" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">地址格式为<em class="lk">“街道，城市，邮政编码”</em>，是一个非结构化字段，但出于我们的目的，我们可以保持原样。相反，邮政编码呈现一种<em class="lk">“有限”</em>格式，因为我们只有前两位/三位数字。这还不足以准确收集公寓周围场馆的有意义的数据。</p><p id="15ad" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了解决这个问题，我将使用OpenCage Geocoder API从邮政地址查找坐标。这是一个非结构化字段变得有用的情况。</p><p id="140d" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了将每个租金报价与一个地区相关联，我将把数据表与第二个数据集连接起来，该数据集有两列:</p><ul class=""><li id="39fa" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">地区名称</li><li id="5819" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">邮政编码</li></ul><p id="c42b" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这个数据集是通过抓取维基百科表(<a class="ae iu" href="https://en.wikipedia.org/wiki/London_postal_district" rel="noopener ugc nofollow" target="_blank">此处可用</a>)创建的，其中包含了我进行分析所需的数据。</p><p id="dca9" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">当数据被收集并合并到一个数据框架中时，我使用K-Means算法对它们进行聚类。为了可视化伦敦的地理细节和优惠分布，我使用fluous Python库绘制了两张有意义的地图:</p><ul class=""><li id="bc81" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">聚类图:该图显示了聚类的分布，用颜色来区分每个聚类。</li><li id="1f13" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">供暖地图:该地图显示了报价较高的区域。</li></ul><p id="73b3" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了更好地了解市场，重要的是绘制条形图，以方便地确定一室公寓、一室公寓、二室公寓、三室公寓和四室公寓的平均价格。</p><p id="dc6c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">其中一个目标是量化位置(区域)对每个公寓类别的平均价格的影响程度，并确定最小化每月费用地理影响的卧室数量。</p><p id="7188" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">最后，我结束了这个项目，要求用户输入以下数据:</p><ul class=""><li id="fe60" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated"><em class="lk">你的地址</em>:这个输入用于分析你居住的邻居，并使用这个信息找到你所属的集群。</li><li id="d5c5" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated"><em class="lk">您正在寻找的卧室数量</em>:该输入用于过滤您所属的集群的结果。</li><li id="73f8" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated"><em class="lk">最高月费(预算)</em></li></ul><p id="6ae4" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">此分析的输出是一个数据框，其中包含基于您的偏好的过滤结果列表。</p><h1 id="6add" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结果</h1><p id="7af6" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">不出所料，一套公寓的价格不能只通过周围的场地来预测，但可以有效地过滤市场，以帮助购房者找到最好的房产。尽管如此，<em class="lk">仍有可能根据公寓</em>(卧室数量、浴室数量等)<em class="lk">、公寓所属区域以及公寓</em>附近的一些主要场馆的特点开发一个定价模型。关键因素的一个例子是声誉良好的超市、公共交通站、学校或大学、医院。根据最终用户的偏好，价格和这些类别之间的相关性很低，但很重要。</p><p id="fa02" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这个项目的主要目标是为每个人提供一个工具来分析住房市场，并确定最适合他们个人需求的报价。</p><h1 id="78a0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据探索</h1><p id="d08d" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">首先，我通过不同的查询执行可视化频率分布的数据探索，以开始了解市场。</p><p id="c21e" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">下面的条形图显示了按卧室数量列出的报价数量。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/ad62e22505e6780f93417ac3c69d00af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pIP_pxVX62cdzozV"/></div></div></figure><p id="eace" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">正如我们所见，市场上最常见的产品是2卧室公寓，其次是1卧室公寓。</p><p id="057d" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">伦敦哪个区的优惠最多？</p><p id="f7e6" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">下面的条形图显示了按邮政编码排列的报价分布情况。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/c2fef613c20c510dc7dda4008e4f303d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*erHTMsTKbuNhkWXK"/></div></div></figure><h1 id="83e7" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据操作</h1><p id="58c4" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">为了使结果更容易阅读和解释，我决定将每个邮政编码与其相对的地区名称结合起来。这一步对于最终用户获得满意的结果至关重要。</p><p id="8327" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了定义每个地区的位置，我将使用OpenCageData确定每个地区中心的纬度和经度。</p><p id="3744" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这个API允许基于纬度和经度或地址搜索和获取地理信息。我将使用每个地区的邮政编码来扩展我们的数据框架。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/9cf7a41ab53cfb5bc52800c6edf9db57.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/0*nmchZoVvaIlugPKm"/></div></figure><p id="020a" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">拥有每个地区的纬度和经度有助于未来更深入的分析，例如离市中心的距离，这是一个可能影响公寓价格的独立变量。</p><p id="f060" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">然而，为了这个项目的目的，更重要的是扩展属性的数据库，将每个公寓与其地理坐标合并。</p><h1 id="0050" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">使用OpenCage扩展每个单元的记录</h1><p id="7438" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">我按照同样的过程将地理信息扩展到每个公寓。OpenCage数据允许使用地址作为查询来收集地理规格。</p><p id="ce07" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了获得准确的数据，最好收集以下详细信息:</p><ul class=""><li id="bc3e" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">公寓的纬度</li><li id="68fd" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">公寓的经度</li><li id="780b" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">县</li><li id="8147" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">完整的邮编</li><li id="82e3" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">州立区</li><li id="f2e2" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">郊区</li></ul><p id="7c82" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">完成这一重要步骤后，数据集如下所示:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/1886f9762ebbd086a567d11fe898918d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fdFffh0L3V6Cq4s_"/></div></div></figure><p id="f0e5" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了确保每个地址都与正确的一系列新信息合并，我使用“I”列作为“标志”。</p><p id="d9d8" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这个解决方案允许我再次检查以前的索引是否与新索引匹配，这意味着我删除了缺少关键数据的记录。</p><p id="27aa" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">列说明:</p><ul class=""><li id="2847" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">地区名称</li><li id="397f" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">纬度<em class="lk">和</em>经度:纬度和“区名”的lng</li><li id="e421" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">Address_y:我们将删除的原始地址的副本。我用它来确保数据帧被正确合并</li><li id="e89c" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">纬度_a <em class="lk">和</em>经度_a:平台的纬度和lng。</li><li id="fe8a" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">县</li><li id="e09a" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">邮政编码_完整:原始邮政编码的扩展</li><li id="a1d6" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">州_区</li><li id="7a38" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">郊区</li></ul><h1 id="ac2e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">four square API——找到每个公寓附近最常见的场地</h1><p id="91bc" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这一步对于聚类市场训练K均值模型至关重要。</p><p id="baf8" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">我们将使用Foursquare API收集Rightmove上发布的每个公寓周围500米半径范围内的前100个最常见的场地。</p><h1 id="6b59" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">地址和地点</h1><p id="4fcb" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">下表显示了为数据集中的前三条记录收集的场馆数量:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/3561bce8fc582fce8b98247b8921a6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3KFMNqA1lC8r59z_"/></div></div></figure><p id="d685" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">在这种情况下，前3个记录对流程没有特别的意义，但是，相信我，一些地址附近有大量的场馆。</p><p id="f42e" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">需要注意的是，我们现在使用的是分类变量。分类变量是一种变量，它可以取有限的、通常是固定数量的可能值中的一个，根据某些定性属性将每个个体或其他观察单位分配给特定的组或名义类别。</p><p id="57ed" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">新的数据集包含与每个公寓相关的每个场馆类别的记录(这意味着在439个唯一的场馆类别中，每行仅包含“1”)。因此，表格的形状是44.637行和443列。</p><p id="df91" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了使分析更快，我将只考虑前20个最常见的场所，这些将用于开发聚类分析。</p><p id="e69f" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">最后，我获得了一个可用于我的目的的数据集！</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/09864ad37821c47c9b3867eea2de83c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BA6T1MQjhdwa-pbA"/></div></div></figure><h1 id="79f2" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">使用K-均值聚类</h1><p id="6a08" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">现在，我已经掌握了按地理相似性细分市场所需的所有信息。是时候把它分成簇了。</p><p id="a8c1" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">我要用K-Means算法。</p><p id="4ca3" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">K-Means算法是最流行的无监督机器学习算法之一。通常，无监督算法使用未标记的数据集进行推理。这种无监督机器学习技术的目标是找到数据点中的相似性，并将相似的数据点分组在一起。K-Means聚类算法旨在将n个观察值划分为K个聚类，其中每个观察值属于具有最近均值的聚类，作为该聚类的原型。</p><p id="3340" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">一种确定最佳k的方法被称为“肘法”。</p><p id="bf63" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><em class="lk">“肘形”方法通过用一系列k值拟合模型，帮助数据科学家选择最佳聚类数。如果折线图类似于手臂，则“肘形”(曲线上的拐点)很好地表明底层模型最适合该点。</em></p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/e97f5f4d04a2ff58cd4b4b28ece3b5f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MTKjHyV5z0qz7rJw"/></div></div></figure><p id="44ae" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">不幸的是，肘部不是绝对清晰的，为“k”选择一个较高的值会对项目的目标产生反作用。经过几次测试后，我决定使用k = 20，因为每个分类中的报价数量看起来更均匀地分布在模型中，尽管一些分类包含少量的属性。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/8d4800a964e18b66f634512c1a866367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gxGMHGSETSaRnxtf"/></div></div></figure><h1 id="d024" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">伦敦集群分布图</h1><p id="77ad" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">为了显示没有通过密度或地理接近度来识别的集群，我绘制了一张市场地图。每种颜色代表一个特定的集群，每个点代表一个可用的属性及其地理位置。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/2d410d74b41470c4777e3cda2f6c6188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*USWdXkmBx6u0voOW"/></div></div></figure><h1 id="a616" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">住房市场——供暖图</h1><p id="d17e" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">绘制加热图以确定提供较高数量报价的区域是很有意义的。由于市场的高度活跃，这种特殊的观点每天都在变化。</p><p id="9787" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">具有历史记录时间序列的数据集可能有助于识别是否存在任何季节性现象或活动高峰。</p><p id="905a" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">另一个有趣的分析是调查住房市场和英国退出欧盟公告之间的关系。英国退出欧盟是否加速了房地产市场的周期，促进了大量短期租赁协议，以应对外国公民在该国未来的更大不确定性？</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/7d64569c874ebad8c1ba902de3397c4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GOda7tDN6Yr4eb3I"/></div></div></figure><p id="7094" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">在我看来，看着供暖图，伦敦东区有些地方非常冷。这可能是由于Rightmove用于向特定用户显示优惠的算法。事实上，查询网站寻找伦敦的报价(没有任何其他附加说明)，它显示有30，805个结果。</p><p id="9f58" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">实际上，每页有25个报价发布到用户可读的42页中，这意味着总共有1050个可用报价(与我在本报告中分析的报价数量相同)。</p><h1 id="c57a" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">按地区划分的一居室公寓的平均价格</h1><p id="3b9f" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在对市场进行简要分析后，我相信对读者来说，对该地区5种最常见的公寓类型的平均价格有一个总体的了解是有帮助的。</p><p id="86ae" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">伦敦一室公寓价格的标准差为378，1329，平均价格为1.233，09。我计算变异系数来比较公寓的类型和价格。</p><p id="6f45" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">变异系数(CV)，也称为相对标准偏差(RSD)，是概率分布或频率分布离差的标准化度量。它通常用百分比表示，定义为标准偏差与平均值(或其绝对值)的比值。</p><p id="f01c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">在这种情况下，变异系数等于0，306653。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/d09d777c096074f4ba3b300ed4baa10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kHaOXTEDzOEyoRlp"/></div></div></figure><h1 id="8892" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">按地区划分的一居室公寓的平均价格</h1><p id="5ac5" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">伦敦一居室公寓价格的标准差为561，9852英镑，平均价格为1.468，28英镑。</p><p id="e0b8" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">变异系数等于0，382750</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/a5d435ba6f0d8bc20ada3dce6b35d589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e5q91ABhxEgQLiC4"/></div></div></figure><h1 id="0d48" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">按地区划分的两居室公寓的平均价格</h1><p id="9231" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">伦敦一套两居室公寓价格的标准差为949，9799英镑，平均价格为2.050，92英镑。</p><p id="7cbb" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">变异系数等于0.463196。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/5ffa5e88d951df0503532bf8bded4610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W-N3gzPtkTKEZ4-w"/></div></div></figure><h1 id="d0ae" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">按地区划分的三居室公寓的平均价格</h1><p id="c290" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">伦敦一套三居室公寓价格的标准差为2.4491497，平均价格为2.89265。</p><p id="a653" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">变异系数等于0.846678。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/7607a9fc969889cae54894f8c6800af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*35GuMO0m_ambbWJG"/></div></div></figure><h1 id="93ab" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">按地区划分的4居室公寓的平均价格</h1><p id="152a" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">伦敦一套4居室公寓价格的标准差为5.1765294，均价为4.89159。</p><p id="a16c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">变异系数等于1，058249。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/d9b3deef7b86768e5fea35963809726c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*52KYdFmqz4M_zwQz"/></div></div></figure><h1 id="b183" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">价格随卧室数量的变化趋势</h1><p id="24be" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在上面的图表中，我想强调的是价格的变化超过了卧室数量的比例。这意味着，对于小公寓和单间公寓，地区对月租金的影响较弱。当然，这只是对这一现象的简要分析，因为正如我们之前所显示的，公寓类型在各个地区的分布并不均匀，但仍然是对市场趋势的一个很好的洞察。</p><p id="a049" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">在下面显示卧室数量价格分布的箱线图中，很容易识别异常值的存在，通常与位于南肯辛顿、切尔西或梅菲尔区的公寓相关。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/f623d7877a2b4890ac2b2ea8ff05e8cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vQon0ouVyl27bsKa"/></div></div></figure><p id="e434" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这种市场行为可能有几个原因:</p><ul class=""><li id="bca7" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">与平均工资相比，一室公寓或一居室公寓的价格太高，人们很难负担得起，这一事实使其在市场上缺乏吸引力。</li><li id="6f66" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">这些公寓很旧，维护很差</li><li id="c8dc" class="lb lc hi jv b jw ll ka lm ke ln ki lo km lp kq lg lh li lj bi translated">租房者更喜欢通过其他渠道发布这一特定类别的公寓</li></ul><p id="00f9" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">而且。</p><h1 id="0ee0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">财富分配</h1><p id="1f92" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">对房地产市场的分析反映了伦敦金融城的财富分布。伦敦财富所有权的分配比收入分配更不均衡。为了量化社会不平等，通常使用基尼系数。</p><p id="894a" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">统计洞察力介于0和1之间，0表示完全平等的人口，在这种情况下，这意味着每个人都拥有相同的财富水平，1表示完全不平等，即所有财富都归一个人所有。换言之，基尼系数越高，不平等程度越高。伦敦的基尼系数为0.67，而英国整体为0.61。伦敦收入的基尼系数是0.37，低得多。</p><p id="2670" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">伦敦的收入和收益与房价上涨同步吗？</p><p id="32ae" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><a class="ae iu" href="http://www.demographia.com/dhi.pdf" rel="noopener ugc nofollow" target="_blank"> Demographia的国际住房负担能力年度调查显示，按照国际标准，伦敦的房价倍数很高。中值倍数的计算方法是<em class="lk">中值房价</em>除以<em class="lk">中值家庭收入</em>，表示住房市场的可负担性/不可负担性。根据2018年第三季度的全国数据，伦敦(大伦敦当局)在91个主要大都市市场中排名第十，估计中位数倍数为8.1。</a></p><h1 id="66d0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">最终输入</h1><p id="a6a7" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这一分析的目的不仅是让人们了解伦敦的租房情况，还提供了一种根据他们的需求筛选市场的方法。</p><p id="56e7" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">我上传到GitHub上的知识库包含一个Jupyter笔记本，上面有整个市场分析过程，最后还有一个单元格，允许输入一些偏好，比如用户感兴趣的场馆地址、房间数量和最大预算。</p><p id="0167" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">用户提交信息后，算法会分析地址，并提供一个按地点相似性过滤的报价列表。</p><h1 id="3e22" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结论</h1><p id="2245" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">我开发这个项目是为了再次测试我在实现基于数据的解决方案时面对业务问题的能力。整个过程都是用Python开发的，所有的文档、截图和我使用的数据都可以在GitHub上找到。</p><p id="e640" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">如果人们能够做出明智的决定，他们可以取得更好的结果。提供做出明智决策的方法对于未来无资源浪费的场景至关重要。</p><h1 id="7c63" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">谢谢大家！</h1><p id="9912" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">参考资料:</p><p id="9be2" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">[1]https://www.rightmove.co.uk/<a class="ae iu" href="https://www.rightmove.co.uk/" rel="noopener ugc nofollow" target="_blank"/></p><p id="4088" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">[2] <a class="ae iu" href="https://en.wikipedia.org/wiki/London_postal_district" rel="noopener ugc nofollow" target="_blank">维基百科伦敦邮政区</a></p><p id="70b9" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">[3] <a class="ae iu" href="https://github.com/toby-p/rightmove_webscraper.py" rel="noopener ugc nofollow" target="_blank">向右移动刮刀</a></p><p id="2c2e" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">[4] <a class="ae iu" href="https://it.foursquare.com/" rel="noopener ugc nofollow" target="_blank"> Foursquare API </a></p><p id="141c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">[5] <a class="ae iu" href="https://opencagedata.com/" rel="noopener ugc nofollow" target="_blank"> OpenCageData API </a></p></div></div>    
</body>
</html>