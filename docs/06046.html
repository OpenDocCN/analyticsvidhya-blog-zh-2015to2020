<html>
<head>
<title>Linear Regression — Dummy Variable Trap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归-虚拟变量陷阱</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/linear-regression-dummy-variable-trap-8964a83516d9?source=collection_archive---------3-----------------------#2020-05-10">https://medium.com/analytics-vidhya/linear-regression-dummy-variable-trap-8964a83516d9?source=collection_archive---------3-----------------------#2020-05-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ea058aeaf5a3b6bf0b569a48262dfeeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oGCWEnkXlg383wFVq8Qbiw.png"/></div></div></figure><h1 id="1bf2" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">先决条件</h1><ul class=""><li id="3095" class="jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf bi translated"><a class="ae kg" rel="noopener" href="/analytics-vidhya/machine-learning-data-prepossessing-661d18f063c3">机器学习—数据预处理</a></li></ul><h1 id="7eeb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">概观</h1><p id="95e6" class="pw-post-body-paragraph kh ki hi jq b jr js kj kk jt ju kl km jv kn ko kp jx kq kr ks jz kt ku kv kb hb bi translated">以下是我们将在博客中涉及的主题:</p><ul class=""><li id="f69b" class="jo jp hi jq b jr kw jt kx jv ky jx kz jz la kb kc kd ke kf bi translated">什么是虚拟变量陷阱？</li><li id="46f5" class="jo jp hi jq b jr lb jt lc jv ld jx le jz lf kb kc kd ke kf bi translated">说明</li><li id="9624" class="jo jp hi jq b jr lb jt lc jv ld jx le jz lf kb kc kd ke kf bi translated">虚拟变量陷阱试验</li></ul><h1 id="251d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">什么是虚拟变量陷阱？</h1><p id="cc76" class="pw-post-body-paragraph kh ki hi jq b jr js kj kk jt ju kl km jv kn ko kp jx kq kr ks jz kt ku kv kb hb bi translated">在线性回归模型中，为了创建可以推断特征(具有分类数据)和结果之间关系的模型，我们使用虚拟变量技术。</p><p id="5dc8" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">“虚拟变量”或“指标变量”是一种人为变量，用于表示具有两个或更多不同类别/级别的属性。</p><p id="9984" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">虚拟变量陷阱是在添加虚拟变量后独立变量变得多重共线的情况。</p><p id="8d6f" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">多重共线性是两个或多个变量高度相关的现象。简而言之，这意味着一个变量的值可以从其他变量的值中预测出来。</p><h1 id="36ce" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">说明</h1><p id="f4a7" class="pw-post-body-paragraph kh ki hi jq b jr js kj kk jt ju kl km jv kn ko kp jx kq kr ks jz kt ku kv kb hb bi translated">为了更好地理解这个场景，我将用一个例子来解释它。让工资成为性别的函数。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/ce4fb75a08e738a397ff660f718ec74c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P3BGW3HmNl63TSoKe-W0_A.png"/></div></div></figure><p id="e5c3" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">对于线性回归，数学方程将:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/c33d24243f3f03d86a5b5b12492b9d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXjMtCbonngA1FgY01eBog.png"/></div></div></figure><p id="3480" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">假设在我们的数据中，可能的性别值是:</p><ul class=""><li id="47ea" class="jo jp hi jq b jr kw jt kx jv ky jx kz jz la kb kc kd ke kf bi translated">男性的</li><li id="7e03" class="jo jp hi jq b jr lb jt lc jv ld jx le jz lf kb kc kd ke kf bi translated">女性的</li></ul><p id="56ac" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">首先，我们将在数据集中添加以下两个虚拟变量(两列):</p><ul class=""><li id="0a60" class="jo jp hi jq b jr kw jt kx jv ky jx kz jz la kb kc kd ke kf bi translated">男性的虚拟变量为DM</li><li id="17b2" class="jo jp hi jq b jr lb jt lc jv ld jx le jz lf kb kc kd ke kf bi translated">女性的虚拟变量将是DF</li></ul><p id="529e" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">现在，线性回归方程将是:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/a08daebea5d0809cfef5d753c1177aeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1a_hFdATfJUx1d3YU2xb3Q.png"/></div></div></figure><p id="2254" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">为了向您展示虚拟变量陷阱，我将创建一个包含任意值的表。为了简单起见，我认为所有常量的值都等于1。</p><p id="63bb" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">在下表中，如果性别为男性，则“男性”列的值将为1，“女性”列的值将为0。此外，如果性别为女性，则“男性”列的值将为0，“女性”列的值将为1。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/947de0f2aec59355a809bc894d13da65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0P7667hxXG6GGkv7WxCCxg.png"/></div></div></figure><p id="cd06" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">让我们通过添加男性和女性列中的值来引入一个列，并使其成为数据集的一部分，以便清楚地看到问题。此后，数据集将变成:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/913551d5effd3af491a1b17f5d60b72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ft5zIXkBBd82CgjE5eTgnw.png"/></div></div></figure><p id="52ac" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">现在，您可以看到“常量”和“计算列”的值完全相同。这打破了线性回归的假设，即观测值应该相互独立，这就是我们所说的虚拟变量陷阱。通过在数据中添加所有虚拟变量，我们已经损害了回归模型的准确性。</p><p id="4c04" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">为了避免伪变量陷阱，我们应该总是比分类数据中存在的类别总数(n)少添加一个(n-1)伪变量，因为第n个伪变量是多余的，因为它没有携带新信息。</p><p id="4bfa" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">让我们从等式中去掉一个虚拟变量，那么新的等式将是:</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/6f17539526587883f899fbbe3eaf22c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-1C4Rsrwn7AXSw2pXPhwQ.png"/></div></div></figure><p id="42bc" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">这里，如果“DM”的值是1，那么它表示男性，如果它的值是0，那么它表示女性。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/a1cb17cdafbeed961713054ca502b48b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ZilvNHJlMAAy_mXbkNGpQ.png"/></div></div></figure><p id="fa30" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">我们不必添加新列，因为我们只有一个虚拟列，我们可以看到它的值不同于常量列。</p><p id="98ea" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">所以伙计们，我们已经成功避免了虚拟变量陷阱。</p><h1 id="8f91" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">虚拟变量陷阱试验</h1><p id="881b" class="pw-post-body-paragraph kh ki hi jq b jr js kj kk jt ju kl km jv kn ko kp jx kq kr ks jz kt ku kv kb hb bi translated">为了检查数据集是否存在虚拟变量陷阱，我们将自变量矩阵(X’)的转置与自变量矩阵(X)相乘，然后计算其行列式。如果</p><ul class=""><li id="66d1" class="jo jp hi jq b jr kw jt kx jv ky jx kz jz la kb kc kd ke kf bi translated">行列式为0，那么我们面对的是虚拟变量陷阱场景。</li></ul><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/fd27a9a2d57bf765776626afca8884a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBGrInk9vJqCKfVk69OV3g.png"/></div></div></figure><ul class=""><li id="4b27" class="jo jp hi jq b jr kw jt kx jv ky jx kz jz la kb kc kd ke kf bi translated">行列式不为0，那么我们就不会面临虚拟变量陷阱的情况。</li></ul><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/d9a883b1f0d49a42ff6c5292e6b4f745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6HxuVcBHUfAaG_CLiS2nw.png"/></div></div></figure><h1 id="b622" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">结论</h1><p id="d902" class="pw-post-body-paragraph kh ki hi jq b jr js kj kk jt ju kl km jv kn ko kp jx kq kr ks jz kt ku kv kb hb bi translated">为了避免伪变量陷阱，在添加伪变量时，我们应该总是比分类数据中存在的类别总数(n)少添加一个(n-1)变量。</p><p id="0603" class="pw-post-body-paragraph kh ki hi jq b jr kw kj kk jt kx kl km jv lg ko kp jx lh kr ks jz li ku kv kb hb bi translated">如果有任何问题或需要澄清，请让我知道。</p></div></div>    
</body>
</html>