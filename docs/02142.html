<html>
<head>
<title>Natural Language Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言程序设计</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/natural-language-programming-5d885923cd4c?source=collection_archive---------22-----------------------#2019-12-02">https://medium.com/analytics-vidhya/natural-language-programming-5d885923cd4c?source=collection_archive---------22-----------------------#2019-12-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if"><p id="755a" class="ig ih hi bd ii ij ik il im in io ip dx translated">自然语言处理帮助机器阅读文本，模拟人类理解情感的能力</p><p id="59bc" class="ig ih hi bd ii ij ir is it iu iv ip dx translated">它用于检测客户对产品或服务等的意见。</p></blockquote><figure class="ix iy iz ja jb jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es iw"><img src="../Images/ccf1e839272f84fa1fb12549d8f0921d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iDBdw_M_lQuB2S3P.jpeg"/></div></div></figure><p id="c381" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">从上一篇博客中，我们了解了如何从亚马逊网站上删除客户评论数据。如果没有浏览我提到的博客，请点击下面的链接</p><p id="b1bd" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><a class="ae kg" rel="noopener" href="/@nandamuridedeepya135/scraping-amazon-reviews-fc13617e0ba1">https://medium . com/@ nandamurideepya 135/scraping-Amazon-reviews-fc 13617 E0 ba 1</a></p><p id="3c4d" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">在这个博客中，我们学习如何从总体评论中理解正面和负面的评论。让我们看看过程</p><p id="7bcf" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">第一步</strong>:先安装库</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kh"><img src="../Images/65f56a40d4169e1a23080d61a9e051f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/0*7ywPOZFSDeq1WLQ1.png"/></div></figure><p id="a828" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤2 </strong>:导入数据集，检查包含的信息、列数和行数</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es km"><img src="../Images/cf27d3fe8340e4ad8a61704c8a3c1c1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/0*gsYZoRCwlgKZxIIb.png"/></div></figure><p id="34b2" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">我们需要通过删除不必要的东西来清理评论，比如URL、多余的空格、表情符号、标点符号、停用词、词干词(比如ing)以及通过用空格分隔单词来将大写字母转换成小写字母，因此我们编写了一个函数来声明所有这些因素。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kn"><img src="../Images/48beb15f48b4456ca68aa2007fc5b131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ENinFzP9qcFmU8gs.png"/></div></div></figure><p id="0086" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj"> <em class="ko">第四步</em> </strong>:新建一列，用于保存已清理的评论。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kp"><img src="../Images/e7faa40999e9ef1ce9d58233619ec082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6jJMOxdKLzdVwBxm.png"/></div></div></figure><p id="f954" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj"> Step-5 </strong>:如果我们想从所有评论中观察到频繁出现的词，我们使用词云。</p><p id="5a66" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">安装单词云</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kq"><img src="../Images/5fea00e5386f691104b84ee2d2bdff42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hjlLP2cxB7qF47-r.png"/></div></div></figure><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kq"><img src="../Images/f94e9abba2367a2633ef7fba947c9380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cQ100ocfVo3n2JTy.png"/></div></div></figure><p id="9cf3" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">从图中我们可以看到，笔记本电脑，mac book pro，MS-office，价值，金钱，电池寿命，价格电池备份，重量轻是所有评论中使用频率最高的词。单词的大小取决于它们在评论中出现的频率。</p><p id="29c6" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤6 </strong>:删除文本之间的' \n '，并相应地连接文本</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/6d58650a0316b8bff35b36585c25b65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*OIPQ5BJ7JZEYKZVu.png"/></div></figure><p id="647d" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤7 </strong>:我们使用记号化将文本分解成更小的元素。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/b3d2fd76355a4a910a4b9880f41b7b8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*NSmm9SpQjujFQXTC.png"/></div></figure><p id="f408" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">第八步</strong>:词干化是产生词根/基本词的形态变体的过程。以便提供有意义的审查见解。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/1df8e6eca8c94ee69bbee70d536e0ccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*ryaUhd1MNSfAaQBr.png"/></div></figure><p id="d95e" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤9 </strong>:我们使用Gensim和语料库为所有评论创建词典</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/7fc8300c85b05307af5213d79e053b53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*vkpVIYyFQ8eunwXC.png"/></div></figure><p id="da83" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤10 </strong>:识别我们需要安装库的文本评论的情绪。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/6c542e3556eed9cae88513e9adb2e425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*rJgRL8FWal6N2ygs.png"/></div></figure><p id="b3df" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj"> Step-11 </strong>:通过将所有评论作为句子发送，编写一个分析情感评分的函数。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es ks"><img src="../Images/73dc45205f04054057e93698176ba72d.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/0*DYyR8sj-EN9UWCWL.png"/></div></figure><blockquote class="kt ku kv"><p id="43fa" class="jj jk ko jl b jm jn jo jp jq jr js jt kw jv jw jx kx jz ka kb ky kd ke kf ip hb bi translated"><strong class="jl hj"> <em class="hi">注:</em> </strong></p></blockquote><ul class=""><li id="1165" class="kz la hi jl b jm jn jq jr ju lb jy lc kc ld ip le lf lg lh bi translated">我们正在计算每个干净评论的复合分数，因为要分析情绪，我们需要评级。</li><li id="403a" class="kz la hi jl b jm li jq lj ju lk jy ll kc lm ip le lf lg lh bi translated">但是提取的数据只包含评论，没有评级，所以遵循情感分析器分数和复合分数。</li></ul><blockquote class="kt ku kv"><p id="d49d" class="jj jk ko jl b jm jn jo jp jq jr js jt kw jv jw jx kx jz ka kb ky kd ke kf ip hb bi translated"><strong class="jl hj"> <em class="hi"> Step-12 </em> </strong> <em class="hi">:比如让我们把一句话的感悟赋予为“</em> <strong class="jl hj"> <em class="hi">苹果笔记本电脑超级惊艳</em> </strong> <em class="hi">”来检验感悟的得分。</em></p></blockquote><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/813ce9be35c93f8f1ad22f65b9ad7e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*wth-0zrZwsSRNBSJ.png"/></div></figure><p id="4103" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤-13 </strong>:我们为所有清理后的评论定义一个函数，计算复合得分</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/f6d5d008973e8cf2bfbeb34c18a0dc2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*-hxZCTQnMfCOicqv.png"/></div></figure><p id="3af5" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤-14 </strong>:为了划分文本的情感，我们对复合得分取一定的阈值。</p><p id="19c9" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">我们以复合得分为参考，并指定某个阈值为0.5，定义“得分&gt; 0.5为正面”，“得分&lt;0.5 as Negative”, “Score=0.5 as Neutral”.</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es ln"><img src="../Images/190e7cf5f99bf79d51b618ea263730c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/0*QHXj4DKUR-4BuNxh.png"/></div></figure><p id="b029" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤-15 </strong>:现在我们存储正面评价和负面评价</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es lo"><img src="../Images/93024ba0ea3e3538ad16e241b18df80d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/0*jYWnHpGIebWiV5GV.png"/></div></figure><p id="152f" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">第16步</strong>:现在检查评论中的前20个正面和负面词汇。这不是强制性的只检查20个，你可以想检查多少就检查多少。但是我只拿20块</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es lp"><img src="../Images/a9746380bc8db6f358bc47f129fd521b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/0*0VnV52vkXATX-WjI.png"/></div></figure><p id="8f2e" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤-17 </strong>:现在检查从正负和负正中移除的单词的值</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es lq"><img src="../Images/4874abb771e8902fe5917b41bd3e1964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/0*C7TRyScT3plM5juK.png"/></div></figure><p id="befe" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj"> Step-18 </strong>:定义一个函数，检查所有前20个正负词的图形</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es lr"><img src="../Images/a57fd778401db44196866b8eb6a72bbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/0*q9Ea17dxF3iMVtiT.png"/></div></figure><p id="3339" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">输出</strong>:</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es ls"><img src="../Images/1767acd71b1f636fea6ec3ed751c3b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/0*cXNBsre3iUd3mPs4.png"/></div></figure><p id="5bb8" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">第19步</strong>:我们对正面和负面评论进行二元语法和三元语法分析，以检查评论中有意义的见解。这在unigram中并不常见</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/f6bfa4011e3260f9bf4e1e05751a81d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rxABqKbbwI-WWiwr.png"/></div></div></figure><p id="af08" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">在上面的代码中，如果我们改变“n”的值，</p><ul class=""><li id="5fcf" class="kz la hi jl b jm jn jq jr ju lb jy lc kc ld ip le lf lg lh bi translated">如果n=1，那么它是一元文法</li><li id="7ee4" class="kz la hi jl b jm li jq lj ju lk jy ll kc lm ip le lf lg lh bi translated">如果n=2，那么它就是二元模型</li><li id="8d21" class="kz la hi jl b jm li jq lj ju lk jy ll kc lm ip le lf lg lh bi translated">如果n=3，那么它是三元模型等等。</li></ul><p id="45ec" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">根据二元模型和三元模型绘制图表。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/bf1d1e69fb171d222ab524b06f21275d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hQbvLvLlXy3v6Hhb.png"/></div></div></figure><blockquote class="kt ku kv"><p id="8fcd" class="jj jk ko jl b jm jn jo jp jq jr js jt kw jv jw jx kx jz ka kb ky kd ke kf ip hb bi translated"><strong class="jl hj"> <em class="hi">注</em> </strong> <em class="hi">:三卦图遵循相同的代码。</em></p></blockquote><p id="775d" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">步骤20: </strong>我们使用词云来查看清洗后的评论中最常出现的正面词和负面词。</p><p id="ea03" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">将情绪改为消极的，以便发现消极的词语。</p><figure class="ki kj kk kl fd jc er es paragraph-image"><div class="er es kr"><img src="../Images/4287ceeeb976174066aabed02abf5f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*pzKc5WfMxBAzTvii.png"/></div></figure><blockquote class="kt ku kv"><p id="3a5d" class="jj jk ko jl b jm jn jo jp jq jr js jt kw jv jw jx kx jz ka kb ky kd ke kf ip hb bi translated"><strong class="jl hj"> <em class="hi">注:</em> </strong> <em class="hi">使用以上代码查找为负面评价。</em></p></blockquote><p id="a7b5" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">通过这种方式，我们将分析每一个顾客评论的情绪。🙂</p></div></div>    
</body>
</html>