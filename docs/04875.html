<html>
<head>
<title>Recommendation system for capital investments in Bangalore City.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">班加罗尔市资本投资推荐系统。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/recommendation-system-for-capital-investments-in-bangalore-city-fd3251e0b82e?source=collection_archive---------23-----------------------#2020-04-03">https://medium.com/analytics-vidhya/recommendation-system-for-capital-investments-in-bangalore-city-fd3251e0b82e?source=collection_archive---------23-----------------------#2020-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3a07a9cf65fd78cbe8aef1c04a07d094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X5pPqEuItZ3HStvzNSrYuw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自<a class="ae iu" href="https://pixabay.com/photos/manhattan-empire-state-building-336708/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><blockquote class="iv iw ix"><p id="9c0a" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hj">简介:</strong></p></blockquote><p id="0317" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">班加罗尔是一个特大城市，是印度第三大人口稠密城市和第五大人口稠密城市。Bengaluru有时被称为“印度的硅谷”(或“印度的IT之都”)，因为它是该国领先的信息技术(IT)出口商。印度技术机构ISRO、印孚瑟斯、威普罗和哈尔的总部都设在这座城市。作为一个人口多样化的城市，班加罗尔是印度发展第二快的大都市。孟加拉鲁鲁拥有世界上教育程度最高的劳动力。它是许多教育和研究机构的所在地，如印度科学研究所(IISc)、印度管理学院(班加罗尔)(IIMB)、班加罗尔国际信息技术学院(IIITB)、班加罗尔国家时装技术学院。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/0621f579f156991eafa16409da8ea597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-3wkVOwSyc18uhiM9GmBQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://www.macrotrends.net/cities/21176/bangalore/population" rel="noopener ugc nofollow" target="_blank">宏观趋势</a></figcaption></figure><p id="7fec" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">如上图所示，我们可以观察到班加罗尔市的人口每年都在急剧增长。随着人口的增长，这也导致了商业的增长。作为一个发达的城市，它每天都吸引着大量的投资者。由于残酷的竞争，新投资者将很难生存。为了生存，他们需要在这样一个竞争很少或没有竞争的地区建立自己的企业，这样他们就可以专注于自己的业务而不受竞争对手的干扰。因此，为了解决这个问题，我们将使用机器学习算法和Foursquare API来获得班加罗尔各种公寓、餐厅、商场、咖啡馆的详细信息，以及它们的精确纬度和经度(如下所示)。</p><blockquote class="iv iw ix"><p id="9552" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">那么谁能从这项工作中受益呢？</p></blockquote><ul class=""><li id="a8cc" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw kk kl km kn bi translated"><strong class="jb hj"> <em class="ja">投资者</em> </strong>正在寻找竞争最小化的最佳创业地点的投资者，需要看看他们的竞争对手是谁？以及他们居住的半径范围。通过这个项目，他们可以找到已经建立了类似业务的领域，通过美国提供的评论，新投资者可以找到他的同行所缺乏的东西，帮助他在这些领域取得进步。</li><li id="a11b" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw kk kl km kn bi translated">这个城市的人口与日俱增，即使找一套新公寓也成了一件费力的工作。我们可以根据他们的需求帮助他们选择公寓，通过选择他们想要的周围环境，我们提供公寓周围所有场所的详细信息，如餐厅、购物中心、公园、咖啡馆、动物园等，</li></ul><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/da6f0bf05d5a3856c949d5e45c62c04f.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*3wg4HUlDrLI4-MpdgmloWw.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/view/luke-skywalker-im-here-to-rescue-you-starwars-luke-skywalker-rescue-luke-leia-cell-gif-12117318" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure><blockquote class="iv iw ix"><p id="b08b" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hj">如何？？</strong></p></blockquote><p id="342d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">在我们的项目中，我们将通过向企业家推荐最佳创业地点来为他们提供帮助，具体包括:</p><ol class=""><li id="5e8d" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">在那个领域有竞争对手吗？如果是的话，他们的业务是如何运作的？</li><li id="a983" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">利用他们的竞争对手收到的评论，我们可以提供关于他们需要更加专注于其业务的领域的关键见解，以战胜他们的同行。</li><li id="ce64" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">利用我们已有的数据，我们可以通过给出一些新的规格来预测新公寓的价格。</li><li id="b555" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">建筑规格，如建筑面积、停车位等。</li><li id="8531" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">提供关于周围地区的细节，例如，一个愿意建立一个美食街的人希望他的生意在一个完全拥挤的地区，那里有许多IT公司、大学等..可能住在。</li><li id="ff54" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">影响价格上涨的参数是什么？</li><li id="3b29" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">我的公寓离餐馆有多远？</li></ol><p id="21a3" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">同样，我们可以帮助那些搬迁到班加罗尔的人，考虑到你是第一次搬到班加罗尔市。你可能不知道班加罗尔，在那里没有任何关系，所以你很难在那里定居。因此，为了解决这个问题，我们将使用机器学习算法和Foursquare API来获得班加罗尔各种公寓的详细信息以及它们的精确纬度和经度(如下所示)。现在为了选择最好的公寓，你需要考虑以下事实:</p><ol class=""><li id="d7b8" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">我的办公室离公寓有多远？</li><li id="fc18" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">公寓附近有餐馆吗？。</li><li id="ae2d" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">附近有咖啡馆吗？</li><li id="d4ba" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">影响价格上涨的参数是什么？</li><li id="03b9" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">他们“准备好行动”了吗？如果没有，我什么时候可以搬进公寓？</li><li id="93e4" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">公寓的平方英尺是多少？</li><li id="79e6" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">我能在离我公寓多远的地方找到一个羽毛球场？</li></ol><blockquote class="iv iw ix"><p id="15ef" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hj">主意！！</strong></p></blockquote><p id="54e4" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将使用Foursquare API  来提取班加罗尔市所有餐馆、咖啡馆、公园、酒店和购物中心的详细信息。这些细节包括建筑物的位置、规格、评论和评级。稍后，我们将对提取的评论应用机器学习技术，以收集上述重要见解。为了收集空置公寓的详细信息，我使用了免费提供的数据集，其中包含班加罗尔市周围所有公寓的详细信息及其规格。对于这个数据集，我添加了纬度和经度坐标，使其易于绘制，后来我在这个数据集上运行Foursquare API，以找到公寓周围最著名的地方。使客户更容易选择更合适的公寓来满足他的标准。</p><blockquote class="iv iw ix"><p id="9590" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hj">要求:- </strong></p></blockquote><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/e51c7c5a65569fe50161be3a68709343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JNG7_OvmRnj7wo63y7ZFig.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">数据集来源:<a class="ae iu" href="https://www.kaggle.com/amitabhajoy/bengaluru-house-price-data" rel="noopener ugc nofollow" target="_blank"> Kaggle </a></figcaption></figure><blockquote class="iv iw ix"><p id="43f8" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hj">方法论&amp;执行:- </strong></p></blockquote><p id="bd30" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我用python做数据分析和数据可视化。为了预测价格，我使用了一些机器学习算法。</p><p id="a0af" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">让我们开始编码部分</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/2fbe38ae48ed114597cfa23d6231b6a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*6255h3SvsbhquJSEoZd2Fw.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/view/bruce-almighty-keyboard-warrior-comedy-jim-carrey-angry-gif-3393582" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure><p id="1c1e" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—导入所需的库:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="6070" class="lb lc hi kx b fi ld le l lf lg">import os # Operating System<br/>import numpy as np<br/>import pandas as pd<br/>import datetime as dt # Datetime<br/>import json # library to handle JSON files</span><span id="6dbd" class="lb lc hi kx b fi lh le l lf lg">#!conda install -c conda-forge geopy --yes<br/>from geopy.geocoders import Nominatim # convert an address into latitude and longitude values</span><span id="f6f6" class="lb lc hi kx b fi lh le l lf lg">import requests # library to handle requests<br/>from pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe</span><span id="8ae9" class="lb lc hi kx b fi lh le l lf lg"># Matplotlib and associated plotting modules<br/>import matplotlib.cm as cm<br/>import matplotlib.colors as colors</span><span id="738d" class="lb lc hi kx b fi lh le l lf lg">#!conda install -c conda-forge folium=0.5.0 --yes<br/>import folium #import folium # map rendering library</span></pre><p id="da42" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—读取<a class="ae iu" href="https://www.kaggle.com/amitabhajoy/bengaluru-house-price-data" rel="noopener ugc nofollow" target="_blank"> <strong class="jb hj">数据集</strong> </a>:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="d0d5" class="lb lc hi kx b fi ld le l lf lg"># Reading The DataSet<br/>df_bglr=pd.read_csv("Bengaluru_House_Data.csv")<br/>df_bglr.head()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/5f3037dfb930a24c655a39e7c7d728a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6_NtvuF9rgWWFuFrl2O8ew.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1:数据集的图像</figcaption></figure><p id="6931" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—在<strong class="jb hj">图1 </strong>中，我们没有公寓的纬度和经度值。为了提取公寓附近的餐馆和购物中心的细节，我们需要它们的确切位置，因为我们需要纬度和经度的值。现在我们将在上面的数据集中添加两个空列纬度和经度。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="e6b4" class="lb lc hi kx b fi ld le l lf lg"># Adding Latitude and logitude columns for our later use<br/>df_bglr["latitude"]=np.NaN<br/>df_bglr["longitude"]=np.NaN<br/>for i in range(0,13320):<br/>    df_bglr["latitude"]="a"<br/>    df_bglr["longitude"]="a"</span></pre><p id="1646" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—现在，为了提取纬度和经度的细节，我们将使用一个名为Nominatim的地理定位服务，它有自己的类别<strong class="jb hj">地理编码器</strong>。示例:-让我们获取班加罗尔市的纬度和经度</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="10f2" class="lb lc hi kx b fi ld le l lf lg">from geopy.geocoders import Nominatim</span><span id="d8b1" class="lb lc hi kx b fi lh le l lf lg">address = 'Bangalore, KA'</span><span id="3da8" class="lb lc hi kx b fi lh le l lf lg">geolocator = Nominatim(user_agent="bg_explorer")<br/>location = geolocator.geocode(address)<br/>latitude = location.latitude<br/>longitude = location.longitude<br/>print('The geograpical coordinate of Bangalore City are {}, {}.'.format(latitude, longitude))</span></pre><p id="b4ba" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">输出:-" <strong class="jb hj">班加罗尔市地理坐标为12.9791198，77.5912997。</strong></p><p id="11a6" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—我们将重复类似上面的任务，并收集所有公寓的所有纬度和经度的细节。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="05d4" class="lb lc hi kx b fi ld le l lf lg">df_bglr_tail_venues=df_bglr["location"]<br/>df_bglr_tail_venues=df_bglr_tail_venues.unique() <strong class="kx hj">#extracting only the unique locations</strong><br/>#print(len(df_bglr_venues))<br/>j=0<br/>for i in df_bglr_tail_venues: <strong class="kx hj">#Updating the values of latitude and longitudes by iterating over the dataset</strong><br/>    address_venue=i<br/>    print(i)<br/>    geolocator = Nominatim(user_agent="bg_explorer")<br/>    location = geolocator.geocode(address_venue,timeout=10000)<br/>    if location !=None:                <strong class="kx hj">#Taking only values without null location values #Foursquare May not find the location for all locations so we are removing such undefined locations</strong><br/>        print(location.latitude) <br/>        df_bglr.at[j,"latitude"] = location.latitude<br/>        df_bglr.at[j,"longitude"]= location.longitude<br/>        j=j+1</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/e3fe805c926c73d3b148d7a890793dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ijYsjuQIK0OjMen2vcP0g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图2:各个区域的纬度和经度值</figcaption></figure><p id="44e0" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—以下是更新纬度和经度列后的数据集:</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/55848ac44bbdef0616f82ce381572a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*37d36Sql0AZ75sK2XBiOWg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图3:更新的数据集</figcaption></figure><ul class=""><li id="afae" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw kk kl km kn bi translated"><strong class="jb hj">数据清理:</strong></li></ul><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/be5ffc7459c209f1f13561d3a8c3ecc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m32JWcnJ9wEBFnevsPfT8g.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图4:数据清理</figcaption></figure><ol class=""><li id="6fa2" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">如图4所示，在列"<strong class="jb hj"> total_sqft </strong>中有一些非数值，我们必须删除它们，否则在数据可视化过程中解释非数值时会出错。</li></ol><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="2741" class="lb lc hi kx b fi ld le l lf lg">df_bglr=df_bglr[df_bglr.total_sqft.apply(lambda x: x.isnumeric())]</span></pre><p id="1033" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">2.<strong class="jb hj"> Foursquare </strong>可能找不到某些位置的纬度和经度值，所以我们正在删除这些未定义的位置</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="81a3" class="lb lc hi kx b fi ld le l lf lg">df_bglr=df_bglr[df_bglr.latitude !='a']</span></pre><p id="e6d6" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">3.丢弃所有NaN值</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="3a92" class="lb lc hi kx b fi ld le l lf lg">df_bglr.dropna(inplace=True)</span></pre><p id="4d17" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi">— — — — — — —</p><ul class=""><li id="0302" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw kk kl km kn bi translated"><strong class="jb hj">数据可视化:</strong></li></ul><p id="23cc" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，我们将通过绘制图表和分析不同属性之间的关系来看到数据的一些可视化。</p><ol class=""><li id="332c" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">Area_type <strong class="jb hj"> vs </strong>价格</li></ol><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="ded8" class="lb lc hi kx b fi ld le l lf lg">import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>plts = pd.read_csv('df_bglr.csv')<br/>sns.catplot(x="area_type", y="price", data=plts);</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/22d4fc293d9fc483392f103b05269f15.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*uPZ8cRkMDybgcjNPf7OxcA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图5:散点图——面积类型与价格</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="3f4a" class="lb lc hi kx b fi ld le l lf lg">sns.barplot(x="area_type", y="price", data=tips);</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/28fc64887aece14d438f2470034196c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*ll4MagYqaGLBmLUkv4ivHA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图6:柱状图——面积类型与价格</figcaption></figure><p id="8d28" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">从<strong class="jb hj">图5 </strong>我们可以看到<strong class="jb hj"/>超建成区<strong class="jb hj"/>与其他区域类型相比，价格区间(0-150)的公寓更多。</p><p id="f563" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">2.户型<strong class="jb hj">与</strong>价格对比</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="4336" class="lb lc hi kx b fi ld le l lf lg">sns.catplot(x="size", y="price", data=tips);</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/eb63772406edd021cbf408c741c7da9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*1fcL9Rvtm6UeTzmoVI9FVQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图7:散点图——价格与大小</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="8646" class="lb lc hi kx b fi ld le l lf lg">sns.boxplot(x="size", y="price", data=tips);</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/aec47237a9e966232cd3b6802ccddb81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*m-sa12JpLYhKMkux8c2EuQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图8:箱线图——价格与尺寸</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="4b84" class="lb lc hi kx b fi ld le l lf lg">sns.barplot(x="size", y="price", data=tips);</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/d18e9c419e73bed12d23d16eeb43ca72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*3kv37STzoA2onJttyDOx5A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图9:柱状图——价格与尺寸</figcaption></figure><p id="c551" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">因此，如果你观察图9，对于5BHK，不清楚有多少公寓，所以如果你观察图8或图7，它清楚地显示只有一个5 BHK公寓可用。因此，不建议只遵循一种可视化技术，我们必须应用所有可用的可视化技术。</p><p id="359d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi">— — — — — —</p><blockquote class="lr"><p id="e043" class="ls lt hi bd lu lv lw lx ly lz ma jw dx translated">让我们开始我们的主要项目吧</p></blockquote><figure class="mb mc md me mf ij er es paragraph-image"><div class="er es kt"><img src="../Images/c22a0d8d91dcd5e2c01b5105df7eb978.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*GxKzUTZfp_KfppC_KXl41A.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/view/adventure-time-jake-lets-do-this-lets-get-on-it-begin-gif-4584221" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure><p id="a387" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj">探索公寓周围的街区</strong></p><ol class=""><li id="4613" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">在班加罗尔城市地图上标出公寓的位置:</li></ol><p id="ba33" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将使用<strong class="jb hj">叶，</strong>来绘制我们的公寓。follow是fleet . js库的一部分，它使我们能够可视化数据。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="6f9e" class="lb lc hi kx b fi ld le l lf lg"># create map of New York using latitude and longitude values<br/>map_bnglr = folium.Map(location=[latitude, longitude], zoom_start=10)</span><span id="d0fb" class="lb lc hi kx b fi lh le l lf lg"># add markers to map<br/>for lat, lng, borough, neighborhood in zip(df_bglr_155['latitude'], df_bglr_155['longitude'], df_bglr_155['society'], df_bglr_155['location']):<br/>    label = '{}, {}'.format(neighborhood, borough)<br/>    label = folium.Popup(label, parse_html=True)<br/>    folium.CircleMarker(<br/>        [lat, lng],<br/>        radius=5,<br/>        popup=label,<br/>        color='blue',<br/>        fill=True,<br/>        fill_color='#3186cc',<br/>        fill_opacity=0.7,<br/>        parse_html=False).add_to(map_bnglr)  <br/>    <br/>map_bnglr</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/3372f9d6aabe49a9ca50494d94ef36f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sTwUI-ptHjtzw2Aarz-mqQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图10:蓝点代表的公寓。</figcaption></figure><p id="57a3" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">2.提取公寓周围的场地:</p><p id="a33e" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将使用Foursquare API <strong class="jb hj"> </strong>提取每个公寓周围场地的细节。Foursquare是一个本地搜索和发现应用程序。这提供了用户位置附近的个性化推荐。 </p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/e9fb7b42e568492356861416b55e30d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*DUcIFfak6oqtc9qwlOHD9w.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://www.coursera.org/professional-certificates/ibm-data-science" rel="noopener ugc nofollow" target="_blank"> Coursera </a></figcaption></figure><p id="db4c" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">要提取指定地点的详细信息，您必须在Foursquare门户网站注册为开发者，请按照以下步骤注册:</p><ol class=""><li id="6691" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw ku kl km kn bi translated">访问Foursquare网站。:<a class="ae iu" href="https://foursquare.com/" rel="noopener ugc nofollow" target="_blank">https://foursquare.com/</a></li><li id="b50c" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">点击左上角的<strong class="jb hj"> Resources </strong> span按钮，选项中会出现一个下拉菜单，点击<strong class="jb hj">开发者门户</strong>您会被重定向到一个注册页面。现在创建一个帐户。</li><li id="db31" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw ku kl km kn bi translated">选择沙盒帐户层，它将具有以下规格，足以满足我们目前的要求。</li></ol><ul class=""><li id="907f" class="kf kg hi jb b jc jd jg jh jx kh jy ki jz kj jw kk kl km kn bi translated">950次常规通话/天</li><li id="0d3b" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw kk kl km kn bi translated">50次高级通话/天</li><li id="0aef" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw kk kl km kn bi translated">每个场馆1张照片</li><li id="0370" class="kf kg hi jb b jc ko jg kp jx kq jy kr jz ks jw kk kl km kn bi translated">每个场馆1个小费</li></ul><p id="2e59" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">4.创建帐户后登录门户网站并创建新的应用程序，您将获得新的<strong class="jb hj">客户端ID &amp;客户端密码。</strong></p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/b611a929631a1b2091eec2165d1e4304.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oo63xGFyKdYz-plQH5VE2g.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图11: Foursquare凭证</figcaption></figure><p id="f68d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—现在复制您的客户端ID和客户端密码，并将它们存储在如下所示的变量中:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="4a75" class="lb lc hi kx b fi ld le l lf lg">CLIENT_ID = 'paste your client ID here, under the Apostrophe' # your Foursquare ID<br/>CLIENT_SECRET = 'paste your client secret here, under the Apostrophe' # your Foursquare Secret<br/>VERSION = '20180605' # Foursquare API version</span></pre><p id="de65" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">— <em class="ja">现在让我们测试一下我们的Foursquare API — </em></p><p id="e68a" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将使用我们的API在<strong class="jb hj"/>电子城二期<strong class="jb hj"/>附近找到场地。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="13ac" class="lb lc hi kx b fi ld le l lf lg">neighborhood_latitude = df_bglr_155.loc[0, 'latitude'] # neighborhood latitude value for "<strong class="kx hj">electroniccityphaseII"</strong><br/>neighborhood_longitude = df_bglr_155.loc[0, 'longitude'] # neighborhood longitude value for "<strong class="kx hj">electroniccityphaseII"</strong></span><span id="f0c9" class="lb lc hi kx b fi lh le l lf lg">neighborhood_name = df_bglr_155.loc[0, 'location'] # neighborhood name</span><span id="ad7c" class="lb lc hi kx b fi lh le l lf lg">print('Latitude and longitude values of {} are {}, {}.'.format(neighborhood_name, <br/>                                                               neighborhood_latitude, <br/>                                                               neighborhood_longitude))</span></pre><p id="7e6e" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj">输出:</strong>电子城二期经纬度值为12.8468545，77.6769267。</p><p id="7725" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在让我们来寻找“<strong class="jb hj">电子城二期</strong>”附近的前<strong class="jb hj"> 6 </strong>场馆。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="4469" class="lb lc hi kx b fi ld le l lf lg">LIMIT = 6# limit of number of venues returned by Foursquare API<br/>radius = 500 # define radius<br/>url = '<a class="ae iu" href="https://api.foursquare.com/v2/venues/explore?&amp;client_id={}&amp;client_secret={}&amp;v={}&amp;ll={},{}&amp;radius={}&amp;limit={}'.format(" rel="noopener ugc nofollow" target="_blank">https://api.foursquare.com/v2/venues/explore?&amp;client_id={}&amp;client_secret={}&amp;v={}&amp;ll={},{}&amp;radius={}&amp;limit={}'.format(</a><br/>    CLIENT_ID, <br/>    CLIENT_SECRET, <br/>    VERSION, <br/>    neighborhood_latitude, <br/>    neighborhood_longitude, <br/>    radius, <br/>    LIMIT)<br/>url</span></pre><p id="8069" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将创建一个JSON文件，并在其中存储排名前50的场馆。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="121a" class="lb lc hi kx b fi ld le l lf lg">results = requests.get(url).json()<br/>results</span></pre><p id="1cb5" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">输出:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="319a" class="lb lc hi kx b fi ld le l lf lg">{'meta': {'code': 200, 'requestId': '5e818d6e98205d001b5b9702'},<br/> 'response': {'suggestedFilters': {'header': 'Tap to show:',<br/>   'filters': [{'name': 'Open now', 'key': 'openNow'}]},<br/>  'headerLocation': 'Current map view',<br/>  'headerFullLocation': 'Current map view',<br/>  'headerLocationGranularity': 'unknown',<br/>  'totalResults': 6,<br/>  'suggestedBounds': {'ne': {'lat': 12.851354504500003,<br/>    'lng': 77.68153362366434},<br/>   'sw': {'lat': 12.842354495499995, 'lng': 77.67231977633566}},<br/>  'groups': [{'type': 'Recommended Places',<br/>    'name': 'recommended',<br/>    'items': [{'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '4e0855c8b61c60b0454a7cbb',<br/>       'name': '<strong class="kx hj"><em class="ja">TCS Think Campus</em></strong>',<br/>       'location': {'address': '#42, Electronic City',<br/>        'crossStreet': 'Phase II',<br/>        'lat': 12.847598224906433,<br/>        'lng': 77.6791380938702,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.847598224906433,<br/>          'lng': 77.6791380938702}],<br/>        'distance': 253,<br/>        'postalCode': '560100',<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['#42, Electronic City (Phase II)',<br/>         'Bangalore 560100',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d174941735',<br/>         'name': 'Coworking Space',<br/>         'pluralName': 'Coworking Spaces',<br/>         'shortName': 'Coworking Space',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/building/office_coworkingspace_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-4e0855c8b61c60b0454a7cbb-0'},<br/>     {'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '4eebe42077c82b92f636bb4f',<br/>       'name': '<strong class="kx hj"><em class="ja">TCS Think Campus Ground</em></strong>',<br/>       'location': {'address': 'Electronic city',<br/>        'lat': 12.848343641377438,<br/>        'lng': 77.67926678752525,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.848343641377438,<br/>          'lng': 77.67926678752525}],<br/>        'distance': 303,<br/>        'postalCode': '560100',<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['Electronic city',<br/>         'Bangalore 560100',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d1e1941735',<br/>         'name': '<strong class="kx hj"><em class="ja">Basketball Court</em></strong>',<br/>         'pluralName': 'Basketball Courts',<br/>         'shortName': 'Basketball Court',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/basketballcourt_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-4eebe42077c82b92f636bb4f-1'},<br/>     {'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '50fe76dde4b06b7ff49c608c',<br/>       'name': 'Coffee Day Xpress',<br/>       'location': {'address': '42, Think Campus- TCS,',<br/>        'crossStreet': 'Electronic City, Phase 2,',<br/>        'lat': 12.848826839267772,<br/>        'lng': 77.67894642513268,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.848826839267772,<br/>          'lng': 77.67894642513268}],<br/>        'distance': 310,<br/>        'postalCode': '560010',<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['42, Think Campus- TCS, (Electronic City, Phase 2,)',<br/>         'Bangalore 560010',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d16d941735',<br/>         'name': '<strong class="kx hj"><em class="ja">Café</em></strong>',<br/>         'pluralName': 'Cafés',<br/>         'shortName': 'Café',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-50fe76dde4b06b7ff49c608c-2'},<br/>     {'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '50fe5c8fe4b0d36cb9d9913d',<br/>       'name': 'Mint-The Kitchen, Think Campus.',<br/>       'location': {'address': '42, Think Campus-TCS',<br/>        'crossStreet': 'Electronic City,  Phase 2',<br/>        'lat': 12.848941327230767,<br/>        'lng': 77.6789602817386,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.848941327230767,<br/>          'lng': 77.6789602817386}],<br/>        'distance': 320,<br/>        'postalCode': '560010',<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['42, Think Campus-TCS (Electronic City,  Phase 2)',<br/>         'Bangalore 560010',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d1d3941735',<br/>         'name': '<strong class="kx hj"><em class="ja">Vegetarian / Vegan Restaurant</em></strong>',<br/>         'pluralName': 'Vegetarian / Vegan Restaurants',<br/>         'shortName': 'Vegetarian / Vegan',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/vegetarian_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-50fe5c8fe4b0d36cb9d9913d-3'},<br/>     {'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '52fe2d9211d2c8e9f718d193',<br/>       'name': 'Foodies Express',<br/>       'location': {'address': 'Electronics City Phase 2',<br/>        'lat': 12.847622629612248,<br/>        'lng': 77.68072608901532,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.847622629612248,<br/>          'lng': 77.68072608901532}],<br/>        'distance': 421,<br/>        'postalCode': '560100',<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['Electronics City Phase 2',<br/>         'Bangalore 560100',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d147941735',<br/>         'name': '<strong class="kx hj"><em class="ja">Diner</em></strong>',<br/>         'pluralName': 'Diners',<br/>         'shortName': 'Diner',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/diner_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-52fe2d9211d2c8e9f718d193-4'},<br/>     {'reasons': {'count': 0,<br/>       'items': [{'summary': 'This spot is popular',<br/>         'type': 'general',<br/>         'reasonName': 'globalInteractionReason'}]},<br/>      'venue': {'id': '4d9d82c0c97a236a82a2be99',<br/>       'name': 'Aastha',<br/>       'location': {'address': '108 Gokul Complex',<br/>        'crossStreet': 'Nr. TCS, Electronic City',<br/>        'lat': 12.849795443905391,<br/>        'lng': 77.6793909072876,<br/>        'labeledLatLngs': [{'label': 'display',<br/>          'lat': 12.849795443905391,<br/>          'lng': 77.6793909072876}],<br/>        'distance': 422,<br/>        'cc': 'IN',<br/>        'city': 'Bangalore',<br/>        'state': 'Karnātaka',<br/>        'country': 'India',<br/>        'formattedAddress': ['108 Gokul Complex (Nr. TCS, Electronic City)',<br/>         'Bangalore',<br/>         'Karnātaka',<br/>         'India']},<br/>       'categories': [{'id': '4bf58dd8d48988d10f941735',<br/>         'name': 'Indian Restaurant',<br/>         'pluralName': 'Indian Restaurants',<br/>         'shortName': 'Indian',<br/>         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/indian_',<br/>          'suffix': '.png'},<br/>         'primary': True}],<br/>       'photos': {'count': 0, 'groups': []}},<br/>      'referralId': 'e-0-4d9d82c0c97a236a82a2be99-5'}]}]}}</span></pre><p id="0ffd" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">你可以在上面的输出中看到场馆<strong class="jb hj"> <em class="ja">高亮显示</em> </strong>。现在，我们将提取每个场馆的详细统计数据:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="1578" class="lb lc hi kx b fi ld le l lf lg"># function that extracts the category of the venue<br/>def get_category_type(row):<br/>    try:<br/>        categories_list = row['categories']<br/>    except:<br/>        categories_list = row['venue.categories']<br/>        <br/>    if len(categories_list) == 0:<br/>        return None<br/>    else:<br/>        return categories_list[0]['name']</span></pre><p id="3144" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi">—</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="2c8d" class="lb lc hi kx b fi ld le l lf lg">venues = results['response']['groups'][0]['items']<br/>    <br/>nearby_venues = json_normalize(venues) # flatten JSON</span><span id="197f" class="lb lc hi kx b fi lh le l lf lg"># filter columns<br/>filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']<br/>nearby_venues =nearby_venues.loc[:, filtered_columns]</span><span id="2f18" class="lb lc hi kx b fi lh le l lf lg"># filter the category for each row<br/>nearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)</span><span id="1769" class="lb lc hi kx b fi lh le l lf lg"># clean columns<br/>nearby_venues.columns = [col.split(".")[-1] for col in nearby_venues.columns]</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/e42be9471caf6f231a29e2bb772d5969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*04hNaxv8_001AE7A-p3_tg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图12:场馆详情</figcaption></figure><p id="9615" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，我们将对所有公寓位置重复相同的过程，并将所有顶级场所存储在一个CSV文件中，以供我们进一步分析。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="a898" class="lb lc hi kx b fi ld le l lf lg">def getNearbyVenues(names, latitudes, longitudes, radius=500):<br/>    <br/>    venues_list=[]<br/>    for name, lat, lng in zip(names, latitudes, longitudes):<br/>        print(name)<br/>            <br/>        # create the API request URL<br/>        url = '<a class="ae iu" href="https://api.foursquare.com/v2/venues/explore?&amp;client_id={}&amp;client_secret={}&amp;v={}&amp;ll={},{}&amp;radius={}&amp;limit={}'.format(" rel="noopener ugc nofollow" target="_blank">https://api.foursquare.com/v2/venues/explore?&amp;client_id={}&amp;client_secret={}&amp;v={}&amp;ll={},{}&amp;radius={}&amp;limit={}'.format(</a><br/>            CLIENT_ID, <br/>            CLIENT_SECRET, <br/>            VERSION, <br/>            lat, <br/>            lng, <br/>            radius, <br/>            LIMIT)<br/>            <br/>        # make the GET request<br/>        results = requests.get(url).json()["response"]['groups'][0]['items']<br/>        <br/>        # return only relevant information for each nearby venue<br/>        venues_list.append([(<br/>            name, <br/>            lat, <br/>            lng, <br/>            v['venue']['name'], <br/>            v['venue']['location']['lat'], <br/>            v['venue']['location']['lng'],  <br/>            v['venue']['categories'][0]['name']) for v in results])</span><span id="b85e" class="lb lc hi kx b fi lh le l lf lg">nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])<br/>    nearby_venues.columns = ['Neighborhood', <br/>                  'Neighborhood Latitude', <br/>                  'Neighborhood Longitude', <br/>                  'Venue', <br/>                  'Venue Latitude', <br/>                  'Venue Longitude', <br/>                  'Venue Category']<br/>    <br/>    return(nearby_venues)</span></pre><p id="28f0" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi">— —</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="4aea" class="lb lc hi kx b fi ld le l lf lg">banglore_venues = getNearbyVenues(names=df_bglr_155['location'],<br/>                                   latitudes=df_bglr_155['latitude'],<br/>                                   longitudes=df_bglr_155['longitude'])</span><span id="95dd" class="lb lc hi kx b fi lh le l lf lg">banglore_venues.to_csv("banglore_venues.csv")<br/>banglore_venues</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/df92f18a330f44ad3efd5230270a30c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pdB0vEv2CTtHq_EsLe5n2Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图13:各公寓附近热门场馆列表。</figcaption></figure><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/9b3959fa72c932e23b040b6f454dbf2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*quhll3vJzDVUgA4A9NKjfA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图14:每个公寓附近的顶级场馆列表。</figcaption></figure><p id="a125" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将过滤掉数据集中所有独特的场馆类别。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="0e23" class="lb lc hi kx b fi ld le l lf lg">banglore_venues['Venue Category'].unique()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/d3fd8f47508b0014a59e4634b6dcdac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qIJrgoEMsWKSiywAcwfEeA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图15:显示所有独特的场馆类别。</figcaption></figure><p id="b4bb" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在，我们将在“banglore _ venues”上应用<strong class="jb hj">一键编码</strong>，以获得场馆类别的详细视图。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="8696" class="lb lc hi kx b fi ld le l lf lg"># one hot encoding<br/>banglore_onehot = pd.get_dummies(banglore_venues[['Venue Category']], prefix="", prefix_sep="")</span><span id="7724" class="lb lc hi kx b fi lh le l lf lg"># add neighborhood column back to dataframe<br/>banglore_onehot['Neighborhood'] = banglore_venues['Neighborhood']</span><span id="2d5a" class="lb lc hi kx b fi lh le l lf lg"># move neighborhood column to the first column<br/>fixed_columns = [banglore_onehot.columns[-1]] + list(banglore_onehot.columns[:-1])<br/>banglore_onehot = banglore_onehot[fixed_columns]</span><span id="8f9d" class="lb lc hi kx b fi lh le l lf lg">banglore_onehot.head()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/6101a345ecb8be306e915dd34787a936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFPidu0aETdL5reFiHi7iA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图16</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="1a00" class="lb lc hi kx b fi ld le l lf lg">banglore_grouped = banglore_onehot.groupby('Neighborhood').mean().reset_index()<br/>banglore_grouped</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/665358823c5d9c07dbae5ca24add4353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fC3riLVl1_IB1QBvzWO9JA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图17</figcaption></figure><p id="8078" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—现在，我们将抽取每个公寓附近10个最受欢迎和评价最高的场所。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="f013" class="lb lc hi kx b fi ld le l lf lg">num_top_venues = 10</span><span id="a376" class="lb lc hi kx b fi lh le l lf lg">for hood in banglore_grouped['Neighborhood']:<br/>    print("----"+hood+"----")<br/>    temp = banglore_grouped[banglore_grouped['Neighborhood'] == hood].T.reset_index()<br/>    temp.columns = ['venue','freq']<br/>    temp = temp.iloc[1:]<br/>    temp['freq'] = temp['freq'].astype(float)<br/>    temp = temp.round({'freq': 2})<br/>    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))<br/>    print('\n')</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/f1a3c18b5371a45b8dd9812cbfc789cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*Grb1XK4--8viEkBVkJ_3RQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图18(a):每个公寓附近的顶级场馆。</figcaption></figure><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es mq"><img src="../Images/3e02299440e89486295ed59ab6096cd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*oL8IeGziBjgnAEBQ1Omfog.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图18(b):每个公寓附近的顶级场馆。</figcaption></figure><p id="47c2" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—我们的下一个任务是将上述场馆复制成更清晰的CSV格式，以便更好地可视化。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="22f5" class="lb lc hi kx b fi ld le l lf lg">def return_most_common_venues(row, num_top_venues):<br/>    row_categories = row.iloc[1:]<br/>    row_categories_sorted = row_categories.sort_values(ascending=False)<br/>    <br/>    return row_categories_sorted.index.values[0:num_top_venues]<br/>---------</span><span id="6d2d" class="lb lc hi kx b fi lh le l lf lg">num_top_venues = 10</span><span id="5bd8" class="lb lc hi kx b fi lh le l lf lg">indicators = ['st', 'nd', 'rd']</span><span id="90ad" class="lb lc hi kx b fi lh le l lf lg"># create columns according to number of top venues<br/>columns = ['Neighborhood']<br/>for ind in np.arange(num_top_venues):<br/>    try:<br/>        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))<br/>    except:<br/>        columns.append('{}th Most Common Venue'.format(ind+1))</span><span id="4bf3" class="lb lc hi kx b fi lh le l lf lg"># create a new dataframe<br/>neighborhoods_venues_sorted = pd.DataFrame(columns=columns)<br/>neighborhoods_venues_sorted['Neighborhood'] = banglore_grouped['Neighborhood']</span><span id="5abe" class="lb lc hi kx b fi lh le l lf lg">for ind in np.arange(banglore_grouped.shape[0]):<br/>    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(banglore_grouped.iloc[ind, :], num_top_venues)</span><span id="b471" class="lb lc hi kx b fi lh le l lf lg">neighborhoods_venues_sorted.head()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/f4c7988f42175cfde54e3bb345d56afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gxi5cs9hOEijSwLxHXuy4A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图19:根据评级列出的场馆只是一张可爱的金毛猎犬的图片，让你放松🤗。</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="8c2e" class="lb lc hi kx b fi ld le l lf lg">neighborhoods_venues_sorted['Neighborhood Latitude'] = banglore_venues['Neighborhood Latitude'].astype(float)<br/>neighborhoods_venues_sorted['Neighborhood Longitude'] = banglore_venues['Neighborhood Longitude'].astype(float)</span><span id="d598" class="lb lc hi kx b fi lh le l lf lg">neighborhoods_venues_sorted['1st Most Common Venue'].value_counts()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es ms"><img src="../Images/1fcb21cc6112a2fdc1ff22f64b150b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*NND47tb7S0KQrof56VRTAA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图20</figcaption></figure><h2 id="0829" class="lb lc hi bd mt mu mv mw mx my mz na nb jx nc nd ne jy nf ng nh jz ni nj nk nl bi translated">聚集场馆</h2><p id="e849" class="pw-post-body-paragraph iy iz hi jb b jc nm je jf jg nn ji jj jx no jm jn jy np jq jr jz nq ju jv jw hb bi translated">使用<strong class="jb hj"> <em class="ja"> Kmeans聚类</em> </strong>我们将根据具体需求组成聚类-</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="92f0" class="lb lc hi kx b fi ld le l lf lg">from sklearn.cluster import KMeans</span><span id="52fc" class="lb lc hi kx b fi lh le l lf lg"># set number of clusters<br/>kclusters = 10</span><span id="73fb" class="lb lc hi kx b fi lh le l lf lg">banglore_grouped_clustering = banglore_grouped.drop('Neighborhood', 1)</span><span id="28d6" class="lb lc hi kx b fi lh le l lf lg"># run k-means clustering<br/>kmeans = KMeans(n_clusters=kclusters, random_state=42).fit(banglore_grouped_clustering)</span><span id="9354" class="lb lc hi kx b fi lh le l lf lg"># check cluster labels generated for each row in the dataframe<br/>kmeans.labels_[0:11]</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nr"><img src="../Images/2664adf6409edb06eeff9936bad0c9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhOV3_i_n3m-4EK6Ez1llg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图21:集群标签的阵列</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="56c4" class="lb lc hi kx b fi ld le l lf lg"># add clustering labels<br/>neighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)</span><span id="a3ad" class="lb lc hi kx b fi lh le l lf lg">banglore_merged = df_bglr</span><span id="5539" class="lb lc hi kx b fi lh le l lf lg"># merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood<br/>banglore_merged = banglore_merged.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='location')</span><span id="b764" class="lb lc hi kx b fi lh le l lf lg">banglore_merged.drop(banglore_merged.loc[banglore_merged['1st Most Common Venue']==np.NaN].index, inplace=True)<br/>banglore_merged = banglore_merged.dropna()</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ns"><img src="../Images/daf1f11e361ea1b401dc070f1e7ea27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HWvBrBjqwqW8Cv0sKwZ83A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图22:banglare _ merged数据集</figcaption></figure><p id="08cc" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—我们的下一个任务是使用folium绘制聚类图:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="d0c3" class="lb lc hi kx b fi ld le l lf lg"># create map<br/>map_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)</span><span id="adbe" class="lb lc hi kx b fi lh le l lf lg"># set color scheme for the clusters<br/>x = np.arange(kclusters)<br/>ys = [i + x + (i*x)**2 for i in range(kclusters)]<br/>colors_array = cm.rainbow(np.linspace(0, 1, len(ys)))<br/>rainbow = [colors.rgb2hex(i) for i in colors_array]</span><span id="8329" class="lb lc hi kx b fi lh le l lf lg"># add markers to the map<br/>markers_colors = []<br/>for lat, lon, poi, cluster in zip(banglore_merged_final['latitude'], banglore_merged_final['longitude'], banglore_merged_final['location'], banglore_merged_final['Cluster Labels']):<br/>    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)<br/>    folium.CircleMarker(<br/>        [lat, lon],<br/>        radius=5,<br/>        popup=label,<br/>        color=rainbow[int(cluster)-1],<br/>        fill=True,<br/>        fill_color=rainbow[int(cluster)-1],<br/>        fill_opacity=0.7).add_to(map_clusters)<br/>       <br/>map_clusters</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nt"><img src="../Images/9b5d41ab3e693a74f044c8b4c2ae033b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ro4wdavu5Tq4Y9l351fjkw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图23:星团图。</figcaption></figure><h1 id="a7a3" class="nu lc hi bd mt nv nw nx mx ny nz oa nb ob oc od ne oe of og nh oh oi oj nk ok bi translated">让我们进入我们的主要项目，耶！！</h1><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/90cb75a443bfc1dec09c29ab8bfa4180.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*oz03BatQPc_9VHS_7ffibw.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/search/ok-lets-do-this-gifs" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure><h2 id="880c" class="lb lc hi bd mt mu mv mw mx my mz na nb jx nc nd ne jy nf ng nh jz ni nj nk nl bi translated">任务1:</h2><p id="29c3" class="pw-post-body-paragraph iy iz hi jb b jc nm je jf jg nn ji jj jx no jm jn jy np jq jr jz nq ju jv jw hb bi translated">通过提供主要细节，向企业家推荐创业的最佳地点，从而帮助他们。</p><p id="2781" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj">问题1:你可以在哪里建立一家竞争非常少的新“餐馆”,并且可以立即搬迁？</strong></p><p id="7a0c" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将获取“<strong class="jb hj">banglare _ merged”</strong>数据集，并过滤附近没有餐馆的区域。现在我们有了最终的数据集，我们的下一步是选择其他规范，如:“该区域准备好移动了吗？”、“该地区的价格”、“餐馆附近有什么IT中心吗？”等等..,</p><p id="f116" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">步骤1: </em> </strong>过滤当地没有餐馆的区域，为了实现这一点，我们将选择没有任何类型的餐馆或快餐店或咖啡馆的区域，在它们的第一、第二或第三最常去的场所列表中。通过这样做，我们可以提取附近没有好餐馆的区域。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="f8ae" class="lb lc hi kx b fi ld le l lf lg">best_places_for_restaurant = banglore_merged[(~banglore_merged["1st Most Common Venue"].str.contains('Restaurant'))&amp;(~banglore_merged["2nd Most Common Venue"].str.contains('Restaurant'))&amp;(~banglore_merged["3rd Most Common Venue"].str.contains('Restaurant'))&amp;(~banglore_merged["1st Most Common Venue"].str.contains('Food'))&amp;(~banglore_merged["2nd Most Common Venue"].str.contains('Food'))&amp;(~banglore_merged["3rd Most Common Venue"].str.contains('Food'))&amp;(~banglore_merged["1st Most Common Venue"].str.contains('Pizza'))&amp;(~banglore_merged["2nd Most Common Venue"].str.contains('Pizza'))&amp;(~banglore_merged["3rd Most Common Venue"].str.contains('Pizza'))]</span></pre><p id="c64c" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">第二步:</em> </strong>现在，我们的下一个优先任务是进一步应用过滤器，如:“该区域准备好移动了吗？”、“该地区的价格”、“餐馆附近有什么IT中心吗？”等等..,</p><p id="1562" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><em class="ja">例如，</em>假设我们的客户想要马上建立他的餐馆，所以他将寻找一个"<strong class="jb hj">准备移动"</strong>的区域，所以我们必须过滤掉准备移动的区域。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="dd29" class="lb lc hi kx b fi ld le l lf lg">best_places_for_restaurant=best_places_for_restaurant.loc[best_places_for_restaurant['availability'] == 'Ready To Move']</span></pre><p id="983d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将根据价格对地区进行分类，从而使选择更容易。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="48fc" class="lb lc hi kx b fi ld le l lf lg">best_places_for_restaurant=best_places_for_restaurant.sort_values("price")</span></pre><p id="4ef3" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">让我们来看看结果:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="be15" class="lb lc hi kx b fi ld le l lf lg">pd.set_option('display.max_columns', None)<br/>best_places_for_restaurant</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ol"><img src="../Images/a63677af65c99438d57b045d4d4ebad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ML8NjXhDPTZuoUYyRsiiRQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图24:符合我们要求的领域列表。</figcaption></figure><p id="0f93" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们的客户有11个最佳区域可供选择，此外，他还可以应用其他过滤器，选择建立餐厅的最佳地点。</p><p id="057d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—绘制上述过滤区域，以便更好地可视化。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="b835" class="lb lc hi kx b fi ld le l lf lg"># create map of New York using latitude and longitude values<br/>map_bnglr = folium.Map(location=[latitude, longitude], zoom_start=10)</span><span id="f024" class="lb lc hi kx b fi lh le l lf lg"># add markers to map<br/>for lat, lng, borough, neighborhood in zip(best_places_for_restaurant['latitude'], best_places_for_restaurant['longitude'], best_places_for_restaurant['society'], best_places_for_restaurant['location']):<br/>    label = '{}, {}'.format(neighborhood, borough)<br/>    label = folium.Popup(label, parse_html=True)<br/>    folium.CircleMarker(<br/>        [lat, lng],<br/>        radius=5,<br/>        popup=label,<br/>        color='red',<br/>        fill=True,<br/>        fill_color='#3186cc',<br/>        fill_opacity=0.7,<br/>        parse_html=False).add_to(map_bnglr)  <br/>    <br/>map_bnglr</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es om"><img src="../Images/c6fd623d51bc19a7dd4cc2d45773fe69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PBM0ZhMsoECXFNIYmX6zIQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图25</figcaption></figure><h2 id="8233" class="lb lc hi bd mt mu mv mw mx my mz na nb jx nc nd ne jy nf ng nh jz ni nj nk nl bi translated"><strong class="ak">询问2:在什么地方建立一个比赛非常少的羽毛球场最好，周围有一些不错的美食广场？</strong></h2><p id="78a1" class="pw-post-body-paragraph iy iz hi jb b jc nm je jf jg nn ji jj jx no jm jn jy np jq jr jz nq ju jv jw hb bi translated">我们将使用"<strong class="jb hj">banglare _ merged "</strong>数据集，过滤附近没有羽毛球场的区域，我们的下一个任务是选择附近有美食广场的区域。</p><p id="809b" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">第一步:</em> </strong>过滤当地没有羽毛球场的地区，为了实现这一点，我们将选择在第一、第二或第三最常去的场馆列表中没有“羽毛球场”的地区。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="0dc4" class="lb lc hi kx b fi ld le l lf lg">best_places_for_badminton_court = banglore_merged[(~banglore_merged["1st Most Common Venue"].str.contains('Badminton Court'))&amp;(~banglore_merged["2nd Most Common Venue"].str.contains('Badminton Court'))&amp;(~banglore_merged["3rd Most Common Venue"].str.contains('Badminton Court'))&amp;((banglore_merged["1st Most Common Venue"].str.contains('Restaurant'))|(banglore_merged["1st Most Common Venue"].str.contains('Food'))|(banglore_merged["1st Most Common Venue"].str.contains('Pizza')))]</span></pre><p id="be75" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">第二步:</em> </strong>现在，我们的下一个优先事项是应用进一步的过滤器，如:“该区域准备好移动了吗？”、“该地区的价格”等..,</p><p id="57f3" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><em class="ja">例如，</em>考虑我们的客户想要马上建立他的餐馆，所以他将寻找一个"<strong class="jb hj">准备移动"</strong>的区域，所以我们必须过滤掉准备移动的区域。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="910a" class="lb lc hi kx b fi ld le l lf lg">best_places_for_badminton_court=best_places_for_badminton_court.loc[best_places_for_badminton_court['availability'] == 'Ready To Move']<br/>best_places_for_badminton_court=best_places_for_badminton_court.sort_values("price")<br/>best_places_for_badminton_court</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es on"><img src="../Images/d1fac5a16da8c4ecc583ad322efe57a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sBmwLCWM3aFP7Oan_37zw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图26:我们可以建立羽毛球场的区域列表。</figcaption></figure><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="63b0" class="lb lc hi kx b fi ld le l lf lg">best_places_for_badminton_court.shape</span><span id="402e" class="lb lc hi kx b fi lh le l lf lg">(55, 25)</span></pre><p id="de11" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们的客户有55个最佳区域可供选择，此外，他还可以应用其他过滤器，选择建立餐厅的最佳地点。</p><p id="a933" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—绘制上述过滤区域，以便更好地可视化。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oo"><img src="../Images/7a1d7d8c5cc0a89387911f4aaee58031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GH6eYZcoPBzBZyXRcv_nOg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图27</figcaption></figure><h2 id="eb25" class="lb lc hi bd mt mu mv mw mx my mz na nb jx nc nd ne jy nf ng nh jz ni nj nk nl bi translated">任务2:</h2><p id="0a11" class="pw-post-body-paragraph iy iz hi jb b jc nm je jf jg nn ji jj jx no jm jn jy np jq jr jz nq ju jv jw hb bi translated">根据邻居的兴趣，帮助寻找最佳公寓的人搬进去。</p><p id="f81d" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">询问1:我想让我的公寓靠近公交车站，那么我应该在哪里租呢？</p><p id="5b58" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将获取"<strong class="jb hj">banglare _ merged "</strong>数据集，并过滤其附近有公交车站的区域。</p><p id="a1b8" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">步骤1: </em> </strong>过滤当地有公交车站的地区，为了实现这一点，我们必须选择在第一、第二或第三最常去的地点列表中有<strong class="jb hj">【公交车站】</strong>的地区。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="c9e6" class="lb lc hi kx b fi ld le l lf lg">placenearestto_bustand = banglore_merged[(banglore_merged["1st Most Common Venue"]=="Bus Station")|(banglore_merged["2nd Most Common Venue"]=="Bus Station")|(banglore_merged["3rd Most Common Venue"]=="Bus Station")]</span></pre><p id="2058" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">第二步:</em> </strong>现在，我们的下一个优先任务是进一步应用过滤器，如:“该区域准备好移动了吗？”、“该地区的价格”等..,</p><p id="598c" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><em class="ja">例如，</em>考虑我们的客户想要马上建立他的餐馆，所以他将寻找一个"<strong class="jb hj">准备移动"</strong>的区域，所以我们必须过滤掉准备移动的区域。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="0bc3" class="lb lc hi kx b fi ld le l lf lg">placenearestto_bustand=placenearestto_bustand.loc[placenearestto_bustand['availability'] == 'Ready To Move']<br/>placenearestto_bustand=placenearestto_bustand.sort_values("price")<br/>placenearestto_bustand<br/>placenearestto_bustand</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es op"><img src="../Images/66988ef6caadd975d49d38aeab1819dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_sGpa7CT47FkqL6O2PypmQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图28</figcaption></figure><p id="826f" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">只有4套公寓满足客户的要求。</p><p id="f7db" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">—绘制上述过滤区域，以便更好地可视化。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oq"><img src="../Images/3c6acab8d0c27803ebe84dbbd5950bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z2B7CEKgS4QTCYIUmU2tcA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图29</figcaption></figure><p id="2279" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj">询问2:我们的客户想把自己的身体锻炼得像石头一样！！所以他希望他的公寓离体育馆很近，他还想要一套2BHK的公寓</strong></p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/fea305a79257a6c43d00eccd54c1c8a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*25cDF7FVB9erhUfut1DNeg.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/view/jumanji-jumanji-welcome-to-the-jungle-jumanji-gifs-dwayne-johnson-arm-day-gif-9846292" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure><p id="29d7" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们将获取"<strong class="jb hj"> banglore_merged" </strong>数据集，并过滤附近有健身房的2BHK公寓。</p><p id="d76a" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated"><strong class="jb hj"> <em class="ja">第一步:</em> </strong>过滤当地有健身房的地区，为了实现这一点，我们必须选择在第一、第二或第三个常去场馆列表中有<strong class="jb hj">“健身房”</strong>的地区。</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="dd7e" class="lb lc hi kx b fi ld le l lf lg">best_places_for_apartment_gym = banglore_merged[(banglore_merged["1st Most Common Venue"].str.contains('Gym'))|(banglore_merged["2nd Most Common Venue"].str.contains('Gym'))|(banglore_merged["3rd Most Common Venue"].str.contains('Gym'))]</span></pre><p id="cd41" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">现在让我们过滤掉属于2 BHK的公寓:</p><pre class="kb kc kd ke fd kw kx ky kz aw la bi"><span id="a7ba" class="lb lc hi kx b fi ld le l lf lg">best_places_for_apartment_gym[best_places_for_apartment_gym['size']=='2 BHK']</span></pre><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es on"><img src="../Images/73f06c0318cc2e7213bdf2b7828f40eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-YRKBm8k48JVB69W1kpD9Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图30</figcaption></figure><p id="ee77" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">我们的客户只有一个选择。</p><p id="20db" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -</p><p id="8a59" class="pw-post-body-paragraph iy iz hi jb b jc jd je jf jg jh ji jj jx jl jm jn jy jp jq jr jz jt ju jv jw hb bi translated">咻，就是这样。恭喜我们帮助一些客户建立了良好的业务，帮助其他人挑选了他们喜欢的公寓。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/7747f81a2d500fb5528ecebd3f3cca60.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*6wdEi3mUBnfUJg7UC91qGg.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://tenor.com/view/done-annoyed-overa-overb-gif-5690236" rel="noopener ugc nofollow" target="_blank">期限</a></figcaption></figure></div></div>    
</body>
</html>