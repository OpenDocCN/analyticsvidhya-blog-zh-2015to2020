<html>
<head>
<title>Exploiting matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用matplotlib</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/exploiting-matplotlib-81f1c4030734?source=collection_archive---------17-----------------------#2020-05-26">https://medium.com/analytics-vidhya/exploiting-matplotlib-81f1c4030734?source=collection_archive---------17-----------------------#2020-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9575" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有太多的东西可以利用人类，但宗教和爱国主义是最重要的——塔里夫·纳兹， <a class="ae jd" href="https://www.goodreads.com/work/quotes/40771387" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">【天堂中的伤害】</strong> </a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/49887054479bfecdf642775cc116eec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Lyk6aoHg8rxJ_dnzwzEVA.jpeg"/></div></div></figure><p id="b21b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开门见山吧。</p><p id="1eda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个使用matplotlib显示基本图形的非常基本的例子。</p><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="f33d" class="jv jw hi jr b fi jx jy l jz ka"><strong class="jr hj">import</strong> <strong class="jr hj">matplotlib.pyplot</strong> <strong class="jr hj">as</strong> <strong class="jr hj">plt</strong><br/><br/>data = {'apple': 10, 'orange': 15, 'lemon': 5, 'lime': 20}<br/>names = list(data.keys())<br/>values = list(data.values())<br/><br/>fig, axs = <a class="ae jd" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" rel="noopener ugc nofollow" target="_blank">plt.subplots</a>(1, 3, figsize=(9, 3), sharey=<strong class="jr hj">True</strong>)<br/>axs[0].bar(names, values)<br/>axs[1].scatter(names, values)<br/>axs[2].plot(names, values)<br/>fig.suptitle('Categorical Plotting')</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kb"><img src="../Images/f45f874864ae0d2d2f4fbf82d4b9508d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YEptko_Cv2FiqnqN2KZ2Mw.png"/></div></div></figure><p id="e67b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于我们拥有的数据和我们想要显示的信息，可以绘制不同种类的图表。</p><ol class=""><li id="e416" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kh ki kj kk bi translated"><strong class="ih hj">线图</strong></li></ol><ul class=""><li id="5ec6" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated">它们通常用于寻找不同轴上的两个数据集之间的关系；例如X，y。</li></ul><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="d0eb" class="jv jw hi jr b fi jx jy l jz ka"><strong class="jr hj">import</strong> numpy as np<br/><strong class="jr hj">import</strong> matplotlib.pyplot as plt<br/><strong class="jr hj">def</strong> f(t):<br/>    <strong class="jr hj">return</strong> np.exp(-t) * np.cos(2*np.pi*t)<br/><strong class="jr hj">t1</strong> = np.arange(0.0, 5.0, 0.1)</span><span id="3513" class="jv jw hi jr b fi km jy l jz ka">plt.<strong class="jr hj">figure</strong>()<br/>plt.<strong class="jr hj">plot</strong>(t1, f(t1), color='g', linestyle="--", label='Frequency')<br/>plt.<strong class="jr hj">xlim</strong>(0, 7)<br/>plt.<strong class="jr hj">ylim</strong>(1.2, -1.0);<br/>plt.<strong class="jr hj">title</strong>("A Sample Line Curve")<br/>plt.<strong class="jr hj">xlabel</strong>("x")<br/>plt.<strong class="jr hj">ylabel</strong>("y")<br/>plt.<strong class="jr hj">legend</strong>(loc='upper right')<br/>plt.<strong class="jr hj">show</strong>()</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kn"><img src="../Images/6461a1834eef91a52ff9167e102cb48f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PjrBsVXRv7UamdZuiJLcgQ.png"/></div></div></figure><p id="22f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj">散点图</strong></p><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="ddde" class="jv jw hi jr b fi jx jy l jz ka">%<strong class="jr hj">matplotlib</strong> inline<br/><strong class="jr hj">import</strong> <strong class="jr hj">matplotlib.pyplot</strong> <strong class="jr hj">as</strong> <strong class="jr hj">plt</strong><br/>plt.style.use('seaborn-whitegrid')<br/><strong class="jr hj">import</strong> <strong class="jr hj">numpy</strong> <strong class="jr hj">as</strong> <strong class="jr hj">np</strong></span><span id="d066" class="jv jw hi jr b fi km jy l jz ka">rs = np.random.RandomState(0)<br/>x = rs.randn(100)<br/>y = rs.randn(100)<br/>colors = rs.rand(100)<br/>sizes = 100 * rs.rand(100)</span><span id="3b51" class="jv jw hi jr b fi km jy l jz ka">plt.scatter(x, y, c=colors, s=sizes, alpha=0.5, cmap='viridis')<br/>plt.colorbar();</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ko"><img src="../Images/5d4b157481bb16c824d3e4491bcccfef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETJU5oGrRXRPC44FxR1x8A.png"/></div></figure><ul class=""><li id="b9a4" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated">一个例子是绘制相对于纬度/经度的人口分布。</li></ul><p id="dee3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">等高线2D和3D图形</strong></p><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="f2ee" class="jv jw hi jr b fi jx jy l jz ka">%<strong class="jr hj">matplotlib</strong> inline<br/>import numpy as np<br/>from mpl_toolkits.mplot3d import Axes3D <br/>import matplotlib.pyplot as plt<br/>import random<br/>from matplotlib import cm</span><span id="11a3" class="jv jw hi jr b fi km jy l jz ka"><strong class="jr hj">def</strong> fun(x, y):<br/>    <strong class="jr hj">return</strong> np.sin(x/3) + np.cos(y/4)</span><span id="6c54" class="jv jw hi jr b fi km jy l jz ka">fig = plt.figure(num=None, figsize=(7, 5), dpi=80, facecolor=’w’, edgecolor=’k’)<br/>ax = plt.axes(projection=’3d’)</span><span id="3c58" class="jv jw hi jr b fi km jy l jz ka">x = y = np.arange(0, 25, 1)<br/>X, Y = np.meshgrid(x, y)<br/>zs = np.array(fun(np.ravel(X), np.ravel(Y)))<br/>Z = zs.reshape(X.shape)</span><span id="a82e" class="jv jw hi jr b fi km jy l jz ka">ax.plot_surface(X, Y, Z, cmap=’viridis’)</span><span id="3ef7" class="jv jw hi jr b fi km jy l jz ka">ax.set_xlabel(‘X’)<br/>ax.set_ylabel(‘Y’)<br/>ax.set_zlabel(‘Z’)<br/>plt.show()</span><span id="b0d0" class="jv jw hi jr b fi km jy l jz ka">ax.view_init(60, 35)<br/>plt.show()</span><span id="933f" class="jv jw hi jr b fi km jy l jz ka">plt.figure(figsize=(7, 5), dpi=80, facecolor=’w’, edgecolor=’k’)<br/>contours = plt.contour(X, Y, Z, 3, colors=’black’)<br/>plt.clabel(contours, inline=True, fontsize=8)<br/>plt.imshow(Z, extent=[0, 25, 0, 25], origin=’lower’,<br/> cmap=’viridis’, alpha=0.5)<br/>plt.colorbar();</span></pre><div class="jf jg jh ji fd ab cb"><figure class="kp jj kq kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><img src="../Images/76e71fc66ca7a7505423b67a0fd06888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*bjoLiKjkmXqsYGJUJisPyA.png"/></div></figure><figure class="kp jj kv kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><img src="../Images/7d652a9c030811d4c34681dfc3c6ccf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*XVALPc6Xf_5Tb8qHvlipZw.png"/></div></figure></div><ul class=""><li id="26ed" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated">有助于可视化某些属性的分布，如密度/电位差/亮度。</li></ul><p id="14aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.<strong class="ih hj">直方图</strong></p><ul class=""><li id="4763" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated">它用于汇总离散或连续数据。</li><li id="d794" class="kc kd hi ih b ii kw im kx iq ky iu kz iy la jc kl ki kj kk bi translated">它类似于<a class="ae jd" href="https://www.mathsisfun.com/data/bar-graphs.html" rel="noopener ugc nofollow" target="_blank">条形图</a>，但是直方图将数字分组到<strong class="ih hj">范围</strong>中。</li></ul><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="bd83" class="jv jw hi jr b fi jx jy l jz ka">%<strong class="jr hj">matplotlib</strong> inline<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>plt.style.use('seaborn-white')</span><span id="8e80" class="jv jw hi jr b fi km jy l jz ka">data = np.random.randn(1000)</span><span id="5679" class="jv jw hi jr b fi km jy l jz ka">x1 = np.random.normal(0, 0.8, 1000)<br/>x2 = np.random.normal(-2, 1, 1000)</span><span id="ea58" class="jv jw hi jr b fi km jy l jz ka">kwargs = dict(histtype='stepfilled', alpha=0.6, density=True, bins=40)</span><span id="9370" class="jv jw hi jr b fi km jy l jz ka">plt.hist(x1, **kwargs)<br/>plt.hist(x2, **kwargs);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lb"><img src="../Images/4ecbe3e5071530996f2b8d99e0e83aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hlJwRgxWwjyxYors8johWA.png"/></div></div></figure><p id="54fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.<strong class="ih hj">箱线图</strong></p><ul class=""><li id="922c" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated"><strong class="ih hj">箱线图</strong>可能是最常见的图形类型之一。</li><li id="2d59" class="kc kd hi ih b ii kw im kx iq ky iu kz iy la jc kl ki kj kk bi translated">将方框分成两部分的线代表数据的中位数<strong class="ih hj">和</strong>。</li></ul><pre class="jf jg jh ji fd jq jr js jt aw ju bi"><span id="7a17" class="jv jw hi jr b fi jx jy l jz ka">%<strong class="jr hj">matplotlib</strong> inline<br/>import numpy as np<br/>import matplotlib.pyplot as plt</span><span id="d6e2" class="jv jw hi jr b fi km jy l jz ka"># fake up some data<br/>spread = np.random.rand(50) * 100<br/>center = np.ones(25) * 20<br/>flier_high = np.random.rand(10) * 20 + 100<br/>flier_low = np.random.rand(5) * (-20)<br/>data = np.concatenate((spread, center, flier_high, flier_low))</span><span id="bdd0" class="jv jw hi jr b fi km jy l jz ka">fig1, ax1 = plt.subplots()<br/>ax1.set_title('Basic Plot')<br/>ax1.boxplot(data);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lc"><img src="../Images/0cc71aa7fe804363f593ef2161780cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m36VtuQEKZen5kJgsybJ9A.png"/></div></div></figure><ul class=""><li id="c0c2" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated">由于各种各样的可视化模式，使用seaborn 会更方便，但同样在引擎盖下，它只是matplotlib。</li><li id="0d47" class="kc kd hi ih b ii kw im kx iq ky iu kz iy la jc kl ki kj kk bi translated">更好的做法是尝试一些实用的数据可视化，并探索更多的matplotlib API。你可以在kaggle上找到很多坚持相同的<a class="ae jd" href="https://www.kaggle.com/notebooks\" rel="noopener ugc nofollow" target="_blank">笔记本</a>。</li></ul><p id="e195" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">伙计们，现在就到这里吧。感谢阅读。</p><p id="0413" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特别信贷给:</p><ul class=""><li id="63c2" class="kc kd hi ih b ii ij im in iq ke iu kf iy kg jc kl ki kj kk bi translated"><a class="ae jd" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.04-density-and-contour-plots.html" rel="noopener ugc nofollow" target="_blank">https://jakevdp . github . io/python datascience handbook/04.04-density-and-contour-plots . html</a></li><li id="b1fb" class="kc kd hi ih b ii kw im kx iq ky iu kz iy la jc kl ki kj kk bi translated"><a class="ae jd" href="https://matplotlib.org/3.1.1/gallery/pyplots/boxplot_demo_pyplot.html" rel="noopener ugc nofollow" target="_blank">https://matplotlib . org/3 . 1 . 1/gallery/py plots/box plot _ demo _ py plot . html</a></li></ul></div></div>    
</body>
</html>