<html>
<head>
<title>Speed test: ‘cooccur’ vs ‘backbone’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">速度测试:“cooccur”与“backbone”</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cran-packages-speed-test-cooccur-vs-backbone-a2c39729722e?source=collection_archive---------13-----------------------#2020-11-25">https://medium.com/analytics-vidhya/cran-packages-speed-test-cooccur-vs-backbone-a2c39729722e?source=collection_archive---------13-----------------------#2020-11-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d7fa" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">谁会是赢家？</h2></div><p id="9628" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个名为<em class="jt">‘backbone’</em>的新软件包最近出现在CRAN上，我对此非常兴奋。本质上，这个包通过提取它的“主干”简化了一个共现矩阵该软件包提供了各种提取主干的方法，其中一种方法涉及使用超几何分布来评估同现是明显小于还是大于预期。由于“<a class="ae ju" href="https://towardsdatascience.com/how-to-create-co-occurrence-networks-with-the-r-packages-cooccur-and-visnetwork-f6e1ceb1c523" rel="noopener" target="_blank"><em class="jt"/></a>”包做同样的事情，我想，“嗯……哪个更快？“亲爱的朋友们，这就是克兰包裹之战的开始。事不宜迟，让我们开始这场套餐赛吧！！！</p><h1 id="8c7a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf io kg ip kh ir ki is kj iu kk iv kl km bi translated">准备轨道</h1><p id="3bed" class="pw-post-body-paragraph ix iy hi iz b ja kn ij jc jd ko im jf jg kp ji jj jk kq jm jn jo kr jq jr js hb bi translated">为了方便起见，我们将使用来自<em class="jt">‘cooccur’</em>包的finches数据集来测试每个包各自的功能。为了监控速度，我们将使用'<em class="jt">微基准测试</em>，这比使用<strong class="iz hj"> system.time() </strong>更准确。<strong class="iz hj"> microbenchmark() </strong>将每个表达式运行100次，随机选择每次运行哪个表达式。</p><h1 id="d4ab" class="jv jw hi bd jx jy jz ka kb kc kd ke kf io kg ip kh ir ki is kj iu kk iv kl km bi translated">各就各位，预备，跑！</h1><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="2eed" class="lb jw hi kx b fi lc ld l le lf">library(cooccur) <br/>library(backbone) <br/>library(microbenchmark) <br/>library(plotly) </span><span id="a140" class="lb jw hi kx b fi lg ld l le lf"># Load finches data set from 'cooccur'. <br/>data(finches) </span><span id="bf2d" class="lb jw hi kx b fi lg ld l le lf"># Compare speed of 'cooccur' v 'backbone'. <br/>set.seed(123) <br/>speedTest &lt;- microbenchmark(cooccur(finches), hyperg(as.matrix(finches)))</span></pre><figure class="ks kt ku kv fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lh"><img src="../Images/e6e556ac3a60d818b2940aa5e5705e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xa0TleZXGawKGZDm.jpg"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">照片由Nicolas Hoizey在Unsplash上拍摄。</figcaption></figure><h1 id="2603" class="jv jw hi bd jx jy jz ka kb kc kd ke kf io kg ip kh ir ki is kj iu kk iv kl km bi translated">获胜者是…</h1><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="5aa6" class="lb jw hi kx b fi lc ld l le lf"># Rename factors. <br/>levels(speedTest$expr) &lt;- c('cooccur', 'backbone') </span><span id="322a" class="lb jw hi kx b fi lg ld l le lf"># Plot. <br/>plot_ly(data = speedTest, <br/>        y = ~expr, x = ~(time/1000000), <br/>        color = ~expr, colors = c("#D3D3D3", "#FBCB23"), <br/>        type = "box") %&gt;% <br/>  layout(showlegend = F, <br/>         title = "And the winner is...backbone!", <br/>         xaxis = list(range = c(0, 275), title = 'time(ms)'), <br/>         yaxis = list(title = ''))</span></pre><figure class="ks kt ku kv fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lh"><img src="../Images/03055a7faae9424066c7f83f7fe16a1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e0-fWxvE5LGpFO7B.png"/></div></div></figure><p id="0719" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">结果:'<em class="jt">骨干</em>'以压倒性优势胜出！如果你追求的是速度，<em class="jt">主干</em>就是你的包裹。如果你正在使用'<em class="jt"> cooccur </em>'并且没有发现任何速度问题，那就太好了！放心继续用吧。速度不是定义一个包的唯一因素。但是，如果速度<em class="jt">是</em>的一个问题，你可能想要切换到“<em class="jt">主干</em>”您应该会看到运行时间有明显的改进。</p><p id="e782" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">伟大的比赛，包裹！</p><figure class="ks kt ku kv fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lh"><img src="../Images/56e09911b116d9d34717def95f7bf10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qjrODzDcx7rLax7v.jpg"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated"><a class="ae ju" href="https://unsplash.com/@moxiaohuihahaha?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">高辉</a>在<a class="ae ju" href="https://unsplash.com/@brooke_tdd/likes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</figcaption></figure><h2 id="6af4" class="lb jw hi bd jx lt lu lv kb lw lx ly kf jg lz ma kh jk mb mc kj jo md me kl mf bi translated">参考</h2><p id="ac68" class="pw-post-body-paragraph ix iy hi iz b ja kn ij jc jd ko im jf jg kp ji jj jk kq jm jn jo kr jq jr js hb bi translated">Domagalski R，Neal Z，Sagan B (2020)。<em class="jt">主干:从加权图中提取主干</em>。r包版本1.2.2，<a class="ae ju" href="https://cran.r-project.org/package=backbone" rel="noopener ugc nofollow" target="_blank">https://CRAN.R-project.org/package=backbone</a>。</p><p id="83e2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">格里菲斯、丹尼尔·m、维奇、约瑟夫·a .、查尔斯·j·马什(2016)。<br/> cooccur:统计软件的R. Journal <br/>中的概率物种共现分析，69(2)，1–17。doi:10.18637/jss.v069.c02</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="cd7e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">原载于2020年11月25日</em><a class="ae ju" href="https://thatdarndata.com/speed-test-cooccur-vs-backbone/" rel="noopener ugc nofollow" target="_blank"><em class="jt">【https://thatdarndata.com】</em></a><em class="jt">。</em></p></div></div>    
</body>
</html>