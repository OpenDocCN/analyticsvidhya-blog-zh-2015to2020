<html>
<head>
<title>The Hitchhiker’s Guide to Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学的搭便车指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/the-hitchhikers-guide-to-data-science-76a7a53e1a1a?source=collection_archive---------26-----------------------#2019-11-26">https://medium.com/analytics-vidhya/the-hitchhikers-guide-to-data-science-76a7a53e1a1a?source=collection_archive---------26-----------------------#2019-11-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/448fe6a056f47fe519bf88546f3e1677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-jHKuQf8M9PL2abRlCW0A.jpeg"/></div></div></figure><p id="0354" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你是一个旅行者和探险者，要遵循的一条黄金法则就是脚步轻盈。我试图列出一些数据科学家可以从他们的旅行爱好者同伴那里学到的东西。为了有效地做到这一点，我从<strong class="is hj"><em class="jo">Kaggle</em></strong><em class="jo"/><strong class="is hj"><em class="jo">2019数据科学碗</em> </strong>中挑选了一个数据集进行研究，以进行类比。</p><p id="b0f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先看看训练数据…</p><p id="34a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">【该数据集由PBS KIDS Measure Up游戏分析提供！app。在这个应用程序中，孩子们可以在地图上导航并完成各种级别，这些级别可以是活动、视频剪辑、游戏或评估。每项评估都旨在测试孩子对某一套测量相关技能的理解程度。] </em></p><div class="jp jq ez fb jr js"><a href="https://www.kaggle.com/c/data-science-bowl-2019/data" rel="noopener  ugc nofollow" target="_blank"><div class="jt ab dw"><div class="ju ab jv cl cj jw"><h2 class="bd hj fi z dy jx ea eb jy ed ef hh bi translated">2019数据科学碗</h2><div class="jz l"><h3 class="bd b fi z dy jx ea eb jy ed ef dx translated">下载数千个项目的开放数据集+在一个平台上共享项目。探索热门话题，如政府…</h3></div><div class="ka l"><p class="bd b fp z dy jx ea eb jy ed ef dx translated">www.kaggle.com</p></div></div><div class="kb l"><div class="kc l kd ke kf kb kg io js"/></div></div></a></div><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/cda78a7c870192af83cec3c267f83407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5PzXOKsudv0Tcwz1DS6Mw.png"/></div></div></figure><p id="8395" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，我们能从我们的探险者伙伴身上学到什么以及如何学到呢:)</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><ol class=""><li id="1414" class="kt ku hi is b it iu ix iy jb kv jf kw jj kx jn ky kz la lb bi translated"><strong class="is hj">选择合适的箱包</strong></li></ol><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/1cba77ecc7b10d3cc7294bbb6b85f51f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-TXzoO8uYqWhOxMAh04uqw.jpeg"/></div></div></figure><p id="f468" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你不能带着沉重的行李箱“背包”穿越欧洲。我的意思是你可以，但这将从本质上削弱整个背包旅行的体验。</p><p id="f990" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，一旦导入数据，请确保它是最佳的数据类型。将数据类型从<em class="jo"> int64 </em>改为<em class="jo"> int16 </em>可以将消耗的内存减少到原来的四分之一。</p><p id="dc4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之前:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="11c1" class="li lj hi le b fi lk ll l lm ln">import pandas as pd<br/>train = pd.read_csv("../Data_Science_Bowl/train.csv")</span><span id="b90b" class="li lj hi le b fi lo ll l lm ln">train.dtypes<br/>event_id           object<br/>game_session       object<br/>timestamp          object<br/>event_data         object<br/>installation_id    object<br/>event_count         int64<br/>event_code          int64<br/>game_time           int64<br/>title              object<br/>type               object<br/>world              object<br/>dtype: object<br/>train.info(memory_usage=’deep’)<br/>dtypes: int64(3), object(8)</span></pre><blockquote class="lp lq lr"><p id="1244" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">内存使用量:8.1 GB </strong></p></blockquote><p id="b181" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之后:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="de6f" class="li lj hi le b fi lk ll l lm ln">### Reduce size</span><span id="f29e" class="li lj hi le b fi lo ll l lm ln">train[‘event_id’] =train[‘event_id’].astype(‘category’)<br/>train[‘game_session’] =train[‘game_session’].astype(‘category’)<br/>train[‘timestamp’]=pd.to_datetime(train[‘timestamp’], format=”%Y-%m-%dT%H:%M:%S.%fZ”)</span><span id="814a" class="li lj hi le b fi lo ll l lm ln">train[‘installation_id’]=train[‘installation_id’].astype(‘category’)<br/>train[‘event_count’]=train[‘event_count’].astype(‘int64’)<br/>train[‘event_code’] =train[‘event_code’].astype(‘category’)<br/>train[‘game_time’] =train[‘game_time’].astype(‘int64’)</span><span id="1329" class="li lj hi le b fi lo ll l lm ln">train[‘title’] = train[‘title’].astype(‘category’)<br/>train[‘type’] =train[‘type’].astype(‘category’)<br/>train[‘world’] =train[‘world’].astype(‘category’)</span><span id="7537" class="li lj hi le b fi lo ll l lm ln">train.info(memory_usage=’deep’)<br/>dtypes: category(7), datetime64[ns](1), int64(2), object(1)</span></pre><blockquote class="lp lq lr"><p id="e862" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">内存使用量:3.1 GB </strong></p></blockquote><p id="31a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你只是简单地选择数据类型的最佳组合，你最终会选择正确的行李类型！:)</p></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="4a90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。不要带任何你不需要的东西</strong></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/91d1ecbd6b8ea80ec909b6bcfb32240a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*LJ-Dn2KePr0vBTe-UqPphg.jpeg"/></div></figure><p id="ea9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦您对数据稍微熟悉一些，您很可能会发现有些列并不像您先前认为的那样有用。去掉你不需要的列和行。</p><p id="b7d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之后:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="51ae" class="li lj hi le b fi lk ll l lm ln">### Reduce size</span><span id="0d40" class="li lj hi le b fi lo ll l lm ln">train=train[[‘installation_id’,’type’,’game_session’,’event_code’,’world’,’event_id’,’game_time’]]<br/>train.info(memory_usage=’deep’)<br/>dtypes: category(6), int64(1)</span></pre><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/56cccfee22bbbb439ef61d87393ab2b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*Q_BKSuaHeQlVDdCohWWHBg.png"/></div></figure><blockquote class="lp lq lr"><p id="0d70" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">内存使用量:238.3 MB </strong></p></blockquote></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="6a73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。远离你的水瓶</strong></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/c044bba9f4fd2482719c4ec0477b9fd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*87PG8Nv9tgQEEOZzbaf7kA.jpeg"/></div></div></figure><p id="a493" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">很有可能会多次导入数据集。以正确的格式保存数据集将使您在每次加载数据时免于烦恼和痛苦。您还可以保存中间数据帧，以进一步缩短旅行时间。相信我，这是一次性投资。</p><p id="4979" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之前:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="4167" class="li lj hi le b fi lk ll l lm ln">import time<br/>start_time = time.time()<br/>train = pd.read_csv(“../Data_Science_Bowl/train.csv”)<br/>print(“ — — %s seconds — -” % (time.time() — start_time))</span></pre><blockquote class="lp lq lr"><p id="d075" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">-70.595842018127秒- </strong></p></blockquote><p id="28f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之后:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="1706" class="li lj hi le b fi lk ll l lm ln">train.to_pickle(“../Data_Science_Bowl/train.pkl”)</span><span id="1516" class="li lj hi le b fi lo ll l lm ln">start_time = time.time()<br/>train = pd.read_pickle(“../Data_Science_Bowl/train.pkl”)<br/>print(“ — — %s seconds — -” % (time.time() — start_time))</span></pre><blockquote class="lp lq lr"><p id="8238" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj"> - 13.541353940963745秒- </strong></p></blockquote></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><p id="1999" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。选择正确的轨道</strong></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/c462b1d51fab1ec1b3fef02e3f174ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LzPUTgO3QmuHSKBzQ9EPDA.jpeg"/></div></div></figure><p id="ac7d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">总是找到聪明的方法来最小化你的“For循环”,否则它可能会让你陷入麻烦。</p><p id="68ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之前:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="cf06" class="li lj hi le b fi lk ll l lm ln">for user in list_users:<br/>   for asst in asst_lst:<br/>        # next steps</span></pre><blockquote class="lp lq lr"><p id="58d9" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">嵌套For循环</strong></p></blockquote><p id="ae15" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之后:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="edb7" class="li lj hi le b fi lk ll l lm ln">for asst in asst_lst:<br/>   user=train.at[int(asst), 'installation_id']<br/>   # next steps</span></pre><blockquote class="lp lq lr"><p id="7f63" class="iq ir jo is b it iu iv iw ix iy iz ja ls jc jd je lt jg jh ji lu jk jl jm jn hb bi translated"><strong class="is hj">单For循环</strong></p></blockquote><p id="c514" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。把你的东西放在正确的地方</strong></p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/9f6584828151ed15b1a4e44b00819122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivd7n7QBze2odIKhcLwwYg.jpeg"/></div></div></figure><p id="74e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">务必不要使用数据框来保存单个数据位，而是使用字典。如果需要的话，可以在以后将字典合并到数据框中。</p><p id="e0be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之前:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="ac54" class="li lj hi le b fi lk ll l lm ln">train.at[index, ‘column_name’]= value</span></pre><p id="7369" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">之后:</strong></p><pre class="ki kj kk kl fd ld le lf lg aw lh bi"><span id="e33b" class="li lj hi le b fi lk ll l lm ln">Dict_values = {}</span><span id="9e47" class="li lj hi le b fi lo ll l lm ln">Dict_values.update( {index : [value]})</span></pre><h1 id="8c0e" class="ma lj hi bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">希望这有助于使您的旅程更加愉快。一路顺风！</h1><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/c0eebe7b79a36572e100e8c4a51dc873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w1mR8Q413-3yfu-QexbSdw.jpeg"/></div></div></figure></div></div>    
</body>
</html>