<html>
<head>
<title>Accuracy-Precision-Recall and much more</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">准确度-精确度-召回率等等</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/accuracy-precision-recall-and-many-more-what-the-heck-9ea99fef7016?source=collection_archive---------13-----------------------#2019-09-23">https://medium.com/analytics-vidhya/accuracy-precision-recall-and-many-more-what-the-heck-9ea99fef7016?source=collection_archive---------13-----------------------#2019-09-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="fe6e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解哪一个是分类问题的最佳度量。</h2></div><p id="ac1a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为什么在处理不平衡数据集时，准确性并不总是首选？</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/5451c72a146804428cb68e0e090c51aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QI6sOMl6m5_pQDaW"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">阿斯温·阿南德在<a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="c764" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">普遍误解</h1><p id="1e7f" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">在构建任何分类模型时，许多人默认以准确性作为衡量标准。但这是一个错误。为了更清楚，让我们试着理解什么是<em class="lh">精度</em></p><p id="a9e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">准确性:它是对正确分类的结果的度量，与类别无关。它也被称为整体成功率。让我们举一个二元分类的例子——检测信用卡欺诈。假设我们建立了一个模型(姑且称之为M1 ),结果如下:是=欺诈，否=良好交易</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es li"><img src="../Images/da3a2b0330d6dc0e02ea935d2bff55f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*U7TZWz4diOXtAbxrKzGs3A.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">M1模型的混淆矩阵</figcaption></figure><p id="514f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上述模型(M1)的准确率为<strong class="iz hj"> 67.8%。</strong>以下公式用于计算。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lj"><img src="../Images/25f4ab3e1aa4c67231c4c7e8c6b8cf22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*ropWEYFkl-cxpNuH2uGBRQ.png"/></div></div></figure><p id="a8d9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们尝试建立一个简单的模型，不需要任何复杂的算法。我们的模型(M2)会把一切都归类为好的交易。混淆矩阵将如下所示:</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lk"><img src="../Images/e399174075556cf57bca5b0d56ed8ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*xiSiKzjA10RG15oRRCJYdA.png"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">M2模型的混淆矩阵</figcaption></figure><p id="b162" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">模型M2的准确率为:<strong class="iz hj"> 85.8%。</strong>无需任何复杂的算法，我们就可以提高模型的准确性。是不是很棒！！</p><blockquote class="ll lm ln"><p id="870a" class="ix iy lh iz b ja jb ij jc jd je im jf lo jh ji jj lp jl jm jn lq jp jq jr js hb bi translated">当然错了，不是计算错了，而是选择的度量标准错了。我们不应该使用准确性作为该数据集的衡量标准。但是为什么呢？这个数据集不平衡。在该数据集中，实际欺诈案例仅占14%，其余都是真实交易(86%)。</p></blockquote><p id="33ec" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们需要选择正确的指标来解决这个问题。现在让我们看看对于这种不平衡数据集和二元分类有什么可用的度量</p><h1 id="c3c7" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">精确</h1><p id="ff75" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">这也被称为<em class="lh">阳性预测值(PPV) </em>。这可以认为是<strong class="iz hj">正面预测值中，有多少是相关的</strong>(有多少实际上是正面的)？其计算公式如下</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lr"><img src="../Images/8492c24a7f48e416b7b4714512abee94.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*4eIu4IxDP2NY4tzPhe5Vnw.png"/></div></figure><h1 id="44e2" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">回忆</h1><p id="bbbf" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">又称<em class="lh">灵敏度</em>、<em class="lh">命中率或真阳性率。</em>我们可以将此视为<strong class="iz hj">实际阳性病例中有多少被我们的模型检测到。</strong>用以下公式计算。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ls"><img src="../Images/609d62f4d78a1f399b6e560cce5d079d.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*k2DSRDhTULv1s584wXwPoQ.png"/></div></figure></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h1 id="5b24" class="kk kl hi bd km kn ma kp kq kr mb kt ku io mc ip kw ir md is ky iu me iv la lb bi translated">选择哪一个</h1><p id="e035" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">根据业务需要，<em class="lh">精度、召回率或准确度</em>可用作评估模型<em class="lh">的指标。让我们用一些例子来试着理解。</em></p><p id="97e5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例1 </strong>:推荐系统，根据用户的浏览历史，向用户推荐产品。让我们试着理解术语。</p><p id="e2dd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">商业案例</strong>:用户正在浏览大量时尚商品，模特推荐其他相关商品进行购物</p><p id="bb76" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> TruePositives </strong> —模型推荐的产品与用户相关。例如眼线、漂亮的裙子。</p><p id="0c75" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">虚假陈述</strong> —型号推荐产品，但用户不喜欢。<br/>例如手机或杂货</p><p id="b9d0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假阴性——这是一次失误。它与用户相关，我们的模型不推荐它。例如名牌鞋</p><p id="0606" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">哪个指标？</strong>为了决定哪一种更适合这种情况，我们需要回顾并回答用户更能忍受哪一种？<em class="lh">假阳性</em>或<em class="lh">假阴性</em>。在我们的例子中，我认为与看到不相关的推荐相比，用户可以容忍错过一个相关的项目。所以，更可容忍的术语是FlaseNegative。在这种情况下，建议的度量将是<strong class="iz hj">精度</strong>。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="bcb9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例2 </strong>:让我们回到最初检测信用卡诈骗的例子。让我们探讨一下这种情况下的术语</p><p id="c675" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">业务案例:</strong>基于历史数据，模型应预测交易过程中可能出现的信用卡欺诈</p><p id="53d2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> TruePositives </strong> —一笔交易被检测为欺诈，事实证明确实如此。</p><p id="61d6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">虚假陈述</strong> —交易被检测为欺诈，但最终证明是真实交易。用户可能会被要求进一步的问题，以证明身份。</p><p id="7e27" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">假阴性</strong>——一次失误。欺诈性交易未被模型检测到，并且用户毫无问题地完成了欺诈</p><p id="3865" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">哪个指标</strong>？如前所述，我们需要了解在这种情况下什么是可以容忍的？好的交易被检测为欺诈，并且与错过以捕捉欺诈交易相比，应该容忍向用户询问更多的问题。因此，假阳性是宽容的，模型应该惩罚假阴性。因此，在这种情况下，建议的指标将是<strong class="iz hj">回忆一下</strong></p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h1 id="3005" class="kk kl hi bd km kn ma kp kq kr mb kt ku io mc ip kw ir md is ky iu me iv la lb bi translated">摘要</h1><p id="58a1" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">在本文中，我们只涉及了几个指标。但是还有更多可以考虑的。要记住的一件事是——并不是总有一个指标对现实世界的问题最有效。此外，对于不平衡的数据集，我们需要格外小心。最重要的是，在确定评估和测试模型的正确指标时，要记住业务案例</p></div></div>    
</body>
</html>