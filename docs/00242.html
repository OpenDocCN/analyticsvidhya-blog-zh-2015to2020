<html>
<head>
<title>Code Candy Logistic Regression : Encoding Categorical Variables in Python.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码糖果逻辑回归:在Python中编码分类变量。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/logistic-regression-encoding-categorical-variables-in-python-e23e1d395339?source=collection_archive---------1-----------------------#2019-01-10">https://medium.com/analytics-vidhya/logistic-regression-encoding-categorical-variables-in-python-e23e1d395339?source=collection_archive---------1-----------------------#2019-01-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/8adccd18714ef8219800ee4014d7e26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kUn5bgsd40qf4q0jZtIGrQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">逻辑回归简图</figcaption></figure><div class=""/><p id="528b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">用python中的scikit-learn编写数据挖掘代码，必然会导致您解决数据中有多个分类变量的逻辑回归问题。尽管scikit-learn支持简单回归和多项式回归，但它希望输入是数字形式，以便使用其内部激活函数来计算结果。</p><p id="68ef" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下面是将分类变量转换成scikit-learn模块可以理解的数值变量的最简单方法。</p><p id="7c2b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们考虑一下下面的数据，从中可以推断出一个人的经历决定了他的薪水。很明显，这里的自变量和因变量都是一个范围。使用scikit- learn模块进行逻辑回归将返回一个错误，因为内部模块无法将string转换为float。因此，我们需要在python中将这些列指定为分类变量，并将每个类别的值转换为一组新的数值。</p><p id="2526" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">例如，想象一个包含雇员性别信息的数据集。</p><p id="35d1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们的数据集中，我们将把这些值编码为数值{1，0，0，1 }，并在我们的建模等式中使用这个数值元组，而不是像{ '男性'，女性'，'女性，'男性' }这样的值。</p><figure class="jt ju jv jw fd hk er es paragraph-image"><div class="er es js"><img src="../Images/cacf6c56421dca29cfe30992b4a9571c.png" data-original-src="https://miro.medium.com/v2/resize:fit:286/format:webp/1*NBwv6MztrX6ljZK2JrK0SQ.png"/></div></figure><p id="5756" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将这两列视为数据集data_train的一部分。下面的代码将这两列声明为Python的category类型，编码后的列可进一步用于使数据符合逻辑回归。</p><blockquote class="jx jy jz"><p id="3f86" class="iu iv ka iw b ix iy iz ja jb jc jd je kb jg jh ji kc jk jl jm kd jo jp jq jr hb bi translated">data _ train[' experience ']= data _ train[' experience ']。astype(' category '<br/>data _ train[' exp _ cat ']= data _ train[' experience ']. cat . codes<br/>Test = data _ train[' exp _ cat ']</p></blockquote><p id="8435" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Test.head()返回以下值，而不是上面显示的类别。<br/>0 104<br/>1 19<br/>2 106<br/>3 112<br/>4 8</p><p id="5550" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，像这样的数据集可以用于在下面的代码中构建2d数组x，以开发逻辑回归模块</p><blockquote class="jx jy jz"><p id="24c2" class="iu iv ka iw b ix iy iz ja jb jc jd je kb jg jh ji kc jk jl jm kd jo jp jq jr hb bi translated">from sklearn.linear_model导入LogisticRegression<br/>lr = LogisticRegression()。拟合(x，y)</p></blockquote><p id="4c70" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是一个编程的小技巧！希望有用！</p></div></div>    
</body>
</html>