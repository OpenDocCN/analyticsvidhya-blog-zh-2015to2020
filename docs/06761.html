<html>
<head>
<title>API and Object Interaction Extravaganza in Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ruby中的API和对象交互盛会</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/api-and-object-interaction-extravaganza-a0ce928fbc2a?source=collection_archive---------27-----------------------#2020-06-01">https://medium.com/analytics-vidhya/api-and-object-interaction-extravaganza-a0ce928fbc2a?source=collection_archive---------27-----------------------#2020-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/31c74d27ffdc27f2867fa11d783f5cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FmamdTU1rSPj4n34"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">卢卡·劳伦斯在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="51b9" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">API令人兴奋。我是认真的。别嘲笑我了。</p><p id="d240" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">他们有能力把一个沙盒编码项目变成一个应用程序，与你的计算机和本地文件之外的世界进行交互。您将获得大量信息，所以让我先列出各个部分:</p><ul class=""><li id="2f60" class="jt ju hy ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated"><a class="ae hv" href="#51f8" rel="noopener ugc nofollow">思考对象交互&amp;程序间通信。</a></li><li id="afbf" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#de6e" rel="noopener ugc nofollow">连接圆点</a></li><li id="a67c" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#2955" rel="noopener ugc nofollow">客户端/服务器模式。</a></li><li id="6e48" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#02ef" rel="noopener ugc nofollow">使用它或失去它</a></li><li id="a786" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#65c0" rel="noopener ugc nofollow"> Ruby API第一步:理解</a></li><li id="453c" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#cd16" rel="noopener ugc nofollow"> Ruby API步骤2:搜索&amp;选择</a></li><li id="9356" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#ee56" rel="noopener ugc nofollow"> Ruby API步骤3:获取访问权限</a></li><li id="c759" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" href="#b03c" rel="noopener ugc nofollow"> Ruby API步骤4:端点</a></li><li id="f9ef" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated">Ruby API第五步:使用API </li><li id="833e" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" rel="noopener" href="/analytics-vidhya/api-and-object-interaction-extravaganza-d0328e3f07a6"> Ruby API第六步:让它动态化</a></li><li id="7310" class="jt ju hy ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><a class="ae hv" rel="noopener" href="/analytics-vidhya/api-and-object-interaction-extravaganza-d0328e3f07a6">结论</a></li></ul></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="51f8" class="ko kp hy bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">思想实验时间</h1><p id="5442" class="pw-post-body-paragraph iv iw hy ix b iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo lq jq jr js hb bi translated">想象一群孩子在田野中间的沙箱里。在远处，孩子们可以看到人、建筑物、汽车等。他们通常知道这些东西是什么，但没有办法与之互动。一天，三个孩子注意到一家面包店。孩子们目不转睛地盯着店面，看着一个典型的互动过程:一个顾客进来，收银员拿走顾客的订单，一个面包师拿出一条面包，收银员要求付款，顾客付款，然后拿着面包离开。</p><figure class="ls lt lu lv fd hk er es paragraph-image"><div class="er es lr"><img src="../Images/a8810ca28dadb5ebb2af7263a7d10151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*ZGY2KJSUIQR6-n9Jcr4Lng.jpeg"/></div></figure><p id="a2ba" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这三个孩子立即开始玩虚拟面包店，他们每个人都扮演面包店的三个角色之一(顾客、收银员、面包师)。当顾客付款时，收银员说“那是一百万美元。”收银员和顾客就面包的真实价格发生了争执。</p><p id="7ae2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">争论一直持续下去，因为孩子们根本不知道面包的实际价格。厌倦了所有的争吵，面包师离开了她想象中的面包店，并要求一个大孩子走到最初启发了这个游戏的真实面包店，并获得一条面包的真实价格。大孩子照做了，几分钟后带着信息回来了。从而结束了收银员与顾客之间的争吵，并使想象中的生意得以恢复。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="de6e" class="ko kp hy bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">将这些点连接起来</h1><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/a163bf2e543519b4a3d504c80f2acd11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_9qifL19za27lNsy"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae hv" href="https://unsplash.com/@alinenok?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alinenok </a>拍摄的照片</figcaption></figure><p id="02ad" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所描述的虚拟游戏可以被看作是一个有四个类的面包店应用程序:客户、收银员、面包师和OlderKid。顾客、收银员和面包师是我们面包店引人注目的工作。然而，没有奥尔德基，面包店注定永远漂浮在虚幻中。</p><p id="ccb4" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">想象一下，孩子们在成年后继续经营面包店，并最终决定开设一家名为Bread.com的网上商店，允许在线客户从全市的面包店订购面包。bread将通过连接各种面包店的网站(如Citybakery.com)并获得他们提供的每种面包的类型和价格来做到这一点。突然间，OlderKid的重要性更加明显了。OlderKid将是网上面包店生存能力的决定性因素，因为OlderKid的职责是提供来自全市所有面包店的准确信息。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="2955" class="ko kp hy bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">客户机/服务器模式</h1><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lx"><img src="../Images/40c1d3a40c7bd4a01190c06e08815f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*foB4e_aBvkbxduOR"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@kelvin1987?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelvin Ang </a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="af4e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">OlderKid和面包店网站之间的基本交互类似于我们每次访问网站时使用的交互。这种交互被称为客户机/服务器模型。客户端是你的浏览器，服务器是你试图浏览的网站的主机。这种交互可以被看作是客户端和服务器之间的对话。请将单击链接视为发起对话:</p><p id="00e6" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你点击一个链接，告诉你的浏览器访问一个网站。</p><p id="ae31" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你的浏览器回答:“太好了，我马上就去做”</p><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ly"><img src="../Images/e1d8f88a3730834458ee33daac00086f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*96fQp2BIhyjFx_wv"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">两个系统通过<a class="ae hv" href="https://unsplash.com/@mihaisurdu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Mihai苏尔杜</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上相互通信</figcaption></figure><p id="d2db" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你的浏览器对托管Google.com的服务器说:“嗨！你能把显示Google.com的相关文件发给我吗？”</p><p id="a775" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">服务员回答:“当然可以！在这里"</p><p id="8a8e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你的浏览器对你说:“我收到了原始代码，现在我会用像你这样的人容易理解的格式来呈现它”</p><p id="c80b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">整个对话可以在不到一秒钟的时间内发生，如果你在网站加载时仔细观察浏览器底部，你甚至可以捕捉到更新:“等待Google.com处理请求。”这种请求和响应交互允许服务器控制信息流，并创建一个网关，所有客户端都可以通过该网关发出请求。本质上，服务器使得任何浏览器都可以很容易地联系和请求信息。</p><p id="23df" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将客户机/服务器模式与Bread.com和Citybakery.com之间的关系相比较，我们可以看到相似之处。然而，Bread.com不是一个只会显示Citybakery.com的网页浏览器。Bread.com正努力成为满足您所有面包店需求的一站式商店，从全市的面包店提取准确的数据并呈现给用户。对Bread.com来说幸运的是，我们可以为它的每个合作伙伴面包店建立一个机制，让OlderKid可以随时自动获得最新信息。这个机制就是API。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="02ef" class="ko kp hy bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">用进废退</h1><p id="49b6" class="pw-post-body-paragraph iv iw hy ix b iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo lq jq jr js hb bi translated">在这一点上，我们将告别Bread.com，并向“使用它或失去它”问好，这是我的同学<a class="lz ma ge" href="https://medium.com/u/9eba2377ff56?source=post_page-----a0ce928fbc2a--------------------------------" rel="noopener" target="_blank">格兰特吉通</a>和我在参加<a class="lz ma ge" href="https://medium.com/u/973c5cbfb09b?source=post_page-----a0ce928fbc2a--------------------------------" rel="noopener" target="_blank">熨斗学校</a>时为我们的第一个项目制作的应用程序(你可以点击<a class="ae hv" rel="noopener" href="/@chaserabenn/use-it-or-lose-it-a-debugging-story-825d55cd1ee">这里</a>阅读更多关于使用它或失去它的信息，从概念到执行)。使用它或失去它(或简称为“UIOLI ”)的主要功能是根据用户选择的食品柜项目向他们提供食谱。在构思UIOLI时，我们知道需要一个API来执行这个功能。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h1 id="49aa" class="ko kp hy bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">在应用程序中使用API</h1><h2 id="65c0" class="mb kp hy bd kq mc md me ku mf mg mh ky jg mi mj lc jk mk ml lg jo mm mn lk mo bi translated">第一步</h2><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/377d6ded8ce3f3d6e95bd1d9024bb8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ksWkfZPbc9XxEdR"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@emilymorter?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾米丽·莫特</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="8100" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">格兰特和我实现这一目标的第一步是理解API到底是什么。</p><p id="a50a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">API代表应用程序接口，是一组允许一个程序或系统与另一个程序或系统通信的规则。通信是通过GET请求完成的。还记得客户机/服务模型中的对话吗？当客户机(您的浏览器)向服务器发送消息请求更多信息时，它正在发送一个HTTP GET请求。API与它自己的GET请求一起使用，该请求可用于将一个实体的数据或功能集成到另一个实体中。</p><p id="bc64" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用API功能的示例包括允许网站访问者使用他们的脸书凭据创建帐户，或者在网站上包含一个小的Google Maps小部件。对于UIOLI，我们需要找到一个API，它可以提供特定的数据，然后我们的应用程序就可以操作这些数据并呈现给我们的用户。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h2 id="cd16" class="mb kp hy bd kq mc md me ku mf mg mh ky jg mi mj lc jk mk ml lg jo mm mn lk mo bi translated">第二步</h2><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mp"><img src="../Images/1ebc0576f6c33c7320bf235c8a359753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OZDlluCJhlJBHrcW"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">马库斯·温克勒在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="87aa" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦我们在某种程度上理解了我们在处理什么，它就开始搜索和选择一个API。由于这是我第一次使用API，我在谷歌上搜索了“易于使用的食品API”我很快发现有成千上万的选择在你的指尖，但其中许多是付费服务，所以我把搜索改为“易于使用的食品API免费”以缩小范围。这个新的搜索提供了一些可供比较的选项。为了做到这一点，您需要查看API的文档。</p><p id="223c" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你访问一个特定的API网站时，寻找“文档”或“文档”链接。在这里，您可以找到API提供者对您可以访问哪些类型的数据以及如何获得这些数据的解释。我找到的API来自一家名为“Spoontacular”的公司下面您将看到特定端点的文档(特定可搜索数据集的URL)，称为“按成分搜索食谱”</p><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mq"><img src="../Images/392d74d671d18afbd3cd8aa2f7d69b70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YouNXEM2WcgxzLVxg7WgQ.png"/></div></div></figure><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mr"><img src="../Images/8455ba6be338c851e20c3ab3b76c3d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKWozmqcl5plHpIirONACA.png"/></div></div></figure><p id="3554" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在查看了文档页面上的GET请求示例后，我认为Spoontacular非常适合UIOLI。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h2 id="ee56" class="mb kp hy bd kq mc md me ku mf mg mh ky jg mi mj lc jk mk ml lg jo mm mn lk mo bi translated">第三步</h2><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ms"><img src="../Images/6bf5c4d0c19f5d0f91d128bd30ea9925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6Z93oAmReEQeMGDH"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由<a class="ae hv" href="https://unsplash.com/@pechka?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马頔·佩丘林</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="1700" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是时候访问您选择的API了。这可以说是最直接的一步，因为你需要做的就是注册。你要么直接和API公司签约，要么和一个API数据库签约，比如RapidAPI，它可以让你通过一次签约访问成千上万的API。注册后，您将获得一个唯一的API密钥来访问该公司的数据。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h2 id="b03c" class="mb kp hy bd kq mc md me ku mf mg mh ky jg mi mj lc jk mk ml lg jo mm mn lk mo bi translated">第四步</h2><p id="877d" class="pw-post-body-paragraph iv iw hy ix b iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo lq jq jr js hb bi translated">接下来，我们需要理解端点，它只是我们发送GET请求的URL。换句话说，一个端点就是你要到达的那个东西。让我们在一个HTTP GET请求的上下文中来看一下端点，该请求向Google的服务器请求关于小狗的信息。</p><figure class="ls lt lu lv fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mt"><img src="../Images/2e2e46078f54a93b2631d0fa721b511d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SFjO8eo2b_KdfFaG"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">汉娜·格蕾丝在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8c9b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">获取对谷歌主页的请求</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="45b7" class="mb kp hy mv b fi mz na l nb nc">Endpoint: http://www.google.com</span></pre><p id="1daa" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">获取关于小狗的谷歌信息的请求</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="33a8" class="mb kp hy mv b fi mz na l nb nc">Endpoint: https://www.google.com/search?q=puppies</span></pre><p id="0ae6" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">获取小狗图片的谷歌请求</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="067a" class="mb kp hy mv b fi mz na l nb nc">Endpoint: https://www.google.com/search?q=puppies&amp;tbm=isch</span></pre><p id="d852" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">获取小狗视频的谷歌请求</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="ae72" class="mb kp hy mv b fi mz na l nb nc">Endpoint: https://www.google.com/search?q=puppies&amp;tbm=vid</span></pre><p id="cebd" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，我们在URL中包含了小狗搜索的所有信息。API端点以类似的方式运行。主要的区别在于，虽然您可以访问Google.com而不附加任何查询，但是您不能使用API端点来这样做。API的目的是发送一个查询。</p><p id="f0b2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们构建将用于访问API的URL，在构建过程中，看看不同的查询在URL中是如何描述的:</p><p id="823f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">"?"标记查询的开始</p><p id="5402" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“&amp;”分隔后续的查询类型</p><p id="5a04" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“+”在一个参数类型中分隔搜索项</p><p id="5c4f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于所选配料获取配方的端点。</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="c8dd" class="mb kp hy mv b fi mz na l nb nc"><a class="ae hv" href="https://api.spoonacular.com/recipes/findByIngredients" rel="noopener ugc nofollow" target="_blank">https://api.spoonacular.com/recipes/findByIngredient</a>s</span></pre><p id="4607" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">没有任何查询附加到上述URL，因此响应将是一个错误。始终需要的一个查询是API键，因此我们将首先添加它</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="1049" class="mb kp hy mv b fi mz na l nb nc"><a class="ae hv" href="https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc" rel="noopener ugc nofollow" target="_blank">https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc</a></span></pre><p id="c6cd" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">精彩！现在，我们已经获得了访问数据的授权，可以通过GET请求将数据发送到服务器。可能有一个用于“返回所有食谱”的API，在这种情况下不需要其他查询。关于这一勺形终点，文件不允许“全部返回”,因此至少需要一个成分查询</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="0041" class="mb kp hy mv b fi mz na l nb nc">https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc&amp;ingredients=onion</span></pre><p id="03f7" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们正在搜索所有以洋葱为原料的食谱。也许我们应该再加一条:</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="9e53" class="mb kp hy mv b fi mz na l nb nc"><a class="ae hv" href="https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc&amp;ingredients=onion+garlice" rel="noopener ugc nofollow" target="_blank">https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc&amp;ingredients=onion+garlic</a></span></pre><p id="fcd1" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Spoontacular还允许您使用“number”参数来设置希望收到的搜索结果的数量。对于UIOLI，我们每次搜索只需要10个结果:</p><pre class="ls lt lu lv fd mu mv mw mx aw my bi"><span id="efe7" class="mb kp hy mv b fi mz na l nb nc"><a class="ae hv" href="https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc&amp;ingredients=onion+garlice&amp;number=10" rel="noopener ugc nofollow" target="_blank">https://api.spoonacular.com/recipes/findByIngredients?apiKey=123abc123abc&amp;ingredients=onion+garlice&amp;number=10</a></span></pre><p id="7f75" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们的URL包括三个搜索参数(apiKey、ingredients和number ),我们已经准备好了！</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><h2 id="6119" class="mb kp hy bd kq mc md me ku mf mg mh ky jg mi mj lc jk mk ml lg jo mm mn lk mo bi translated"><a class="ae hv" rel="noopener" href="/@chaserabenn/api-and-object-interaction-extravaganza-d0328e3f07a6">点击这里观看第二部分:从执行到整合</a></h2></div></div>    
</body>
</html>