<html>
<head>
<title>Top 5 Winning Solutions and Approaches from AmExpert 2019 — Feature Engineering Special!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">来自AmExpert 2019的五大获奖解决方案和方法—特色工程特刊！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/top-5-winning-solutions-and-approaches-from-amexpert-2019-feature-engineering-special-bfdba0f87fee?source=collection_archive---------12-----------------------#2019-10-21">https://medium.com/analytics-vidhya/top-5-winning-solutions-and-approaches-from-amexpert-2019-feature-engineering-special-bfdba0f87fee?source=collection_archive---------12-----------------------#2019-10-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="7f4c" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">概观</h1><ul class=""><li id="49f6" class="jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">展示来自AmExpert 2019黑客马拉松的五大获奖解决方案和方法</li><li id="aae2" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">问题陈述来自零售业，旨在预测客户行为</li><li id="9677" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">这五个获胜的解决方案有一个共同的主题，让他们赢得了这次零售黑客马拉松——请继续阅读，找出它是什么！</li></ul><h1 id="1620" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="7005" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">如果让我选出数据科学影响最大的五大行业，零售业肯定每次都会榜上有名。我对这些数据科学团队在全球范围内解决的各种挑战和解决方案感到敬畏。</p><p id="b0bb" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">这个行业产生的大量数据已经产生了数据科学的多个用例，这些用例正在被大型零售商如Tesco、Target、Walmart等成功利用。只需看看零售业中一些常见的数据科学使用案例:</p><ul class=""><li id="3e03" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">推荐引擎</li><li id="49b2" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">市场篮子分析</li><li id="4d34" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">价格优化</li><li id="c094" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">存货管理</li><li id="fa7f" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">客户情绪分析等等</li></ul><p id="3c6e" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">零售业中最广泛使用的销售策略之一是促销。随着竞争的白热化，零售商提供了越来越多创新的优惠和折扣。公司越来越依赖数据驱动的促销策略来获得最大的投资回报。</p><figure class="ky kz la lb fd lc er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es kx"><img src="../Images/09274b01a882f8502c7e1db816d19bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3nHeQg5RhuFkAwXW"/></div></div></figure><p id="1343" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">我敢肯定你参加过相当多的这些零售商的促销活动(你知道我说的是哪几家！).折扣营销和优惠券可能是两种最常用的促销手段，以吸引新客户，并保持和加强现有客户的忠诚度。</p><p id="a5f4" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">因此，你可以想象，衡量消费者使用优惠券的倾向，甚至预测兑换行为，将会有多大的价值。这些是评估营销活动有效性的关键参数。</p><p id="7698" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><strong class="jf hj"> <em class="lj">与我们的黑客马拉松合作伙伴和赞助商</em></strong><a class="ae lk" href="https://www.analyticsvidhya.com/datahack-summit-2019/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"><strong class="jf hj"><em class="lj">data hack Summit 2019</em></strong></a><strong class="jf hj"><em class="lj">——美国运通合作，我们利用历史兑换数据和客户交易概念化并设计了一个与优惠券兑换预测相关的问题陈述。</em>T13】</strong></p><p id="6a01" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">看到世界上一些最优秀的数据科学家之间激烈的竞争和参与，真是令人惊讶。我们的团队被新用户以及许多老用户的回应和友好的评价所淹没。以下是一些最重要的例子:</p><blockquote class="ll lm ln"><p id="c979" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated"><em class="hi">“我要感谢AV组织了一次伟大的黑客马拉松。这可能是今年最有趣的黑客马拉松之一。”—萨赫勒·维尔马</em></p><p id="75e1" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated">“这是一场关于特征工程的精彩比赛，我非常喜欢。”— Bishwarup </p><p id="8ea7" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated"><em class="hi">“感谢Vidhya分析公司和美国运通公司举办这场精彩的比赛。”—穆迪特·蒂瓦里</em></p></blockquote><p id="5f75" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">对于我们的团队和所有参赛者来说，这是令人兴奋的一周，1000多名参赛者粘在他们的机器上，尝试不同的技术，创造新的功能，以跨越0.9 AUC-ROC标志。让我们看看这篇文章中的五大成功解决方案和方法。</p><h1 id="977b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">关于AmExpert 2019黑客马拉松</h1><p id="f8ba" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated"><a class="ae lk" href="http://datahack.analyticsvidhya.com/contest/amexpert-2019-machine-learning-hackathon/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> AmExpert 2019 </a>是Analytics Vidhya举办的最大的黑客马拉松之一。请查看这些惊人的数字和提供的奖品:</p><ul class=""><li id="a201" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">总注册人数:5991人</strong></li><li id="46fb" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">总提交数:14，861 </strong></li><li id="4718" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">奖金:MacBook、iPad Mini、智能手表&amp;面试机会！</strong></li></ul><p id="9950" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">这是一场令人难忘且竞争激烈的9天黑客马拉松，来自全国各地的各种数据科学家和数据科学专业人士参加了此次活动。</p><figure class="ky kz la lb fd lc er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lr"><img src="../Images/32e4bdf581a0cfe5518d2bd44a235f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oAdpeelB_m0ySa0e"/></div></div></figure><h1 id="6a69" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">AmExpert 2019黑客马拉松的问题陈述:预测优惠券兑换</h1><p id="fe99" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">让我们来了解一下这次黑客马拉松背后的问题陈述。我在前面的介绍中已经暗示过了，但是让我在这里详细说明一下。</p><p id="625e" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">这家XYZ信用卡公司通过提供机器学习和分析咨询，定期帮助其商家更好地理解他们的数据，并准确地做出关键商业决策。ABC是一家老牌实体零售商，经常为其多样化的产品系列开展营销活动。</p><blockquote class="ls"><p id="3e3a" class="lt lu hi bd lv lw lx ly lz ma mb jq dx translated"><em class="mc"> ABC已经寻求XYZ帮助他们利用机器学习的力量进行折扣营销。能不能戴上AmExpert的帽子，帮帮ABC？</em></p></blockquote><p id="019d" class="pw-post-body-paragraph ka kb hi jf b jg md kc kd ji me ke kf jk mf kh ki jm mg kk kl jo mh kn ko jq hb bi translated">ABC的促销活动通过各种渠道共享，包括电子邮件、通知等。许多此类活动包括为特定产品/产品系列提供的优惠券折扣。<strong class="jf hj">零售商希望能够预测客户是否会兑现跨渠道收到的优惠券，这将使零售商的营销团队能够准确设计优惠券结构，并制定更精确和更有针对性的营销策略。</strong></p><p id="8a16" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">此问题中的可用数据包含以下信息，包括以前活动中使用的活动和优惠券样本的详细信息:</p><ul class=""><li id="dd08" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">用户人口统计详细信息</li><li id="b7d5" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">活动和优惠券详情</li><li id="9035" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">产品详情</li><li id="dc4b" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">以前的交易</li></ul><p id="d2ba" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">根据过去18次活动的交易和绩效数据，参与者被要求预测在测试集中每个优惠券和客户组合的下10次活动中优惠券被兑换的概率。一个真正迷人的挑战！</p><h1 id="0a9d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">数据集描述</h1><p id="e554" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">以下是不同可用数据表的模式:</p><figure class="ky kz la lb fd lc er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es mi"><img src="../Images/c32fe1d30c29828534757888004cf8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kvYwNRucunIPA55w"/></div></div></figure><p id="dea6" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">在<em class="lj"> train.zip </em>文件中为参与者提供了以下文件:</p><ul class=""><li id="8867" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj"> Train: </strong> Train数据包含在18个活动中提供给给定客户的优惠券</li><li id="1621" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">活动数据:</strong>28个活动中每一个的活动信息</li><li id="3ef4" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">优惠券项目映射:</strong>优惠券与该优惠券下可享受折扣的项目的映射</li><li id="851a" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">客户人口统计:</strong>某些客户的客户人口统计信息</li><li id="570d" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">客户交易数据:</strong>列车数据中活动期间所有客户的交易数据</li><li id="c139" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">商品数据:</strong>零售商销售的每个商品的商品信息</li><li id="80a8" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">测试:</strong>包含预测兑现状态的优惠券客户组合</li></ul><p id="de13" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">总结整个过程:</p><ul class=""><li id="0558" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">顾客在各种活动中收到优惠券，并可以选择兑现</li><li id="d78b" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">他们可以根据优惠券项目映射，在活动开始日期和结束日期之间的持续时间内，用给定优惠券兑换该优惠券的任何有效产品</li><li id="9fad" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">接下来，客户将在零售店用优惠券购买一件商品，这将反映在交易表的列<em class="lj"> coupon_discount </em>中</li></ul><h1 id="0252" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">评估指标</h1><p id="15c2" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">根据预测概率和观察目标之间的ROC曲线度量标准下的<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2019/08/11-important-model-evaluation-error-metrics/" rel="noopener ugc nofollow" target="_blank">面积对提交进行评估。</a></p><h1 id="ef37" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">AmExpert 2019黑客马拉松的获奖者</h1><p id="b786" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">参加黑客马拉松是第一步。但是赢得它，甚至在排行榜上名列前茅，是一项非常艰巨的任务。我个人参加过无数次黑客马拉松，可以证明登顶排行榜的难度和独创性。</p><p id="11e7" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">因此，向AmExpert 2019黑客马拉松的获胜者致敬。在我们介绍他们的获胜方法之前，让我们祝贺获胜者:</p><ul class=""><li id="1240" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">排名1: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/sourabhjha" rel="noopener ugc nofollow" target="_blank">苏拉布·贾</a></li><li id="a9bc" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">排名2: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/Tezdhar" rel="noopener ugc nofollow" target="_blank">莫辛汗又名特兹达尔</a></li><li id="e7e3" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">排名3: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/sahilv711@gmail.com" rel="noopener ugc nofollow" target="_blank">萨赫勒维尔马</a></li><li id="fb65" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">排名第四:<a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/pradeeppathak9" rel="noopener ugc nofollow" target="_blank">帕拉德普·帕塔克</a></li><li id="25f9" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">排名第五:<a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/mudit97" rel="noopener ugc nofollow" target="_blank">穆迪特·提瓦里</a></li></ul><p id="c21e" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">你可以在黑客马拉松<a class="ae lk" href="https://datahack.analyticsvidhya.com/contest/amexpert-2019-machine-learning-hackathon/pvt_lb" rel="noopener ugc nofollow" target="_blank">排行榜</a>上查看所有参与者的最终排名。</p><p id="b97d" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">前五名选手分享了他们在比赛中的详细方法。我相信你很想知道他们的秘密，所以让我们开始吧。</p><p id="dc20" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><em class="lj">注意:我们下面提供的所有方法都是获胜者自己的话。</em></p><h1 id="2fb8" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">排名第五:<a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/mudit97" rel="noopener ugc nofollow" target="_blank">穆迪特·蒂瓦里</a></h1><blockquote class="ll lm ln"><p id="32f0" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated"><em class="hi">“我在这次比赛中主要关注的是特征工程。”</em></p></blockquote><ul class=""><li id="aa4b" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">因为有5-6个表要连接，所以我决定从所有的表中提取数据来创建功能丰富的数据集。<strong class="jf hj">我在收集了顾客、商品和优惠券行为的交易数据后，制作了4种数据集。</strong>我测试并最终确定了我的验证策略。我尝试了团体k倍和正常k倍，得到了更好的结果与后者。在开发数据集后，我最终确定了6个模型。这6款车型随后用于堆叠和组装，在公开排行榜上给出了大约<strong class="jf hj"> 96.2 CV和～94.46 CV</strong></li><li id="2d8a" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">特征工程:</strong></li></ul><p id="d8d9" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我发现最有趣的表是客户交易表。客户交易表的聚合确实有助于我的模型的性能</p><p id="0716" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—需要正确使用交易数据，以避免任何泄露的可能性(我仅在每个活动ID的开始日期之前使用交易数据进行汇总)</p><p id="7106" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我在交易数据中做了很多新的逻辑特征，比如总折扣、折扣百分比等。</p><p id="0483" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我执行了对应于不同数值(平均值、最小值、最大值、标准偏差等)的各种聚合。)以及分类特征(模式、独特性等)。)</p><p id="33dc" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—每张优惠券都包含一些商品id。因此，我决定查看每个活动对应的每个客户购买的商品数量。最终，<strong class="jf hj">这个特性成为了最重要的特性</strong></p><p id="fb7f" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—利用上一点的想法，我制作了两组不同的变量:</p><ol class=""><li id="fa91" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq mj js jt ju bi translated">对于每个活动和优惠券ID，转到相应的交易表，并在项目中寻找趋势(称为项目级聚合)</li></ol><p id="eafa" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">2.对于每个活动和优惠券ID，查看优惠券的过去趋势，如交易表中该优惠券下的独立客户数量，或其类似趋势(称为优惠券级别的聚合)</p><ul class=""><li id="ac0b" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">在第一轮模型开发之后，我知道优惠券级别的聚合没有商品级别的聚合重要</li><li id="aec1" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">这种多种多样的变量和趋势是从事务数据和其他表中获取的。通过合并，我能够创建4个不同的数据集</li></ul><blockquote class="ll lm ln"><p id="64d4" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated">“我决定采用3种不同的增强技术——CatBoost、LightGBM和XGBoost。”</p></blockquote><ul class=""><li id="b1c3" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">最终模型:</strong>不同的数据集和一堆不同种类的模型让我对建模过程有了一个很好的想法。我用过k-fold，也试过用组k-fold，但是用k-fold的OOT结果更好。Boosting运行良好，而bagging ( <a class="ae lk" href="http://www.analyticsvidhya.com/blog/2014/06/introduction-random-forest-simplified/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> random forest </a>)没有给出标准结果。我决定采用3种不同的增强技术——<a class="ae lk" href="http://www.analyticsvidhya.com/blog/2017/08/catboost-automated-categorical-data/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank">CatBoost</a>、<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2017/06/which-algorithm-takes-the-crown-light-gbm-vs-xgboost/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> LightGBM </a>和<a class="ae lk" href="http://www.analyticsvidhya.com/blog/2018/09/an-end-to-end-guide-to-understand-the-math-behind-xgboost/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>。<strong class="jf hj">我对这三个模型和4个数据集进行了重复实验，并在人工参数调整和特征选择后选择了6个模型。</strong>我已经提供了下面的整体示意流程图。在最终的六个模型中，除了一个XGBoost模型之外，所有的模型都用于两种类型的堆积——一个使用简单的逻辑回归，另一个使用人工神经网络</li><li id="02b4" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">点击查看解决方案<a class="ae lk" href="https://github.com/kunalj101/amExpert_ML_Hackathon_2019_Winners_Soultions/tree/master/Rank_5_Mudit_Tiwari" rel="noopener ugc nofollow" target="_blank"/></li></ul><figure class="ky kz la lb fd lc er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es mk"><img src="../Images/9eebea9a8ea67993a156d6f393442e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YoWephSeCqlJu5au"/></div></div></figure><h1 id="7133" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">排名4: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/pradeeppathak9" rel="noopener ugc nofollow" target="_blank">帕拉德普·帕塔克</a></h1><blockquote class="ll lm ln"><p id="a5f1" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated"><em class="hi">“我创建了一个包含大约124个特征的数据集，构建了不同的模型，并采用所有模型预测的总体平均值作为最终提交。拥有可靠的交叉验证策略是在竞争中脱颖而出的关键。”</em></p></blockquote><ul class=""><li id="f635" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">特色工程:</strong></li></ul><p id="abe0" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—由于问题陈述是根据过去的交易来预测用户是否会兑现优惠券，因此从中创建的功能(历史交易)变得非常重要</p><p id="0653" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><strong class="jf hj">——这里的关键是对交易进行子集化，以避免泄露。</strong>因此，对于每一行，我只使用开始日期之前的事务来创建相同的特性</p><p id="b4fe" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我为下面提到的组创建了聚合功能。我们的想法是从不同的层面和角度创造有价值的特色，吸引顾客兑现优惠券:</p><ol class=""><li id="c765" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq mj js jt ju bi translated">客户和开始日期组</li></ol><p id="9c66" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">2.优惠券和开始日期组</p><p id="8b1c" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">3.客户、优惠券和开始日期组</p><p id="1eb7" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">4.还使用了客户和优惠券的每日级别聚合</p><p id="3020" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">5.品牌(从优惠券中提取)和开始日期组</p><p id="6d20" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">6.我也用同样的直觉尝试了许多其他级别的聚合特征，但它们并没有被证明是有用的，所以我在最终的数据集中放弃了它们</p><p id="c052" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><strong class="jf hj"> 7。创造没有任何泄漏的特色是在比赛中获得冠军的关键</strong></p><ul class=""><li id="c4c8" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">最终模型:</strong>平均预测来自具有大约124个特征的数据集上的<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2017/06/which-algorithm-takes-the-crown-light-gbm-vs-xgboost/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> LightGBM </a>、<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2018/09/an-end-to-end-guide-to-understand-the-math-behind-xgboost/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> XGBoost </a>和<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2017/08/catboost-automated-categorical-data/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> CatBoost </a>模型</li><li id="a11d" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">关键要点:</strong>创造有价值的功能是在竞争中脱颖而出的关键。使用历史数据时避免特征泄漏对于模型不过度拟合非常重要</li><li id="256b" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">点击查看解决方案<a class="ae lk" href="https://github.com/kunalj101/amExpert_ML_Hackathon_2019_Winners_Soultions/tree/master/Rank_4_Pradeep_Pathak" rel="noopener ugc nofollow" target="_blank"/></li></ul><h1 id="6524" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">排名3: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/sahilv711@gmail.com" rel="noopener ugc nofollow" target="_blank">萨希尔·维尔马</a></h1><blockquote class="ll lm ln"><p id="47d1" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated">问题的关键在于创建特性时不要引入漏洞。大多数参与者都在为此挣扎。”</p></blockquote><ul class=""><li id="4881" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">特征工程:</strong></li></ul><p id="41db" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—对于给定的客户优惠券对，目标是找到该优惠券的所有商品，并找到客户使用过去的交易购买该产品的倾向。我们可以在品牌和类别层面应用类似的逻辑。除了倾向之外，我们还可以计算一系列其他变量，例如，总支出是多少，总折扣是多少，等等。</p><p id="1367" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—除了客户优惠券级别，我还在仅优惠券和仅活动级别尝试了类似的方法。例如，一个优惠券代码下的项目使用优惠券折扣的概率是多少？<em class="lj">我们可以通过过滤属于一个优惠券</em>的商品的历史交易来获得</p><p id="ced1" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—为了避免泄漏，在行级别过滤活动日期之前的历史数据非常重要</p><p id="785f" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><strong class="jf hj">——这些变量是这个问题最有力的变量，我通过多次阅读问题陈述页面获得了线索。</strong>如果你已经阅读了问题陈述的最后四行，其中的要点描述了整个过程，那么你就会明白了！</p><ul class=""><li id="eabb" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">最终模型:</strong> <strong class="jf hj">我的最终模型是基于两个数据集构建的Catboost、LightGBM和XGBoost的线性混合。</strong>两个数据集之间的唯一区别是各自拥有的要素数量(因此，一个数据集拥有更多从历史数据中计算出来的统计数据)</li><li id="52d9" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">关键要点:</strong>功能创建是关键。多次阅读问题陈述(我从这里得到了特性的概念)。尽量避免泄漏，人们普遍认为在公共排行榜上上升是好的，但它会反噬。尝试建立一个健壮的验证策略</li><li id="3922" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">点击查看解决方案<a class="ae lk" href="https://github.com/kunalj101/amExpert_ML_Hackathon_2019_Winners_Soultions/tree/master/Rank_3_Sahil_Verma" rel="noopener ugc nofollow" target="_blank"/></li></ul><h1 id="ab09" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">排名2: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/Tezdhar" rel="noopener ugc nofollow" target="_blank">莫辛汗又名特兹达尔</a></h1><ul class=""><li id="845b" class="jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated"><strong class="jf hj">观察:</strong></li></ul><p id="4345" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我最初查看了活动日期，这表明培训和测试活动在时间上是分开的。因此，我决定使用训练数据中的最后三个活动(按活动开始日期排序)作为验证数据</p><p id="afa1" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—另一件重要的事情是观察问题是如何设置的。每场活动都有特定的优惠券。我们想知道，给定一组客户，他们会兑换哪些优惠券。<strong class="jf hj">处理这个问题的标准方法是将其转化为分类问题，这可以通过将数据集中的所有客户与所有优惠券配对来完成</strong></p><p id="7f61" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—假设有N个客户和M张优惠券—这将导致N*M行。这将导致大量的行，即使N和m的数量很少。因此，为了有效地解决这个问题，我们需要对行进行重新采样(一种方法是对用户没有兑换优惠券的训练数据中的行进行采样，以便数据集变得稍微平衡一些)。可以看出，每位顾客的优惠券数量平均在16–20张左右</p><p id="1f34" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—在这种情况下，客户很可能会与配对优惠券中的至少一张优惠券进行互动。因此，我们需要做的第一件事是获得每个客户的优惠券排名。此外，我们可以根据客户兑换优惠券的倾向(基于客户培训数据)对客户进行排名</p><ul class=""><li id="13a4" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">现在，重要的问题是——你如何给顾客的优惠券排序？嗯，我们有客户交易，其中我们知道客户通常在哪些项目上兑换优惠券。如果与客户配对的优惠券有更多这些项目，他/她很可能会兑现该特定优惠券</li><li id="db34" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">因此，让我们根据与他/她的历史交易项目相同的项目对(客户、优惠券)对进行排序。类似地，我们还可以根据客户在训练数据中的“优惠券兑换均值”对他们进行排名</li><li id="34d8" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">点击查看解决方案<a class="ae lk" href="https://github.com/kunalj101/amExpert_ML_Hackathon_2019_Winners_Soultions/tree/master/Rank_2_Mohsin_Khan" rel="noopener ugc nofollow" target="_blank"/></li></ul><h1 id="8846" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">排名1: <a class="ae lk" href="https://datahack.analyticsvidhya.com/user/profile/sourabhjha" rel="noopener ugc nofollow" target="_blank">苏拉布贾</a></h1><blockquote class="ll lm ln"><p id="d212" class="ka kb lj jf b jg kp kc kd ji kq ke kf lo kr kh ki lp ks kk kl lq kt kn ko jq hb bi translated"><em class="hi">“本地交叉验证有点难以信任，避免任何形式的泄露是获得高分的关键。”</em></p></blockquote><ul class=""><li id="4c68" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated"><strong class="jf hj">特色工程:</strong></li></ul><p id="1b55" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我创建了300多个功能，包括客户和优惠券的聚合功能。我还使用给定活动之前的交易数据子集，从每个活动的客户交易数据中创建了一个优惠券对</p><p id="8c19" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我使用<a class="ae lk" href="https://www.analyticsvidhya.com/blog/2019/08/5-applications-singular-value-decomposition-svd-data-science/" rel="noopener ugc nofollow" target="_blank">奇异值分解(SVD) </a>和不同的时间加权tf-idf矩阵为客户和优惠券创建了多个潜在向量。比如，(客户X物品)，(客户X品牌)，(客户X优惠券)等。</p><p id="60c1" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">—我还计算了类别和品牌类型的总支出、总储蓄、优惠券储蓄和交易数量</p><ul class=""><li id="a0e0" class="jd je hi jf b jg kp ji kq jk ku jm kv jo kw jq jr js jt ju bi translated">我通过基于IDs随机分割数据，创建了5重交叉验证</li><li id="fa99" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">最终模型:</strong>我使用了LightGBM算法来训练模型</li><li id="5b18" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">系统配置:</strong> 16GB内存，4核</li><li id="557c" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated"><strong class="jf hj">要点:</strong>本地交叉验证有点难以信任，避免任何形式的泄露是获得高分的关键。由于交易数据是在商品和品牌级别提供的，使用潜在特征帮助我抽象这些特征，并在客户和优惠券级别使用。我还使用置换特征重要性来确保只有好的特征保留在最终的模型中。这有助于将功能集从300多个减少到107个</li><li id="c396" class="jd je hi jf b jg jv ji jw jk jx jm jy jo jz jq jr js jt ju bi translated">查看解决方案<a class="ae lk" href="https://github.com/kunalj101/amExpert_ML_Hackathon_2019_Winners_Soultions/tree/master/Rank_1_Sourabh_Jha" rel="noopener ugc nofollow" target="_blank">这里</a></li></ul><h1 id="76ff" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结束注释</h1><p id="f731" class="pw-post-body-paragraph ka kb hi jf b jg jh kc kd ji jj ke kf jk kg kh ki jm kj kk kl jo km kn ko jq hb bi translated">竞赛中最重要的收获是定义正确的交叉验证策略、正确的数据探索和特征工程。我认为这没有什么奇怪的，因为这些都是每次黑客马拉松的获胜者反复提到的事情。然而，许多初学者也体验了处理多个表数据的工作，并获得了从历史数据创建聚合要素的技能。</p><p id="5488" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">我鼓励你今天就前往<a class="ae lk" href="https://datahack.analyticsvidhya.com/?utm_source=blog&amp;utm_medium=5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering" rel="noopener ugc nofollow" target="_blank"> DataHack平台</a>，参加正在进行的黑客马拉松。你也可以尝试我们那里的各种练习题，磨练你的技能。</p><p id="432d" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated">如果你有任何问题，请在下面的评论区发表。</p></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><p id="0616" class="pw-post-body-paragraph ka kb hi jf b jg kp kc kd ji kq ke kf jk kr kh ki jm ks kk kl jo kt kn ko jq hb bi translated"><em class="lj">原载于2019年10月21日</em><a class="ae lk" href="https://www.analyticsvidhya.com/blog/2019/10/5-winning-solutions-approaches-amexpert-retail_hackathon-feature-engineering/" rel="noopener ugc nofollow" target="_blank"><em class="lj">https://www.analyticsvidhya.com</em></a><em class="lj">。</em></p></div></div>    
</body>
</html>