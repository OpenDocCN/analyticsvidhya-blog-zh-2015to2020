<html>
<head>
<title>Downloading huge, huge fMRI datasets with slow internet using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Node.js下载巨大的fMRI数据集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/downloading-huge-huge-fmri-datasets-with-slow-internet-using-node-js-ce8629bdcd9f?source=collection_archive---------34-----------------------#2020-05-13">https://medium.com/analytics-vidhya/downloading-huge-huge-fmri-datasets-with-slow-internet-using-node-js-ce8629bdcd9f?source=collection_archive---------34-----------------------#2020-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c39c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这次疫情期间，除了不能在我最喜欢的小吃店吃饭之外，最大的挑战之一就是要跟上我这学期次要项目的进度。嗯，不是因为病毒，而是我需要使用的fMRI数据集的大小。毫无疑问，应用云服务是最好的选择。但是，对于无法资助此类操作的学生(<a class="ae jd" href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/free-tier-limits.html" rel="noopener ugc nofollow" target="_blank"> AWS自由层限制</a>)来说，将会有许多限制。</p><p id="29c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我正试图创建大脑中与技能发展功能相关的映射。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/6bdc3f9c6bb81e29a8067cec160e32eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwUG4idxfKhxvmjogpCPhg.jpeg"/></div></div></figure><p id="0d61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，数据集很奇怪(？)和足够惊人的提出一个下载它们的真正任务。一个正常的数据集的大小在5gb以内，甚至上百个。因为，正如冒险分子所希望的那样，这些数据点有四个维度。小尺寸的非常有助于在最小水平上观察假设的作用。也很有见地，真的没什么好抱怨的。</p><blockquote class="jq jr js"><p id="0615" class="if ig jt ih b ii ij ik il im in io ip ju ir is it jv iv iw ix jw iz ja jb jc hb bi translated"><a class="ae jd" href="https://psychcentral.com/lib/what-is-functional-magnetic-resonance-imaging-fmri/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="hi">了解更多fMRI数据集。</em> </strong> </a></p></blockquote><p id="d497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，作为一个与医学领域相关的项目，在使用fMRI的同时，尽可能多的分析对象通常是有成效的。但是，这也有它自己的缺点。只有10个主题，你在处理一个<em class="jt">巨大的</em>数据集。</p><p id="25ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">变化和异常越多，你的方法就越多。这就是我在赞美这些大型数据集之后，对它们感到沮丧的地方。它们的大小。现在，在我们开始之前，重要的是要检查是否存在用于下载这些大型数据集的源的现有CLI。否则这篇文章毫无用处。</p><p id="ee98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>如果不存在，检查<a class="ae jd" href="https://webkid.io/blog/handling-large-datasets-nodejs-etl-pipeline/" rel="noopener ugc nofollow" target="_blank">这个方法</a>。幸运的是，神经成像最流行的数据源是open neuro——它在<strong class="ih hj"> npm </strong>中有一个CLI包。</p><p id="ee5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://www.npmjs.com/package/openneuro-cli" rel="noopener ugc nofollow" target="_blank">node . js的OpenNeuro CLI文档</a></p></div><div class="ab cl jx jy gp jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hb hc hd he hf"><h1 id="ec09" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">步骤0:如果还没有安装npm和Node.js，请安装它们</h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lc"><img src="../Images/7499e755d6ba01e73e678a985a923e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*HYqyRmU3muwfol3LHZuYUw.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">JavaScript的开源运行时环境</figcaption></figure><p id="1ec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于npm和Node.js: <a class="ae jd" href="https://www.npmjs.com/get-npm" rel="noopener ugc nofollow" target="_blank">点击这些文字</a>并在完成安装后返回这里。</p><h1 id="ecd1" class="ke kf hi bd kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx ll kz la lb bi translated">步骤1:安装OpenNeuro命令行界面</h1><p id="9456" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">我使用的是Ubuntu操作系统，这意味着我使用基于Linux的环境来完成给出的步骤。这些在你的操作系统上应该也能正常工作，但是你输入的命令会有一些变化。另一个需要考虑的重要事项是，这里显示的方法在Windows上存在一些问题。</p><p id="33d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://in.pcmag.com/adobe-photoshop-cc-2014/134514/how-to-make-the-switch-from-windows-to-linux" rel="noopener ugc nofollow" target="_blank">参见:Windows转Linux </a>。</p><p id="94d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回到我们的步骤，安装CLI:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lr"><img src="../Images/30a3a36cd19c008d8e68f6c1196d8722.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*ZH3DQWJZSFvm25OO1fz98A.png"/></div></figure><p id="1d9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这应该够了。如果你有任何错误，请检查拼写错误。</p><h1 id="454d" class="ke kf hi bd kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx ll kz la lb bi translated">步骤1.1:登录</h1><p id="048b" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">我没有做1.1就做了第2步，结果是这样的:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ls"><img src="../Images/f8899a7d53b112937dd4be61a55e8d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-NmbhXJ4MxCFdgpPwgToA.png"/></div></div></figure><p id="4eca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将无法下载这些文件，因为您尚未将API密钥与CLI链接。你会在你的OpenNeuro账户上找到钥匙。如果没有，<a class="ae jd" href="https://openneuro.org/keygen" rel="noopener ugc nofollow" target="_blank">创建一个</a>。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lt"><img src="../Images/1737b04a28e8c707ca33e189e5ee62d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8fPOXDwu9tRW3s8mw6O9Aw.png"/></div></div></figure><h1 id="6451" class="ke kf hi bd kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx ll kz la lb bi translated">第二步:下载</h1><p id="9a66" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">两个最小步骤的最后一步，如果你有一个更快的互联网。对吗？没关系，我们改天再来讨论连接性，因为现在您可以使用这个命令:</p><p id="ddff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lu lv lw lx b">openneuro download &lt;accession number&gt; &lt;destination directory&gt;</code></p><p id="510d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在“高级方法”的下载页面上找到具体的细节，甚至是数据集的命令。这里，像这样:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lr"><img src="../Images/7d4a8fbaf98c67097bcf01d2bf2447e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*m7dQhKocMbZsN9ployHxOw.png"/></div><figcaption class="ld le et er es lf lg bd b be z dx translated">来源:OpenNeuro</figcaption></figure><p id="8755" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工作示例:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ly"><img src="../Images/a8f8f268f2463e6dbfe9423052baabd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qFZaSzIk9-j8DqpzXBfSTQ.png"/></div></div></figure><p id="f355" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实际上，这应该告诉你更多的事情已经解决了:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es et"><img src="../Images/7c2d4e84f11f45820511672556eaa3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lx3mpLF7Kye06un8YaQyIA.png"/></div></div></figure><p id="b4f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这对那些发现很难下载fMRI数据集的人有所帮助。其他人在处理大型数据集时，使用管道也有类似的方法。现在，问题是已经下载了这些庞大的数据集——你的机器是否有足够的计算能力。大多数时候，事实并非如此。这是又一个黑暗时刻的又一个巨大挑战。</p><p id="3404" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那都是乡亲们！</p></div></div>    
</body>
</html>