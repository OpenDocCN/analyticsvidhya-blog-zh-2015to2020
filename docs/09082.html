<html>
<head>
<title>Basic commands in Pandas for Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pandas 中用于数据科学的基本命令</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/basic-commands-in-pandas-for-data-science-192c42595b99?source=collection_archive---------21-----------------------#2020-08-24">https://medium.com/analytics-vidhya/basic-commands-in-pandas-for-data-science-192c42595b99?source=collection_archive---------21-----------------------#2020-08-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="854b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">import pandas as pd<br/> import numpy as np</code></p><p id="a903" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了练习，我们将使用巴西出租房屋的数据集<br/>，其链接如下。它对公众开放。</p><p id="383e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jh" href="https://www.kaggle.com/rubenssjr/brasilian-houses-to-rent" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/rubenssjr/brasilian-houses-to-rent</a></p><p id="d2d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#将文件保存到变量 df<br/>df = PD . read _ CSV(' C:\ \ Users \ JAY \ Desktop \ python \ datasets . CSV ')</p><p id="0b1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">print(df)</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="42d4" class="jq jr hi jg b fi js jt l ju jv">Unnamed: 0  city  area  rooms  bathroom  parking spaces floor  \<br/>0              0     1   240      3         3               4     -   <br/>1              1     0    64      2         1               1    10   <br/>2              2     1   443      5         5               4     3   <br/>3              3     1    73      2         2               1    12   <br/>4              4     1    19      1         1               0     -   <br/>...          ...   ...   ...    ...       ...             ...   ...   <br/>6075        6075     1    50      2         1               1     2   <br/>6076        6076     1    84      2         2               1    16   <br/>6077        6077     0    48      1         1               0    13   <br/>6078        6078     1   160      3         2               2     -   <br/>6079        6079     1    60      2         1               1     4   <br/><br/>         animal      furniture      hoa rent amount property tax  \<br/>0         acept      furnished      R$0     R$8,000      R$1,000   <br/>1         acept  not furnished    R$540       R$820        R$122   <br/>2         acept      furnished  R$4,172     R$7,000      R$1,417   <br/>3         acept  not furnished    R$700     R$1,250        R$150   <br/>4     not acept  not furnished      R$0     R$1,200         R$41   <br/>...         ...            ...      ...         ...          ...   <br/>6075      acept  not furnished    R$420     R$1,150          R$0   <br/>6076  not acept      furnished    R$768     R$2,900         R$63   <br/>6077      acept  not furnished    R$250       R$950         R$42   <br/>6078  not acept  not furnished      R$0     R$3,500        R$250   <br/>6079      acept      furnished    R$489     R$1,900          R$0   <br/><br/>     fire insurance     total  <br/>0             R$121   R$9,121  <br/>1              R$11   R$1,493  <br/>2              R$89  R$12,680  <br/>3              R$16   R$2,116  <br/>4              R$16   R$1,257  <br/>...             ...       ...  <br/>6075           R$15   R$1,585  <br/>6076           R$37   R$3,768  <br/>6077           R$13   R$1,255  <br/>6078           R$53   R$3,803  <br/>6079           R$25   R$2,414  <br/><br/>[6080 rows x 14 columns]</span></pre><p id="d057" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#获取数据中列的标题<br/> <code class="du jd je jf jg b">print(df.columns)</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="b72e" class="jq jr hi jg b fi js jt l ju jv">Index(['Unnamed: 0', 'city', 'area', 'rooms', 'bathroom', 'parking spaces',<br/>       'floor', 'animal', 'furniture', 'hoa', 'rent amount', 'property tax',<br/>       'fire insurance', 'total'],<br/>      dtype='object')</span></pre><p id="2502" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#读取特定列<br/>和<code class="du jd je jf jg b">print(df[‘area’])</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="c767" class="jq jr hi jg b fi js jt l ju jv">0       240<br/>1        64<br/>2       443<br/>3        73<br/>4        19<br/>       ... <br/>6075     50<br/>6076     84<br/>6077     48<br/>6078    160<br/>6079     60<br/>Name: area, Length: 6080, dtype: int64</span></pre><p id="d001" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#你可以指定你想要多少行(切片)<br/> <code class="du jd je jf jg b">print(df[‘area’][0:5])</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="992f" class="jq jr hi jg b fi js jt l ju jv">0    240<br/>1     64<br/>2    443<br/>3     73<br/>4     19<br/>Name: area, dtype: int64</span></pre><p id="cd86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#获取多列(标签列表)<br/> <code class="du jd je jf jg b">print(df[[‘area’,’animal’]])</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="f87c" class="jq jr hi jg b fi js jt l ju jv">area     animal<br/>0      240      acept<br/>1       64      acept<br/>2      443      acept<br/>3       73      acept<br/>4       19  not acept<br/>...    ...        ...<br/>6075    50      acept<br/>6076    84  not acept<br/>6077    48      acept<br/>6078   160  not acept<br/>6079    60      acept</span></pre><p id="e056" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#打印行数<br/> #打印(data.head) <br/> #打印第 1 4 行<br/> <code class="du jd je jf jg b">print(df.head(4))</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="6a4e" class="jq jr hi jg b fi js jt l ju jv">Unnamed: 0  city  area  rooms  bathroom  parking spaces floor animal  \<br/>0           0     1   240      3         3               4     -  acept   <br/>1           1     0    64      2         1               1    10  acept   <br/>2           2     1   443      5         5               4     3  acept   <br/>3           3     1    73      2         2               1    12  acept   <br/><br/>       furniture      hoa rent amount property tax fire insurance     total  <br/>0      furnished      R$0     R$8,000      R$1,000          R$121   R$9,121  <br/>1  not furnished    R$540       R$820        R$122           R$11   R$1,493  <br/>2      furnished  R$4,172     R$7,000      R$1,417           R$89  R$12,680  <br/>3  not furnished    R$700     R$1,250        R$150           R$16   R$2,116</span></pre><p id="a4f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#访问每个元素<br/> #假设第 4 行<br/>的房屋税<code class="du jd je jf jg b">print(df.iloc[4,11])</code></p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="b329" class="jq jr hi jg b fi js jt l ju jv">R$41</span></pre><p id="25bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#打印 df.iterrows(): <br/> <code class="du jd je jf jg b">print(index , row)</code>中索引的每一行<br/>的数据</p><p id="6bb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#获取数学统计数据</p><p id="b742" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">以下命令的输出不能写入介质。你可以用笔记本查看输出</strong></p><p id="969d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">df.describe()</code></p><p id="d293" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#按值排序</p><p id="a07e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">df.sort_values(‘city’)</code></p><p id="053e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#您可以添加新列作为其他列的总和<br/> <code class="du jd je jf jg b">df[‘Total’] = df[‘hoa’] + df[‘rent amount’] +[‘property tax’] + [“fire insurance”]</code></p><p id="1cc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#另一种做法相同<br/> <code class="du jd je jf jg b">df[‘Total’] = df.iloc[:, 9:12].sum(axis=1)</code></p><p id="231b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#删除列<br/> <code class="du jd je jf jg b">df = df.drop(columns=[‘Total’])</code></p><p id="689d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#移动一列<br/> #首先获取列为列表<br/> <code class="du jd je jf jg b">cols = list(df.columns.values)</code></p><p id="d9af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#然后根据需要重置 df(我们将交换浴室和房间列)<br/> <code class="du jd je jf jg b">df = df[cols[:3]+[cols[4]]+[cols[3]]+cols[5:]]</code></p><p id="5f4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"># <strong class="ih hj">保存文件</strong></p><p id="1ba1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><br/>成 CSV<code class="du jd je jf jg b">df.to_csv(‘modified_data_version_1.csv’)</code></p><p id="1058" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入 EXCEL</p><p id="6e0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">df.to_excel(‘modified_data_version_1.xlsx’)</code></p><p id="b764" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转换成 TXT</p><p id="eead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">df.to_csv(‘modified_data_version_1.txt’, sep='\t')</code></p><p id="296d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你必须通过分隔符以 txt 格式正确保存和可视化。</p></div></div>    
</body>
</html>