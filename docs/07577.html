<html>
<head>
<title>Exploratory Data Analysis(EDA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/eda-for-beginners-using-python-4fcd2b57d1f7?source=collection_archive---------6-----------------------#2020-06-30">https://medium.com/analytics-vidhya/eda-for-beginners-using-python-4fcd2b57d1f7?source=collection_archive---------6-----------------------#2020-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="532b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是<strong class="ih hj"> 3系列</strong>的一部分，我将浏览一个数据集，分析它，然后在最后做预测建模。我建议按顺序学习各个部分，但你也可以跳到任何部分。</p><p id="025f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第1部分，探索性数据分析(EDA): </strong> <br/>这一部分包括数据的汇总统计，但主要重点将放在EDA上，在EDA中，我们使用绘图从数据中提取意义/信息，并报告关于数据的重要见解。这部分更多的是<strong class="ih hj">数据分析</strong>和<strong class="ih hj">商业智能(BI) </strong>。</p><p id="46cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/@greatsharma04/statistical-analysis-using-python-e83f10ca3c82"> <strong class="ih hj">第二部分，统计分析</strong> </a> <strong class="ih hj"> : </strong> <br/>在这一部分我们会做很多统计假设检验，应用估计统计量，解释我们得到的结果。我们也将通过第一部分的发现来验证这一点。我们将应用参数和非参数测试。我们将在这一部分报告我们得到的所有重要见解。这部分内容都是关于<strong class="ih hj">数据科学</strong>的，如果可能的话，需要一些统计背景知识。</p><p id="80c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/greatsharma/MPG/tree/master/Modelling" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">第三部分，预测建模:</strong> </a> <br/>在这一部分我们将使用给定的预测因子来预测一个反应。这部分都是关于<strong class="ih hj">机器学习</strong>的。</p><h2 id="0865" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">元数据，关于数据的数据</h2><p id="1bc0" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">我正在使用从<a class="ae jd" href="https://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI资料库</a>中获取的用于EDA的<a class="ae jd" href="https://archive.ics.uci.edu/ml/datasets/auto+mpg" rel="noopener ugc nofollow" target="_blank">自动mpg </a>数据。</p><p id="8bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">标题:</strong> Auto-Mpg数据<br/> <strong class="ih hj">实例数:</strong> 398 <br/> <strong class="ih hj">属性数:</strong> 9包括类属性<br/> <strong class="ih hj">属性信息:</strong></p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="011d" class="je jf hi kj b fi kn ko l kp kq">1. mpg — continuous<br/>2. cylinders — multi-valued discrete<br/>3. displacement — continuous<br/>4. horsepower — continuous<br/>5. weight — continuous<br/>6. acceleration — continuous<br/>7. model year — multi-valued discrete<br/>8. origin — multi-valued discrete<br/>9. car name — string (unique for each instance)</span></pre><p id="b67b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种数据并不复杂，非常适合分析，因为它很好地融合了分类属性和数字属性。</p><p id="a0d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是<strong class="ih hj">第一部分</strong>即EDA。我不会把这一部分拉得太长，而是按顺序做下面的事情。</p><ol class=""><li id="bd36" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc kw kx ky kz bi translated"><strong class="ih hj">数据的一些预处理</strong>，这包括处理缺失值、重复数据(如果有的话)，然后对齐数据。</li><li id="5bc1" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">分类属性的EDA</strong>，这包括分析它们的分布以及与其他猫的关系。(分类)属性。</li><li id="3b8c" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">关于数字属性的EDA</strong>，这包括分析它们的分布以及与其他数字的关系。(连续/数值)属性。</li><li id="65e9" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">然后我们将分析<strong class="ih hj">关系b/w数值&amp;范畴属性</strong>。</li></ol><p id="a691" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在整个笔记本中大量使用<strong class="ih hj"> seaborn </strong>，因此对于那些正在使用seaborn寻找EDA的人来说，这也是一个很好的笔记本。</p></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><p id="41ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，导入所有必需的库。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="dabe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先将数据导入到pandas数据框中，并检查它的属性。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/d0014e81c11a8ea2e37bc7229a267f87.png" data-original-src="https://miro.medium.com/v2/format:webp/1*hgaOYnV0K34DT_sEXTUSsg.png"/></div></figure><p id="196b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据是矩形(表格)形式，有398个条目，每个条目有9个不同的属性。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="27a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了检查元数据(即关于数据的数据)，我们可以使用内置的pandas函数。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="7b33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ls lt lu kj b">df.info()</code>，描述了数据的很多东西，比如每一列的数据类型，内存使用情况等等。</p><p id="6cb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我将为分类和数字列名制作两个不同的列表，因为对这两种类型的分析是不同的。为此，我将内省每一列的数据类型，如果它是类型<code class="du ls lt lu kj b">object</code>，那么它是分类的，否则是数字的。</p><p id="53e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在整个分析中大量使用这两个列表。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="3336" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看每一列中有多少个唯一值。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="7172" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为<code class="du ls lt lu kj b">cylinders</code>和<code class="du ls lt lu kj b">model_year</code>只有很少的唯一值，所以让它们成为分类的而不是数字的是安全的。这种转换将有助于分析，因为我将在其他属性的基础上分叉一些属性。</p><p id="2ca9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，列表需要更新。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="9673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，检查数据中的<code class="du ls lt lu kj b">nans</code>。我将逐列检查<code class="du ls lt lu kj b">nans</code>。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/cba90127e5d42cd574747a9f019cd913.png" data-original-src="https://miro.medium.com/v2/format:webp/1*moy0ZkhZ6DOodkcbagrDGA.png"/></div></figure><p id="3155" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据中的纳米比例为<code class="du ls lt lu kj b">6 / len(df) = 0.01507</code>。因此，<code class="du ls lt lu kj b">horsepower</code>包含所有6个nan行，包括大约<code class="du ls lt lu kj b">1.5%</code>个数据。因为这个分数非常低，所以现在删除nan行是安全的。</p><blockquote class="lv lw lx"><p id="46fb" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>如果nan比例很大(超过5%)，那么我们不会删除它，而是估算缺失值，甚至可以将缺失视为另一个属性。</p></blockquote><p id="aa52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在删除所有nan行，因为它们只有1.5%。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="20c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看有多少重复条目，如果有，就删除它们。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="d1d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，没有重复的行。</p><p id="a40f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们继续之前，最好将所有类型相同的变量组合在一起。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/ffa2a25ec8ea0e11bb707e1eddb0790e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xlQPUhuvfRFJzl6OnlHBvg.png"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="3967" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们都可以进行一些深入的分析了。</p></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h2 id="f5f6" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">范畴属性分析</h2><p id="b159" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">分析包括描述性统计和EDA。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="3913" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将首先从原始数据帧中切出分类列，然后对其进行分析，保持原始数据不变。最后，我将在原始数据帧中加入所需的更改。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/d2d9c76fa9a2e79f4c8f8bdd68b95490.png" data-original-src="https://miro.medium.com/v2/format:webp/1*TNszMRhceuWQhHAGZCvNNg.png"/></div></figure><p id="525b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于<code class="du ls lt lu kj b">origin</code>和<code class="du ls lt lu kj b">name</code>由文本数据组成，因此需要一些预处理。我们将从每个字符串中删除所有多余的空格，否则具有不同空格的相同字符串将被视为不同的类别，这是不应该的。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="f084" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将创建一个名为<code class="du ls lt lu kj b">mpg_level</code>的人工分类属性，将mpg分为<code class="du ls lt lu kj b">low</code>、<code class="du ls lt lu kj b">medium</code>和<code class="du ls lt lu kj b">high</code>。这样做有两个原因，首先，它在EDA中会有很大帮助，即我可以在mpg的基础上分叉图，其次，与数字相比，这很容易理解。</p><p id="1b00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将<code class="du ls lt lu kj b">mpg</code>分成三个区域，</p><blockquote class="mc"><p id="87bc" class="md me hi bd mf mg mh mi mj mk ml jc dx translated">[最小，17]-&gt;低<br/> [17，29]-&gt;中<br/> [29，最大]-&gt;高</p></blockquote><p id="019d" class="pw-post-body-paragraph if ig hi ih b ii mm ik il im mn io ip iq mo is it iu mp iw ix iy mq ja jb jc hb bi translated">此外，范围的选择是分析性的，可以是任何东西，直到它似乎是合理的。</p><blockquote class="lv lw lx"><p id="2a5f" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>这是特征工程，主要在预测建模中完成，但在这里介绍它是有意义的。</p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="e95a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来考察一下<code class="du ls lt lu kj b">origin</code>、<code class="du ls lt lu kj b">cylinders</code>、<code class="du ls lt lu kj b">model_year</code>中的独特人物。我将离开<code class="du ls lt lu kj b">name</code>,因为在这种情况下，它对于每个条目几乎都是唯一的，因此检查它没有什么意思。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="b0b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然分类属性的描述性统计信息不多，但仍然值得一看。pandas <code class="du ls lt lu kj b">describe</code>函数也只用于数字数据，在df_cat中<code class="du ls lt lu kj b">cylinders</code>和<code class="du ls lt lu kj b">model_year</code>是唯一的数字类型。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="e802" class="je jf hi kj b fi kn ko l kp kq">df_cat.describe()</span></pre><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/e8e7868b24a4582b088b7df4d2418387.png" data-original-src="https://miro.medium.com/v2/format:webp/1*2v7X_rf2Y_kDMNAx0qa5nQ.png"/></div></figure><p id="2d86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看来<code class="du ls lt lu kj b">cylinders</code>里的大部分值都是4，(min，max)是(3，8)。</p><h2 id="811b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">分布分析</h2><p id="5d7a" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">现在，我们分析每个分类属性的分布，并从图中获得一些见解。</p><p id="aded" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在分类变量的情况下，理想的(或至少是喜爱的)分布是<code class="du ls lt lu kj b">uniform </code>或<code class="du ls lt lu kj b">uniform-like</code>，下面是均匀分布。</p><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/a72a6b3f132a638736a6e4a14ab94c63.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dI5g7o62EVqOf7ChXOARfA.png"/></div></figure><p id="5205" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们为数据中不同的分类属性绘制分布图。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/75ca9fdd4d65061e50ea89ba7fed7798.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BkEKPhJHVBC2v37uIpCElQ.png"/></div></figure><p id="d98e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来计算一下每一类中占优势的阶层所占的比例。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><h2 id="5af9" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="0bf9" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">origin</code>高度不均衡，仅<code class="du ls lt lu kj b">usa</code>就占数据的62.5%，而<code class="du ls lt lu kj b">japan</code> &amp; <code class="du ls lt lu kj b">europe</code>的比例相似。我们将在未来的分析中看到这种优势。<code class="du ls lt lu kj b">We will try to find the reason for this in our further analysis.</code></li><li id="ab3b" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">cylinders</code>是高度不平衡的，仅<code class="du ls lt lu kj b">4</code>就包含了50.77%的数据。而<code class="du ls lt lu kj b">8</code> &amp; <code class="du ls lt lu kj b">6</code>的比例几乎相同，但<code class="du ls lt lu kj b">3</code> &amp; <code class="du ls lt lu kj b">5</code>合起来只占7个条目，即占全部数据的1.8%。在未来的分析中，我们将在<code class="du ls lt lu kj b">cylinders</code>中看到这种巨大的比例失衡。</li><li id="c6e3" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">mpg_level</code>高度不平衡，仅<code class="du ls lt lu kj b">medium</code>一项就占数据的52.3%，而<code class="du ls lt lu kj b">low</code> &amp; <code class="du ls lt lu kj b">high</code>的比例相同。这种优势是由于我们在制造该特征时的阈值化，因为中间范围更宽，因此它包含更多的数据点。因为它是连续的，所以它不会出现在原始的<code class="du ls lt lu kj b">mpg</code>特征中。</li><li id="9b81" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">model_year</code>相当平衡，这很好。</li></ul><p id="bc00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">现在我们来分析</em> <code class="du ls lt lu kj b"><em class="ly">car's name</em></code> <em class="ly">。</em></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="154c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，尽管名称是分类的，但它有很多类别，这甚至是有意义的，因为产品名称通常在任何领域都有很大不同。因此，对汽车名称进行分析不会有什么结果，因为这些名称就像产品id一样，似乎没有什么重要的见解。</p><p id="56cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但这里需要注意的一点是，每辆车的名字都是以公司名开头的，所以可能数据集中的公司很少，将它们作为单独的特征提取出来并进行分析会很有成效。所以让我们开始吧。</p><p id="853f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将通过从所有名字中提取第一个单词来创建一个名为<code class="du ls lt lu kj b">car_company</code>的新属性。我还会将汽车公司从每个汽车名称中删除，因为现在不需要它，并且还会将列<code class="du ls lt lu kj b">name</code>重命名为<code class="du ls lt lu kj b">car_name</code>。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/a4f4966d769be4a16106cd052f09f27f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BU4uKgkrvSQq2zEjMSOMdQ.png"/></div></figure><p id="7dfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">现在，检查</em> <code class="du ls lt lu kj b"><em class="ly">car_company</em></code> <em class="ly">中的总唯一值。</em></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="b5a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了，这就是我们所希望的，我们也确实得到了。我们这个数据涉及的车企会很少的想法确实是对的。因为类别的数量变少了，我们现在可以对其进行分析。所以我们仅仅通过我们的指导就朝着正确的方向迈出了一步。</p><p id="39be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">现在，我们分析一下</em> <code class="du ls lt lu kj b"><em class="ly">car_company</em></code> <em class="ly">的分布。</em></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/2cbc7b378e0eddfa18ce37eb33e6da03.png" data-original-src="https://miro.medium.com/v2/format:webp/1*RpfB44FjNcwMs_WMacrpQg.png"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><h2 id="026a" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="50bf" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">我们发现<code class="du ls lt lu kj b">car_name</code>有很多类别，接近总数据点。因此，对其进行分析是没有意义的，因为它对于大多数点来说是唯一的，而且在大多数情况下，名称是可以安全避免的，因为它们与其他点没有相关性。</li><li id="34d0" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">然后，我们通过从汽车名称中提取公司名称来创建一个名为<code class="du ls lt lu kj b">car_company</code>的人工属性。我们发现，与汽车品牌相比，汽车公司要少得多(大约少8倍)。</li><li id="127a" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">我们随后发现<code class="du ls lt lu kj b">car_company</code>的分布并不均匀，大部分比例被排名前15的车企所覆盖。而<code class="du ls lt lu kj b">ford</code>和<code class="du ls lt lu kj b">chevrolet</code>仅占大约23%(将近四分之一)。</li></ul><h2 id="bcbd" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">结论</h2><ul class=""><li id="40d1" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">除了<code class="du ls lt lu kj b">model_year</code>之外的每一个分类属性都是高度不平衡的，离<code class="du ls lt lu kj b">uniform distribution</code>很远。在所有情况下，大多数数据都由前几个类别组成。</li><li id="e2e4" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">虽然<code class="du ls lt lu kj b">model_year</code>不是完全均匀的，但我们可以把它看作<code class="du ls lt lu kj b">uniform-like distribution</code>。这是一个容易理解的假设，原因有两个，首先，我们可以在图中清楚地看到，实际上分布是<code class="du ls lt lu kj b">uniform-like</code>，而且这不是整个人口，而是一个样本，因此可能在很大程度上它将收敛到<code class="du ls lt lu kj b">uniform</code>，这可能是真实的人口分布(<strong class="ih hj">大数定律</strong>)。</li></ul><p id="4ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将分析不同的特性如何影响其他特性的变化。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/ad5dd946da1bc06dd5860e6fc273d39e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oYPIs1XWwfohW_dnwNwM-g.png"/></div></figure><h2 id="c560" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><p id="13d6" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">在我们的分叉图中，我们可以清楚地看到不平衡类别的影响。</p><p id="79c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">由原点分叉的圆柱体</strong></p><ul class=""><li id="f9a2" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mu kx ky kz bi translated">日本是三缸车的唯一产地。</li><li id="e749" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">欧洲是5缸汽车的唯一产地。</li><li id="4729" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">美国是8缸汽车的唯一产地。</li><li id="3e69" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">所有的起源有4缸车和几乎相等的比例，也因为4缸占主导地位。</li><li id="12c9" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">所有起源有6缸车，但由美国主导，因为它在起源占主导地位。</li></ul><p id="aea5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> mpg_level由原点分叉</strong></p><ul class=""><li id="be41" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mu kx ky kz bi translated">日本没有任何低mpg水平的车辆，而欧洲的低mpg水平车辆可以忽略不计，几乎所有低mpg水平的车辆都来自美国。</li><li id="f140" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">日本mpg _级别高的车辆最多。</li><li id="6fde" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">美国拥有最多中等mpg级别的车辆(同样是因为大多数车辆属于美国)。</li></ul><p id="9dfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> mpg_level由气缸分叉</strong></p><ul class=""><li id="f1ee" class="kr ks hi ih b ii ij im in iq kt iu ku iy kv jc mu kx ky kz bi translated">mpg_level低的车辆有6缸或8缸，大多数是8缸。</li><li id="e41d" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">几乎所有mpg_level高的车辆都有4缸，极少数(少于5缸)有5-6缸。</li><li id="5786" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">中等mpg_level的大多数车辆有4、6和8缸。这是因为大多数车辆都有这些数量的气缸，正如我们在前面的气缸分配中所检查的那样。</li></ul><p id="4ef2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">让我们用原点分叉的圆柱体来分析mpg_level。</em></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/0b96f1ee64d3142a3f3da7bbc17043a9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*pu8A6hYRG8D4W4PFrsNHDg.png"/></div></figure><h2 id="9c4d" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="77d5" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">日本没有任何低mpg _水平的汽缸，它的大多数车辆都有高mpg _水平，大多是4缸(这一点我们已经从早期的图中检查过，没有什么新的)。</li><li id="f467" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">在欧洲，几乎每辆车都有4个气缸，而且大多数都是中高缸。</li><li id="7bf5" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">与其他国家相比，美国很少有高mpg水平的车辆，因为大多数车辆属于美国。</li></ul><p id="9c47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>虽然这些见解可以从早期的图中发现，但它有点难，分叉帮助了我们，我们从数据中提取了更多的意义。</p><h2 id="f22f" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">结论</h2><ul class=""><li id="dbf5" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">日本在mpg水平方面领先，其大多数车辆的mpg水平都很高。与其他产地相比，它有超过两倍的高mpg车辆。</li><li id="262c" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><strong class="ih hj">似乎随着气缸数量的增加，mpg一般会下降。</strong></li></ul><p id="6657" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">我们来分析一下model_year，</em></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/e5502504970f0dabb7b5a9c7bb9f8191.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rrE47T1BKIBOb0cz-4GBxg.png"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/cd2da0da8b4f207ffeed3f4d3301263d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*DuZAB72uQ-x2BV_359qviA.png"/></div></figure><h2 id="4559" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="7d4a" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">随着时间的推移，低mpg汽车的生产减少，并最终在79年后停止。</li><li id="b283" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着时间的推移，高mpg汽车的产量增加，事实上，79年后，其产量是中等mpg汽车的1.5-2倍。</li><li id="8232" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">多年来，中型mpg和74-79的汽车产量没有显著变化，它们的产量超过了其余两者的总和。</li><li id="f911" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">从散点图中，我们可以清楚地看到一个向上的线性趋势，即随着一年的进展mpg增加。</li></ul><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/b46185b87295c49893eed2f827a6c8b4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*pUA1fnSR1tzhQDY3hom_ww.png"/></div></figure><h2 id="f5eb" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="b62d" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">随着时间的推移，拥有更多气缸(8缸和6缸)的车辆显著减少。</li><li id="11be" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着时间的推移，少缸汽车越来越多。</li><li id="15f2" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">值得注意的一件重要事情是，多年来，4缸车占了很大比例，事实上，在80年代，大多数车都是4缸车。</li><li id="2d71" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">这些结果是有意义的，因为随着一年的技术进步，低mpg和多缸的车辆失去了焦点，高mpg和少缸的车辆成为了新星。</li></ul><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/07ccd23942f881f070ab84c320f74123.png" data-original-src="https://miro.medium.com/v2/format:webp/1*2DW27KjIAb0V6pYGwd0I7A.png"/></div></figure><h2 id="2d25" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="8bec" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">在开始的那一年，美国的制造业完全处于主导地位。</li><li id="93d3" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着时间的推移，日本和欧洲开始生产更多的汽车。事实上，在80年，日本和欧洲的制造业都超过了美国。这可能是由于一些原因，因为这些年来美国占主导地位，突然他们的制造业有了相当大的下降。这可能与80年的美国有关。</li><li id="a963" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">最初欧洲生产的汽车比日本多，但日本在76年后超过了欧洲。</li></ul><p id="5936" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">我们来分析一下汽车_公司，</em></p><p id="df59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于<code class="du ls lt lu kj b">car_company</code>包含了很多类别，而且大多数类别所占比例很低，所以我们将只分析排名前15位的汽车公司。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="145f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，仅前15家汽车公司就生产了83%的汽车。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/18c2dfb70f0c6418c746f449f98fec7b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*H1KtU9G2k12nM5TPh8SnHg.png"/></div></figure><h2 id="8450" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="6d40" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">顶级制造公司拥有所有mpg级别的车辆，但车辆较少的公司更关注高或中mpg级别的车辆。</li><li id="6fe5" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">所有的顶级制造公司都来自<code class="du ls lt lu kj b">usa</code>，这就是为什么美国的数据集中有大部分车辆的原因(这是我们的主要发现之一)。我们现在回答了我们之前提出的这个问题。</li><li id="fa0f" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">所有顶级制造公司都同样关注4缸、6缸和8缸车辆，但制造较少的公司通常在车辆中使用较少的气缸。</li><li id="9089" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">我们完成了分类属性的分析，发现了许多有趣的事情，回答了许多未知的问题。现在我们将把df_cat所需的更改合并到df中。</li></ul><p id="6bd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了<code class="du ls lt lu kj b">car_name</code>之外的每个属性都是感兴趣的，并参与了我们的分析。因此，我们不会将<code class="du ls lt lu kj b">car_name</code>加入我们的数据框架，因为它没有任何意义。这是<code class="du ls lt lu kj b">feature reduction</code>，是<code class="du ls lt lu kj b">feature engineering</code>的一个组成部分。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/9aaa163be7d547a58c2b2044558090f5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*2Wav5F8x0RXzIp_-8a9LQQ.png"/></div></figure><p id="957f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将这些更改保存到新文件中。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="bdb7" class="je jf hi kj b fi kn ko l kp kq">df.to_csv("mpg_cated.csv", index=False)</span></pre></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h2 id="9e5d" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">数值属性分析</h2><p id="d00b" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">分析包括描述性统计和EDA。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="035e" class="je jf hi kj b fi kn ko l kp kq">df = pd.read_csv("mpg_cated.csv")<br/>df.head()</span></pre><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/9aaa163be7d547a58c2b2044558090f5.png" data-original-src="https://miro.medium.com/v2/format:webp/1*2Wav5F8x0RXzIp_-8a9LQQ.png"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="8135" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将首先从原始数据框中切出数字列，然后在保持原始数据不变的情况下对其进行分析，最后在原始数据框中加入所需的更改。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/2646e353e8716cec904bd04f6d168db1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*eoAoHAl12OLnABQcYuwCVg.png"/></div></figure><h2 id="6eb0" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">分布分析</h2><p id="10fa" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">现在，我们分析每个数字属性的分布，并从图中获得一些见解。</p><p id="7f92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在数值变量的情况下，理想的(或至少喜爱的)分布是<code class="du ls lt lu kj b">gaussian</code>或<code class="du ls lt lu kj b">gaussian-like</code>，对于高斯分布，其各种分布图如下所示。</p><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/542d98f11f9071f3da0aa9995cc0e4ed.png" data-original-src="https://miro.medium.com/v2/format:webp/1*YwrFZ3FE7HkW0ahodjA18Q.png"/></div></figure><p id="0fc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们为数据中不同的数字属性绘制分布图。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/3ce714e19e1f7d32ed81a663701e6e28.png" data-original-src="https://miro.medium.com/v2/format:webp/1*t63QPNwYhnh9BKtZbe2slw.png"/></div></figure><h2 id="6490" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="a8b6" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">acceleration</code>是唯一的高斯分布。有几个加速度值位于胡须(从盒子向外延伸的条)之外，这些是飞行者/离群值。</li><li id="a5b7" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">mpg</code> &amp; <code class="du ls lt lu kj b">weight</code>的发行版好像是<code class="du ls lt lu kj b">right-skewed gaussian</code>。</li><li id="32e0" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated"><code class="du ls lt lu kj b">displacement</code> &amp; <code class="du ls lt lu kj b">horsepower</code>的分布似乎远非高斯。</li></ul><p id="d401" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目前我们只是从图中分析分布，在下一阶段(统计分析),我们将对这些分布的正态性进行假设检验。</p><p id="e44f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们使用tukey公式来分析异常值。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="2f25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ls lt lu kj b">acceleration</code>和<code class="du ls lt lu kj b">horsepower</code>是仅有的带有tukey异常值的属性，我们也可以从上面的箱线图中注意到这一点。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="6ce6" class="je jf hi kj b fi kn ko l kp kq">df.iloc[list(tukey_outliers(df_num.acceleration).index)]</span></pre><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/59c3ffc6e023cefd050c2a267640ecdf.png" data-original-src="https://miro.medium.com/v2/format:webp/1*eO67IjIMF0b4HxBlNuP3nA.png"/></div></figure><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="d940" class="je jf hi kj b fi kn ko l kp kq">df.iloc[list(tukey_outliers(df_num.horsepower).index)]</span></pre><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/3cb049bedf2f5ba776896102e3d43720.png" data-original-src="https://miro.medium.com/v2/format:webp/1*EO2roXr1wReJJ3lTS9e3RQ.png"/></div></figure><h2 id="3389" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="5d7d" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">加速度中的异常值似乎是随机的，没有结论性的。有一点我们可以注意到，他们都不是日本人。</li><li id="f1dd" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">马力的异常值看起来并不是随机的，而是有很多共同之处</li><li id="d18f" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">他们都来自美国(可能是因为美国的车辆占大多数)。</li><li id="528f" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">它们都有8个气缸。</li><li id="6f87" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">他们都有低mpg水平。</li><li id="7fa2" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">它们的重量都在4000左右。</li><li id="7191" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">它们中的大多数具有400范围内的位移。</li><li id="70c1" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">大部分是早年(74年前)制造的。</li></ul><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/1f1abd7a9514e66bec5fca9c211a3dd0.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BwQXMV0TAXRojBpj-NVxeQ.png"/></div></figure><p id="0ff4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看到数据没有适当地缩放，我们需要缩放它用于建模，但是它很好地用于分析。</p><p id="1344" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在我们分析不同数值属性之间的关系</strong></p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/413e4a204ef7ca43b0340e22274c0388.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yWhGvLnMSST1s7HU_8Q0xg.png"/></div></figure><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/0e38e02cf1a031e4196ccb84d85af448.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wwTsLunnLJgcBKBvFYv5Kw.png"/></div></figure><h2 id="49c5" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="5687" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">随着mpg排量的增加，马力和重量减少，但加速度增加。</li><li id="1b25" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着马力的增加，排量和重量增加，但加速度下降。</li><li id="d610" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着重量的增加，位移增加，但加速度减少。</li><li id="5d17" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着加速度的增加，位移减小。</li></ul><blockquote class="lv lw lx"><p id="deeb" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated">所以所有的数字属性都是相互关联的。</p></blockquote><p id="5227" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们把这些关系分成不同的类别。在该图中，我们分析了由原点、mpg_level和气缸分成两部分的马力和加速度之间的关系。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/f524b87991463b5ab08da0bf0d494057.png" data-original-src="https://miro.medium.com/v2/format:webp/1*inLUcZfSgngowPGG-4zS3Q.png"/></div></figure><h2 id="a734" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="febc" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">在每个地区都有一个负相关的b/w马力和加速度。</li><li id="32c5" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">mpg低的车辆加速低，马力大。</li><li id="3a42" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">气缸多的车辆加速低，马力大。</li></ul><p id="5157" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在该图中，我们分析了由原点、mpg_level和气缸划分的重量和马力之间的关系。</p><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/8324532aab73f679a8a4fed9fda85615.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PAz_SUxlCAuCh6A73z2Tkg.png"/></div></figure><h2 id="1f82" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="3a69" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">在每一个地区，重量和马力都是正相关的。</li><li id="ebb6" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">mpg低的车辆重量和马力大。</li><li id="3525" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">气缸多的车辆重量和马力大。</li><li id="dde2" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">在分叉上我们没有发现任何新的东西。</li></ul></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><p id="3da7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数值和分类属性之间关系的分析</strong></p><p id="b3b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:我使用了boxen和violin情节，但是我们也可以使用stripplot。</p><blockquote class="lv lw lx"><p id="da0b" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">数字特征随原点的变化</em></p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/23119380105dc09d2d6deadbca594847.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5r_WwXAk-ktM_DpQ4g6UcA.png"/></div></figure><h2 id="8326" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="884b" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">与日本&amp;欧洲相比，<code class="du ls lt lu kj b">usa</code>的车辆平均每加仑油跑得更少。</li><li id="f181" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">与日本&amp;欧洲相比，<code class="du ls lt lu kj b">usa</code>的车辆具有更大的排量、马力和重量。</li><li id="5acd" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">所有的车辆都有相对相同的加速度，而与起点无关，但是来自<code class="du ls lt lu kj b">usa</code>的加速度分布更加分散，因为它包含了更多的车辆。</li></ul><blockquote class="lv lw lx"><p id="23d7" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">数值特征随mpg_level的变化</em></p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/9666a3e70397cdc8306ac57f0f49e4fd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*jWDw8ZoLLsgQTsI7yHdNzw.png"/></div></figure><h2 id="c901" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="062d" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">随着mpg_level的增加，平均排量降低。</li><li id="0cb8" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着mpg_level的增加，平均马力下降。</li><li id="0769" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着mpg_level的增加，平均体重下降。</li><li id="99fd" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">与其他车辆相比，低mpg水平的车辆通常具有较小的加速度，而中mpg水平和高mpg水平的车辆具有相同的加速度。</li></ul><blockquote class="lv lw lx"><p id="c869" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">圆柱体的数字特征变化</em></p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/ce6214cc5fd751303ba2707f5eed9224.png" data-original-src="https://miro.medium.com/v2/format:webp/1*R_YQ1xyGOF_Xz63pWlfuCQ.png"/></div></figure><h2 id="242b" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="685e" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">当气缸数从3增加到4时，mpg也增加，但是当气缸数进一步增加时，mpg开始下降。</li><li id="4586" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着气缸数量的增加，排量以多项式级增加。</li><li id="9e65" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">当气缸从3马力增加到5马力时，马力减小，但是当气缸进一步增加时，马力开始增加。</li><li id="9c04" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">在增加气缸的情况下，车辆的平均重量会增加(非常明显)。</li><li id="e2de" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">当气缸从3个增加到5个时，车辆的加速度也增加，但当气缸进一步增加时，加速度开始下降(可能是因为气缸越多，车辆的重量越大，因此加速度越小)。</li></ul><blockquote class="lv lw lx"><p id="2352" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">数字特征随年款的变化</em></p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/23c88dbf09c338e2056cec12a35dce52.png" data-original-src="https://miro.medium.com/v2/format:webp/1*UuuXgd_geryp89knfTkJwg.png"/></div></figure><blockquote class="lv lw lx"><p id="8e5e" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">数字特征随model_year的变化由原点分叉。</em></p></blockquote><figure class="ke kf kg kh fd lm"><div class="bz dy l di"><div class="ln lo l"/></div></figure><figure class="ke kf kg kh fd lm er es paragraph-image"><div class="ab fe cl lp"><img src="../Images/0492b37a7ad8188ed0bf7494108bb5cc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dyZ2SafWCij9aL-APKrC_A.png"/></div></figure><h2 id="8ce8" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">洞察力</h2><ul class=""><li id="054b" class="kr ks hi ih b ii jz im ka iq mr iu ms iy mt jc mu kx ky kz bi translated">随着时间的推移，所有来源的mpg都有所增加(我们已经在分类数据分析中观察到这一点)。</li><li id="1a21" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">随着时间的推移，<code class="du ls lt lu kj b">usa</code>车型的排量、马力和重量略有下降，但<code class="du ls lt lu kj b">japan</code> &amp; <code class="du ls lt lu kj b">europe</code>车型没有显著变化。我们可以观察到的一件事是，在80年代，所有车辆都有类似的排量，因为与70年代不同，这种分布并不分散(即，分布是<strong class="ih hj">矮胖</strong>而不是<strong class="ih hj">高瘦</strong>)。</li><li id="40ca" class="kr ks hi ih b ii la im lb iq lc iu ld iy le jc mu kx ky kz bi translated">这些年来，所有区域的加速度保持相对一致。</li></ul></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><p id="ed9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们暂时结束了。我们做了一些不错的EDA，也探索了seaborn提供给我们的各种绘图功能。我强烈推荐大家使用seaborn，因为它简单易用。你也可以使用plotly来构建笔记本中的所有图形。Plotly图不仅在视觉上很棒，而且是交互式的，因此它们需要更多的内存，特别是散点图(因为它们需要存储每个数据点信息以实现交互性)。这就是为什么我没有包括任何阴谋。</p><blockquote class="lv lw lx"><p id="65c0" class="if ig ly ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated">你可以从<a class="ae jd" href="https://www.kaggle.com/gauravsharma99/eda-on-mpg-data/" rel="noopener ugc nofollow" target="_blank">这里</a>获得这个博客的<strong class="ih hj">完整文档jupyter笔记本</strong>，你只需要叉上它。同样，如果你喜欢这个笔记本，那么<strong class="ih hj">投赞成票</strong>，它会激励我创造更多高质量的内容。</p></blockquote><p id="1cb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这个故事，请为它鼓掌，并与他人分享。</p><p id="0fe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下一部分我们将做一些<a class="ae jd" rel="noopener" href="/@greatsharma04/statistical-analysis-using-python-e83f10ca3c82"> <strong class="ih hj">统计分析</strong> </a>。</p><p id="323b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您阅读m</p></div></div>    
</body>
</html>