<html>
<head>
<title>Hypothesis testing, P-value and some statistical tests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">假设检验、P值和一些统计检验</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hypothesis-testing-p-value-and-some-statistical-tests-d1ce38556524?source=collection_archive---------15-----------------------#2020-09-10">https://medium.com/analytics-vidhya/hypothesis-testing-p-value-and-some-statistical-tests-d1ce38556524?source=collection_archive---------15-----------------------#2020-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="509a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将详细了解假设检验和P值，并在python中进行一些测试。如果您不熟悉这些术语，请不要担心！我掩护你。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b483aa910fc3fb0d7cd8c030d7948a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UQGws7IDzabaL0bf"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jt" href="https://unsplash.com/@scienceinhd?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">科学高清</a>拍摄的照片</figcaption></figure><p id="65ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi ju translated">你和你在学校所有的好朋友一起参加了一次学校旅行。猜猜在哪里？一个非常大的国家野生动物保护区。你吃过午饭，想和你最好的朋友去避难所散步。虽然没有人被允许越过危险区域，但你和你的朋友设法通过了。你正穿过丛林，唉！你好像迷路了。</p><p id="1966" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一个勇敢的孩子，你一直走着，想找到去学校朋友和老师那里的路。但是你所有的努力都白费了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kd"><img src="../Images/8516761c691569b6dec23582945d82e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QqlPD7vV4BLCFR5h"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@brigittetohm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布里吉特·托姆</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9b69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你们都在一棵芒果树前停下来，然后决定休息，用那些多汁的芒果填满肚子。当你在树荫下休息时，你的朋友开始从树上摘芒果。</p><p id="04fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的朋友摘了一些水果，你们俩开始吃。他惊叫道:“一半以上的水果都熟透了！”。</p><p id="3787" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">"一半以上的水果都熟透了！"是你朋友的主张。<strong class="ih hj">在统计语言中，我们称之为‘假设’或‘零假设’</strong>。“替代假设”声称与无效假设完全相反。</p><h1 id="4e03" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是假设检验？</h1><p id="f5d8" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">你得知道什么是假设。当我们使用一个样本评估两个互斥(两者不能同时发生)的总体陈述时，这就是假设检验。检验一个假设有很多程序，例如:</p><blockquote class="lh li lj"><p id="352e" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi">一个样本比例测试</em></p><p id="d3f9" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi">卡方检验</em></p><p id="276d" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi"> T型测试</em></p><p id="b4ba" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi">方差分析</em></p><p id="0c18" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi"> Z测试</em></p></blockquote><p id="311b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有更多……你会惊讶地发现，假设有100多种测试，但没有一种能涵盖所有的测试。然而，在本文的后面，我们将讨论一些重要的过程。</p><h2 id="6763" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">简而言之:</h2><p id="6079" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">在上面的例子中，你的朋友已经做了一个无效假设。但是你不会在所有情况下都得到零假设。你必须自己弥补。</p><p id="359e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，假设检验的第一步也是最重要的一步是识别一个无效假设和一个替代假设。</p><p id="d32b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设检验的主要目的是检验零假设是否成立。为此，我们需要数据。你必须根据你的方便来收集和整理数据。我将尝试借助上面的例子本身来解释这一点。</p><p id="870a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你想测试你朋友说法的可信度。当你独自一人在丛林中无所事事时，你在树上收集了10个样品中的5个，发现每个样品中分别有[4，6，2，3，7]个过熟的芒果。我们已经收集了50个芒果的数据，所以我们的人口规模是50，我们将测试是否有超过25个芒果过熟。这就对了。你有你的数据。</p><p id="cb42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无论如何，我们现在不打算对此进行统计测试。但是我们会试着看看那些我们需要做假设检验的东西。甚至在此之前，我们需要讨论我们在检验假设时可能犯的错误。有两种类型的错误。</p><h1 id="2196" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是第一类错误？</h1><p id="b711" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">当我们拒绝零假设时，它实际上是真的，这是第一类错误。这可能是由多种原因造成的，如数据不足、技术不当等。</p><h1 id="61e6" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是第二类错误？</h1><p id="d4d4" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">这与第一类错误相反。当我们不能拒绝零假设时，即使它是假的，这被称为第二类错误。</p><h1 id="16c1" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">显著性水平(alpha)是什么？</h1><p id="e06c" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">犯第一类错误的概率称为显著性水平。测试通常以5%或1%的alpha级别运行。它被称为拒绝区域，即如果P值低于显著性水平，我们拒绝零假设。</p><p id="fb44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这完全取决于你想冒多大的风险。如果你希望你的结果95%正确，那么你的阿尔法水平就是5%。如果你希望你的结果99%正确，那么你的阿尔法水平应该是1%。恐怕你的测试不会在任何给定的时间点给出100%准确的结果，除了一些不常见的情况。</p><blockquote class="lh li lj"><p id="e148" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated">这里出现了一个超级有趣的问题。为什么我会选择95%的准确率，而实际上我可以选择99%的准确率？有些事我们需要明白。</p></blockquote><h1 id="c6bd" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">为什么显著性水平通常选择5%？</h1><p id="0bf0" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">我将为你重复重要性水平的定义。“犯第一类错误的概率称为显著性水平”。我们也讨论了第一类错误。如果我们拒绝了为真的零假设，这被称为第一类错误。</p><p id="1e69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，当我们降低显著性水平的值时，我们降低了犯第一类错误的概率，这没问题。但同时，我们增加了犯第二类错误的可能性。因此，最好是评估这种情况下的风险，并设定你的阿尔法值。</p><p id="60c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们要讨论单尾和双尾检验。</p><h1 id="27dc" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是单尾检验？</h1><p id="ad75" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">让我们再次看看上面的芒果例子。你的朋友怎么说？他说:“一半以上的水果都熟透了！”这就是我们的无效假设。那么另一个假设是什么呢？</p><p id="49e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是“没有超过一半的水果是熟透的”。我们需要测试过熟芒果的数量是否大于水果总量的50%。</p><p id="0e21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种检验就是单尾检验。让我给你讲讲双尾检验，这样你就可以详细了解这两个检验了。</p><h1 id="ef7c" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是双尾检验？</h1><p id="fd24" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">一名政府官员声称当地学校的辍学率为25%。去年，603名学生中有190人辍学。</p><p id="1aec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">明确你的无效假设。应该是，“每年正好有25%的学生辍学”。另一个假设是，“辍学学生的比例不完全是25%”。这将是一个双尾检验，因为如果百分比明显小于或大于25%，我们将拒绝零假设。</p><p id="da9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是在芒果的例子中，只有当过熟的芒果明显少于总数的50%时，我们才拒绝零假设。</p><p id="14a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一点需要注意。在双尾检验中，显著性水平分为两部分，也就是说，如果你选择5%的alpha水平，那么两个尾部的显著性水平都是2.5%。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/c63fa32d9396bf3ab684350487218198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZPQ4LMYKnRuZ6cvQ"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">孙富在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="634d" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">什么是P值？</h1><p id="5e77" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">假设你掷两次不带偏见的硬币。你能告诉我两个头出现的概率有多大吗？所有可能的结果是[HH，HT，TH，TT]。因为概率是有利结果的数量除以结果的总数，所以概率是1/4或0.25。</p><p id="3d01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，两个人的P值是多少？<strong class="ih hj"> <em class="lk">通常，在给定的条件下，如双尾检验、自由度等</em> </strong>，每个检验的P值都在表格中给出。但是今天，让我们来学习这些P值是如何计算和使用的。</p><h2 id="d8bd" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">p值是三部分之和。</h2><blockquote class="lh li lj"><p id="5e5c" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi">事件发生的概率。</em></p><p id="9aa3" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated">同样罕见的事件发生的概率。</p><p id="1357" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated"><em class="hi">比较罕见的事件发生的概率。</em></p></blockquote><h1 id="7108" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">P值怎么算？</h1><p id="d8cf" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">考虑上面的例子。让我们试着计算两次抛硬币时出现的两个头的P值。</p><p id="552b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一部分是我们已经计算过的事件概率，即0.25。现在到了第二部分。同样罕见的事件的概率，即出现两个尾部的概率也是0.25。</p><p id="7790" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三部分是更罕见事件的概率。在我们这种情况下，没有比两个头出现更罕见的事情了。所以第三部分是零。如果我们把这些都加起来，我们得到P值0.5。</p><p id="afd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数人都把概率误认为P值。希望你现在明白区别了。</p><p id="d97b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可能会问一个问题。这是一个小实验，总共只有4个结果，所以我们能够很容易地计算P值。如果有上百个观测值呢？几千？那我们该怎么办？T3】</p><p id="913b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们用一种叫做密度的东西。</p><p id="0ad9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们正在一所大学里测量女性的身高。我们已经收集了数据，并以正态分布的形式绘制出来。对于这个例子，参考<a class="ae jt" href="https://www.youtube.com/watch?v=5Z9OIYA8He8" rel="noopener ugc nofollow" target="_blank">这个视频</a>。</p><p id="f10d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大部分数值都在142到169 cm之间。确切地说，95%的数值位于142到169厘米之间。这表明，每次我们测量女性身高时，有2.5%的可能性会超过169厘米，有2.5%的可能性会低于142厘米。</p><p id="b5ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们开始计算P值。身高142 cm的人P值是多少？</p><blockquote class="lh li lj"><p id="7515" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated">第一部分(事件的概率):由于我们有数百次观察，一个人身高142 cm的概率可以忽略不计。</p><p id="c235" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated">第二部分(同样罕见事件的概率):由于第一部分趋向于零，这也趋向于零。</p><p id="8865" class="if ig lk ih b ii ij ik il im in io ip ll ir is it lm iv iw ix ln iz ja jb jc hb bi translated">第三部分(更罕见事件的概率):现在，我们必须考虑尾部的值，因为与身高142 cm的人相比，它们发生的概率很小。那就是2.5%+2.5%的结果到5%。</p></blockquote><p id="a26a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以身高142 cm的人的P值是0.05。现在让我们看一下我们通常用来检验假设的一些检验。</p><h1 id="0801" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">t检验</h1><p id="ab75" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">有两种类型的T检验——单样本T检验和双样本T检验。</p><p id="b6fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们听起来就是这样。当我们处理一个样本时，使用一个样本T检验；当我们想要比较两个不同的样本时，使用两个样本T检验。</p><h2 id="5ab9" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">一个样本T检验</h2><p id="0670" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">正如我前面提到的，当同一人群中有一个(或多个)不同的样本时，就使用一个样本T检验。让我们在芒果的例子上做测试。</p><p id="5993" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">零假设:过熟果实&gt; 25个(果实总数的一半)替代假设:过熟果实&lt; = 25个。</p><p id="437c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真正过熟的水果是[4，6，2，3，7]</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="f64b" class="lo kf hi me b fi mi mj l mk ml"># import one sample t test <br/>from scipy.stats import ttest_1samp<br/># This function returns two values. The first one is the t statistic # and the second one is p-value<br/>statistic,p_value = ttest_1samp([4,6,2,3,7],5)<br/># We considered 5 here because 50% of each sample would be 5. As we # have 5 samples, total would turnout to be 25.<br/>print("The P-value is:",p_value)<br/>if p_value &lt;= 0.05:<br/>    print("The hypothesis is rejected")<br/>else:<br/>    print("Your friend's claim is true! Unable to reject null hypothesis")</span><span id="8057" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>The P-value is: 0.5528894339334173<br/>Your friend's claim is true! Unable to reject null hypothesis</span></pre><h2 id="8747" class="lo kf hi bd kg lp lq lr kk ls lt lu ko iq lv lw ks iu lx ly kw iy lz ma la mb bi translated">双样本T检验</h2><p id="f132" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">当我们考虑两个独立的样本，即它们属于不同的总体时，我们使用这种检验，它也被称为独立T检验。让我们考虑一个例子，其中有来自两个不同田地的烟草植株高度的两个样本。Field_1高度给定为[69，56，84，63，34，45，73，65]。Field_2高度给定为[46，34，23，56，42，54，32，49]。让我们看看两块地的产量是否有差别。</p><p id="40b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">零假设:两块田的产量没有差别。</p><p id="174c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">替代假设:两块田的产量有差异。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="4b8d" class="lo kf hi me b fi mi mj l mk ml">field_1,field_2 = [69,56,84,63,34,45,73,65],[46,34,23,56,42,54,32,49]<br/># import independent t test which is also called two sample t test<br/>from scipy.stats import ttest_ind<br/># This function returns two values. The first one is the t statistic # and the second one is p-value<br/>statistic,p_value = ttest_ind(field_1,field_2)<br/>print("P-value is:",p_value)<br/>if p_value &lt;= 0.05:<br/>    print("We reject the null hypothesis. There is a difference between the yield of two fields")<br/>else:<br/>    print("We fail to reject the null hypothesis. There is no difference between the yield of two fields")</span><span id="2852" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>P-value is: 0.015464452955301845<br/>We reject the null hypothesis. There is a difference between the yield of two fields</span></pre><p id="b678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的双尾双样本T检验中，我们观察到零假设被拒绝。但是我们可以看到P值大于0.01，这意味着如果我们选择α为0.01，假设就被接受了。但是这增加了第二类错误的机会，这是我们不能承受的。</p><h1 id="6c58" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">卡方检验</h1><p id="f121" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">当一个总体中有两个分类变量时，应用该检验。它用于确定两个变量之间是否有显著的关联。</p><p id="50f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了执行这个测试，我们将从库SEABORN导入一个数据集。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="39e7" class="lo kf hi me b fi mi mj l mk ml"># Importing essential libraries and loading the dataset.<br/>import scipy.stats as stats<br/>import seaborn as sns<br/>import pandas as pd<br/>import numpy as np<br/>dataset=sns.load_dataset('tips')</span><span id="1afc" class="lo kf hi me b fi mm mj l mk ml">print("Dimensions of the dataset:",dataset.shape[0],"rows and",dataset.shape[1],"columns.")<br/>dataset.head()</span><span id="5dd9" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>Dimensions of the dataset: 244 rows and 7 columns.</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mn"><img src="../Images/525bac7a5e8f0622b50c1b0c652cd150.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*Oj4pZj-N6J3EfpzIGex0SA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">我们数据集的前五个观察值</figcaption></figure><p id="2f39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，数据集中有7列。但是我们只关心“性”和“吸烟者”两个栏目。我们要找出这两列之间是否有任何关联。</p><p id="ec68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无效假设:两列之间没有关联。</p><p id="2ade" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个假设:这两列之间有关联。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="aaed" class="lo kf hi me b fi mi mj l mk ml"># Making a crosstab for the two columns we want to find the association between.<br/>sex_smoker = pd.crosstab(dataset['sex'],dataset['smoker'])</span><span id="1a01" class="lo kf hi me b fi mm mj l mk ml">val = stats.chi2_contingency(sex_smoker)<br/>val</span><span id="7716" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>(0.008763290531773594, 0.925417020494423, 1, array([[59.84016393, 97.15983607],<br/>        [33.15983607, 53.84016393]]))</span></pre><p id="49f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看chi2 _ contigency函数返回了什么。第一个值是chi2检验统计量。第二个值是概率，而第三个是P值，最后一个是数组，是期望值。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="9fb9" class="lo kf hi me b fi mi mj l mk ml">degrees_of_freedom,expected_values = val[2],val[3]<br/>print("Degrees of freedom:",degrees_of_freedom , "\nExpected values:",expected_values)<br/># Storing the crosstab <br/>observed_values = sex_smoker.values</span><span id="ab7b" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>Degrees of freedom: 1 <br/>Expected values: [[59.84016393 97.15983607]<br/> [33.15983607 53.84016393]]</span></pre><h1 id="6fef" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">执行卡方检验</h1><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="869b" class="lo kf hi me b fi mi mj l mk ml">from scipy.stats import chi2<br/>chi_square = sum([(o-e)**2./e for o,e in zip(observed_values,expected_values)])<br/>chi_square_statistic = chi_square[0]+chi_square[1]<br/>print('Chi-square test statistic is:',chi_square_statistic)</span><span id="6ddd" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>Chi-square test statistic is: 0.001934818536627623</span></pre><p id="fbaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中实现了卡方检验统计公式。</p><p id="b48a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你不懂代码，不用担心。我们将在以后从理论上详细讨论这些测试。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="ec7b" class="lo kf hi me b fi mi mj l mk ml"># Calculating critical value, it will always be given in your tables. But while coding, we have to calculate it.<br/><br/>critical_value=chi2.ppf(q=1-alpha,df=degrees_of_freedom)<br/>print('critical_value:',critical_value)</span><span id="5d33" class="lo kf hi me b fi mm mj l mk ml"># PPF is Percent point function which is the inverse of Cumulative distribution function.</span><span id="1dc9" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>critical_value: 3.841458820694124</span></pre><p id="433b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了说明这一点，让我告诉你，如果卡方统计量大于临界值，我们拒绝零假设。</p><pre class="je jf jg jh fd md me mf mg aw mh bi"><span id="f6de" class="lo kf hi me b fi mi mj l mk ml">if chi_square_statistic&gt;=critical_value:<br/>    print("Reject null hypothesis,There is a relationship between 2 categorical variables")<br/>else:<br/>    print("Retain null hypothesis,There is no relationship between 2 categorical variables")</span><span id="63ea" class="lo kf hi me b fi mm mj l mk ml">Output:<br/>Retain null hypothesis,There is no relationship between 2 categorical variables</span></pre></div><div class="ab cl mo mp gp mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="hb hc hd he hf"><h1 id="33c7" class="ke kf hi bd kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx mz kz la lb bi translated">参考</h1><ol class=""><li id="46a7" class="na nb hi ih b ii lc im ld iq nc iu nd iy ne jc nf ng nh ni bi translated"><a class="ae jt" href="https://www.statisticshowto.com/contact/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">斯蒂芬妮格伦</strong> </a>。来自StatisticsHowTo.com<a class="ae jt" href="https://www.statisticshowto.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"/></a>的“假设检验”:对我们其他人来说是基本的统计数据！<a class="ae jt" href="https://www.statisticshowto.com/probability-and-statistics/hypothesis-testing/" rel="noopener ugc nofollow" target="_blank">https://www . statistics show to . com/probability-and-statistics/hypothesis-testing/</a></li><li id="ca0e" class="na nb hi ih b ii nj im nk iq nl iu nm iy nn jc nf ng nh ni bi translated">统计学基础(上册):A. M. <strong class="ih hj"> Goon </strong>，B. <strong class="ih hj">达斯古普塔</strong>，M. K. <strong class="ih hj">古普塔</strong></li></ol></div></div>    
</body>
</html>