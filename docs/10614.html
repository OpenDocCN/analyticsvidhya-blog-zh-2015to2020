<html>
<head>
<title>Python bar chart animation using bar_chart_race</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 bar_chart_race 的 Python 条形图动画</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-bar-chart-animation-using-bar-chart-race-e4102a11ee23?source=collection_archive---------17-----------------------#2020-10-26">https://medium.com/analytics-vidhya/python-bar-chart-animation-using-bar-chart-race-e4102a11ee23?source=collection_archive---------17-----------------------#2020-10-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e062" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于动画显示数据的条形图竞赛</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/c6d504b6d26842234d5d2e4b831b4889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*e-awoSMeFwrb3Tvbb9aDvg.gif"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">示例:-条形图动画</figcaption></figure><p id="d1d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安装</strong></p><ul class=""><li id="f9c4" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><code class="du jy jz ka kb b">pip install bar_chart_race</code></li></ul><p id="3d38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kc"> ( </em>或)</p><ul class=""><li id="515a" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><code class="du jy jz ka kb b">conda install -c conda-forge bar_chart_race</code></li></ul><p id="5eef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用上面的命令安装 bar_chart_race 插件。</p><p id="e306" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">导入插件</strong></p><pre class="je jf jg jh fd kd kb ke kf aw kg bi"><span id="8346" class="kh ki hi kb b fi kj kk l kl km"><em class="kc">import pandas as pd</em></span><span id="163a" class="kh ki hi kb b fi kn kk l kl km"><em class="kc">import numpy as np</em></span><span id="fbc4" class="kh ki hi kb b fi kn kk l kl km"><em class="kc">import bar_chart_race as bcr</em></span></pre><p id="0285" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kc">导入熊猫、numby 和 bar_chart_race </em></p><p id="80ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据集</strong></p><p id="7dad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kc">目前，我正在获取 covid19 的每日数据集。参考:- </em> <a class="ae ko" href="https://www.kaggle.com/imdevskp/corona-virus-report?select=day_wise.csv" rel="noopener ugc nofollow" target="_blank"> <em class="kc">日智 CSV </em> </a></p><p id="478b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kc">读取 csv 文件并显示前 5 位数据</em> </strong></p><pre class="je jf jg jh fd kd kb ke kf aw kg bi"><span id="1782" class="kh ki hi kb b fi kj kk l kl km"><em class="kc">covidDayWise=pd.read_csv(“day_wise.csv”)<br/>covidDayWise.head(5)</em></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kp"><img src="../Images/eb3d1624c2a7d4224b671897048cb309.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sv9lyBM5jePtl_Fekk6LVQ.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">Covid19 数据集</figcaption></figure><p id="5d64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">重新排列数据</strong></p><p id="c72a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们把日期看作一个时间段，所以，让我们把日期作为数据框中的一个索引。</p><pre class="je jf jg jh fd kd kb ke kf aw kg bi"><span id="c68e" class="kh ki hi kb b fi kj kk l kl km"><em class="kc">covidDayWise=pd.read_csv(“day_wise.csv”,index_col=”Date”)<br/>covidDayWise.head(5)</em></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ku"><img src="../Images/a54419967bb1b8fea792554061a8ef4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YL0hoS3m_9HWVHVoU4XX0Q.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">现在索引更改为“日期”列</figcaption></figure><p id="da99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">动画</strong></p><p id="0ad0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以删除数据帧中不需要的列。</p><p id="339f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kc">在这里，我将从数据框中删除“已确认、死亡、已康复”列，并制作动画。</em></p><pre class="je jf jg jh fd kd kb ke kf aw kg bi"><span id="8b27" class="kh ki hi kb b fi kj kk l kl km"><em class="kc">bcr.bar_chart_race(covidDayWise.drop([‘Confirmed’,’Deaths’,’Recovered’],axis=1))</em></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/101c34316822ef17f1ff0e8ff0b591dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*3IslMVIwtTLn8GOz42DCSQ.gif"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">如果你在 jupyter 上运行它，它会直接转换成视频</figcaption></figure><p id="d63e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将方向转换为垂直</strong></p><p id="4e55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kc">要改变方向，将参数传递给“方向=‘v’”表示垂直，传递给“h”表示水平</em></p><pre class="je jf jg jh fd kd kb ke kf aw kg bi"><span id="5167" class="kh ki hi kb b fi kj kk l kl km"><em class="kc">bcr.bar_chart_race(covidDayWise.drop([‘Confirmed’,’Deaths’,’Recovered’],axis=1),orientation=’v’)</em></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/64a2e7d4d8e87172bd5589e9d5abce0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*uXiqTOp6XT7U7zMv1doY3g.gif"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">转换为垂直的数据</figcaption></figure></div></div>    
</body>
</html>