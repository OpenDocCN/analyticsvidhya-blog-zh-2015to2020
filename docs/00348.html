<html>
<head>
<title>Demystifying statistics for Data Scientists — Central Limit Theorem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为数据科学家揭开统计学的神秘面纱——中心极限定理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/demystifying-statistics-for-data-scientists-central-limit-theorem-ee9d420fc154?source=collection_archive---------1-----------------------#2019-04-19">https://medium.com/analytics-vidhya/demystifying-statistics-for-data-scientists-central-limit-theorem-ee9d420fc154?source=collection_archive---------1-----------------------#2019-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/63508cc46a15a9b37f3c7de7f78b1216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8FSoAmbKPtnp11MBn-YdRg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com/search/photos/statistics?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/photos/hpjSkU2UYSU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Carlos Muza </a>拍摄的照片</figcaption></figure><p id="02a0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">中心极限定理也许是现代统计学发展中最重要的定理。它使我们能够使用样本数据集来估计人口特征。</p><p id="87a4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我们将探索该定理的工作原理。我们还将浏览一些python代码，使用一些可视化工具来验证中心极限定理。</p><p id="a254" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在深入研究这个定理之前，让我们先了解一下这个定理中用到的一些统计学的基本术语。</p><p id="11a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意:您可以在https://github.com/sandeepvja/statistics-repo的<a class="ae iu" href="https://github.com/sandeepvja/statistics-repo" rel="noopener ugc nofollow" target="_blank">找到本文的代码示例</a></p><h1 id="d433" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">基本术语</strong></h1><ol class=""><li id="e239" class="kr ks hi ix b iy kt jc ku jg kv jk kw jo kx js ky kz la lb bi translated"><strong class="ix hj">人口</strong></li></ol><p id="791d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">填充表示特定数据集中所有可能的数据项。总的来说，我们无法接触到全部人口。</p><p id="23bd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于我们没有人口数据集，我们无法准确计算人口数据集指标，如均值、方差等。但是使用中心极限定理，我们可以估计它们(尽可能接近)。</p><p id="8902" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">示例:</strong>学生数据集的人口数据代表世界上所有学生的信息。</p><p id="f11c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.<strong class="ix hj">样本</strong></p><p id="993f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">样本是总体的一个子集。我们通常只能接触样本。</p><p id="0470" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">示例:</strong>马里兰大学的学生数据集是学生数据集总体中的一个样本。</p><p id="f8a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.<strong class="ix hj">概率分布/分布</strong></p><p id="fd3a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">概率分布是一个简单的数学公式，通过它我们可以描述整个数据集。</p><p id="be73" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.<strong class="ix hj">高斯分布</strong></p><p id="e0f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">高斯分布(正态分布)是一种概率分布，遵循类似下图的钟形。该分布围绕其平均值完全对称。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/894c8488ad07b91e1013ece21a0fa3c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*t8ZR83g-z6GSOyi1oEIiWg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">正态分布</figcaption></figure><p id="2b0f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们试着理解中心极限定理，</p><h1 id="c791" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">中心极限定理</h1><blockquote class="lh li lj"><p id="d6db" class="iv iw lk ix b iy iz ja jb jc jd je jf ll jh ji jj lm jl jm jn ln jp jq jr js hb bi translated">中心极限定理指出，给定来自方差水平有限的总体的足够大的样本量，来自同一总体的所有样本的均值将遵循高斯分布。</p></blockquote><p id="41f8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">简而言之，该定理指出，从人口数据集中，如果我们取大量足够大的随机样本，并取每个样本的平均值，所有这些平均值将遵循高斯分布。</p><p id="e6f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个定理是我们将在后面的文章中看到的许多统计技术的核心。但首先，让我们试着用python验证一下中心极限定理。</p><p id="1f33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，让我们假设我们知道要从中收集样本的总体。为了简单起见，让我们把人口数从1到6。</p><p id="0930" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们创建一个python函数来生成样本并计算它们的平均值，该函数采用以下参数:</p><ol class=""><li id="b94e" class="kr ks hi ix b iy iz jc jd jg lo jk lp jo lq js ky kz la lb bi translated">人口的数量</li><li id="28c2" class="kr ks hi ix b iy lr jc ls jg lt jk lu jo lv js ky kz la lb bi translated">从总体中抽取的每个样本的大小(替换抽样)。如果你想了解有替代和无替代抽样，请看看这篇文章</li><li id="9ccf" class="kr ks hi ix b iy lr jc ls jg lt jk lu jo lv js ky kz la lb bi translated">要采集的样本数量</li></ol><pre class="ld le lf lg fd lw lx ly lz aw ma bi"><span id="7c6d" class="mb ju hi lx b fi mc md l me mf">import pandas as pd</span><span id="b13f" class="mb ju hi lx b fi mg md l me mf">def getSampleMeans(population_size, sample_size, num_samples):<br/>    <br/>    population_range = range(1, population_size + 1)<br/>    <br/>    population_data = pd.Series(population_range)</span><span id="d970" class="mb ju hi lx b fi mg md l me mf">    sample_means = [population_data.sample(sample_size, replace=True).mean() for i in range(num_samples)]<br/>    <br/>    return sample_means</span></pre><p id="398d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们还创建另一个函数，该函数使用plotly从上述函数生成的样本均值创建直方图</p><pre class="ld le lf lg fd lw lx ly lz aw ma bi"><span id="2c92" class="mb ju hi lx b fi mc md l me mf">def plotHistogram(sample_means):<br/>   # Import plotly<br/>    import plotly<br/>    import plotly.plotly as py<br/>    import plotly.graph_objs as go<br/>    data = [go.Histogram(x=sample_means)]<br/>    plotly.offline.init_notebook_mode() <br/>    plotly.offline.iplot(data, filename='jupyter/Normal')</span></pre><p id="bebb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面代码片段的最后两行是jupyter笔记本显示plotly可视化所需要的。</p><p id="d00b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，根据中心极限定理，来自同一总体的样本均值将遵循正态分布。</p><p id="1557" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们假设一个从1到6的数字群体。每次取1个样本，取这些样本的平均值并绘制直方图。</p><pre class="ld le lf lg fd lw lx ly lz aw ma bi"><span id="b0b2" class="mb ju hi lx b fi mc md l me mf">sample_means = getSampleMeans(population_size = 6, sample_size = 1, num_samples = 10000)<br/>plotHistogram(sample_means)</span></pre><p id="620b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的代码将绘制一个类似下图的直方图</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/f568894b6fa8d32def3d65a5af247c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cc1rBNzR9Mtl6Boc6j9ySw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">样本量为1的6人总体直方图</figcaption></figure><p id="efd9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是等等！！这看起来不像正态分布！！</p><p id="9b2c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">为什么中心极限定理不起作用？</strong></p><p id="616f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意，在上面的定理定义中，语句清楚地指定，<strong class="ix hj"> <em class="lk">来自总体的足够大的样本量</em>。</strong></p><p id="7a45" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们只从人群中抽取了一个样本，由于样本不足，所以它不起作用。</p><p id="cd49" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们尝试将样本大小增加到2，下面的代码，</p><pre class="ld le lf lg fd lw lx ly lz aw ma bi"><span id="1d41" class="mb ju hi lx b fi mc md l me mf">sample_means = getSampleMeans(population_size = 6, sample_size = 2, num_samples = 10000)<br/>plotHistogram(sample_means)</span></pre><p id="ce40" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们会看到一个类似下图的直方图。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/1b744f53defc64756296bbb20ad7183e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lBEN7f8-xTMLOpltaBZoA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">6人总体的样本量为2的直方图</figcaption></figure><p id="decb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，这看起来稍微好一点，更接近正态分布曲线，但我们可以用更高的样本量做得更好。由于我们采用替换抽样，我们也可以采用比总体规模更大的样本规模。</p><pre class="ld le lf lg fd lw lx ly lz aw ma bi"><span id="25ca" class="mb ju hi lx b fi mc md l me mf">sample_means = getSampleMeans(population_size = 6, sample_size = 100, num_samples = 10000)<br/>plotHistogram(sample_means)</span></pre><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/06ca46144f8cffd0e5ac24b6a013d130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rn80yIebnNy0aapAr5UhtA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">6人样本量为100的直方图</figcaption></figure><p id="c7dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您现在可以看到，上面的样本意味着接近正态分布。</p><p id="d434" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以进一步改变样本数量、总体规模或代表数量，并查看样本均值如何开始收敛到高斯分布。</p><p id="c3ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将在以后的文章中进一步探讨中心极限定理的应用。</p></div></div>    
</body>
</html>