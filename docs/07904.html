<html>
<head>
<title>Step by step procedure to perform Simple Linear Regression with Statistical Analysis in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一步一步的程序来执行简单的线性回归与统计分析在R</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/step-by-step-procedure-to-perform-simple-linear-regression-with-statistical-analysis-in-r-340ef0a392d6?source=collection_archive---------14-----------------------#2020-07-11">https://medium.com/analytics-vidhya/step-by-step-procedure-to-perform-simple-linear-regression-with-statistical-analysis-in-r-340ef0a392d6?source=collection_archive---------14-----------------------#2020-07-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/64c249745f1b8badd0bb9d851922fb7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KugvVm_M2RJ-AwZi.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">形象由</strong> <a class="ae iv" href="https://www.educba.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd iu"> educba </strong> </a></figcaption></figure><ol class=""><li id="a3a4" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">简介</strong></li></ol><p id="10b8" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">你好，这是我第一篇关于媒介的文章。在本文中，我将向您展示简单线性回归是如何应用于解决现实生活问题的，简单线性回归是机器学习中经常使用的一种非常基本的线性回归算法。为此，我将使用一个数据集，其中—“我必须根据一个解释变量经验年数来预测个人(比如说一个人)的工资。”我将使用<strong class="iy hj"> Kaggle R-Notebook </strong>来完成上述任务。您可以在PC中使用R-studio脱机工作。</p><p id="57fb" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 2。加载数据集</strong></p><p id="9635" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">链接下载数据集离线使用—<a class="ae iv" href="https://www.kaggle.com/rohankayan/years-of-experience-and-salary-dataset/download" rel="noopener ugc nofollow" target="_blank"><strong class="iy hj">https://www . ka ggle . com/rohankayan/years-of-experience-and-salary-dataset/下载</strong> </a></p><p id="3692" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">运行以下命令创建一个包含整个数据集的R对象-</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="edb6" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Loading Data</strong><br/>data = read.csv("../input/years-of-experience-and-salary-dataset/Salary_Data.csv" , header = T)</span></pre><p id="8891" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">现在，数据将成功加载到当前会话中，并存储在对象“Data”中。</p><p id="60a5" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 3。加载所需的库</strong></p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="2169" class="km kn hi ki b fi ko kp l kq kr">library(tidyverse)<br/>library(caret)<br/>library(MASS)<br/>library(lmtest)<br/>library(olsrr)<br/>library(broom)</span></pre><p id="1c2f" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 4。探索数据集</strong></p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="c9b0" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj">#<em class="ks"> </em>Random Inspection of Dataset<br/></strong>sample_n(data,5)<strong class="ki hj"># See the following output</strong></span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/c9035f7b41cbca8edc536cac5c594ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sVgYNj6Nu3v2DXnD.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-1 </strong></figcaption></figure><p id="2e7e" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">在给定的数据集中，目标“工资”和预测值“工作年限”都是定量变量。因此，我们可以对给定的数据集应用回归。现在，</p><p id="8350" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">问题是:我们必须应用哪种类型的回归(线性或非线性)？</p><p id="c6f8" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">我的建议是:首先尝试线性回归，因为它比非线性回归简单。如果它不适合，那么去非线性回归。</p><p id="1142" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">下一个问题:</strong>线性回归有很多种类型。对于给定的数据集，哪一个更好？</p><p id="999a" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">回答:</strong>由于我只有一个预测值，因此可能是拟合一个变量的简单线性回归或多项式(通常是正交多项式，以避免多重共线性)回归。</p><p id="ce29" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">问题:</strong>以上两种线性回归哪个表现更好？</p><p id="fd7c" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">答案:</strong>绘制预测器(X轴上)和目标(Y轴上)之间的散点图。这将给出一个最好的主意。</p><p id="5e2a" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">让我们这样做吧-</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="53bb" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Scatter Plot<br/></strong>plot(data$YearsExperience,data$Salary)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/e1fe27a5e5c61afe5e78b010347eca93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9u0z7vrm-MLARavr.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-2 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="1a96" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">上图显示了预测值和目标值之间的线性关系。所以简单的线性回归会表现得更好。</em></p></blockquote><p id="db46" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">此外，如果您认为多项式模型可能比简单线性回归执行得更好，请拟合多项式模型，因为如果多项式模型不是给定数据集的最佳模型，高阶项将自动变得不重要，这反过来表明给定数据集的最佳模型是简单线性回归。(后期还会见到你一样。)</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="54ff" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">SLR基于某些假设，如下所示-</p><ol class=""><li id="4c4d" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">线性:</strong>预测值和目标值之间必须是线性关系。</li><li id="722f" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">正态:</strong>误差必须正态分布。</li><li id="3e14" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">同方差:</strong>误差必须有恒定的方差。</li><li id="203d" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">自相关:</strong>误差必须是不相关的。(错误必须是独立的)</li><li id="1c9f" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated">误差的平均值必须为零。</li></ol><p id="3b60" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">上述假设必须得到满足，因为如果上述假设中的任何一个不满足，那么我们就不能确定所获得结果的有效性和可靠性。在这种情况下，要么尝试满足假设，要么采用任何其他回归方法来获得可靠的结果。</p><p id="f324" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">这些假设中的一些在拟合模型之前被检查，一些在拟合之后被检查，视情况而定。在接下来的步骤中，这一点会更加清楚。</p><p id="6b08" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 5。通过</strong>检查线性假设</p><ol class=""><li id="485a" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">可视化</strong>:预测器和目标之间的散点图帮助我们。(已经在上面标绘并发现线性。)</li><li id="ccbf" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">统计检验</strong>:皮尔森——相关性检验有帮助。使用<strong class="iy hj">“校正测试()”</strong>功能。</li></ol><p id="fce6" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">让我们试一试。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="5558" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Correlation Test</strong><br/>cor.test(data$YearsExperience , data$Salary)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/a27785c0358a4415a69de0e4ad0c79dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GjnV6dD-l4XkeKNc.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-3 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="d503" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">既然，</em> <strong class="iy hj"> <em class="hi"> p值小于0.05 </em> </strong> <em class="hi">与样本相关性为</em><strong class="iy hj"><em class="hi">0.9782416</em></strong><em class="hi">。因此，高度显著的相关性(高度线性相关)存在于人群中。</em></p></blockquote><p id="8df0" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">Rest假设将在拟合模型后进行检查。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="5ce6" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 6。装配模型</strong></p><p id="d792" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">在拟合之前，将给定的数据集分成<strong class="iy hj">训练和测试数据</strong>，<strong class="iy hj">拟合模型</strong>，<strong class="iy hj">获得模型</strong>的总结如下-</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="9058" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Randomly Split the data into training and test set</strong></span><span id="e011" class="km kn hi ki b fi lo kp l kq kr">set.seed(123)<br/>training.samples &lt;- data$Salary %&gt;%<br/>  createDataPartition(p = 0.6, list = FALSE)<br/>train.data  &lt;- data[training.samples, ]<br/>test.data &lt;- data[-training.samples, ]<strong class="ki hj"><br/></strong></span><span id="cd3d" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Fit model</strong></span><span id="b655" class="km kn hi ki b fi lo kp l kq kr">model &lt;- lm(Salary ~ YearsExperience , data = train.data)</span><span id="9e8f" class="km kn hi ki b fi lo kp l kq kr">summary(model)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/241ef61393e2ffb2674d7cef4d2141c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S9WxK8YYr4kIKtpG.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-4 </strong></figcaption></figure><p id="c4a9" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">上面的输出显示-</p><ol class=""><li id="c4bc" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">这两个系数都具有统计显著性，因为p值&lt; 0.05</li><li id="06f4" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated">The model is also statistically significant since p-value: 2.098e-13 &lt; 0.05</li><li id="b2eb" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated">Adjusted R-squared: 0.9504 , This shows that 95.04% of the variation available in the given data set (in Salary) is explained by this Simple Linear Regression Model. <strong class="iy hj">其余5%的工资变化是由于一些其他预测因素(如职位、个人年龄)或随机原因</strong>。</li></ol></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="7639" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 7。检查其余假设</strong></p><p id="3e2d" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">正态性假设由- </strong></p><ol class=""><li id="b399" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">可视化 : Q-Q残差图帮助我们。</li><li id="2538" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">统计检验</strong>:夏皮罗-威尔克残差检验帮助了我们。使用<strong class="iy hj"> "shapiro.test()" </strong>函数。</li></ol><p id="9610" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">让我们试一试。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="a988" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Visualization<br/></strong>qqnorm(model$residuals)<br/>qqline(model$residuals , col = "steelblue", lwd = 2)<strong class="ki hj">  </strong></span><span id="5edb" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Statistical Test<br/></strong>shapiro.test(model$residuals)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/944c6a4249d1b152b875ecbdf2c36578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_2vnUE9Awjz7W5uQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-5 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="df51" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">由于p值(0.1123) &gt; 0.05，因此，接受零假设，即误差呈正态分布。</em></p></blockquote><p id="2f51" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">同方差假设由- </strong></p><ol class=""><li id="3acc" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">可视化</strong>:残差与拟合值图帮助我们。</li><li id="ade5" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">统计检验</strong>:布鲁赫异教徒检验帮助我们。使用<strong class="iy hj"> bptest() </strong>函数。</li></ol><p id="0b1b" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">让我们开始吧。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="0897" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Visualization<br/></strong>plot(model$fitted.values , model$residuals)</span><span id="f278" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Statistical Test<br/></strong>bptest(model)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/60455205346b43079f24c28e2aa463ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HnPqd5wE-7E5srQw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-6 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="a70b" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">由于p值(0.0633) &gt; 0.05，因此，接受零假设，即误差具有恒定方差。</em></p></blockquote><p id="5787" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">自相关假设由- </strong></p><ol class=""><li id="4f20" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">可视化</strong>:残差与观察顺序。</li><li id="3034" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated">统计检验:德宾-沃森检验有帮助。使用<strong class="iy hj"> durbinWatsonTest() </strong>函数。</li></ol><p id="01d6" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">让我们试一试。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="ce5c" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Visualization<br/></strong>plot(1:20 , model$residuals)</span><span id="6f02" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Statistical Test<br/></strong>dwtest(model,  alternative = c("two.sided"))</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/90af1d6cea0b144a4836b9d0d685d662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wlO9sMXAHgBLfjBK.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-7 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="8e4d" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">自p值(0.1349)&gt;0.05；因此，接受零假设，即误差不相关。</em></p></blockquote><p id="24b2" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">误差均值假设- </strong></p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="fa9c" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Calculating mean of errors<br/></strong>mean(model$residuals)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/cc7c8e1bba65e62d13ed0213a3884081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gw32QXrt7cb1ZBQA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-8 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="589b" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">上面的输出显示误差的平均值大约为零。</em></p></blockquote><p id="07a0" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">现在，简单线性回归的所有假设都已满足。</p><p id="afd3" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">还有一个任务是检测给定数据集中是否有任何<strong class="iy hj">影响点</strong>。因为如果存在影响点，那么上面得到的结果将变得不可靠。因此，需要检测影响点。</p><p id="bcc9" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">影响点检测通过- </strong></p><ol class=""><li id="876d" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">可视化</strong>:库克的距离图帮助了我们。</li><li id="9920" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated"><strong class="iy hj">统计测量</strong>:库克的距离有帮助。</li></ol><p id="8e2c" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">运行以下命令。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="bdd5" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Visualization (Cook's distance plot)<br/></strong>plot(model , 4)</span><span id="de04" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Statistical Measure<br/></strong>model_dm &lt;- augment(model)</span><span id="5e6a" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Checking Highest Cook's distance<br/></strong>max(model_dm$.cooksd)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/da745bda34a0171e95fe984439ad7add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*41-ChtdaZDf-oKJz.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-9 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="3f14" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><strong class="iy hj"> <em class="hi">最大烹饪距离</em> </strong> <em class="hi">是</em><strong class="iy hj"><em class="hi">0.186480962574431</em></strong></p><p id="17ee" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">由于，对于训练数据集中的任何观察，库克距离不大于0.5，因此，在给定的数据集中没有影响点。</em></p></blockquote></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="1b72" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj"> 8。做出预测</strong></p><p id="9fb6" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">现在，简单的线性回归模型已经准备好了。将其应用于测试数据集，以检查其在未知数据集上的性能，即确定该模型在未知数据上的性能。</p><p id="c1f4" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">这将再次通过两种方法完成-</p><ol class=""><li id="a7ab" class="iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="iy hj">可视化</strong>:测试数据集的预测薪资与实际薪资图有帮助。</li><li id="3179" class="iw ix hi iy b iz li jb lj jd lk jf ll jh lm jj jk jl jm jn bi translated">统计测量:R，RMSE，梅帮助。</li></ol><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="7825" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Making prediction<br/></strong>prediction &lt;- model %&gt;% predict(test.data)</span><span id="570d" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Visualization<br/></strong>plot(test.data$Salary , prediction)<br/>abline(lm(prediction ~ Salary, data = test.data), col = "blue")</span><span id="8650" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Statistical Measure<br/></strong>data.frame( R2 = R2(prediction, test.data$Salary),<br/>            RMSE = RMSE(prediction, test.data$Salary),<br/>            MAE = MAE(prediction, test.data$Salary))</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/a7d7a7094c3f02b5982331bfcf8c88d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z_8OVCtLwJVM0u-p.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-10 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="1c66" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated">我们得到:R = 0.9701604，这表示最佳拟合。</p></blockquote><p id="5278" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">因为，这个结果仅仅基于一个测试数据集。因此，我们不能确定该模型对所有未知数据都有更好的表现。为了在这方面更加自信，我们将使用K-fold交叉验证的方法在不同的测试数据集上测试模型的性能。</p><p id="c3fd" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">这将按如下方式进行</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="7f67" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Define training control<br/></strong>set.seed(123)<br/>train.control &lt;- trainControl(method = "repeatedcv", <br/>                              number = 4, repeats = 3)<strong class="ki hj"><br/># Train the model<br/></strong>model_cv &lt;- train(Salary ~ YearsExperience , data = data, method="lm",<br/>                  trControl = train.control)</span><span id="f54e" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Summarize the results<br/></strong>print(model_cv)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/70c70b59631d84ccb69a26e3f4fbad0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a_ba45GaXia08wFu.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-11 </strong></figcaption></figure><p id="0339" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">伟大的结果！</strong></p><blockquote class="kv kw kx"><p id="3af1" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><strong class="iy hj"> <em class="hi">平均而言，这个简单的线性回归模型捕获了目标(薪金)中97.29 %的可变性。也就是说，97.29 %的工资变动是由于预测因素“工作经验”。休息可变性是由于一些其他原因(如个人的职位/年龄等。)或由于随机原因。</em>T9】</strong></p></blockquote></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="5acf" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated">现在，准备一个多项式模型，正如我之前所说的，如下-</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="176d" class="km kn hi ki b fi ko kp l kq kr"><strong class="ki hj"># Fitting Orthogonal polynomial model</strong></span><span id="261e" class="km kn hi ki b fi lo kp l kq kr">model_poly &lt;- lm(Salary ~ poly(YearsExperience,2) , data = train.data )</span><span id="5a01" class="km kn hi ki b fi lo kp l kq kr"><strong class="ki hj"># Summarizing model<br/></strong>summary(model_poly)</span></pre><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/f0306d07bd47697ae3037492534c194a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iVLGNSyqV-H79Vb7.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd iu">输出-12 </strong></figcaption></figure><blockquote class="kv kw kx"><p id="6e87" class="jo jp ks iy b iz ja jq jr jb jc js jt ky ju jv jw kz jx jy jz la ka kb kc jj hb bi translated"><em class="hi">以上输出表明</em> <strong class="iy hj"> <em class="hi">第二阶预测值不具有统计学意义</em> </strong> <em class="hi">自p值(0.531)&gt;0.05；因此，不要拟合多项式模型，只进行简单的线性回归。</em></p></blockquote></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="85f0" class="pw-post-body-paragraph jo jp hi iy b iz ja jq jr jb jc js jt jd ju jv jw jf jx jy jz jh ka kb kc jj hb bi translated"><strong class="iy hj">想看我的Kaggle R-Notebook : </strong>点击<a class="ae iv" href="https://www.kaggle.com/pranjalpandey12/salary-vs-yearsexperience-slr-model" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hj">这里</strong> </a></p><h1 id="3524" class="lv kn hi bd iu lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">感谢阅读我的第一篇文章。</h1><p id="7287" class="pw-post-body-paragraph jo jp hi iy b iz mr jq jr jb ms js jt jd mt jv jw jf mu jy jz jh mv kb kc jj hb bi translated">如果你发现任何错误或你有任何建议，请让我知道，你总是受欢迎的。</p></div></div>    
</body>
</html>