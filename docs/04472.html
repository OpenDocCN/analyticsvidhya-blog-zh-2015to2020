<html>
<head>
<title>Python virtual environment using pipenv</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用pipenv的Python虚拟环境</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python-virtual-environment-using-pipenv-22010a8bb1c2?source=collection_archive---------3-----------------------#2020-03-21">https://medium.com/analytics-vidhya/python-virtual-environment-using-pipenv-22010a8bb1c2?source=collection_archive---------3-----------------------#2020-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f3a5e9b7d2605a8ba5f65ba1d50d59d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d16DdhEOR6WmqRtBES_Gnw.png"/></div></div></figure><p id="c852" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">什么是虚拟环境？</p><p id="e908" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数开发人员面临的共同问题是依赖问题，开发人员开发几个需要不同依赖版本的项目。</p><p id="ec12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为下面的例子，让我们假设Flask 1.0和Django2.4是全局安装在机器上的，下面的项目需要Flask和Django的不同版本。那么我们如何跨项目管理版本呢？这就是虚拟环境出现的地方。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/553acf3dc2409d8c3606b160c63c92ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aG7njPtY5z-Z6cKYm1bbrQ.jpeg"/></div></div></figure><p id="e72f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">解决方案是跨不同的项目创建单独的虚拟环境，并在这些特定的虚拟环境上安装所需的依赖项和版本。那么这些已安装的依赖项不会与全局依赖项和版本混合，如下所示。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/03435247f80159e55cb142abdfbd55cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W5YCO4c48aoBiRZkRKAI6g.jpeg"/></div></div></figure><p id="20d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">什么是pip和pipenv？</strong></p><p id="f6f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">pip是python的包管理器，它简单地安装python所需版本的包。python 3.5以后默认包含Pip，您可以简单地检查是否安装了pip，输入</p><p id="692e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">pip–版本</p><p id="4b6e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何安装pip？</strong></p><p id="369e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤1:下载源文件</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="546a" class="jz ka hi jv b fi kb kc l kd ke">curl <a class="ae kf" href="https://bootstrap.pypa.io/get-pip.py" rel="noopener ugc nofollow" target="_blank">https://bootstrap.pypa.io/get-pip.py</a> -o get-pip.py</span></pre><p id="3e51" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">步骤2:然后使用python运行文件</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="980a" class="jz ka hi jv b fi kb kc l kd ke">python get-pip.py</span></pre><p id="12e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:在linux和mac上有特定的安装方法，但上述方法是所有操作系统的通用方法。</p><p id="3486" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们深入了解如何创建虚拟环境并使用它们。</p><p id="68de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1。创建虚拟环境</strong></p><p id="73dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">a.制作项目目录</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="0169" class="jz ka hi jv b fi kb kc l kd ke">mkdir project &amp;&amp; cd project</span></pre><p id="4890" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">b.创建一个目录来管理虚拟环境文件</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="5385" class="jz ka hi jv b fi kb kc l kd ke">mkdir environment &amp;&amp; cd environment</span></pre><p id="ea22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">c.启动虚拟环境</p><p id="a392" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kg">对于python 3 </em></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="ec04" class="jz ka hi jv b fi kb kc l kd ke">pipenv –-three</span></pre><p id="cf33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kg">对于python 2 </em></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="4cc0" class="jz ka hi jv b fi kb kc l kd ke">pipenv –-two</span></pre><p id="e512" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">d.启动虚拟环境</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="fc1b" class="jz ka hi jv b fi kb kc l kd ke">pipenv shell</span></pre><p id="cd03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:-如果没有Pipfile文件，则创建新文件，虚拟环境启动并运行。Pipfile包含所有的需求和软件包，如果您安装了任何软件包，那么Pipfile.lock将被创建，其中包含依赖项。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/e2f1f69f6e59b7536421f550f54cb6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSU5NMPNQrLxDG6TNKqRUA.png"/></div></div></figure><p id="c4e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kg">你可以使用</em>简单地安装任何python包</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="70b2" class="jz ka hi jv b fi kb kc l kd ke">pipenv install &lt;package_name&gt; </span></pre><p id="e7f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kg">具体版本</em></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="95df" class="jz ka hi jv b fi kb kc l kd ke">pipenv install “package_name=version_number”</span></pre><p id="b977" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。使用外部文本文件安装依赖关系</strong></p><p id="0c1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们在一个项目中工作，并且我们必须安装其他人使用的依赖项时，这是很重要的。对于pip env，使用文本文件简化了生成依赖关系方式，如下所示。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/4ccaa9af0ebaffed551a578228013507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWaKRNf1yEOmnq1Ddr3mNw.png"/></div></div><figcaption class="kj kk et er es kl km bd b be z dx translated">文本文件格式</figcaption></figure><p id="e7ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，您必须使用pipenv shell启动虚拟环境，因为您必须转到存放pipfile的目录。然后简单地键入如下内容，</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="ece6" class="jz ka hi jv b fi kb kc l kd ke">pipenv install -r &lt;txt_file.txt&gt;</span></pre><p id="af4c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，具有各自版本的所有依赖项将被安装在虚拟环境中。</p><p id="ae0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。查看已安装的依赖项</strong></p><p id="4d9c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以使用两个命令查看已安装的依赖项。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="f33c" class="jz ka hi jv b fi kb kc l kd ke">pipenv graph</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/750475dfd48f601e8cdc892ca36f909d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1akq1pRQpdVmNaSEELPN0g.png"/></div></div><figcaption class="kj kk et er es kl km bd b be z dx translated">pipenv图形命令输出</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="03dc" class="jz ka hi jv b fi kb kc l kd ke">pipenv run pip freeze</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/a2aca1930246de80515d446171ea373a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*gISADlPYndFjw17JXiYemA.png"/></div><figcaption class="kj kk et er es kl km bd b be z dx translated">pipenv运行pip冻结命令输出</figcaption></figure><p id="fec7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:- pip freeze将显示机器上的所有依赖项，为了查看虚拟环境中的依赖项，我们使用pipenv run命令在环境中运行该命令。</p><p id="3354" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。在虚拟环境中卸载已安装的软件包</strong></p><p id="78b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这可以使用以下命令简单地完成</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="6bbb" class="jz ka hi jv b fi kb kc l kd ke">pipenv uninstall &lt;package_name&gt;</span></pre><p id="a7a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。退出虚拟环境</strong></p><p id="4614" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这可以使用exit命令来完成。</p><p id="6cf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">参考资料:【https://pipenv-fork.readthedocs.io/en/latest/】T4</p></div></div>    
</body>
</html>