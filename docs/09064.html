<html>
<head>
<title>2D Image Reconstruction using Genetic Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于遗传算法的2D图像重建</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/2d-image-reconstruction-using-genetic-algorithm-e6ab1c2ea073?source=collection_archive---------3-----------------------#2020-08-24">https://medium.com/analytics-vidhya/2d-image-reconstruction-using-genetic-algorithm-e6ab1c2ea073?source=collection_archive---------3-----------------------#2020-08-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e42f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人工智能在今天有着广泛的含义，其中之一就是图像重建问题。</p><p id="cee4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文的目标是理解<strong class="ih hj">遗传算法</strong>并使用它来解决一个图像重建问题。在我进入技术细节之前。首先，让我荣幸地向您展示我们在这里试图实现的目标，以及我们读完这篇文章后可以做的事情。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/96816dbabae10e75f861d16b8a3bf6ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/1*W6lZZkb2yp-nllMe7LZ-aw.gif"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">重建图像的算法</figcaption></figure><p id="0d24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你刚刚看到上面左边的一张随机图像正在自我重建，看起来和右边的一模一样。所以，这是一个非常简单的图像重建的例子，其中使用了<strong class="ih hj"> 2D图像</strong>。该图像只有2个像素值0和1，但如果我们理解得好，我们可以使用相同的逻辑来解决具有<strong class="ih hj"> RGB </strong>层的<strong class="ih hj"> 3D图像</strong>重建问题。</p><p id="55bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在首先来看看我用来解决这个问题的算法是如何工作的。遗传算法是一种受查尔斯·达尔文的自然进化理论启发的搜索启发式算法。它反映了自然选择的过程，即选择最适合的个体进行繁殖，以产生下一代的后代。所以，是时候记起我们在学校的生物课了。为了理解这个算法，我们必须首先理解几个术语:</p><ol class=""><li id="fd36" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj">群体</strong>:可以解决我们问题的一组可行选项被认为是一个群体。</li></ol><p id="c919" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj">染色体</strong>:他们只是组成群体的个体，拥有解决我们问题的潜力。</p><p id="d8f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">基因</strong>:这些是个体的特征，用一串来表示。你也可以把它看作染色体的一个元素位置。通常用二进制值来编码个体/染色体中的基因。</p><p id="c1dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图将帮助你理解上述概念。这里你可以看到A1、A2、A3和A4是<strong class="ih hj">个体</strong>或<strong class="ih hj">染色体</strong>。它们一起形成一个集合{A1，A2，A3，A4}，称为<strong class="ih hj">群体</strong>，每个个体由一些0和1组成，这些0和1是定义染色体或个体的基因。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jy"><img src="../Images/2e222d87589538e62ccbdfff91cafbf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*viTcYtSTbgy_S5clQHT1rw.png"/></div></div></figure><p id="0ede" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我们理解了这些概念，让我们继续来看看新个体/染色体被修改以满足<strong class="ih hj">要求的过程。</strong>这个<strong class="ih hj">要求</strong>被称为<strong class="ih hj">适应值</strong>。在遗传算法中，我们<em class="kd">取染色体</em>和<em class="kd">对它们进行一些操作</em>，直到其中一条染色体最符合我们的要求或者最适合我们的目标。</p><p id="2480" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们用一个小例子来理解它。</p><p id="1616" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你被要求生成一个类似于<strong class="ih hj"> 0101 </strong>的位序列，你从<strong class="ih hj"> 0011开始。</strong>您可以在该序列的每一步执行一次<strong class="ih hj">操作</strong>，比较结果是否与<strong class="ih hj"> 0101 </strong>匹配。如果参加比赛，你将停止，否则继续。假设我们做的操作是<strong class="ih hj">在每一步改变一位</strong>，为了比较我们的位串和目标位串，我将取位差的绝对值<strong class="ih hj">并取其和</strong>。让我们动手去理解它。</p><p id="4517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Step1: </strong>获取我们的输入和目标位串之间每个位的差值。(输入位以粗体显示)</p><p id="82c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">0</strong>–0 | = 0</p><p id="5fe0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">0</strong>–1 | = 1</p><p id="b4c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">1</strong>–0 | = 1</p><p id="07fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">| <strong class="ih hj"> 1 </strong> - 1 |= 0</p><p id="8213" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">差值之和为0+1+1+0 = 2…该值称为<strong class="ih hj">适应值</strong>，如果我们的随机输入字符串与目标位字符串相同，您可以看到该值将为<strong class="ih hj"> 0 </strong>。</p><p id="a96a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步</strong>:改变一个位/基因值</p><p id="2e1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 0011 </strong>是我们的输入字符串，所以让我将第一个值改为1。获得<strong class="ih hj"> 1011 </strong>。现在区别变成了。</p><p id="cdd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">1</strong>–0 | = 1</p><p id="cc94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">0</strong>–1 | = 1</p><p id="c942" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">1</strong>–0 | = 1</p><p id="82e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">|<strong class="ih hj">1</strong>–1 | = 0</p><p id="1d3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">1+1+1+0=3</p><p id="573f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">喜欢明智的这个操作或行动，使这个小的变化继续和健身计算。如果适应值为0，则此过程停止。也就是说，我们的随机输入最终收敛到与目标相同的形式。</p><p id="bc77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样的步骤也适用于遗传算法。只有在输入字符串或染色体或个体上进行的<strong class="ih hj">操作或动作是不同的</strong>并且<strong class="ih hj">输入不是单个字符串而是群体</strong>。下面的操作是在遗传算法中的染色体上执行的。</p><ol class=""><li id="cd1f" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj">选择:</strong>这个操作的思想是从种群中只选择几个最适合的个体。</li><li id="d3c7" class="jp jq hi ih b ii ke im kf iq kg iu kh iy ki jc ju jv jw jx bi translated"><strong class="ih hj">交叉:</strong>这是一个重要的操作，这里选择的个体根据排列成对分组，然后根据<strong class="ih hj">交叉点</strong>交换它们的基因/位/值。在下面的例子中，交叉点被设置在中间，因此在该点之后，基因将被交换。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kj"><img src="../Images/c4593d777c4904361b200cd604115599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GWdvWJpNzreJ3Y53dRf4qQ.png"/></div></div></figure><p id="7df0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">交叉后，我们将得到后代A3为<strong class="ih hj"> 000111 </strong>和A4为<strong class="ih hj"> 111000 </strong></p><p id="99a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">突变:</strong>在这个操作中，一些基因被随机选择并翻转或改变。这样做是为了保持群体内的多样性，防止趋同。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kk"><img src="../Images/bef88c62a0aedb48e060ec429acc9f3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGMz0owS3eWVOym3tfEOmA.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">变化</figcaption></figure><h1 id="733b" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">履行</h1><p id="595c" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">我们现在已经熟悉了这个理论，是解决这个问题的时候了。首先需要定义几个变量，这将有助于我们的过程。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lo"><img src="../Images/c839cb7dc61c6972d055602489101c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T_WoxRCRudBaxhlevgy17A.png"/></div></div></figure><p id="605a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用的图像是10*10的图像。所以第一个任务是从file中读取它，并将其转换为长度为100的向量。从【face.png】的和<em class="kd">的【img 2 vector()】</em>读取图像矩阵后，将其存储在<em class="kd"> face </em>变量中，然后使用img2vector() 将其转换成一个矢量，存储在<em class="kd"> faceVector </em>变量中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lp"><img src="../Images/00df11b718efee7ce53b83ce515f3b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrh8BMDbNpGXXv9N97VS1g.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">阅读图像face.png</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lq"><img src="../Images/8088ea3b30c10030c6a162bad1a918ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5nCUFebA_7yrCxkk8RRzQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">从10*10的图像矩阵生成一个矢量</figcaption></figure><p id="5603" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看使用的其他主要功能</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lr"><img src="../Images/1ae3f7b18d1b43eb8a08d48d5ecab941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*3rQQuTEkWHs2jFQWOlp5hw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">将矢量转换为图像</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ls"><img src="../Images/dfdca134950299a01f35114403b57497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_w5v0Rwi0g3ah_qwDlSuQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">创造一个群体</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lt"><img src="../Images/a745af6341187f5c14b6f256898f4da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fk-9WrFkpnGj_hHZwzT4wg.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">计算适应值</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lu"><img src="../Images/fe734b08124459b8b6c43dec597e7c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJP51d3qpUWe4TmH-Vbj5Q.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">最佳亲本的选择</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lv"><img src="../Images/6f4268dd4edd1e6a72b37dcc3855130d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyJbyDVPOyhFCGBSu6mbmQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">交叉函数</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lw"><img src="../Images/fff26c84ca74984203a037d96ee9143f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KULwwdADujz5Do1ZjOY4qQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">变异函数</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lx"><img src="../Images/093a83ec5e26ff371ff9a1d72351988b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Rp_xA2OQHadifr3jB7i5w.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">特定迭代后保存图像</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ly"><img src="../Images/189fc29d398f3d927ce13abacc89dbec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-vwU9Np-rnBX2ceamJKKrA.png"/></div></div></figure><p id="dd7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> convert2img() </em>函数与<em class="kd"> img2vector() </em>相反，将矢量转换为图像。这有助于我们找回图像。</p><p id="7d42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> initialPopulation() </em>函数给出了大小为100的<strong class="ih hj"> n </strong>行/个体的群体(我们的目标向量的大小)。</p><p id="a1bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> fitness_fun() </em>取一个染色体和目标向量，返回适应值。<em class="kd"> CalPopFitness() </em>只是对一个种群调用它，得到一个种群中所有染色体的适应值列表</p><p id="becb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个函数<em class="kd"> getBestParents() </em>根据适应值对父母排序，并返回<strong class="ih hj"> n </strong>个最佳父母。</p><p id="069a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd">。</em></p><p id="4f59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> crossover() </em>函数做交叉。但是在从n个最佳选择亲本中进行交叉之前，基于排列<strong class="ih hj"> nP2进行配对。</strong>然后以染色体大小的1/50的交叉点进行交叉。因此，在我们的例子中，它是100*1/50=2。你可以根据我们的要求改变它。</p><p id="14e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> mutation() </em>函数取变量<em class="kd"> mutation_percent </em>定义的特定百分比的基因，并用随机值替换。这可以根据我们的选择来设置。</p><p id="0a74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kd"> saveImages() </em>:经过一定次数的迭代后，具有最佳适应值的染色体被保存，并被绘制以查看它与我们的目标图像有多相似。</p><p id="d46f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是迭代和调用我们的操作函数的部分。迭代的范围是可以改变的，我得到了250次迭代的匹配，这对你来说可能是不同的。我们还可以使用一个while循环，当适应值达到0时，该循环停止。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/96816dbabae10e75f861d16b8a3bf6ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/1*W6lZZkb2yp-nllMe7LZ-aw.gif"/></div></figure><p id="436c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Tada！我们的算法准备好了。我希望您现在已经对GA有了基本的了解。试着去实现它，如果你对它有任何疑问，请在评论中告诉我。我没有分享完整的代码，因为我不希望这只是一个复制和粘贴的问题。:)</p><p id="c164" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你离开之前，请不要忘记给我一些<strong class="ih hj">掌声</strong>和<strong class="ih hj">跟我来</strong>，因为这将鼓励我做出更多贡献:)</p><p id="00a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在<a class="ae lz" href="https://www.linkedin.com/in/surajjeswara/" rel="noopener ugc nofollow" target="_blank"> linkedin </a>上联系</p></div></div>    
</body>
</html>