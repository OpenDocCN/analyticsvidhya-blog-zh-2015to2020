<html>
<head>
<title>Cool Hacks about Azure AD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Azure AD的酷黑客</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/cool-hacks-about-azure-ad-603133eb5da2?source=collection_archive---------18-----------------------#2019-11-11">https://medium.com/analytics-vidhya/cool-hacks-about-azure-ad-603133eb5da2?source=collection_archive---------18-----------------------#2019-11-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="efa4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上一篇文章中，我们创建了一个免费的Office365开发者帐户。在这篇文章中，我们将做一些很酷的事情。</p><h1 id="7a22" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">获取更多免费许可证</h1><p id="eb69" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">是啊！每个人都希望他们的测试环境中有更多的许可证。这里有一个简单的方法，不用给出任何信用卡信息就可以得到它们。</p><ol class=""><li id="610e" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">转到<a class="ae kp" href="https://portal.azure.com/\" rel="noopener ugc nofollow" target="_blank"> Azure活动目录门户</a>。</li><li id="903e" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">使用我们在上一篇文章中创建的全局管理员登录。例如，对我来说是divya@off365sample.onmicrosoft.com。</li><li id="d686" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">点击Azure活动目录。</li></ol><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/be0886531090c81299cd73777d14982d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WQ5oXqlx6bhH9t-4J_qk5g.png"/></div></div></figure><p id="fec8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.点击许可证。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lh"><img src="../Images/5f5a21f26965b3c128718f981ffb3bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L8Y0H6KbuQaxj4FNKpSVnQ.png"/></div></div></figure><p id="de0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.点击快速链接中的免费试用选项。如果您看不到此选项，请转到“所有产品”并单击“尝试/购买”。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es li"><img src="../Images/a3fc5becdc4356b2a05aeea28112dc6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1h53zPBqtff_Sg6i516Fg.png"/></div></div></figure><p id="acae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.免费试用企业移动+安全E5和Azure AD Premium P2。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lj"><img src="../Images/962faf9d2f7ea7d036539b2dc37f9565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AJbgt2VCMaOLN45Xb-7xIw.png"/></div></div></figure><p id="042c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">激活免费试用版后，可能需要几分钟时间进行同步。刷新页面以查看您在所有产品中的许可证。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lk"><img src="../Images/671ce6d9cda6d103a0a0f5c34c183cad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3DwkUBjjAirWB0dtkkeidw.png"/></div></div></figure><p id="a3e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">万岁！现在我有374个执照。</p><h1 id="e5e4" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">动态组和许可证</h1><p id="23f0" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">给每个用户单独分配许可证是一件痛苦的事情。令人惊叹！Azure允许你用一些逻辑创建动态用户成员类型组。满足该逻辑的用户会自动添加到该组中。</p><blockquote class="ll"><p id="1325" class="lm ln hi bd lo lp lq lr ls lt lu jc dx translated">注意:不能手动在动态组中添加或删除用户。基于逻辑匹配添加或删除用户。</p></blockquote><p id="ab55" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">让我们创建一个动态组。</p><ol class=""><li id="2b8d" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">在Azure广告门户上，转到组。</li><li id="bf92" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">点击添加组。</li><li id="18b2" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">为安全组编写名称和描述，并将分配类型选择为“动态用户”。</li><li id="9a54" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">单击添加动态查询。</li><li id="b454" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">添加查询:userPrincipalName包含<you domain="" name="">。单击添加表达式并保存。</you></li><li id="4f01" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">单击创建组。</li></ol><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ma"><img src="../Images/4ef1052d7184d0c612b282ad8cb36c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jLYUkutEEWidVlLMRZo5TQ.png"/></div></div></figure><p id="e40b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一段时间后，当组更新时，您将在该组的成员中看到您的域的所有用户。</p><p id="6c0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，要将许可证分配给所有用户，需要完成以下步骤:</p><ol class=""><li id="c586" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">转到新创建的动态组。</li><li id="422b" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">点击许可证。</li><li id="6b55" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">单击分配并选择一个或多个要分配给域中所有用户的许可证。</li></ol><p id="9ccc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一段时间后，所有用户都将获得分配给动态组的许可证。类似地，如果不想将许可证分配给所有用户，可以创建许多其他类型的动态成员资格组。</p><p id="457e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在用户的许可证中，许可证被列为继承的。当组被删除或用户成员资格被更改时，用户的许可证将被删除。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mb"><img src="../Images/3ad5da1692e4fa04057e5a50b33a8f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6RHQRzl-_w8_K-7AGCd-HA.png"/></div></div></figure><h1 id="cd9a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用Microsoft图形浏览器</h1><p id="3193" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">无论你是开发人员、测试人员还是普通技术专家，你都需要了解微软的这个图形浏览器。</p><p id="8507" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网址:<a class="ae kp" href="https://developer.microsoft.com/en-us/graph/graph-explorer" rel="noopener ugc nofollow" target="_blank">https://developer.microsoft.com/en-us/graph/graph-explorer</a></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lj"><img src="../Images/bc4ec19a090d987204dc880b1bf1919a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBKlxkXfBhCJR0CGCqBQ1g.png"/></div></div></figure><p id="d1a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用它可以完成以下惊人的事情:</p><ol class=""><li id="7451" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">它列出了连接的Azure目录的所有用户、组和其他实体。</li><li id="b165" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">列出Azure目录中特定对象的属性及其值。一些Azure AD无法直接看到的属性，可以从这里探究。</li></ol><p id="5152" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用它，请使用Azure AD的全局管理员登录，并授予所需的权限。如果您使用没有任何权限的普通用户登录，那么您将看不到除该用户之外的任何其他对象的属性。</p><blockquote class="ll"><p id="9af2" class="lm ln hi bd lo lp lq lr ls lt lu jc dx translated"><em class="mc">注意:在图形浏览器上查询更多属性时切换到测试版。</em></p></blockquote><h1 id="751d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo md jq jr js me ju jv jw mf jy jz ka bi translated">将内部广告与Azure广告同步</h1><p id="cbe9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果你已经有一个活动目录，并希望在你的Azure活动目录上使用相同的用户和组帐户，那么Azure提供了一个非常容易配置的工具Azure AD connect。</p><ol class=""><li id="0b21" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">在本地active directory服务器上下载<a class="ae kp" href="https://www.microsoft.com/en-us/download/details.aspx?id=47594" rel="noopener ugc nofollow" target="_blank"> Azure AD connect </a>。</li><li id="63bf" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc kl km kn ko bi translated">安装时配置<a class="ae kp" href="https://docs.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-install-express" rel="noopener ugc nofollow" target="_blank">快速设置。</a></li></ol><blockquote class="ll"><p id="b09f" class="lm ln hi bd lo lp mg mh mi mj mk jc dx translated">注意:对于此设置，您需要Azure Active Directory全局管理员和本地Active Directory管理员的凭据。</p></blockquote><p id="1829" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">一段时间后，同步过程将完成。以下是一些有帮助的PowerShell命令:</p><ul class=""><li id="4fc5" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc ml km kn ko bi translated"><strong class="ih hj">导入模块ADSync </strong>:如果PowerShell中没有ADSync模块，则导入该模块。</li><li id="ac81" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc ml km kn ko bi translated"><strong class="ih hj"> Get-ADSyncScheduler </strong>:查看调度器配置。</li><li id="e870" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc ml km kn ko bi translated"><strong class="ih hj">Start-ADSyncSyncCycle-policy type Delta</strong>:运行手动同步周期。</li><li id="543f" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc ml km kn ko bi translated"><strong class="ih hj">Set-adsync scheduler-SyncCycleEnabled $ false</strong>:禁用同步调度器。</li></ul><p id="cb60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同步后，您将看到用户的两个来源:</p><ul class=""><li id="db2c" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc ml km kn ko bi translated">Windows Server AD(内部同步用户)</li><li id="793d" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc ml km kn ko bi translated">Azure Active Directory(在Azure中创建的用户)</li></ul><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mm"><img src="../Images/1e6872741d227d5d9eedafe528cb1c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNnA5sHDuiVUFMlF0RnzUw.png"/></div></div></figure><p id="c425" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，对于团体来说，将有两个来源:</p><ul class=""><li id="f438" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc ml km kn ko bi translated">Windows Server AD(内部同步组)</li><li id="5c10" class="kg kh hi ih b ii kq im kr iq ks iu kt iy ku jc ml km kn ko bi translated">云(在Azure AD中创建的组)</li></ul><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mn"><img src="../Images/961f8895e643ca3b73323614dea4e316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*leyAX1lBYM9aXGeRKIywQQ.png"/></div></div></figure><blockquote class="ll"><p id="48f8" class="lm ln hi bd lo lp mg mh mi mj mk jc dx translated">注意:启用同步时，不能从Azure AD删除或编辑内部同步的用户和组。用户/组中的任何更改都需要在内部AD中完成，并同步到Azure AD。</p></blockquote><h1 id="c4b8" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo md jq jr js me ju jv jw mf jy jz ka bi translated">结论</h1><p id="1ed4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Azure Active Directory简单易用，易于学习。你探索得越多，你就会发现越多新的技巧和有趣的特性。所以，让你的手弄脏微软的这项惊人的服务。</p><p id="bf29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这些小技巧，请为这篇文章鼓掌，并写下你的发现。</p></div></div>    
</body>
</html>