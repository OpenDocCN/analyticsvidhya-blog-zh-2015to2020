<html>
<head>
<title>ANOVA(Analysis Of Variance)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">方差分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/anova-analysis-of-variance-6331b69fbb7a?source=collection_archive---------13-----------------------#2020-01-06">https://medium.com/analytics-vidhya/anova-analysis-of-variance-6331b69fbb7a?source=collection_archive---------13-----------------------#2020-01-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/23eb44d6c1937d418be7a034a234f274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UFixpKAFhBmBAUw5"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">诺亚·西利曼在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="8b95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它用于比较两个以上的平均值。</p><p id="a7b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">方差分析的假设是:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/c99405bb17a850fc27985f7aae8f78a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71k8IZqWhBDCp20O5-diSA.png"/></div></div></figure><p id="01a6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">为什么我们不能一次取两个样本进行t检验？</strong></p><p id="390a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们应用双样本t检验，alpha()值将会改变。因此，为了保持整体α()，我们需要进行方差分析。这种机制被称为家族错误率。</p><p id="76b6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">A=&gt;B，A=&gt;D等之间的比较称为个体差错率。</p><p id="20fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们用下面的例子来理解这一点？</p><p id="b9f1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你是一个农民，你需要决定买哪家公司的肥料。在我们的示例中，有四种品牌可供选择，它们在四个不同的地区使用。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/a8bd38360d3d1e000b58b46a14201324.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*tRQoYC1kfVwnDHHjLC3r9A.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">适用于4种性质相似的不同土地的肥料类型。</strong></figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/0d4eddcd1af21146fed8fffcbb9de5fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gS--20zzS16-czEeCLszAQ.png"/></div></div></figure><p id="3e96" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无效假设是所有的肥料都是一样的。另一种假设认为至少有一种肥料是不同的。</p><p id="0474" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在开始方差分析之前，让我们先讨论一些基础知识..</p><p id="39af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">方差分析的基本原理:</strong></p><ol class=""><li id="52cc" class="kb kc hi ix b iy iz jc jd jg kd jk ke jo kf js kg kh ki kj bi translated">随机化:随机选取样本。</li><li id="7cfc" class="kb kc hi ix b iy kk jc kl jg km jk kn jo ko js kg kh ki kj bi translated">背景误差控制或噪音控制:在施肥之前，我们需要确保所有的田地都有相同的条件。</li></ol><p id="9f46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">示例:矿物(NPK) %必须相同</p><p id="4a99" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.复制:通过改变样品来复制实验。</p><p id="1448" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们在种植多种作物后用一些价值观来理解这一点:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kp"><img src="../Images/e582ff89c18087d38aae0adfb4c7680b.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*9mddblB2YU9mWSwcvvXrzQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">单位肥料产量</strong></figcaption></figure><p id="1924" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">a、B、C、D是肥料，相应的数字是产量单位。</p><p id="5f55" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在产量内的误差是:</p><p id="5e2e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">原始观察值—平均值</strong></p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kq"><img src="../Images/a22c8490dc37678593f51118b2f6a935.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*WlTBKFyXh9__EfVXlcZ4mA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">每次观察的误差</strong></figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/723960b28df8ddfa40e108c14d940fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*s6G4hGypHFdnFsI-1UdHSw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">平方误差。</strong></figcaption></figure><p id="6f19" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你看到这些值，这就是方差。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ks"><img src="../Images/531f27891bcbd054c87e2a3a9bf95ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*8g-nTihmsaE_mrKG9A2gPQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">差异</figcaption></figure><p id="21d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以如果我们计算给定观测值的方差，应该是</p><p id="9795" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi">10/4,40/6,14/6,48/8.</p><p id="e18c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了进行方差分析，我们需要一些假设:</p><ol class=""><li id="4b4a" class="kb kc hi ix b iy iz jc jd jg kd jk ke jo kf js kg kh ki kj bi translated">各组之间的误差方差应该是相同的。这个性质叫做<strong class="ix hj">同质性</strong>。</li></ol><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/b34a1402fad8068e89b740b87a990287.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*L4MMhQ6fajHSxe0gUaUFYA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">差异应该是相同的</figcaption></figure><p id="897d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.误差应该正态分布为0和sigma平方。</p><p id="058a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设，让我们继续计算方差分析:</p><p id="29d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果没有肥料的影响，那么理想情况下，我们应该得到所有观测值的整体平均值:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kq"><img src="../Images/f0867a15b28453355b1bfc2783309430.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*3I9snOCZp99s4R_nzXs0LA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">总平均/总平均</strong></figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kq"><img src="../Images/1b32758281db1d204d8ba95f680ae4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*LdbcGvllG5ASB9WkwQvcqQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">间错误</strong></figcaption></figure><p id="6010" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些误差通过用总平均值减去单个平均值来计算。</p><p id="f11f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">分别是61-64，66- 64，68-64，61-64。</p><p id="f226" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在平方之间的误差:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/fa787137040d1fa2951e1c9e725510e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*l1BmX0ZF0RMKOamDE2_ZFQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">误差平方之间</strong></figcaption></figure><p id="8501" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">噪声/偏差范围内的总平方:112</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/f6abd36934f3078061eb957f52c2c56e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbh0EtH4K8Nbe4XL7J733g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在偏差范围内</figcaption></figure><p id="a765" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总偏差:228</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/bc38a01ab966e2852ac0d11d81206a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_Ly35YvtkXL95CH5QqpzQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">偏差之间</figcaption></figure><p id="2b02" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总计= 112 + 228 = 340</p><p id="e6f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们来计算一下总体误差:(个别观察—总体平均)</p><p id="9908" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如:62 -64等。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/a705aba66517badc5abb879aac3818b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*DcGmi0QY645xpS7SLJyaDw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">整体误差</strong></figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/4600c945170fad0ab5db3f3fedc92e8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*JEHUIjfXsRmemPGPtqC_Rw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">总体平方误差</strong></figcaption></figure><p id="73de" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总误差平方和为:340</p><p id="483f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从这个观察中，我们可以得出结论，总偏差数据可以用误差之间和误差之内的总和来解释。</p><p id="363a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注:误差范围内不能以任何方式处理。误差是可控的。</strong></p><p id="ebde" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了所有的知识，让我们生成方差分析表。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/cf7b1ddd192413901edd0251e5f52f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iSECEkweI2huvsPIob2jg.png"/></div></div></figure><p id="95df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在是理解表格的时候了:</p><p id="1092" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面已经讨论过的组之间和组内。</p><p id="0615" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总自由度为:观察总数-1 = = &gt; 24–1 = 23</p><p id="32ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">自由度范围=(4–1)+(6–1)+(6–1)+(8–1)= 20</p><p id="437c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">自由度之间= 23–20 = 3，满足加性或处理次数-1 = = &gt; 4–1 = 3</p><p id="2567" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">平均平方和(MS) = 228/3，112/20 ===&gt; 76，5.6</p><p id="a652" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Fcalc : 76/5.6 = 13.6</p><p id="af26" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">F暴击:这个需要用F表计算。在我们的例子中，我们需要找到自由度(3，20)的值，即3.09。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/619eed3911400d98bca493f9928291e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vV57pLPJb70eYYqlxhM7rQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><strong class="bd jz">显示自由度为0.5的F cric值和Fcalc】</strong></figcaption></figure><p id="ba52" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">从上图可以清楚地看出，Fcric/Ftab值小于Fcalc值，因此拒绝无效抵押(H0)。所以所有的肥料对田地的影响都不一样。</strong></p><p id="503a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注意</strong>:如果你注意到我们从比较平均值开始，但以比较方差结束。所以这种方法叫做方差分析，而不是均值分析。</p><p id="70dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结论</strong>:通过进行方差分析，我们知道所有的肥料并不相同。为了确定哪种肥料效果更好，我们需要使用<strong class="ix hj"> Tukey方法或</strong>Dunnet方法。这是目前无法讨论的😃。</p></div></div>    
</body>
</html>