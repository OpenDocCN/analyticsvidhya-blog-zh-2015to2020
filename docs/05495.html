<html>
<head>
<title>Regex in Python — A-Z</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的正则表达式— A-Z</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/regex-in-python-a-z-88ebf1c8fed4?source=collection_archive---------3-----------------------#2020-04-23">https://medium.com/analytics-vidhya/regex-in-python-a-z-88ebf1c8fed4?source=collection_archive---------3-----------------------#2020-04-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d69f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式是一个字符序列，它用正式的语法形成一个搜索模式。正则表达式通常用于涉及大量文本处理的应用程序中。</p><p id="40e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一名数据科学家/工程师，对Regex有扎实的理解可以帮助您非常容易地执行各种数据预处理。就我个人而言，我用它们做很多随机的事情，主要是当我必须处理文本数据或做自然语言处理项目时。</p><p id="96e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式有多种开源实现，每一种都共享一个通用的核心语法，但是对它们的高级特性有不同的扩展或修改。Python有一个名为<code class="du jd je jf jg b">re</code>的内置包，可以用来处理正则表达式。</p><p id="d616" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入<code class="du jd je jf jg b">re</code>模块:</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="027b" class="jp jq hi jg b fi jr js l jt ju">import re</span></pre><figure class="jh ji jj jk fd jw er es paragraph-image"><div class="er es jv"><img src="../Images/79377198792e1b0fe7f2f274a45a84a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*V44Dfm9wC1sREYuD8KqlIw.png"/></div></figure><p id="46c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程非常独特，因为它不仅从理论上解释了正则表达式，还详细描述了正则表达式方法/属性在Python中是如何工作的。通过阅读本文，如果您以前从未做过其他事情，您将很快能够创建自己的正则表达式。</p><p id="1885" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧！</p><h1 id="db0e" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">正则表达式函数</h1><p id="84f4" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated"><code class="du jd je jf jg b">re</code>模块提供了一组功能，允许我们在文本中进行搜索。</p><figure class="jh ji jj jk fd jw"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="54c7" class="jp jq hi bd ka ld le lf ke lg lh li ki iq lj lk km iu ll lm kq iy ln lo ku lp bi translated">1.重新搜索()</h2><p id="377d" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated"><code class="du jd je jf jg b">re.search()</code>将获取模式，扫描文本，然后返回一个<strong class="ih hj">匹配</strong>对象。让我们做一个简单的例子，使用re模块中的search方法来查找一些文本。</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lq"><img src="../Images/db09c951c1a11b3771f8afc42db50f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45Yl60xrX_VKUh8h9VgiVQ.png"/></div></div></figure><p id="6918" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">search()方法返回的这个<strong class="ih hj"> Match </strong>对象不仅仅是一个Boolean或None，它包含关于匹配的信息，包括原始输入字符串、使用的正则表达式和匹配的位置。</p><p id="1475" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类型匹配。+ <code class="du jd je jf jg b">tab</code>你可以看到所有你可以在匹配对象上使用的方法。</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lv"><img src="../Images/c4dc73b2ef051b0470ac37cf92e3659b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B1sQyzBpYxz_XfyK9uP6Vg.png"/></div></div></figure><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lw"><img src="../Images/f0758d373847d0f94e29403c8a0e41ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ipO-ufJA5Rlbv0NIq_m8A.png"/></div></div></figure><h2 id="9e16" class="jp jq hi bd ka ld le lf ke lg lh li ki iq lj lk km iu ll lm kq iy ln lo ku lp bi translated">2.re.findall()</h2><p id="70e0" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">您可以使用<code class="du jd je jf jg b">re.findall()</code>在一个字符串中查找一个模式的所有实例。例如:</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lx"><img src="../Images/ecfe57f92cf8b2f3af96fbefe4229eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SYHbssRIqtpQ0W4PsJeqQ.png"/></div></div></figure><h2 id="b6f4" class="jp jq hi bd ka ld le lf ke lg lh li ki iq lj lk km iu ll lm kq iy ln lo ku lp bi translated">3.重新拆分()</h2><p id="024b" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">让我们看看如何使用re语法进行拆分。这看起来类似于对字符串使用split()方法。</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ly"><img src="../Images/a45f704e0d9d9f027f04d58de8ffb449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYQtmpMyjyU60looia6uBA.png"/></div></div></figure><p id="db16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">re.split()</code>返回字符串在每次匹配时被拆分的列表。</p><h2 id="c0d6" class="jp jq hi bd ka ld le lf ke lg lh li ki iq lj lk km iu ll lm kq iy ln lo ku lp bi translated">4.re.sub()</h2><p id="dce1" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">英语有几个缩写。</p><p id="f699" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="9aa2" class="jp jq hi jg b fi jr js l jt ju">can't<!-- --> -&gt; <!-- -->can not<br/>he's -&gt; he is</span></pre><p id="3112" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想替换一个匹配正则表达式而不是完全匹配的字符串，我们可以使用<strong class="ih hj"> re </strong>模块的<strong class="ih hj"> sub() </strong>。</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ma"><img src="../Images/7491992216bfdef6614d64d5d8450398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-WQsh0ZYWOGvysocxJnzMg.png"/></div></div></figure><p id="b471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将是本文中关于在Python中使用re的大部分内容。正则表达式支持多种多样的模式，不仅仅是简单地查找单个字符串出现的位置。</p><p id="c963" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用<strong class="ih hj"> <em class="mb">元字符</em> </strong>和<strong class="ih hj"> <em class="mb">特殊序列</em> </strong>以及<strong class="ih hj"> re </strong>来查找特定类型的模式。</p><h1 id="384c" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak"> <em class="mc">元字符</em> </strong></h1><p id="42b0" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">有五种方式来表达模式中的重复:</p><ol class=""><li id="efd1" class="md me hi ih b ii ij im in iq mf iu mg iy mh jc mi mj mk ml bi translated">元字符<code class="du jd je jf jg b">*</code>后面的模式重复了零次或多次。</li><li id="7e0b" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">用<code class="du jd je jf jg b">+</code>替换<code class="du jd je jf jg b">*</code>，图案必须至少出现一次。</li><li id="c11e" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">使用<code class="du jd je jf jg b">?</code>表示图案出现零次或一次。</li><li id="b6aa" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">对于特定的出现次数，在模式后使用<code class="du jd je jf jg b">{n}</code>，其中<strong class="ih hj"> n </strong>被替换为模式应该重复的次数。</li><li id="eaf4" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">使用<code class="du jd je jf jg b">{x,y}</code>，其中<strong class="ih hj"> x </strong>为最小重复次数，<strong class="ih hj"> y </strong>为最大重复次数。省略<strong class="ih hj">y</strong>T6】表示该值至少出现<strong class="ih hj"> x </strong>次，没有最大值。</li></ol><p id="7d09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们将测试多种re语法形式，所以让我们创建一个函数，在给定各种正则表达式列表和要解析的短语的情况下，它将打印出结果。</p><figure class="jh ji jj jk fd jw"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mr"><img src="../Images/b08c7ce7c895ca71e9c0c66a023dae68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkkcyV6TJlcYCTkOcyagNA.png"/></div></div></figure><h1 id="c9f8" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><em class="mc">特殊序列</em></h1><p id="2e54" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">您可以使用特殊的序列或转义码来查找数据中特定类型的模式，如数字、非数字、空格等等。</p><p id="55fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转义通过在字符前加上反斜杠<code class="du jd je jf jg b">\</code>来表示。</p><figure class="jh ji jj jk fd jw"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="jh ji jj jk fd jw"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ms"><img src="../Images/2fb3fba474f3f4cfa5b9180c8680ef5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCpt5Z2uY0K6Jn1Rl2o1iw.png"/></div></div></figure><h1 id="bc04" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">字符集</h1><p id="f14f" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">当您希望在输入中的某一点匹配一组字符中的任何一个时，可以使用字符集。括号用于构造字符集输入。</p><p id="ffe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，输入<code class="du jd je jf jg b">[ab]</code>搜索出现的<strong class="ih hj"> a </strong>或<strong class="ih hj"> b </strong>。</p><p id="6e53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一些例子:</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mt"><img src="../Images/598405444da7a123e3a5ddc66ab33e8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zcsxK5I-EYh9RsedqPS3oQ.png"/></div></div></figure><ul class=""><li id="a4a2" class="md me hi ih b ii ij im in iq mf iu mg iy mh jc mu mj mk ml bi translated">第一个输入<code class="du jd je jf jg b">[sd]</code>返回s或d的每个实例是有意义的。</li><li id="e7ee" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mu mj mk ml bi translated">同样，第二个输入<code class="du jd je jf jg b">s[sd]+</code>返回任何以s开始并以s或d字符继续的完整字符串，直到到达另一个字符。</li></ul><h1 id="ae15" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">排除</h1><p id="fe53" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我们可以通过将<code class="du jd je jf jg b">^</code>合并到括号语法符号中来排除术语。使用<code class="du jd je jf jg b">[^!.? ]</code>检查不是a的匹配！,.,?，或者空间。</p><p id="27cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加一个<code class="du jd je jf jg b">+</code>来检查匹配是否至少出现一次。这基本上就是找到单词。</p><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mv"><img src="../Images/9da3a53634380e59531c3962a4f9feaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JOyAJBVcFj_BPpAFkTJ5cg.png"/></div></div></figure><h1 id="2496" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">字符范围</h1><p id="9d32" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">随着字符集变得越来越大，键入每个应该(或不应该)匹配的字符会变得非常乏味。使用字符范围的一种更紧凑的格式允许您定义一个字符集，以包含起点和终点之间的所有连续字符。使用的格式是<code class="du jd je jf jg b">[start-end]</code>。</p><p id="34a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">常见的用例是在字母表中搜索特定范围的字母。例如，<code class="du jd je jf jg b">[a-f]</code>将返回a和f之间出现的任何字母的匹配。</p><p id="932c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个例子:</p><figure class="jh ji jj jk fd jw"><div class="bz dy l di"><div class="lb lc l"/></div></figure><figure class="jh ji jj jk fd jw er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mw"><img src="../Images/0ad6bc5d496b253b6662ee40bb592fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9DMUndShQ5ASn7N8zQ5jnA.png"/></div></div></figure><h1 id="8e22" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="2f31" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">现在，您应该对如何使用Python中的正则表达式模块有了深入的了解。还有很多更特殊的角色实例，但是逐一查看每个用例是不合理的。相反，如果你需要查找某个特定的模式，可以看一下完整的<a class="ae lz" href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="677e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也可以在这个<a class="ae lz" href="http://www.tutorialspoint.com/python/python_reg_expressions.htm" rel="noopener ugc nofollow" target="_blank">源</a>查看漂亮的汇总表。</p><h1 id="3047" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><a class="ae lz" href="https://regex101.com/" rel="noopener ugc nofollow" target="_blank"> Regex101 </a></h1><p id="606a" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated"><a class="ae lz" href="https://regex101.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Regex101.com</strong></a>是一个交互式正则表达式控制台，让你实时调试你的表达式。</p><h1 id="1db0" class="jz jq hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">参考:</h1><ol class=""><li id="e4bf" class="md me hi ih b ii kw im kx iq mx iu my iy mz jc mi mj mk ml bi translated">Python文档—<a class="ae lz" href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="noopener ugc nofollow" target="_blank">https://docs . python . org/3/library/re . html #正则表达式语法</a></li><li id="e6a6" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">https://www.pieriandata.com/的何塞·马西亚尔·波尔蒂利亚<a class="ae lz" href="https://www.pieriandata.com/" rel="noopener ugc nofollow" target="_blank"/></li><li id="7feb" class="md me hi ih b ii mm im mn iq mo iu mp iy mq jc mi mj mk ml bi translated">维基—<a class="ae lz" href="https://en.wikipedia.org/wiki/Regular_expression" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Regular_expression</a></li></ol></div></div>    
</body>
</html>