<html>
<head>
<title>Selenium Locators — A Detailed Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">硒定位器——详细指南</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/selenium-locators-a-detailed-guide-784572b5d718?source=collection_archive---------15-----------------------#2020-02-12">https://medium.com/analytics-vidhya/selenium-locators-a-detailed-guide-784572b5d718?source=collection_archive---------15-----------------------#2020-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dc8a76c192774d197fce2c3b877a13b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DX3jr_3zxMTaTdbvcn8WQ.png"/></div></div></figure><p id="9467" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Selenium是开发人员为web应用程序运行自动化测试的最受欢迎的选项之一。Selenium suite具有出色的灵活性——它允许开发人员/团队在本地机器或云上运行测试，通过许多常用的编程语言(包括Python、Java等)进行交互。尽管selenium面临一系列挑战，但正是它的灵活性使selenium成为了最好的测试框架。在本文中，我们将探索如何在Selenium中使用定位器。</p><p id="dff3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">什么是硒定位器？</strong></p><p id="147b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Locator是一个命令，它告诉Selenium IDE哪些GUI元素(比如文本框、按钮、复选框等。)它需要动手术。识别正确的GUI元素是创建自动化脚本的先决条件。但是准确识别GUI元素比听起来要困难得多。有时，您最终会使用不正确的GUI元素或者根本没有元素。Selenium提供了许多定位器来精确定位GUI元素</p><p id="35f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">通过selenium执行自动化步骤的步骤</strong></p><p id="9ae6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1。</strong>下载浏览器驱动程序</p><p id="a35c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。</strong>启动Selenium WebDriver</p><p id="f940" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。</strong>实例化浏览器</p><p id="45ef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。</strong>加载web应用程序</p><p id="17c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。</strong>在定义的测试中执行指定的操作</p><p id="b904" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 6。</strong>评估测试是否达到了预期的结果</p><p id="5dbc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 7。</strong>关闭网络驱动程序</p><p id="369f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Selenium WebDriver初始化并加载了要测试的网页之后，Selenium中的定位器在上面的第五步中开始起作用。定位器使测试人员能够选择HTML DOM元素进行操作。这篇文章研究了<a class="ae jo" href="https://www.browserstack.com/guide/selenium-webdriver-tutorial" rel="noopener ugc nofollow" target="_blank"> Selenium WebDriver </a>中各种类型的定位器。</p><p id="f39b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">Selenium中的不同定位器如下:</strong></p><p id="b772" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按CSS ID:<em class="jp">find _ element _ by _ ID</em></p><p id="9a88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按CSS类名:<em class="jp">find _ element _ by _ class _ name</em></p><p id="9312" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按名称属性:<em class="jp">查找元素按名称</em></p><p id="73f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过DOM结构或者XPath:<em class="jp">find _ element _ by _ XPath</em></p><p id="e68f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按链接文本:<em class="jp">find _ element _ by _ link _ text</em></p><p id="5179" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按部分链接正文:<em class="jp">find _ element _ by _ partial _ link _ text</em></p><p id="316a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按HTML标签名称:<em class="jp">find _ element _ by _ tag _ name</em></p><p id="a5d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然所有这些定位器都返回单个元素，但是可以使用<em class="jp">。find_elements() </em>方法查找多个元素。</p><p id="e1bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">通过CSS ID定位元素</strong></p><p id="178a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是在HTML DOM中定位元素的最简单的方法。CSS ID存储在HTML DOM元素的<em class="jp"> id </em>属性中，按照设计，它对于页面中的每个元素都是唯一的。因此，ID可以唯一地标识一个元素。</p><p id="e390" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用此功能，需要调用<em class="jp">。<em class="jp"> webdriver </em>类的find_element_by_id() </em>方法。这是它的样品。</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="6aeb" class="jz ka hi jv b fi kb kc l kd ke">from selenium import webdriver</span><span id="42df" class="jz ka hi jv b fi kf kc l kd ke">driver = webdriver.Chrome(‘./chromedriver’)</span><span id="0981" class="jz ka hi jv b fi kf kc l kd ke">driver.get(“https://www.google.org")</span><span id="9ed5" class="jz ka hi jv b fi kf kc l kd ke">search_bar = driver.find_element_by_id(“id-search-field”)</span></pre><p id="7fc7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果不存在ID为的DOM元素，则会引发一个<em class="jp"> NoSuchElementException </em>，这可以通过使用try-catch块来解决。</p><p id="c6d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">理论上，页面上的每个DOM元素都应该有一个惟一的ID。然而，在实际生活中，人们并不经常注意到这一点。大多数元素可能没有ID，或者可能遇到两个ID相同的元素。在这种情况下，需要使用不同的策略来惟一地标识DOM元素。</p><p id="2fe5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">通过CSS类定位元素</strong></p><p id="3636" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在页面上定位元素的第二个策略是通过类名进行搜索。类名存储在HTML标记的class属性中。按照设计，CSS类适用于一组DOM元素。<em class="jp">。find _ element _ by _ class _ name()</em>方法只返回匹配类的第一个元素。如果没有具有给定类名的元素，它将引发一个<em class="jp"> NoSuchElementException </em>。这是它的示例代码片段。</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="72b1" class="jz ka hi jv b fi kb kc l kd ke">from selenium import webdriver</span><span id="c901" class="jz ka hi jv b fi kf kc l kd ke">driver = webdriver.Chrome(‘./chromedriver’)</span><span id="e68e" class="jz ka hi jv b fi kf kc l kd ke">driver.get(“https://www.google.org")</span><span id="d225" class="jz ka hi jv b fi kf kc l kd ke"># Returns first element with matching class</span><span id="87cb" class="jz ka hi jv b fi kf kc l kd ke">first_search_bar = driver.find_element_by_class_name(“id-class-name”)</span></pre><p id="92d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">通过名称定位元素</strong></p><p id="bc52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在HTML5中，表单元素通常有一个与之相关联的name属性。<em class="jp">。find_element_by_name() </em>方法只返回匹配类的第一个元素。如果有多个同名元素，将返回第一个匹配的元素。没有匹配的元素导致一个<em class="jp"> NoSuchElementException </em>错误。</p><p id="6922" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑以下形式:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="3547" class="jz ka hi jv b fi kb kc l kd ke"><em class="jp">&lt;form id=”loginForm”&gt;</em></span><span id="a911" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;input name=”name” type=”text” value=”First Name” /&gt;</em></span><span id="19e2" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;input name=”name” type=”text” value=”Last Name” /&gt;</em></span><span id="18a2" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;input name=”email” type=”text” value=”Business Email” /&gt;</em></span><span id="9c85" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;input name=”password” type=”password” /&gt;</em></span><span id="12c8" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;input name=”continue” type=”submit” value=”Sign Me Up” /&gt;</em></span><span id="50a3" class="jz ka hi jv b fi kf kc l kd ke"><em class="jp">&lt;/form&gt;</em></span></pre><p id="fd5d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下代码返回电子邮件表单元素。</p><p id="51dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">email_input = driver.find_element_by_name(“email”)</code></p><p id="9ba5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，下面的代码只返回名字表单元素。</p><p id="8c00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">name_input = driver.find_element_by_name(“name”)</code></p><p id="10ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用<em class="jp">。find_element_by_name() </em>方法，不可能到达示例中输入表单字段的姓氏。我们可以使用<em class="jp">find _ elements _ by _ name()</em>返回一个元素列表，然后我们可以从这个列表中进行选择。这也有可能是下一个定位器。</p><p id="a405" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">通过XPath定位元素</strong></p><p id="37ac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果不能通过ID、类或名称识别元素，就需要通过XML路径定位元素。这个过程也可以在读取XML文档时实现。在这篇博客中，我们探索了<strong class="is hj">相对路径</strong>的使用，因为<strong class="is hj">绝对路径</strong>容易因HTML结构的微小变化而出错。</p><p id="42c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用<em class="jp">。find_element_by_xpath() </em>方法在文档中定位适当的元素。<em class="jp">的说法。</em>find _ element _ by _ XPath()【方法】取的是元素的路径。</p><p id="23a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要查找上面HTML表单示例中的电子邮件输入字段，可以使用以下代码:</p><p id="7c5c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">email_input=driver.find_element_by_xpath(“//form[input/@name=’email’]”)</code></p><p id="a5a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该代码片段搜索页面的第一个表单元素。在这个表单中，它搜索名称等于值email的输入，从而缩小到所需的元素。</p><p id="8bd8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，让我们尝试定位上面表单中的名字和姓氏输入元素。</p><p id="6530" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">first_name=driver.find_element_by_xpath(“//form[@id=’loginForm’]/input[1]”)</code></p><p id="c8ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">last_name=driver.find_element_by_xpath(“//form[@id=’loginForm’]/input[2]”)</code></p><p id="e311" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该方法首先搜索ID为login form的表单，然后选择表单的第一个和第二个输入元素作为名字和姓氏。</p><p id="d45d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">其他单元素定位器</strong></p><p id="6b89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了我们已经讨论过的流行方法之外，在Selenium WebDriver中还有一些其他的元素定位器，测试人员可能希望探索一下。</p><p id="2811" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用户可以使用<em class="jp">通过HTML标签名称来定位元素。find_element_by_tag_name()方法。</em></p><p id="3a2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du kg kh ki jv b">page_heading = driver.find_element_by_tag_name(‘h1’)</code></p><p id="2bc1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还可以使用链接文本搜索超链接元素。人们可以使用<em class="jp">。find_element_by_link_text() </em>方法来搜索确切的链接文本，或<em class="jp">。find _ element _ by _ partial _ link _ text()</em>方法来搜索部分文本。</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="ad80" class="jz ka hi jv b fi kb kc l kd ke"># Exact Link Text</span><span id="f46e" class="jz ka hi jv b fi kf kc l kd ke">click_here_link = driver.find_element_by_link_text(‘Click Here’)</span><span id="bcce" class="jz ka hi jv b fi kf kc l kd ke"># Partial Link Text</span><span id="0b98" class="jz ka hi jv b fi kf kc l kd ke">click_here_link = driver.find_element_by_partial_link_text(‘Click’)</span></pre><p id="19c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">定位多个元素</strong></p><p id="2999" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们讨论了只定位单个元素的方法。人们可能希望选择一组元素，然后遍历它们。<em class="jp">。find_elements() </em>方法有助于在DOM结构中查找多个元素。</p><p id="4c0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是<em class="jp">的常见用法示例。find_elements() </em>方法。要查找ID为<em class="jp"> loginForm </em>的表单的所有输入元素，请使用以下代码片段</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="6651" class="jz ka hi jv b fi kb kc l kd ke">from selenium.webdriver.common.by import By</span><span id="3be9" class="jz ka hi jv b fi kf kc l kd ke">all_inputs = driver.find_elements(By.XPATH, ‘//form[@id=’loginForm’]/input’)</span><span id="5684" class="jz ka hi jv b fi kf kc l kd ke">To locate all elements with a class name, use the following code –</span><span id="f6da" class="jz ka hi jv b fi kf kc l kd ke">from selenium.webdriver.common.by import By</span><span id="bec1" class="jz ka hi jv b fi kf kc l kd ke">all_elements = driver.find_elements(By.CLASS_NAME, ‘my-css-class’)</span></pre><p id="ce1e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">关于硒定位器的最终想法</strong></p><p id="857b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">至此，我们结束了关于使用Python在Selenium中使用定位器的博客。我们讨论了在HTML页面中选择元素的各种方法。我们首先看了单元素选择器，然后转向Selenium WebDriver中的多元素选择器。</p></div></div>    
</body>
</html>