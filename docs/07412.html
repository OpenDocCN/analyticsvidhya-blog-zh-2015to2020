<html>
<head>
<title>Image Processing With OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用OpenCV进行图像处理</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/image-processing-with-opencv-238a3105c692?source=collection_archive---------24-----------------------#2020-06-24">https://medium.com/analytics-vidhya/image-processing-with-opencv-238a3105c692?source=collection_archive---------24-----------------------#2020-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e83c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将讨论使用Python OpenCV进行图像处理。<strong class="ih hj">图像处理用于获得增强的图像，从图像中提取有用的信息，去除图像中不必要的属性，例如:噪声</strong>。在本文中，我们将学习如下一些处理技术:</p><ul class=""><li id="a94c" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">图像大小调整</li><li id="fbc0" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">获得投资回报</li><li id="3368" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">边缘检测</li><li id="6aaf" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">图像阈值处理</li></ul><h2 id="96fc" class="jr js hi bd jt ju jv jw jx jy jz ka kb iq kc kd ke iu kf kg kh iy ki kj kk kl bi translated">图像大小调整</h2><p id="7175" class="pw-post-body-paragraph if ig hi ih b ii km ik il im kn io ip iq ko is it iu kp iw ix iy kq ja jb jc hb bi translated">由于某些原因，图像尺寸调整是最重要的基本图像处理之一。图像大小调整用于使图像适合屏幕，并用于使图像处理更快，因为像素数更少。让我们尝试将下面的原始图像调整为200 x 200像素。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/e7c4af57ba4d5e12233c77d0cf9a0b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4y-ML1Qp8n0bke0ZDr4lzQ.jpeg"/></div></div></figure><figure class="ks kt ku kv fd kw"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="a31e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行上面的代码后，调整后的图像将会是:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es lf"><img src="../Images/fc9d556451e3a39ad6fea1d096c1fc4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*HyUM0U8xZCzu_-bdO8PaBg.png"/></div></figure><p id="4a72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码将使用cv2.resize方法调整原始图像的大小。resize方法将接受这样的参数:原始图像变量和所需图像的大小。所有图像的大小都是以像素为单位的。</p><h2 id="5ac7" class="jr js hi bd jt ju jv jw jx jy jz ka kb iq kc kd ke iu kf kg kh iy ki kj kk kl bi translated">获得ROI(感兴趣区域)</h2><p id="1365" class="pw-post-body-paragraph if ig hi ih b ii km ik il im kn io ip iq ko is it iu kp iw ix iy kq ja jb jc hb bi translated">感兴趣区域用于提取图像中需要进一步处理的部分。例如，如果我们想制作一个可以检测你家里的人的人脸识别模型，然后训练人脸识别模型，我们需要从所有的数据集中分割出人脸。可以使用面部检测模型来实现面部切片。人脸检测模型将从特定图像中返回人脸的坐标。在本文中，我们将尝试从原始图像中手动分割出酱料图像。让我们开始吧:</p><figure class="ks kt ku kv fd kw"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="befe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:</p><p id="c991" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">img[1500:2000，1500:2000]列表中的第一个元素是高度，第二个元素是宽度。</p><p id="2fe8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码将导致:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es lg"><img src="../Images/77b14dcfa0871e286633a4c986f4cc40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*OjmckfysPsruHedq67QdLw.png"/></div></figure><h2 id="01b7" class="jr js hi bd jt ju jv jw jx jy jz ka kb iq kc kd ke iu kf kg kh iy ki kj kk kl bi translated">边缘检测</h2><p id="0e83" class="pw-post-body-paragraph if ig hi ih b ii km ik il im kn io ip iq ko is it iu kp iw ix iy kq ja jb jc hb bi translated">边缘检测用于找到图像中物体之间的边界。它用于图像分割。基本上，通过使用图像梯度或高通滤波器(HPF)来确定边缘检测。最好的边缘检测器之一是Canny边缘检测器，它是由John F Canny于1986年首先提出的。检测器是多阶段算法，具有以下阶段:</p><ul class=""><li id="de12" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">使用高斯滤波器实现降噪。</li><li id="5750" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用Sobel滤波器寻找图像的亮度梯度</li><li id="4515" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">非最大抑制</li><li id="e3e6" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">滞后阈值处理→该阶段将决定哪些边缘是真正的边缘，哪些不是。强度大于<em class="lh"> maxval </em>的边缘将被视为边缘，强度小于<em class="lh"> minval </em>的边缘将被视为非边缘。基于连通性，位于这些点之间的强度梯度将被视为边缘。</li></ul><p id="3ba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始吧:</p><figure class="ks kt ku kv fd kw"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="261e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用cv2实现了Canny边缘检测器。精明的方法。在进行边缘检测之前，必须首先将图像转换为灰度。该方法将接受原始图像变量，<em class="lh"> img，</em>，而值100和200分别显示<em class="lh"> minval </em>和<em class="lh"> maxval </em>。</p><p id="6ca4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码将导致:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es li"><img src="../Images/8d6ace2f59f067da5a87d432e85760ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*6PbJzMpsXlsDB6JTYmlXmQ.png"/></div></figure><h2 id="a799" class="jr js hi bd jt ju jv jw jx jy jz ka kb iq kc kd ke iu kf kg kh iy ki kj kk kl bi translated">图像阈值处理</h2><p id="85fc" class="pw-post-body-paragraph if ig hi ih b ii km ik il im kn io ip iq ko is it iu kp iw ix iy kq ja jb jc hb bi translated">图像阈值处理可用于去除图像中较亮或较暗的部分。它也可以用来删除图像的某些轮廓。OpenCV通过<strong class="ih hj"> cv2.threshold </strong>和<strong class="ih hj"> cv2.adaptiveThreshold </strong>提供简单阈值和自适应阈值，以实现阈值概念。</p><ul class=""><li id="d8fe" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">简单阈值处理</li></ul><p id="9c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单的阈值处理非常简单。如果像素值大于阈值值，那么像素将被赋予一定的值(可以是黑色或白色)。为了实现简单的阈值处理，我们使用cv2.threshold。该方法将接受四个参数:第一个参数是应该是灰度的图像的源，第二个参数是阈值，第三个参数是maxval，它表示给某些像素的值，如果该像素值大于阈值，第四个参数是阈值处理方式。款式可以是:cv2。THRESH_BINARY，cv2。THRESH_BINARY_INV，cv2。TRUNC，cv2。THRESH_TOZERO，cv2。THRESH_TOZERO_INV。</p><p id="9739" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始编码:</p><figure class="ks kt ku kv fd kw"><div class="bz dy l di"><div class="ld le l"/></div></figure><p id="9644" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">处理后，原始图像将返回下图:</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lj"><img src="../Images/31d22788b4e886b436b7b625194c68a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*9cRylo7Ua7JQhbjKvyHIGA.png"/></div></div></figure><ul class=""><li id="7050" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">自适应阈值</li></ul><p id="534c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单的阈值处理有时在某些情况下效果不佳，例如:光照问题。为了解决这个问题，我们实现了自适应阈值处理。自适应阈值处理可以在图像中给出不同的阈值，因为该算法为图像中的小区域值计算阈值。此过程将为照明过程提供更好的结果。</p><p id="b662" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始编码:</p><figure class="ks kt ku kv fd kw"><div class="bz dy l di"><div class="ld le l"/></div></figure><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es lk"><img src="../Images/6e2bdb7026e5916b0d0cd439a9189c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*lY0MpAvG3mloe5C_7aNzPg.png"/></div></figure><p id="0403" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你</p></div></div>    
</body>
</html>