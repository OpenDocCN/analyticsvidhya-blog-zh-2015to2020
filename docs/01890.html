<html>
<head>
<title>IoT: Bazel 1.1.0 on ODROID-XU4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ODROID-XU4上的Bazel 1.1.0</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/iot-bazel-1-1-0-on-odroid-xu4-f38e4825c78e?source=collection_archive---------17-----------------------#2019-11-19">https://medium.com/analytics-vidhya/iot-bazel-1-1-0-on-odroid-xu4-f38e4825c78e?source=collection_archive---------17-----------------------#2019-11-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ad76" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何从零开始构建baz El 1 . 1 . 0(bootstrapping)并安装在ODROID-XU4 + Ubuntu 18.04.3 LTS(仿生海狸)上？</h2></div><p id="a626" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">你可以在我的Github库上看到下面的脚本:</em>【https://github.com/zmacario/Bazel-1.1.0-on-ODROID-XU4 T2】</p><p id="ab85" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">重要提示:我相信这个食谱也适用于其他版本的Bazel。我已经测试了0.26.1、0.27.1和0.29.1版本，在所有情况下都运行良好。</p><h2 id="333e" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">1.让我们从在终端窗口中使用以下命令更新ODROID Linux开始:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="900c" class="jv jw hi kv b fi kz la l lb lc">sudo apt update</span><span id="2ed3" class="jv jw hi kv b fi ld la l lb lc">sudo apt upgrade</span></pre><h2 id="59ec" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">2.安装以下软件包:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="55e9" class="jv jw hi kv b fi kz la l lb lc">sudo apt -y install build-essential openjdk-8-jdk python zip unzip</span></pre><p id="7e7b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">重要提示:在以下步骤中，您必须确保OpenJDK v8是您的系统的缺省值。</p><h2 id="2b8f" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">3.下载官方Bazel 1.1.0压缩源文件:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="4a65" class="jv jw hi kv b fi kz la l lb lc">sudo wget https://github.com/bazelbuild/bazel/releases/download/1.1.0/bazel-1.1.0-dist.zip</span></pre><h2 id="040b" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">4.解压缩下载的文件:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="348c" class="jv jw hi kv b fi kz la l lb lc">sudo unzip bazel-1.1.0-dist.zip -d bazel-1.1.0-dist</span></pre><h2 id="082d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">5.向一些解压缩的脚本授予执行权限:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="0575" class="jv jw hi kv b fi kz la l lb lc">cd bazel-1.1.0-dist/src</span><span id="004f" class="jv jw hi kv b fi ld la l lb lc">sudo chmod 777 *.sh</span><span id="662f" class="jv jw hi kv b fi ld la l lb lc">cd ..</span></pre><h2 id="6de8" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">6.在会话中使用以下命令扩展对系统资源的访问限制:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="d7e6" class="jv jw hi kv b fi kz la l lb lc">ulimit -c unlimited</span></pre><h2 id="32eb" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">7.使用以下命令启动Bazel的构建:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="233c" class="jv jw hi kv b fi kz la l lb lc">sudo env BAZEL_JAVAC_OPTS="-J-Xms1g -J-Xmx1g" EXTRA_BAZEL_ARGS="--host_javabase=@local_jdk//:jdk --discard_analysis_cache --nokeep_state_after_build --notrack_incremental_state" bash ./compile.sh</span></pre><p id="4fc1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">构建过程将需要半个小时。</p><h2 id="303a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">8.验证构建的Bazel二进制文件:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="ee20" class="jv jw hi kv b fi kz la l lb lc">cd output</span><span id="c15d" class="jv jw hi kv b fi ld la l lb lc">./bazel version</span></pre><h2 id="506d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf jg kg kh ki jk kj kk kl jo km kn ko kp bi translated">9.用一个简单的命令在您的系统上安装Bazel:</h2><pre class="kq kr ks kt fd ku kv kw kx aw ky bi"><span id="b5ac" class="jv jw hi kv b fi kz la l lb lc">sudo cp bazel /usr/bin</span></pre><p id="bb08" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">嘿！现在您的系统上安装了最新版本的Bazel！</em></p><p id="feba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其他相关帖子:“<a class="ae ju" rel="noopener" href="/@jose.macario/iot-opencv-4-1-on-odroid-xu4-8a14d395f191"><em class="jt">IoT:ODROID上的OpenCV 4.1-XU4</em></a><em class="jt">”</em></p><p id="da4d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看看我谦虚的YouTube频道:<a class="ae ju" href="https://www.youtube.com/user/josemacariofaria/" rel="noopener ugc nofollow" target="_blank"><em class="jt">https://www.youtube.com/user/josemacariofaria/</em></a></p></div></div>    
</body>
</html>