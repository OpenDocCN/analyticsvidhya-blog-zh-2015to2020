<html>
<head>
<title>Clean Code Chapter 4: Comments on Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">干净代码第4章:注释上的注释</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/clean-code-chapter-4-comments-on-comments-e65e018d3cdd?source=collection_archive---------18-----------------------#2020-04-07">https://medium.com/analytics-vidhya/clean-code-chapter-4-comments-on-comments-e65e018d3cdd?source=collection_archive---------18-----------------------#2020-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ca81edc52e3182da9d5c66e42b88138a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UVci1igDvNyIDBq5gM8Q5Q.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由来自<a class="ae iu" href="https://www.pexels.com/photo/bonfire-burning-camp-campfire-1368382/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>的<a class="ae iu" href="https://www.pexels.com/@vladbagacian?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">弗拉德·巴加西安</a>拍摄</figcaption></figure><p id="971b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我学习软件开发的时候，我写的代码可能是我读的两倍。那不是谦虚的吹牛，事实上恰恰相反。</p><p id="106e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些天我的生活主要是编码挑战和项目建设。除了浏览对问题的堆栈溢出响应和阅读紧张而复杂的<a class="ae iu" href="https://docs.python.org/3/" rel="noopener ugc nofollow" target="_blank"> Python文档</a>之外，我并不经常拿起一段代码，盯着已经写好的或评论的内容。</p><p id="3062" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，据我所知，软件开发人员(尤其是初级开发人员)的生活包括大量阅读、审查和测试代码。</p><p id="c87e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">考虑到这一点，思考注释的作用，以及它们如何给我们的代码增加价值，难道不是很有用吗？这正是罗伯特·马丁(又名鲍勃大叔)的<a class="ae iu" href="https://www.goodreads.com/book/show/3735293-clean-code" rel="noopener ugc nofollow" target="_blank">干净代码第四章所涵盖的内容。</a></p><p id="80a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作者对评论的哲学似乎是:越少越好。这并不令人震惊，与他对<a class="ae iu" rel="noopener" href="/@losimprov/functions-and-chapter-3-of-clean-code-bb41aa58796">功能</a>的简洁观点非常相似。</p><p id="388a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这主要是出于消除无端和完全无益的评论的愿望。根据马丁的说法，以下是一些需要留意的(蹩脚的)评论:</p><ul class=""><li id="bdef" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated"><strong class="ix hj">含糊不清</strong>，也就是对普通读者来说毫无意义或不清楚的评论。</li><li id="d773" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="ix hj">冗余</strong>(重复。你知道，重复说同样的话……)</li><li id="7783" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="ix hj">误导性评论</strong>。随着软件的扩展和老化，大多数评论最终都属于这一类。注释从它们所依附的代码中分离出来，功能的变化使得注释的意义越来越模糊。</li><li id="88b0" class="jt ju hi ix b iy kc jc kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="ix hj">强制注释。显然这是一些经理让他们的员工做的事情？这对于保持评论的精简和刻薄肯定不是很有帮助。</strong></li></ul><p id="c5c9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，有什么好的评论吗？据作者说，很少。一个开发人员应该写一个注释，基本上有三四个原因，所有这些都涉及到预测和帮助下一个开发人员避免一大堆麻烦。</p><p id="d4b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个建议的注释类型是对<strong class="ix hj">提供信息</strong>的注释。解释意图或进行澄清的注释是可以的，例如解释有助于产生代码字的复杂概念(只要它们不会占用太多空间并分散对实际操作的注意力)。</p><p id="6cf5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如，如果有一个模糊或抽象的CS概念在起作用，使一个特定的功能软件工作，那么提到这一点是很好的，这样将来的开发人员就知道如果他们觉得需要以某种方式改变代码时会发生什么。</p><p id="686d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一个很好的理由是向<strong class="ix hj">解释</strong>的意图。如果你检查了你的代码，并且认为人们应该理解你为什么以某种方式写了一些东西，尽一切办法写一个注释。</p><p id="8303" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">解释为什么你选择了一个特定的策略，而不是另一个，可能有助于未来的开发人员避免用错误的假设重写代码。这也可以帮助他们理解以前的尝试失败了什么以及为什么失败。当他们节省了时间，团队会感谢你的！</p><p id="6bb4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">书中提到的另一个理由很充分，即如果你需要<strong class="ix hj">警告后果</strong>。例如，如果运行一个程序需要花费数小时来迁移文件，而这在代码中并不明显，那么最好在注释中包含这一细节(例如，除非有时间，否则不要运行这个程序……。)这样人们就知道自己在做什么了。</p><p id="63f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后一个值得注意的例外是法律意见。有律师很重要，否则谁会得到报酬？我想是的。</p><p id="89fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无论如何，正是因为这个原因(我只能猜测)，马丁认为法律意见可以根据需要添加到文档中。这很有道理，并且不是我现在特别关心的事情，但是值得一提。</p><p id="ca2b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总的来说，干净代码这一章非常有帮助，让我重新思考我几乎利用了的编码的一个方面。我期待着手本书的下一章，并继续清理我的代码！</p></div></div>    
</body>
</html>