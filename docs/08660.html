<html>
<head>
<title>Ansible Installation on RedHat8</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RedHat8上的可行安装</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/ansible-installation-on-redhat8-d1d4a7f60ada?source=collection_archive---------17-----------------------#2020-08-07">https://medium.com/analytics-vidhya/ansible-installation-on-redhat8-d1d4a7f60ada?source=collection_archive---------17-----------------------#2020-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/f386c2eec365d5cb95a2947d8b02b6c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PrfGIUmkIB1ObetFfI0gEw.jpeg"/></div></div></figure><div class=""/><h1 id="ac6d" class="iy iz ht bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated">介绍</h1><p id="f00b" class="pw-post-body-paragraph jw jx ht jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">由于现代应用程序环境的一次性本质，服务器自动化现在在系统管理中扮演着重要的角色。诸如<a class="ae ku" href="https://ansible.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jy hu"> Ansible </strong> </a>之类的配置管理工具通常用于通过为新服务器建立标准程序来简化自动化服务器设置的过程，同时减少与手动设置相关联的人为错误。</p><p id="525f" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi la translated"><span class="l iq ir is bm it iu iv iw ix di">nsible提供了一个简单的架构，不需要在节点上安装特殊的软件。它还提供了一组健壮的特性和内置模块，有助于编写自动化脚本。</span></p><p id="c645" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">与Puppet、Chef和Salt等类似工具相比，Ansible是首选的配置工具，因为它不需要代理，并且可以在SSH和python上工作。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="0106" class="iy iz ht bd ja jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv bi translated">Ansible实验室详情</h1><ul class=""><li id="be8a" class="ln lo ht jy b jz ka kd ke kh lp kl lq kp lr kt ls lt lu lv bi translated">具有互联网连接的RHEL 8服务器。</li><li id="78dd" class="ln lo ht jy b jz lw kd lx kh ly kl lz kp ma kt ls lt lu lv bi translated">一个可转换的节点(CLI或GUI)。</li></ul></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="bc2c" class="iy iz ht bd ja jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv bi translated">Ansible的安装</h1><p id="e3f5" class="pw-post-body-paragraph jw jx ht jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">我们将使用<a class="ae ku" href="https://pip.pypa.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> <strong class="jy hu"> pip </strong> </a> <strong class="jy hu"> (python的包管理器)</strong>安装Ansible，在这种情况下，我们首先需要安装python3及其pip3包。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="70e7" class="mk iz ht mg b fi ml mm l mn mo">sudo yum install python36 -y</span></pre><p id="0cbc" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">安装python3后，运行以下命令检查其版本</p><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mp"><img src="../Images/e1f44c830d2cbbcce9ac3691ab32cfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gX7YLoFViXrKf7g6r7EdkQ.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">python版本</figcaption></figure></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="e106" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">现在，使用pip3安装Ansible。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="acf5" class="mk iz ht mg b fi ml mm l mn mo">pip3 install ansible</span></pre><div class="mb mc md me fd ab cb"><figure class="mu hk mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/a41f6633af84ff376301d6436ea87748.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*k1rjBmHaSGHVUKAyQUxeaA.png"/></div></figure><figure class="mu hk na mw mx my mz paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/e8c6eec8f1b94040fcd42ced825d0f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*he8EpZhCaW5D7aZAJqp6Fg.png"/></div><figcaption class="mq mr et er es ms mt bd b be z dx nb di nc nd translated">可行的安装</figcaption></figure></div><p id="6690" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">安装后，检查版本</p><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ne"><img src="../Images/da6fafa6cc0b1a6de5e3591a970e5ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coN91evbVEQqXIamNEXhXQ.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">可翻译版本</figcaption></figure><p id="c96c" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">至此，我们的ansible安装成功。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="0c9e" class="iy iz ht bd ja jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv bi translated">如何使用Ansible自动化工具？</h1><p id="2870" class="pw-post-body-paragraph jw jx ht jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">当我们使用yum或dnf命令安装Ansible时，它的配置文件、清单文件和角色目录会自动创建在/etc/ansible文件夹下。但是当使用pip3作为安装程序时，我们必须配置一切。</p><p id="8f78" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">首先创建一个可解析的文件夹。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="3d50" class="mk iz ht mg b fi ml mm l mn mo">sudo mkdir /etc/ansible</span></pre></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="f6f8" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">现在创建用于存储IP的清单文件。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="7313" class="mk iz ht mg b fi ml mm l mn mo">vim /etc/ansible/myhost.txt</span></pre><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ne"><img src="../Images/b069a0843f39ae213953df0a43981a46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z0fBJ0uXhJcwCO3_6X76Jw.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">主机清单</figcaption></figure><p id="f72d" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">您可以创建任何<strong class="jy hu"> *。txt </strong>文件，但它应该只在/etc/ansible中。</p><p id="ba46" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">另外，<strong class="jy hu">【web】</strong>通过设置这个，我们可以创建主机组，在这些主机组下，我们可以放置尽可能多的IP。当我们必须在许多主机IP中做类似的任务时，主机组是非常必要的。</p><p id="1750" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">在这里，<strong class="jy hu"> ansible_ssh_user=**** </strong>给你要连接的用户和它的密码<strong class="jy hu"> ansible_ssh_pass=*** </strong>。</p><p id="eceb" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">正在检查主机IP列表。</p><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nf"><img src="../Images/7b332d42a140d32d69c61a743b9f82c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4euYxTUXU7sA8Hbq6_zPVw.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">IP列表</figcaption></figure><p id="9785" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">为了与节点连接，我们将使用<strong class="jy hu"> ssh </strong>协议。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="2f5b" class="mk iz ht mg b fi ml mm l mn mo">sudo yum install sshpass -y</span></pre></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="4080" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">现在，创建ansible的主配置文件，从这里它将了解它的受管节点。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="fa76" class="mk iz ht mg b fi ml mm l mn mo">vim /etc/ansible/ansible.cfg</span></pre><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ng"><img src="../Images/70ff1736339f17082d5b696078fc5372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQpGGs8mMOuFP7bGfx2sQw.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">配置文件</figcaption></figure></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="4323" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">最后，整个配置完成。检查每件事都做对了。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="4c02" class="mk iz ht mg b fi ml mm l mn mo">ansible all -m ping</span><span id="97cc" class="mk iz ht mg b fi nh mm l mn mo">or<br/> <br/>ansible (node IP) -m ping</span><span id="dcca" class="mk iz ht mg b fi nh mm l mn mo">or </span><span id="d1dc" class="mk iz ht mg b fi nh mm l mn mo">ansible (nodehost) -m ping</span></pre><figure class="mb mc md me fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ni"><img src="../Images/2582b53254de38c7dd29b3e3dd815bc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSDf79vcfEsgudrfNtOfsQ.png"/></div></div><figcaption class="mq mr et er es ms mt bd b be z dx translated">最终输出</figcaption></figure></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><blockquote class="nj nk nl"><p id="5105" class="jw jx nm jy b jz kv kb kc kd kw kf kg nn kx kj kk no ky kn ko np kz kr ks kt hb bi translated">注意:-如果使用<strong class="jy hu"> CLI管理节点</strong>，则必须在<strong class="jy hu">配置文件(/etc/ansible/ansible.cfg) </strong>中多添加一条命令。</p></blockquote><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="aa6f" class="mk iz ht mg b fi ml mm l mn mo">host_key_checking = False</span></pre></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="776b" class="iy iz ht bd ja jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv bi translated">结论</h1><p id="7b4d" class="pw-post-body-paragraph jw jx ht jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">自动化基础架构设置不仅可以节省您的时间，还有助于确保您的服务器遵循可根据您的需求定制的标准配置。随着现代应用程序的分布式本质和不同阶段环境之间一致性的需要，像这样的自动化已经成为许多团队开发过程中的核心组件。</p><p id="5292" class="pw-post-body-paragraph jw jx ht jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hb bi translated">所以，这就是如何在<strong class="jy hu"> Redhat8( rhel8) </strong>中设置<strong class="jy hu"> Ansible </strong>。所以，请继续关注<strong class="jy hu"> Ansible </strong> world的更多精彩文章。</p><h2 id="1d1f" class="mk iz ht bd ja nq nr ns je nt nu nv ji kh nw nx jm kl ny nz jq kp oa ob ju oc bi translated">掌声和评论是最受欢迎的。</h2><p id="026b" class="pw-post-body-paragraph jw jx ht jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hb bi translated">谢谢你。</p></div></div>    
</body>
</html>