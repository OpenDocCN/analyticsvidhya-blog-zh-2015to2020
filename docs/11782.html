<html>
<head>
<title>Sampling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">抽样</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sampling-6037db498e71?source=collection_archive---------12-----------------------#2020-12-18">https://medium.com/analytics-vidhya/sampling-6037db498e71?source=collection_archive---------12-----------------------#2020-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8ff8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在机器学习中，我们经常需要处理非常大的数据集，这有时在计算上可能是昂贵的。在这些时候，在这个大数据集中创建一个较小的样本并在这个较小的数据集中训练或建模更有意义。在这样做的同时，重要的是要确保我们不会丢失关于我们人口的统计信息。我们还需要确保我们的样本没有偏见，是我们人口的代表。我们探索一些方法来确保这一点。</p><p id="fb83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出于本笔记本文档的目的，我们将使用加州房屋数据集。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jk"><img src="../Images/1051b6ccee8a6d06af671bb69a2f757e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKvdqyfdNo47kuwfK0Y6FA.png"/></div></div></figure><p id="adbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此时，我们将采取两种方法:</p><p id="5ef4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.简单随机抽样</p><ul class=""><li id="13b8" class="jr js hi ih b ii ij im in iq jt iu ju iy jv jc jw jx jy jz bi translated">这很容易实现，也是最直接的概率抽样方法。</li><li id="48eb" class="jr js hi ih b ii ka im kb iq kc iu kd iy ke jc jw jx jy jz bi translated">存在引入采样偏差的风险。</li><li id="5bca" class="jr js hi ih b ii ka im kb iq kc iu kd iy ke jc jw jx jy jz bi translated">为了对样本更有信心，可以对数据集的每个特征进行统计测试。</li></ul><p id="a2d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.分层随机抽样</p><ul class=""><li id="de3d" class="jr js hi ih b ii ij im in iq jt iu ju iy jv jc jw jx jy jz bi translated">确保样本能够代表总体。</li><li id="ffb7" class="jr js hi ih b ii ka im kb iq kc iu kd iy ke jc jw jx jy jz bi translated">定义亚群或阶层，并从每个亚群中产生简单的随机样本。</li><li id="4540" class="jr js hi ih b ii ka im kb iq kc iu kd iy ke jc jw jx jy jz bi translated">这种方法减少了采样误差。</li></ul><p id="34d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单随机抽样</p><p id="9229" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们用熊猫。DataFrame.sample 获得一个简单的随机样本。它从一个对象轴上返回一个随机的项目样本。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kg"><img src="../Images/7555f401f6d467b64ecc30f249dbc629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oc1gMzgDzPLF9lEPiM6xQQ.png"/></div></div></figure><p id="5ce4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了确保我们的样本不丧失总体的统计显著性，我们进行了一些统计检验。为了更容易实现，我们做了一个可接受的假设:考虑每个变量(特征/列)独立于其他变量。</p><p id="9a8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于每个特征，我们将样本的概率分布与总体的概率分布进行比较。如果它们都是重要的，那么这个样本“通过了我们的测试”,否则我们用另一个样本重试。</p><p id="a6c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用Kolmogorov-Smirnov检验。</p><p id="a95c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了进行这些测试，我们使用了<a class="ae kf" href="https://docs.scipy.org/doc/scipy//reference/index.html" rel="noopener ugc nofollow" target="_blank"> scipy </a>库，这是一个开源Python库，用于数学、工程、科学和技术计算。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kh"><img src="../Images/fa47054ba4f74085c6bfb8d4db4a11e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*EwGtmQsvaaLFp7-mdjx-oQ.png"/></div></figure><p id="227e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到所有列的p值都大于0.05，因此我们不能拒绝它们来自不同分布的零假设，这意味着样本具有统计学意义。</p><p id="699e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分层随机抽样</p><p id="bd07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在分层随机抽样中，选择一个阶层或亚群体是很重要的。最佳方法是选择最重要的特征(与目标变量的相关性最高),并根据该特征对人群进行分层。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ki"><img src="../Images/59410e5834bbac7a6cb8b8cafc17f092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*ueVuXtL7kyznL-fitVYtVQ.png"/></div></figure><p id="f4bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们在此示例中看到，median_income具有最高的相关性，我们选择此功能对数据集进行分层。为此，我们首先需要创建一个新的列来创建地层。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kj"><img src="../Images/52cc2df14d74290c61c1d62712278d7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*hwf22_rYhsyaNwPIdiX5FA.png"/></div></figure><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kk"><img src="../Images/6f3754c05a5b01e3d11ebeee1be1b1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*_jh4x6hOq_sx67PPV9AGag.png"/></div></figure><p id="6d5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在上面所做的只是创建了5个阶层(或亚群体),我们将在此基础上进行采样。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kl"><img src="../Images/320b156890aa8e4905430aacdb340b62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*84FQoo65Q1yL8sCb1U7lfw.png"/></div></div></figure><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es km"><img src="../Images/f98b5819175e0652abdf3e91797dec47.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*qQXwLD_239zYojbHyIk_Mg.png"/></div></figure><p id="a5bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们看到所有列的p值都大于0.05，因此我们不能拒绝它们来自不同分布的零假设，这意味着样本具有统计学意义。</p></div></div>    
</body>
</html>