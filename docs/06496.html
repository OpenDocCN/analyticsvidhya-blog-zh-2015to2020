<html>
<head>
<title>Automation of Deep Learning Model using Jenkins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Jenkins实现深度学习模型的自动化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automation-of-deep-learning-model-using-jenkins-79c2e732445b?source=collection_archive---------6-----------------------#2020-05-24">https://medium.com/analytics-vidhya/automation-of-deep-learning-model-using-jenkins-79c2e732445b?source=collection_archive---------6-----------------------#2020-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4161" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jd" href="https://en.wikipedia.org/wiki/Machine_learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>、<strong class="ih hj">超参数优化</strong>或者调优就是为一个学习算法选择一组最优<a class="ae jd" href="https://en.wikipedia.org/wiki/Hyperparameter_(machine_learning)" rel="noopener ugc nofollow" target="_blank">超参数</a>的问题。超参数是一个<a class="ae jd" href="https://en.wikipedia.org/wiki/Parameter" rel="noopener ugc nofollow" target="_blank">参数</a>，其值用于控制学习过程。相比之下，其他参数(通常是节点权重)的值是学习来的。</p><p id="f5c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同一种机器学习模型可能需要不同的约束、权重或学习速率来概括不同的数据模式。这些度量被称为超参数，必须进行调整，以便模型可以最优地解决机器学习问题。</p><p id="1b32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们不再手动调整超参数，而是将这项工作交给Jenkins进行自动化。</p><h1 id="e4eb" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用的工具-</h1><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kc"><img src="../Images/b768ecfae66d8212d9a1e111e40608e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6JX5b7fIf-wQtER_J0DQmg.png"/></div></div></figure><ul class=""><li id="a1af" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">Git和Github——用于版本控制和托管我们的存储库。</li><li id="6127" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">詹金斯-自动化各种工作。</li><li id="2ebe" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">Rhel8-作为运行httpd、jenkins、ngrok等服务的基础操作系统。</li><li id="763d" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">Docker-运行我们的python模型。</li></ul><h1 id="bcb5" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">数据集-</h1><p id="44bd" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">我将时尚MNIST数据集用于我的深度学习模型。时尚-MNIST是Zalando文章图像的数据集，由60，000个样本的训练集和10，000个样本的测试集组成。每个示例都是28x28灰度图像，与10个类别的标签相关联。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lh"><img src="../Images/6d69f990be0234a75d9805f76ef8672e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNLB2jtcfb_xTqgQd9ntJA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">时尚MNIST数据集</figcaption></figure><h1 id="65bc" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">自动化步骤-</h1><h2 id="ee45" class="lm jf hi bd jg ln lo lp jk lq lr ls jo iq lt lu js iu lv lw jw iy lx ly ka lz bi translated">任务描述</h2><ol class=""><li id="3c96" class="ko kp hi ih b ii lc im ld iq ma iu mb iy mc jc md ku kv kw bi translated">使用dockerfile创建一个容器映像，其中包含Python3、Keras、numpy和所有必需的库</li><li id="20fc" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">当我们启动这个图像时，它应该会自动开始训练容器中的模型。</li><li id="5dbd" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">使用Jenkins中的构建管道插件创建job1、job2、job3、job4和job5的作业链</li><li id="61c4" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">Job1:部分开发者向Github推送回购时自动拉取Github回购。</li><li id="30dd" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">Job2:通过查看代码或程序文件，Jenkins应该自动启动安装的相应机器学习软件，解释器安装映像容器以部署代码并开始训练(例如，如果代码使用cnn，则Jenkins应该启动已经安装了CNN处理所需的所有软件的容器)。</li><li id="313d" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">作业3:在webbrowser中显示精确度(本地连接)</li><li id="269b" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">Job4:如果度量准确度低于88%，那么调整机器学习模型架构。</li><li id="884e" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">Job5:重新训练模型或通知正在创建最佳模型。</li><li id="90fc" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">Job6:将通知开发人员，由于模型精度低于要求，调整已经开始。</li><li id="e1e4" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc md ku kv kw bi translated">为monitor : If容器创建一个额外的job job7，其中应用程序正在运行。由于任何原因失败，则该作业应该从最后一个训练模型离开的地方自动再次启动容器</li></ol><h2 id="8f7d" class="lm jf hi bd jg ln lo lp jk lq lr ls jo iq lt lu js iu lv lw jw iy lx ly ka lz bi translated">让我们开始工作-</h2><ol class=""><li id="027a" class="ko kp hi ih b ii lc im ld iq ma iu mb iy mc jc md ku kv kw bi translated"><strong class="ih hj">设置我们的本地git存储库- </strong></li></ol><p id="ba45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我创建了一个名为<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation" rel="noopener ugc nofollow" target="_blank">machine learning _ Automation</a>的空<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation" rel="noopener ugc nofollow" target="_blank"> Github </a>存储库。然后，通过使用基本的git命令，我将代码上传到了那个Repo。</p><p id="e864" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经配置了一个提交后脚本，每当我提交任何新的更改时，它都会自动推送我的代码。</p><ul class=""><li id="30a4" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">为此，您必须转到您的代码文件夹，在该文件夹中您设置了。饭桶</li><li id="2ec6" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">然后使用[$cd /。git/hooks ]转到钩子目录</li><li id="591b" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">然后使用[$cat &gt; post-commit]创建一个脚本，当您提交时，该脚本将推送您的代码</li><li id="b01e" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">在提交后，写下下图中的内容，按ctrl+d保存。</li><li id="d8b2" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">然后转到主代码文件夹，尝试提交</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es me"><img src="../Images/d8b90d2398bc15fb38a16c4e139aa83b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUdmJg5PO6NO8AO1AteaHw.png"/></div></div></figure><p id="0965" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。在Rhel- </strong>中为私有ip设置 <a class="ae jd" href="https://ddos-guard.net/en/terminology/technology/ip-tunnel" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">隧道</strong> </a> <strong class="ih hj"/></p><p id="7178" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在第3步中，我们必须在Github repo中设置web-hooks，我使用的是私有ip，但是Github在公共世界上，Github需要访问我们的私有ip，Jenkins在这个私有IP上运行。隧道的概念将帮助我们。</p><p id="d2cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们为詹金斯正在运行的端口和协议设置了<a class="ae jd" href="https://ngrok.com/download" rel="noopener ugc nofollow" target="_blank"> ngrok </a>软件。在我的例子中，Jenkins运行在端口8080上，并使用http协议。使用命令-</p><blockquote class="mf mg mh"><p id="5cdc" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]#./ngrok http 8080</p></blockquote><p id="c914" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用ngrok提供的ip在Github repo中设置我们的web-hooks。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mm"><img src="../Images/1ca508515dbf82df6449f033ecff1486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eslA4f0jbZ9WPNJoDP_Y5g.png"/></div></div></figure><p id="9e94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。在Github Repo中设置Web-hooks-</strong></p><p id="c068" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将需要我们的Jenkis JOB1的web-hooks，它将检测Github repo中的任何变化，并将其发送到我们指定位置的Rehl Os</p><ul class=""><li id="3d4b" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">要设置Web挂钩，我们必须访问我们的git hub库，然后</li></ul><blockquote class="mf mg mh"><p id="1967" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">-&gt;设置-&gt;在选项中-&gt;Webhooks -&gt;添加Webhook -&gt;输入您的密码-&gt;在有效负载url中输入[ngrok_ip/github-webhook/] -&gt;将内容类型更改为[application/json] -&gt;然后保存Webhook</p></blockquote><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mn"><img src="../Images/7b2ea2675479130faa0acdd543e6c01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONGXMW4JM9DyQNUnd-KApA.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mo"><img src="../Images/6d8369dd7db26dada5c58605922a812f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TfBvanXH7viNMI3jlnJfww.png"/></div></div></figure><p id="4a20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。在Jenkins中创建工单1-</strong></p><p id="e682" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当开发人员推送任何新代码时，JOB1都会自动将Github repo拉至我们Rhel Os中的指定目录。</p><p id="019a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工单1配置-</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mp"><img src="../Images/ec2312c4270634d98f89ec517341d90c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hHdVPwyZkpkieGUVZepBiQ.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mq"><img src="../Images/d7d078550161f016d27f5e607aedfb61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SxHho9Ak-F_FJyI38d-gCw.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mr"><img src="../Images/09166cea70bb02533126f1dc46e2049f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXJGxb2-2m4t45r8_9KOfA.png"/></div></div></figure><p id="fdd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切顺利，我们将-</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ms"><img src="../Images/9d47ee1487e7c1e43b5f1b658d8ca6d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4_H7gGciW6NOyIfWcKF8Vw.png"/></div></div></figure></div><div class="ab cl mt mu gp mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="hb hc hd he hf"><p id="8e42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。创造我们自己的码头工人形象- </strong></p><p id="003f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在Docker容器中运行我们名为<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation/blob/master/machinelearning_code.py" rel="noopener ugc nofollow" target="_blank">machine learning _ code . py</a>的ML代码，我们必须创建自己的Docker映像，以Centos为基础，并在其中安装所有需要的库和python36。</p><ul class=""><li id="204f" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">要创建Docker映像，首先使用-创建一个名为ws的新文件夹</li></ul><blockquote class="mf mg mh"><p id="0e0b" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]# mkdir ws/</p><p id="fdda" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]#cd /ws</p></blockquote><ul class=""><li id="c6b9" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">然后使用以下命令在ws目录中创建docker文件</li></ul><blockquote class="mf mg mh"><p id="9f4e" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]#gedit Dockerfile</p></blockquote><ul class=""><li id="e19e" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">在文档中写下-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es na"><img src="../Images/1371013a9714e5d22e7c16b2368132c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t8yAhFr4QXM4t9WvR8jGgw.png"/></div></div></figure><ul class=""><li id="4607" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">保存docker文件后，进入父目录</li></ul><blockquote class="mf mg mh"><p id="2c19" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]#cd..</p></blockquote><ul class=""><li id="49cc" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">运行命令创建图像-</li></ul><blockquote class="mf mg mh"><p id="57af" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]# docker build-t machine learning:v1/root/Desktop/ml-automation/ws/</p></blockquote><ul class=""><li id="ad6e" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">建造完成后，我们将看到-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nb"><img src="../Images/ab9896a1c76e8efa07c2759d8d22a027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iP4RoBHUPV8TeGLAHY0vKQ.png"/></div></div></figure><p id="d2ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 6。在Jenkins中创建工单2-</strong></p><p id="cdfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JOB2通过查看代码或程序文件来执行任务，自动启动安装的相应机器学习软件，解释器安装映像容器来部署代码并开始训练(例如，如果代码使用cnn，那么Jenkins应该启动已经安装了CNN处理所需的所有软件的容器)即从*步骤5*中创建的Docker映像运行Docker容器。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nc"><img src="../Images/b0bfe42b106b9bef9ce2b657ccca72ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a5MSq00EQAj8OvJ5YAXYDw.png"/></div></div></figure><ul class=""><li id="89fc" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">从这里可以看到checking . py-<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation/blob/master/checking.py" rel="noopener ugc nofollow" target="_blank">checking . py</a></li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nd"><img src="../Images/de0e830c05d29352037160545d0b8d1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKRwkkJlv-OCOzHFNDVIUg.png"/></div></div></figure><ul class=""><li id="a297" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">成功构建JOB2后，控制台输出必须如下所示</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ne"><img src="../Images/d60866e612c4cdb4e94165e761fb3ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGXxhSYevl6j9_JH3lvq0Q.png"/></div></div></figure><p id="5c0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 7。在Jenkins中创建工单3-</strong></p><p id="18d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JOB3的任务是将[show_output.html]文件从父目录复制到/var/www/html，这是Apache Webserver 中网页的默认目录。</p><p id="a117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个[show_output.html]文件将向我们展示所使用的超参数以及我们的模型的准确性。</p><ul class=""><li id="57cc" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">在进入Jenkins之前，运行以下命令来启动rhel中的httpd服务器-</li></ul><blockquote class="mf mg mh"><p id="518c" class="if ig mi ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">]#systemctl启动httpd</p></blockquote><ul class=""><li id="ab03" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">工单3配置-</li></ul><p id="36e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将构建触发器设置为-&gt;在其他项目构建之后构建-&gt;将JOB2放入其中。在那之后-</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nf"><img src="../Images/1bf0edae384e2a88ea65c064b3adb8b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kz_JKGuBEjq0HgAxWdtiGg.png"/></div></div></figure><ul class=""><li id="8698" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">在成功构建JOB3之后，我们可以在本地web浏览器中看到show_output.html文件。</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es ng"><img src="../Images/97c8d50367d4c15b8e7661e7f8490310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*qWFMWohL6v01bi5UDt1Hmg.png"/></div></figure><p id="c121" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 8。在Jenkins中创建工单4-</strong></p><p id="5201" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JOB4将监控模型的准确性，如果模型的准确性低于98%。它将启动<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation/blob/master/tweaker.py" rel="noopener ugc nofollow" target="_blank"> tweaker.py </a>程序，该程序将添加额外的卷积层，并再次运行JOB2来训练model，JOB6向开发人员发送电子邮件“精确度很低，正在运行tweaker程序”。</p><p id="b7aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果模型达到了要求的精度，JOB5将运行，因为JOB4将被[exit 0]命令终止。</p><ul class=""><li id="ef12" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">JOB4配置-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nh"><img src="../Images/8fe4633b78adfa319e247ad696e4bbc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XFlHLRdGRsRp1EldWEuEbA.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ni"><img src="../Images/a73ce5c204a23a32aef29b5b1b7e14d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtYSy7dEYrbwI-44HIxzPA.png"/></div></div></figure><ul class=""><li id="b4f6" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">由于JOB4将一次又一次地运行，直到没有达到期望的精度，我们的show_display.html文件也将被JOB3更改，并将显示JOB2模型每次运行的不同精度和超参数。</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es nj"><img src="../Images/4889fe2d7d2ce3090541c43920571545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*DafnW6P79HHSxHZhimMdmw.png"/></div></figure><p id="b083" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 9。在Jenkins中创建工单5-</strong></p><p id="e910" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从JOB2模型获得所需的精度后，JOB4将终止，JOB5将运行。该作业将运行<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation/blob/master/model_success_mail.py" rel="noopener ugc nofollow" target="_blank"> model_success_mail.py </a>并向开发人员发送项目完成通知。</p><ul class=""><li id="d673" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">JOB5配置-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nk"><img src="../Images/72523c2919458b7c7a8b6aec9d6df1f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*moB3IHIencTuF1ochpfb9w.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nk"><img src="../Images/a73f516a6820c1abee6adfb364ec95db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QeId-gf6xtu4ipp5KenUww.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nl"><img src="../Images/203f28114fd50a63a2c9b291cb9186c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LowaUjgGG7GQ0xitnPg55Q.png"/></div></div></figure><ul class=""><li id="4da9" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">Python文件发送电子邮件，使用gedit在Rhel中编辑此代码，并将您自己的凭据放入此-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es nm"><img src="../Images/3e94290ca55d69ad4a749ffe9de65482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*nXqlp5W85oYf8k8vkD2tbA.png"/></div></figure><p id="3056" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10。在Jenkins中创建工单6-</p><p id="bf15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当作业2模型没有达到期望的精度时，作业4将运行作业2和作业6。JOB6将通过运行<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation/blob/master/model_lessaccuracy_mail.py" rel="noopener ugc nofollow" target="_blank">model _ less accuracy _ mail . py</a>发送不成功的消息并运行调整代码。</p><ul class=""><li id="48fe" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">工单6配置-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nn"><img src="../Images/ce917b2fb864e3e6b433cc2b9f7aa372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hYVXI4hFjc6DhY7Uq7Jg6A.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es no"><img src="../Images/e04a5eacf074b4ceb96a5b4aaba607d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wAYTi7Wo_I09jBiWsnSv7Q.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es np"><img src="../Images/96c7a8ce1a91c6894bd06be34f5c4b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4P4BNpuOS1sVYMxrm3bNoA.png"/></div></div></figure><ul class=""><li id="e475" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">这个的Python代码-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nq"><img src="../Images/71b8c64b50eb71f7a621f0c51f4b30db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UldXsZ4kAReJ6wa3YDeXDw.png"/></div></div></figure><p id="3449" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 11。在Jenkins中创建工单7-</strong></p><p id="c0e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JOB7将每小时运行一次，并检查运行模型的容器是否由于任何原因而失败，然后该作业将从上次训练的模型离开的地方自动再次启动容器。</p><ul class=""><li id="667e" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">正在配置一小时的轮询SCM计划-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nr"><img src="../Images/9f09a1313cc19af28078f408c76a043c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJ9EqjhAZdjI_dE4iT5x2g.png"/></div></div></figure><ul class=""><li id="e3d8" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">执行shell命令-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ns"><img src="../Images/d6be64e2a6cf43f15bbf37f8c83b14a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OF1IGfmdpFiDHwyvz8NOBg.png"/></div></div></figure><ul class=""><li id="284b" class="ko kp hi ih b ii ij im in iq kq iu kr iy ks jc kt ku kv kw bi translated">如果容器运行良好，控制台输出-</li></ul><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nt"><img src="../Images/5efec206f2b4ae1d8f28d1ddf7a5b2a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*edKJ647ZD6LZmLGW2FZXHA.png"/></div></div></figure><h2 id="c05a" class="lm jf hi bd jg ln lo lp jk lq lr ls jo iq lt lu js iu lv lw jw iy lx ly ka lz bi translated">项目完成！！！</h2><p id="0f36" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated">瞧啊。！！！这就是如何使用jenkins实现机器学习模型自动化。</p><p id="b4c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GITHUB回购-<a class="ae jd" href="https://github.com/Harasis/MachineLearning_Automation" rel="noopener ugc nofollow" target="_blank">https://github.com/Harasis/MachineLearning_Automation</a></p></div></div>    
</body>
</html>