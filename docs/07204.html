<html>
<head>
<title>Quick Crisp Code Tricks in R for Machine Learning modelling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于机器学习建模的快速简洁的R代码技巧</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/quick-crisp-code-tricks-in-r-for-machine-learning-modelling-2f9addd202b8?source=collection_archive---------34-----------------------#2020-06-16">https://medium.com/analytics-vidhya/quick-crisp-code-tricks-in-r-for-machine-learning-modelling-2f9addd202b8?source=collection_archive---------34-----------------------#2020-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e136" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你对数据科学感兴趣，你会在某个时候或者大部分时间与训练模型打交道。尽管R不是每个人都喜欢的语言，但它几乎没有真正简单的方法来训练和测试模型。本文使用菜谱和扫帚包来构建机器学习模型。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a7c3f1b9d38c05fe9421c34e7f4e83e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fd7LXiMMYnUsQ8_qzxl97w.jpeg"/></div></div></figure><p id="07cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">问题陈述:</em> </strong>建立一个以y为响应变量，以x1，x2…X70为预测变量的多重ML模型，其中模型要根据变量x1分组。</p><p id="aced" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，执行预处理很重要。这将减少不必要的预测。作为预处理的一部分，重要的是处理缺失值、接近零值、偏斜数据、数据标准化以及处理任何线性组合。单独这样做不是一个好的编码！</p><p id="6ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的食谱包将代码减少到只有几行代码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/f2c2c7e90ed53708efb0ff4cb08c55ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NiiblmbvzpueOsdxqZKikQ.png"/></div></div></figure><p id="4769" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要使用juice命令创建、准备并最终执行配方。输出是带有预处理数据的数据集。除了上述功能之外，还可以使用recipe执行其他预处理任务。</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="235f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据问题陈述的第二部分，必须有更多的模型根据基于预测值x1的各个组进行训练。要实现这一点，要么走一条长路，为分组值单独设置数据子集，然后单独建模。但是是不是太繁琐重复了？</p><p id="b66f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扫帚就派上了用场。Broom包具有“nest”和“map”函数，可以与dplyr包中的mutate函数一起使用，根据组训练模型。caret包中的train()函数用于训练模型。下面的代码使用SVM算法训练数据。以类似的方式，利用不同的参数，可以使用其他算法。“x1Group”是将x1分组后具有类别的变量。“finaldata”是之前收到的预处理数据集。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jy"><img src="../Images/3da46b505473314b131491f4ebd41443.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*nggwaXSSS0LBPggsVe0_vA.png"/></div></figure><p id="d9e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这会训练模型。但是怎么看模型合适呢？为此，只需使用以下代码:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/f2fbcf2255ce3a0f66e397dd45a39be2.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*NsLR--Easkrgsp-pboBurw.png"/></div></figure><p id="1402" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">甚至预测数据也是一件容易的事情。它工作正常，就像用脱字符号包一样。只需要调用正确的模型。如果有两组，模型$fit[[1]]是第一组的模型。' test_x1G1 '是具有组类别之一的测试数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ka"><img src="../Images/1802020a994dbf1284f3f619fc5271b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*pOyuOTWM8OE6PkGwM9GF2g.png"/></div></figure><p id="586e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，通过使用扫帚和食谱，可以避免大量的重复代码。</p><h2 id="b3ac" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">快乐学习！！</h2></div></div>    
</body>
</html>