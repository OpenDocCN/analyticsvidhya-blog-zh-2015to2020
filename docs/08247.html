<html>
<head>
<title>What is the need of Confusion matrix and its derived metrics in Machine Learning?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混淆矩阵及其派生度量在机器学习中的需求是什么？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/what-is-the-need-of-confusion-matrix-and-its-derived-metrics-in-machine-learning-87b81cb4217?source=collection_archive---------11-----------------------#2020-07-22">https://medium.com/analytics-vidhya/what-is-the-need-of-confusion-matrix-and-its-derived-metrics-in-machine-learning-87b81cb4217?source=collection_archive---------11-----------------------#2020-07-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="461b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是混淆矩阵？其他指标是如何得出的？为什么这些指标很重要？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/682047b5550097c86c216a6e6dd86030.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*du5Kno7msQa1JYU0b5SYNg.jpeg"/></div></figure><p id="5741" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，读者们，<br/>这是我“作为机器学习的绝对初学者所面临的挑战”系列的第二篇文章。如果你想了解偏差-方差权衡，那就去看看<a class="ae jl" rel="noopener" href="/analytics-vidhya/a-guide-to-bias-and-variance-in-machine-learning-6ce618590513">这篇文章</a>，我试图用通俗的语言解释这个概念。</p><h1 id="6289" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">混乱矩阵</strong></h1><p id="abbc" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">有时候，外表可能具有欺骗性。<br/>考虑一个场景:<em class="kp">我一直在研究我的分类模型，但我不确定我的模型表现如何，我正在寻找一种方法来了解我的模型是否正确地对数据进行了分类，或者它是否与数据集混淆并对其进行了错误的分类。</em> <br/>在这样的场景中，混乱矩阵开始发挥作用。混淆矩阵得名于这样一个事实，即它使得识别分类模型是否变得混乱变得更加容易。对于分类模型，混淆会导致错误识别数据，从而进一步降低性能。</p><p id="442d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">混淆矩阵是用于评估分类模型的方阵(NxN)。这里N表示用于分类的类的数量。混淆矩阵将实际类别与预测类别进行比较，从而给出模型性能的整体视图。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kq"><img src="../Images/fe37fe14895c8b9a3ae64ff0ccd18840.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*mzDpRB5VU6whlMlGgeAkwg.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">图片来源:作者</figcaption></figure><p id="a96a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将使用一个分类模型来解释真阳性、真阴性、假阳性和假阴性，该分类模型对熊是亚洲黑熊还是树懒熊进行分类。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kv"><img src="../Images/aa6aa14d8713e9aac434b60bd38a2bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*PfMt47pNrKqsAu4Roc7cZw.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">亚洲黑熊和树懒熊的分类</figcaption></figure><p id="4ab4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个分类模型M1将亚洲黑熊和树懒熊分类。下图描述了模型M1执行的分类。以绿色突出显示的目标类(亚洲黑熊和树懒熊)表示模型M1正确地识别了目标类，而以红色突出显示的目标类表示模型错误地识别了目标类。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kw"><img src="../Images/af719e590de6239182e066739b3f8aab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*sY17cMgPqdRB7iofDDeioQ.png"/></div><figcaption class="kr ks et er es kt ku bd b be z dx translated">亚洲黑熊和树懒熊的分类</figcaption></figure><p id="ef63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">阳性病例</strong>:被归类为亚洲黑熊<br/>的熊<strong class="ih hj">阴性病例</strong>:未被归类为亚洲黑熊的熊<strong class="ih hj">，即被鉴定为树懒熊的熊。因此亚洲黑熊代表积极的一类，而懒熊代表消极的一类</strong></p><p id="5159" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">True Positive:预测类被正确分类为实际类。基于上述例子，亚洲黑熊被正确地识别为亚洲黑熊。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kx"><img src="../Images/01105db0011e7289d340d573631c582e.png" data-original-src="https://miro.medium.com/v2/resize:fit:130/format:webp/1*rIcVkTvXWHZouc1PJC_zrA.png"/></div></figure><p id="704d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">误报:预测类与实际类不同。例如，模特M1错误地将树懒熊识别为亚洲黑熊。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ky"><img src="../Images/d327e6694e095d6728054d52605d882c.png" data-original-src="https://miro.medium.com/v2/resize:fit:128/format:webp/1*lo3Fq_NJa2eYiNBC8ZX2Ng.png"/></div></figure><p id="bf12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真否定:预测类被正确分类为实际类，即树懒熊被正确分类为树懒熊。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ky"><img src="../Images/1d0e5a37dcdd69f806bf73172f453e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:128/format:webp/1*1r4RC1jQI1WC2jLF2ojJOQ.png"/></div></figure><p id="ea2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假阴性:预测类别与实际类别不同，即树懒熊被错误地识别为亚洲黑熊。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/758bb9e861de2146780c9b8d4af54ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:126/format:webp/1*lUMg5G9T04zPYAXZs5d0BQ.png"/></div></figure><p id="d0e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们有一个包含444个数据点的数据集。下图显示了在数据集上拟合分类模型M1后的混淆矩阵。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/5059289adf732c0991e23df360415d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*PQxZplbsA0Du9xJybUlBaw.png"/></div></figure><p id="703c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">真阳性(TP) : 114只亚洲黑熊被正确归类为亚洲黑熊。<br/>真阴性(NP): 220只树懒熊被正确归类为树懒熊。<br/>假阳性(FP) : 40只树懒熊被错误归类为亚洲黑熊。<br/>假阴性:70只亚洲黑熊被错误地归类为树懒熊。</p><p id="82b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些信息有什么用？<br/>一旦我们有了TP、NP、FP和FN的计数，我们就可以导出评估分类模型所需的指标。</p><p id="96fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">准确度</strong>:该指标传达了正确预测的比例<br/>准确度= (TP+TN)/(TP+TN+FP+FN) <br/>基于上面显示的混淆矩阵，<br/>准确度=(114+220)/(114+220+40+70)= 0.75<br/>M1模型的准确度为75%，即模型在预测熊为亚洲黑熊时准确度为75%。</p><p id="797f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">精度:</strong>传达正确识别的阳性案例，即当模型Ml预测熊为亚洲黑熊时，模型正确的频率是多少？<br/>精度= TP/(TP+FP) <br/>精度= 114(114+30)= 0.74<br/>M1的精度为74%，即当M1模型将一只熊分类为亚洲黑熊时，其正确率为74%。</p><p id="aa07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">回忆</strong>:正确识别的实际阳性病例比例，即模型正确识别的亚洲黑熊比例？<br/>召回率= TP/(TP+FN) <br/>召回率= 114/(114+70)= 0.619<br/>M1的召回率为61.9 %，即它正确识别了61.9%的亚洲黑熊。</p><p id="d9c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> F1分数</strong>:传达精确度和召回率之间的平衡。虽然它经常不能确定精度是最大化还是召回，但它仍然被用来获得关于精度和召回的组合概念。<strong class="ih hj"> <br/> </strong> F1得分= 2*精度*召回/(精度+召回)<br/> F1得分= 2 * 0.74 * 0.619/(0.74+0.619)<br/>F1得分=0.67</p><p id="ebf2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些指标可用于评估任何分类模型的性能。瞧啊。现在你知道混淆矩阵的重要性了。我希望这篇文章对你有帮助。</p></div></div>    
</body>
</html>