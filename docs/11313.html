<html>
<head>
<title>Introduction to numpy for data science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向数据科学的 numpy 简介</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-numpy-for-data-science-ed1c355bcb6a?source=collection_archive---------21-----------------------#2020-11-28">https://medium.com/analytics-vidhya/introduction-to-numpy-for-data-science-ed1c355bcb6a?source=collection_archive---------21-----------------------#2020-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/f63009705e505a6c6ef44265e85fb5af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dCpG_hnKS_lO3BA_"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Emile Perron 在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="9b51" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为一名数据科学学生，这些年来我的编码风格发生了很大的变化。在这篇文章中，我想帮助你在 numpy 的帮助下写出更快、更干净、更短的代码。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="7ff9" class="ka kb hy bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">数组索引</h1><p id="022b" class="pw-post-body-paragraph iv iw hy ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">..可用于从阵列中选择范围、窗口和样本。索引允许您高效地访问和修改存储在 numpy 数组中的数据，并消除复杂的 for 循环和 if 子句。<a class="ae hv" href="https://numpy.org/doc/stable/reference/arrays.indexing.html" rel="noopener ugc nofollow" target="_blank">在 numpy 中，有基本和高级索引:</a></p><p id="6d6d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">numpy 中的数组可以使用<strong class="ix hz">基本索引</strong>进行切片和步进，就像 python 中已知的那样:<em class="ld"> data[start:end:step]。</em>如果你想从最后一个条目开始索引，你可以为这个索引使用负值。让我给你看几个例子:</p><figure class="le lf lg lh fd hk"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="a356" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">高级索引</strong>是它变得有趣的地方。它帮助您有条件地修改数组元素，并使用索引数组进行复杂的选择。这可以使用布尔掩码或索引广播来完成。</p><p id="7151" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这种情况下，一个非常有用的函数是<a class="ae hv" href="https://numpy.org/doc/stable/reference/generated/numpy.where.html" rel="noopener ugc nofollow" target="_blank"> numpy.where </a>。它返回一个指定条件为真的索引数组。如果您需要对索引进行进一步处理，这将非常有用。例如，如果将数组的索引解释为坐标，则可以对数据执行转换:</p><figure class="le lf lg lh fd hk"><div class="bz dy l di"><div class="li lj l"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="4b0d" class="ka kb hy bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">摆脱循环</h1><p id="2ba1" class="pw-post-body-paragraph iv iw hy ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">numpy 初学者非常频繁地使用循环，因为它们是思考问题最简单的方式。让我们考虑一下<a class="ae hv" href="https://en.wikipedia.org/wiki/Fourier_series#Convergence" rel="noopener ugc nofollow" target="_blank">使用傅立叶级数</a>逼近方波信号的问题:</p><figure class="le lf lg lh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lk"><img src="../Images/098ee11924892d42df0818d4f3a93e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iLrv1PLZL617tstGTDUEXA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">平方信号傅立叶级数近似。</figcaption></figure><p id="f4b8" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们希望实现这个公式来逼近输入值数组<strong class="ix hz"> t </strong>的平方信号。由于 k 上的和的范围是无穷大，所以在本例中我们将其设置为 200。在<strong class="ix hz"> k </strong>上使用 for 循环并对部分结果求和是很诱人的。相反，让我们看看如何在没有循环的情况下做到这一点:</p><figure class="le lf lg lh fd hk"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="086a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种方法最重要的部分是使用<a class="ae hv" href="https://numpy.org/doc/stable/reference/generated/numpy.outer.html" rel="noopener ugc nofollow" target="_blank"> np.outer </a>预先计算所有中间值。这个函数通过执行向量乘法，从大小为<em class="ld"> (n，)</em>和<em class="ld"> (m，)</em>的两个数组中创建一个【T2(n，m)】矩阵。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="d16a" class="ka kb hy bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">在多维数组上循环</h1><p id="aab6" class="pw-post-body-paragraph iv iw hy ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">虽然循环的大部分时间可以而且应该完全避免，但我想强调 numpy 函数<a class="ae hv" href="https://numpy.org/doc/stable/reference/generated/numpy.ndenumerate.html" rel="noopener ugc nofollow" target="_blank">ndenumate</a>用于显式要求循环数组条目的情况。</p><p id="d0ae" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它使你的代码更具可读性，并避免了索引 x 和 y 的常见错误。例如，如果你需要从另一个数组中提取值，它仍然允许你使用坐标。</p><figure class="le lf lg lh fd hk"><div class="bz dy l di"><div class="li lj l"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="8a00" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望这些例子能给你一个用 numpy 学习 python 的良好开端。感谢您的阅读！</p></div></div>    
</body>
</html>