<html>
<head>
<title>Building &amp; Publishing A MS PowerBI COVID-19 Analytics Dashboard Online</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在线构建和发布MS PowerBI新冠肺炎分析仪表板</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-publishing-a-dashboard-online-with-ms-power-bi-a1f76997e114?source=collection_archive---------13-----------------------#2020-08-27">https://medium.com/analytics-vidhya/building-publishing-a-dashboard-online-with-ms-power-bi-a1f76997e114?source=collection_archive---------13-----------------------#2020-08-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii"><div class="bz dy l di"><div class="ij ik l"/></div></figure><p id="0e07" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><a class="ae jj" href="https://app.powerbi.com/view?r=eyJrIjoiZjZmZmVlNWEtOTY3OS00NzUxLTgyNjctN2FmNTlkNTRkMWQwIiwidCI6IjNkZjMzNzhmLWY4ZTItNDYzNy04ZjUxLTkzNDQ3N2Q4OGFkMCIsImMiOjEwfQ%3D%3D&amp;pageName=ReportSection" rel="noopener ugc nofollow" target="_blank">点击下面的链接</a> :-</p><div class="jk jl ez fb jm jn"><a href="https://app.powerbi.com/view?r=eyJrIjoiZjZmZmVlNWEtOTY3OS00NzUxLTgyNjctN2FmNTlkNTRkMWQwIiwidCI6IjNkZjMzNzhmLWY4ZTItNDYzNy04ZjUxLTkzNDQ3N2Q4OGFkMCIsImMiOjEwfQ%3D%3D&amp;pageName=ReportSection" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">电源BI报告</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">由Power BI支持的报告</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">app.powerbi.com</p></div></div></div></a></div><p id="5a1c" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">(【2021年1月编辑 — <em class="jw">注意，图表不再显示“实时”数据，因为ECDC从每日</em> <strong class="in hj"> <em class="jw">切换到每周</em> </strong> <em class="jw">进行新冠肺炎报告，并从12月14日起停止每日更新，有效地“打破”了我设置的自动更新规则。因此，在我想出如何“合并”历史每日和每周数据之前，仪表板只显示2020年的数据</em></p><h2 id="6e4f" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iw ki kj kk ja kl km kn je ko kp kq kr bi translated"><strong class="ak"> <em class="ks"> TLDR版:</em> </strong></h2><p id="5942" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated"><em class="jw"> Power BI是一款出色的工具，具有一系列有用的“开箱即用”功能，应该适合大多数标准数据可视化和分析任务。一大优势是友好的学习曲线，特别是如果你已经熟悉Excel和一些基本的SQL。</em></p><p id="52b3" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><em class="jw">如果你刚开始接触PBI，我的建议是:</em></p><p id="d489" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><em class="jw"> 1。让你的数据模式尽可能的简单</em><strong class="in hj"><em class="jw"/></strong><em class="jw">——相信我，这将会为你省去悲伤，避免以后复杂的DAX查询</em></p><p id="c495" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><em class="jw"> 2。了解DAX是如何工作的，尤其是它如何评估上下文/行过滤器——DAX是一个强大的工具，但如果你没有正确理解它能做什么和不能做什么，就很容易出错… </em></p><p id="04ae" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><em class="jw"> 3。发展你的“数据故事”(例如，你是否表现出一种趋势？对比类别？)在构建视觉效果之前(少即是多！)</em></p><p id="4265" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><em class="jw"> 4。考虑您希望用户如何与仪表板交互——PBI非常适合可视化数据，但如果您希望用户主动“添加/编辑”底层数据，就不那么简单了</em></p><h2 id="c52b" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iw ki kj kk ja kl km kn je ko kp kq kr bi translated"><strong class="ak">概要</strong></h2><ol class=""><li id="6b08" class="ky kz hi in b io kt is ku iw la ja lb je lc ji ld le lf lg bi translated"><a class="ae jj" href="#3c79" rel="noopener ugc nofollow">简介&amp;动机</a></li><li id="b173" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#73c5" rel="noopener ugc nofollow">用电源BI启动</a></li><li id="42f7" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#68e8" rel="noopener ugc nofollow">将源数据拉入Power BI </a></li><li id="4bec" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#a6c0" rel="noopener ugc nofollow">清理数据&amp;建立数据模型</a></li><li id="47e5" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#ee04" rel="noopener ugc nofollow">构建可视化报告</a></li><li id="6f1a" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#4d39" rel="noopener ugc nofollow">通过假设参数和自定义Python可视化创建“用户交互式”曲线</a></li><li id="1312" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#0f72" rel="noopener ugc nofollow">(不成功)尝试在Power BI中创建求解器/优化器</a></li><li id="bebc" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#7800" rel="noopener ugc nofollow">探索PBI网络服务</a></li><li id="6f7b" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#b33e" rel="noopener ugc nofollow">结论</a></li><li id="c144" class="ky kz hi in b io lh is li iw lj ja lk je ll ji ld le lf lg bi translated"><a class="ae jj" href="#9b75" rel="noopener ugc nofollow">其他学习资源</a></li></ol><h2 id="3c79" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iw ki kj kk ja kl km kn je ko kp kq kr bi translated">1.简介和动机</h2><p id="2a2a" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">那些在LinkedIn上关注我的人可能记得我在2020年6月在马来西亚/新加坡的COVID19危机最严重时发表的一篇帖子，我在那里建立了一个简单的基于excel的仪表板，从公共来源提取数据以可视化一些指标</p><div class="jk jl ez fb jm jn"><a href="https://www.linkedin.com/posts/eu-zhijing-25a4362_covid19-excelvba-programming-activity-6650804059026620416-Lsfd" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">欧志敬在LinkedIn上发帖</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">对于那些在LinkedIn上关注我的帖子的人来说，我想这是锁定“幽居病”的第二部分——还有额外的…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">www.linkedin.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr ls jn"/></div></div></a></div><p id="bb58" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">从那以后，在过去的几个月里，我学习了一些微软PowerBI，一种数据可视化/分析工具，并在Power BI中重新构建了相同的仪表板，并在网上发布了它(是的，我提前道歉，因为我没有选择除新冠肺炎之外的更令人振奋的主题，但在我已经拥有的基础上进一步构建很方便)。</p><p id="afc1" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我最初尝试了其他类似的工具，如<a class="ae jj" href="https://improvado.io/blog/tableau-vs-looker-vs-power-bi-vs-google-data-studio-vs-bigquery" rel="noopener ugc nofollow" target="_blank"> Tableau，甚至谷歌云的数据工作室</a>，但PowerBI的优势在于它与Excel类似的“外观&amp;感觉，这使得它相对容易上手，并且与所有“开箱即用”的viz/analytics包一样，它的学习曲线比试图通过<a class="ae jj" href="https://d3js.org" rel="noopener ugc nofollow" target="_blank"> D3.js </a>或Python的<a class="ae jj" href="https://docs.bokeh.org/en/1.0.0/#:~:text=Bokeh%20is%20an%20interactive%20visualization,modern%20web%20browsers%20for%20presentation.&amp;text=Bokeh%20can%20help%20anyone%20who,start%20with%20the%20User%20Guide" rel="noopener ugc nofollow" target="_blank"> Bokeh </a>等“DIY”自己的可视化更友好</p><p id="12c7" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">本文的其余部分是一个教程，涵盖了我从构建到发布报告/仪表板的所有步骤，以及我在使用DAX (PBI公式和查询语言)和数据建模时学到的一些东西。希望开始使用MS Power BI的其他数据爱好者会发现这很有帮助。</p><h1 id="73c5" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 2。用电源BI启动</strong></h1><p id="15f8" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">用户通常在Power BI桌面版(可以从本地PC运行)中构建报告。完成报告后，您可以将报告发布到Power BI (Web)服务上，然后可以与其他人共享(或公开发布——稍后将详细介绍)。还有一个PowerBI移动应用程序，允许用户在他们的设备上查看报告。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es mk"><img src="../Images/c643fad2b90e23dd3608418540677423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p3DL8Gt057CKiKcgvotvXw.png"/></div></div></figure><p id="d18b" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">下载Power BI Desktop比较不痛苦，官网上有<a class="ae jj" href="https://powerbi.microsoft.com/en-us/downloads/" rel="noopener ugc nofollow" target="_blank">https://powerbi.microsoft.com/en-us/downloads/</a></p><p id="292e" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然而，棘手的是注册PowerBI网络服务，因为微软不允许你通过消费者电子邮件服务公司提供的电子邮件地址注册。这是不方便的，因为桌面版本工作良好，但你不能与任何人分享你的报告，除非你发送PBIX文件本身(这意味着收件人必须有自己的PBI)。此外，还有一些仅在Web服务版本中可用的可视化/功能。</p><p id="f46e" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">值得庆幸的是，我从GoDaddy那里买了一个独立的域名，还附带了一封电子邮件(我用它建立了一个博客——以后会详细介绍)。因此，我可以直接注册一个新帐户。</p><p id="94eb" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">幸运的是，还有其他解决办法，比如你可以注册Office365的试用版，或者如果你已经有了Azure(微软的云服务)，你可以设置一个Azure Active Directory。更多细节请见下面的视频</p><figure class="ml mm mn mo fd ii"><div class="bz dy l di"><div class="ij ik l"/></div></figure><h1 id="68e8" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 3。将源数据拉入PowerBI </strong></h1><p id="a6a3" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">对于那些在Excel中使用过Power Query和Power Pivot的人来说，您应该会觉得这很熟悉，因为PowerBI也使用Power Query。</p><p id="18b9" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">COVID19病例数据来自欧洲疾病控制中心的网站，我是带着CSV文件去的。股市数据来自雅虎财经(也是CSV格式)</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es mu"><img src="../Images/25414f82b9f7e8c3cfabe8502330689f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vp8-02sQnWrZ2Px1Wb-9ow.jpeg"/></div></div></figure><p id="4d29" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">请记住设置权限，因为我将这些权限设置为Credentials = Anonymous和Privacy = None，但是当我稍后尝试刷新数据时，数据偶尔会加载不正确。将隐私级别设置为公开似乎已经解决了这个问题，但不确定这是否是巧合。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div class="er es mv"><img src="../Images/74436029e9130af0d91c31205bd0053c.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*TvHxoJ1INryPKf1sN1vZmA.jpeg"/></div></figure><p id="250f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">接下来，我<strong class="in hj">面临一个问题:</strong>雅虎财经一次只允许你查询一个市场(也就是说，你不能在一个请求中同时获取多个市场的数据)。在仪表板的原始Excel版本中，我动态地一次提取“一个国家”的股票交易数据，并在用户每次刷新国家选择时覆盖它(通过Excel宏)</p><p id="21c2" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我在PowerBI中寻找一种等效的方法，一次只能“加载”一个国家的股票市场数据，并在用户每次选择不同的国家时更新表格。虽然看起来确实有一种方法可以设置“查询参数”来允许用户动态地更改查询，但只有当用户同时拥有PBIX文件和Power BI桌面时，这种方法才有效。</p><div class="jk jl ez fb jm jn"><a href="https://community.powerbi.com/t5/Desktop/End-User-ability-to-change-SQL-query-parameters/td-p/888862" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">最终用户更改SQL查询参数的能力</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">嗨，我喜欢使用Microsoft Query的几个原因之一是可以把一个？在查询中…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">community.powerbi.com</p></div></div><div class="lm l"><div class="mw l lo lp lq lm lr ls jn"/></div></div></a></div><p id="2953" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">不幸的是，在发布Power BI报告后，似乎没有简单的方法来“动态地”<em class="jw">更改数据源，因为所有报告都引用一个公共数据集(这意味着您必须首先加载所有数据源)。最后，我放弃了这种方法，只是单独提取了几个关键的东盟市场的股票信息，而不是变得太聪明。</em></p><p id="5365" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">(稍后在第6.0节你会看到一个类似的问题<a class="ae jj" href="#4d39" rel="noopener ugc nofollow">，我试图让用户‘改变’曲线的参数，并动态地‘实时’反映出来)</a></p><p id="3ea0" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">最后一步是确保数据保持最新，但是您只能在Power BI Web服务上做到这一点，因此我将在稍后的<a class="ae jj" href="#7800" rel="noopener ugc nofollow">第8.0节</a>中介绍这一点</p><h1 id="a6c0" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 4。清理数据&amp;构建数据模型以“链接”表格</strong></h1><p id="7a94" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">唉，这并不像将所有东西都放入Power BI并希望在您创建可视化时东西会自己整理出来那么简单。</p><p id="7f7b" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">第一步非常简单，我在从Yahoo Finance提取的各个数据表中添加了股票交易所名称、国家名称(与ECDC数据集中的标签一致)和货币的新列</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es mx"><img src="../Images/9d71ca613c60294cffa784aa4e6569f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aceDbRH_xKc9V4yS6-N9xw.jpeg"/></div></div></figure><p id="2672" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然后，我创建了一个新表，并使用UNION函数合并了各种股票交易数据表。(这也是一样的。为任何熊猫爱好者添加)</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es my"><img src="../Images/c202b7d6e17df31d7d8ca31ae3d7c2a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N55chPAWkAKC0uQ53xGDbQ.jpeg"/></div></div></figure><p id="15bf" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">当时的诀窍是找到一种方法，确保如果我稍后为国家或日期设置过滤器，ECDC数据和股票交易数据会“一起移动”。如果您试图将这两个表链接在一起，您会发现由于许多行具有重复的日期(代表不同的国家),这会导致多对多关系不起作用。此外，因为两个表之间只能有一个活动链接，所以我也不能链接“countriesAndTerritories”字段。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es mz"><img src="../Images/1d0140ff1a855ac1486004eb26336b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7g5Rkzqyz27j7sJXc-7zXA.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">不要这样做！这是行不通的</figcaption></figure><p id="02dd" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我一直在寻找可以将数据转换成最简单形式的解决方案，即<a class="ae jj" href="https://en.wikipedia.org/wiki/Star_schema" rel="noopener ugc nofollow" target="_blank">星型模式</a>，但是我不想把现有的表分割开来，所以我最终选择了使用两个“事实表”,为“<a class="ae jj" href="https://docs.microsoft.com/en-us/power-bi/guidance/model-date-tables" rel="noopener ugc nofollow" target="_blank">日期</a>和“国家”构建两个独立的新维度表，并像这样将它们连接起来</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ne"><img src="../Images/abb28244cd6debe2852b45e458b15665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wt7Jg0RoZMSOja-csaq3kQ.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">改为这样做！</figcaption></figure><p id="0556" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我不确定，但它看起来很像一些人所说的<a class="ae jj" href="https://www.geeksforgeeks.org/fact-constellation-in-data-warehouse-modelling" rel="noopener ugc nofollow" target="_blank">“星系”模式或“事实星座”</a>(谁想出这些名字的？！)其中有多个事实表链接到同一个维度表。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es nf"><img src="../Images/9aee46993fa06d9f5d66f65a3e373a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCQ4kJJwCtYo3UYGlZ9qOQ.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated"><a class="ae jj" href="https://www.geeksforgeeks.org/fact-constellation-in-data-warehouse-modelling/" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/fact-constellation-in-data-warehouse-modeling/</a></figcaption></figure><p id="4249" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">显然这并不理想，因为它很难维护，并且可能导致需要运行复杂的查询。然而，为了演示PBI，当我在一些简单的可视化上测试它时，我设置的似乎是有效的，所以我坚持使用它。</p><h1 id="ee04" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 5。建立可视化和其他杂项功能(制作重置按钮)</strong></h1><p id="60c6" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">我的目标不是任何太花哨或复杂的东西，所以我用了一组简单的图表来显示不同的指标(COVID19病例和死亡以及股票市场信息，其中所有图表都通过相同的切片器控制，用于选择国家和日期范围，并水平对齐。</p><p id="b330" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我最初想把所有的东西都放在一个单一的图表中(例如，每日的、累积的案例和股票市场变动)，但是我认为这会变得非常混乱，尤其是如果用户选择多个国家的话。</p><p id="f80b" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然而，我也开始注意到一些非常奇怪的行为，如果我使用折线图和簇状柱形图，折线图只能反映所有类别的总和。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ng"><img src="../Images/21a03611891a15b39a94eac4ea2c2ce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O0XKClKDMCWGaLNHpWGdSQ.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">我不想要黄线——我想要下面的三条线和同一个图中聚集的列:(</figcaption></figure><p id="8b56" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">显然没有多线簇柱形图——快速搜索表明我不是第一个问这个问题的人。有一个解决方案，涉及添加一个“措施”与一些DAX公式，但它看起来像你必须为每个类别添加它！因此，最后我只是用单独的图表显示了累计和每日病例数。</p><div class="jk jl ez fb jm jn"><a href="https://community.powerbi.com/t5/Desktop/Clustered-column-amp-2-lines-with-same-series-TY-amp-LY/td-p/57399" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">具有相同系列的簇状列&amp; 2行(TY &amp; LY)</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">你好，我是一名商务智能新手，正在尝试创建一份报告。我有一个基于相同数据的excel图表(实线= TY…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">community.powerbi.com</p></div></div><div class="lm l"><div class="nh l lo lp lq lm lr ls jn"/></div></div></a></div><p id="9693" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">接下来，我还添加了一个“重置过滤器”按钮。虽然PBIX有一个很好的功能，允许您在单击单个数据点时“切片/切块”您的数据，以查看它与其他图表的关系，但当打开选择时，它可能会让报表查看者感到相当困惑和混乱。</p><p id="88c3" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">创建一个“重置过滤器”按钮非常简单，因为你只需要进入查看&gt;并检查书签窗格。在书签窗格中，创建一个新书签，并在设置了当前报表中所需的任何默认视图后更新它。在按钮中，只需设置“操作”来链接书签。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ni"><img src="../Images/d4a21c19c5cce3cf9edc44958ed93b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8cxJ6svi5Z14fhqjO11nw.jpeg"/></div></div></figure><h1 id="4d39" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 6。创建“用户交互式”曲线</strong></h1><h2 id="12b0" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iw ki kj kk ja kl km kn je ko kp kq kr bi translated"><strong class="ak"> 6.1使用Power BI What If参数</strong></h2><p id="f42f" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">在仪表板的Excel版本中，我有一个功能，用户可以更改构成逻辑增长或SIR模型曲线的参数，以可视化估计病例与实际病例数的比较。</p><p id="e8f9" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">事实证明，用PowerBI做这件事要复杂得多，因为从根本上来说，它是一个查询数据源的工具，通过过滤掉值等来转换数据源，或者从数据中创建新的calcs，然后显示/可视化它。您不能直接在数据源中修改值。</p><p id="e15a" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">所以我不得不做了一些调查，发现有一种使用PowerBI 中的<a class="ae jj" href="https://docs.microsoft.com/en-us/power-bi/transform-model/desktop-what-if#:~:text=Starting%20with%20the%20August%202018,tab%20in%20Power%20BI%20Desktop" rel="noopener ugc nofollow" target="_blank"> What-If参数的变通方法。</a></p><div class="jk jl ez fb jm jn"><a href="https://docs.microsoft.com/en-us/power-bi/transform-model/desktop-what-if#:~:text=Starting%20with%20the%20August%202018,tab%20in%20Power%20BI%20Desktop" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">使用假设参数可视化变量- Power BI</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">从2018年8月发布的Power BI Desktop开始，您可以为您的报告创建假设变量，进行交互…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">docs.microsoft.com</p></div></div><div class="lm l"><div class="nj l lo lp lq lm lr ls jn"/></div></div></a></div><p id="edab" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">这些通常有助于创建用户可以直接更改的变量，并且可以与模型中的数据结合使用来进行计算。典型的例子是为折扣%设置一个假设参数，然后您可以使用该参数乘以零售价格，用户可以动态地看到给定更多或更少的折扣%对总收入等的影响。</p><p id="d8ff" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然而，我需要一些更复杂的东西，我想绘制一个图表，通过一个叫做逻辑增长曲线的函数来表示估计的病例数</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es nk"><img src="../Images/8a603222813e0a663361b499133458ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y24JNyKqMidryELQtrqKCg.png"/></div></div></figure><div class="jk jl ez fb jm jn"><a href="https://en.wikipedia.org/wiki/Logistic_function" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">物流功能</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">逻辑函数或逻辑曲线是一种常见的S形曲线(sigmoid曲线),其中=的值…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">en.wikipedia.org</p></div></div><div class="lm l"><div class="nl l lo lp lq lm lr ls jn"/></div></div></a></div><p id="b162" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">遗憾的是，Power BI的设计不允许用户在报告或仪表板中输入/编辑底层数据。Power BI主要是一种提取、转换和可视化数据的工具，它不允许用户“交互和改变”数据本身(即改变行或列中的值，而不仅仅是过滤掉它们)。这就是所谓的<a class="ae jj" href="https://poweronbi.com/2018/01/write-back-options-in-power-bi" rel="noopener ugc nofollow" target="_blank">【回写】</a>问题。<a class="ae jj" href="https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/powerapps-custom-visual#:~:text=Power%20BI%20enables%20data%20insights,make%20changes%20to%20your%20report" rel="noopener ugc nofollow" target="_blank">它可以使用另一个微软工具(Power Apps) </a>来实现，但是<a class="ae jj" href="http://youtube.com/watch?v=LxuRzj0X348" rel="noopener ugc nofollow" target="_blank">它需要一些额外的工作</a>(编辑——观看演示！<a class="ae jj" href="https://www.youtube.com/watch?v=us0hPFwQ4Zs" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=us0hPFwQ4Zs</a></p><p id="5394" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">值得庆幸的是，在浏览了一些在线论坛后，我发现了一种相对简单的方法，可以根据用户输入自动“即时”编辑曲线，而不必求助于PowerApps或任何复杂的编码。</p><p id="096d" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">首先，我设置了反映L、Xo、k值的假设分析参数，这将创建一个新的度量值，并在报告上创建一个与参数值相关联的切片器。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es nm"><img src="../Images/caeebffd4374e3cf892332fd2b45a9f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Bli-updyAV0pGXKA-wI4w.jpeg"/></div></div></figure><p id="1c01" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">之后，我创建了一个新表，其中只有一堆与ECDC日期范围相匹配的日期，并创建了两个新的度量标准——第一个是计算“自感染波开始以来的天数”,它被用作逻辑曲线中的“X”值。</p><pre class="ml mm mn mo fd nn no np nq aw nr bi"><span id="66ca" class="jx jy hi no b fi ns nt l nu nv">LogisticCurveDays =</span><span id="e627" class="jx jy hi no b fi nw nt l nu nv">VAR StartDay=INT(SUMX(LogisticCurveEst,LogisticCurveEst[DaysFrom1Jan2020]-'LogisticCurve - Start Day(From1Jan20)'))</span><span id="d802" class="jx jy hi no b fi nw nt l nu nv">RETURN IF(StartDay&lt;0,0,StartDay)</span></pre><p id="d031" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">另一个用来反映逻辑曲线本身</p><pre class="ml mm mn mo fd nn no np nq aw nr bi"><span id="4470" class="jx jy hi no b fi ns nt l nu nv">Estimated Cumulative Cases = </span><span id="eea1" class="jx jy hi no b fi nw nt l nu nv">'LogisticCurve - Est Max Cum Cases L'[LogisticCurve - Est Max Cum Cases L Value] / <br/>(1 + EXP(-'LogisticCurve - Steepness k'[LogisticCurve - Steepness k Value]*([LogisticCurveDays]- 'LogisticCurve - Mid Point Xo'[LogisticCurve - Mid Point Xo Value])))</span></pre><p id="56d1" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我遇到的问题是，我找不到一个令人满意的将逻辑曲线日期字段与“日期”维度表“链接”起来的方法。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es nx"><img src="../Images/aefa37e52682b5ba65efad8cba424462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOQUp49FnAx28yqH4zUCyQ.jpeg"/></div></div></figure><p id="87fc" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">当我把它们联系起来时，就产生了一种奇怪的行为，因为逻辑曲线日期是一对一的关系。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ny"><img src="../Images/38930aa72ed175cc6ebe2aa039fc34f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nkmyjry4VdWGlEFNSaoBBQ.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">顶部图表正确显示了Jun截止值，但底部图表显示为零(因为它是使用“测量”而不是“计算列”计算的)，但不会自动调整x轴刻度以匹配。</figcaption></figure><p id="f8e8" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">因此，只要切片器范围早于市场或ECDC表中的最后一天，逻辑曲线估计值就会被“截止”</p><p id="6e07" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">最后，我决定，因为我从来没有在逻辑曲线和市场数据之间使用任何链接，我可以直接将逻辑曲线与ECDC数据链接，作为一个“维度表”。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es nz"><img src="../Images/334a15ff5d32aaf3af0011841d58b10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lcfXaTx1swjIC4GG2cD9Vg.jpeg"/></div></div></figure><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es oa"><img src="../Images/1fe86403df95d481ed578f1e5d8f7a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTPIP2AtO8DVWAbIIYVBNw.jpeg"/></div></div></figure><p id="73f4" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">问题是我不能在同一个图表上同时标出估计的和实际的累积病例数。不知何故，因为我使用了逻辑曲线表中的日期作为X轴，它打乱了实际累积病例的计算方法(它出来很小)</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ob"><img src="../Images/21aac92a0a2d7798c48c73a7538e3c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rIygY8-ghNdcCx9s9M4tAA.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">底部和顶部图表中的实际累积案例并不匹配，因为过滤器上下文(我认为…)</figcaption></figure><p id="1520" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然后我意识到，与创建一个新表并与ECDC数据表建立关系相比，更简单的方法是直接在ECDC数据表中复制相同的度量——完全避开这个问题！(<em class="jw">注意——如果您想在跟随</em>时自己试验和复制误差，我在PBIX文件中留下了独立的逻辑曲线表</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es oc"><img src="../Images/804a04dd8e83f82d3188aa16aa13df02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eqdJaseKLhOKfkOr8XvQlw.jpeg"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated">我创建了相同的度量，但这次是直接在ECDC表中，而不是在链接表中</figcaption></figure><h2 id="595f" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iw ki kj kk ja kl km kn je ko kp kq kr bi translated">6.1使用自定义Python视觉效果</h2><p id="4f02" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">仪表板Excel版本的SIR模型在Power BI中的复制比我预期的要困难得多。</p><p id="833f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">回到SIR计算使用微分方程的事实，该微分方程引用先前时间步长中的值。在Excel中，这是一个简单直接的工作，我只需根据系列的前一行为系列的下一行设置一个公式，如下图所示。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div class="er es od"><img src="../Images/24071b687a11016da542e5b765c06950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*tFYluw4WHsCpOnzy2DTtkA.png"/></div><figcaption class="na nb et er es nc nd bd b be z dx translated"><em class="ks">每一行都引用上一行的值，即‘递归’</em></figcaption></figure><p id="4b66" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">奇怪的是，这在DAX中是不可能的</p><div class="jk jl ez fb jm jn"><a href="https://community.powerbi.com/t5/Community-Blog/Previous-Value-Recursion-in-DAX/ba-p/638320" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">DAX中的前一个值(“递归”)</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">引言首先，我要明确一点，DAX中没有真正的递归。尽我所能，相信我，我已经尽力了…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">community.powerbi.com</p></div></div></div></a></div><p id="a57e" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">根据问题的确切性质，有许多用户试图用不同的解决方案来“解决”问题:</p><p id="4afd" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">a)对于<strong class="in hj">列引用的只是一个递增的数字</strong>(例如Y= aX + C)的情况，解决方案相当简单——创建一个带有<a class="ae jj" href="https://docs.microsoft.com/en-us/dax/generateseries-function" rel="noopener ugc nofollow" target="_blank"> GENERATESERIES </a>的“辅助”索引列，其中的公式将引用索引值(类似于我在前面的逻辑增长函数中所做的)</p><p id="5568" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">b)对于函数需要<strong class="in hj">访问另一列</strong>中的前一行的情况，使用具有<a class="ae jj" href="https://docs.microsoft.com/en-us/dax/earlier-function-dax" rel="noopener ugc nofollow" target="_blank">更早</a>函数的过滤器</p><div class="jk jl ez fb jm jn"><a href="https://community.powerbi.com/t5/Desktop/Reference-Previous-Value-in-adjacent-column/td-p/406875" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">引用相邻列中的先前值</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">在Power BI台式机中...我有一个包含价格的列，我想创建一个显示+号或…的新列</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">community.powerbi.com</p></div></div><div class="lm l"><div class="oe l lo lp lq lm lr ls jn"/></div></div></a></div><p id="0b73" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">c)对于具有“自连接”特征的<strong class="in hj">列</strong>(例如，显示组织报告关系的常见问题)，您可以使用父子层次结构模式，将层次结构展平为多个列或某种形式的查找+索引+路径公式</p><div class="jk jl ez fb jm jn"><a href="https://powerobjects.com/2019/08/13/self-referencing-columns-in-power-bi/" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">Power BI中的自引用列</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">使用大数据时，您有时会遇到需要利用业务能力的情况…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">powerobjects.com</p></div></div><div class="lm l"><div class="of l lo lp lq lm lr ls jn"/></div></div></a></div><p id="518f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">d)对于<strong class="in hj">函数是自引用/复杂但“静态”</strong>(即不改变)的情况，使用<a class="ae jj" href="https://docs.microsoft.com/en-us/powerquery-m/list-generate" rel="noopener ugc nofollow" target="_blank">列表。甚至在数据进入PowerBI之前，用Power Query的M语言生成</a>,在Power bi中，您可以设置需要这种“自引用”特性的更复杂的公式</p><div class="jk jl ez fb jm jn"><a href="https://powerpivotpro.com/2016/02/reviewlist-generate-create-tables-thin-air-power-bi-m/" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">列表。Generate():用M在Power BI中凭空创建表！P3</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">公告更新:对于那些错过网上研讨会公告的人:朋友们，临时通知，但大约2小时后…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">powerpivotpro.com</p></div></div><div class="lm l"><div class="og l lo lp lq lm lr ls jn"/></div></div></a></div><p id="01c3" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">不幸的是，这些都不适合我的用例，我的用例是一个引用自身的列(不是另一个列),并且需要是动态的，以便用户可以更改一些参数并立即可视化新图形。因此，我最终放弃了“原生”Power BI解决方案，转而使用……Python！</p><p id="e63f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">PowerBI有一个特性，允许您运行Python脚本来定制视觉效果</p><div class="jk jl ez fb jm jn"><a href="https://docs.microsoft.com/en-us/power-bi/connect-data/desktop-python-visuals" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">在Power BI桌面中使用Python创建Power BI视觉效果</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">借助Power BI Desktop，您可以使用Python来可视化您的数据。完成Power BI中的运行Python脚本…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">docs.microsoft.com</p></div></div><div class="lm l"><div class="oh l lo lp lq lm lr ls jn"/></div></div></a></div><p id="ca3e" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">因此，我从这个网站改编了<a class="ae jj" href="https://scipython.com/book/chapter-8-scipy/additional-examples/the-sir-epidemic-model/" rel="noopener ugc nofollow" target="_blank">代码，并在自定义Python可视化中添加了SIR模型参数。</a></p><figure class="ml mm mn mo fd ii er es paragraph-image"><div class="er es oi"><img src="../Images/55bc943d92248e415dc6833baff78be8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*OohgKq7pAP-eEHK1PHTovQ.gif"/></div><figcaption class="na nb et er es nc nd bd b be z dx translated"><em class="ks">我本地电脑上Power BI Desktop的屏幕截图</em></figcaption></figure><p id="a509" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">因此，我完全避开了这个问题，因为我使用了具有处理微分方程功能的Scipy库来计算SIR值，然后将它与来自ECDC网站的日常案例的实际值一起绘制。</p><p id="41ed" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">然而，在你过于兴奋之前——对我来说真正令人沮丧的是，我不能展示我的工作，因为PowerBI只允许“专业”订户发布带有自定义Python视觉效果的报告。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es oj"><img src="../Images/8ffda690bf5b707216d7753d53f5fbe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GMXPNU9Vg5u618-YtfLSZQ.png"/></div></div><figcaption class="na nb et er es nc nd bd b be z dx translated"><em class="ks">显然我浪费了大约3-4个小时:(Python可视化只支持“专业”用户！</em></figcaption></figure><p id="6984" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">(无论如何，原生pbix文件和Python脚本都在github repo中，如果您想在自己的机器上尝试的话)</p><p id="2780" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">总结一下这一节，DAX是一个非常强大的工具，一旦你掌握了它的窍门(如果你将它与Excel的HLOOKUP/VLOOKUP/INDEX MATCH功能 ) <strong class="in hj">相比，它就像一把武士刀和一把黄油刀，不要试图用它来做一些不是为</strong> ( <em class="jw">)设计的事情，这就像用武士刀敲钉子，然后抱怨它是一把可怕的锤子</em> ) <strong class="in hj"/></p><p id="3a89" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">作为一个刚开始使用PowerBI的人，我发现重要的关键概念是:</p><ul class=""><li id="407d" class="ky kz hi in b io ip is it iw ok ja ol je om ji on le lf lg bi translated">DAX如何评估公式，如过滤器/行上下文等</li><li id="cc17" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">如何使用迭代器(例如SUMX)进行逐行计算，而SUM只考虑总列</li><li id="ef5c" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">计算列和度量值之间的差异</li><li id="79a3" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">通常，您可能还需要迭代到您的数据模型/模式上(例如，什么数据存储在哪个表上以及如何相关),因为修复数据模型可能比编写超级复杂的DAX查询更快</li><li id="680f" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">DAX真的不喜欢“递归”计算，所以像循环或“自引用”公式这样的东西很难在PowerBI中“复制”</li></ul><h1 id="0f72" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated">7.(不成功)尝试在PowerBI中创建求解器/优化方法</h1><p id="893c" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">差不多了…我想看看是否有一种方法可以使用PowerBI来运行类似Excel的规划求解插件，在最初的Excel仪表板中，我使用它来通过改变k、Xo、start和L值来最小化误差项。遗憾的是，PowerBI中没有“开箱即用”的东西。</p><p id="027f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">前线求解器(为Excel制作求解器功能的公司)<a class="ae jj" href="https://www.solver.com/blog/analytic--magic-power-bi" rel="noopener ugc nofollow" target="_blank">好像有解决方案</a>。我承认，它看起来很光滑，但遗憾的是，要获得它，你需要支付约250美元/年的解析求解订阅，所以我给了它一个通行证。</p><figure class="ml mm mn mo fd ii"><div class="bz dy l di"><div class="ij ik l"/></div></figure><p id="25b1" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">一些文章似乎表明，用定制Python或R脚本做类似的事情是可能的</p><div class="jk jl ez fb jm jn"><a href="https://radacad.com/optimization-problem-in-power-bi-using-r-scripts-part-3" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">使用R脚本的Power BI中的优化问题:第3部分- RADACAD</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">正如我之前讨论过的，R不仅仅是用来做机器学习的(尽管它是一个非常好的工具)，它…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">radacad.com</p></div></div><div class="lm l"><div class="oo l lo lp lq lm lr ls jn"/></div></div></a></div><p id="d107" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">挑战在于我找不到Python的等价例子。我曾经使用过一些可以进行线性编程的Python库(<a class="ae jj" href="https://www.scipy.org/" rel="noopener ugc nofollow" target="_blank"> SciPy </a>和<a class="ae jj" href="https://pypi.org/project/PuLP/" rel="noopener ugc nofollow" target="_blank"> PulP </a>)，但问题是，这个问题是针对逻辑增长曲线的优化，这是一个非线性问题。</p><p id="09cd" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">考虑到这变得有多复杂，我把这个特性留到仪表板的未来更新中。</p><h1 id="7800" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 8。探索Power BI Web服务&amp;创建嵌入代码</strong></h1><p id="2caa" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">完成报告后，我将它“发布”到了Power BI的web服务上。(注意—每当您将报告从PowerBI Desktop“发布”到Power BI Web服务时，它都会创建一个内容(例如报告/仪表板)并分离一个数据集“文件”,而在Power BI Desktop版本中，这些内容位于一个PBIX文件中)</p><p id="0a7c" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">值得探索web服务版本的PowerBI，因为它有一些桌面版本所没有的特性。我特别喜欢快速洞察功能。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es op"><img src="../Images/e8e0e972dcdb228eca265af28e2dd666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VbBQzuLpJ4MkmPV7ReZy7w.jpeg"/></div></div></figure><p id="b239" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">虽然在这个数据集中这一点相当明显(即案例随着时间的推移而增加——咄) ,但是如果您有其他多维数据集，这个特性就相当方便了。</p><p id="15cd" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">网页版也有一个问答小部件，你可以添加它，允许用户用自然语言“问”问题。</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es oq"><img src="../Images/4f95b3d18c9a08e7c6c5441c8dad7062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1dPf10ArINkgQXeNve58Ug.jpeg"/></div></div></figure><p id="3140" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">它非常简洁，因为用户只需输入一个自由格式的问题，PowerBI会尝试“解析”它以返回相关数据，而无需用户自己构建图表</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es or"><img src="../Images/d049b0abfb3fa3b6d2f9047017a19e5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DDK94LNF3XB9-TVjZPvHrg.png"/></div></div></figure><p id="7cd8" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">令人沮丧的是，当您实时发布报告时，问答功能似乎不起作用。(似乎只有专业/高级用户才有<a class="ae jj" href="https://docs.microsoft.com/en-us/power-bi/consumer/end-user-q-and-a" rel="noopener ugc nofollow" target="_blank"/>)</p><p id="cf05" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我前面提到过，但是Power BI Web服务也是您指定计划刷新的地方，这样您就可以保持您的数据集和报告是最新的。您可以通过进入数据集&gt;设置&gt;数据集&gt;计划刷新来完成此操作</p><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es os"><img src="../Images/28a2dff7f9ce6f055adf98da1ac195c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qmwGrL4KQ9LPEhE7DlpBEw.png"/></div></div></figure><p id="dc66" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">诚然，对于我构建的简单报告来说，它相对简单，因为数据只需每天更新。在实践中，大多数报告更有可能是从数据管道构建的(其中数据是实时传输的)，这可能会非常复杂。如果你感兴趣，我建议通读一下<a class="ae jj" href="https://docs.microsoft.com/en-us/power-bi/connect-data/refresh-data" rel="noopener ugc nofollow" target="_blank">官方文档</a>，以便更好地理解如何应对快速变化的数据或更新频率不同的不同来源。</p><p id="e9ce" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">(【2021年1月编辑 — <em class="jw">注意，ECDC从每日</em> <strong class="in hj"> <em class="jw">切换到每周</em> </strong> <em class="jw">进行新冠肺炎报道，并从12月14日起停止每日更新，有效地“打破”了我之前设置的自动更新规则。因此，在我想出如何“合并”历史每日和每周数据之前，仪表板只显示2020年的数据</em></p><p id="01f8" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">所以不管怎样，回到主要目标，为了让你的最终报告在公共互联网上可见，你需要得到一个如下的嵌入代码。</p><div class="jk jl ez fb jm jn"><a href="https://docs.microsoft.com/en-us/power-bi/collaborate-share/service-publish-to-web" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd hj fi z dy js ea eb jt ed ef hh bi translated">从Power BI发布到web-Power BI</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">借助Power BI发布到web选项，您可以轻松地将交互式Power BI内容嵌入博客帖子、网站…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">docs.microsoft.com</p></div></div><div class="lm l"><div class="ot l lo lp lq lm lr ls jn"/></div></div></a></div><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ou"><img src="../Images/e3565ad0966a16bebef4869507ae549b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GiCqF8n_lSIztmB2_JOlOw.jpeg"/></div></div></figure><figure class="ml mm mn mo fd ii er es paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="er es ov"><img src="../Images/19cd41c2b0e4816a039dc3bfb64ff052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xer4Sux5iUQCeD6kFM0x-w.jpeg"/></div></div></figure><p id="7c11" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">一旦有了它，您就可以将报告作为iframe [ <em class="jw">嵌入，我会在本文中这样做，但是Medium不允许您嵌入i-framess :( </em>)或者共享一个超链接，链接到Power BI自动为您托管的报告的新创建页面。</p><p id="a15a" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">这就把我带到了示例的结尾，但是仍然有许多功能我还没有完全探索，因为我的意图只是构建一个演示报告</p><h1 id="b33e" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated"><strong class="ak"> 9。结论</strong></h1><p id="6701" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">在本文中，我概述了在PowerBI中重新创建Excel仪表板并在线发布的各个步骤。</p><p id="c812" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">我在学习PowerBI时的个人思考总结</p><ul class=""><li id="07dc" class="ky kz hi in b io ip is it iw ok ja ol je om ji on le lf lg bi translated">Power BI的DAX查询语言是一个非常强大的工具，但是它<strong class="in hj">需要很好地理解DAX如何计算公式</strong></li><li id="24c2" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated"><strong class="in hj">提前投入时间思考数据模型/模式</strong>。这可以避免在未来的模型更新中需要复杂的查询或问题</li><li id="9d26" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">视觉化的“少即是多”——了解你的用户可能感兴趣的是什么，以及你想展示什么</li><li id="f4e2" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated"><strong class="in hj"> PowerBI主要是一个分析工具</strong>——它非常适合交互地可视化数据，但是如果你想要一些允许用户<strong class="in hj"> <em class="jw">改变底层数据本身</em> </strong>的东西，你将需要<a class="ae jj" href="https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/powerapps-custom-visual#:~:text=Power%20BI%20enables%20data%20insights,make%20changes%20to%20your%20report" rel="noopener ugc nofollow" target="_blank">用其他东西扩展它的功能，比如MS的PowerApps </a>或者使用一些其他的ERP系统工具</li></ul><p id="c8ee" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">希望这有所帮助。如果您认为我还遗漏了什么，请在评论中给我留下反馈(例如，我正在考虑仔细查看Power BI Mobile报告)</p><p id="c637" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">下次见！</p><p id="14e5" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">#PowerBI</p><p id="efff" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">#数据分析</p><p id="ee3b" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">#数据可视化</p><p id="af25" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">对于任何想继续学习的人来说，原始PBIX文件本身就在这里:</p><p id="b32a" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated"><a class="ae jj" href="https://github.com/ZhijingEu/Demo_PowerBI_Covid19_Dashboard/upload" rel="noopener ugc nofollow" target="_blank">https://github.com/ZhijingEu/Demo_PowerBI_Covid19_Dashboard</a></p><h1 id="9b75" class="lt jy hi bd jz lu lv lw kd lx ly lz kh ma mb mc kk md me mf kn mg mh mi kq mj bi translated">10.其他学习资源:</h1><p id="8aef" class="pw-post-body-paragraph il im hi in b io kt iq ir is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji hb bi translated">我还没有完全探索所有的选项，因为有一个健康的在线用户社区(T1)和许多youtube频道(立方体中的T2人(T3)很不错)。</p><p id="d75f" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">如果你想学习PowerBI，我还推荐以下资源:</p><ul class=""><li id="4b4d" class="ky kz hi in b io ip is it iw ok ja ol je om ji on le lf lg bi translated">微软官方自定进度学习【https://docs.microsoft.com/en-us/power-bi/guided-learning T4】</li><li id="71fd" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">SQLBI有许多关于DAX/数据建模的课程<a class="ae jj" href="https://www.sqlbi.com/" rel="noopener ugc nofollow" target="_blank">https://www.sqlbi.com</a></li><li id="6e8e" class="ky kz hi in b io lh is li iw lj ja lk je ll ji on le lf lg bi translated">DataCamp最近也发布了PowerBI课程简介<a class="ae jj" href="https://learn.datacamp.com/courses/introduction-to-power-bi" rel="noopener ugc nofollow" target="_blank">https://learn.datacamp.com/courses/introduction-to-power-bi</a></li></ul></div></div>    
</body>
</html>