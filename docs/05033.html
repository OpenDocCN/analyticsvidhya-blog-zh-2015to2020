<html>
<head>
<title>A Study to predict Heart Diseases and the factors causing them”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一项预测心脏病和导致心脏病的因素的研究”</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-study-to-predict-heart-diseases-and-the-factors-causing-them-838f5fbb382a?source=collection_archive---------21-----------------------#2020-04-08">https://medium.com/analytics-vidhya/a-study-to-predict-heart-diseases-and-the-factors-causing-them-838f5fbb382a?source=collection_archive---------21-----------------------#2020-04-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ih ii ij ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ig"><img src="../Images/f2e4ade816e1b8907da3a117c2d5cf99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FKIKdaPVJqVDeGYCIpejhg.png"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">图片取自power point</figcaption></figure><ol class=""><li id="2128" class="iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated"><strong class="ix hj">数据集概述</strong></li></ol><p id="e5a5" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj"> 2。Python包</strong></p><p id="b259" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj"> 3。处理缺失数据</strong></p><p id="c4f7" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj"> 4。数据理解和EDA(探索性数据分析)</strong></p><p id="a11c" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj"> 5。功能选择</strong></p><p id="52df" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj"> 6。建模和评估</strong></p><h1 id="0c4c" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">数据集</strong></h1><p id="d93f" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">数据集提供了患者的信息。</p><p id="0d98" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">分类目标是预测患者是否有未来冠心病(CHD)的10年风险。</p><p id="ef1e" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">4238行和16列。</p><p id="c0fe" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">每个属性变量都是潜在的风险因素。既有人口统计学上的，也有行为和医学上的风险因素。</p><p id="c0f9" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">资料来源:https://www.kaggle.com/</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lg"><img src="../Images/13eeb0245a5b4a0b011434c9ae6b971e.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*Orf9IxVyxCZt6rwJsnhXLA.png"/></div></figure><h1 id="786f" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak"> Python包</strong></h1><p id="ac6b" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">熊猫</p><p id="cc20" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">Numpy</p><p id="dbd1" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">海生的</p><p id="9161" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">Matplotlib</p><p id="42d9" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">sci kit-学习</p><p id="a243" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">统计模型</p><p id="080d" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">普洛特宁</p><h1 id="c635" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">处理缺失数据</strong></h1><p id="c350" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">education、cigsPerDay、BPMeds、totChol、身体质量指数、心率、葡萄糖列中有缺失值。</p><p id="cb60" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">用向前和向后填充来填充缺失值。</p><p id="3eeb" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">向前填充意味着用以前的数据填充缺失值。反向填充意味着用下一个数据点填充缺失值。</p><p id="beb3" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">对于缺失值不使用平均值，因为存在无法取平均值的分类特征。</p><h1 id="a109" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">相关性</strong></h1><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ll"><img src="../Images/bcaf8d0220a0ccc30b755b4039d18f62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OeO8DABw4D2pFIbPH85khw.png"/></div></div></figure><p id="89ba" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj">特征直方图:</strong></p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lm"><img src="../Images/21eba5885707363b84e38701eae2f74f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*VZyIDZrlm4lfJtG_kmSVjQ.png"/></div></figure><p id="4d02" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj">年龄与心率散点图</strong>:50岁以上的年龄组患心脏病的人数最多。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ln"><img src="../Images/4862bc367bdebda995bbae33b5909fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ck7nwdHWhllj9mYZua4eYg.png"/></div></div></figure><p id="9ffd" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj">以男性为色调的年龄与sysBP散点图</strong>:男性往往收缩压高(190以上)。因此，男性更有可能患心脏病。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lo"><img src="../Images/10f1fa622fd1ec1e39b25fa27261e73a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*8bWVHpVxfkAoEfG3wgyZnQ.png"/></div></figure><p id="3ceb" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">教育和吸烟习惯:男性和女性的趋势略有不同。在男性中，与女性相比，受教育程度低的吸烟者人数更多。随着教育水平的提高，吸烟者的数量减少了。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es lp"><img src="../Images/a8ce2c45ce20c23ae862f11b579e1415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HIRt1p15OwSyz3sKJd4yFA.png"/></div></div></figure><p id="0a4f" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated"><strong class="ix hj">吸烟习惯与受教育程度和男女:</strong></p><p id="2d67" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">除三级教育外，几乎所有教育级别类别的男女生水平都相同。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es lq"><img src="../Images/f39850645e747870cec7c9c83d5982dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nqbZ3mxT3W4pGluWUoPruw.png"/></div></div></figure><h1 id="0833" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">功能选择:</strong></h1><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es lr"><img src="../Images/d2e051e172fc0af2733c90ba25995043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWru9pg1oNsdOryR4_LbQA.png"/></div></div></figure><h1 id="990c" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">训练和测试数据集</strong></h1><p id="040e" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">删除不需要的列。</p><p id="8fd5" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">选择十大重要特征。</p><p id="793c" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">我们按照20:80的比例将数据分为测试数据和训练数据。我们的训练数据集由3390行和10个最重要和最相关的特征组成，而我们的测试数据集由848行和最重要的特征组成。</p><h1 id="f27b" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">建模与评估</strong></h1><p id="f516" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">在对测试数据集进行预测并决定使用哪个模型之前，最好对训练数据集进行交叉验证。</p><p id="7cee" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">通常在应用机器学习中使用，用于为给定的预测建模问题比较和选择模型。</p><p id="a8a9" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">逻辑回归比其他模型表现更好。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es ls"><img src="../Images/9ec9eec08d6e8d73826aa9af12789d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*pZGF3l7NR188A5C3bzogyg.png"/></div></figure><h1 id="d3c7" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">在测试数据集上比较不同的分类器:</strong></h1><h1 id="60c9" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">逻辑回归:</strong></h1><p id="cf26" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">预测心脏病准确率85.84%。</p><p id="25d6" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">ROC评分为0.71.ROC评分接近1表示评分良好，否则为0。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lt"><img src="../Images/01f5e2b7b2a25c5fad83a82c5e05636c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*WQ9petqt5OwpLBgdz4uVTQ.png"/></div></figure><h1 id="9db4" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak"> K邻居型号:</strong></h1><p id="1c58" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">预测心脏病准确率82.66%。</p><p id="8459" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">ROC评分为0.58.ROC评分接近1表示评分良好，否则为0。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lu"><img src="../Images/bb0b2fb53d59c9e00ae585540b58476b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*z4YMtJpC-QLyG17mjrGP3g.png"/></div></figure><h1 id="4587" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">随机森林模型:</strong></h1><p id="4189" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">预测心脏病准确率83.96%。</p><p id="6a09" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">ROC评分0.62。ROC评分接近1表示评分良好，否则为0。</p><figure class="lh li lj lk fd ik er es paragraph-image"><div class="er es lu"><img src="../Images/fc3d58f27a1942d4cb5c8b2e59e6ae2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*SQwYfb-lDv_6TAcD8tgcrA.png"/></div></figure><figure class="lh li lj lk fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es lv"><img src="../Images/ee23153a19be17ad510612d7b6e0f7f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_E2AkB1FK1Fv67PB958R8A.png"/></div></div></figure><h1 id="ee49" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">摘要</h1><p id="f804" class="pw-post-body-paragraph jn jo hi ix b iy la jp jq ja lb jr js jc lc ju jv je ld jx jy jg le ka kb ji hb bi translated">1.对于给定的数据集，逻辑回归在测试数据集上的表现优于KNN分类器和随机森林分类器。</p><p id="c54b" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">2.Logistic回归模型的准确率为85.84 %。因此，该模型在预测患者未来10年是否有冠心病风险方面做得很好。</p><p id="7892" class="pw-post-body-paragraph jn jo hi ix b iy iz jp jq ja jb jr js jc jt ju jv je jw jx jy jg jz ka kb ji hb bi translated">3.Logistic回归的准确率为85.84%，模型没有过拟合或欠拟合。</p></div></div>    
</body>
</html>