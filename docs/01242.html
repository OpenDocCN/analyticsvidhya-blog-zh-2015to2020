<html>
<head>
<title>Five Steps to Create a Chess App 3/5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建象棋应用程序的五个步骤3/5</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/five-steps-to-create-a-chess-app-3-5-77a4f73f459b?source=collection_archive---------8-----------------------#2019-10-10">https://medium.com/analytics-vidhya/five-steps-to-create-a-chess-app-3-5-77a4f73f459b?source=collection_archive---------8-----------------------#2019-10-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1d1de3c204461e2e8a89603e9e940546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvBANwGBWwBNOH2aA-7etQ.png"/></div></div></figure><div class=""/><div class=""><h2 id="dcbf" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated">第三步:画棋盘</h2></div><p id="09b1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">步骤1创建应用程序，步骤2在屏幕上显示视图。现在我们来画8×8的棋盘。我们需要创建一个文件来存放我们的代码。</p><figure class="ke kf kg kh fd hk"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="0ca2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">单击左侧导航面板上的“Chess”文件夹，它会变成蓝色。右键单击显示菜单。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/6d8bd370cb903a94f21bb0438826683d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rBueXqv1JO0sdMGyP5848Q.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">右键单击带有“象棋”的蓝色行</figcaption></figure><p id="17de" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">选择“新建文件…”创建一个新文件。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div class="er es kp"><img src="../Images/a4cf5696aeabd98d9cd403e5d8398c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*snLpvrcSaL10Tb2YXkqggQ.png"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated">点击“新建文件…”</figcaption></figure><p id="9700" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在“iOS”下选择“Cocoa Touch Class”。然后单击“下一步”按钮继续。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/196903995e6a028e52c6da149ae0c3fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uiU9hr-UWdPk3ksy2-8Gsg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">点击“下一步”按钮创建新的班级</figcaption></figure><p id="f6ed" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">将我们的新班级命名为“BoardView”。确保它是UIView的子类。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/4f73d0611823b5a8bdbacf90de38637c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d_2JnEvLHBcbcqc_py0Ikg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">UIView的子类</figcaption></figure><p id="b1bb" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">接受默认位置，然后单击“创建”按钮。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/60da47dec9e9398f40a19f9395ffaf98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g7zp00yiCr5J-ixJkUcf9Q.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">单击“创建”按钮创建我们的新类文件</figcaption></figure><p id="bd6a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">新的类文件是BoardView.swift。现在我们需要将画布(Main.storyboard中的白色视图)的类设置为BoardView。单击左侧导航面板上的“Main.storyboard”。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/cae50b66fdc34b75d93966006956e3e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cejsZLdvH0cgJWul7vbROQ.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">单击左侧导航面板上的“Main.storyboard”以显示Main.storyboard</figcaption></figure><p id="f7c5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">选择白色视图后，在右上角附近找到类似信用卡的图标。单击它，这样我们可以将类从UIView更改为我们自己的BoardView。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/71c2f2b5584455664cf5739882aef6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIbxgOvQnx8yIGy3CWyiDA.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">从下拉菜单中选择“BoardView”</figcaption></figure><p id="4e0d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在左侧窗格中，我们可以看到“视图”变成了“控制板视图”。单击顶部栏上从右数第三个图标，以显示隐藏的左侧导航面板。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/c66b6825966cfab0447e735ff6942555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUWtGl2A1aXmOc3L2W_8bw.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">单击右上角附近的图标以显示导航面板</figcaption></figure><p id="98b5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">返回BoarView.swift输入如下所示的源代码。执行入口点是Xcode提供的函数“draw”。我们创建了3个函数来完成绘制64个正方形的工作。抱歉硬编码值80，是每个方块的边。还记得我们在将白色画布视图添加到黄色大视图时，故意将电路板尺寸设置为640x640吗？</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kk"><img src="../Images/27fbc96dd1f6073d4308b4026e83622c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rI4Qbvx4SubA-pRPuR7trQ.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">BoardView.swift的完整代码</figcaption></figure><p id="93e4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">启动应用程序查看我们华丽的董事会观点。</p><figure class="ke kf kg kh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kq"><img src="../Images/dc9501beb711bcc18b92fade5ce6b946.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3RGJIpAXgCxTwdsbLq9Sw.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">8×8方格棋盘</figcaption></figure><p id="a917" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">这是BoardView的文本版本，方便您使用。</p><pre class="ke kf kg kh fd kr ks kt ku aw kv bi"><span id="2f26" class="kw kx ht ks b fi ky kz l la lb">import UIKit</span><span id="1541" class="kw kx ht ks b fi lc kz l la lb">class BoardView: UIView {</span><span id="61b5" class="kw kx ht ks b fi lc kz l la lb">    override func draw(_ rect: CGRect) {<br/>        drawBoard()<br/>    }</span><span id="dd35" class="kw kx ht ks b fi lc kz l la lb">    func drawBoard() {<br/>        drawTwoRowsAt(y: 0 * 80)<br/>        drawTwoRowsAt(y: 2 * 80)<br/>        drawTwoRowsAt(y: 4 * 80)<br/>        drawTwoRowsAt(y: 6 * 80)<br/>    }<br/>    <br/>    func drawTwoRowsAt(y: CGFloat) {<br/>        drawSquareAt(x: 1 * 80, y: y)<br/>        drawSquareAt(x: 3 * 80, y: y)<br/>        drawSquareAt(x: 5 * 80, y: y)<br/>        drawSquareAt(x: 7 * 80, y: y)<br/>        <br/>        drawSquareAt(x: 0 * 80, y: y + 80)<br/>        drawSquareAt(x: 2 * 80, y: y + 80)<br/>        drawSquareAt(x: 4 * 80, y: y + 80)<br/>        drawSquareAt(x: 6 * 80, y: y + 80)<br/>    }<br/>    <br/>    func drawSquareAt(x: CGFloat, y: CGFloat) {<br/>        let path = UIBezierPath(rect: CGRect(x: x, y: y, width: 80, height: 80))<br/>        UIColor.lightGray.setFill()<br/>        path.fill()<br/>    }<br/>}</span></pre></div><div class="ab cl ld le gp lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="hb hc hd he hf"><p id="6131" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><a class="ae lk" rel="noopener" href="/@zhijunsheng/five-steps-to-create-a-chess-app-1-5-a5c96bc99241?source=friends_link&amp;sk=707d73067918e809e45fcb10921b1dc6">第一步:创建一个空应用</a></p><p id="0b89" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><a class="ae lk" rel="noopener" href="/@zhijunsheng/five-steps-to-create-a-chess-app-2-5-22eb0e0d6d9c?source=friends_link&amp;sk=d8c4d711ede8e0dc910c6b35ed21145d">第二步:把一个视图放到屏幕上</a></p><p id="1f5f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><a class="ae lk" rel="noopener" href="/@zhijunsheng/five-steps-to-create-a-chess-app-3-5-77a4f73f459b?source=friends_link&amp;sk=8f4572ecb12460b2e3f584e1a5a31d7e">第三步:画棋盘</a></p><p id="cd43" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><a class="ae lk" rel="noopener" href="/@zhijunsheng/five-steps-to-create-a-chess-app-4-5-8bcb38f0c652?source=friends_link&amp;sk=c9a974ec64e138d37fb6859ababd1a06">第四步:绘制棋子</a></p><p id="8d11" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><a class="ae lk" rel="noopener" href="/@zhijunsheng/five-steps-to-create-a-chess-app-5-5-761af7719a2e?source=friends_link&amp;sk=9099609bcefef2be067e11d42ef8e0a6">第五步:移动棋子</a></p></div></div>    
</body>
</html>