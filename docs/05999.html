<html>
<head>
<title>Sudoku-Backtracking algorithm and visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数独回溯算法及其可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sudoku-backtracking-algorithm-and-visualization-75adec8e860c?source=collection_archive---------5-----------------------#2020-05-08">https://medium.com/analytics-vidhya/sudoku-backtracking-algorithm-and-visualization-75adec8e860c?source=collection_archive---------5-----------------------#2020-05-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8ab0bd48d88c9c8d7e926bf0d7a37479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqVZmEpKFhBaFozsdYlBSA.png"/></div></div></figure><p id="9866" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一边解数独，一边把回溯算法可视化，是不是很酷？是的，我将讨论算法，并分享我如何开发一个简单的程序来可视化算法。关于该计划:</p><ul class=""><li id="4def" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">算法在<code class="du jx jy jz ka b">Python</code>中</li><li id="753c" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn jt ju jv jw bi translated">GUI在<code class="du jx jy jz ka b">HTML, CSS, JavaScript/JQuery</code>中使用python的<code class="du jx jy jz ka b">eel</code>库。阅读更多关于<a class="ae kg" href="https://pypi.org/project/Eel/" rel="noopener ugc nofollow" target="_blank">鳗鱼</a>的信息。</li><li id="0107" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn jt ju jv jw bi translated">检查<a class="ae kg" href="https://github.com/tarunk04/sudoku-backtracking-visualizer" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的完整代码</li></ul><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/8abc3b2cee66b842523ec4fe8881719f.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/1*kqC2K0tffcSTqHHNe99Zzg.gif"/></div></div><figcaption class="km kn et er es ko kp bd b be z dx translated">追踪</figcaption></figure><h1 id="f905" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">回溯算法</h1><p id="be33" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">递归处理问题以解决问题的经典算法之一。尝试一个接一个地构建解决方案，并消除那些无法解决的方案。其中一个著名的问题是N-Quene问题，你可能听说过。其中需要将N个皇后放在NxN板上，以便没有一个皇后处于攻击位置。点击这里阅读更多关于N皇后问题的内容。数独也是一个著名的问题/难题，可以使用回溯算法解决。</p><p id="a714" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在回溯算法中，我们为问题建立一个解树，并排除不满足要求条件的解。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/7e5d5d856be68c8d20316045411957f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-DyKa25eozOeMdN5YQONA.png"/></div></div><figcaption class="km kn et er es ko kp bd b be z dx translated">4皇后问题的解树</figcaption></figure><h1 id="62e7" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">数独</strong></h1><p id="f21a" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">数独是一种数字益智游戏，其中1-9的数字被放置在9x9的网格中，以便在每行、每列和3x3的子网格/块中没有数字重复。</p><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/f836bd80f16706a50552cc17babf985a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*lJqEatT4iXIvxiPJr_ONiA.gif"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">行、列和块</figcaption></figure><p id="8aa5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何使用回溯求解:</strong>我们从第一个空单元格开始，逐一迭代1-9，如果一个数字满足所有3个条件，即该特定数字不存在于行、列和块中，我们用该数字填充。然后我们前进到下一个空的单元格，我们做同样的数字迭代，但是使用更新的数独板。当我们在新的空单元格中前进时，我们可能会到达一个不能放置1-9之间的数字的单元格。因此，这个解决方案被拒绝，现在我们向后移动，在那些先前的单元格中尝试新的可能值。因为我们知道数独棋盘只有一个解，所以我们会一直拒绝这个解，直到我们找到一个满足最初为空的每个单元格的所有条件的解。</p><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">验证单元格</figcaption></figure><p id="b991" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码验证了特定单元格在0-9之间的不同值。如果该值满足所有3个条件，则返回true，否则返回false。</p><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">数独难题的回溯算法</figcaption></figure><p id="efc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">递归调用上述函数来构建解树，并拒绝所有不满足条件的解。变量<code class="du jx jy jz ka b">visualize</code>的值默认为<code class="du jx jy jz ka b">False</code>,这意味着它不会更新GUI并快速解决难题。如果值是<code class="du jx jy jz ka b">true</code>,那么GUI将在求解的每一步更新。因此，为了可视化回溯算法，这个变量需要是<code class="du jx jy jz ka b">True</code>。</p><h1 id="ab28" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">生成数独</strong></h1><p id="1447" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">向前一点，让我们在进入可视化部分之前讨论如何生成数独。</p><p id="0784" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何接近？</strong></p><ul class=""><li id="2005" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">第一件事是生成一个解决数独板。</li><li id="09ed" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn jt ju jv jw bi translated">第二件事是从解出的数独棋盘上删除一些单元格，这样它是可解的，并且解必须是唯一的。</li></ul><ol class=""><li id="42a1" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lx ju jv jw bi translated"><strong class="is hj">生成解出的数独板</strong>:方法与解出数独板非常相似。这里唯一改变的是我们有一个空的板子。因此，我们可以从第一个单元格(即左上角的单元格)开始，随机填充值。移动到下一个空单元格，现在我们在板上有一个值，所以我们必须在新单元格中填充值之前检查数独条件。再次生成一个介于1-9之间的随机值，并检查数独条件。如果它满足所有条件，则将该值放在单元格中，并移动到下一个单元格。在某一点上，可能会发生1-9之间的值不适合该单元格的情况，然后返回到前面的单元格并尝试不同的组合，直到解出的数独板准备就绪。</li><li id="47a2" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn lx ju jv jw bi translated"><strong class="is hj">删除单元格生成谜题:</strong>随机选取一个非空单元格，删除值，然后尝试使用我们的求解算法求解，并计算解的数量。如果数字解不是1，则将该值放回单元格，并尝试不同的单元格。重复这样做，直到你得到拼图所需的难度。谨记两件事</li></ol><ul class=""><li id="3e45" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">移除的细胞越多，拼图就越难。</li><li id="cf7a" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn jt ju jv jw bi translated">移除的细胞越多，生成拼图所需的时间就越长。</li></ul><p id="6185" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">移除30-55个细胞将会给<code class="du jx jy jz ka b">very hard</code>谜题带来<code class="du jx jy jz ka b">easy</code>。但是移除超过55个细胞将花费更多的时间来生成拼图。有人提出，作为数独谜题的线索，所需的最小单元数是17。这意味着你可以删除多达64个细胞。但是要找到这样一个谜题可能非常耗时。我还没有测试我的算法来找到这样一个难题，它可能会失败。</p><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">生成已解决的数独</figcaption></figure><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">生成谜题</figcaption></figure><h1 id="8c91" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">实时可视化算法</strong></h1><figure class="ki kj kk kl fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/f3556b1d056a14c06253afb01c547edd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*TeOkuhMEEaCIhw9t4-Y4xg.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">GUI预览</figcaption></figure><p id="36b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GUI是使用HTML、CSS和JavaScript/JQuery开发的。对于连接，使用前端和后端eel库。</p><blockquote class="lz ma mb"><p id="ffc1" class="iq ir mc is b it iu iv iw ix iy iz ja md jc jd je me jg jh ji mf jk jl jm jn hb bi translated">Eel是一个小Python库，用于制作简单的类似电子的离线HTML/JS GUI应用程序，可以完全访问Python功能和库。</p></blockquote><p id="32e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在GitHub上检查关于<a class="ae kg" href="https://github.com/samuelhwilliams/Eel" rel="noopener ugc nofollow" target="_blank"> eel </a></p><p id="9d57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">eel允许您从JavaScript调用Python函数，反之亦然。</p><p id="8872" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">暴露给Python的JavaScript函数。</strong></p><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">可以从python调用的JavaScript函数</figcaption></figure><p id="4ef8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">函数<code class="du jx jy jz ka b">draw_sudoku</code>向GUI显示数独，这里的<code class="du jx jy jz ka b">data</code>是一个9x9数组的参数，通过python传递给JavaScript。而<code class="du jx jy jz ka b">update_sudoku</code>在解数独时从Python获取参数<code class="du jx jy jz ka b">val and i</code>来更新GUI。其中<code class="du jx jy jz ka b">val</code>是单元格<code class="du jx jy jz ka b">i</code>的值。单元格<code class="du jx jy jz ka b">i</code>表示81个单元格中的第I个单元格。</p><p id="02b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">暴露给JavaScript的Python函数</strong></p><p id="5b5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些函数可以从JavaScript调用。例如，如果你需要一个新的谜题，那么点击GUI上的new puzzle按钮，JavaScript将调用python的函数<code class="du jx jy jz ka b">generate_new_sudoku</code>，并将<code class="du jx jy jz ka b">level</code>作为参数传递。</p><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="lv lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">暴露给JavaScript的Python函数</figcaption></figure><h1 id="bbc8" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">可视化示例:</strong></h1><figure class="ki kj kk kl fd ij"><div class="bz dy l di"><div class="mg lw l"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">查看回溯操作</figcaption></figure><h1 id="811a" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">完整代码</strong></h1><p id="9b48" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">在我的GitHub上找到完整代码:<a class="ae kg" href="https://github.com/tarunk04/sudoku-backtracking-visualizer" rel="noopener ugc nofollow" target="_blank">https://github.com/tarunk04/sudoku-backtracking-visualizer</a></p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><figure class="ki kj kk kl fd ij er es paragraph-image"><a href="https://www.buymeacoffee.com/tarunkumar"><div class="er es mo"><img src="../Images/6d60b235fcc46a4bd696b90e886419ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*Dpw8-hNGI2fDmosV4E8DVQ.png"/></div></a></figure><h1 id="975e" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">反馈</strong></h1><p id="401e" class="pw-post-body-paragraph iq ir hi is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">今天的帖子到此为止，如果你有任何问题，请在评论中告诉我。此外，如果你发现任何错误，请写信给我在tarun12.tarunkr@gmail.com。</p><p id="645c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想让我在接下来的帖子中涉及一些特定的话题，请在评论中告诉我。</p><p id="1851" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关注:</p><ul class=""><li id="5a9a" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">我在GitHub上有更多这样的项目</li><li id="62fe" class="jo jp hi is b it kb ix kc jb kd jf ke jj kf jn jt ju jv jw bi translated">我在<a class="ae kg" href="https://www.kaggle.com/tarunk04" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上。</li></ul><p id="84ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您抽出时间阅读本文。喜欢请分享。</p><p id="7526" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我正在寻找拥有不同技能的人来建立一个封闭的社区，这样我们就可以一起打造令人惊叹的产品。如果你有兴趣，请在Linkedin上联系我或给我发邮件</p></div></div>    
</body>
</html>