<html>
<head>
<title>Using JSON.parse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JSON.parse</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-json-parse-i-9e982434c7f5?source=collection_archive---------25-----------------------#2020-02-12">https://medium.com/analytics-vidhya/using-json-parse-i-9e982434c7f5?source=collection_archive---------25-----------------------#2020-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c8a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发表上一篇文章已经3周了，虽然我想说有些事情终于有了意义，但我经常发现自己对我认为理解的事情感到困惑。与模块1不同，模块2不太注重通过测试，而是将重点放在呈现您期望呈现的页面的服务器上。</p><p id="86e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本周，在准备我的代码挑战时，我在一个名为Travelatr的实验室完成了测试，我的测试通过了，但我想在我的show.html.erb页面上为<code class="du jd je jf jg b">post </code>显示的内容呈现得很奇怪。我试图渲染<code class="du jd je jf jg b">@post.content</code>,它通常会显示我的种子数据中的任何内容，就像你在上面看到的<code class="du jd je jf jg b">@post.title</code>(即没有引号和方括号！).但是，<code class="du jd je jf jg b">@post.content</code>正在呈现我认为是一个字符串数组的东西。我看了看我的控制台，<code class="du jd je jf jg b">post.content</code>正在打印<code class="du jd je jf jg b">“[\"paragraph\", \"paragraph\", \"paragraph\", \"paragraph\"]"</code>。</p><div class="jh ji jj jk fd ab cb"><figure class="jl jm jn jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/9c0f86d894ed33359591dc4b178970a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*EwbLMWLymPSZROlLwEOWoQ.png"/></div></figure><figure class="jl jm jy jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/2b601badd065847fd57a07d44fc472f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*z3VtX0XWterHvzV9yhmzqQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx kd di ke kf translated">@post.content正在渲染什么</figcaption></figure></div><figure class="jh ji jj jk fd jm er es paragraph-image"><div class="er es kg"><img src="../Images/008de2f6c30b8caf4011e0038df22614.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*fWBOAsaV14ilDKUDfA9TpQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">我的种子数据</figcaption></figure><p id="7bde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我以前从未见过的，所以我立即去查看实验室是如何播种数据库的，并发现正在使用<code class="du jd je jf jg b">Faker</code>。<code class="du jd je jf jg b">Faker</code>是一个用于生成假数据的开源库，对于节省时间非常有用。如果你看一下<code class="du jd je jf jg b">Post</code>是如何被创建的，你会看到<code class="du jd je jf jg b">Faker</code>正在生成4个随机的“时髦”段落，并将它们保存在一个名为content的键中。然而，正如你在上面看到的，<code class="du jd je jf jg b">Faker</code>创建了字符串，所以通过生成四个段落，它将生成一个字符串数组，这意味着你不能迭代和改变它的呈现方式。</p><p id="6240" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，那你是做什么的？当然是谷歌！经过一番寻找和求助，我发现了<code class="du jd je jf jg b">JSON</code>。<code class="du jd je jf jg b">JSON</code> (JavaScript Object Notation)是一种轻量级格式，用于在客户机和服务器之间共享数据。它是人类可读的，并且易于机器解析和生成。<code class="du jd je jf jg b">JSON</code>提供了两种有用的数据转换方法:</p><ul class=""><li id="27cf" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated"><code class="du jd je jf jg b">JSON.parse()</code>方法将一个字符串作为输入，并将其转换成一个对象。</li></ul><pre class="jh ji jj jk fd kq jg kr ks aw kt bi"><span id="97d5" class="ku kv hi jg b fi kw kx l ky kz">obj = JSON.parse(string)</span></pre><ul class=""><li id="25ea" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">相反，<code class="du jd je jf jg b">JSON.stringify()</code>方法将一个对象转换成一个字符串:</li></ul><pre class="jh ji jj jk fd kq jg kr ks aw kt bi"><span id="7703" class="ku kv hi jg b fi kw kx l ky kz">string = JSON.stringify(object)</span></pre><p id="5bfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我要求在我的gem文件中安装<code class="du jd je jf jg b">'json'</code> gem，并确保安装了gem。在我的控制台中，我可以看到我有一个字符串，因此，我需要使用<code class="du jd je jf jg b">JSON.parse()</code>方法来解析<code class="du jd je jf jg b">content</code>并将其转换成一个字符串数组。这是我第二次尝试的样子(和往常一样，我首先在控制台中测试！):</p><div class="jh ji jj jk fd ab cb"><figure class="jl jm la jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/6bc2d37c208c19e3b8a2f5ff197cd94f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*d6JzywnircMEk-Q0P6j7IQ.png"/></div></figure><figure class="jl jm lb jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/30cd9c6f63d560eb1b0e60fbc0c67581.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*06K6ZD_9vMzTmekkhgigvg.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx lc di ld kf translated">第一次尝试JSON.parse()</figcaption></figure></div><p id="914c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，这仍然在我的显示页面上呈现相同的结果，但是在控制台中，<code class="du jd je jf jg b">"/"/" </code>已经消失了，所以我取得了一些进展。我现在有了一个“普通”的字符串数组。由于a想在单独的一行上呈现每一段，我决定尝试一次<code class="du jd je jf jg b">each</code>迭代，就像我通常在每一段上做的那样。正如你在下面看到的，它成功了！</p><div class="jh ji jj jk fd ab cb"><figure class="jl jm le jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/edb339a76d826c0699ebfeacb86668df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*lbnjWknnHMh0uS6WnqzQjg.png"/></div></figure><figure class="jl jm lf jo jp jq jr paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/e03cbb3aabd4807ebe874c5e94b9a803.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*DsFUTSD5d-rQSwP9m-vVsw.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx lg di lh kf translated">遍历JSON.parse()</figcaption></figure></div><p id="f5c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我最终的app/views/posts/show.html.erb代码的样子:</p><figure class="jh ji jj jk fd jm er es paragraph-image"><div class="er es li"><img src="../Images/43122e81aef665a0479b9642e14b054c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*OYCZklsBTMV3mmwEnlDUaQ.png"/></div><figcaption class="jz ka et er es kb kc bd b be z dx translated">app/views/posts/show.hmtl.erb</figcaption></figure></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><div class="jh ji jj jk fd lq"><a href="https://attacomsian.com/blog/json-parse-stringify" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab dw"><div class="ls ab lt cl cj lu"><h2 class="bd hj fi z dy lv ea eb lw ed ef hh bi translated">了解JSON.parse()和JSON.stringify()</h2><div class="lx l"><h3 class="bd b fi z dy lv ea eb lw ed ef dx translated">JSON——JavaScript对象符号——是一种轻量级的、人类可读的数据交换格式。最初源自…</h3></div><div class="ly l"><p class="bd b fp z dy lv ea eb lw ed ef dx translated">attacomsian.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me jw lq"/></div></div></a></div><div class="mf mg ez fb mh lq"><a href="https://stackoverflow.com/questions/6284743/convert-json-string-to-json-array-in-rails" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab dw"><div class="ls ab lt cl cj lu"><h2 class="bd hj fi z dy lv ea eb lw ed ef hh bi translated">在rails中把JSON字符串转换成JSON数组？</h2><div class="lx l"><h3 class="bd b fi z dy lv ea eb lw ed ef dx translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="ly l"><p class="bd b fp z dy lv ea eb lw ed ef dx translated">stackoverflow.com</p></div></div><div class="lz l"><div class="mi l mb mc md lz me jw lq"/></div></div></a></div></div></div>    
</body>
</html>