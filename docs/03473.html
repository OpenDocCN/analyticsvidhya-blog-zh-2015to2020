<html>
<head>
<title>Let's see what is if __name__ == ‘__main__ in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们来看看Python中的if __name__ == '__main__是什么</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/lets-see-what-is-if-name-main-in-python-9bec8ff3a80a?source=collection_archive---------8-----------------------#2020-02-03">https://medium.com/analytics-vidhya/lets-see-what-is-if-name-main-in-python-9bec8ff3a80a?source=collection_archive---------8-----------------------#2020-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f253" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在执行代码之前，Python解释器读取源文件并定义一些特殊变量/全局变量。<br/>如果python解释器将该模块(源文件)作为主程序运行，它将特殊的__name__变量设置为值<strong class="ih hj"> "__main__" </strong>。</p><p id="a0cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果该文件是从另一个模块导入的，__name__将被设置为<strong class="ih hj">模块的名称。</strong>模块名可作为__name__全局变量的值。<br/>模块是包含Python定义和语句的文件。文件名是带后缀的模块名。py已附加。当我们将文件作为命令执行给python解释器时，</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="58bf" class="jm jn hi ji b fi jo jp l jq jr"># Python program to execute # main directly</span><span id="c2f7" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">print</strong> <!-- -->"Always executed"</span><span id="f4ce" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">if</strong> <!-- -->__name__ <strong class="ji hj">==</strong> <!-- -->"__main__":<br/>   print<!-- --> <!-- -->"Executed when invoked directly"</span><span id="ff6d" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">else</strong>:<br/>   <strong class="ji hj">print</strong> <!-- -->"Executed when imported"</span></pre><ul class=""><li id="aa42" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated">缩进级别为0 [Block 1]的所有代码都会被执行。定义的函数和类是定义好了的，但是它们的代码都没有运行。</li><li id="ef91" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated">在这里，就像我们直接执行script . py _ _ name _ _一样，变量将是<strong class="ih hj"> __main__ </strong>。因此，只有当该模块是程序的入口点时，if块[Block 2]中的代码才会运行。</li><li id="577b" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated">因此，您可以通过测试__name__ variable来测试您的脚本是直接运行还是由其他程序导入。</li><li id="cb23" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated">如果脚本被其他模块导入，那么<strong class="ih hj"> __name__ </strong>将是模块名。</li></ul><p id="9984" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们为什么需要它？</strong></p><p id="5667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，我们正在开发一个脚本，该脚本旨在用作一个模块:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="0b96" class="jm jn hi ji b fi jo jp l jq jr"># Python program to execute</span><span id="1b5e" class="jm jn hi ji b fi js jp l jq jr"># function directly</span><span id="0d5f" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">def</strong> <!-- -->my_function():<br/>    print<!-- --> <!-- -->"I am inside function"</span><span id="5ab3" class="jm jn hi ji b fi js jp l jq jr"># We can test function by calling it.</span><span id="cc2e" class="jm jn hi ji b fi js jp l jq jr">my_function()</span></pre><p id="b28d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果我们想通过导入来使用那个模块，我们必须注释掉我们的调用。最好的方法是使用下面的代码，而不是那种方法:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="0153" class="jm jn hi ji b fi jo jp l jq jr"># Python program to use</span><span id="9a23" class="jm jn hi ji b fi js jp l jq jr"># main for function call.</span><span id="f67c" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">if</strong> <!-- -->__name__ <strong class="ji hj">==</strong> <!-- -->"__main__":<br/>    my_function()</span><span id="7fc0" class="jm jn hi ji b fi js jp l jq jr"><strong class="ji hj">import</strong> <!-- -->myscripy<br/>myscript.my_function()</span></pre><p id="46ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">优点:</strong></p><ol class=""><li id="7cb0" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc kh jz ka kb bi translated">每个Python模块都定义了它的__name__，如果这是“__main__”，则意味着用户正在独立运行该模块，我们可以执行相应的适当操作。</li><li id="cd7a" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc kh jz ka kb bi translated">如果将此脚本作为模块导入到另一个脚本中，则__name__将设置为脚本/模块的名称。</li><li id="3ade" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc kh jz ka kb bi translated">Python文件既可以作为可重用模块，也可以作为独立程序。</li><li id="d778" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc kh jz ka kb bi translated">if __name__ == "main ":用于执行某些代码<strong class="ih hj">只有</strong>文件是直接运行的，而不是导入的。</li></ol></div></div>    
</body>
</html>