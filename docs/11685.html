<html>
<head>
<title>What is a float , double , long double and a floating point literal in C ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 C 语言中的浮点数、双精度数、长双精度数和浮点字面量？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/what-is-a-float-double-long-double-and-a-floating-point-literal-in-c-e789c31aa36c?source=collection_archive---------10-----------------------#2020-12-14">https://medium.com/analytics-vidhya/what-is-a-float-double-long-double-and-a-floating-point-literal-in-c-e789c31aa36c?source=collection_archive---------10-----------------------#2020-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="58c7" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是浮、双、长双？</h1><p id="adad" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">要在计算机中存储数字，必须使用一种算法。<strong class="jf hj"> <em class="kb"> C 标准没有指定</em> </strong>用于存储任何类型的数字的算法或编码，无论是有理数如<code class="du kc kd ke kf b">1/2</code>、整数如<code class="du kc kd ke kf b">5</code>还是无理数如<code class="du kc kd ke kf b">pi</code>。</p><p id="262e" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated"><strong class="jf hj"> <em class="kb">它只指定</em> </strong>数值数据类型的名称，如<code class="du kc kd ke kf b">int</code>，或<code class="du kc kd ke kf b">float</code>。它们的含义，例如<code class="du kc kd ke kf b">int</code>用于存储有符号整数类型，如<code class="du kc kd ke kf b">-1</code>或<code class="du kc kd ke kf b">1</code>，而<code class="du kc kd ke kf b">float</code>用于存储实数的近似值，如<code class="du kc kd ke kf b">1.2</code>或<code class="du kc kd ke kf b">-12.5</code>。它们的最小范围，例如<code class="du kc kd ke kf b">int</code>型的最小范围在<code class="du kc kd ke kf b">-32767</code>和<code class="du kc kd ke kf b"> +32767</code>之间。编码数字的算法是由计算机制造商指定的。</p><p id="aa0e" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">C  中的<strong class="jf hj"> <em class="kb">实型是<code class="du kc kd ke kf b">float</code>、<code class="du kc kd ke kf b">double</code>、<code class="du kc kd ke kf b">long double</code>。C 标准定义了必须编码的实数模型，该模型称为浮点模型，其格式如下:</em></strong></p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es kl"><img src="../Images/97e5e537dd6abd4543d38db8ef3c788b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FLpZYxtMKCHfUYu0.jpeg"/></div></figure><p id="1a5d" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">浮点编码有多种算法，最常用的是<a class="ae kt" href="https://twiserandom.com/data-structure-and-algorithms/what-is-a-floating-point-number/" rel="noopener ugc nofollow" target="_blank"> IEEE 浮点格式</a>。</p><p id="1800" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">在计算机上，<strong class="jf hj"> <em class="kb">使用 IEEE </em> </strong>浮点格式算法，<code class="du kc kd ke kf b">float</code>类型映射到 IEEE 单精度浮点，而<code class="du kc kd ke kf b">double</code>类型映射到 IEEE 双精度浮点。<code class="du kc kd ke kf b">long double</code>映射到 IEEE 四倍精度浮点格式或 IEEE 80 位浮点格式。</p><p id="5b72" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated"><strong class="jf hj"><em class="kb"/></strong><em class="kb"/>的 C 实数类型，使用 IEEE 浮点格式时如下。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ku"><img src="../Images/476ee4bf3b39630c6ff3edf657834450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xAcQbFStUsSTjT2R0z9YSQ.png"/></div></div></figure><p id="376a" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated"><code class="du kc kd ke kf b">float.h</code>头、<strong class="jf hj"> <em class="kb">包含与浮点实现</em> </strong>相关的信息，例如每个浮点类型的范围【min，max】的绝对值，以及与<code class="du kc kd ke kf b">0</code>最接近的值。</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="e5f2" class="ld ig hi kf b fi le lf l lg lh">#include&lt;stdio.h&gt;<br/>#include&lt;float.h&gt;</span><span id="01ef" class="ld ig hi kf b fi li lf l lg lh">int main( void){<br/>  /*<br/>    print absolute value min,max range , each floating<br/>    type .*/<br/>  printf( "float absolute value of range : %e\n", FLT_MAX);<br/>  printf( "double absolute value of range : %e\n", DBL_MAX);<br/>  printf( "long double absolute value of range : %Le\n", LDBL_MAX);</span><span id="43aa" class="ld ig hi kf b fi li lf l lg lh">/* print closest absolute value to 0 , for each<br/>     of the floating types .*/<br/>  printf( "closest to 0 absolute value , float : %e\n", FLT_MIN);<br/>  printf( "closest to 0 absolute value , double : %e\n", DBL_MIN);<br/>  printf( "closest to 0 absolute value , long double : %Le\n", LDBL_MIN);}</span><span id="9156" class="ld ig hi kf b fi li lf l lg lh">/* Output :<br/>float absolute value of range : 3.402823e+38<br/>double absolute value of range : 1.797693e+308<br/>long double absolute value of range : 1.189731e+4932</span><span id="6261" class="ld ig hi kf b fi li lf l lg lh">closest to 0 absolute value , float : 1.175494e-38<br/>closest to 0 absolute value , double : 2.225074e-308<br/>closest to 0 absolute value , long double : 3.362103e-4932 */</span></pre><p id="6a18" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">执行浮点运算操作的<strong class="jf hj"> <em class="kb">类型在宏<code class="du kc kd ke kf b">FLT_EVAL_METHOD</code>中定义，在头文件<code class="du kc kd ke kf b">float.h</code>中定义。</em></strong></p><p id="666b" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">如果<code class="du kc kd ke kf b">FLT_EVAL_METHOD</code>值被设置为<code class="du kc kd ke kf b">2</code>，则通过将操作数提升为<code class="du kc kd ke kf b">long double</code>类型来执行算术运算。如果<code class="du kc kd ke kf b">FLT_EVAL_METHOD</code>被设置为<code class="du kc kd ke kf b">1</code>，则通过将操作数提升为<code class="du kc kd ke kf b">long double</code>来执行算术运算，如果任何操作数是<code class="du kc kd ke kf b">long double</code>类型，否则操作数被提升为<code class="du kc kd ke kf b">double</code>类型，即使两个操作数都是<code class="du kc kd ke kf b">float</code>类型。如果<code class="du kc kd ke kf b">FLT_EVAL_METHOD</code>设置为<code class="du kc kd ke kf b">0</code>，则算术运算以最宽操作数的类型进行。如果<code class="du kc kd ke kf b">FLT_EVAL_METHOD</code>设置为<code class="du kc kd ke kf b">-1</code>，则不可确定。</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="68a4" class="ld ig hi kf b fi le lf l lg lh">#include&lt;stdio.h&gt;<br/>#include&lt;float.h&gt;</span><span id="571d" class="ld ig hi kf b fi li lf l lg lh">int main( void){<br/>  printf( "FLT_EVAL_METHOD : %d\n" , FLT_EVAL_METHOD);}</span><span id="a8c8" class="ld ig hi kf b fi li lf l lg lh">/* Output : <br/>FLT_EVAL_METHOD : 0 */</span></pre><h1 id="6e14" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">浮点文字</h1><p id="4fcd" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">C 语言中的浮点文字，<strong class="jf hj"> <em class="kb">可以写成十进制</em> </strong>，格式如下:</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="8de5" class="ld ig hi kf b fi le lf l lg lh">d+.d*<br/>d*.d+<br/>d+[.]ed+</span></pre><p id="51a4" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">其中<code class="du kc kd ke kf b">d</code>是<code class="du kc kd ke kf b">0-9</code>之间的任意数字，<code class="du kc kd ke kf b">+</code>表示一个或多个，<code class="du kc kd ke kf b">*</code>表示零个或多个，<code class="du kc kd ke kf b">[]</code>之间的数字是可选的，<code class="du kc kd ke kf b">e</code>不区分大小写，表示数字 10 的指数。举个例子:</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="3b02" class="ld ig hi kf b fi le lf l lg lh">double x; <br/>x = 1. ;<br/>x = .1 ;<br/>x = 1.0;<br/>x = 1e1; // 10.0<br/>x = 1.E1; // 10.0</span></pre><p id="507f" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">默认情况下，C 语言中浮点文字 的<strong class="jf hj"> <em class="kb">类型是<code class="du kc kd ke kf b">double</code>类型，除非带有不区分大小写的<code class="du kc kd ke kf b">f</code>后缀，在这种情况下，它将是<code class="du kc kd ke kf b">float</code>类型，或者带有不区分大小写的<code class="du kc kd ke kf b">l</code>后缀，在这种情况下，它将是<code class="du kc kd ke kf b">long double</code>类型。举个例子:</em></strong></p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="3de0" class="ld ig hi kf b fi le lf l lg lh">float aFloat = 1.0f ;<br/>double aDouble = 1.0 ;<br/>long double alongDouble = 1.0L ;</span></pre><p id="ac11" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">一个浮点文字，也可以用十六进制记数法写成<strong class="jf hj"> <em class="kb"/></strong></p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="3732" class="ld ig hi kf b fi le lf l lg lh">0xh+[.]h*Pd+<br/>0xh*.h+Pd+</span></pre><p id="9210" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">其中<code class="du kc kd ke kf b">0x</code>不区分大小写，代表十六进制，<code class="du kc kd ke kf b">h</code>是<code class="du kc kd ke kf b">0-F</code>之间的十六进制数字，<code class="du kc kd ke kf b">+</code>表示一个或多个，<code class="du kc kd ke kf b">[]</code>之间的是可选的，<code class="du kc kd ke kf b">*</code>表示零个或多个，<code class="du kc kd ke kf b">P</code>不区分大小写，表示<code class="du kc kd ke kf b">2</code>的<code class="du kc kd ke kf b">p</code>次方，<code class="du kc kd ke kf b">d</code>是<code class="du kc kd ke kf b">0-9</code>之间的一个或多个数字。举个例子:</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="6a41" class="ld ig hi kf b fi le lf l lg lh">double x ;<br/>x = 0xfP0; // 15.0<br/>x = 0Xf.P0; // 15.0<br/>x = 0xf.0P0; // 15.0<br/>x = 0X.1P0; // 1/16 = 0.062500<br/>x = 0x.1p1; // (1/16) * 2 = 0.125000</span></pre><p id="1ba3" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated">与十进制浮点常量一样，十六进制浮点常量<strong class="jf hj"> <em class="kb">有一个默认类型</em></strong><em class="kb"/><code class="du kc kd ke kf b">double</code>。要提供十六进制浮点常量，一种类型的<code class="du kc kd ke kf b">float</code>，使用后缀<code class="du kc kd ke kf b">f</code>，不区分大小写，要给它类型的<code class="du kc kd ke kf b">long double</code>，使用后缀<code class="du kc kd ke kf b">l</code>，不区分大小写。举个例子:</p><pre class="km kn ko kp fd kz kf la lb aw lc bi"><span id="8fc4" class="ld ig hi kf b fi le lf l lg lh">float aFloat = 0x1P2f;// 4.0f<br/>double aDouble = 0x.1p3 ;// 0.5<br/>long double alongDouble = 0X.3p2L ; // 0.75L</span></pre></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><p id="7eb2" class="pw-post-body-paragraph jd je hi jf b jg kg ji jj jk kh jm jn jo ki jq jr js kj ju jv jw kk jy jz ka hb bi translated"><em class="kb">原载于 2020 年 12 月 14 日</em><a class="ae kt" href="https://twiserandom.com/c/what-is-a-float-double-long-double-and-a-floating-point-literal-in-c/" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://twiserandom.com</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>