# 正则表达式—必须具备文本分析技能

> 原文：<https://medium.com/analytics-vidhya/regular-expression-a-must-have-skills-for-text-analysis-70296c602c15?source=collection_archive---------11----------------------->

> 据 PRN 新闻专线报道，自然语言处理(NLP)的全球市场规模将从 2020 年的 99 亿美元增长到 2026 年的 276 亿美元。

![](img/7e068491c75c15ed56e7ba446aa16757.png)

沙哈达特·拉赫曼在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

由于人机交互和对人工智能(AI)需求的不断增长，工业对自然语言处理的采用呈指数增长。

客户服务中心正在迅速使用 NLP 为客户提供更好更快的服务。公司正在使用基于 NLP 的聊天机器人作为他们的第一级客户服务，服务于客户支持资源的优化和需求。

NLP 是人机交互中一项非常强大的技术。它帮助机器理解机器的自然语言。NLP 可以分为三个重要的方面。

*   ***词法处理***
*   ***句法处理***
*   s***y 策略处理***

词汇处理处理识别和分析单词的结构。句法处理处理句子的语法和句法，最后的句法处理给出机器理解并执行特定操作的句子的含义。

今天我们将讨论词汇分析中的重要话题，词汇分析被广泛用于从原始文本/数据中获取信息。正则表达式，也称为 **regex** ，是非常强大的编程工具，用于各种目的，如从文本中提取特征、字符串替换和其他字符串操作。对于要成为文本分析大师的人来说，精通正则表达式是一项必备技能。

例如，如果你想从一个很长的段落中找到电子邮件地址，如果你阅读所有的单词并检查一些规则，这将是非常乏味的。

正则表达式是一组字符，或一个**模式**，用于在给定的字符串中查找子字符串。

假设您想从一条推文中提取所有的标签。hashtag 有一个固定的模式，即一个英镑(' # ')字符后跟一个字符串。一些示例标签是—#数据科学，#人工智能。通过提供这个模式和您想要从中提取模式的 tweet(在本例中，模式是以#开头的任何字符串),您可以轻松完成这项任务。另一个例子是从一大段文本数据中提取所有的电话号码。简而言之，如果任何字符串中有一个模式，您可以使用正则表达式轻松地提取、替换和进行所有其他类型的字符串操作。

Regex 本身就是一种语言，因为它们有自己的编译器。几乎所有流行的编程语言都支持使用正则表达式，Python 也是如此。

今天我们讨论正则表达式的重要技术

*   ***量词***
*   ***主播***
*   ***元序列***

***量词***

量词允许我们提及并控制您希望字符在您的模式中出现的次数。

我们举个例子。假设你有一些来自社交媒体的数据，其中包含“饥饿”一词。列表可能看起来像这样—[饥饿，饥饿，饥饿]。您决定只提取单词“Hungry”末尾有多个“y”的元素。这就是量词发挥作用的地方。

量词有四种类型:

1.  **那个“？”操作员**
2.  **“*”运算符**
3.  **“+”运算符**
4.  **“{ m，n}”运算符**

***中的“？”数量词*** 可以用在您希望模式的前一个字符是字符串中的**可选字符的地方。例如，如果您想编写一个既匹配“dog”又匹配“dogs”的正则表达式，那么对应的正则表达式将是“dogs？”。“s”后跟“？”意味着“s”可以不存在或存在，即它可以出现零次或一次。**

***A '* '数量词*** *r* 匹配前面的字符**任意次**。例如，如果您要编写一个同时匹配“car”、“carr”和“carr”的正则表达式，则对应的正则表达式将是“car*”。“r”后跟“*”意味着“r”可以出现任意次。

**“+”量词**与前面的字符**匹配一次或多次**。这意味着前面的字符必须出现**至少一次**，模式才能匹配字符串。上面的例子将匹配单词“ca ”,因为它包含 0“r ”,这正是我们想要的。所以我们希望--至少有一个“R ”,可以正确地找到序列。这里的'+'量词拯救了我们，它将匹配一次或多次。对于上面的例子，如果正则表达式“car+”将匹配 car，carr 而不是 ca。

让我们修改一下我们上面讨论的内容。我们已经讨论了 3 个量词。

*   **'？':**可选前置字符
*   **'*':** 匹配前面的字符零次或多次
*   **+':** 匹配前面的字符一次或多次(即至少一次)

让我们讨论一个场景，在这个场景中，我们只需要将一个字符匹配到某个特定的时间。例如，我想匹配“car”和“carr ”,而不是结尾有 3 个“R”的单词“carrr”。

在这种情况下，这里有量词拯救的变体。量词有四种变体:

1.  **{m，n}** :匹配前面的字符‘m’次到‘n’次。
2.  **{m，}** :匹配前一个字符‘m’次到无限次，即前一个字符的出现次数没有上限。
3.  **{，n}** :匹配前一个字符 0 到‘n’次，即前一个字符的出现次数上限是固定的。
4.  **{n}** :如果前面的字符出现了 n 次，则匹配。

***注:-*** 值得注意的一个有趣的事情是，这个量词可以代替“？”、“*”和“+”量词。这是因为:

*   '?'相当于零或一次，或{0，1}
*   * '相当于零次或多次，或者{0，}
*   +'相当于一次或多次，或{1，}

***分组:***

到目前为止，我们已经使用了以单个字符开头的量词，这意味着以量词开头的字符可以重复指定的次数。如果你想为一组字符写一个正则表达式，那么你需要用括号将一些字符括起来，量词将寻找一组字符的重复，而不仅仅是寻找前面字符的重复。这个概念在正则表达式行话里叫做**分组**。例如，模式'(abc){1，3} '将匹配以下字符串:

*   字母表
*   abcabc
*   abcabcabc

***管道操作员:***

它由“|”表示。管道运算符用作 or 运算符。您需要在括号内使用它。例如，模式“(你的|我的)自我”将匹配两个字符串——“我自己”和“你自己”。管道运算符告诉我们，括号内的位置可以是“your”或“my”。

同样，模式“(SBI|CITI)银行”将匹配字符串“CITI 银行”和“SBI 银行”。即使括号中有管道操作符，也可以像往常一样在括号后使用量词。不仅如此，括号中可以有无限数量的管道操作符。

**转义序列**。***:***

你会发现自己经常处于需要提到诸如“？”这样的字符的情况、' * '、+'、'('、')'、' { '等。在你的正则表达式中。这些被称为**特殊字符**，因为当它们出现在 regex 模式中时有特殊的含义(正如您已经看到的)。

假设您想从一个文档中提取所有的问题，并且假设所有的问题都以问号“？”结尾。所以你需要用“？”在正则表达式中。“现在，你已经知道了吗？”在正则表达式中有特殊的含义。那么，如何告诉正则表达式引擎您希望在句子中逐字匹配问号，而不是作为一个特殊字符(默认情况下是这样的)？

在这种情况下，你需要使用**转义序列**。由反斜杠“\”表示的转义序列用于转义特殊字符的特殊含义。要逐字匹配一个问号，你需要用“\？”(这叫逃避角色)。

***注意:***“\”本身就是一个特殊的字符，要字面匹配“\”字符，也需要对其进行转义。您可以使用模式' \\ '来转义反斜杠。

***锚点***

锚点用于指定字符串的开始和结束。有两种类型的锚点字符。'^'和“$”。

'^'指定字符串的开始。模式中'^'后面的字符应该是字符串的第一个字符，这样字符串才能匹配模式。

类似地，' $ '指定了字符串的结尾。模式中' $ '之前的字符应该是字符串中的最后一个字符，以便字符串与模式匹配。

两个锚点都可以在一个正则表达式中指定。例如，正则表达式模式'^01*0$'将匹配任何以零开头和结尾，中间有任意数量的 1 的字符串。它将匹配“010”、“0110”、“0111111110”，甚至“00”(“*”匹配零个或多个 1)。但它不会与字符串“0”匹配，因为该字符串中只有一个 0，并且在模式中，我们已经指定需要两个 0，一个在开头，一个在结尾。

***通配符***

正则表达式中有一个特殊字符充当占位符，它可以匹配任何字符(字面意思！)在给定的输入字符串中。是“.”(点)字符也称为**通配符。**

例如，如果要求您编写一个正则表达式模式，该模式应该匹配一个以四个字符开头，后跟三个 0 和两个 1，再后跟任意两个字符的字符串。有效字符串可以是 abcd00011ft、jkds00011hf 等。满足这种条件的模式应该是。{4}0{3}1{2}.{2}'.你也可以用“….00011 ..”其中点充当占位符，这意味着任何东西都可以放在点的位置上。两者都是正确的正则表达式模式。

**字符集**

在上面的例子中，没有办法判断前面的字符是一个数字，还是一个字母，还是一个特殊字符，或者是它们的组合。

例如，假设您想在一个大文档中匹配电话号码。您知道数字可能包含连字符、加号等。(例如+91–9930839123)，但它没有任何字母。您需要以某种方式指定您只寻找数字和一些其他符号，但避免字母。

为了处理这种情况，您可以使用正则表达式行话中所谓的**字符集**。

字符集比只键入通配符或文字字符提供了更多的灵活性。字符集可以用量词指定，也可以不用量词指定。如果字符集后面没有量词，则它只匹配一个字符，并且只有当字符串中的字符是字符集内的字符之一时，匹配才成功。例如，模式“[a-z]ed”将匹配诸如“ted”、“bed”、“red”等字符串，因为每个字符串的第一个字符“t”、“b”和“r”出现在字符集的范围内。

***注意:-***'^'有两个用例。您已经知道它可以在字符集之外用来指定字符串的开始。在这里，它被称为**锚**。

它的另一个用途是在字符集里面。当在一个字符集中使用时，它作为一个**补充操作符**，即它指定它将匹配除了在字符集中提到的那些字符之外的任何字符。

模式[0–9]匹配任何一位数。另一方面，模式'[^0-9]'匹配任何不是数字的一位数字符。

***奖金信息:***

有几个网站有助于验证你的正则表达式。你可以在网站上复制粘贴你的正则表达式，以了解你的正则表达式的匹配模式。这对创建、调试和测试正则表达式非常有帮助。

1.  **regex 101**

 [## Regex101

### Regex101 允许你为 PHP、PCRE、Python、Golang 和…创建、调试、测试和解释你的表达式

regex101.com](https://regex101.com/) 

**2。正则表达式**

[https://regexone.com/lesson/introduction_abcs](https://regexone.com/lesson/introduction_abcs)

感谢阅读！！