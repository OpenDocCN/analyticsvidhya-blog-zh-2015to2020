<html>
<head>
<title>Data Visualization of American Unisex Names</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">美国男女通用名称的数据可视化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-visualization-of-american-unisex-names-1b46077014cf?source=collection_archive---------14-----------------------#2019-10-08">https://medium.com/analytics-vidhya/data-visualization-of-american-unisex-names-1b46077014cf?source=collection_archive---------14-----------------------#2019-10-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="72ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">你叫什么名字？你见过同名的人吗？他们和你的性别一样吗？</em></p><p id="3134" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我一直对数据分析感兴趣，但我不知道在哪里可以找到数据集。然而，最近我听说了<a class="ae je" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>、<a class="ae je" href="https://ourworldindata.org/" rel="noopener ugc nofollow" target="_blank">我们的数据世界</a>和<a class="ae je" href="https://github.com/fivethirtyeight/data" rel="noopener ugc nofollow" target="_blank">fivethirtyeght GitHub库</a>。在查看<a class="ae je" href="https://github.com/fivethirtyeight/data" rel="noopener ugc nofollow" target="_blank"> FiveThirtyEight GitHub资源库</a>时，我发现了一个<a class="ae je" href="https://github.com/fivethirtyeight/data/tree/master/unisex-names" rel="noopener ugc nofollow" target="_blank">有趣的数据集</a>，我决定用<code class="du jf jg jh ji b">pandas</code>对其进行分析，并用<code class="du jf jg jh ji b">seaborn</code>和<code class="du jf jg jh ji b">matplotlib</code>对其进行可视化。</p><h1 id="aa6a" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">使用的工具</h1><ul class=""><li id="0b81" class="kh ki hi ih b ii kj im kk iq kl iu km iy kn jc ko kp kq kr bi translated"><a class="ae je" href="https://colab.research.google.com" rel="noopener ugc nofollow" target="_blank"> Google Colab </a>编写代码，一次只执行一部分代码</li><li id="8be4" class="kh ki hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">Python <a class="ae je" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>库操纵数据</li><li id="42bb" class="kh ki hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">Python <a class="ae je" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>库来可视化结果(以及<a class="ae je" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>因为seaborn太高级了)</li></ul><h1 id="00e1" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">关于数据集</h1><ul class=""><li id="7645" class="kh ki hi ih b ii kj im kk iq kl iu km iy kn jc ko kp kq kr bi translated">关于这个数据集的<a class="ae je" href="https://fivethirtyeight.com/features/there-are-922-unisex-names-in-america-is-yours-one-of-them/" rel="noopener ugc nofollow" target="_blank">fivethirtyeeight文章的作者</a>在文章中写道:</li></ul><blockquote class="kx ky kz"><p id="9f13" class="if ig jd ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated">我使用了社会安全管理局100多年的数据来创建这个最中性的名字列表。(SSA有关于至少给五个人起名字的数据，但我把最低门槛定在100人，以确保一个名字足够流行，以确定它实际上是否是中性的。)使用同样来自SSA的精算表，我对姓名数据进行了调整，以逼近目前以每个姓名生活的人数。</p></blockquote><ul class=""><li id="287e" class="kh ki hi ih b ii ij im in iq ld iu le iy lf jc ko kp kq kr bi translated"><a class="ae je" href="https://github.com/fivethirtyeight/data/tree/master/unisex-names" rel="noopener ugc nofollow" target="_blank">数据集</a>包含一个男女通用的名字的表格，在美国至少有三分之一的时间和最少100人使用这些名字。它有五列(<code class="du jf jg jh ji b">name</code>、<code class="du jf jg jh ji b">total</code>、<code class="du jf jg jh ji b">male_share</code>、<code class="du jf jg jh ji b">female_share</code>和<code class="du jf jg jh ji b">gap</code>)和来自2，887，002人的919个名字。我还喜欢这个数据集一点也不技术性，所以它的平易近人是我选择它的另一个原因。</li></ul><h1 id="2715" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">清理数据集</h1><p id="ee08" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">数据集已经很整洁了。除了第一个字符，每个名字都是小写的，并且至少有两个字符长。它有很好的列名，所以不需要重命名列。没有丢失数据，所以我可以使用所有919行。问题是数据集是其他人基于老化曲线的估计，所以<code class="du jf jg jh ji b">total</code>列都是<code class="du jf jg jh ji b">float</code>的。因此，我开始将整个<code class="du jf jg jh ji b">total</code>列转换为<code class="du jf jg jh ji b">int</code>。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">我不需要gap列，所以我添加了DataFrame的子集。</figcaption></figure><h1 id="bd75" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">视觉化1:男女通用但偏？</h1><p id="75c1" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">首先，我从一个显而易见的问题开始。即使他们是男女通用的名字，性别比例也不会是一半对一半。<em class="jd">哪些名字男生用的多，哪些名字女生用的多？</em>我只考虑了使用次数超过5000次的名字。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">是的，我喜欢静态类型提示，即使这会使代码更长。</figcaption></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es lu"><img src="../Images/766a3d441364dcb9d565c0016a01e8d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*NzfIsCWVzmKkY-xBm3yTCw.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">当然Tommie更有可能是男生，Sky更有可能是女生。</figcaption></figure><h1 id="6057" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">可视化2:名称长度的分布</h1><p id="2c86" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">我想知道的另一件事是长度的分布。韩国人的名字绝大多数都是三个字母长，但是美国人的名字呢？此外，长度是名称的少数几个数字属性之一，这使得它更容易操作。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">我在这里使用了方便的Series.value_counts()方法。</figcaption></figure><p id="5dc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果在Google Colab上打印结果，您会得到以下输出。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es lx"><img src="../Images/a5c96ee3f9b99c6bad061d42f6f427f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*SYhp-2XfFT7BugEqdHkBYw.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">表格形式的名称长度分布</figcaption></figure><p id="93d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你所看到的，85%的男女通用的名字有4到7个字母长。(不知道这和男性化/女性化的名字有没有统计学上的区别。)不到1%的名字是10个字符或更长。</p><p id="ca0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我喜欢表格，但是表格并不是可视化的最佳形式。这是同样数据的饼状图。我将百分比四舍五入，如果百分比小于1，则排除百分比。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">不幸的是，seaborn没有任何饼图，所以我使用了matplotlib。</figcaption></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es ly"><img src="../Images/30fe3fa9daf9f637e491b9c1fa73d38f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*IEjR-A3RPO7P6IJc6riDRQ.png"/></div></figure><h1 id="86c9" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">视觉化3:第一个元音在哪里？</h1><p id="1f55" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">我的第三个问题是“第一个元音在哪里？”我的假设是大多数名字的前两个字母都有一个元音，但我想用数字来验证一下。首先，我创建了一个函数来确定第一个元音的位置。因为有些名字可能根本没有元音，所以我使用了基于1的索引，因为如果根本没有元音，我需要指定0。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">如你所见，我不认为“y”是元音。</figcaption></figure><p id="0770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果打印出最后一行，它返回6。这意味着元音总是出现在前六个字符中，如果有的话。然后我写了一个返回英文序数的函数，使其可读性更好。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">是的，我喜欢用逗号结尾。</figcaption></figure><p id="42ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们再做一个饼状图。你认为结果会是什么？</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">看看那些百分号…</figcaption></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es lz"><img src="../Images/32222b5cda5007f05d25c7f051ca5a05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*hiS43nKqplPgDyRjA_kaiw.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">这是你所期望的吗？</figcaption></figure><p id="935a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大约三分之二的男女通用的名字以一个辅音开头，后面跟着一个元音。等等，96%的男女通用名字前三个字里面都有一个元音，有道理，但是剩下的4%到底是什么呢？</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">。to_numpy()将数据帧或序列转换为numpy数组。</figcaption></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/8a4fa99b5e9e83d8f83c48aa3a90d786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-DhuU1ZJafESup1AdYh9Q.png"/></div></div></figure><p id="280b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你们一群'<em class="jd"> y </em>的，你们看<em class="jd">为什么</em>。不过，我没有想到像天空这样的名字。你预料到了吗？</p><h1 id="f425" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">可视化4:第一个/最后一个字母</h1><p id="b1ac" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">我的名字以“j”开头，其他许多名字也是如此。在美国男女通用的名字中也是如此吗？让我们看看哪五个字母最常用/最少用做男女通用名字的第一个字符。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mf"><img src="../Images/32b94b027d0d1bd2d6ff6fc9612c65c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*fI1ECOLi26JRKxdneoqjkA.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">是的，` j '是用作名字第一个字母的前几个字母之一。</figcaption></figure><p id="0378" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且<code class="du jf jg jh ji b">seaborn</code>可以在一行代码中可视化这一点！</p><pre class="lj lk ll lm fd mg ji mh mi aw mj bi"><span id="f3ed" class="mk jk hi ji b fi ml mm l mn mo">import seaborn as sns</span><span id="6314" class="mk jk hi ji b fi mp mm l mn mo">sns.barplot(x='first', y='percentage(%)', data=fld2)</span></pre><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mq"><img src="../Images/cd66d7c0eae5066be385fe1516df14d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*hui-Q1uZBsA3w4boU-t4Iw.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">最常用/最不常用作名字首字母的字母</figcaption></figure><p id="fc83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以对最后一封信做同样的事情。这次让我跳过桌子。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mq"><img src="../Images/a9831120e052447a4e08459218804faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*-GHmPH1ycNT2sJeIBoVVDg.png"/></div></figure><p id="dcfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超过四分之一的中性名字以“n”结尾，这还不包括像“Divine”(以/n/音素结尾，但不以字母“n”结尾)这样的名字！</p><h1 id="04a7" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">可视化5:元音/辅音的比例</h1><p id="3ca6" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">我也很好奇一个名字有多少是由元音组成的。</p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mr"><img src="../Images/5089d15d412acd561aa067d544a5a8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*YhE9aAvjwjFzHN6aQjkavA.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">中性名中元音比例直方图</figcaption></figure><p id="fe9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于辅音的比例，你可能会期待另一个关于<code class="du jf jg jh ji b">proportion=0.5</code>完全对称的直方图，但那不是真的！<a class="ae je" href="https://github.com/numpy/numpy/blob/v1.17.0/numpy/lib/histograms.py#L740" rel="noopener ugc nofollow" target="_blank">半开区间让事情变复杂</a>。如果将<code class="du jf jg jh ji b">[0, 1]</code>的范围分成10个面元，则区间<code class="du jf jg jh ji b">[0.5, 0.6)</code>中的所有<code class="du jf jg jh ji b">prop_vowels</code>将被表示为第六个面元。同样，<code class="du jf jg jh ji b">prop_consonants == 1 — prop_vowels</code>和<code class="du jf jg jh ji b">(0.4, 0.5)</code>中的所有数字都如预期的那样被表示为第五个二进制数。但是，0.5(等于<code class="du jf jg jh ji b">1 — 0.5</code>)包含在下一个容器的<em class="jd">中，使得直方图不对称。</em></p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mr"><img src="../Images/1bf9ea56610214960acd13bba6b4aee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*-fiLIsnBl5s7dp066yWxKw.png"/></div></figure><h1 id="1b04" class="jj jk hi bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg bi translated">警告和进一步研究</h1><ul class=""><li id="d00f" class="kh ki hi ih b ii kj im kk iq kl iu km iy kn jc ko kp kq kr bi translated">如前所述，最初的作者调整了数据，使其接近目前使用每个名字生活在的<em class="jd">人的数量。尽管这是基于来自SSA的实际数据，但并不完全来自SSA。</em></li><li id="ab5b" class="kh ki hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">数据集只包含美国的男女通用的名字。如果有其他国家的名字就更全面了。然后，我就可以比较不同国家之间的异同。例如，领先的“j”在不同国家是否普遍存在？</li><li id="468c" class="kh ki hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">数据集只包含美国的男女通用的名字。如果我有完整的美国名字，我就可以比较这两个名字，看看男女通用的名字有什么特别之处。</li><li id="a52f" class="kh ki hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">数据集只包含每个名字的<em class="jd">拼写</em>。如果它也包含音素，我可以做一些语音分析。比如很多名字都是以‘e’结尾的，但这并不意味着最后的音是/e/。如果发<em class="jd">正义</em>的话，以a /s/音结尾。这样我就可以把不同的名字当作同一个名字来对待。此外，发音比拼写更能描述名字。有时你甚至不能仅仅通过拼写来读一个人的名字。</li></ul></div></div>    
</body>
</html>