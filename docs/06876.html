<html>
<head>
<title>Regular Expression — A very important tool for data science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正则表达式——数据科学的重要工具</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/regular-expression-a-very-important-tool-for-data-science-6806110b5e43?source=collection_archive---------18-----------------------#2020-06-05">https://medium.com/analytics-vidhya/regular-expression-a-very-important-tool-for-data-science-6806110b5e43?source=collection_archive---------18-----------------------#2020-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="01ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2020年6月5日</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5f374f2a905e8a8f51712458d48a19c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pHXaujJmm7T45Eoe"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由<a class="ae jt" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="bc11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">写这篇博客的灵感:fastai课程(Jeremy说正则表达式是考虑学习的重要工具。完成第一部分课程后，我想写一篇关于这个的博客，但是忘记了。我应该早点写这篇博客，但是在我浏览fastai v2时才想起这个话题)</p><p id="8938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查<a class="ae jt" href="https://dev.fast.ai/" rel="noopener ugc nofollow" target="_blank"> fastai v2 </a></p><p id="d463" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式是一个字符序列，主要用于查找和替换字符串或文件中的模式。</p><p id="f644" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们讨论使用正则表达式可以解决的问题。(示例来自fastai课程)</p><p id="0b2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在解决深度学习问题时，我们有数据集，可能会有标签存储在文件名中的时候。这样我们就有了路径，并需要从中提取标签。或者你可能需要从网站上提取信息。在这些或类似情况下，正则表达式是重要的工具。</p><p id="b523" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们先从简单的例子开始。</p><p id="17aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设你有一个文档，你想搜索名字为‘Kiran’(姓氏可以是任何东西)的所有人的名字，该怎么做呢？？<br/>这里正则表达式开始发挥作用。</p><p id="89b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式:'<strong class="ih hj"> Kiran\s\w+\s' </strong></p><p id="f743" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的s表示一个空格，\w表示字符+表示一个或多个字符。<br/>这将提取名字为Kiran、姓氏为Kiran的所有姓名。</p><p id="5dab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看标签位于文件名路径中的示例:</p><p id="29a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ju jv jw jx b">data/oxford-iiit-pet/images/american_bulldog_146.jpg</code></p><p id="a8ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ju jv jw jx b">data/oxford-iiit-pet/images/german_shorthaired_137.jpg</code></p><p id="c6e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">美国牛头犬是这个形象的标签。<br/>但是怎么提取呢？？？</p><p id="9c4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编写正则表达式类似于我们处理问题的方式。看到上面的例子，我们可以知道标签是在最后一个正斜杠(/)后找到的，在标签后我们有数字，路径以<code class="du ju jv jw jx b">.jpg</code>格式结束</p><p id="805e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式是<strong class="ih hj"> /([^/]+)_\d+.jpg$ </strong></p><p id="7442" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我会一步步解释。</p><p id="caae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> $ </strong>表示我们正在解释的文本结束</p><p id="93fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。确保在文本结束之前，我们有正确格式的jpg。</p><p id="852b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> \d </strong>表示数字位数，+表示多位数。</p><p id="3628" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数字前有下划线吗</p><p id="2d8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">(【^/]+】</strong>是为了寻找一组不含正斜杠的字符，【】表示我们感兴趣的字符。<strong class="ih hj">^</strong>‘是否定。</p><p id="03a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">开始时的正斜杠</strong>是告诉我们当我们点击正斜杠时搜索结束。</p><p id="7f47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> /([^/]+)_\d+.jpg$ </strong>给出了我们想要的标签，即本例中的<code class="du ju jv jw jx b">american_bulldog</code>。</p><p id="365b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ju jv jw jx b">python code</code></p><pre class="je jf jg jh fd jy jx jz ka aw kb bi"><span id="e5fe" class="kc kd hi jx b fi ke kf l kg kh">import re string = 'data/oxford-iiit-pet/images/american_bulldog_146.jpg' <br/>pat = r'([^/]+)_\d+.jpg$' <br/>pat = re.compile(pat) <br/>print(pat.search(string).group(1)) </span><span id="abd0" class="kc kd hi jx b fi ki kf l kg kh">&gt;american_bulldog</span></pre><p id="236d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重要的正则表达式备忘单:</p><pre class="je jf jg jh fd jy jx jz ka aw kb bi"><span id="daa7" class="kc kd hi jx b fi ke kf l kg kh">^ Start of string <br/>$ End of string <br/>\b Word boundary <br/>* 0 or more <br/>+ 1 or more <br/>? 0 or 1 <br/>\s White space <br/>\S Not white space <br/>\d Digit <br/>\D Not digit <br/>\w Word <br/>\W Not word <br/>\ Escape following character <br/>\n New line <br/>\t Tab <br/>. Any character except new line (\n) <br/>\[a-z] Lower case letter from a to z<br/>\[A-Z] Upper case letter from A to Z<br/>(a|b) a or b <br/>\[abc] Range (a or b or c) <br/>\[^abc] Not (a or b or c) <br/>\[0-7] Digit from 0 to 7</span></pre><p id="8255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经用两个例子解释了正则表达式，但是目的是向你介绍正则表达式以及它能做什么。这篇博客旨在向您介绍正则表达式的强大功能。如果学会了如何使用正则表达式，它会成为你数据科学工具箱中的重要工具。</p><p id="de97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您阅读博客。</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="cf2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kq">最初发布于</em><a class="ae jt" href="https://kirankamath.netlify.app/blog/regular-expression-a-very-important-tool/" rel="noopener ugc nofollow" target="_blank"><em class="kq">https://kirankamath . netlify . app</em></a><em class="kq">。</em></p></div></div>    
</body>
</html>