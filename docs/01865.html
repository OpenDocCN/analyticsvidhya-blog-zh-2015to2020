<html>
<head>
<title>Use BIRT to generate reports from CSV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用BIRT从CSV生成报告</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/use-birt-to-generate-reports-from-cvs-e8e9e5972992?source=collection_archive---------13-----------------------#2019-11-18">https://medium.com/analytics-vidhya/use-birt-to-generate-reports-from-cvs-e8e9e5972992?source=collection_archive---------13-----------------------#2019-11-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="02c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在BIRT从CSV或其他类型的平面文件中获取数据，您可以使用平面文件数据源。如果生成动态参数报告，可以创建第二个数据集来使用该参数并过滤原始数据集。如果您使用未格式化的CSV文件作为数据源并生成报告，您需要实现脚本数据源来引入数据。如何像SQL对平面文件那样查询数据并创建动态参数报告？怎样才能用一种简单易行的方式取代脚本数据源呢？我们如何在一个文件中处理所有的平面文件？答案是在Birt中使用esProc。</p><p id="189c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面举个例子介绍一下实现过程:<br/>本例中，员工销售信息存储在sale.csv中，需要根据输入参数查询日期大于2015–03–02的员工信息。</p><p id="3f45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">sale.csv数据如下:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="6479" class="jm jn hi ji b fi jo jp l jq jr">userName,date,saleValue,saleCount<br/>    Rachel,2015-3-1,4500,9<br/>    Rachel,2015-3-3,8700,4<br/>    Tom,2015-3-2,3000,8<br/>    Tom,2015-3-3,5000,7<br/>    Tom,2015-3-4,6000,12<br/>    John,2015-3-2,4000,3<br/>    John,2015-3-2,4300,9<br/>    John,2015-3-4,4800,4 </span><span id="685e" class="jm jn hi ji b fi js jp l jq jr"> userName,date,saleValue,saleCount<br/>    Rachel,2015-3-1,4500,9<br/>    Rachel,2015-3-3,8700,4<br/>    Tom,2015-3-2,3000,8<br/>    Tom,2015-3-3,5000,7<br/>    Tom,2015-3-4,6000,12<br/>    John,2015-3-2,4000,3<br/>    John,2015-3-2,4300,9<br/>    John,2015-3-4,4800,4 <br/> userName,date,saleValue,saleCount<br/>    Rachel,2015-3-1,4500,9<br/>    Rachel,2015-3-3,8700,4<br/>    Tom,2015-3-2,3000,8<br/>    Tom,2015-3-3,5000,7<br/>    Tom,2015-3-4,6000,12<br/>    John,2015-3-2,4000,3<br/>    John,2015-3-2,4300,9<br/>    John,2015-3-4,4800,4 </span><span id="7105" class="jm jn hi ji b fi js jp l jq jr"> userName,date,saleValue,saleCount<br/>    Rachel,2015-3-1,4500,9<br/>    Rachel,2015-3-3,8700,4<br/>    Tom,2015-3-2,3000,8<br/>    Tom,2015-3-3,5000,7<br/>    Tom,2015-3-4,6000,12<br/>    John,2015-3-2,4000,3<br/>    John,2015-3-2,4300,9<br/>    John,2015-3-4,4800,4</span></pre><p id="becb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们展示了如何在birt中使用CSV数据源的参数。</p><p id="33cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里不介绍BIRT与esProc的集成。请参考<a class="ae jt" href="http://c.raqsoft.com/article/1544410181816" rel="noopener ugc nofollow" target="_blank">如何在BIRT </a>调用SPL脚本。</p><p id="1d66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤1 </strong>:添加一个esProc JDBC数据源。</p><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es ju"><img src="../Images/4294b30790ab9fd3087444f7561b140f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/0*Q-r7qa83qrwuEKB-"/></div></figure><p id="8ab8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步</strong>:添加数据集，直接写SQL查询CSV文件。</p><p id="3ddc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查询文本:</p><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es jy"><img src="../Images/7e86e7c0da750aee8b45cf3898edda45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*KDOggriOCeK5wDWW"/></div></figure><p id="683a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">报告参数:</p><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es jz"><img src="../Images/a4059b6f15af2bfbe7828f9c8403c7a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/0*8399Yg47XPWy4Qxi"/></div></figure><p id="f7d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置数据集参数并将它们链接到报表参数:</p><figure class="jd je jf jg fd jv er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ka"><img src="../Images/d65242e0ab1ab964fc41246f1891f46b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u15sYckvbEmbjfzi"/></div></div></figure><p id="01e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步</strong>:创建报表</p><p id="9a6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该报告设计如下:</p><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es kf"><img src="../Images/61076092406dfe9887ae7022978ac310.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/0*R5_Fz7YiQ0PbxbQc"/></div></figure><p id="c1c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步</strong>:网页预览，输入参数，预览结果:</p><p id="628b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(1)输入参数:日期2015年3月2日</p><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es kg"><img src="../Images/53ecfd542e04edf3f9328c1244ebc012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/0*qiKG0agfqe9GKfSI"/></div></figure><figure class="jd je jf jg fd jv er es paragraph-image"><div class="er es kh"><img src="../Images/b7e69c363afbc4c6b53e3e72330c9ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/0*CGu61W_PH3NZ2bRd"/></div></figure><p id="ed31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多示例，程序文本文件参考以下<a class="ae jt" href="http://c.raqsoft.com/article/1571711703952" rel="noopener ugc nofollow" target="_blank">结构化文本计算</a>。</p></div></div>    
</body>
</html>