<html>
<head>
<title>6 Python3 ‘secrets’ many may not know about</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6很多人可能不知道的Python3“秘密”</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/python3-secrets-not-many-know-about-34899f54b23d?source=collection_archive---------23-----------------------#2020-07-13">https://medium.com/analytics-vidhya/python3-secrets-not-many-know-about-34899f54b23d?source=collection_archive---------23-----------------------#2020-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6f68" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">你真的了解python吗？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/ea1042ae8bb78e42b4b1a98fd1d1a78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HwN18ojuFC4A73DL"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">克里斯里德在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="c1a7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Python是一种很棒的编程语言。很多人用它来自动化任务、编写应用、制作机器学习模型、解析JSON等。它很受欢迎，因为它容易阅读和理解。</p><blockquote class="kk kl km"><p id="04ab" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated"><strong class="jq hj">Python</strong>是一种<a class="ae jn" href="https://en.wikipedia.org/wiki/Interpreted_language" rel="noopener ugc nofollow" target="_blank">解释的</a>、<a class="ae jn" href="https://en.wikipedia.org/wiki/High-level_programming_language" rel="noopener ugc nofollow" target="_blank">高级</a>、<a class="ae jn" href="https://en.wikipedia.org/wiki/General-purpose_programming_language" rel="noopener ugc nofollow" target="_blank">通用</a>、<a class="ae jn" href="https://en.wikipedia.org/wiki/Programming_language" rel="noopener ugc nofollow" target="_blank">编程语言</a>。由<a class="ae jn" href="https://en.wikipedia.org/wiki/Guido_van_Rossum" rel="noopener ugc nofollow" target="_blank">吉多·范·罗苏姆</a>创建并于1991年首次发布，Python的设计理念强调<a class="ae jn" href="https://en.wikipedia.org/wiki/Code_readability" rel="noopener ugc nofollow" target="_blank">代码可读性</a>，并显著使用了<a class="ae jn" href="https://en.wikipedia.org/wiki/Off-side_rule" rel="noopener ugc nofollow" target="_blank">重要空格</a>。它的<a class="ae jn" href="https://en.wikipedia.org/wiki/Language_construct" rel="noopener ugc nofollow" target="_blank">语言结构</a>和<a class="ae jn" href="https://en.wikipedia.org/wiki/Object-oriented_programming" rel="noopener ugc nofollow" target="_blank">面向对象</a>方法旨在帮助<a class="ae jn" href="https://en.wikipedia.org/wiki/Programmers" rel="noopener ugc nofollow" target="_blank">程序员</a>为小型和大型项目编写清晰、有逻辑的代码。”</p><p id="d36b" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">—维基百科</p></blockquote><p id="61c6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是你以为你了解python的一切吗？你认为你知道所有的语法吗？你以为没有别的会让你惊讶吗？</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="da03" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">在这篇文章</strong>(我的第一篇文章🥳)中，我将谈论一些python，具体来说是<a class="ae jn" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> <em class="kn"> CPython3.8 </em> </a>，‘秘密’连我以前都不知道。其中一些可能会使你的程序更具可读性；其中一些可能<strong class="jq hj">会</strong>你的程序<strong class="jq hj">更快</strong>；他们中的一些人<strong class="jq hj">可能没有那么神秘</strong>；他们中的一些人很傻🤪。</p><p id="b101" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所以，事不宜迟，让我们开始吧！</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="9dd3" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">1:海象运营商</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/2753d4abae086df97359ec4e1354a864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l4mqOnPQ_DBivSpe"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@wolsenburg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰伊·鲁泽斯基</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="476d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在python3.8中引入的walrus操作符是我最喜欢的python“秘密”之一。大概是这样的:<code class="du lu lv lw lx b">:=</code>。这是另一个赋值操作符，但是<em class="kn">有点变形</em>:你可以在任何表达式中使用它们，而不仅仅是在它自己的行中。</p><blockquote class="kk kl km"><p id="5871" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">“Guido发现了几个程序员重复一个子表达式的例子，为了节省一行代码，减慢了程序的速度…”—<a class="ae jn" href="https://www.python.org/dev/peps/pep-0572/" rel="noopener ugc nofollow" target="_blank">PEP 572:赋值表达式</a></p></blockquote><p id="6b7b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">“谁会这么做？”你可能会想。以此为例:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="a437" class="ky kz hi lx b fi mc md l me mf">group = re.match(data).group(1) if re.match(data) else None</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mg"><img src="../Images/6136a03cf07f983bb66c7f7201bb0dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*cF2VedI-e0xwFmi1pgnIYw.jpeg"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">用Imgflip制成</figcaption></figure><p id="343d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">等等，怎么了？这是一个大禁忌。第一:它不是那么可读。我的意思是，我个人可以理解，但少于10个脑细胞的人可能不理解。</p><p id="b0f2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第二:效率低下。我知道你不应该过多地优化你的python代码，但是这是一个糟糕的做法:你调用函数<code class="du lu lv lw lx b">re.match</code>两次！我们都知道<a class="ae jn" href="https://stackoverflow.com/questions/22893139/why-is-a-function-method-call-in-python-expensive" rel="noopener ugc nofollow" target="_blank">函数调用是昂贵的</a>。但是，像这样的情况是相关的:我不认为很多人会想打这个:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="ce6d" class="ky kz hi lx b fi mc md l me mf">match = re.match(data)<br/>group = match.group(1) if match else None</span></pre><blockquote class="kk kl km"><p id="f8d9" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">另一个例子说明程序员有时会做更多的工作来节省额外的缩进量:</p><p id="9bad" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">match1 =模式1.match(数据)<br/> match2 =模式2.match(数据)<br/>if match 1:<br/>result = match 1 . group(1)<br/>elif match 2:<br/>result = match 2 . group(2)<br/>else:<br/>result = None</p><p id="8226" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">更有效的重写应该是:</p><p id="857a" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">match1 =模式1.match(数据)<br/>if match 1:<br/>result = match 1 . group(1)<br/>else:<br/>match 2 =模式2.match(数据)<br/>if match 2:<br/>result = match 2 . group(2)<br/>else:<br/>result = None</p><p id="35c9" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">”—人教版572</p></blockquote><p id="8c98" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">圭多也不这么认为。所以圭多决定这样做:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="fa39" class="ky kz hi lx b fi mc md l me mf"># Handle a matched regex<br/>if (match := pattern.search(data)) is not None:<br/>    # Do something with match</span></pre><p id="c067" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这比调用两次<code class="du lu lv lw lx b">pattern.search(data)</code>要快得多。可爱的walrus运算符(<code class="du lu lv lw lx b">:=</code>)用于内联赋值变量。这是另一个例子:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="b839" class="ky kz hi lx b fi mc md l me mf">[y := f(x), y**2, y**3]</span></pre><p id="26ab" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因为函数调用是昂贵的(比如内存使用)，我们将变量<code class="du lu lv lw lx b">y</code>赋给返回的表达式<code class="du lu lv lw lx b">f(x)</code>。这样，我们就不用给<code class="du lu lv lw lx b">f()</code>打三次电话了。</p><p id="4cd6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">只要记住:<strong class="jq hj">你几乎总是需要在操作符</strong>两边加括号(是的，你可以这样做:<code class="du lu lv lw lx b">(some_var := 'foo')</code>在它自己的行上！).别说海象了，其他的呢？</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><h2 id="46a7" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">2.for/else语法</h2><p id="aa1e" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">这个很奇怪。但是相信我，网上没多少人跟你说这个。</p><p id="69d5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当您编写python代码时，在某些时候您会做类似这样的事情:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="23ad" class="ky kz hi lx b fi mc md l me mf">for thing in some_list:<br/>    if thing == "foo":<br/>        break</span></pre><p id="ed51" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是你知道你可以做这样的事情吗？：</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="9c16" class="ky kz hi lx b fi mc md l me mf">for thing in some_list:<br/>    if thing == "foo":<br/>        break<br/>else:<br/>    print("The for loop never exited abnormally")<br/>    print("'thing' was never 'foo'")</span></pre><p id="cc76" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">虽然我个人从来没有用过这个，但它可能对其他人有用！</p><h2 id="22d8" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">3.尝试/except &gt; if/else</h2><p id="3cd2" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">很棒:它们可以帮助你捕捉、处理和消除各种错误。如果代码没问题，它就没问题，python就会继续运行。问题是，与LBYL相比，这也是一种更狡猾的方式。实际上我从来不知道，直到我在StackOverflow上问了这个问题。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/c77c7a4217dc95915d2be639f1f315c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cPL_WbIP1wZ7oLCp"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@lanesmith?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">莱恩·史密斯</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="939d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">LBYL(<strong class="jq hj">L</strong>ook<strong class="jq hj">B</strong>before<strong class="jq hj">Y</strong>ou<strong class="jq hj">L</strong>EAP)风格意味着您检查<code class="du lu lv lw lx b">if</code>一个语句是否是您期望的语句，或者<code class="du lu lv lw lx b">else</code>您将相应地处理该语句(许多语言，如C，都使用这种方式)。</p><p id="d005" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">以此为例(这个例子来自<a class="ae jn" href="https://stackoverflow.com/questions/11360858/what-is-the-eafp-principle-in-python" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>的一个回答):</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="a9ce" class="ky kz hi lx b fi mc md l me mf">if "key" in my_dict:<br/>    x = my_dict["key"]<br/>else:<br/>    # handle missing key</span></pre><p id="9225" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这个问题，<a class="ae jn" href="https://stackoverflow.com/users/279627/sven-marnach" rel="noopener ugc nofollow" target="_blank">斯文·马纳赫</a>从<a class="ae jn" href="https://stackoverflow.com/questions/11360858/what-is-the-eafp-principle-in-python" rel="noopener ugc nofollow" target="_blank">同样的回答</a>中说，就是</p><blockquote class="kk kl km"><p id="b853" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">“LBYL版本必须在字典中搜索关键字两次，也可能被认为可读性稍差。”</p></blockquote><p id="b069" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，把它与EAFP(它是<strong class="jq hj"> E </strong>比<strong class="jq hj"> A </strong> sk更容易获得<strong class="jq hj"> F </strong>的权限，而不是<strong class="jq hj"> P </strong>的权限)相比，在这里你会使用<code class="du lu lv lw lx b">try</code> / <code class="du lu lv lw lx b">except</code>:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="aa71" class="ky kz hi lx b fi mc md l me mf">try:<br/>    x = my_dict["key"]<br/>except KeyError:<br/>    # handle missing key</span></pre><p id="72dc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">它和之前的例子做了同样的事情，除了如果键<code class="du lu lv lw lx b">'key'</code>存在，我们就继续下去。如果没有，我们会处理。</p><p id="2d78" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这可能不是最大的秘密，然而，许多人可能不知道这一点。</p><h2 id="38c2" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">4.列表/字典理解</h2><p id="8931" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">我真的不敢相信很多人不知道这个。这是我用的一个<strong class="jq hj"> lot </strong>的东西。但仍然没有多少人知道这一点。</p><p id="77b7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">列表理解基本上是创建一个<code class="du lu lv lw lx b">list</code>的压缩<code class="du lu lv lw lx b">for</code>循环。以此为例:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="0ae4" class="ky kz hi lx b fi mc md l me mf">my_list = []<br/>for x in range(100):<br/>    my_list.append(chr(x))</span></pre><p id="19f4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">与可读性更好、速度更快、字节数更小的替代方案相比:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="9c09" class="ky kz hi lx b fi mc md l me mf">my_list = [chr(x) for x in range(100)]</span></pre><p id="f727" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">即使你能做到……</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="65c2" class="ky kz hi lx b fi mc md l me mf">my_list = map(chr, range(100))</span></pre><p id="34e0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我更喜欢使用列表压缩，因为它看起来更好(在我看来)。而且，它返回一个<code class="du lu lv lw lx b">list</code>，而不是一个<code class="du lu lv lw lx b">map</code>对象。</p><p id="35a7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是，使用列表理解的另一个原因是它更快:列表理解中的循环将被转换成C循环，这是你能得到的最快的速度。</p><p id="c44f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要了解更多关于列表理解的内容，请查看由James Timmins 撰写的这篇真正的Python文章。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="9f2a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">另一方面，字典理解是非常相似的。我个人使用它们将数据解析成JSON。</p><p id="0e1a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这里有一个例子:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="6cfe" class="ky kz hi lx b fi mc md l me mf">ASCII_CHAR_SET = {<br/>    chr(Char):ASCII_repr<br/>    for Char in range(100)<br/>    for ASCII_repr in range(100)}</span></pre><p id="f276" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，确定密钥对。这种情况下是<code class="du lu lv lw lx b">Char</code>和<code class="du lu lv lw lx b">ASCII_repr</code>。但是我们用函数<code class="du lu lv lw lx b">chr()</code>修改<code class="du lu lv lw lx b">Char</code>来将整数转换成字符。</p><p id="c8f4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们只要求修改<code class="du lu lv lw lx b">Char</code>。然后我们通过<code class="du lu lv lw lx b">range()</code>迭代器/对象将<code class="du lu lv lw lx b">Char</code>描述为一个项目。我们对<code class="du lu lv lw lx b">ASCII_repr</code>做同样的事情。(如果我听起来有点啰嗦，抱歉！这是我的第一篇媒体文章！)</p><p id="b617" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当然，我们本来可以做<code class="du lu lv lw lx b">ASCII_CHAR_SET = dict(zip(map(chr, range(100)), range(100))</code>，但那不会太可读，不是吗？</p><h2 id="6e73" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">5.Python2: range &lt; xrange V.s. Python3: range &gt; xrange</h2><p id="d9f7" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">如果之前编过python，应该知道<code class="du lu lv lw lx b">range</code>函数/对象。它主要用于为for循环迭代生成一个数字列表。</p><p id="5ed4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在python2中，<a class="ae jn" href="https://docs.python.org/2.7/library/functions.html#range" rel="noopener ugc nofollow" target="_blank">是一个函数</a>。但是在python2中，效率较低。这就是为什么大多数python2自动完成告诉你使用<code class="du lu lv lw lx b">xrange</code>，一个生成器函数。</p><p id="3440" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是在现代的python3中，<code class="du lu lv lw lx b">range</code>现在是一个不可变的对象，比现在已经废弃的<code class="du lu lv lw lx b">xrange</code>更有效。</p><p id="74ef" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Guido <a class="ae jn" href="https://www.python.org/dev/peps/pep-0260/" rel="noopener ugc nofollow" target="_blank">之所以决定去掉</a> <code class="du lu lv lw lx b">xrange</code>是因为它只有一个明显的用途。</p><blockquote class="kk kl km"><p id="96b2" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">xrange()函数有一个习惯用法:</p><p id="2af2" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">对于xrange中的I(...): ...</p><p id="5067" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">然而，xrange()对象有一些很少使用的行为，试图使它更像序列。这些很少被使用，以至于历史上它们有严重的错误(例如，一个错误)在几个版本中都没有被发现。</p><p id="c3a7" class="jo jp kn jq b jr js ij jt ju jv im jw ko jy jz ka kp kc kd ke kq kg kh ki kj hb bi translated">我认为最好放弃这些不用的功能。这将简化实现、测试和文档，并减少维护和代码量。”—人教版260</p></blockquote><p id="ac3d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所以，嘣，它被移除了。从那时起，这是一件好事，唯一明显的方法是使用<code class="du lu lv lw lx b">range</code>对象。</p><h2 id="0236" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">6.Python的禅</h2><p id="4385" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">这很难解释，但很容易说明。这是一个交互式shell会话，展示了以下内容:</p><pre class="iy iz ja jb fd ly lx lz ma aw mb bi"><span id="5735" class="ky kz hi lx b fi mc md l me mf">&gt;&gt;&gt; import this<br/>The Zen of Python, by Tim Peters<br/>Beautiful is better than ugly.<br/>Explicit is better than implicit.<br/>Simple is better than complex.<br/>Complex is better than complicated.<br/>Flat is better than nested.<br/>Sparse is better than dense.<br/>Readability counts.<br/>Special cases aren't special enough to break the rules.<br/>Although practicality beats purity.<br/>Errors should never pass silently.<br/>Unless explicitly silenced.<br/>In the face of ambiguity, refuse the temptation to guess.<br/>There should be one-- and preferably only one --obvious way to do it.<br/>Although that way may not be obvious at first unless you're Dutch.<br/>Now is better than never.<br/>Although never is often better than *right* now.<br/>If the implementation is hard to explain, it's a bad idea.<br/>If the implementation is easy to explain, it may be a good idea.<br/>Namespaces are one honking great idea -- let's do more of those!<br/>&gt;&gt;&gt;</span></pre><p id="2a40" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就是Python的禅。</p><h2 id="b000" class="ky kz hi bd la lb lc ld le lf lg lh li jx lj lk ll kb lm ln lo kf lp lq lr ls bi translated">结论:</h2><p id="5046" class="pw-post-body-paragraph jo jp hi jq b jr mh ij jt ju mi im jw jx mj jz ka kb mk kd ke kf ml kh ki kj hb bi translated">Python是一门美丽的语言。它注重可读性和简洁性。我希望这篇文章已经向您展示了python的一些您以前可能不知道的部分。反馈将不胜感激，因为这是我的第一篇媒体文章。再见！</p></div></div>    
</body>
</html>