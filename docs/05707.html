<html>
<head>
<title>Random Forest and XGBoost on Amazon SageMaker and AWS Lambda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亚马逊SageMaker和AWS Lambda上的Random Forest和XGBoost</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/random-forest-and-xgboost-on-amazon-sagemaker-and-aws-lambda-29abd9467795?source=collection_archive---------2-----------------------#2020-04-30">https://medium.com/analytics-vidhya/random-forest-and-xgboost-on-amazon-sagemaker-and-aws-lambda-29abd9467795?source=collection_archive---------2-----------------------#2020-04-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4f98" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在Amazon SageMaker和AWS Lambda函数上使用Random Forest和XGBoost实现回归模型的分步过程。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/f1f2c51dd4fbcb8cbe1a6ab87133e2f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IZIaoV1UX2pietpQ"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">凯文·Ku在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="41e1" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="8c89" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我写这篇博客是作为我关于<a class="ae jn" href="https://www.meetup.com/minneapolis-wimlds/events/270064273/" rel="noopener ugc nofollow" target="_blank">使用亚马逊Sagemaker和Lambda函数部署ML模型的虚拟谈话的一部分</a>在<a class="ae jn" href="https://www.meetup.com/minneapolis-wimlds" rel="noopener ugc nofollow" target="_blank">明尼阿波利斯机器学习中的女性&amp;数据科学</a> (WiMLDS)。所以，我们开始-</p><p id="507c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">学习如何使用Amazon SageMaker的最佳方式是在其上创建、训练和部署一个简单的机器学习模型，我们将采用自上而下的方法，我们将直接登录AWS控制台，启动SageMaker笔记本实例，了解决策树(Random forest和XGBoost的构造块)，然后训练和部署端点到AWS Lambda。</p><h1 id="e0e3" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">让我们开始吧..</h1><ol class=""><li id="160d" class="lh li hi ki b kj kk km kn kp lj kt lk kx ll lb lm ln lo lp bi translated">登录<a class="ae jn" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS管理控制台</a></li></ol><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/52429dcbc3afb6768e00a626406ecdbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpircPJGwSBF8PWu0h7bvA.png"/></div></div></figure><p id="dad1" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">2.在“查找服务”中搜索亚马逊SageMaker，然后打开SageMaker dashboard。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/24a5c2f5586172ca74efeec9b943e907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GV13hAdgC1HGtwA1fnz-fQ.png"/></div></div></figure><p id="e29e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">3.单击笔记本实例并创建笔记本实例。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/f11c51c6142c74d966cdb4f44f54b87f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpj0Dwac9LHptqIdRZWpDQ.png"/></div></div></figure><p id="7e56" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">4.输入笔记本实例名称。</p><p id="e926" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">从下拉列表中选择笔记本实例类型“ml.t2.medium”。我们仅计划将此笔记本实例用作开发环境，并依靠按需环境来执行繁重的培训和部署工作，即我们将在培训和部署脚本中分配“ml.m4.xlarge”实例。有关其他笔记本实例类型的信息，请参考<a class="ae jn" href="https://aws.amazon.com/sagemaker/pricing/" rel="noopener ugc nofollow" target="_blank"> Amazon SageMaker定价。</a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/14aa38dfdd8f7d9e612945d661706159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1sgpiz4sApNLWm8I0zfKxQ.png"/></div></div></figure><p id="c225" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">5.通过IAM角色向notebook实例授予权限，这样就可以从notebook访问必要的AWS资源，而不需要每次都提供AWS凭证。</p><p id="318b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果您没有IAM角色，Amazon SageMaker将在您的允许下自动为您创建一个角色。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/7184d23b8a0406bda9e1ef3f59f0ae46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nNLQD-S6895rYAIZiNpTyQ.png"/></div></div></figure><p id="5201" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">6.单击“创建笔记本实例”。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/22a2279937aca6d6132f44f6e1fe24e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*96GZZ-oS39CLigPJOedLHg.png"/></div></div></figure><p id="f65b" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">7.从“挂起”状态变为“活动”状态大约需要1-2分钟。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/7cdc70c0db3ed602231eefd55388fb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7PM48hu8POmWY-2gLwk4bA.png"/></div></div></figure><p id="7dd6" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">8.现在点击“打开Jupyter”。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/766d7a4c48724f1770a94d75d487c54b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*day5Sym8cmiW1arExWqGMg.png"/></div></div></figure><p id="f7ce" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">9.您可以使用“上传”功能从本地上传您自己的文件，就像您在普通Jupyter笔记本界面中所做的那样。请记住，这些文件保存在当前的“ml.t2.notebook”实例中，如果您在工作完成后决定删除该notebook实例，您也将丢失这些文件。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/2e104127c0081f56f6d6872ebd186e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D_zxZbOYLh4LKCX-axwM9g.png"/></div></div></figure><p id="a6fa" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">10.如果您是SageMaker的新手，您可以参考AWS SMEs编写的大量“SageMaker示例”作为起点。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lv"><img src="../Images/b6c19a79cc91d4568a9f1bc6dd56d73e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWeMFlvbUmjePd9q_PoIVQ.png"/></div></div></figure></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="05c3" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在转到使用随机森林的<strong class="ki hj">回归&amp; Amazon SageMaker XGBoost算法，</strong>为此，您需要:</p><ol class=""><li id="98c9" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb lm ln lo lp bi translated"><strong class="ki hj">一个数据集</strong>。我们将使用<a class="ae jn" href="https://www.kaggle.com/harlfoxem/housesalesprediction" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集:美国西雅图金县的房屋销售预测</a>。此数据集包含2014年5月至2015年5月期间西雅图金县出售的房屋的销售价格。对于评估简单回归模型来说，这是一个很好的数据集。</li><li id="5d44" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated"><strong class="ki hj">一个算法</strong>。我们将使用scikit-learn中的随机森林算法和Amazon SageMaker提供的XGBoost算法，使用房屋数据集训练模型并预测价格。</li></ol><p id="711e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">您还需要一些资源来存储您的数据并在Amazon SageMaker中运行代码:</p><ol class=""><li id="c528" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb lm ln lo lp bi translated">一个<strong class="ki hj">Amazon Simple Storage Service(Amazon S3)bucket</strong>，用于存储Amazon SageMaker在训练模型时创建的训练数据和模型工件(不要担心，我们将在下面的代码中进行分配)</li><li id="2143" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">一个<strong class="ki hj">Amazon sage maker notebook</strong>实例，用于准备和处理数据，以及训练和部署机器学习模型(我们已经在上面启动了一个notebook实例)</li><li id="0351" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">一个<strong class="ki hj"> Jupyter笔记本</strong>,用于与笔记本实例一起准备您的培训数据，并培训和部署模型(如果您从一开始就跟随，我们会打开我们的Jupyter笔记本)</li></ol><p id="2e6a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我们将用Python 3编写代码-</p><p id="15bb" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated"><strong class="ki hj">重要提示:</strong>要在Amazon SageMaker中训练、部署和验证模型，您可以使用以下方法之一。</p><ul class=""><li id="4fda" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb ml ln lo lp bi translated">亚马逊SageMaker Python SDK。</li><li id="c34d" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">用于Python的AWS SDK(Boto 3)。</li></ul><h1 id="a5a8" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">亚马逊Sagemaker Python SDK vs AWS Python SDK(Boto 3)</h1><p id="00cd" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">Amazon SageMaker Python SDK抽象了几个实现细节，并且易于使用。如果你是第一次使用Amazon SageMaker，aws建议你用它来训练、部署和验证模型。</p><p id="6d2c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">另一方面，Boto 3是Python的Amazon Web Services (AWS) SDK。它使Python开发人员能够创建、配置和管理AWS服务，如EC2和S3。Boto提供了一个易于使用的、面向对象的API，以及对AWS服务的底层访问。</p><p id="e39a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">今天，我们将学习如何创建您需要培训的所有资源，并使用<strong class="ki hj">Amazon SageMaker Python SDK</strong>部署一个模型。</p><p id="8227" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这些步骤包括:</p><ol class=""><li id="af0a" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb lm ln lo lp bi translated">正在获取数据集。</li><li id="9a7b" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">探索并转换训练数据，以便可以将其输入到Amazon SageMaker算法中。</li><li id="c64f" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">特征工程和数据可视化。</li><li id="d697" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">准备数据。</li><li id="900a" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">数据摄取。</li><li id="8c05" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">训练一个模特。</li><li id="7067" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">使用Python SDK启动培训作业。</li><li id="35c9" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">将模型部署到Amazon SageMaker。</li><li id="d87b" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">验证模型。</li><li id="2caa" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">将Amazon SageMaker端点集成到面向互联网的应用程序中。</li><li id="431e" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">打扫</li></ol><p id="5040" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在我们开始处理数据之前，让我们快速了解一下—</p><p id="aa37" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">什么是决策树，以及树集合如何构成随机森林和XG Boost的基础？T3】</p><p id="9723" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">让我们从决策树开始:</p><h1 id="e1ee" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">决策图表</h1><ul class=""><li id="1cf3" class="lh li hi ki b kj kk km kn kp lj kt lk kx ll lb ml ln lo lp bi translated">决策树是从根节点自上而下构建的，包括将数据划分为包含具有相似值(同类)的实例的子集。</li><li id="2cbd" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">决策树以树结构的形式建立回归或分类模型。</li></ul><p id="27ee" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">重复划分数据以获得同类组的过程称为递归划分。</p><p id="ac12" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">步骤1:识别将数据点分成最相似的两组的二元问题。</p><p id="247d" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">步骤2:对每个叶节点重复步骤1，直到达到停止标准。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/b1e0aa1436308e641b6572a9dcb620ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IyPDTZaghEvHr6sJ"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><em class="mo">资料来源:迭戈洛佩兹Yse(2019年4月17日)。决策树。从介质中检索:</em><a class="ae jn" href="https://towardsdatascience.com/the-complete-guide-to-decision-trees-28a4e3c7be14" rel="noopener" target="_blank"><em class="mo">https://towards data science . com/the-complete-guide-to-decision-trees-28 a4 E3 c 7 be 14</em></a></figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mp"><img src="../Images/d6287f7a99e2131f6b84d294cc07d80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LHTqG1p6cymet8fG"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><em class="mo">资料来源:迭戈洛佩兹Yse(2019年4月17日)。决策树。从介质中检索:</em><a class="ae jn" href="https://towardsdatascience.com/the-complete-guide-to-decision-trees-28a4e3c7be14" rel="noopener" target="_blank"><em class="mo">https://towardsdatascience . com/the-complete-guide-to-decision-trees-28 a4 E3 C7 be 14</em></a></figcaption></figure><h1 id="0bd2" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">盲人和大象的寓言</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/e98daa195fda274928abcf08a23ec314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hzKctBrL6go-W0I3.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来源:Jinde Shubham。(2018年7月3日)。集成学习是盲人摸象的寓言。从介质中检索:<a class="ae jn" href="https://becominghuman.ai/ensemble-learning-bagging-and-boosting-d20f38be9b1e" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://becoming human . ai/ensemble-learning-bagging-and-boosting-d 20 f 38 be 9 B1 e</em></a></figcaption></figure><p id="ba4a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">集成模型背后的主要原理是一组弱学习者聚集在一起形成强学习者，从而增加模型的准确性。在上图中，四个盲人正试图通过触摸大象的身体部位来预测它。尽管从他们自己的角度来看，他们的预测是正确的，但在预测大象方面，他们是弱学习者。当这些弱学习者在一起讨论时，他们可以识别一头大象，因此形成一个合奏。</p><h1 id="5717" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">群众的智慧</h1><blockquote class="mr ms mt"><p id="1140" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated">在集合中，预测可以通过多数投票或取平均值来组合。下面是一个由多数投票形成的集合如何产生比它所基于的单个模型更准确的预测的例子:“</p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mx"><img src="../Images/38f5c5d88a958e96a343638c18987f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/0*OTemhIJzbDEKKK_M"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来源:Annalyn Ng和Kenneth Soo(2016年7月27日)。如何在随机森林中创建一棵树？检索自algo beans . com:<a class="ae jn" href="https://algobeans.com/2016/07/27/decision-trees-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://algobeans.com/2016/07/27/decision-trees-tutorial/</em></a></figcaption></figure><h1 id="4440" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">装袋增压:</strong></h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es my"><img src="../Images/ac4b60f0b296a1804b7fe5cbba88c0fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/0*FY_3SjJ2YSz-zckV"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><em class="mo">资料来源:Zulaikha Lateef(2019年6月28日)。装袋升压。检索自Edureka.co:</em><a class="ae jn" href="https://www.edureka.co/blog/boosting-machine-learning/" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://www.edureka.co/blog/boosting-machine-learning/</em></a></figcaption></figure><h2 id="9ec4" class="mz jp hi bd jq na nb nc ju nd ne nf jy kp ng nh ka kt ni nj kc kx nk nl ke nm bi translated">装袋:</h2><blockquote class="mr ms mt"><p id="5fec" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi"/><strong class="ki hj"><em class="hi">指无顺序学习</em> </strong> <em class="hi">。</em></p><p id="ae8c" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi"> -对于T轮，从训练样本中随机抽取样本子集(替换)。</em></p><p id="f072" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi"> -这些抽签中的每一个都独立于前一轮的抽签，但具有相同的分布。</em></p><p id="0fc9" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><strong class="ki hj"><em class="hi">——这些随机选择的样本然后被用来生长一个决策树(弱学习者)。然后选择最受欢迎的类别(或回归问题中的平均预测值)作为最终预测值。</em>T29】</strong></p><p id="df6c" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi">装袋方法也称为自举。”</em></p></blockquote><h2 id="9fe3" class="mz jp hi bd jq na nb nc ju nd ne nf jy kp ng nh ka kt ni nj kc kx nk nl ke nm bi translated">增压:</h2><blockquote class="mr ms mt"><p id="1708" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi">“Boosting描述了将许多弱学习器组合成一个非常精确的预测算法。</em></p><p id="dda7" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi"> -弱学习者指的是仅比随机预测略好的学习算法。</em></p><p id="2fe1" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi"> -当查看基于树的集成算法时，单个决策树将是弱学习器，例如，多个决策树的组合将产生AdaBoost算法。</em></p><p id="601c" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><strong class="ki hj"><em class="hi">-boosting方法是一种顺序算法，它对整个训练样本进行T轮预测，并使用来自前一轮预测准确性的信息迭代地提高boosting算法的性能。</em></strong>T42</p></blockquote><p id="3fe5" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">来源:朱莉娅·尼库尔斯基(2020年3月16日)。装袋升压。从介质中检索:https://towards data science . com/the-ultimate-guide-to-AdaBoost-random-forests-and-xgboost-7f 9327061 c4f</p><h1 id="3473" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">随机森林</h1><p id="2f65" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">现在，Random Forest是树集合和装袋的结合。</p><blockquote class="mr ms mt"><p id="c234" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated">随机森林是集合的一个例子，集合是来自不同模型的预测的组合。它也使用装袋。Bagging用于创建数千个相关性最小的决策树。在bagging中，选择训练数据的随机子集来训练每棵树。此外，该模型随机限制了可在每棵树的分裂处使用的变量。因此，生长的树是不同的，但它们仍然保留了一定的预测能力。”</p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mx"><img src="../Images/8abe2a8b7ab35a701c84fc47fa3b1ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/0*IYpwU8NX5JAWTGNf"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来源:Annalyn Ng和Kenneth Soo(2016年7月27日)。群体的智慧。转自algo beans . com:<a class="ae jn" href="https://algobeans.com/2016/07/27/decision-trees-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://algobeans.com/2016/07/27/decision-trees-tutorial/</em></a></figcaption></figure><blockquote class="mr ms mt"><p id="6360" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated"><em class="hi">“在上面的例子中，有9个变量用9种颜色表示。</em> <strong class="ki hj"> <em class="hi">在每次拆分时，从最初的9个变量中随机抽取一个变量子集。在这个子集内，算法选择最佳变量进行分割。</em> </strong> <em class="hi">子集的大小被设置为原变量个数的平方根。因此，在我们的例子中，这个数字是3。”</em></p></blockquote><p id="2d26" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">现在有了这样的理解，让我们继续在Amazon SageMaker笔记本实例上实现<em class="mm"> </em> <strong class="ki hj">随机森林。为此，你需要从<a class="ae jn" href="https://github.com/SriramyaK/My-WiMLDS-Minneapolis-Talks/blob/master/Random%20Forest%20and%20XGBoost%20Final%20V%204.0%20-%2025042020.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>下载Jupyter笔记本，从<a class="ae jn" href="https://www.kaggle.com/harlfoxem/housesalesprediction" rel="noopener ugc nofollow" target="_blank">这里</a>下载数据。如上所述，将它们上传到您的SageMaker笔记本实例中，然后继续操作。</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div></figure><h1 id="9d85" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">XGBoost算法</h1><p id="daf9" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">XGBoost(极限梯度增强)是由Chen &amp; Guestrin在2016年推出的。</p><p id="8fc6" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">开发它主要是为了<strong class="ki hj">提高速度和性能，同时引入正则化参数以减少过拟合。</strong></p><ul class=""><li id="4396" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb ml ln lo lp bi translated">首先，让我们先了解XGBoost的模型选择:决策树集成。树集成模型由一组分类和回归树(CART)组成。这里有一个简单的购物车的例子，它对某人是否会喜欢一个假设的电脑游戏x进行分类。</li><li id="e026" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">我们将一个家庭的成员分为不同的叶子，并给他们分配相应叶子上的分数。CART与决策树有点不同，决策树的叶子只包含决策值。在CART中，一个真实的分数与每片叶子相关联，这给了我们比分类更丰富的解释。这也允许有原则的、统一的优化方法。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lq"><img src="../Images/049a9d5c26bb9667bc0c5b2319860823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TMDgawy-x0aMRI-BSjpbDw.png"/></div></div></figure><p id="ba31" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">让我们从Sagemaker上的XGBoost实现开始吧—</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nn no l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Jupyter Notebook，用于在Amazon Sagemaker notebook实例上实现XGBoost。</figcaption></figure></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="7271" class="jo jp hi bd jq jr np jt ju jv nq jx jy io nr ip ka ir ns is kc iu nt iv ke kf bi translated">将Amazon SageMaker端点集成到面向互联网的应用程序中</h1><p id="64a3" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在生产环境中，您可能有一个面向internet的应用程序向端点发送请求以进行推断。下面的高级示例展示了如何将模型端点集成到应用程序中。</p><p id="de4e" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">关于如何使用Amazon API Gateway和AWS Lambda来设置和部署可以从客户端应用程序调用的web服务的示例-</p><ul class=""><li id="9e16" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb ml ln lo lp bi translated">创建AWS Lambda服务主体可以承担的IAM角色。授予角色调用Amazon sage maker invoke endpoint API的权限。</li><li id="14de" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">创建一个Lambda函数，调用Amazon SageMaker invoke endpoint API。</li><li id="5c35" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">从移动应用程序调用Lambda函数。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nu"><img src="../Images/1a1e4f197645481ecd6f229dbb148ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/0*UPds7UwLoTSDWVyh.gif"/></div></figure><p id="2485" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">从客户端开始，</p><ul class=""><li id="d621" class="lh li hi ki b kj lc km ld kp md kt me kx mf lb ml ln lo lp bi translated">客户端脚本调用Amazon API Gateway API操作并传递参数值。</li><li id="dc4f" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">API网关是向客户端提供API的层。此外，它还密封了后端，这样AWS Lambda就可以在一个受保护的私有网络中运行。</li><li id="c4c3" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">API Gateway将参数值传递给Lambda函数。</li><li id="68ed" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">Lambda函数解析该值并将其发送到SageMaker模型端点。</li><li id="56e1" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">该模型执行预测，并将预测值返回给AWS Lambda。Lambda函数解析返回值并将其发送回API Gateway。API网关用该值响应客户端。</li></ul><h1 id="3768" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">但是，什么是AWS Lambda？</h1><ul class=""><li id="1e6a" class="lh li hi ki b kj kk km kn kp lj kt lk kx ll lb ml ln lo lp bi translated">AWS Lambda是一个计算服务，由Amazon提供的无服务器计算平台，作为AWS的一部分，允许您运行代码，而无需配置或管理服务器。</li><li id="332d" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb ml ln lo lp bi translated">它是一种计算服务，运行代码以响应事件，并自动管理该代码所需的计算资源。</li></ul><p id="ec0a" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">要将本笔记本中创建的端点与AWS Lambda集成，请阅读我的博客<a class="ae jn" rel="noopener" href="/@sriramya.kannepalli/invoke-an-amazon-sagemaker-endpoint-using-aws-lambda-83ff1a9f5443?source=your_stories_page---------------------------">使用AWS Lambda </a>调用Amazon SageMaker端点。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="9fc3" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">关于<a class="ae jn" href="https://aws.amazon.com/sagemaker/pricing/" rel="noopener ugc nofollow" target="_blank">亚马逊Sagemaker定价</a>的最后一句话</p><p id="68b1" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">免费试用亚马逊SageMaker两个月！</p><blockquote class="mr ms mt"><p id="cc18" class="kg kh mm ki b kj lc ij kl km ld im ko mu le kr ks mv lf kv kw mw lg kz la lb hb bi translated">作为AWS免费层的一部分，你可以免费使用Amazon SageMaker。如果你以前从未使用过Amazon SageMaker，在前两个月，你将获得每月250小时的t2.medium或t3.medium笔记本使用时间，用于构建你的模型，外加50小时的m4.xlarge或m5.xlarge用于培训，外加125小时的m4.xlarge或m5.xlarge用于部署你的机器学习模型，以便使用Amazon SageMaker进行实时推理和批量转换。您的免费等级从您创建第一个SageMaker资源的第一个月开始。</p></blockquote></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="c16a" class="jo jp hi bd jq jr np jt ju jv nq jx jy io nr ip ka ir ns is kc iu nt iv ke kf bi translated">参考</h1><ol class=""><li id="90a9" class="lh li hi ki b kj kk km kn kp lj kt lk kx ll lb lm ln lo lp bi translated">迭戈·洛佩兹·伊塞(2019年4月17日)。决策树。检索自媒体:<a class="ae jn" href="https://towardsdatascience.com/the-complete-guide-to-decision-trees-28a4e3c7be14" rel="noopener" target="_blank">https://towards data science . com/the-complete-guide-to-decision-trees-28 a4 E3 C7 be 14</a></li><li id="0b2f" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">金德·舒巴姆。(2018年7月3日)。集成学习是盲人摸象的寓言。从介质中检索:<a class="ae jn" href="https://becominghuman.ai/ensemble-learning-bagging-and-boosting-d20f38be9b1e" rel="noopener ugc nofollow" target="_blank">https://becoming human . ai/ensemble-learning-bagging-and-boosting-d 20 f 38 be 9 B1 e</a></li><li id="d50e" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">陈天琦和卡洛斯.盖斯特林。2016.XGBoost:一个可扩展的树提升系统。《第22届ACM SIGKDD知识发现和数据挖掘国际会议论文集》(KDD '16)。计算机械协会，纽约，纽约州，美国，785-794。https://doi.org/10.1145/2939672.2939785</li><li id="eefb" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">Annalyn Ng和Kenneth Soo(2016年7月27日)。如何在随机森林中创建一棵树？转自algo beans . com:【https://algobeans.com/2016/07/27/decision-trees-tutorial/ T2】</li><li id="fcff" class="lh li hi ki b kj mg km mh kp mi kt mj kx mk lb lm ln lo lp bi translated">AWS SageMaker截图和图。从亚马逊网络服务公司检索:<a class="ae jn" href="https://docs.aws.amazon.com/sagemaker/#amazon-sagemaker-overview" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/sage maker/# Amazon-sage maker-overview</a></li></ol></div></div>    
</body>
</html>