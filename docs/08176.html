<html>
<head>
<title>Building A Basic Text Preprocessing Pipeline In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python中构建基本的文本预处理管道</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-a-basic-text-preprocessing-pipeline-in-python-affd82d2471b?source=collection_archive---------7-----------------------#2020-07-20">https://medium.com/analytics-vidhya/building-a-basic-text-preprocessing-pipeline-in-python-affd82d2471b?source=collection_archive---------7-----------------------#2020-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/cf7fa3f57e018e2dc19bf20d85d9f52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e1b_L4Xahy3B8TZz"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">安妮·斯普拉特在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><div class=""><h2 id="74d2" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">如何在Python中为非结构化文本数据构建文本预处理管道</h2></div><p id="5d57" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">尽管最先进的NLP语言模型，如<a class="ae hv" href="https://github.com/google-research/bert" rel="noopener ugc nofollow" target="_blank"> BERT </a>，都有自己的标记化代码，不需要任何预处理，<strong class="jp hz">许多更基本的NLP技术在实现之前仍然需要不同级别的预处理</strong>。Python的大量库为此提供了帮助，但是有时很难决定要实现哪些预处理任务，以及如何成功地实现它们。</p><p id="cbc3" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在本文中，我们将通过下面的标准预处理技术来理解它们做什么，什么时候使用它们，以及如何在Python中实现它们。<br/>此列表绝非详尽无遗:</p><ul class=""><li id="997a" class="kj kk hy jp b jq jr jt ju jw kl ka km ke kn ki ko kp kq kr bi translated">空白规范化</li><li id="1990" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">小写字母盘</li><li id="1320" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">标点符号和数字删除</li><li id="facc" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">停用词删除</li><li id="9748" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">拼写纠正</li><li id="0c6f" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">词干化和词汇化</li></ul><p id="c308" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">每当我从事一个新的NLP项目时，我发现自己在Python中创建了一个新的预处理管道。为了减少这种工作量，随着时间的推移，我收集了不同预处理技术的代码，并将它们合并到一个<a class="ae hv" href="https://github.com/jonnyndavis/TextPreProcessor" rel="noopener ugc nofollow" target="_blank">text preprocessor Github repository</a>中，它允许您用几行Python代码创建一个完整的文本预处理管道。下面所有的代码都改编自这个库。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="4469" class="le lf hy bd lg lh li lj lk ll lm ln lo je lp jf lq jh lr ji ls jk lt jl lu lv bi translated">1.空白规范化</h1><p id="08e5" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">这是用单个空格替换多个连续空格，并删除前导和尾随空格(字符串开头或结尾的空格)。</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mb"><img src="../Images/ea64dff53c5d44977f420f11f2409774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-cv3KMeRcahK1Dm-"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><a class="ae hv" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="95cf" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="351e" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated">删除因删除停用词、标点符号等而产生的空白。</li><li id="9978" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">如果使用基于单个空格进行拆分的记号赋予器，则停止向记号添加空格。</li><li id="cb21" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">提高可读性，如果文本将被输出的人审查。</li><li id="7f80" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">何时使用基本匹配短语在文本中搜索多个单词或短语。</li></ul><h2 id="f486" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你是怎么实现的？</h2><p id="e33d" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="1cd5" class="mg lf hy my b fi nc nd l ne nf">s = ‘   The quick brown    fox jumps over the lazy dog   ‘</span><span id="f62b" class="mg lf hy my b fi ng nd l ne nf">print(‘ ‘.join(s.split()))</span></pre><p id="a81a" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="a6ae" class="mg lf hy my b fi nc nd l ne nf">The quick brown fox jumps over the lazy dog</span></pre><h1 id="42c0" class="le lf hy bd lg lh nh lj lk ll ni ln lo je nj jf lq jh nk ji ls jk nl jl lu lv bi translated">2.小写字母盘</h1><p id="d03b" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">用小写字母替换所有大写字母。</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nm"><img src="../Images/4d8fe9d87bb2560ae67e6665279d6902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UxWEDWCVeDWYfiBM"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">亚历山大·安德鲁斯在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="bcb9" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="80c2" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated">当case没有提供额外信息时。一般来说，这是你不需要知道一个单词是否在句子的开头，或者你对语气不感兴趣(“够了”vs .“够了”)。</li><li id="9860" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">当使用<a class="ae hv" href="https://towardsdatascience.com/pre-trained-language-models-simplified-b8ec80c62217" rel="noopener" target="_blank">预训练的语言模型</a>时，如果不使用预构建的标记器，只对小写文本进行训练。</li><li id="3096" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">你可能想避免使用小写字母的语言，比如德语中所有的名词都是大写的。在这种情况下，保留大写字母有助于识别和区分名词和其他单词。</li></ul><h2 id="fc28" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你是怎么实现的？</h2><p id="8479" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="c13f" class="mg lf hy my b fi nc nd l ne nf">s = ‘The quick brown Fox jumps over the lazy Dog’<br/>print(s.lower())</span></pre><p id="12c2" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="6d06" class="mg lf hy my b fi nc nd l ne nf">the quick brown fox jumps over the lazy dog</span></pre><h1 id="b057" class="le lf hy bd lg lh nh lj lk ll ni ln lo je nj jf lq jh nk ji ls jk nl jl lu lv bi translated">3.标点符号和数字删除</h1><p id="d9ae" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">删除文本中的所有标点符号和数字字符。在某些情况下，数字也可能被替换为一个令牌，如' numbers '。</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nn"><img src="../Images/071e8477d7b0fea85a4efe5356589fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rQGWy-V1oeJlqJku"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">尼克·希利尔在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="5833" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="5e9a" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated">如果使用<a class="ae hv" href="https://en.wikipedia.org/wiki/Bag-of-words_model#:~:text=The%20bag%2Dof%2Dwords%20model,word%20order%20but%20keeping%20multiplicity." rel="noopener ugc nofollow" target="_blank">单词包</a>，尤其是基于统计单词出现次数的unigrams。由于标点符号和数字通常只在给定的上下文中保留重要的意义，它们孤立地提供的有用信息很少。</li><li id="1de6" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">用二元模型、三元模型等去除数字。如果没有兴趣知道对象的数量(我们要知道有猫，不是说有三只)。</li><li id="06f1" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">对语气不感兴趣的时候去掉标点(“就是这样！”以及“就这样？”有不同的含义)。</li></ul><h2 id="80ea" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你是怎么实现的？</h2><p id="759f" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">以下示例删除了下列标点符号:！"#$%&amp;\'()*+,-./:;&lt;=&gt;？@[\\]^_`{|}~</p><p id="d8d0" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="f560" class="mg lf hy my b fi nc nd l ne nf">import string<br/>import regex as re<br/>punctuation = string.punctuation<br/>s = 'The 1 quick, brown fox jumps over the 2 lazy dogs.'<br/>print(s.translate(str.maketrans('', '', punctuation)))<br/>print(re.sub(r'\d+', '', s)</span></pre><p id="83ea" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="16f5" class="mg lf hy my b fi nc nd l ne nf">The quick brown fox jumps over the lazy dog<br/>The  quick, brown fox jumps over the  lazy dogs.</span></pre><p id="4717" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="no">注意:在删除数字的情况下，为什么需要进行空白规范化。</em></p><h1 id="97d7" class="le lf hy bd lg lh nh lj lk ll ni ln lo je nj jf lq jh nk ji ls jk nl jl lu lv bi translated">4.停用词删除</h1><p id="798c" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">删除通常不提供任何额外信息的常用词，如“a”、“and”和“is”。</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es np"><img src="../Images/78f64249ac3eaab0766148ec0586a101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7z4QRlstR96jgoIU"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">何塞·阿拉贡内塞斯在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="8341" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="2a66" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated"><a class="ae hv" href="https://en.wikipedia.org/wiki/Bag-of-words_model#:~:text=The%20bag%2Dof%2Dwords%20model,word%20order%20but%20keeping%20multiplicity." rel="noopener ugc nofollow" target="_blank">单词袋</a>，其中普通单字的计数不增加任何信息，因此不必要地增加了特征空间的大小。在某些情况下，您可能会考虑保留二元模型、三元模型等。</li><li id="a77a" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">你对<a class="ae hv" href="https://towardsdatascience.com/why-you-should-avoid-removing-stopwords-aa7a353d2a52" rel="noopener" target="_blank">负反馈</a>不感兴趣，也就是说，你不需要知道一个单词前面是否有‘不是’或‘不’这样的词。</li><li id="f5a0" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">您可能希望向停用字词列表中添加额外的字词，以便删除在特定语料库中没有添加任何有用信息的字词或任何字符序列(例如，汽车评论语料库中的字词“汽车”)。</li></ul><h2 id="4f47" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">如何实施？</h2><p id="6d0c" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">这里，我们使用<a class="ae hv" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank">空格</a>停用词。然而，其他库，比如<a class="ae hv" href="https://www.nltk.org/" rel="noopener ugc nofollow" target="_blank"> NLTK </a>，有它们自己的停用词表。如上所述，你甚至可以创建自己的列表。</p><p id="433c" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="4219" class="mg lf hy my b fi nc nd l ne nf">import spacy<br/>spacy.load('en_core_web_sm')<br/>stopwords = spacy.lang.en.stop_words.STOP_WORDS<br/>s = 'the quick brown fox jumps over the lazy dog'<br/>print(' '.join([word for word in s.split(' ') if word.lower() not in stopwords]))</span></pre><p id="2c07" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="e4b4" class="mg lf hy my b fi nc nd l ne nf">quick brown fox jumps lazy dog</span></pre><h1 id="c613" class="le lf hy bd lg lh nh lj lk ll ni ln lo je nj jf lq jh nk ji ls jk nl jl lu lv bi translated">5.拼写纠正</h1><p id="64c6" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">用预定义列表中的相似单词替换该列表中不存在的单词。</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nq"><img src="../Images/802fb88afb296933ddddd5d18ff7a1be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hqxWDYQM6SKPCWWh"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@kimgorga?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">金·戈尔加</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="98aa" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="25d9" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated">有效的拼写纠正在几乎所有的NLP用例中都是有用的。但是，查找替换单词的计算开销可能非常大。因此，需要根据所需的处理计算的增加来权衡优势。</li><li id="482c" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">在某些情况下，如果计算成本是一个重要因素，那么只删除未识别的单词可能比替换它们更有效。</li></ul><h2 id="0474" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">如何实施？</h2><p id="b55d" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">pyspellchecker 库提供了一个基于<a class="ae hv" href="https://en.wikipedia.org/wiki/Levenshtein_distance" rel="noopener ugc nofollow" target="_blank"> Levenshtein距离</a>的拼写纠正实现。这是从一个单词到另一个单词所需的最少单字符编辑(删除、插入、替换)次数。</p><p id="58d2" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="e800" class="mg lf hy my b fi nc nd l ne nf">from spellchecker import SpellChecker<br/>spell = SpellChecker()<br/>s = 'The qiuck brown fox jmps over the lazy dog'<br/>print(' '.join([spell.correction(word) for word in s.split(' ')]))</span></pre><p id="751f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="78bd" class="mg lf hy my b fi nc nd l ne nf">The quick brown fox mps over the lazy dog</span></pre><p id="b733" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="no">注意:这里的“jmps”一词被错误地替换为“mps ”,表明这种方法并不完美。</em></p><h1 id="4958" class="le lf hy bd lg lh nh lj lk ll ni ln lo je nj jf lq jh nk ji ls jk nl jl lu lv bi translated">6.词干化或词汇化</h1><p id="1a3c" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated"><a class="ae hv" href="https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html" rel="noopener ugc nofollow" target="_blank">通常在文本中</a>一个单词可以以几种不同的形式出现(如jump、jumps、jumping ),在其他情况下，单词可能源自一个共同的意思(如democracy、democratic)。词干化和词汇化的目标都是用单词的单一基本形式替换这些不同的形式。</p><p id="dc41" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">词干</strong>通过遵循一套启发法来实现这一点，这些启发法切断，有时替换单词的结尾。例如<br/>快→快<br/>快→快<br/>快→快<br/>加快→加快</p><p id="0383" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">词条化</strong>是一个更复杂的过程，它涉及到单词的研究，只用字典定义的词条替换它们。例如<br/>去→去<br/>去→去<br/>去→去<br/>来→来</p><figure class="mc md me mf fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nr"><img src="../Images/983940bc2474345fac74224642e18480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jpk6Tnt5lhNTT8AW"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">西蒙·伯杰在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="a462" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你什么时候使用它？</h2><ul class=""><li id="8027" class="kj kk hy jp b jq lw jt lx jw mu ka mv ke mw ki ko kp kq kr bi translated">较小的文本语料库，其中没有足够多的单词不同形式的出现来独立学习它们的意思。</li><li id="3149" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">信息检索，你在寻找某个主题(如果你搜索跑步，你也想要跑步、跑步、跑步者等的结果。).</li><li id="23bb" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">文档聚类，您希望按主题分割文档。</li></ul><h2 id="f768" class="mg lf hy bd lg mh mi mj lk mk ml mm lo jw mn mo lq ka mp mq ls ke mr ms lu mt bi translated">你是怎么实现的？</h2><p id="a845" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">有许多不同的库实现了词干化和词汇化，还有许多不同的词干化方法。在本例中，我们将使用:</p><ul class=""><li id="0698" class="kj kk hy jp b jq jr jt ju jw kl ka km ke kn ki ko kp kq kr bi translated"><a class="ae hv" href="https://www.nltk.org/" rel="noopener ugc nofollow" target="_blank"> NLTK </a>库用<a class="ae hv" href="https://www.nltk.org/howto/stem.html" rel="noopener ugc nofollow" target="_blank">雪球去梗器</a>进行去梗</li><li id="81a3" class="kj kk hy jp b jq ks jt kt jw ku ka kv ke kw ki ko kp kq kr bi translated">用于词汇化的空间库</li></ul><p id="eee1" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz"> Python代码:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="2145" class="mg lf hy my b fi nc nd l ne nf">import spacy<br/>from nltk.stem.snowball import SnowballStemmer<br/>s = 'The quickest brown fox was jumping over the lazy dog'<br/>sp = spacy.load('en_core_web_sm')<br/>stemmer = SnowballStemmer(language='english')<br/>print(f"Stemming: {' '.join([stemmer.stem(word) for word in s.split(' ')])}")<br/>print(f"Lemmatization: {' '.join([token.lemma_ for token in sp(s)])}")</span></pre><p id="4c25" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hz">输出:</strong></p><pre class="mc md me mf fd mx my mz na aw nb bi"><span id="5e3c" class="mg lf hy my b fi nc nd l ne nf">Stemming: the quickest brown fox was jump over the lazi dog<br/>Lemmatization: the quick brown fox be jump over the lazy dog</span></pre></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="90f6" class="le lf hy bd lg lh li lj lk ll lm ln lo je lp jf lq jh lr ji ls jk lt jl lu lv bi translated">结论</h1><p id="d2fa" class="pw-post-body-paragraph jn jo hy jp b jq lw iz js jt lx jc jv jw ly jy jz ka lz kc kd ke ma kg kh ki hb bi translated">知道使用哪种文本预处理技术与其说是一门科学，不如说是混合了经验的反复试验。对于许多NLP任务，比方说一个使用单词包的分类模型，最好先尝试用很少或没有预处理的方法训练你的模型。从那里，您可以返回并添加预处理步骤，以查看是什么提高了模型性能。</p><p id="a96f" class="pw-post-body-paragraph jn jo hy jp b jq jr iz js jt ju jc jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这个列表并不详尽，但我希望它能为您面临的任何NLP任务提供很好的参考！</p></div></div>    
</body>
</html>