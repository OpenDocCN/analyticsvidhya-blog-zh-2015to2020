<html>
<head>
<title>Whom will respond to Starbucks Offers?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谁会响应星巴克的提议？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/whom-will-respond-to-starbucks-offers-84f98eded283?source=collection_archive---------15-----------------------#2019-12-30">https://medium.com/analytics-vidhya/whom-will-respond-to-starbucks-offers-84f98eded283?source=collection_archive---------15-----------------------#2019-12-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/86ac047b78eed38e29ce3a5090eab166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doneReiXVQOw4TTaHcSLTQ.jpeg"/></div></div></figure><h1 id="1f1c" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><blockquote class="jo jp jq"><p id="530f" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">传统营销分析或记分卡对于评估组织过去营销活动的成败至关重要。但今天的营销人员或组织可以利用先进的营销技术，如客户行为预测建模、预测线索评分和各种基于预测分析见解的策略。预测技术可以使一个组织的营销投资更加有效，并有助于定期验证结果。将客户信息与运营数据联系起来，有助于深入了解客户行为和您整体业务的健康状况。</p></blockquote><p id="2348" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">预测营销分析的各种案例包括:</p><ol class=""><li id="7719" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp ky kz la lb bi translated">详细的销售线索评分</li><li id="4e4d" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">营销活动培育的销售线索细分</li><li id="cc39" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">目标内容分发</li><li id="c3ea" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">终生价值预测</li><li id="c4f4" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">流失率预测</li><li id="61e9" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">追加销售和交叉销售准备就绪</li><li id="2b2a" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">了解产品适合度</li><li id="eba0" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">营销活动的优化</li></ol><p id="c63d" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">在本帖中，我们将讨论<em class="jt">“营销活动优化”</em>的案例。</p><p id="c071" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">请参考以下链接，以便更好地了解预测分析对提高营销绩效的影响。</p><p id="b040" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><em class="jt"> 1。</em> <a class="ae lh" href="https://www.sas.com/en_us/insights/analytics/predictive-analytics.html" rel="noopener ugc nofollow" target="_blank"> <em class="jt">预测分析:它是什么以及为什么重要</em> </a></p><p id="97b6" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><em class="jt"> 2。</em> <a class="ae lh" href="https://www.rhsmith.umd.edu/files/Documents/Departments/Marketing/wedel-kannan-jm-2016-final.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="jt">面向数据丰富环境的营销分析</em> </a></p><p id="e45b" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><em class="jt"> 3。</em> <a class="ae lh" href="https://www.singlegrain.com/digital-marketing-analytics/how-to-use-predictive-analytics-for-better-marketing-performance/" rel="noopener ugc nofollow" target="_blank"> <em class="jt">如何利用预测分析提高营销绩效</em> </a></p><h2 id="90ee" class="li ir hi bd is lj lk ll iw lm ln lo ja kq lp lq je kr lr ls ji ks lt lu jm lv bi translated">问题陈述</h2><p id="c49a" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">在本帖中，我们将通过Starbucks数据集的例子来介绍客户行为的预测建模技术。星巴克提供了模拟数据，模拟星巴克奖励移动应用程序上的客户行为。数据集可以在<a class="ae lh" href="https://github.com/gauravansal/Starbucks-Capstone-Challenge/tree/master/data" rel="noopener ugc nofollow" target="_blank">这里</a>找到。每隔几天，星巴克就会向手机应用程序的用户发出一次报价。优惠可以仅仅是饮料的广告，也可以是实际的优惠，如折扣或BOGO(买一送一)。某些用户可能在特定的几周内收不到任何报价。并非所有用户都收到相同的报价，这个数据集是真实星巴克应用程序的简化版本，因为底层模拟器只有一种产品，而星巴克实际上销售几十种产品。</p><p id="205e" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">星巴克希望将优惠数据、客户数据和交易数据(运营数据)联系起来，以获得关于客户行为和优惠整体有效性的见解，从而实现商业价值。</p><p id="6f1d" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> <em class="jt">记住上面的关键语句，下面是主要目标或问题动机或问题语句:</em> </strong></p><blockquote class="mb"><p id="8e60" class="mc md hi bd me mf mg mh mi mj mk kp dx translated"><strong class="ak">建立一个模型，预测客户是否会对报价做出反应。</strong></p></blockquote><blockquote class="jo jp jq"><p id="02e5" class="jr js jt ju b jv ml jx jy jz mm kb kc kd mn kf kg kh mo kj kk kl mp kn ko kp hb bi translated">上述问题是一个二元分类问题，可以通过使用监督机器学习分类算法来解决，如逻辑回归、随机森林、Adaboost、梯度提升。</p><p id="fb89" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">这个问题的解决方案的简要概述是，在数据预处理(清洗和转换)和特征工程之后，星巴克的不同数据集(报价、人口统计和抄本)将被组合以形成组合数据集。适当和正确的组合数据将被输入到各种机器学习分类模型中，这些模型将发现客户行为的隐藏特征，这些特征在影响客户是否对报价做出响应方面起着重要作用。经过训练的分类模型会将客户分类为目标类别(如果客户会响应，则为1；如果客户不会响应，则为0)。对于此问题，将基于适当的性能指标(在下一节中讨论)来比较模型的性能。最佳性能分类模型将基于性能度量和训练时间来选择，并且将通过微调所选模型的最佳估计器的超参数来进一步细化。这个项目分析的完整代码可以在<a class="ae lh" href="https://github.com/gauravansal/Starbucks-Capstone-Challenge/tree/master/data" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></blockquote><h2 id="14a6" class="li ir hi bd is lj lk ll iw lm ln lo ja kq lp lq je kr lr ls ji ks lt lu jm lv bi translated">概观</h2><p id="92a0" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated"><strong class="ju hj"> <em class="jt">整个分析将包含以下步骤:</em> </strong></p><ol class=""><li id="a88e" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp ky kz la lb bi translated">分析每个投资组合、个人资料和交易数据。</li><li id="7251" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">清理和转换每个投资组合、配置文件和交易数据。</li><li id="ac53" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">组合投资组合、个人资料和交易数据。</li><li id="f61e" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">选择一个性能指标来分析模型的性能并比较不同的模型。</li><li id="05b5" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">计算基线模型的性能，并与其他不同模型的性能进行比较。</li><li id="55fa" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">根据指标和培训时间选择最佳性能模型。</li><li id="b7af" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">计算由训练模型的最佳估计器给出的特征重要性。</li><li id="10c3" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">计算测试集上最佳模型的性能，并通过混淆矩阵图可视化性能。</li></ol></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="d754" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">步骤1-分析每个投资组合、个人资料和交易数据</h1><p id="d5a8" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">该数据集包含模拟星巴克奖励移动应用程序上的客户行为的模拟数据。数据包含在三个文件中:</p><ul class=""><li id="9b20" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">portfolio . JSON——包含要约id和关于每个要约的元数据(期限、类型等)。)</li><li id="6689" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">profile.json —每个客户的人口统计数据</li><li id="601e" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">transcript.json记录交易、收到的报价、查看的报价和完成的报价</li></ul><p id="fe81" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">以下是文件中每个变量的模式和解释:</p><p id="94db" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> portfolio.json </strong></p><ul class=""><li id="a6d9" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">id(字符串)—优惠id</li><li id="1914" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">offer_type (string) —优惠的类型，即BOGO、折扣、信息</li><li id="704f" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">难度(int) —完成报价所需的最低花费</li><li id="942f" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">奖励(int) —为完成一项提议而给予的奖励</li><li id="4cc1" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">duration(int)-报价开放的时间，以天为单位</li><li id="17dc" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">频道(字符串列表)</li></ul><p id="8545" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> profile.json </strong></p><ul class=""><li id="59f8" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">age(int)-客户的年龄(缺失值编码为118)</li><li id="c2c8" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">成为会员日期(int) —客户创建应用帐户的日期(格式为YYYYMMDD)</li><li id="4358" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">性别(str) —客户的性别(请注意，有些条目包含“O”代表其他，而不是M或F)</li><li id="adb7" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">id (str) —客户id</li><li id="2d8d" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">收入(浮动)—客户的收入</li></ul><p id="7042" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj">抄本. json </strong></p><ul class=""><li id="5a5f" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">事件(str) —记录描述(即交易、收到的报价、查看的报价等。)</li><li id="2560" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">人员(字符串)—客户id</li><li id="07b9" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">时间(整数)—测试开始后的时间，以小时为单位。数据开始于时间t=0</li><li id="0b08" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">value —(字符串字典)—报价id或交易金额，具体取决于记录</li></ul></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="bc7f" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">步骤2—清理和转换每个投资组合、配置文件和交易数据</h1><p id="4d40" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">在阅读了。json文件作为pandas数据帧，对所有三个数据文件进行了分析，结果如下。</p><p id="0886" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> <em class="jt">投资组合数据</em> </strong></p><ol class=""><li id="1661" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp ky kz la lb bi translated">投资组合数据框架中没有空值。</li><li id="1960" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">有3种报价类型，即4种bogo报价、4种折扣报价和2种信息报价。</li><li id="7001" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">分类变量被一次性编码，下面是最终的数据框架。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/4c49dd9f5eb0404f2514ee34fc01cabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEFv_ym-aGcs1F5BqXwaDg.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">投资组合数据框架</figcaption></figure><p id="d8e0" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.最后，以下是投资组合数据框架的特征。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es nm"><img src="../Images/7c3da9be20a50ea05d576398be4af0a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*kyhqMmfrFPRW2e4-FZAhEA.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">投资组合数据框架的特征</figcaption></figure><p id="0ff4" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> <em class="jt">剖面数据</em> </strong></p><ol class=""><li id="aa02" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp ky kz la lb bi translated">删除了对年龄为118岁、性别为None、收入为nan的客户的观察。有2175个这样的观察。此外，年龄特征中的值118表示空值。</li><li id="f0ea" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp ky kz la lb bi translated">已将“年龄”和“收入”功能转换为bin。'年龄'特征被分成特征'年龄_10s '，'年龄_20s '，'年龄_30s '，'年龄_40s '，'年龄_50s '，'年龄_60s '，'年龄_70s '，'年龄_80s '，'年龄_90s '和'年龄_100s '。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nn"><img src="../Images/6c86469890a85114895d1acd1368adc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWKUkVTP3YjruTXbcykSHQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">年龄特征分布</figcaption></figure><blockquote class="jo jp jq"><p id="289f" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面我们可以清楚地看到，年龄在118岁的客户在分布图中非常突出。因此，从个人资料数据框架中删除这些客户是不现实的，因为这些客户没有任何性别和收入，并且年龄为118岁的客户数量为2175。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es no"><img src="../Images/4ab16d34989093a113f8b6d7e3bf7f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sz-gcqFCBoRinmr8n_bHzQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">无年龄118的年龄特征分布</figcaption></figure><blockquote class="jo jp jq"><p id="23af" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面的图中，我们可以观察到在丢弃年龄118之后的特征年龄是均匀分布的。</p></blockquote><p id="d8ac" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">3.'收入'特征被分成特征'收入_ 30次'，'收入_ 40次'，'收入_ 50次'，'收入_ 60次'，'收入_ 70次'，'收入_ 80次'，'收入_ 90次'，'收入_ 100次'，'收入_ 110次'和'收入_ 120次'。</p><p id="195d" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.“性别”特征被one hoten编码为“F”、“M”和“O”，分别描述女性、男性和其他。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es et"><img src="../Images/42fe58e7d6ec5d108a9ce1b4c2d5eb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4P_D9koIxvgZ8SsZWxSkKw.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">特征性别分布</figcaption></figure><blockquote class="jo jp jq"><p id="cbe5" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面可以看出，男性成员比女性成员多，女性成员比其他人多。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es np"><img src="../Images/616877eba2575a0d42a2a88349ed49e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CkG_8yDSh1TTy6mZHx-FxA.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">特征收入分布</figcaption></figure><blockquote class="jo jp jq"><p id="94e1" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上图中，我们可以观察到，收入在整个收入范围内呈非均匀分布，高收入低分布，这似乎是合理。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nq"><img src="../Images/ac5fcf916a56ce730d3ef8bbf797626a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUhBhavUE_u9mOp9IEL59A.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">按性别分列的收入直方图</figcaption></figure><blockquote class="jo jp jq"><p id="16ae" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上文中，我们可以看出，男女收入的性别分布似乎相似，男女的最低和最高收入几乎相同，男性收入略偏向低收入。此外，其他人的收入分配也与男性和女性相似，最低和最高收入低于(男性和女性)。</p></blockquote><p id="69a6" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">5.对特性“成为_成员_开”进行了特性工程设计，并生成了少量其他特性，即—</p><ul class=""><li id="3225" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">‘成员资格_任期’—表示客户成员资格的长度</li><li id="a160" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">2013年、2014年、2015年、2016年、2017年和2018年——顾客成为星巴克会员的年份。</li><li id="3773" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">“月_1”、“月_2”、“月_3”、“月_4”、“月_5”、“月_6”、“月_7”、“月_8”、“月_9”、“月_10”、“月_11”和“月_ 12”——顾客成为星巴克会员的月份。</li></ul><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es nr"><img src="../Images/0bab77175c5479a5149a0a14f022c381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*rLjAlRdOHueYF9tksWVXcg.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">每年的客户数</figcaption></figure><blockquote class="jo jp jq"><p id="0a53" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面我们可以观察到，除了2018年，成为会员的客户数量每年都在增加。我们不确定，2018年有多少个月，数据是模拟的。因此，我们可以得出这样的结论:客户会员数量每年都在增加。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ns"><img src="../Images/03f8aa6f9b9563e004b8db09899f07ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wTJJFJ1tJ8RUsGpzZ3RTiA.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">每个成员年度的性别分布</figcaption></figure><blockquote class="jo jp jq"><p id="2d89" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面的图中，我们可以观察到男性成员几乎等于或多于女性成员。因此，男性成员多于女性成员，女性成员多于其他成员。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nt"><img src="../Images/d55bb4a45d12eaabfd72c1abba240cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yg6z1dTtn4niFaYtSJKhfQ.png"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">每月客户分布</figcaption></figure><blockquote class="jo jp jq"><p id="4ac1" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面，我们可以观察到，在寒冷季节后期，特别是在(八月、九月、十月、十一月、十二月、一月)顾客会员增加了，这也是有道理的，因为顾客在寒冷的天气会喝更多的咖啡。</p></blockquote><p id="c802" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">6.最后，以下是profile数据框架的特征</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nu"><img src="../Images/03a9bf1bb6acf62a934360eeaa5a66be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1UdpZzvZ6UEiHSUtB9HqmA.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">轮廓数据帧的特征</figcaption></figure><p id="23e0" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated"><strong class="ju hj"> <em class="jt">成绩单数据</em> </strong></p><ol class=""><li id="d1f6" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp ky kz la lb bi translated">抄本数据帧中没有空值。</li></ol><blockquote class="jo jp jq"><p id="79a5" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">在副本数据帧中有11.02 %即33772个观察值属于118岁的客户。因此，我们删除了对118岁客户的观察，因为我们还有大约89%的数据需要进一步分析。</p><p id="e439" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">有45.45%的事件为交易，24.38%的事件为收到的要约，18.28%的事件为查看的要约，11.89 %的事件为完成的要约。我们将用“交易”和“报价”类型来分离事件，以便稍后用于分析。</p></blockquote><p id="2a5a" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.最后，以下是抄本数据框架的特征</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es nv"><img src="../Images/bf220878794ffb17541a6f6c781acac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*1P1hRl-zLpsRPAmBZnW0Aw.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">转录数据帧的特征</figcaption></figure></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="1097" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">第3步—组合投资组合、个人资料和交易数据</h1><ol class=""><li id="58ad" class="kt ku hi ju b jv lw jz lx kq nw kr nx ks ny kp ky kz la lb bi translated">要约数据和交易数据被分离，并创建了两个新的数据帧，即:I)要约_df，仅包含类型为“已收到要约”、“已查看要约”和“要约已完成”的事件；以及ii)数据帧transaction_df，仅包含类型为“交易”的事件。</li></ol><blockquote class="jo jp jq"><p id="2bd3" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">报价类型“bogo”和“discount”具有事件“offer received”、“offer viewered”和“offer completed”，而报价类型“informational”只有事件“offer received”和“offer viewered”。因此，对于优惠类型“bogo”和“discount ”,当在优惠期内出现“已查看优惠”,然后是“已完成优惠”的事件时，我们会将该优惠视为已完成，而对于优惠类型“信息性”,当客户在优惠期内查看信息性优惠后进行购买交易时，我们会将其视为已完成。</p></blockquote><p id="76e7" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.转换报价_df &amp;交易_df。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nz"><img src="../Images/a952804d34db9372bf69b6abab943f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-VlSKS-wtxZW_bzftq5mnQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">优惠_df</figcaption></figure><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es oa"><img src="../Images/cf6e10fd60d68296ec339d2784a42129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*26cOA0j-JsXYkDGQ1188Rw.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">交易_df</figcaption></figure><p id="e0c1" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">3.将交易、人口统计和报价数据合并到combined_data_df中。</p><p id="a332" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.最后，下面是combined_data_df数据帧的特点。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ob"><img src="../Images/ed2cdd8edecbc8fed2a9dd74837c8d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6-FVEpqu4mttQbGN_7dlFA.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">组合数据测向的特点</figcaption></figure><p id="2c6d" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">5.<strong class="ju hj"> <em class="jt">分析报价回复率</em> </strong></p><blockquote class="jo jp jq"><p id="cb0a" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">发送给客户的报价分布几乎是均匀的。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oc"><img src="../Images/5ce4bc757bf96bb54633dd6a09ff7c82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HirVSzrfBexyYeOyPxTFJw.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">offer_id的分布</figcaption></figure><p id="6a67" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">以下是客户对不同报价的回应率。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es od"><img src="../Images/6a0e33d78c4dd1ad9bb4ae7bb340807f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*YTLfogVIsuCIDcNbCo9NYw.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">出价回应率</figcaption></figure><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oe"><img src="../Images/9392fcf6142cc03c5237233b71a9c5f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xocql-3QysMdELXSR6IAWg.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">offer_id的回应率</figcaption></figure><blockquote class="jo jp jq"><p id="1af4" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">offer_id为“fafdcd 668 e 3743 C1 bb 461111 dcafc 2 a 4”、报价类型为“折扣”的报价得到了客户的最高回应，回应率为76%，而offer_id为“3f 207 df 678 b 143 EEA 3c e 63160 fa 8 bed”、报价类型为“信息性”的报价得到了客户的最低回应，回应率为37%。</p></blockquote><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es of"><img src="../Images/c8aa7e66d66f79f0d11cd5bec6c03058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*41x6Oc3WflAuHkvckY7buQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">高回应率和低回应率的报价</figcaption></figure><blockquote class="jo jp jq"><p id="1e0d" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">offer _ id“fafdcd 668 e 3743 C1 bb 461111 dcafc 2 a 4”是最成功的优惠，与“折扣”优惠相对应，在收到优惠后10天内最低消费10美元，奖励2美元。offer _ id“3f 207 df 678 b 143 EEA 3a ce 63160 fa 8 bed”是最不成功的报价，对应于没有最低消费要求、没有奖励的信息性报价。</p></blockquote></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="92e6" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">步骤4 —选择一个性能指标来分析模型的性能并比较不同的模型</h1><ol class=""><li id="84c9" class="kt ku hi ju b jv lw jz lx kq nw kr nx ks ny kp ky kz la lb bi translated">下面是目标类在组合数据中的分布。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es og"><img src="../Images/54aa274dda25e839b328fddd68b1f72c.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*aUVmt7q3wyX0Yn29oosSxw.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">组合数据中目标类的分布</figcaption></figure><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es oh"><img src="../Images/d98cffb8b525c1c59dc3fded9142a30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*xS2JkdLfXh8Hb_0P-CRyeQ.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">目标类在组合数据中的分布百分比</figcaption></figure><blockquote class="jo jp jq"><p id="add2" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面可以看出，我们从Starbucks数据集(报价数据、客户人口统计数据和交易数据)中创建的组合数据集在目标类别分布方面几乎是平衡的(略微不平衡)(由类别1代表的响应报价(54%)的客户和由类别0代表的不响应报价(46%)的客户),在这种情况下，准确性等性能指标不是衡量模型性能的正确标准，应该避免。相反，在这种情况下，精确度、召回率和f1_score是评估模型的好方法。</p><p id="2afd" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">在这种情况下，用精度和召回率来评估模型将提供对其性能的更好的洞察，而不是准确性。因为，星巴克希望向那些有更多机会兑现优惠的顾客发送优惠，而不是向所有顾客发送优惠，这将使星巴克能够进行有效的营销，并能够从优惠中实现更多的商业价值。f1-得分指标是“精确度和召回率指标的调和平均值”,是提供更大的问题预测能力和预测模型预测效果的更好方法。参考<a class="ae lh" href="https://machinelearningmastery.com/classification-accuracy-is-not-enough-more-performance-measures-you-can-use/" rel="noopener ugc nofollow" target="_blank">分类精度不够:更多性能指标您可以使用</a>了解更多信息。</p></blockquote></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="21a5" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">步骤5 —计算基线模型的性能，并与其他不同模型的性能进行比较</h1><p id="f322" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">我们将创建一个基准模型(一个天真的模型)<em class="jt"> </em>，我们将与我们的模型进行比较，以确定我们的模型是否比基准模型表现得更好。我们的基线模型会预测所有用户都会对报价做出反应。因此，我们将计算基线模型的f1_score。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oi"><img src="../Images/a350971d199596430948a05110c14022.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V78ChtlY6tinNyEkqo0TNw.jpeg"/></div></div></figure><blockquote class="jo jp jq"><p id="0822" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">我们的基本模型的f1_score为0.6996。因此，我们的其他训练分类器应该产生比阈值f1_score 0.6996更好的f1 _ score。</p></blockquote></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><h1 id="1daf" class="iq ir hi bd is it mx iv iw ix my iz ja jb mz jd je jf na jh ji jj nb jl jm jn bi translated">第6步—根据指标和培训时间选择最佳表现模型</h1><ol class=""><li id="02ea" class="kt ku hi ju b jv lw jz lx kq nw kr nx ks ny kp ky kz la lb bi translated">在训练分类器如逻辑回归、随机森林、Adaboost &amp; GradientBoosting之前，组合数据被分成训练和测试数据。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es oj"><img src="../Images/54769101793fb3018b3102ce356e8c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*dI--mcngIjDuzBQyLZD4kA.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">目标类在训练集中的分布</figcaption></figure><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es ok"><img src="../Images/400174e0e18f3dfd1968fa942388bc38.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*deSivXEd-99q23Ud0awiKg.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">测试集中目标类的分布</figcaption></figure><p id="6cf0" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.从上面我们可以观察到，我们的训练和测试集在目标类的分布方面也几乎是平衡的。</p><p id="66a0" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">3.combined_data_df中的一些功能被删除，因为这些功能在训练模型期间不会发挥任何作用，如“客户id”、“报价id”、“时间”、“电子邮件”。</p><p id="f1ad" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">I)删除“客户标识”和“报价标识”，因为它们是唯一标识符。</p><p id="e5fb" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">ii)去掉“时间”,因为不需要。它用于检查客户是否对报价做出回应，并计算总金额，然后以正确的形式将适当的数据输入到机器学习算法中。</p><p id="439d" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">iii)删除“电子邮件”,因为它在所有观察中只有1个值，并且值为1。</p><p id="ca71" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.在将组合数据分成训练和测试数据后，使用<a class="ae lh" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html" rel="noopener ugc nofollow" target="_blank">最小最大缩放器</a>对诸如“难度”、“持续时间”、“奖励”、“成员资格_任期”、“总额”等特征进行缩放。它通过将每个特征缩放到给定的范围来变换特征，默认范围在0和1之间<em class="jt">。</em></p><p id="b546" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">5.对于所有4个分类模型，最初使用默认参数值，并且仅设置random_state变量以再现结果。稍后，我们将在GridsearchCV的帮助下细化最佳模型的参数。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es ol"><img src="../Images/05e25afd46f66870ea934ad1b6e21f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*RQJLqoJMSr3fP8JckgIVdg.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">最初使用默认参数</figcaption></figure><p id="741b" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">6.在缩放和丢弃不必要的特征之后，各种分类器在训练数据上被训练，并且产生比基线模型的f1_score更好的f1_score。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es om"><img src="../Images/17b90622cda9922fcd0b4abbd5b6b298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkY6uTTpEpGsZWO4SgyCYg.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">分类器的f1_score和训练时间</figcaption></figure><blockquote class="jo jp jq"><p id="11aa" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">我们所有训练的分类器产生比阈值f1_score 0.6996更好的f1 _ score。RandomForestClassifier和GradientBoostingClassifier获得了几乎相等的f1_score(大约。0.92)但是RandomForestClassifier比GradientBoostingClassifier花费的训练时间要少得多。因此，在上述4个分类器中，性能最好的分类器算法是RandomForestClassifier。</p></blockquote><p id="5ccf" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">7.在使用GridSearchCV对训练好的RandomForestClassifier的超参数进行微调之后，我们的模型得到了改进，并产生了更好的f1 _ score 0.9319，并对测试数据进行了交叉验证。我们的最终模型比之前报道的f1_score为0.6996的基准模型或基线模型或天真模型更强。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es on"><img src="../Images/98b7be304c4a1ff1d0050b760fb5078a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vT0UFHCcTHWGIjuE0NBRPQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">微调已训练的随机森林分类器</figcaption></figure><h1 id="9691" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">步骤7-计算由训练模型的最佳估计器给出的特征重要性</h1><ol class=""><li id="95ba" class="kt ku hi ju b jv lw jz lx kq nw kr nx ks ny kp ky kz la lb bi translated">以下是10大功能及其重要性。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es oo"><img src="../Images/3a09b6ae0309abdee12f23b41abf4a93.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*CkP6a_ov4llURsh91LsC-A.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">十大功能</figcaption></figure><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es op"><img src="../Images/583953a20abcf91fe85d48543056f6a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFx-cg3L9iwp3bH7XBNBNQ.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">前10项功能重要性条形图</figcaption></figure><p id="5889" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.以下是对10大特征的观察—</p><ul class=""><li id="e262" class="kt ku hi ju b jv jw jz ka kq kv kr kw ks kx kp nc kz la lb bi translated">影响客户在查看报价后是否会对报价做出回应的10大特征是:<code class="du oq or os ot b">'total_amount', 'membership_tenure' , 'social', 'difficulty', 'duration', 'reward', '2018', '2016', 'income_30ths'</code>和<code class="du oq or os ot b">'age_50s'</code>。</li><li id="3bd7" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated"><code class="du oq or os ot b">total_amount</code>顾客花费是最大和最大的特征，它可能会在顾客查看报价后单方面影响顾客是否会完成报价，即顾客花费多少可能会决定顾客是否会完成报价。因此，事先知道客户可以花多少钱肯定有助于确定客户是否会对报价做出反应并完成交易。为此，需要另一种监督学习算法，即回归模型，以便根据报价数据和客户人口统计数据预测个人可能花费的总金额。</li><li id="327b" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'total_amount'</code>之后，<code class="du oq or os ot b">'membership_tenure'</code>是第二大特征——它代表了顾客成为星巴克奖励计划会员的时间长短对顾客是否会在回应后完成报价有很大影响。</li><li id="7ca2" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'membership_tenure'</code>、<code class="du oq or os ot b">'social feature'</code>之后——这表示，如果星巴克通过社交媒体向顾客发送报价，可能会比其他沟通方式得到更多的回应。</li><li id="2a90" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'social'</code>功能之后，<code class="du oq or os ot b">'difficulty'</code>功能——表示如果客户响应并完成报价，完成报价所需的最低金额。</li><li id="bf4f" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'difficulty'</code>功能之后，<code class="du oq or os ot b">'duration'</code>功能——代表优惠有效期的长短，影响客户的反应和优惠的完成。</li><li id="7a35" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'duration'</code>特征之后，<code class="du oq or os ot b">'reward'</code>特征——代表作为奖励的金额，如果客户愿意回应并完成报价，客户将会重新获得影响力。</li><li id="d637" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'reward'</code>特征之后，<code class="du oq or os ot b">'2018'</code>和<code class="du oq or os ot b">'2016'</code>特征代表——如果顾客在2016年&amp; 2018年成为星巴克奖励计划的会员，就有更多的机会对优惠做出回应并完成它。</li><li id="9748" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'2018'</code>和<code class="du oq or os ot b">'2016'</code>特征之后，<code class="du oq or os ot b">'income_30ths'</code>特征代表-如果客户的收入在30000英镑左右，这是起始收入组，那么客户可能会对报价做出更多反应并完成报价。</li><li id="bf6a" class="kt ku hi ju b jv lc jz ld kq le kr lf ks lg kp nc kz la lb bi translated">在<code class="du oq or os ot b">'income_30ths’</code>特征之后，<code class="du oq or os ot b">'age_50s'</code>特征代表——如果客户年龄在50岁以上，那么客户可能会对报价做出更多反应并完成报价。</li></ul><h1 id="1a07" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">步骤8-计算测试集上最佳模型的性能，并通过混淆矩阵图可视化性能</h1><ol class=""><li id="6477" class="kt ku hi ju b jv lw jz lx kq nw kr nx ks ny kp ky kz la lb bi translated">测试数据的准备方式与训练数据完全相同，测试数据的类是使用微调的RandomForestClassifier预测的。</li></ol><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es ou"><img src="../Images/953e10308a6a753456836206221269c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*ytERNJpLMKRZUU0SWn38pA.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">预测测试数据类别</figcaption></figure><p id="33ec" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.根据测试数据计算f1_score</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ov"><img src="../Images/9f583f2f11112054bdef91ff33e01f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kHwRDbVdsckkHax_6O-5MA.jpeg"/></div></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">精确度、召回率、f1 _测试数据得分</figcaption></figure><blockquote class="jo jp jq"><p id="3884" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">微调的RandomForestClassifier最佳估计器在测试数据上产生了0.9336的f1_score，这是相当好的。</p></blockquote><p id="0795" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">3.从混淆矩阵计算真阴性、假阳性、假阴性和真阳性。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es ow"><img src="../Images/897027fa5844f5654ee580d804280e55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*rt-G2anuTfYRBY0wicZtKg.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">来自混淆矩阵的tn、fp、fn、tp</figcaption></figure><p id="7061" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.不归一化绘制混淆矩阵。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es ox"><img src="../Images/db1463477ec582b87025b91d811a5b05.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*vi26omWNNZ8ASrGmvm6UHA.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">无归一化的混淆矩阵</figcaption></figure><p id="4a0f" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">5.绘制标准化混淆矩阵。</p><figure class="ne nf ng nh fd ij er es paragraph-image"><div class="er es oy"><img src="../Images/d62a324311245ab5feae422778095399.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*gHwy-hGiv3tqPEo2yrTzCg.jpeg"/></div><figcaption class="ni nj et er es nk nl bd b be z dx translated">标准化混淆矩阵</figcaption></figure><blockquote class="jo jp jq"><p id="b5a0" class="jr js jt ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">从上面的标准化混淆矩阵中，我们观察到有4%的机会将一个通常会对一个不会对提议做出反应的个体进行错误分类。类似地，有11%的机会将一个不会回应的人错误分类为一个会回应提议的人。因为，假阴性比假阳性少，我们的预测模型做得很好，因为它有非常低的机会错过会响应的个体。由于星巴克不希望错过将报价发送给会对报价作出响应的个人，这种模式在这种情况下会很好，并且通过使用这种模式，星巴克不会错过将报价发送给会对报价作出响应的个人，因此，整体业务收入不会受到影响。此外，如果星巴克能够确保他们已经在很大程度上覆盖了会对要约做出回应的个人，星巴克不会介意向少数不会做出回应的个人发送要约。因此，我们的预测模型非常适合这种情况。</p></blockquote><h2 id="ebf0" class="li ir hi bd is lj lk ll iw lm ln lo ja kq lp lq je kr lr ls ji ks lt lu jm lv bi translated">反射</h2><p id="91f3" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">这个项目中我最感兴趣的方面是如何使用预测建模技术和分析将不同的数据集(即报价数据、客户人口统计数据和交易数据)结合起来，以获得洞察力，从而为企业提供更好的业务决策和价值。整个分析中最困难的部分是找到逻辑和策略，以便根据对客户有效的报价持续时间来生成组合数据集。</p><h2 id="7a94" class="li ir hi bd is lj lk ll iw lm ln lo ja kq lp lq je kr lr ls ji ks lt lu jm lv bi translated">改进</h2><p id="dd92" class="pw-post-body-paragraph jr js hi ju b jv lw jx jy jz lx kb kc kq ly kf kg kr lz kj kk ks ma kn ko kp hb bi translated">1.<em class="jt">“想出新功能很困难，很耗时，需要专业知识。‘应用机器学习’基本上是特征工程。”</em> —吴恩达教授。因此，可以对报价、客户人口统计和交易数据执行更多的特征工程，以便有更多更好的模型。</p><p id="3c3f" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">2.此外，我们可以通过采用另一个问题陈述来改进该项目，即使用受监督的机器学习回归算法，根据报价数据和人口统计数据来确定客户可以花费多少，这反过来将有助于发现客户是否会响应，因为客户可以花费的“总额”是最佳训练分类器模型中最重要的特征。</p><p id="58fb" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">3.此外，我们可以通过使用<a class="ae lh" href="https://machinelearningmastery.com/tactics-to-combat-imbalanced-classes-in-your-machine-learning-dataset/" rel="noopener ugc nofollow" target="_blank"> 8策略将我们接近平衡(略有不平衡)的数据集变成完全平衡的数据集来改善该项目，以消除您的机器学习数据集</a>中的不平衡类。这将进一步提高分类模型的性能。</p><p id="4155" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">4.我们还可以执行聚类建模(行为聚类、基于产品的聚类、基于品牌的聚类),以便根据几个变量一次将客户细分成几个组。有了它，我们可以针对不同的目标锁定特定的人口统计数据和角色。</p><p id="896f" class="pw-post-body-paragraph jr js hi ju b jv jw jx jy jz ka kb kc kq ke kf kg kr ki kj kk ks km kn ko kp hb bi translated">这个分析的完整代码可以在这里找到<a class="ae lh" href="https://github.com/gauravansal/Starbucks-Capstone-Challenge" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj"><em class="jt"/></strong></a><strong class="ju hj"><em class="jt">。</em>T9】</strong></p></div></div>    
</body>
</html>