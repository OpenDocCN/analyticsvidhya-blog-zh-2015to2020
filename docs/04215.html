<html>
<head>
<title>Visualizing WhatsApp Chats using Python and Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python和Power BI可视化WhatsApp聊天</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/visualizing-whatsapp-chats-using-python-and-power-bi-72ea861364ed?source=collection_archive---------3-----------------------#2020-03-10">https://medium.com/analytics-vidhya/visualizing-whatsapp-chats-using-python-and-power-bi-72ea861364ed?source=collection_archive---------3-----------------------#2020-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/11384b2945f10c34e94a4daf56631576.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rNGOgFO3o_LZya_v"/></div></div></figure><h2 id="cf6b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h2><p id="b1cf" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">全球180多个国家超过10亿人使用Whatsapp与朋友和家人保持联系，开展业务和其他社交活动。它允许用户以文本、图片、视频和语音记录的形式分享信息，因此是一个很好的数据分析来源。</p><p id="8708" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在本教程中，我们将从Whatsapp平台导出数据，将其导入Python，转换和清理这些数据，并最终使用Power BI创建一个非常棒的交互式仪表盘。</p><h2 id="6a56" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">先决条件</h2><p id="fafa" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">在我们开始之前，您需要在Python环境中安装以下包:</p><ol class=""><li id="db98" class="ko kp hi jq b jr kj jv kk jb kq jf kr jj ks ki kt ku kv kw bi translated">熊猫</li><li id="5449" class="ko kp hi jq b jr kx jv ky jb kz jf la jj lb ki kt ku kv kw bi translated">matplotlib</li><li id="f0bd" class="ko kp hi jq b jr kx jv ky jb kz jf la jj lb ki kt ku kv kw bi translated">正则表达式</li><li id="8346" class="ko kp hi jq b jr kx jv ky jb kz jf la jj lb ki kt ku kv kw bi translated">日期解析器</li><li id="c02a" class="ko kp hi jq b jr kx jv ky jb kz jf la jj lb ki kt ku kv kw bi translated">numpy</li></ol><p id="2abe" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">您可以通过在Jupyter笔记本或命令行上运行<code class="du lc ld le lf b"> pip install</code>命令来轻松安装这些包。如果您正在使用Python的Anaconda发行版，也可以在Jupyter或Anaconda提示符下使用<code class="du lc ld le lf b">conda install</code>。例如，要安装pandas，您可以运行:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="1d5f" class="iq ir hi lf b fi lo lp l lq lr">pip install pandas</span></pre><p id="8867" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">或者</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="cc25" class="iq ir hi lf b fi lo lp l lq lr">conda install pandas</span></pre><p id="2945" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">一旦你安装了所有这些包，我们就可以开始收集数据了。</p><h2 id="5973" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">提取WHATSAPP聊天数据</h2><p id="9c19" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">在本教程中，我将使用来自Whatsapp群聊的数据，但是你也可以使用你自己的数据。只需在您的手机上打开Whatsapp应用程序，导航到您想要分析的聊天(由于其广泛的可视化选项，我会建议群聊)，单击垂直省略号(电话符号旁边的三个小点)，单击更多，选择导出聊天并选择无媒体。包括媒体需要时间来导出，我们不希望这样。然后选择电子邮件选项并导出。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/3b258ae8efeb1d0ff237ecf35030c1b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*k-5DwncS04i_wFwl.png"/></div></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/201e7d2d809558cb52c1f5064dd9c1cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*72nsTC8IKYFuJMzp.png"/></div></div></figure><p id="6e30" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">从您的电子邮件中下载导出的聊天数据，并将其作为Chat.txt保存在为此项目专门创建的新文件夹中。聊天数据是文本文件格式，我们将使用Python来清理和转换这些数据。</p><h2 id="d1d7" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">数据清理和准备</h2><p id="8f9e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">我们的聊天数据是文本文件格式，我们不能做太多。我们需要清理这个文本文件并将其转换成数据帧，以便我们能够分析它，获得洞察力并创建令人惊叹的视觉效果。我们将利用Python中的pandas库来做这件事。</p><p id="fb1c" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">打开Jupyter notebook(或您首选的IDE)，导航到包含我们的文本文件的文件夹，并创建一个新的笔记本。</p><p id="7b77" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">首先，我们需要导入一些分析所需的包:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="add0" class="iq ir hi lf b fi lo lp l lq lr">import pandas as pd<br/>import numpy as np<br/>import re<br/>import dateparser<br/>from collections import Counter</span></pre><p id="6077" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们需要将我们的Chat.txt加载到Python中并读取它。我们将使用下面的函数来实现这一点:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="0781" class="iq ir hi lf b fi lo lp l lq lr">def read_file(file):<br/>    '''Reads Whatsapp text file into a list of strings''' <br/>    x = open(file,'r', encoding = 'utf-8') #Opens the text file into variable x but the variable cannot be explored yet<br/>    y = x.read() #By now it becomes a huge chunk of string that we need to separate line by line<br/>    content = y.splitlines() #The splitline method converts the chunk of string into a list of strings<br/>    return content</span></pre><p id="bbe3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们使用read_file函数将Chat.txt文件读入Python，并将其保存到一个名为Chat的变量中。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="189a" class="iq ir hi lf b fi lo lp l lq lr">chat = read_file('Chat.txt')<br/>len(chat)</span></pre><p id="33cb" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们将获得以下输出，显示聊天中的行的长度:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/53b403114c6d57aae1430ba4098c9765.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/0*XLm3-faPkP0QaLT9"/></div></figure><p id="1f2c" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">有些消息对我们的分析没有用，我们需要删除它们。例如，系统生成的消息显示有人刚刚加入或离开群聊。让我们将所有“连接”的消息保存到一个名为join的变量中。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="8517" class="iq ir hi lf b fi lo lp l lq lr">join = [line for line in chat if  "joined using this" in line]<br/>join</span></pre><p id="fdc2" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这为我们提供了以下输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/20a8d9cc94f24e9ad3da74fc460de78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*p8P_1w3s87ZosmWg.png"/></div></figure><p id="f6ad" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们将通过删除join中的所有消息以及通过运行以下代码删除所有空行(不包含消息的行)来清理我们的聊天数据:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="9cdb" class="iq ir hi lf b fi lo lp l lq lr">#Remove new lines<br/>chat = [line.strip() for line in chat]<br/>print("length of chat is:")<br/>print(len(chat))<br/>#Clean out the join notification lines<br/>clean_chat = [line for line in chat if not "joined using this" in line]<br/>#Further cleaning<br/>#Remove empty lines<br/>clean_chat = [line for line in clean_chat if len(line) &gt; 1]<br/>print("length of clean_chat is:")<br/>print(len(clean_chat))</span></pre><p id="ae5f" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这给出了输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/0d3e022c5797bceaab17a00a42934df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/0*bxOH0mm3szlVRLZY"/></div></figure><p id="5231" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在我们的clean_chat变量中有2012行(这对于你自己的数据应该是不同的)。</p><p id="b050" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们对显示离开成员的消息进行同样的操作。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="2415" class="iq ir hi lf b fi lo lp l lq lr">#Drop 'left-ers'<br/>left = [line for line in clean_chat if line.endswith("left")]<br/>left</span></pre><p id="2b93" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">对于重新整合的Whatsapp聊天，在此分析所涵盖的时间段内没有成员离开，如下所示:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/d1e06c4e13ae1ad59b1a9afd14a42fdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/0*cjB3PEIoKOBXr94E"/></div></figure><p id="6284" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">如果您的数据包含显示一些成员离开的消息，则运行以下代码:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="6dd4" class="iq ir hi lf b fi lo lp l lq lr">#Clean out the left notification lines<br/>clean_chat = [line for line in clean_chat if not line.endswith("left")]<br/>print(len(clean_chat))</span></pre><p id="08bc" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们将把clean_chat中的所有行分组到消息中，并存储在一个名为msgs的变量中。每封邮件都以日期开始，例如12/12/19，我们将在分组中使用该属性。我们将通过运行下面的代码来利用Python中的regex包:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="2240" class="iq ir hi lf b fi lo lp l lq lr">#Merge messages that belong together<br/>msgs = [] #message container<br/>pos = 0 #counter for position of msgs in the container<br/>"""<br/>Flow:<br/>For every line, see if it matches the expression which is starting with the format "number(s)+slash" eg "12/"<br/>If it does, it is a new line of conversion as they begin with dates, add it to msgs container<br/>Else, it is a continuation of the previous line, add it to the previous line and append to msgs, then pop previous line.<br/>"""<br/>for line in clean_chat:<br/>    if re.findall("\A\d+[/]", line):<br/>        msgs.append(line)<br/>        pos += 1<br/>    else:<br/>        take = msgs[pos-1] + ". " + line<br/>        msgs.append(take)<br/>        msgs.pop(pos-1)<br/>len(msgs)</span></pre><p id="f40a" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这给出了下面的输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/2ceefc8cc4c189c6b324bbffcad48472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0Qga4I3pDarFsnac"/></div></div></figure><p id="d7cf" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们总共有1472条不同的消息(这应该与您的数据不同)。让我们看看我们的msgs数据的内容:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="5157" class="iq ir hi lf b fi lo lp l lq lr">msgs[0:10]</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/0c1717aa0468df04af59d0d15ee3ff6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/0*5nBRvTtM-ozza1IE.png"/></div></figure><p id="aa53" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们需要使用以下代码从我们的msgs数据中提取日期、时间、姓名和消息内容:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="57d6" class="iq ir hi lf b fi lo lp l lq lr">time = [msgs[i].split(',')[1].split('-')[0] for i in range(len(msgs))]<br/>time = [s.strip(' ') for s in time] # Remove spacing<br/>print("length of time is:")<br/>print(len(time))<br/>time</span></pre><p id="b167" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这给出了输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/b5af9f58ab14e6364aca9fb93dfee316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*waj_NUE5ms7HirzU"/></div></div></figure><p id="a353" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们对日期、名称和内容也是如此。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="82bd" class="iq ir hi lf b fi lo lp l lq lr">date = [msgs[i].split(',')[0] for i in range(len(msgs))]<br/>len(date)</span><span id="413d" class="iq ir hi lf b fi ma lp l lq lr">name = [msgs[i].split('-')[1].split(':')[0] for i in range(len(msgs))]<br/>len(name)</span><span id="49f9" class="iq ir hi lf b fi ma lp l lq lr">content = []<br/>for i in range(len(msgs)):<br/>  try:<br/>    content.append(msgs[i].split(':')[2])<br/>  except IndexError:<br/>    content.append('Missing Text')<br/>len(content)</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/1f32240585620a876c2753b42986547d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H1gNZUeAs2q06Js_"/></div></div></figure><p id="daea" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">现在，我们终于可以使用pandas库将我们的日期、时间、姓名和内容数据合并到一个名为df的数据帧中了，代码如下:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="96b6" class="iq ir hi lf b fi lo lp l lq lr">df = pd.DataFrame(list(zip(date, time, name, content)), columns = ['Date', 'Time', 'Name', 'Content'])<br/>df</span></pre><p id="83d8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这给出了下面的输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/9e4f65a0279892edc14e0807b99757d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*IBN41VTntNjKVuoA.png"/></div></figure><p id="57ee" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">看前两行数据。内容栏显示“缺少文本”这些是系统消息，我们需要删除它们。我们可以通过以下方式做到这一点:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="a491" class="iq ir hi lf b fi lo lp l lq lr">df = df[df["Content"]!='Missing Text']<br/>df.reset_index(inplace=True, drop=True)<br/>df</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/a6b38e4d96ae7788023958e709b8aa43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hWFUTGRwgkOAWnQp.png"/></div></div></figure><p id="559b" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">请注意，行数从1472降到了1465(对于您的数据，这应该是不同的)。</p><p id="af4b" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们将利用pandas中的内置函数创建额外的列。首先，让我们通过合并日期和时间列并使用pd.to_datetime函数来创建一个日期时间列:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="0df4" class="iq ir hi lf b fi lo lp l lq lr">df['DateTime'] = pd.to_datetime(df['Date'] + ' ' + df['Time'])<br/>df['DateTime']</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es me"><img src="../Images/1af5a74d68f72a3305dd9f6ff126fd95.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/0*Bp9-xNv2K762gzC2"/></div></figure><p id="27ae" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">使用我们新创建的Datetime列，我们可以创建一个显示一周中各天的weekday列。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="43c8" class="iq ir hi lf b fi lo lp l lq lr">df['weekday'] = df['DateTime'].apply(lambda x: x.day_name())</span></pre><p id="5193" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们将拆分内容列以创建新列，显示每封邮件中包含的字母和单词数。我们将这些列分别称为字母计数和单词计数。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="0e1d" class="iq ir hi lf b fi lo lp l lq lr">df['Letter_Count'] = df['Content'].apply(lambda s : len(s))<br/>df['Word_Count'] = df['Content'].apply(lambda s : len(s.split(' ')))</span></pre><p id="3015" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">接下来，我们将拆分Time列，创建一个名为Hour的新列，显示一天中发送消息的时间。例如，给定12:15，我们将在冒号(12)之前拆分数据，因为这表示小时。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="2f6f" class="iq ir hi lf b fi lo lp l lq lr">df['Hour'] = df['Time'].apply(lambda x : x.split(':')[0]) <br/># The first token of a value in the Time Column contains the hour (Eg., "12" in "12:15")</span></pre><p id="2674" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">让我们看看我们的数据帧df，看看到目前为止我们预处理的结果:</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="b50d" class="iq ir hi lf b fi lo lp l lq lr">#print first five rows of our dataframe<br/>df.head()</span></pre><p id="8314" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这给出了输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/11b6530122759963c79c62a0f8343e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xahJB5g2Ha3bEDLS.png"/></div></div></figure><p id="5bfc" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们现在可以通过使用pandas内置函数以CSV格式保存我们的数据帧df。这个CSV将用于在Power BI中创建我们的视觉效果。</p><pre class="lg lh li lj fd lk lf ll lm aw ln bi"><span id="d927" class="iq ir hi lf b fi lo lp l lq lr">#saving to csv format<br/>df.to_csv("WhatsappChat.csv")</span></pre><p id="b2ff" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我们的CSV文件现在被保存为项目文件夹中的“WhatsappChat.csv”。在本教程的下一部分，我们将使用这个CSV文件在Power BI中创建令人惊叹的视觉效果。</p><p id="e16a" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">你可以在这个<a class="ae mf" href="https://github.com/ObinnaIheanachor/Whatsapp-Chat-project" rel="noopener ugc nofollow" target="_blank"> github repo </a>查看代码文件:</p><p id="88a2" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在下一篇文章中，我们将介绍如何在Power BI中创建一份出色的报告。</p><p id="affa" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">关于作者</strong></p><p id="f6f8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Obinna Iheanachor是一名创新型数据专家，拥有丰富的分析经验，并成功处理大量数据集来分解信息、收集相关见解和解决高级业务问题。<em class="mg">你会发现他处于数据分析、科学和艺术的交汇点</em>。</p><p id="92ae" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">你可以在<a class="ae mf" href="https://www.linkedin.com/in/obinnaiheanachor/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae mf" href="https://twitter.com/DatascientistOb" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上和我联系。</p></div></div>    
</body>
</html>