<html>
<head>
<title>What’s the Difference Between RMSE and RMSLE?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RMSE和RMSLE有什么不同？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/root-mean-square-log-error-rmse-vs-rmlse-935c6cc1802a?source=collection_archive---------0-----------------------#2019-06-26">https://medium.com/analytics-vidhya/root-mean-square-log-error-rmse-vs-rmlse-935c6cc1802a?source=collection_archive---------0-----------------------#2019-06-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="5fd0" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="9f48" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">当涉及到回归问题时，有许多评估指标，简而言之，均方根误差或RMSE是评估回归问题的“goto”方法之一，并且一直存在至今。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es kb"><img src="../Images/5ccb774712f9f1a38d90f11006cb5aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*3TqMl-MV8YdtwT1uI0h4MA.png"/></div></figure><p id="61a6" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">但最近，回归问题的评估指标中出现了一个通配符条目，特别是在<a class="ae ko" href="https://courses.analyticsvidhya.com/courses/introduction-to-data-science-2?utm_source=medium&amp;utm_medium=DifferenceBetweenRMSEandRMSLE" rel="noopener ugc nofollow" target="_blank">数据科学</a>竞赛中，被称为<strong class="jf hj">均方根对数误差</strong>。</p><p id="9037" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">乍一看，似乎只是指标名称中的关键字“Log”有所不同。但是相信我，事情远不止看上去那么简单。在这篇短文中，我们将进一步了解RMSLE，并将其与RMSE指标进行比较。如果您觉得需要快速复习一下RMSE评估指标，可以查看下面的链接</p><ul class=""><li id="95db" class="kp kq hi jf b jg kj jk kk jo kr js ks jw kt ka ku kv kw kx bi translated"><a class="ae ko" href="https://www.analyticsvidhya.com/blog/2016/02/7-important-model-evaluation-error-metrics/" rel="noopener ugc nofollow" target="_blank">重要评估指标</a></li></ul><h2 id="0d49" class="ky ig hi bd ih kz la lb il lc ld le ip jo lf lg it js lh li ix jw lj lk jb ll bi translated">第一眼</h2><p id="f57b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在深入研究RMSLE的复杂性之前，让我们快速看一下公式。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/3f24e4c1010de468f46bc1ad96e0110f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AUzyQ1rc6mpQVYfn"/></div></div></figure><p id="c944" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">注意，在公式中，X是预测值，Y是实际值。</strong></p><p id="e17b" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">当我们看到RMSE的公式时，它看起来就像一个对数函数的差。实际上，对数之间微小差异是赋予RMSLE独特属性的主要因素。</p><p id="1d34" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">让我们逐一介绍。</p><h2 id="f7c6" class="ky ig hi bd ih kz la lb il lc ld le ip jo lf lg it js lh li ix jw lj lk jb ll bi translated">对异常值影响的鲁棒性</h2><p id="bc0a" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在RMSE的情况下，异常值的存在可以将误差项放大到非常高的值。但是，在RMLSE的情况下，异常值急剧缩小，因此抵消了它们的影响。</p><p id="0728" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">让我们用一个小例子来理解这一点:</p><p id="c9b9" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">认为预测值为X，实际值为Y </strong></p><p id="d688" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 60 80 90</p><p id="1763" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 67 78 91</p><p id="e601" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">经计算，它们的RMSE和均方根误差分别为:4.242和0.6466</p><p id="6339" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">现在让我们在数据中引入一个异常值</strong></p><p id="c676" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 60 80 90 750</p><p id="f252" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 67 78 91 102</p><p id="0ebf" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">在这种情况下，RMSE和均方根误差分别为:374.724和1.160</p><p id="ee23" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">我们可以清楚地看到，一旦遇到异常值，<strong class="jf hj"> RMSE的值就会在数量级</strong>上爆炸。相比之下，即使引入异常值，<strong class="jf hj"> RMSLE误差也不会受到太大影响</strong>。从这个小例子中，我们可以清楚地推断，当离群值开始起作用时，RMSLE是非常健壮的。</p><h2 id="b001" class="ky ig hi bd ih kz la lb il lc ld le ip jo lf lg it js lh li ix jw lj lk jb ll bi translated">相对误差</h2><p id="2533" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果只考虑RMLSE的内部部分，我们发现它根本上是一个计算相对误差。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/1c973d74715a4eaa7286dab99a7fe343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*raFcfLfgKNYlKjmhrgSdGQ.png"/></div></div></figure><p id="58eb" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">由此，我们可以清楚地看到，由于对数的性质，RMLSE可以被广泛地视为预测值和实际值之间的相对误差。</p><p id="aae7" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">让我们借助一个例子来理解这一点。</p><p id="c025" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">案例1: </strong></p><p id="617b" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 100</p><p id="8e5d" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 90</p><p id="5032" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">计算的均方根误差:0.1053</p><p id="fdbc" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">计算RMSE: 10</p><p id="b895" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">乍一看，没有什么看起来华而不实的。让我们考虑另一个例子。</p><p id="749d" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">案例二:</strong></p><p id="5591" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">认为</p><p id="161f" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 10000</p><p id="ee11" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 9000</p><p id="92f2" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">计算RMSLE: 0.1053</p><p id="589a" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">计算RMSE : 1000</p><p id="5bbb" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">惊讶吗？</p><p id="ba05" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">这两个例子完美地支持了我们上面提到的相对误差的论点，<strong class="jf hj"> RMSLE度量只考虑了预测值和实际值之间的相对误差，误差的大小并不显著。另一方面，如果误差范围增大，RMSE值的大小也会增大。</strong></p><h2 id="6a13" class="ky ig hi bd ih kz la lb il lc ld le ip jo lf lg it js lh li ix jw lj lk jb ll bi translated">有偏见的惩罚</h2><p id="7cc0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这也许是为什么RMSLE被引入数据科学竞赛的最重要的因素。<strong class="jf hj"> RMSLE对实际变量的低估比高估招致更大的惩罚。</strong></p><p id="6512" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">简单地说，当预测值小于实际值时，会招致更多的惩罚。另一方面，当预测值大于实际值时，产生的损失较少。</p><p id="e8d6" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">我们用一个例子来理解。</p><p id="0abf" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">案例1:低估实际值</strong></p><p id="9b20" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 1000</p><p id="a094" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 600</p><p id="ef10" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">RMSE算了一下:400</p><p id="f324" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">RMSLE计算值:0.510</p><p id="a496" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">情况2:高估实际值</strong></p><p id="14aa" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">Y = 1000</p><p id="5c09" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">X = 1400</p><p id="f3bb" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">RMSE算了一下:400</p><p id="7d94" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">RMSLE计算值:0.33</p><p id="d781" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">从这两种情况来看，很明显，RMLSE因低估实际值而招致更大的损失。这<strong class="jf hj">对于低估目标变量不可接受但高估可以容忍的商业案例特别有用。</strong></p><p id="7240" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated"><strong class="jf hj">例如:</strong></p><p id="4640" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">考虑一个回归问题，其中我们必须预测代理将食品交付给客户所需的时间。</p><p id="a0e7" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">现在，如果我们建立的回归模型高估了配送时间，那么配送员就会放松他配送食物的时间，这种微小的高估是可以接受的。</p><p id="8189" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">但当预测的送货时间少于实际行程所需时间时，问题就出现了，在这种情况下，送货代理更有可能错过截止日期，结果，客户评论可能会受到影响。</p><h2 id="afc7" class="ky ig hi bd ih kz la lb il lc ld le ip jo lf lg it js lh li ix jw lj lk jb ll bi translated">策划RMSE和RMLSE</h2><p id="2377" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我绘制了RMSE曲线和RMSLE曲线。为此，我简单地假设我的实际值Y是500，我定义了一个从0到1000的范围X。一旦我定义了X和Y，我计算了X和Y之间所有可能的差异的RMSE和RMSLE</p><p id="9ab7" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">这些曲线将清楚地说明我们提出的关于低估实际值的额外惩罚的观点。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es ls"><img src="../Images/adf27547dfb44da05d33028e5079e231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6pqV-PiVEECIocecXKEr7g.png"/></div></div></figure><p id="448f" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">在RMLSE曲线的左半部分，我们清楚地看到，随着实际值低估的增加，误差迅速增加。而在右边，误差没有快速增加。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lt"><img src="../Images/1d10672e2f84f7ee93ca88ce3c64341d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ImFMVrZjHcEr0QD4nIwM2A.png"/></div></div></figure><p id="d596" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">另一方面，RMSE未能捕捉到预测值和实际值之间的任何特殊关系，它在零误差的两个方向上都是完全线性的。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/4ee4a9db22029de646521a927c815243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rZWbhZn5HhNNyttyGu3CA.png"/></div></div></figure><p id="eb9f" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">RMSE看起来不再那么令人印象深刻了，是吗？</p><p id="98da" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">你应该记住，在某些情况下，RMSE可能仍然是一个更好的指标。所以，不要轻易放弃。</p><h1 id="d242" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结束注释</h1><p id="e957" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在这里，我已经涵盖了回归问题的RMSLE度量的所有小细节。我们了解了RMSLE对异常值的稳健性，即计算预测值和实际值之间的相对误差的特性，我们还了解了RMLSE最独特的特性，即它对实际值低估的惩罚比对高估的惩罚更严重。</p><p id="ae40" class="pw-post-body-paragraph jd je hi jf b jg kj ji jj jk kk jm jn jo kl jq jr js km ju jv jw kn jy jz ka hb bi translated">这就是我们结束这篇文章的原因，我希望你现在完全了解回归的RMSLE度量及其所有属性。</p></div></div>    
</body>
</html>