<html>
<head>
<title>Topic Modeling: How the news has shifted from the Coronavirus to Black Lives Matter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">主题建模:新闻如何从冠状病毒转移到黑人的命也是命</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/topic-modeling-how-the-news-has-shifted-from-the-coronavirus-to-black-lives-matter-f24b8340f18b?source=collection_archive---------20-----------------------#2020-06-28">https://medium.com/analytics-vidhya/topic-modeling-how-the-news-has-shifted-from-the-coronavirus-to-black-lives-matter-f24b8340f18b?source=collection_archive---------20-----------------------#2020-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0f95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正在进行的BLM抗议活动已经导致新闻报道从冠状病毒转向种族主义，这让我很好奇，想看看标题从乔治·弗洛伊德去世前后是如何变化的。</p><p id="0c99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将使用《纽约时报》通过其API从其档案中收集的内容，并根据单词的频率形成单词云，以及使用主题建模来识别和可视化这一巨大变化。为此，我们将混合使用spaCy和Scikit学习。</p><p id="eafb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有代码和*。csv文件可以在我的<a class="ae jd" href="https://github.com/ApurvaMisra/nyt_headlines_analysis" rel="noopener ugc nofollow" target="_blank"> GitHub仓库中找到，</a>这里只提供了代码片段。</p><h1 id="2c3b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">提取数据</h1><p id="4ed5" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">数据是在https://developer.nytimes.com/apis<a class="ae jd" href="https://developer.nytimes.com/apis" rel="noopener ugc nofollow" target="_blank">的</a>使用纽约时报API提取的。作为一名开发者，你需要创建一个帐户，并选择你要使用的API，在我们的例子中，它是归档API，返回给定月份的NYT文章。我在2020年6月19日提出了5月和6月的请求，这给了我整个5月和6月19天的数据，这一期间包括杀人前24天和杀人后25天。</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="km kn l"/></div></figure><p id="a421" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JSON文件被转储到一个*。txt文件，然后解析该文件以将数据提取到CSV文件中。提取的特征是‘摘要’，‘发布日期’，‘材料类型’，‘字数’，‘打印页面’，‘标题’，‘章节名称’，‘小节名称’。</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="km kn l"/></div></figure><h1 id="e5a2" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">预处理和WordCloud</h1><p id="d0cb" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">获得CSV格式的数据后，是时候探索了！下面给出了一些可视化效果(代码可以在<a class="ae jd" href="https://github.com/ApurvaMisra/nyt_headlines_analysis" rel="noopener ugc nofollow" target="_blank">这里</a>找到)。大部分文章字数在700-1400之间。从一份美国出版物来看,“US”是最受欢迎的部分名称，这并不奇怪。“新闻”是出版的材料中数量最多的。就出版日期而言，出版的材料类型没有特定的模式，因此不在此公布。基于打印页面的字数分布也可以在存储库中找到。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ko"><img src="../Images/730410863fda9769a0a85f4db4fa39a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfekBR1e_cgjCytcUHscqg.png"/></div></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">字数和文章数量的分布</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ko"><img src="../Images/4111f19c9fc0a917e044979af9c58da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6K8JfJ62GR_WFBw9xTJ8dQ.png"/></div></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">章节名称的分布</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ko"><img src="../Images/4f8236e1278a4f6e091e103980968881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggnYcUgGtRbARgbYQn_ykQ.png"/></div></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">材料类型的分布。</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kz"><img src="../Images/538c3e034d23766ec48559968dbffca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*gupcEQ-fITAEp-3e0TGFNQ.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">2020年5月25日前的词云</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kz"><img src="../Images/77d344d00ffa409fddbc447b30d1390d.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*WlcgNVQIXbV5jxMtoMMLUg.png"/></div><figcaption class="kv kw et er es kx ky bd b be z dx translated">2020年5月25日之后的词云</figcaption></figure><p id="1b6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了对“川普”的大量强调，使用词频制作词云突出了热门话题的变化，从“疫情”和“重开”可以看出，让位于“警察”、“抗议”、“黑色”。当然，冠状病毒仍然是一个主要问题和话题，但已经不那么重要了。</p><h1 id="63c2" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">主题建模</h1><p id="fc49" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">主题建模比使用文档中的词频更进一步。这是一个我们试图捕捉文档中的意义的过程。主题建模用于降维以及捕捉文档中的含义。这与<a class="ae jd" href="https://math.stackexchange.com/questions/3869/what-is-the-intuitive-relationship-between-svd-and-pca" rel="noopener ugc nofollow" target="_blank"> PCA </a>的过程本质上是相同的，其中我们将数据投影到新的维度中，并可以在新的向量空间中消除对文档与文档之间的向量差异没有太大贡献的维度。</p><p id="0db4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个维度都变成了词频的线性组合而不是单一的词频，这些被称为“话题向量”。我们将使用截断的SVD，它需要一个文档术语矩阵作为输入。我们将经历以下步骤，这些步骤可能会因所分析数据集的种类而异:</p><ol class=""><li id="9447" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated">删除与我们不太感兴趣的部分相对应的新闻文章，只保留以下部分:“纽约”、“观点”、“体育”、“你的钱”、“世界”、“科学”、“商业日报”、“今日报纸”、“美国”、“技术”、“T2”、“读者中心”、“健康”、“周日评论”、“房地产”、“简报”、“T3”、“气候”、“时代内幕”。</li><li id="19ad" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">使用spaCy进行小写、标记化(通常通过基于空格进行拆分来将文本拆分为标记)、词汇化(删除单词的屈折形式并保留基本形式，例如，“changing”、“changes”和“changed”都有基本单词“change”)以及删除停用单词(“the”、“a”等)。).</li><li id="9313" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">去掉只包含数字和星期几的标记作为单词，如“星期一”和“星期二”，这些单词在新闻标题中很常见，但不添加任何相关信息。</li><li id="5a9c" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">形成包含作为列的标记的BOW(单词袋)数据帧，并且每个索引对应于标题，其值对应于标题中每个标记的频率。</li><li id="6e0c" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">从TF-IDF(词频-逆文档词频)文档-词频矩阵来看，TF-IDF建立在这样一个概念上，即如果一个词在其他文档中出现的频率较低，则该词在该文档中应该被赋予更大的权重。</li><li id="5427" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">使用scikit learn执行截断奇异值分解，找到新的维数。</li></ol><p id="93ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面给出了上述步骤的代码，并且仅对2020年5月25日之前的数据帧执行这些步骤，尽管对5月25日之后的数据帧重复了相同的步骤，这可以在存储库中找到。</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="km kn l"/></div></figure><p id="eaef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5月25日之前的话题:</p><pre class="kh ki kj kk fd lo lp lq lr aw ls bi"><span id="b200" class="lt jf hi lp b fi lu lv l lw lx">Topic 0: <br/> briefing coronavirus happen today test late update<br/>Topic 1: <br/> face test mask bad suicide threat stress<br/>Topic 2: <br/> test people antibody pandemic f.d.a coronavirus positive<br/>Topic 3: <br/> coronavirus late update n.y.c new york pandemic<br/>Topic 4: <br/> new pandemic york home market city end</span></pre><p id="0e3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5月25日之后的话题:</p><pre class="kh ki kj kk fd lo lp lq lr aw ls bi"><span id="c82e" class="lt jf hi lp b fi lu lv l lw lx">Topic 0: <br/> briefing happen today coronavirus evening protest george<br/>Topic 1: <br/> result primary election district house california texas<br/>Topic 2: <br/> police protest trump new america coronavirus floyd<br/>Topic 3: <br/> briefing police protest floyd george trump definitely<br/>Topic 4: <br/> trump twitter president rally tweet campaign biden</span></pre><p id="317a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不出所料，5月25日之前的话题主要是冠状病毒疫情，而25日之后的话题一直包括乔治·弗洛伊德(George Floyd)、抗议活动，甚至川普和推特之间的斗争。</p><p id="a284" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一分析的下一个有意义的步骤是研究两个时期之间情绪的变化。我们现在知道我们写的和谈论的已经改变了，如果知道我们写的和谈论的方式也在改变会很有趣。</p></div></div>    
</body>
</html>