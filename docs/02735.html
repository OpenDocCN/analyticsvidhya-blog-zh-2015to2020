<html>
<head>
<title>How to use classification performance measures</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用分类绩效指标</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-use-classification-performance-measures-6f907ee45a47?source=collection_archive---------24-----------------------#2019-12-30">https://medium.com/analytics-vidhya/how-to-use-classification-performance-measures-6f907ee45a47?source=collection_archive---------24-----------------------#2019-12-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7c3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何区分两个事物和更多的事物或者哪一个比另一个好？在现实生活中，我们做事情，决定一个特定的。我们是如何做到的？我们跟踪测量结果，并根据正确与实际正确匹配的次数做出决策。这里我们将讨论如何选择最佳分类模型。</p><p id="c507" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在一个分类问题中，分类器根据一些静态数据预测类别，但是选择正确的分类器模型有点困难。了解数据和所需的输出会使它变得容易。</p><p id="b286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是评估模型优劣的分类矩阵。</p><p id="9b58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。准确度<br/> </strong>简而言之，准确度是我们的模型正确预测的分数，它由<strong class="ih hj">正确预测的数量/预测的总数给出。</strong> Sklearn提供accuracy_score函数。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="87bd" class="jm jn hi ji b fi jo jp l jq jr">from sklearn.metrics import accuracy_score<br/>print(accuracy_score(y_actual, y_preds)) # it will print .895</span></pre><p id="9f09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在交叉验证中，可以将scoring='accuracy '传递给k倍的准确度分数。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="8fc1" class="jm jn hi ji b fi jo jp l jq jr">from sklearn.model_selection import cross_val_score<br/>cross_val_score(clf, x_train, y_train, scoring=’accuracy’, cv=4)<br/>#array([0.99047619, 0.97770701,0.98726115,0.99044586])#print output</span></pre><p id="1bf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。混乱矩阵</strong></p><p id="f4a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">评估分类预测的更好方法是评估混淆矩阵。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="269f" class="jm jn hi ji b fi jo jp l jq jr">from sklearn.metrics import confusion_matrix<br/>from sklearn.model_selection import cross_val_predict<br/>y_preds = cross_val_predict(SGD_clf, x_test, y_test, cv=4)<br/>confusion_matrix(y_test, y_preds)</span><span id="2bfe" class="jm jn hi ji b fi js jp l jq jr"># result<br/>#array([[485,   3],<br/>#       [  6,  46]], dtype=int64)</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div class="er es jt"><img src="../Images/7a4ba161ff86fbb66fa8da4438ff051a.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*BTB9weIUfSsSRy5kvh_-uA.png"/></div></figure><p id="0b67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">混淆矩阵是一个包含四个元素的表，如果我们只讨论二元分类，如癌症疾病，其中患者可能患有或不患有癌症疾病。患者前往诊所进行检测，检测结果为:</p><ul class=""><li id="bde3" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated"><strong class="ih hj"> TP </strong>:当患者实际患有癌症时，分类器预测测试为阳性。</li><li id="950f" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated"><strong class="ih hj"> FN </strong>:当患者实际患有癌症时，分类器预测测试结果为阴性。</li><li id="c86b" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated"><strong class="ih hj"> FP </strong>:当患者未感染癌症时，分类器预测测试为阳性。</li><li id="9092" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated"><strong class="ih hj"> TN </strong>:当患者也没有癌症时，分类器预测测试结果为阴性。</li></ul><p id="3f40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。精度&amp;回想一下<br/> </strong>当我们在处理一个敏感的问题或者不平衡的数据集时，精度在评估模型的好坏上并没有起到很好的作用。在这类问题中，我们追求精确和召回措施。</p><blockquote class="kl km kn"><p id="4ffc" class="if ig ko ih b ii ij ik il im in io ip kp ir is it kq iv iw ix kr iz ja jb jc hb bi translated"><strong class="ih hj">Precision<br/></strong>Precision试图回答以下问题。<br/>积极预测中有多少是正确的？</p></blockquote><p id="6190" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">精度= TP/(TP+FP) </strong></p><blockquote class="kl km kn"><p id="c31f" class="if ig ko ih b ii ij ik il im in io ip kp ir is it kq iv iw ix kr iz ja jb jc hb bi translated"><strong class="ih hj">回忆</strong>回忆试图回答以下问题。<br/>实际阳性预测的正确率是多少？</p></blockquote><p id="6e5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">召回= TP(TP+FN) </strong></p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="8f08" class="jm jn hi ji b fi jo jp l jq jr">from sklearn.metrics import precision_score, recall_score</span><span id="508b" class="jm jn hi ji b fi js jp l jq jr">precision_score(y_test, y_preds)   # 0.9387755102040817<br/>recall_score(y_test, y_preds)      # 0.8846153846153846</span></pre><p id="3954" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。F1-Score <br/> </strong>将精确度和召回率结合成一个称为F1分数的单一指标通常是很方便的，特别是如果你需要一个简单的方法来比较两个分类器。F1分数是精确度和召回率的调和平均值。常规平均值对所有值一视同仁，而调和平均值对低值给予更大的权重。因此，只有在召回率和精确度都很高的情况下，分类器才会得到高的F1分数。</p><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ks"><img src="../Images/300b2c58190ce201b322701a9a8d657f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncB6vOwxECGinUBWSMZHGA.jpeg"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">快照来自谷歌图片。</figcaption></figure><p id="9427" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:<br/> </strong>选择一个衡量标准取决于问题，因为输出我们想要更精确的东西。</p><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lb"><img src="../Images/5729eb342a0da06b60390125cb5ff9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUnVMuu91SR_Ehrfvne2iA.jpeg"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">这张快照来自谷歌图片。</figcaption></figure><p id="d474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:欢迎所有的建议，如果你喜欢，请点击鼓掌按钮。<br/>谢谢</p></div></div>    
</body>
</html>