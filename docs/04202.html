<html>
<head>
<title>Why you should learn Flutter in 2020? The Latest Progress and Future of Mobile App Development.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么要在2020年学习Flutter？手机App开发的最新进展和未来。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/why-you-should-learn-flutter-in-2020-the-latest-progress-and-future-of-mobile-app-development-d8885fefcdad?source=collection_archive---------12-----------------------#2020-03-09">https://medium.com/analytics-vidhya/why-you-should-learn-flutter-in-2020-the-latest-progress-and-future-of-mobile-app-development-d8885fefcdad?source=collection_archive---------12-----------------------#2020-03-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7a26c0cbde912222ef61e1412fbb1756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1VsGi_JMM76KMWsYRwkpg.png"/></div></div></figure><blockquote class="iq ir is"><p id="a869" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Flutter可以让你控制屏幕上的每一个像素，其强大的合成功能可以让你无限制地叠加和动画图形、视频、文本和控件</p></blockquote><h1 id="6bb6" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是颤振？</h1><p id="a37b" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">Flutter移动应用程序SDK是一种构建快速、漂亮的移动应用程序的新方法，可以帮助开发人员摆脱过去常见的“cookie cutting”应用程序。尝试过的人都很喜欢。</p><p id="e6b1" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter是Google提供的一个优秀的跨平台框架，可用于构建移动、桌面和web平台的应用程序。2018年12月正式发布，不到一年时间在GitHub和StackOverflow上获得了比React Native更多的知名度。在所有这些热潮的背后，有一个很好的理由来学习这个移动应用程序开发框架，本文解释了为什么。</p><h1 id="7b80" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 1。颤振及其快速增长。</strong></h1><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ky"><img src="../Images/000971ff2355e443a1222cd85f5254ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/1*q-o2io18mOd8A1HLXFRVWQ.gif"/></div></figure><p id="a13c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">相信关注我们的开发者对Flutter已经很熟悉了:它是Google主导的多平台UI工具包，在最近的I/O大会上已经进入1.12版本。其优势可以概括为四个方面:</p><h2 id="36c8" class="ld jt hi bd ju le lf lg jy lh li lj kc ks lk ll kg ku lm ln kk kw lo lp ko lq bi translated"><strong class="ak">美丽的</strong></h2><p id="55ac" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">飘动是美丽的。Flutter可以让您控制屏幕上的每个像素，其强大的合成功能可以让您无限制地叠加图形、视频、文本和控件并制作动画</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/cc8fb74596999516a660a14cb7bd2718.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*uTAAKQ_s8JIxHxvtwYe6uA.gif"/></div></figure><p id="f280" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">当Flutter构建应用程序时，它允许开发者<strong class="iw hj">实现UI </strong>的像素级控制。这也意味着可以完美执行最初的设计意图，从而忠实地向用户传达品牌个性。</p><h2 id="3bad" class="ld jt hi bd ju le lf lg jy lh li lj kc ks lk ll kg ku lm ln kk kw lo lp ko lq bi translated"><strong class="ak">快</strong></h2><p id="3155" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">颤动速度超快。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/2ca9baaaee7a864924b6355b12a1141a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*bi9GpxWZ3NkMu5Wulo7PXQ.gif"/></div></figure><p id="2fc0" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter的<strong class="iw hj"> UI渲染性能非常强大</strong>。在生产环境中，Flutter将代码编译成机器代码来执行，并充分利用GPU的图形加速能力，因此使用Flutter开发的移动应用程序即使在低配手机上也可以实现每秒60帧的UI渲染速度。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/13ffb674c3b11e3ef1b2f7abee1fd550.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*rs48wxtt5xZv3X6GsganIg.jpeg"/></div></figure><p id="2b60" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter既“美”又“快”的原因在于它的架构。Flutter引擎是用C ++编写的，包括高效的Skia 2D渲染引擎、Dart运行时和文本渲染库。这个引擎使Flutter框架能够自由、灵活、高效地绘制UI组件。应用程序开发人员可以使用Flutter框架轻松实现各种设计语言和动画效果。</p><h2 id="3e26" class="ld jt hi bd ju le lf lg jy lh li lj kc ks lk ll kg ku lm ln kk kw lo lp ko lq bi translated"><strong class="ak">高效</strong></h2><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/0796762efb3b77f6602d61e7bf7de5d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bYuD5OBj28zyea3-K2bdHQ.gif"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">热重装允许开发人员在修改界面后立即看到相应的变化</figcaption></figure><p id="764a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">对于开发者来说，<strong class="iw hj">用Flutter开发应用非常高效</strong>。Flutter广受好评的热重新加载特性可以在不到一秒的时间内实现代码到UI的更新，从而大大缩短开发周期。此外，热重装可以在执行过程中保留应用程序的当前状态(即有状态)。例如，您可以修改导航结构中的子页面。保留状态的热重新加载可以使您不必从头开始单击返回到此子页，并在代码修改完成后立即看到结果。</p><h2 id="e000" class="ld jt hi bd ju le lf lg jy lh li lj kc ks lk ll kg ku lm ln kk kw lo lp ko lq bi translated"><strong class="ak">开源</strong></h2><p id="952e" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">Flutter是开源的。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/e1b0454da1f5563c6b3d96c9840f6ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kHyPuMXBrjsQaDrYEVpztQ.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">Flutter的GitHub回购</figcaption></figure><p id="0f31" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj"> Flutter是开放的</strong>，是一个完全开源的项目。世界各地的开发者可以免费使用和扩展Flutter的源代码，并为Flutter的生态和文档做出贡献。我们看到许多开发者活跃在社区中，为Flutter做出了坚实的贡献。</p><h2 id="ad1b" class="ld jt hi bd ju le lf lg jy lh li lj kc ks lk ll kg ku lm ln kk kw lo lp ko lq bi translated"><strong class="ak">颤振发展</strong></h2><p id="d718" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">在StackOverflow的2019年全球开发者调查问卷中，Flutter被选为最受开发者欢迎的框架之一，超过了TensorFlow和Node.js。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/f8e28d1ace9b459d47f7ed964de53915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5L_iLo0_NnowQ932xEsEQ.jpeg"/></div></div></figure><p id="6af9" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">全球很多大家熟悉的品牌都采用了Flutter，包括国内很多知名公司。例如，阿里巴巴有许多移动应用程序都推出了Flutter版本。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/760383b5e9a2a24bfc8a068816982c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqZ0LhtOLrsWLu9LF3F2Dw.jpeg"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/9f4c127608035f54402f166e918d98dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/1*i9yrfsbBTrQ_J9o-2sg3Cg.gif"/></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">颤振创造全球大奖作品(flutter.dev/create)</figcaption></figure><p id="1f95" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">来自多家公司的开发人员已经向Flutter代码库提交了Pull请求。特别是一个来自阿里巴巴的开发者，在今年2月的一周内，他合并的pr比Flutter团队的任何其他成员都多。Flutter欢迎每一位开发者以多种方式参与Flutter的开发过程，包括在GitHub上提交问题和PRs。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/dd72690ceac3901e33c9cacf1983dd50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vQsu0EPprum43cFMYGf45Q.jpeg"/></div></div></figure><p id="5e80" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter已经在移动上证明了自己的技术和开发经验。Flutter不仅仅适用于移动应用。Flutter团队也已经在去年的I/O大会上公开了Flutter for Web的技术预览。他们也已经开始在桌面和嵌入式系统上进行实验性探索。他们的长期目标是让Flutter在所有配备屏幕的设备上提供出色的用户体验——甚至是充满创意的大型互动装置。</p><h1 id="ab35" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 2。多平台愿景:为网络而战</strong></h1><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/c0bfcd8b7d80a0fc70acb79627ccd034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/1*-c0c0v3lY6VYdo5dpCsBrA.gif"/></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">从丹麦可以看出，用Flutter开发的移动和web应用程序的体验几乎是一样的</figcaption></figure><p id="2bfa" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter for Web的目标之一是让开发人员能够轻松地重用移动代码。关于Flutter for Web的很多技术细节，比如架构设计和渲染机制的选择，Flutter团队在去年的《蜂鸟:Web中的Flutter》一文中已经有详细介绍，感兴趣的朋友可以深入阅读，下面简单介绍一下Flutter在移动端和Web端的一些异同:</p><p id="bbac" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj"> Flutter在Web上的技术实现:</strong></p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/31dd9ca2e305fd108d18bcedc0b82d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g743Y2pRfxTec_u2xc09gw.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated"><strong class="bd ju"> Flutter在Web上的技术实现</strong></figcaption></figure><p id="f255" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">如上图所示，在移动端，C ++引擎由Flutter中的上层框架通过dart: ui库调用。Dart: ui这个库很低级，它没有ui组件的概念，也不知道UI布局或者动画。它只做一件事，就是把上边框生成的图片对象绘制到屏幕上</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/24ecfd2b6e4ed9f97928786356170f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kUqShfRGcFvK43zXbQVtVg.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">颤振腹板发动机</figcaption></figure><p id="a460" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter for Web保留了Flutter框架的代码，以最大限度地重用移动和Web代码。但是为了能够在浏览器中运行颤振程序，Web端的颤振SDK用颤振Web引擎替换了移动端的C ++颤振引擎。这个Flutter Web引擎在Web平台上提供了dart: ui库的实现。它做的事情类似于移动dart:ui——“绘制”由Flutter上层框架生成的图片对象到网页上。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/edbbdfba42e99eb605250a74f3c9d577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KdGZFZnBP3lonKXlDNFIeg.jpeg"/></div></div></figure><p id="fcbd" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">具体来说，Flutter Web引擎首先使用HTML和CSS来绘制图像。这样可以利用浏览器自身的性能优化机制，缩放页面时也不用担心像素化问题。只有在少数情况下，Flutter Web引擎使用Canvas来实现绘图。我们目前正在尝试使用CSS Paint API代替Canvas drawing来提高性能。不过这个API比较新，需要各大浏览器支持。</p><p id="b7f0" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">但回到上层逻辑，代码复用的优势开始显现Flutter Web引擎使用与mobile一致的Flutter框架构建widgets，实现UI布局。此外，我们使用Dart2js编译器将Dart语言转换为JavaScript。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/2c17c3d82deb4839420ea77caa71858e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*TF-Sh-HNBYxJmCvjEEJqmQ.jpeg"/></div></div></figure><p id="31f0" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">腹板颤振的定位和使用场景</strong></p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/356c8d3c77f7fc7f553446e29754105b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dGXNBT8KrahtHtfJvPOtYg.png"/></div></div></figure><p id="48ed" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">第一个用例是使用Flutter for web为现有的移动应用程序开发一个Web端的配套应用程序。很多产品都是移动优先，但是在某些场景下，移动端有一定的局限性，比如屏幕太小，文字输入麻烦。这时候很多厂商会开发一个Web端的配套应用，利用桌面电脑的输入输出设备来提高交互效率(这样的例子很多，比如微信就有Web端的配套应用)。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/6cfa2e4422673c69f8dce401fc62ea9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*DtN882RPxNcT4eXzwiMhpg.jpeg"/></div></figure><p id="816a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">第二个场景是使用Flutter for Web来利用现有Flutter移动项目中的交互元素。上面显示的颤动的移动应用程序是谷歌广告。它有很多动态的、交互式的图表，实现起来比较复杂。使用Flutter for Web，您可以在Web应用程序中重用这些代码。类似的交互元素还包括一些小游戏和工具应用，比如日历、汽车配置向导、投资组合分析工具等。</p><p id="cde8" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter for Web在Widget层面与移动端高度一致，所以代码重用性非常好。图像渲染的结果也高度一致。开发调试时，可以使用Dart DevTools，支持热重装。虽然在开发体验上还有很多工作要做，但目前处于基本可用的状态。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/37fee034f4abb7744fe2956f3a95da21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wH9EO4iQ-vo_IF2yPsy4dQ.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">为Web开发经验而战</figcaption></figure><p id="5540" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter for Web几乎准备接管Web开发行业</p><h1 id="e225" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 3。生态建设:与社区共建的国家管理解决方案</strong></h1><p id="bc35" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">Flutter使用类似于React的反应式编程模型。运行时UI的视觉变化由应用程序的状态驱动:</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/16b72541957f1a459204e515ef0f232d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3DjDfcPqRog5SoRQ2ebpnA.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">颤振反应规划模型</figcaption></figure><p id="803d" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">这个状态应该放在应用程序的什么地方，如何更新和读取，这是状态管理的问题。颤振团队在官网上总结了比较主流的状态管理方法和代码包。开发者可以根据不同应用的具体需求选择使用:</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/0f102b3e36905c88a0640cfaa05899fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2-ZX6c9hxTpRDRVyFn0fxA.jpeg"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">颤振状态管理解决方案清单</figcaption></figure><p id="3488" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><a class="ae mj" href="https://flutter.dev/docs/development/data-and-backend/state-mgmt/options" rel="noopener ugc nofollow" target="_blank">https://flutter . dev/docs/development/data-and-back end/state-management/options</a></p><p id="c976" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">不过，对于没有复杂需求的开发者或初学者，Flutter Team也推荐其中一个状态管理包:provider。这个状态管理解决方案是由Flutter社区的一名成员提供的。</p><p id="3021" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">在provider发布之前，Google团队实际上做了一个类似想法的状态管理包，叫做provide。但是对比之后，我发现这个社区贡献的包可以解决同样的问题，而且更容易上手。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/91e71219612eb9cb112ec8b8b67181c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uiGh0nwxJNPgIex27rFKcA.jpeg"/></div></div></figure><p id="d0b6" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">包:提供方的工作机制</strong></p><p id="c106" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">下面的示例程序包含三个不同的页面:登录、产品列表和购物车。用户向产品列表添加一些商品后，购物车中的金额需要自动更新。但是，在反应式编程模型下，产品列表页面中的代码不能直接修改购物车中的数据。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/08c50c3f007b2e1a9665dfad36626891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/1*bp89MlQCcxrWxBhq88c_qQ.gif"/></div></figure><p id="8c8a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">解决这个问题的一个基本思路是将两个页面共享的数据放在UI组件树的顶部。提供者提供了一种机制来管理由多个节点共享的应用程序状态。这一机制包括三个基本步骤:</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/c15024cbce9e50f02a37dc8ba5811750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*meBz3RlnmuVn73Y9yU72ag.jpeg"/></div></figure><p id="8614" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">首先，我们定义一个继承自ChangeNotifier的CartModel来读写购物车中的数据。ChangeNotifier是Flutter SDK中的一个简单类。它可以使用notifyListeners方法向侦听器发送通知。在这个例子中，每当一个商品被放入购物车，CartModel就会通知它的监听器。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/591aeb41e12f3d94fc9da2cf71caa094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNJmw5r7Ma6D4AwXAGiVLA.jpeg"/></div></div></figure><p id="0ee2" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">然后我们需要使用ChangeNotifierProvider小部件。它可以返回特定类型的ChangeNotifier，并将其提供给小部件。在本例中，我们将ChangeNotifierProvider放在MyApp上面的节点上，这样列表和购物车页面都可以读写CartModel中的数据。当需要它的状态时，我们可以使用消费者类来获取它的实例。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/e829cb0477bcddc7ff2f9a6a864a3d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v1T4YgOC8CMsXSHG704mrQ.jpeg"/></div></div></figure><p id="2f57" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">这里我们需要指定要访问的数据类型。在这个例子中，我们使用消费者<cartmodel>来指定对CartModel类型的访问。在消费者的构建器函数中，我们可以获得CartModel的一个实例，并使用它来更新要在购物车中显示的总价。</cartmodel></p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/a162e96bdcb11b866d2cdde022c68093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXc80SS1A2JN4PIXGRoqWQ.jpeg"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/ca1fb46bb2b64ff246dd878053fbe975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*KtY_86tTrD9A6cwM9bxSWQ.jpeg"/></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">使用UI树顶部的ChangeNotifierProvider使CartModel类在产品列表和购物车页面上都可用。然后在需要使用CartModel操作其中的状态数据来更新UI的子节点中实例化这个类。</figcaption></figure><h1 id="2dd9" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 4。开发经验:“UI即代码”</strong></h1><p id="6ea3" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">Flutter团队一直非常重视Flutter的开发体验，因此他们在提高Flutter UI代码的可读性方面做了一系列的尝试，包括Dart语法的改进和IDE UI的改进。这些统称为UI代码。</p><p id="076c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">Flutter的UI代码使用了Dart语言，具有以下优点:</p><ul class=""><li id="a6eb" class="mo mp hi iw b ix iy jb jc ks mq ku mr kw ms jr mt mu mv mw bi translated">Flutter的声明式UI编写方法可以直观的描述UI结构</li><li id="5228" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">不需要学习UI布局的额外语法</li><li id="4860" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">不需要在代码之外维护UI定义文件</li></ul><p id="520a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">但是以前的实现方法也有几个值得改进的地方:</p><ul class=""><li id="a718" class="mo mp hi iw b ix iy jb jc ks mq ku mr kw ms jr mt mu mv mw bi translated">复杂的UI逻辑使用命令式语法，打破了代码结构和UI视觉结构的一致性</li><li id="0702" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">理解多层嵌套后UI的组成并不容易</li></ul><p id="6f7b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">最近他们做了一些成功的改进，包括Dart 2中针对UI编程优化的新语法元素，以及IDE中的编辑器UI指南。</p><p id="0e12" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">飞镖2的改进</strong></p><p id="3e2e" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">在Dart 2中，他们在集合中添加了控制流元素，可以在集合数据类型的定义中使用if和for等流控制元素。此外，还增加了对扩展运算符的支持。</p><p id="436c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">IDE的改进</strong></p><p id="2b81" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">对于开发者日常使用的ide，希望开发者不用改代码就能一眼看到UI的结构。flutter团队在这方面所做的改进是编辑器UI指南:</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/b7adc75ec846fbc4578596ac85463156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWMzFy2MfYJOBlsqqjYwuA.jpeg"/></div></div></figure><p id="4884" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">这个功能现在在最新版本的IntelliJ和Android Studio插件中是默认启用的，需要在VS代码中的设置中启用。</p><h1 id="7642" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">所以，“对Flutter来说，有什么新的和令人兴奋的？”"</h1><p id="8604" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">如果有人问你关于Flutter的问题，现在你知道如何回答他们了:</p><ul class=""><li id="926a" class="mo mp hi iw b ix iy jb jc ks mq ku mr kw ms jr mt mu mv mw bi translated">没有JavaScript桥的反应式视图的好处</li><li id="6feb" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">快速、流畅、可预测；代码将AOT编译成本机(ARM)代码</li><li id="99ca" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">开发者可以完全控制小部件和布局</li><li id="df31" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">拥有漂亮的、可定制的部件</li><li id="2bee" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">优秀的开发工具，惊人的热重装</li><li id="6f89" class="mo mp hi iw b ix mx jb my ks mz ku na kw nb jr mt mu mv mw bi translated">更高的性能、更多的兼容性、更多的乐趣</li></ul><p id="a5c5" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">你注意到我从这张单子上去掉了什么吗？当人们谈论颤振时，这通常是人们提到的第一件事，但对我来说，这是关于颤振最不有趣的事情之一。事实上，Flutter可以从单个代码库为多个平台构建漂亮、快速的应用程序。当然，这应该是给定的！这是可定制和可扩展的，并且它使得在不牺牲性能或功耗的情况下针对多个平台的颤振变得容易。</p></div></div>    
</body>
</html>