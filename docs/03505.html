<html>
<head>
<title>This is What You Should Do If You Fail to Install the Latest or an Older Version of XGBoost on Your Windows Machine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果您无法在Windows机器上安装最新或旧版本的XGBoost，您应该这样做</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/this-is-what-you-should-do-if-you-fail-to-install-the-latest-or-an-older-version-of-xgboost-on-7942a7641eee?source=collection_archive---------2-----------------------#2020-02-05">https://medium.com/analytics-vidhya/this-is-what-you-should-do-if-you-fail-to-install-the-latest-or-an-older-version-of-xgboost-on-7942a7641eee?source=collection_archive---------2-----------------------#2020-02-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="248c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在交付我的数据科学培训课程时，我的学生总是在Windows机器上使用Anaconda安装XGBoost包时遇到困难。是的，大多数数据科学家都会同意，Windows操作系统永远不应该是运行数据科学项目的首选。然而，令人痛心的事实是，大多数人(即非程序员)仍然使用微软视窗作为他们笔记本电脑的主要操作系统。事实上，我的大多数学生都没有或者只有很少的Python编程经验。</p><p id="8192" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据我的经验，在Windows上安装XGBoost时可能会遇到太多不同类型的安装错误。这多少让我第一天培训课的头几个小时变得毫无收获，因为我倾向于花更多的时间调试学生的安装问题。</p><p id="1bc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常，当出现安装问题时，StackOverflow总是我寻求帮助的首选。不幸的是，XGBoost在每次版本更新中都经历了如此多的重大变化，因此即使在StackOverflow或官方XGBoost论坛上找到一个可靠而快速的解决方案也是极具挑战性的。</p><p id="0b88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在本文中，我将讨论一些我在与学生一起上培训课时通常会遇到的安装问题。在讨论了我通常面临的常见安装错误之后，我将最后描述一个简单的解决方案，在这个方案中，我能够解决大多数学生的Windows机器上的XGBoost安装问题。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="dcad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用“conda安装”的尝试失败</strong></p><p id="87fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的班上，Anaconda是我通常要求学生安装的工具包的首选。这仅仅是因为Anaconda提供了所有关键的数据科学包，如jupyter notebook、pandas、scikit-learn、scipy和其他几个包。因此，安装XGBoost的显而易见的方法就是使用conda install命令。</p><blockquote class="jk jl jm"><p id="1d1e" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">(基本)C:\&gt;conda安装py-xgboost=0.71</p></blockquote><p id="9fa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的命令只是尝试下载特定版本的XGBoost包。在这种情况下，我打算下载并安装0.71版的XGBoost，因为我使用了一些依赖于XGBoost APIs的代码，这些API现在已经被最新版本的XGBoost否决了。此外，github或Kaggle存储库中的大多数数据科学代码通常都有类似的问题，您经常需要使用特定版本的XGBoost来编译和运行它。</p><p id="f761" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，使用<strong class="ih hj"> conda install </strong>命令，我多次遇到<strong class="ih hj">“解决环境”</strong>错误，然后conda最终显示一个关于与我的python安装的包冲突的错误。它建议我应该将我的Python版本3.7降级到3.6，这对于我的情况来说并不实际。</p><blockquote class="jk jl jm"><p id="50f7" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">(base)C:\ &gt; conda install py-xgboost = = 0.71<br/>收集包元数据(current_repodata.json): done <br/>求解环境:初始冻结求解失败。使用灵活求解重试。<br/>收集包元数据(repodata.json): done <br/>求解环境:初始冻结求解失败。使用灵活求解重试。<br/>解决环境:/ <br/>发现冲突！寻找不兼容的包。<br/>这可能需要几分钟时间。按CTRL-C中止。<br/>失败</p><p id="370b" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">UnsatisfiableError:发现以下规范| <br/>与您环境中的现有python安装不兼容:</p><p id="9f58" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">规格:</p><p id="ca4f" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">-py-xgboost = = 0.71-&gt; python[version='&gt;=3.5,❤.6.0a0|&gt;=3.6,❤.7.0a0']</p><p id="4ca4" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">你的python: python=3.7</p><p id="2d08" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">如果python在链的最左边，那就是你要的版本。<br/>当python出现在右边时，这表明左边的东西不知何故<br/>对您所受限的python版本不可用。请注意，conda不会<br/>将您的python版本更改为不同的次要版本，除非您明确指定<br/>。</p><p id="fd57" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">发现以下规格相互不兼容:</p><p id="5f2f" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated"><br/>py-xgboost = = 0.71-&gt;python[version = '&gt;=3.5,❤.6.0a0']-&gt;pip-&gt;requests-&gt;certif[version = '&gt;= 2016.09 |&gt;= 2016 . 9 . 26 |&gt;= 2017 . 4 . 17 ']<br/>python = 3.7-&gt;pip-&gt;set..</p></blockquote><p id="4df4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">尝试使用“pip安装”失败</strong></p><p id="93b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的下一个尝试是使用pip安装XGBoost版本0.71。标准方式是以下命令:</p><blockquote class="jk jl jm"><p id="645d" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">(base)PS C:\ aurak \ python &gt; pip install xgboost = = 0.71</p></blockquote><p id="bea7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，pip也无法安装旧版本的XGBoost。如果只使用“XGBoost”而不使用“the==0.71”选项来运行该命令，那么XGBoost似乎可以完美地安装。在某些情况下，我的学生无法安装XGBoost，即使只有一个简单的“pip install xgboost”命令，没有额外的选项。但是，在我的例子中，我需要安装旧版本的XGBoost(即0.71版)，这是上面的pip命令无法实现的。</p><p id="22cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">翻了一遍StackOverflow和XGBoost官方论坛，发现<code class="du jr js jt ju b">pip install</code>命令在Windows平台上并不好用(看这里:<a class="ae jv" href="https://discuss.xgboost.ai/t/pip-install-xgboost-isnt-working-on-windows-x64/57/2" rel="noopener ugc nofollow" target="_blank">https://discuse . XGBoost . ai/t/pip-install-XGBoost-uns-working-on-Windows-x64/57/2</a>)。因此，我决定不再进一步探索这种方法。</p><p id="388f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最终成功的尝试</strong></p><p id="7110" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我通过简单地从官方PyPi网站(即<a class="ae jv" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/</a>)下载我需要的实际XGBoost二进制文件来解决这个问题，并将下载的XGBoost文件夹放在我的Anaconda安装python包中。</p><p id="3e5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Anaconda中，所有安装python包通常存储在一个目录下，该目录通常被命名为<strong class="ih hj">站点包</strong>。因此，可以下载XGBoost版的windows二进制文件，并将它们放在站点包中。我将在下面解释这些步骤。</p><p id="422c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，您需要确定Windows目录中站点包目录的路径。为此，只需在Python shell中运行以下代码。</p><blockquote class="jk jl jm"><p id="45dd" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">(base)PS C:\ aurak \ Python &gt; Python<br/>Python 3 . 7 . 3(默认，2019 . 04 . 24，15:29:51)[MSC v . 1915 64 bit(AMD64)]::Anaconda，Inc. on win32 <br/>键入“help”、“copyright”、“credits”或“license”了解更多信息。<br/> &gt; &gt; &gt;从distutils.sysconfig导入get _ python _ Lib<br/>&gt;&gt;&gt;print(get _ python _ Lib())<br/><strong class="ih hj">C:\ Users \ Nur man \ AppData \ Local \ Continuum \ anaconda 3 \ Lib \ site-packages</strong></p></blockquote><p id="6b30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，我的<strong class="ih hj"> site-packages </strong>目录位于以下路径:C:\ Users \ nurman \ AppData \ Local \ Continuum \ anaconda 3 \ Lib \ site-packages。</p><p id="ae11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你在你的Windows机器上找到了你自己的<strong class="ih hj"> site-packages </strong>目录，就该从pypi.org官方网站下载XGBoost文件了。在官网上，输入XGBoost作为搜索关键词。该网站会将您带到XGBoost Python包网站。</p><figure class="jx jy jz ka fd kb er es paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="er es jw"><img src="../Images/ad8ba993fcb7b8ad1fc83c882598fa88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-q5BiV92wSePmsI89G9LXA.png"/></div></div></figure><p id="ead4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以观察到，在撰写本文时，XGBoost的最新版本是0.90。如果您需要查找旧版本，点击<strong class="ih hj">发布历史</strong>按钮。</p><figure class="jx jy jz ka fd kb er es paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="er es ki"><img src="../Images/361ac75efeda07e1e773859444f97ce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYsz8lr9kkuDokeMQU6F-Q.png"/></div></div></figure><p id="3dbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你向下滚动，你应该能找到你想要的版本。在我的例子中，我找到了我需要的版本0.71。点击链接会带我到一个网页，在那里我可以下载XGBoost版本的tar.gz文件。</p><figure class="jx jy jz ka fd kb er es paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="er es kj"><img src="../Images/d4884565604a6f42de9563a0db50dc23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afiIZg9uuF0lUWLJI0wO_g.png"/></div></div></figure><p id="2551" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">继续下载tar.gz的文件。下载完成后，您需要提取并复制两个重要的文件夹，即<strong class="ih hj"> xgboost </strong>和<strong class="ih hj"> xgboost.egg-info </strong>到您的<strong class="ih hj"> site-packages </strong>目录。</p><figure class="jx jy jz ka fd kb er es paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="er es kk"><img src="../Images/b933cf23b294ee3e94e1f7f604ffd349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*agrhKUrPlYTv5-PilXCZxQ.png"/></div></div></figure><p id="8e27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅此而已。现在，您可以从Python shell中验证XGBoost安装是否正常工作。</p><blockquote class="jk jl jm"><p id="7a33" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">Python 3.7.3(默认，2019 . 04 . 24，15:29:51)[MSC v . 1915 64 bit(AMD64)]:Anaconda，Inc. on win32 <br/>键入“help”、“copyright”、“credits”或“license”了解更多信息。<br/> &gt; &gt; &gt;导入xgboost为xgb <br/> &gt; &gt; &gt; xgb。_ _ version _ _<br/><strong class="ih hj">‘0.71’</strong></p></blockquote><p id="a609" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瞧啊。您在Windows机器上的XGBoost安装已成功完成。干得好。</p></div></div>    
</body>
</html>