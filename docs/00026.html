<html>
<head>
<title>Deploy Laravel 5.+ Project in Ubuntu 16.04 Apache based server.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">部署拉弗尔5号。+基于Ubuntu 16.04 Apache的服务器中的项目。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/deploy-laravel-5-4-project-in-ubuntu-16-04-apache-based-server-538d4620bb97?source=collection_archive---------0-----------------------#2018-03-16">https://medium.com/analytics-vidhya/deploy-laravel-5-4-project-in-ubuntu-16-04-apache-based-server-538d4620bb97?source=collection_archive---------0-----------------------#2018-03-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="75a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，曾经想知道如何用一个<a class="ae jd" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> apache </a>服务器将一个<a class="ae jd" href="https://laravel.com/docs/5.4/releases" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="je"> Laravel </em> </strong> </a>项目部署到生产环境中吗？也许我想可能有人像我一样是PHP框架的初学者。</p><p id="2cde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不太像一个作家，也不太像一个程序员，所以就让我们深入研究一下吧。</p><p id="a59e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你动手做这篇文章之前，你需要知道的先决条件就是我想说的:-</p><ol class=""><li id="9153" class="jf jg hi ih b ii ij im in iq jh iu ji iy jj jc jk jl jm jn bi translated"><a class="ae jd" href="https://www.ssh.com/ssh/protocol/" rel="noopener ugc nofollow" target="_blank">宋承宪</a></li><li id="8825" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated">简单的终端命令如<em class="je"> cd </em>，<em class="je"> apt-get : </em></li><li id="f9ac" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated">以下是Ubuntu服务器；- <a class="ae jd" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> <em class="je"> Apache服务器</em> </strong> </a> <em class="je">安装完毕，PHP依赖管理工具</em><a class="ae jd" href="https://getcomposer.org/doc/00-intro.md" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="je">Composer</em></strong></a><em class="je">，PHP 7 .* </em></li><li id="3bad" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated">现有的Laravel项目</li></ol><p id="fd48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将创建<strong class="ih hj">虚拟主机</strong>，它是一个工具，可以通过<a class="ae jd" href="https://httpd.apache.org/docs/2.4/vhosts/name-based.html" rel="noopener ugc nofollow" target="_blank">基于名称的</a>或<a class="ae jd" href="https://httpd.apache.org/docs/2.4/vhosts/ip-based.html" rel="noopener ugc nofollow" target="_blank">基于IP的</a>虚拟主机，在一台服务器上运行多个web系统。</p><p id="2b60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们配置apache在虚拟主机中运行我们的laravel项目。</p><p id="d454" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过scp命令将您的laravel项目上传到<strong class="ih hj"><em class="je">/var/www/html</em></strong><em class="je">，即</em></p><blockquote class="jt ju jv"><p id="60da" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">scp-P[端口号]your-laravel项目的位置<strong class="ih hj">【授权访问服务器的用户】:[您的服务器的ip地址]:/var/www/html </strong></p></blockquote><p id="b7cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ssh到您的服务器<em class="je">，即ssh-p[端口号][授权访问服务器的用户]:[您的服务器的ip地址] </em></p><p id="f62a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保您的源代码和现有软件得到更新。通过运行以下命令</p><blockquote class="jt ju jv"><p id="3881" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi"> sudo apt-get更新</em> </strong></p><p id="8aa1" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">后接</em></p><p id="ae48" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">须藤apt-get升级</em> </strong></p></blockquote><p id="fd3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过执行以下操作来配置apache to web服务器</p><ol class=""><li id="6c25" class="jf jg hi ih b ii ij im in iq jh iu ji iy jj jc jk jl jm jn bi translated">给予项目目录适当的权限。为此，我们需要允许从www-data组访问它，并授予它对存储目录的写权限。</li></ol><blockquote class="jt ju jv"><p id="3542" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">sudo chgrp-R www-data/var/www/html/your-laravel-project<br/>sudo chmod-R 775/var/www/html/your-laravel-project/storage</em></strong></p></blockquote><p id="1888" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.通过键入以下命令，为我们的laravel项目创建一个配置文件</p><blockquote class="jt ju jv"><p id="ac96" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="hi">CD/etc/Apache 2/sites-可用<br/>须藤纳米laravel . con</em></strong>T5】f</p></blockquote><p id="2bda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.在创建的laravel.conf文件中，将以下内容粘贴到文件中，保存后关闭。将文件中的<a class="ae jd" href="http://abedkiloo.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">abedkiloo.com</strong></a>替换为你网站的域名，将<strong class="ih hj">abed@abedkiloo.com</strong>替换为等效的电子邮件地址。</p><blockquote class="jt ju jv"><p id="ce65" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;虚拟主机*:80 &gt; <br/>服务器名abedkiloo.com</strong></p><p id="1c9e" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj">server admin abed@abedkiloo.com<br/>document root/var/www/html/your-laravel-project/public</strong></p><p id="671b" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> &lt;目录/var/www/html/your-laravel-project&gt;<br/>allow override All<br/>&lt;/目录&gt; </strong></p><p id="064f" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj">error LOG $ { APACHE _ LOG _ DIR }/error . LOG<br/>CustomLog $ { APACHE _ LOG _ DIR }/access . LOG组合<br/> &lt; /VirtualHost &gt; </strong></p></blockquote><p id="edde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.启用新创建的。conf文件并禁用默认值。这是由apache预先创建的，并使模式重写能够正常工作。这些是帮助你做到这一点的命令。</p><blockquote class="jt ju jv"><p id="44a2" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj">sudo a2 dissite 000-default . conf</strong><em class="hi">(禁用默认。conf file)</em><br/><strong class="ih hj">sudo a2 en site laravel . conf</strong><em class="hi">(启用新创建的。conf file)</em><br/><strong class="ih hj">sudo a2 enmod重写</strong> <em class="hi">(启用重写)</em></p></blockquote><p id="bfcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.最后，通过键入以下命令，重新启动apache服务器，以便它能够选择您所做的更改</p><blockquote class="jt ju jv"><p id="36a3" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> sudo服务apache2重启</strong></p></blockquote><p id="49ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.最后，转到你的ip地址或者你在虚拟主机中注册的域名，你的laravel项目就可以运行了。</p><p id="2de9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能会遇到一些我遇到过的问题，但并不是所有的情况都是这样。这是我遇到的一个主要错误。</p><blockquote class="jt ju jv"><p id="d322" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">内部服务器错误</p><p id="d50a" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">服务器遇到内部错误或配置错误，无法完成您的请求。</p><p id="a18e" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">请通过cbpsmaintenance@uonbi.ac.ke与服务器管理员联系，告知他们此错误发生的时间，以及您在此错误之前执行的操作。</p><p id="a2a1" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">有关此错误的更多信息可以在服务器错误日志中找到。</p><p id="cd30" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">cbpsmaintenance.uonbi.ac.ke端口80处的Apache/2.4.18 (Ubuntu)服务器</p></blockquote><p id="49ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是由于。htaccess文件在<strong class="ih hj"> <em class="je"> your-laravel-project的公共目录中不可用。</em> </strong> <em class="je">自己创造。htaccess文件并粘贴此内容，或者从公共目录中的本地项目文件夹上传。htaccess到您的产品。htaccess </em></p><blockquote class="jt ju jv"><p id="716a" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj">&lt;if module mod _ rewrite . c&gt;<br/>&lt;if module mod _ negotiation . c&gt;<br/>Options-MultiViews<br/>&lt;/if module&gt;</strong></p><p id="b739" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj">重写引擎开启</strong></p><p id="83c1" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> #如果不是文件夹，重定向尾随斜线……<br/>rewrite second % {请求文件名}！-d <br/>重写者^(.*)/$ /$1 [L，R=301] </strong></p><p id="86cb" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> #处理前端控制器… <br/>重写第% {请求文件名}！-d <br/>第二次重写% {请求文件名}！-f <br/>重写者index.php·^【l】</strong></p><p id="d3e3" class="if ig je ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><strong class="ih hj"> # Handle授权头<br/>重写秒%{HTTP:Authorization}。<br/>重写器。*—[E = HTTP _ AUTHORIZATION:% { HTTP:AUTHORIZATION }]<br/>&lt;/if module&gt;</strong></p></blockquote><p id="9ab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>你可以创建尽可能多的虚拟主机来服务不同的网页，从一个服务器，但不同的域或ip地址使用虚拟主机。</p><p id="050d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考文献</strong></p><ol class=""><li id="45b3" class="jf jg hi ih b ii ij im in iq jh iu ji iy jj jc jk jl jm jn bi translated"><a class="ae jd" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-apache-virtual-hosts-on-ubuntu-14-04-lts" rel="noopener ugc nofollow" target="_blank">数字海洋</a>虚拟主机篇</li><li id="516c" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated"><a class="ae jd" href="https://stackoverflow.com/questions/19071324/request-exceeded-the-limit-of-10-internal-redirects" rel="noopener ugc nofollow" target="_blank">叠加过流</a>问题由<a class="ae jd" href="https://stackoverflow.com/users/590589/max" rel="noopener ugc nofollow" target="_blank">最大</a></li><li id="2713" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated"><a class="ae jd" href="http://httpd.apache.org/docs/current/rewrite/intro.html" rel="noopener ugc nofollow" target="_blank">阿帕奇模式重写文章</a></li></ol><p id="7d80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢，我希望这能帮助一大堆人。</p><p id="e391" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至少鼓掌吧，伙计</p></div></div>    
</body>
</html>