<html>
<head>
<title>Correlating Food Safety Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关联食品安全数据</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/correlating-food-safety-data-cf88364aedf2?source=collection_archive---------27-----------------------#2020-06-03">https://medium.com/analytics-vidhya/correlating-food-safety-data-cf88364aedf2?source=collection_archive---------27-----------------------#2020-06-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6452c6a59f75fabb7944ab1cf7e1213b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e5Vf07_3j_IfELV2mhiDRg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">由<a class="ae iu" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae iu" href="https://unsplash.com/@pietrozj?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Pietro Jeng </a>拍摄</figcaption></figure><p id="b394" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在之前的<a class="ae iu" rel="noopener" href="/@mihalispapak/data-empowering-the-food-safety-sector-8e20d18c81d1?source=friends_link&amp;sk=3115cf3e0a15052f12343db4d6d33fc6">帖子</a>中，我们谈到了收集和分析食品安全数据的困难。该扇区具有许多不同的数据类型(包括<a class="ae iu" href="https://hackernoon.com/the-3-vs-of-big-data-analytics-1afd59692adb" rel="noopener ugc nofollow" target="_blank"> 3 </a>、<a class="ae iu" href="https://www.geeksforgeeks.org/5-vs-of-big-data/" rel="noopener ugc nofollow" target="_blank"> 5 </a>、<a class="ae iu" href="https://dataconomy.com/2014/05/seven-vs-big-data/" rel="noopener ugc nofollow" target="_blank"> 7 </a>或任何当前的V计数)。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="7d62" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以这里的主要问题是:</p><blockquote class="ka kb kc"><p id="6819" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">我们能收集所有这些数据吗？如果收集到了，我们能不能把它和其他的联系起来，这样我们就能做决定了？</p></blockquote><h2 id="0dd3" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">我们将重点尝试确定召回背后的原因(即危害)与食品安全数据中存在的各种因素(如召回中涉及的成分)之间的相关性。</h2></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="6874" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">外面是什么？</p><ul class=""><li id="7dd9" class="lc ld hi ix b iy iz jc jd jg le jk lf jo lg js lh li lj lk bi translated">市场层面发生的食品召回；</li><li id="a1dc" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated">边境拒绝；</li><li id="0663" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated">国家指标(风险、腐败和全球粮食安全指数)。</li></ul><blockquote class="ka kb kc"><p id="15df" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">让我们后退一步，开始钻研我们的数据。我们能支配什么？</p></blockquote><p id="fc68" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">食品召回&amp;边境拒收</strong>。如果对这些数据进行全面分析，可以得出:</p><ul class=""><li id="8e3a" class="lc ld hi ix b iy iz jc jd jg le jk lf jo lg js lh li lj lk bi translated"><em class="kd">召回日期</em>；</li><li id="7422" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><em class="kd">召回背后的原因(即危害)</em>；</li><li id="5a0f" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><em class="kd">被召回的主要成分(产品)</em>；</li><li id="0804" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><em class="kd">原产国</em>的主要成分；</li><li id="362e" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><em class="kd">产品被<em class="kd">分销到</em>的国家</em>。</li></ul><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们将使用FOODAKAI导出的食品召回和边境拒收数据集样本</figcaption></figure><p id="692a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">国家指标。这些指标涉及每个国家的风险、腐败和全球粮食安全指数。它们是在考虑到各种其他指标的基础上制定的，包含以下内容:</p><ul class=""><li id="11ba" class="lc ld hi ix b iy iz jc jd jg le jk lf jo lg js lh li lj lk bi translated"><em class="kd">国家</em>各指；</li><li id="d910" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><em class="kd">有效期的</em>日期从/到；</li><li id="8f80" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated">指示器的<em class="kd">值</em>。</li></ul><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们的数据平台API导出的损坏值示例</figcaption></figure><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">API采用的风险值样本</figcaption></figure><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">全球粮食安全指数样本</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h2 id="c3cd" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">关联发生的时间</h2><p id="38cc" class="pw-post-body-paragraph iv iw hi ix b iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo ma jq jr js hb bi translated">让我们首先尝试一个关联矩阵，首先创建完整的数据集，对日期列执行一些小的预处理(将其分为年份和月份)，加载到数据帧中，让python处理剩下的工作。完整的代码可以在这篇文章的结尾找到。</p><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们的数据集(目前为止)</figcaption></figure><p id="08dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一次尝试生成相关矩阵的时间到了。</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/6814dbc9c5c836996b510745777af48b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8PN3eBltdt-buF1YByLmug.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们第一次尝试关联数据，并不乐观</figcaption></figure><p id="709f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，对第一次尝试来说还不错，但似乎还有很长的路要走。让我们再添加一些数据吧！<a class="ae iu" href="http://www.oecd.org/trade/topics/export-credits/documents/cre-crc-historical-internet-english.pdf" rel="noopener ugc nofollow" target="_blank">风险</a>、<a class="ae iu" href="https://www.transparency.org/en/cpi/2019/results" rel="noopener ugc nofollow" target="_blank">腐败</a>、<a class="ae iu" href="https://foodsecurityindex.eiu.com/Home/DownloadResource?fileName=Global%20Food%20Security%20Index%202019%20report.pdf" rel="noopener ugc nofollow" target="_blank">全球粮食安全指标</a>公开；是时候将它们整合到我们的关联矩阵中了。</p><p id="a5b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了做到这一点，我们必须进一步深入我们的数据。我们有原产地和分销国。一个直观的决定是整合这两个国家(可能不同)各自的风险、腐败和全球食品安全指标，当然要考虑召回日期，即当时有效的指标值。</p><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们的数据集增加了国家指标</figcaption></figure><p id="bbf1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是时候重新进行我们的实验了！</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/51128bfdf3a762f95ab3885a42bfad1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6bpvMnyEqbP6CuUvXK3cg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们的相关矩阵是通过添加国家指标产生的</figcaption></figure><p id="66e1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，这看起来好点了，但离可操作的结果还有很长的路要走。然而，有些数据我们还没有考虑进去。</p><p id="146e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们把我们的成分和危害(即召回背后的原因)放在一个更广泛的类别中会怎么样？FOODAKAI 对这两者进行了详细的分类！上面描绘的形象会有怎样的变化？</p><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">通过添加危险和产品类别扩展我们的数据集</figcaption></figure><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/10ff25e59fb4787c9b6a375614b6ddb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dCJDz_phEjURySoubKOvzQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">以及各自的相关结果</figcaption></figure><p id="9163" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看起来我们走在正确的道路上，是时候让一些直觉发生了。农产品有些季节性。这种直觉能整合到我们的关联矩阵中并以积极的方式影响它吗？让我们来了解一下！</p><p id="c2c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用召回日期的时间结束，并根据召回发生的季节进行分组。这将如何影响我们的矩阵？</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/a17051f008b746a0a77888b0f9be2ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSzAyCULuZTekKdz1h7g_g.png"/></div></div></figure><p id="25bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看起来是个正确的决定。太好了，但是让我们再往前走一步。我们在国家指标上有很高的多样性，这可能会给我们的数据集增加噪声。</p><blockquote class="ka kb kc"><p id="781a" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">如果我们将这些指标值分组到类中会怎么样？</p></blockquote><p id="e117" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这可能有助于我们的相关矩阵。让我们将腐败和全球食品安全指数分成10类，看看这在我们的相关性分析中表现如何。</p><figure class="lq lr ls lt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/c6d1d7ecd049fb6f50ed4fe6fa620aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RUw_1u5iQo8YtyUZ3UvsQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们的最终相关结果是增加了指数类</figcaption></figure><p id="0ab6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很好，我们可以看到在原产地和分布国以及危险和产品类别方面存在一些相关性。这是一个很好的基础和知识，可以用来训练机器学习或深度学习模型，以便根据上述指标和特征预测世界各地的食品安全案例！</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h2 id="77ec" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">结论</h2><p id="14e2" class="pw-post-body-paragraph iv iw hi ix b iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo ma jq jr js hb bi translated">如果你在这篇文章中向上滚动，比较最初产生的相关矩阵和最终的相关矩阵，你会发现进步是显而易见的。</p><blockquote class="ka kb kc"><p id="a686" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">一个人应该记住什么？</p></blockquote><p id="824b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">预处理</strong>你的数据和<strong class="ix hj">特征扩展</strong>是任何严肃的数据科学尝试中最重要的两项任务。</p><p id="7d60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">了解你的数据</strong>。为了产生任何一种可操作的结果，人们应该了解手边数据集背后的领域。只有这样，直觉才能显示出它的全部潜力。</p><p id="59d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">永远尝试挑战自己(和数据)</strong>。以上分析并不完美(也永远不会完美)。例如，它没有考虑到国家一级的生产指标和消费信息。更不用说影响农产品的价格或天气数据，或影响肉类生产的动物疾病(如非洲猪瘟)。</p><blockquote class="ka kb kc"><p id="f94d" class="iv iw kd ix b iy iz ja jb jc jd je jf ke jh ji jj kf jl jm jn kg jp jq jr js hb bi translated">如果我们也将这些数据添加到我们的模型中会怎么样？它是否有助于在一个像食品安全这样多样化(就数据类型而言)的部门中确定关系？</p></blockquote><p id="e4af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们计划在未来讨论这个问题；如前所述，食品安全部门提供各种各样的数据(大数据Vs当心！)那么为什么不进一步增加呢？</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h2 id="c12d" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">分析统计和完整的代码</h2><p id="b744" class="pw-post-body-paragraph iv iw hi ix b iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo ma jq jr js hb bi translated">用于相关性分析的数据集包括:</p><ul class=""><li id="de86" class="lc ld hi ix b iy iz jc jd jg le jk lf jo lg js lh li lj lk bi translated"><strong class="ix hj"> 98.281 </strong>食品召回和边境拒收，</li><li id="f7e8" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><strong class="ix hj"> 2.418 </strong>明显的危险，</li><li id="618f" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><strong class="ix hj"> 14.291 </strong>不同的产品和成分，</li><li id="2738" class="lc ld hi ix b iy ll jc lm jg ln jk lo jo lp js lh li lj lk bi translated"><strong class="ix hj"> 208个</strong>国家。</li></ul><p id="2008" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上述分析的完整代码可以在下面找到。</p><figure class="lq lr ls lt fd ij"><div class="bz dy l di"><div class="lu lv l"/></div></figure></div></div>    
</body>
</html>