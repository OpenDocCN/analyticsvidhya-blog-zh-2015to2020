<html>
<head>
<title>Git Undo Changes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git撤消更改</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/git-remove-changes-a6cd636ffe43?source=collection_archive---------22-----------------------#2020-04-05">https://medium.com/analytics-vidhya/git-remove-changes-a6cd636ffe43?source=collection_archive---------22-----------------------#2020-04-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/485aac01197dbebb2ff4347ac8f17c57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y5BWB3Gc7nQ_ABRA.png"/></div></div></figure><p id="377c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在很多情况下，您都希望从GIT中删除您的更改。在这篇文章中，我们将涵盖所有这些。</p><h2 id="3d30" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">干净利落</h2><p id="6e0b" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">clean命令从您的工作目录开始，通过递归删除不受版本控制的文件来清理您的工作目录。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="5a0b" class="jo jp hi kt b fi kx ky l kz la">Removes untracked files from your working directory.</span></pre><p id="403c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Git为您提供了一个选项，让您可以进行一次预演，以了解该命令将删除哪些文件。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="d5d8" class="jo jp hi kt b fi kx ky l kz la">git clean -n (or) git clean --dry-run</span></pre><p id="4423" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦知道了将要删除的文件，就可以使用git clean -f强制删除这些文件。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="cb40" class="jo jp hi kt b fi kx ky l kz la">git clean -f</span></pre><p id="c410" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想删除未被跟踪的目录，您只需在命令中添加-d。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="c25e" class="jo jp hi kt b fi kx ky l kz la">git clean -f -d</span></pre><h2 id="842f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">GIT重置</h2><p id="a1ba" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">第二种情况是，当你已经做了一些改变，并且错误地进行了改变。现在，您希望删除这些暂存的更改，并返回到与遥控器匹配的版本。将简单地全面替换所有内容，而不进行检查。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="acc1" class="jo jp hi kt b fi kx ky l kz la">git reset --hard</span></pre><p id="f4c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重置命令将重置工作目录中的所有文件，包括正确的文件和放错位置的文件。Git为您提供了使用<em class="le"> checkout </em>命令重置单个文件的选项。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="464b" class="jo jp hi kt b fi kx ky l kz la">git checkout filename</span></pre><p id="87fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想从staged中删除文件，但不丢失您所做的更改，那么您需要使用命令<code class="du lb lc ld kt b">git reset HEAD</code>。此命令将从临时区域中删除您的文件，但这些更改仍可在您的本地工作区中使用。</p><h2 id="42be" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">恢复您上次提交的内容</h2><p id="fba1" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">第三种情况是当您已经提交了您的更改，但是您还没有推送它们。在这种情况下，你必须再次使用<code class="du lb lc ld kt b">reset</code>命令。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="9895" class="jo jp hi kt b fi kx ky l kz la">git reset --soft HEAD~1</span></pre><p id="cffc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您已经提交了不需要的提交，如果您需要保存历史，您需要运行一个<code class="du lb lc ld kt b">revert</code>命令。为此，您需要知道之前正确提交的SHA代码。在<code class="du lb lc ld kt b">git log</code>命令的帮助下，可以找到SHA代码。假设您的SHA代码是123456，那么revert命令将是</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="6943" class="jo jp hi kt b fi kx ky l kz la">git revert 123456</span></pre><p id="38bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者，如果您不需要保存历史，那么您可以使用<code class="du lb lc ld kt b">reset</code>命令。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="6633" class="jo jp hi kt b fi kx ky l kz la">git reset --hard 123456</span></pre><p id="fb33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦执行了git重置，就需要使用</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="82df" class="jo jp hi kt b fi kx ky l kz la">git push --force</span></pre></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><p id="c18a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你喜欢这篇文章，请点击👏所以其他人会在媒体上看到它。</p></div></div>    
</body>
</html>