<html>
<head>
<title>Bits &amp; Bitmasking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">位和位屏蔽</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/bits-bitmasking-62277789f6f5?source=collection_archive---------0-----------------------#2019-12-26">https://medium.com/analytics-vidhya/bits-bitmasking-62277789f6f5?source=collection_archive---------0-----------------------#2019-12-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/2a746ee11499bf9e1a2b1d4a12788f51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*NmVvTsHgxTonA6IMgg5NgA.png"/></div></figure><div class=""/><p id="1a12" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">位屏蔽通常被许多人称为位魔法，并不像人们想象的那样可怕。</p><p id="8be7" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我观察到我的同事抱怨在运行他们的代码时重复出现TLE(超过时间限制)和空间复杂性问题。所以这就是比特魔法来拯救我们的地方。</p><p id="1d22" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这个由两部分组成的系列中，我将分享我目前关于位屏蔽以及它如何帮助优化算法的知识(为什么它也被称为<strong class="io hq">位魔术</strong>)。</p><p id="b557" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这一部分将介绍位屏蔽背后的基本直觉以及如何操作不同的位，在下一部分，我将讨论一些高级问题，这些问题可以通过使用位屏蔽和动态编程来解决和优化。</p><p id="0400" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过这篇文章，我将讨论以下内容:</p><p id="6913" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">位和位屏蔽:介绍。</p><p id="0dd4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">按位运算符。</p><p id="7b97" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">动手位屏蔽。</p><p id="e6bd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">放到文章上！！</p><p id="d6c1" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">比特和比特屏蔽:导论。</strong></p><p id="772b" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个位是一个布尔值(0或1)，它的小集合构成一个位掩码。当且仅当一个位为‘1’时，称该位为<strong class="io hq">置位</strong>。例如:在10011中，设置了第1、第2和第5位，而第3和第4位没有设置<strong class="io hq">。</strong></p><p id="5b57" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">位屏蔽中的“屏蔽”可以理解为隐藏/显示某些信息的一种方式。让我们举一个基本的例子来更透彻地理解它。假设我们有一组5个字符{'a '，' b '，' c '，' d '，' e'}，我们想用它们组成不同的字符串。这里我们将创建一个5位(_ _ _ _ _ _ _)的掩码，每一位都会告诉我们是否引用了该字符。简单来说10011将表示相当于“ade”的字符串，00000将表示空字符串，11111将表示“abcde”等等</p><p id="0e7f" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">理解了什么是位和位掩码之后，现在是研究一些可用于操作位的操作的最佳时机。</p><p id="985d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">按位运算符</strong></p><p id="58e4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq"> AND运算符(&amp; ) </strong>:给定两个位屏蔽，&amp;运算符将在两个位都置位时给出1。</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jk"><img src="../Images/0c12e744c20eac07f5269d278e13ab37.png" data-original-src="https://miro.medium.com/v2/resize:fit:224/format:webp/1*eSdvs1eSIl7IGXYgjEqtVg.png"/></div></figure><p id="8079" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq"> OR运算符(|): </strong>给定两个位掩码，无论两位中的哪一位被置位，‘|’运算符都会给出1。</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jp"><img src="../Images/1a8da6eb09a20f29a4c28cc9c07e608a.png" data-original-src="https://miro.medium.com/v2/resize:fit:218/format:webp/1*6Qie2cCZpt0fXNdoyG257g.png"/></div></figure><p id="7b44" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq"> XOR运算符(^): </strong>给定两个位掩码，每当两个位不同时，'^'运算符将给出1。</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jq"><img src="../Images/895b4f23ef7e2b55e9198ff26cb46762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*0oQPv3bIpl9wfEN74Iy0sQ.png"/></div></figure><p id="e79b" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">这里一个重要的观察是，任意两个相同的数的异或永远是0，任意数与0的异或就是数本身。</strong></p><p id="06df" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你能想出一些可以应用这个概念的情况吗？？</p><p id="907a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你有，哇哦！！你做得很好。如果没有，不要担心，我们将在文章的后面部分讨论同样的问题。</p><p id="2799" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">移位操作符:</strong></p><figure class="jl jm jn jo fd hk er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/923c0b17d3d4479bef4b9d302e45a835.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZD3Ag9EZ8sfLuqCq4vWRQ.png"/></div></div></figure><p id="97ec" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">如何设置一个数的第k位？</strong></p><p id="a2d7" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">解决这个问题的一个简单方法是首先创建一个掩码，以便在其中设置第k位。</p><p id="4a09" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们可以通过左移1 k次或做(1&lt;<k/></p><p id="870d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们必须设置1000001的3位。1&lt;&lt; 3会给我们1000。</p><p id="433d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，为了设置第3位(或第k位),我们只需执行数字和掩码的or运算。</p><p id="2b8d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，1000001 | 1000 = 1001001(设置了第3位)</p><p id="fcaa" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">代码:</p><p id="1435" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">N = N | (1 &lt;<k/></p><p id="8fb2" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">如何清零第k位？</strong></p><p id="e5bc" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果我们的任务是清除数字的第k位(或者将第k位设置为0 ),我们可以创建一个除第k位为0之外全为1的掩码。我们从这个掩码中得到的好处是，如果我们用掩码执行' &amp; '运算，我们将得到该数的所有位，这是一个额外的好处，我们的第k位现在是0。因为(0 &amp; any no)永远是0。</p><p id="e3b6" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">假设我们有1001101，我们想清除它的第3位。所以1 &lt;&lt; 3 will give us 1000 but we want something like 1110111. What can we do ??</p><p id="9f4d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Let’s try out by taking negation of our mask. So ~(mask) = ~(1000) = ~(0001000) = 1110111</p><p id="48a4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Now we can simply perform ‘&amp;’ operation of number &amp; mask to clear the 3rd bit.</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jw"><img src="../Images/bb2fc59b10b5374f6043711c42560ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/format:webp/1*EEtjCWGXTYWALYK6ePO7QQ.png"/></div></figure><p id="2ef1" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Having learnt about bitwise operators and how to access a particular bit by creating masks, here is a simple problem for you as an exercise.</p><p id="8c7a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq"> Q给你n个比特。将k和l之间的所有位设置为1。从用户处取k和l。(k &lt; l &lt; = n) </strong></p><p id="7cd4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用这些运算符可以更好地掌握逐位操作。</p><p id="1bfd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在是时候了解如何使用位生成来优化代码了。让我们开始吧！！</p><p id="ee71" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">动手位屏蔽:</strong></p><p id="dd7e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们都知道，信息是以位的形式存储在计算机内存中的，这意味着直接操作这些位将比对普通数据执行计算产生更快的结果。</p><p id="dc1d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">好，我们现在通过解决一些问题来看看位屏蔽是如何优化代码的。</p><p id="a4e0" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们从一个简单的交换两个数的例子开始。T9】</p><p id="b4c1" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jx">例如:a = 4(二进制100)，b = 6(二进制110)</em></p><p id="9afd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jx">我们想要a = 6，b = 4作为我们的答案。</em></p><p id="ea95" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jx"> a = a ^ b (a = 4 ^ 6) </em></p><p id="3f03" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jx">b = a ^ b(b = 4 ^ 6 ^ 6){而我们之前已经看到，相同数字的异或是0，因此b = 4(因为6 ^ 6= 0) } </em></p><p id="edb2" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jx"> a = a ^ b (a = 4 ^ 6 ^ 4= 6) </em></p><p id="0499" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此a = 6，b = 4。</p><p id="05fd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们成功地完成了任务..耶！！</p><p id="e325" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这显然可以通过正常的交换来实现，但是使用按位操作符将会产生一个更加高效的代码。</p><p id="d4e0" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">给定一个整数列表，其中所有的整数都出现偶数次，除了一个出现奇数次。找出那个整数。</p><p id="d031" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">例如:</strong> l = { 1，2，2，1，1，4，4，5，4，5}我们的ans。应该是1</p><p id="cda9" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一种简单的强力方法是计算每个整数在列表中出现的次数，并打印出与奇数计数相对应的整数。在最坏的情况下，它将导致O(n*k)的时间复杂度，其中k是不同元素的数量。</p><p id="6a64" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们使用位屏蔽来尝试一下。如果我们对所有元素进行异或运算会发生什么？</p><p id="7f72" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">进行xor运算将抵消所有出现次数为偶数的数字(回想一下，相同数字的XOR = 0 ),我们只剩下重复次数为奇数的整数。感兴趣！！不是吗？？</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jy"><img src="../Images/770efc62569ffdc035c78aa13426cd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*3WExwLhdwzLlnCEkf38pyg.png"/></div></figure><p id="fe1c" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我希望你现在能更好地掌握它！！现在来讨论一个稍微复杂一点的问题。</p><p id="880a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">给定一个字符串，打印它的所有排列。</p><p id="f8d2" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">例如:</strong>给定的字符串是“abc”。我们首先想到的是如何访问字符串中的每个字符。还记得我们学过的面具吗？？是的，你答对了！！在这里，我们将为每个可能的状态创建一个掩码，一旦每个角色被访问，我们将打印我们的答案。掩码的长度显然等于字符串的长度。</p><p id="b7b8" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在每次迭代中，我们将检查哪些位没有被设置，然后通过在每次迭代中设置不同的位来尝试不同的排列。如果一个特定的位已经设置，那么我们不需要做任何事情，但如果它不是，那么我们必须尝试所有可能的组合。遮罩的不同状态将决定下一个组合是什么。</p><p id="f1fd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这一部分将变得更加清晰，因为我们对这个问题的编码部分的标题。</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es jz"><img src="../Images/d4615b7289548d0944fb78ca05f4c62f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*qnYkhEZiXlQqjFTQTiDkeg.png"/></div></figure><p id="c149" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">下面是相同的代码:</p><figure class="jl jm jn jo fd hk er es paragraph-image"><div class="er es ka"><img src="../Images/e7f9b9dbd3d6720dc72256224c2859c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*V1GdVeNp98e4M0pNlVd-Zw.png"/></div></figure><p id="6e0e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我希望现在您已经清楚地了解了位屏蔽(或者我会说位魔术)是如何工作的。</p><p id="e470" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在是时候通过练习一些有趣的问题来弄脏你的手了。</p><p id="5143" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我的下一篇关于位屏蔽的文章将关注更复杂的问题，包括位屏蔽和动态编程。</p><p id="6e19" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">直到那时快乐编码:)</p><p id="2c67" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">一些有趣问题的链接:</strong></p><p id="5a5a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae kb" href="https://www.hackerearth.com/practice/basic-programming/bit-manipulation/basics-of-bit-manipulation/practice-problems/algorithm/subham-and-binary-strings/" rel="noopener ugc nofollow" target="_blank">https://www . hackere earth . com/practice/basic-programming/bit-manipulation/basics-of-bit-manipulation/practice-problems/algorithm/subham-and-binary-strings/</a></p><p id="efc2" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae kb" href="https://www.hackerearth.com/practice/basic-programming/bit-manipulation/basics-of-bit-manipulation/practice-problems/algorithm/a-new-experiment/" rel="noopener ugc nofollow" target="_blank">https://www . hackere earth . com/practice/basic-programming/bit-manipulation/basics-of-bit-manipulation/practice-problems/algorithm/a-new-experiment/</a></p><p id="5588" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae kb" href="https://practice.geeksforgeeks.org/problems/subsets-with-xor-value/0" rel="noopener ugc nofollow" target="_blank">https://practice . geeks forgeeks . org/problems/subsets-with-xor-value/0</a></p></div></div>    
</body>
</html>