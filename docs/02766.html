<html>
<head>
<title>Understanding Spark UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解Spark UI</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-spark-ui-51585e5e72c2?source=collection_archive---------6-----------------------#2020-01-01">https://medium.com/analytics-vidhya/understanding-spark-ui-51585e5e72c2?source=collection_archive---------6-----------------------#2020-01-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7e8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文结束时，您将能够查看spark UI并理解基本的东西。</p><p id="dfb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spark UI中显示的一些基本操作符是</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/67b324b10285229d1d8a8116f820e70d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEfhNdBdD1IioulUGWtC4g.png"/></div></div></figure><p id="0d92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">文件扫描</strong></p><p id="414b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它表示从文件格式中读取数据。</p><p id="1efa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文件扫描中需要注意的事项</p><ul class=""><li id="1c69" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">读取的文件数量<br/>—Spark需要读入内存的文件或零件文件的数量</li><li id="1ac6" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">文件系统读取数据总大小<br/> —将进入下一阶段的数据的实际大小<br/> —该文件大小将与下一阶段的输入大小相匹配</li><li id="0e44" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">文件读取总大小<br/>—spark扫描文件时读取的数据总大小</li><li id="074d" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">Rows Output <br/> —将传递到下一阶段的记录数<br/> —行数将与下一阶段的输入行数相匹配</li></ul><p id="183a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">交换</strong></p><p id="e602" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它代表随机—群集上的物理数据移动。</p><p id="f473" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">交换是spark作业中最昂贵的操作之一。</p><p id="b34d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当数据被打乱时，有多种方法可以对其进行重新分区。要了解发生的分区类型，您必须将鼠标悬停在Spark UI中的交换上。</p><p id="b55c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">单分区</strong></p><p id="9555" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在单分区期间，您的所有数据都被移动到单个分区，并且将在单个内核上运行。这会给你的工作造成严重的瓶颈。如果您的数据很大，您甚至可能面临内存不足的错误。</p><p id="416a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们使用一个窗口函数，但没有提供一个键来分割数据时，就会发生这种情况。</p><p id="b531" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扳机</p><ul class=""><li id="b870" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">window.partitionBy()</li></ul><p id="c9c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">哈希分区</strong></p><p id="c2d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扳机</p><ul class=""><li id="bfa6" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">分组依据</li><li id="15b0" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">明显的</li><li id="56ce" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">加入</li><li id="af37" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">重新分区(列)</li><li id="cde5" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">window.partitionBy(键)</li></ul><p id="ae5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">循环分区</strong></p><p id="07ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扳机</p><ul class=""><li id="fafa" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">重新分配(数量)</li></ul><p id="05d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">范围划分</strong></p><p id="fa8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扳机</p><ul class=""><li id="51f7" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">orderBy</li></ul><p id="25fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">聚合</strong></p><p id="a29e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">扳机</p><ul class=""><li id="609e" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">分组依据</li><li id="dd60" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">明显的</li><li id="06fc" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">删除重复项</li></ul><p id="e5af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的数据可能会发生三种类型的聚合</p><ul class=""><li id="46d9" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">哈希聚合<br/> 1。成对出现<br/> a .在每个执行器上发生的部分求和，之后数据被混洗<br/> b .最终合并求和发生在交换之后。这种合并所有部分和<br/>散列聚合对之间的交换可能发生也可能不发生。</li><li id="d740" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">分类聚合</li><li id="47f0" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">对象散列集合</li></ul><p id="02d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">排序合并连接</strong></p><p id="64f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">排序合并连接表示连接两个数据帧。</p><p id="a60e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当单个数据集已经满足输出分区和输出排序要求时，就会发生交换和排序。</p><p id="a38a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您将鼠标悬停在Spark UI中的排序合并连接上，您将能够看到实际发生了什么连接。</p><p id="4e12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">广播哈希连接</strong></p><p id="8231" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">广播散列连接成对出现</p><ul class=""><li id="4cd8" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">广播交换<br/> —这是将数据广播给每个执行者的地方</li><li id="254a" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">广播散列连接</li></ul></div></div>    
</body>
</html>