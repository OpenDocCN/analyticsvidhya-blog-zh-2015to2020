<html>
<head>
<title>File Handling: Binary Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">文件处理:二进制文件</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/file-handling-binary-files-656d9b6a702b?source=collection_archive---------10-----------------------#2020-11-09">https://medium.com/analytics-vidhya/file-handling-binary-files-656d9b6a702b?source=collection_archive---------10-----------------------#2020-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/072659a4a67a7914ca71f3dbd75b880e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*to02WqbWtYALmDD-ACoouQ.png"/></div></div></figure><p id="d8ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">序列化(也叫 pickle):</strong>将 Python 对象层次结构转换成字节流以便写入文件的过程。</p><p id="215b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">反序列化(也叫拆包):</strong>拆包的逆过程，将字节流转换成对象层次结构。取消拾取会产生原始对象的精确副本。</p><ol class=""><li id="ae90" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">第一个导入泡菜模块</li><li id="1c38" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">使用 pickle 模块的 dump()和 load()方法对二进制文件执行读写操作。</li></ol><p id="5016" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">文件打开模式:</strong></p><p id="81cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> wb </strong>只写。覆盖二进制文件(如果存在)。如果没有，则创建一个新的二进制文件进行写入。</p><p id="7fd0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> wb+ </strong>既写又读。如果退出，则覆盖二进制文件。如果没有，则创建一个新的二进制文件进行写入。</p><p id="6af4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> rb </strong>只读。在二进制文件的开头设置文件指针。</p><p id="9ae4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> rb+ </strong>读写两不误。在二进制文件的开头设置文件指针</p><p id="2e6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> ab </strong>用于追加。将文件指针移动到二进制文件的末尾。如果不存在，创建新的写入文件</p><p id="eb1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> ab+ </strong>用于追加和读取。将文件指针移动到末尾。如果二进制文件不存在，它会创建一个新文件进行读写。</p><ol class=""><li id="2211" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><strong class="is hj">写入二进制文件:酸洗</strong></li></ol><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/f6529b48d027e8fe9df180975d028be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*Ftdz0af-bHFJ4LPJd2h65Q.png"/></div></figure><p id="63aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/d085ab055f08f3f9ae2b7b3bfdba767e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*ovrJX9Ojh_r1VOq_vJyjww.png"/></div></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/95776b7cfa4b93973a77b1ceb97945ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lb6HZNezMS8lCfDKIPxzLQ.png"/></div></div></figure><p id="202a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.编写程序打开文件<strong class="is hj"> EMP.dat </strong> ( <strong class="is hj">在之前的程序</strong>中创建)，读取其中写入的对象并显示。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/da5e4c8617f2be10989254b8832c6f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*zc8Bx1TntFw2Klm7MYAJ3Q.png"/></div></figure><p id="9512" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/b028e86d0faa37a6e33f55612da624f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*wmZPASY-MqhuLJzPceBewA.png"/></div></figure><p id="a73a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.编写一个程序，通过从用户处获取数据，将两个雇员记录追加到前面程序创建的文件中。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/c0fd4a040b268cddaf4b08262888fb11.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*ehPQ7mGeaLbW57vYov-tTA.png"/></div></figure><p id="dec8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es km"><img src="../Images/9c7b64cc17e54f149ae372cd28fcb55e.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*Ar777IQ7kU3F-T0MQe86cQ.png"/></div></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/d2cea0e8f4e794da54b244d93aafb0bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lc1ggPbobu9V-H0iT6LLxQ.png"/></div></div></figure><p id="1a33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">访问和操作文件指针的位置:</strong></p><p id="e790" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Python 提供了两个函数来操作文件指针的位置，因此用户可以从所需的位置进行读写。</p><p id="8389" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">tell()函数:</strong></p><p id="1aa6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">tell()函数返回文件指针在文件中的当前位置。</p><blockquote class="ko kp kq"><p id="169e" class="iq ir kr is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated"><fileobject>。讲述( )</fileobject></p></blockquote><p id="a918" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">seek()函数:</strong></p><p id="f229" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">seek()函数通过将文件指针放在打开文件中的指定位置来改变文件指针的位置。</p><blockquote class="ko kp kq"><p id="baaa" class="iq ir kr is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated"><fileobject>。搜寻(偏移[，模式])</fileobject></p><p id="f8f3" class="iq ir kr is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated">在哪里</p></blockquote><p id="2da9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">offset ======= &gt;是指定字节数的数字</p><p id="1475" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">mode ======= &gt;是数字 0、1 还是 2</p><p id="fcb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">0 表示文件的开头</p><p id="a75f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1 文件指针的当前位置</p><p id="f6d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2 文件结尾</p><p id="7a29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.编写一个程序打开文件<strong class="is hj"> EMP.dat </strong>(之前程序中创建的<strong class="is hj">)，读取 empno1207 的名字并修改为新的 vijay7 并显示。</strong></p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kv"><img src="../Images/5db7fe7a2064f1ca572a1c4e77107f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*yFwJP4SExlocg-yIy7S1Pg.png"/></div></figure><p id="5ec1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">输出:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/a513fbbc90aebba8b234c116c040c016.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*I4EZAYiYRoJCZbaRJr5g0g.png"/></div></figure></div></div>    
</body>
</html>