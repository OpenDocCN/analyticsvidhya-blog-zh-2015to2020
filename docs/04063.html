<html>
<head>
<title>Holidays, Events and other Datetime feature engineering tips.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">节假日、事件和其他日期时间功能工程提示。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/holidays-events-and-other-datetime-feature-engineering-tips-a7678974897f?source=collection_archive---------18-----------------------#2020-03-03">https://medium.com/analytics-vidhya/holidays-events-and-other-datetime-feature-engineering-tips-a7678974897f?source=collection_archive---------18-----------------------#2020-03-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ffaa" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何让Datetime列告诉你更多关于它本身的信息！！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/c7edf264bd5219d779e7b8ab22840111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*RqC1VsKV25BTiZ9U7BcuoA.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">你好，我将告诉你更多关于我自己的事情</figcaption></figure><p id="394c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> Datetime </strong>在任何数据集中都是一个重要的列，因为它可以用更有见地的信息丰富您的数据，这些信息可以帮助您证明数据中的行为和模式。</p><p id="11f6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在本文中，我们将讨论如何使用<a class="ae kf" href="https://pandas.pydata.org/about/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">熊猫</strong> </a> <strong class="jl hj"> </strong>和用户自定义函数(<a class="ae kf" href="https://www.w3resource.com/python/python-user-defined-functions.php" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">UDF</strong></a><strong class="jl hj">)</strong>从datetime列中提取一些有用的特征。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="96fd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">首先，我们将创建一个虚拟的<strong class="jl hj">数据帧</strong>，它有一个日期时间列，模拟数据集中的日期时间列。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es kn"><img src="../Images/55212639a82db25713369409d7859f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IJb271On5IBWxG8dRV9koA.png"/></div></div></figure><blockquote class="ks kt ku"><p id="cbae" class="jj jk kv jl b jm jn ij jo jp jq im jr kw jt ju jv kx jx jy jz ky kb kc kd ke hb bi translated">您可以在此 访问整个<strong class="jl hj"> </strong> <a class="ae kf" href="https://gist.github.com/MuhammedMaher/48930983bc2304a8f6ff55e52fa61aa0" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">示例代码</strong></a></p></blockquote><p id="af94" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后使用<a class="ae kf" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.assign.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">赋值</strong> </a>，我们将生成类似于(<strong class="jl hj">年、月、日、工作日、Q、周末_FLG和事件</strong>)的派生列</p><p id="57cf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">使用<strong class="jl hj"> Pandas </strong>函数，比如<strong class="jl hj">年、月、日、工作日和季度</strong>列，其中一些列可以直接从日期导出。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es kz"><img src="../Images/9cb2eecbc77e9f5c61cfd09258877510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMX5dDNB1OU5QFpT7X7gFQ.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">熊猫内置日期时间组件</figcaption></figure><p id="bc70" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">注意，如果我们有一个带有类似于<strong class="jl hj">日期时间的</strong>值的列，那么您可以通过(<a class="ae kf" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/basics.html#basics-dt-accessors" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">)来访问这些属性。dt访问器</strong> </a>)。</p><p id="b928" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">像(<strong class="jl hj"> Weekend_FLG和Event) </strong>这样的其他列需要用户或开发人员预定义的逻辑，所以我们将使用<strong class="jl hj">UDF来定义它的逻辑。</strong></p><p id="ebc5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">只是为了证明概念(<strong class="jl hj"> POC </strong>)，我们将一些<strong class="jl hj">埃及</strong>事件硬编码到Python字典中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es la"><img src="../Images/2ab836fc107131b4f76cfe9e91e593e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_vozpa65_Z8OSFIevbOSA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">假日词典</figcaption></figure><p id="2f4c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">然后我们会添加我们需要的所有新列..</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lb"><img src="../Images/7999aeb01f013eeab5776cdefe9469b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m7zjQvoWw6ZrMUZWcSVHeQ.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">使用assign添加新列</figcaption></figure><p id="6453" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们看看我们有什么..</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lc"><img src="../Images/5c3c1a10d345ad61d70c2844ab886f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AXis8Hzh-CrnNkYfmQx0Kw.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">最终数据帧样本</figcaption></figure><p id="75d1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">完整示例请访问<a class="ae kf" href="https://gist.github.com/MuhammedMaher/48930983bc2304a8f6ff55e52fa61aa0" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">Github Gist</strong></a><strong class="jl hj">..</strong></p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="8ddb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">谢谢，我希望这篇文章对你有所启发。</p><p id="8b75" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">对于任何意见、建议或反馈，请在下面的回复部分告诉我。</p><p id="5bb0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你也可以查看之前的文章<br/><a class="ae kf" rel="noopener" href="/analytics-vidhya/an-easy-way-to-create-your-portable-data-science-project-environment-46a2c2ec889a">使用谷歌生态系统</a>创建云同步数据科学项目的简单方法。还有<strong class="jl hj"> LinkedIn </strong>发帖<a class="ae kf" href="https://www.linkedin.com/feed/hashtag/?keywords=%23MM_Tip" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>