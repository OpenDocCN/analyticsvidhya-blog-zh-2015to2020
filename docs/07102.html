<html>
<head>
<title>Web Scraping in Python For Novice Part 2 - Using Selenium Web drivers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的Web抓取第2部分——使用Selenium Web驱动程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/web-scraping-in-python-for-novice-part2-using-selenium-web-drivers-ef7e0a90490?source=collection_archive---------28-----------------------#2020-06-13">https://medium.com/analytics-vidhya/web-scraping-in-python-for-novice-part2-using-selenium-web-drivers-ef7e0a90490?source=collection_archive---------28-----------------------#2020-06-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/362f2d7e420f2843bec696f727c1e86a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G_HA1qyqT9aqmLoh3bWwTw.png"/></div></div></figure><p id="e0e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们之前的文章中，我们讨论了如何为初学者做网页抓取，如果你还没有看到，那么<a class="ae jo" rel="noopener" href="/@vinodnethichinna/web-scraping-in-python-for-novice-58856d82e749"> <strong class="is hj">点击这里</strong> </a>查看一下。我个人建议阅读我以前的文章，以便更好地理解第2部分。所以现在我们向前迈进一步，学习如何在抓取时点击网页上的按钮。这个场景的最佳用例是当我们抓取新闻网站时，你们都注意到我们有"<strong class="is hj"> <em class="jp">【加载更多】</em> </strong>或"<strong class="is hj"> <em class="jp">【点击此处获取更多文章】</em> </strong>按钮。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jq"><img src="../Images/02bf216066a11d1731467d53f07d7e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h8R3trjvVj3Lz6yKLcXYiw.png"/></div></div></figure><p id="bfa1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要点击这些按钮，我们需要安装网络驱动程序，在这篇文章中我更喜欢使用Chrome网络驱动程序，你可以在这里下载<a class="ae jo" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"/></a><strong class="is hj">。</strong>请根据您机器上安装的chrome版本下载正确的版本。如果你不确定chrome版本，你可以通过以下步骤找到它。</p><p id="3fce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">打开谷歌浏览器-&gt;点击右上角的3个点-&gt;帮助-&gt;关于谷歌浏览器，你可以看到相应的版本并下载。</p><p id="ce1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">成功下载Chrome Web驱动程序后，将其解压缩到Windows C驱动器位置。创建一个名为Webdrivers的新文件夹，并将其解压缩到该文件夹中。现在我们需要将这条路径添加到环境变量中。如果您不确定如何做到这一点，请遵循以下步骤。</p><ol class=""><li id="1131" class="jv jw hi is b it iu ix iy jb jx jf jy jj jz jn ka kb kc kd bi translated">复制chrome驱动程序的位置。</li><li id="2afe" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">点击这台电脑-&gt;属性-&gt;高级系统设置-&gt;环境变量</li><li id="29da" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">选择路径-&gt;编辑-&gt;新建，你可以添加新的路径到列表中，并从步骤1复制chrome驱动程序的位置。</li><li id="0103" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">点击ok，你就可以开始了。</li><li id="bcae" class="jv jw hi is b it ke ix kf jb kg jf kh jj ki jn ka kb kc kd bi translated">现在打开命令提示符，键入chromedriver，然后回车。</li></ol><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kj"><img src="../Images/2dede0cd27979661249f885591bd61e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ax8jD7QwYbSyHxSeLQcGLQ.png"/></div></div></figure><p id="8c7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果没有出错，您应该会看到与上面的截图相同的内容，请一步一步地操作。</p><p id="e34a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用Jupyter笔记本和selenium库，您可以在Jupyter笔记本中运行以下命令来安装库。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/a49e9605ffbfa1f78f54fc2946d2db6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAijO741qdTltCqbjM5wUQ.png"/></div></div></figure><p id="7446" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装selenium后，我们需要导入以下必需的依赖项。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/2125f60276551e6580703954d1e37031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tw2rgUQfGhXkDj3UBrKWnA.png"/></div></div></figure><p id="8dc2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面一行代码将打开一个空的浏览器，由自动化软件控制。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/a72d0f46611f3d3ec131038948448eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JP4Ttc_Rl-mdm9QQXlzFUg.png"/></div></div></figure><p id="ef85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">提供目标站点的URL，我们将使用它来演示web抓取时的点击按钮。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/b4932a94cffc2b1b2c4ec66d6f434092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PkCoqbssIStIblkXlK4vdw.png"/></div></div></figure><p id="2b87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们将目标站点作为输入传递给驱动程序，在运行下面的命令后，我们可以看到我们的目标站点在web浏览器中打开了。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/2fcc839538880abe19a09539a8510416.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2YmOOxl2AHSuEhrkd3YnVg.png"/></div></div></figure><p id="fa35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们需要找出需要单击哪个按钮来获取更多记录(例如load more按钮)，转到相应的按钮，右键单击以检查该元素，查看源代码、HTML、CSS、JS和其他信息。获取我们的目标按钮的类名，并通过使用下面的代码找到它(除了类名之外，还有各种其他方法，如标记名、id等，它们的语法略有不同)。单击方法单击按钮，通过执行下面的命令，按钮被自动单击，您还可以看到一条打印消息。此消息只是为了确保按钮已被点击，并用于测试目的。</p><figure class="jr js jt ju fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/122b5b26cb4b30b83ce03c83a1d75f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z_PS8VusdXAh8Jbg6o-0Vg.png"/></div></div></figure><p id="d1c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们能够使用Python点击网页上的按钮。本文到此为止。我希望你们都喜欢读这篇文章。在我们的下一篇文章中，我们将讨论如何将数据转换成pandas DataFrame并将数据从python加载到数据库(即Mongo DB)。</p><p id="0b73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果有任何错误/疑问，请分享或评论。</p><p id="97e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢你。</p><p id="4314" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"># Python # web scraping # chrome drivers # Selenium # learning Python # BegineersGuide</strong></p></div></div>    
</body>
</html>