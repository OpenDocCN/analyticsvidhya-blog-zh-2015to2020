<html>
<head>
<title>Building A Reddit Bot with Selenium Web Driver</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Selenium Web驱动程序构建Reddit机器人</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/building-a-reddit-bot-with-selenium-web-driver-87ece50c7d5?source=collection_archive---------8-----------------------#2020-10-07">https://medium.com/analytics-vidhya/building-a-reddit-bot-with-selenium-web-driver-87ece50c7d5?source=collection_archive---------8-----------------------#2020-10-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/16452e061b40e690b01efe3b5d7bb344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*onP5N2XgLqIGvQIP"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Kon Karampelas 在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><p id="c136" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗨，读者们，</p><p id="e4a0" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望你们都平安健康。这是我的第一个博客！，所以我真的很兴奋开始，让我们开始吧。</p><p id="771c" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在一个晴朗的日子，我在Reddit的海洋中冲浪，像往常一样，我看到了一个帖子，我想和我的朋友分享。正如你们许多Redditors知道的那样，在Reddit DM上分享帖子并不方便，你必须复制帖子的链接，然后打开DM窗口，选择聊天，然后粘贴，然后通过Reddit DM发送。</p><p id="5698" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">费力不是吗，我的意思是为什么浪费时间做这些，当世界需要一些拯救。😜</p><p id="d9fd" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我决定使用Selenium来自动化它，这个机器人做的是，它打开你的个人资料的upvotes部分，复制你已经upvotes的最新帖子的链接，并实时分享它，它不断刷新以检查是否有任何新帖子并分享它们。</p><p id="040a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们从代码开始吧…</p><h2 id="eea3" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">要求</h2><p id="ae4a" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">您需要安装Chrome Web驱动程序才能运行此代码。如果您没有，请不要担心，我们将在下面一一介绍。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="2697" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们需要安装将要使用的Python模块。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="dcc8" class="jt ju hy lf b fi lj lk l ll lm">pip install pyperclip<br/>pip install selenium</span></pre><p id="3cd8" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们把导入部分去掉。</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="07f3" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">先说说我导入的东西吧。</p><p id="585b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae hv" href="https://selenium-python.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hz"> Selenium </strong> </a>是一个web驱动程序，它用于自动化web应用程序，一般用于测试网站，也用于抓取网站。我们将使用Selenium来打开<a class="ae hv" href="http://www.reddit.com" rel="noopener ugc nofollow" target="_blank">www.reddit.com</a>并自动化共享过程。</p><p id="ba28" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae hv" href="https://pypi.org/project/pyperclip/" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hz"> Pyperclip </strong> </a>是一个跨平台的<strong class="ix hz"> Python </strong>模块，用于复制粘贴剪贴板功能。我们将使用Pyperclip来粘贴我们从剪贴板中复制的链接。</p><p id="36d4" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们初始化变量…</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><blockquote class="lp lq lr"><p id="eb5e" class="iv iw ls ix b iy iz ja jb jc jd je jf lt jh ji jj lu jl jm jn lv jp jq jr js hb bi translated">如果你没有chrome驱动程序，你可以从<a class="ae hv" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hz">这里</strong> </a>下载。确保你下载的chrome驱动程序与你的chrome浏览器版本相匹配，你可以在你的chrome浏览器搜索栏上输入<strong class="ix hz"> chrome://version/ </strong>来检查你的chrome驱动程序版本。你还可以在那个页面上找到chrome用户数据的位置。</p></blockquote><figure class="la lb lc ld fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/c65fea014a5392ffe0cb9be3809b2f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eq6Rc2dxPt_jKqO4ilFnlA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">chrome的快照://version/ page。</figcaption></figure><p id="24e9" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们创建一个<code class="du lx ly lz lf b">logIn()</code>函数…</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><blockquote class="lp lq lr"><p id="7379" class="iv iw ls ix b iy iz ja jb jc jd je jf lt jh ji jj lu jl jm jn lv jp jq jr js hb bi translated">你只需要登录一次，除非你退出，因为我们之前添加的chrome驱动选项参数会存储cookies，这样你就不必每次运行代码时都登录。</p></blockquote><p id="5378" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个<code class="du lx ly lz lf b">check()</code>功能来确保我们不会两次发送相同的帖子。</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><p id="891d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">定义<code class="du lx ly lz lf b">profile()</code>功能打开轮廓…</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><blockquote class="lp lq lr"><p id="a6b8" class="iv iw ls ix b iy iz ja jb jc jd je jf lt jh ji jj lu jl jm jn lv jp jq jr js hb bi translated"><code class="du lx ly lz lf b">profile()</code>接受一个参数，你将共享文件的人的用户名。</p><p id="619d" class="iv iw ls ix b iy iz ja jb jc jd je jf lt jh ji jj lu jl jm jn lv jp jq jr js hb bi translated">您可以根据自己的需要随意改变<code class="du lx ly lz lf b">sleep(seconds)</code>时间长度并进行调整。</p></blockquote><p id="f054" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们定义<code class="du lx ly lz lf b">dm()</code>函数来发送帖子…</p><figure class="la lb lc ld fd hk"><div class="bz dy l di"><div class="ln lo l"/></div></figure><blockquote class="lp lq lr"><p id="bb18" class="iv iw ls ix b iy iz ja jb jc jd je jf lt jh ji jj lu jl jm jn lv jp jq jr js hb bi translated"><code class="du lx ly lz lf b">dm()</code>函数遍历多个标签，提取聊天名称并将其与传递给该函数的用户名进行匹配，然后打开聊天，粘贴并发送链接。</p></blockquote><p id="c90d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，让我们调用函数…</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="4d1c" class="jt ju hy lf b fi lj lk l ll lm">logIn()</span></pre><h2 id="e244" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">链接</h2><p id="aebe" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">你可以在我的<a class="ae hv" href="https://github.com/sectrumsempra/Reddit_Bot.py" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hz"> GitHub账号</strong> </a>上找到这段代码的链接。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="4e98" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢你抽出时间来看我的博客。如果你能在评论区留下评论，那就太好了。</p><p id="959e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一定要点击下面按钮来获得更多类似的内容。</p></div></div>    
</body>
</html>