<html>
<head>
<title>Very Basic Machine Learning Automation Using Fabric 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Fabric 2的非常基本的机器学习自动化</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/very-basic-machine-learning-automation-using-fabric-2-4549665f611b?source=collection_archive---------14-----------------------#2020-03-31">https://medium.com/analytics-vidhya/very-basic-machine-learning-automation-using-fabric-2-4549665f611b?source=collection_archive---------14-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/216d3d589e021422504d994dc9b4bc42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yx6ZtogoEokXv3cxxyu1Lg.png"/></div></div></figure><p id="f65f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果通过自动化的魔力，您只需键入三两个命令行，就可以在远程服务器上运行您的机器学习培训或预测，而无需连接到您的虚拟机、配置您的Python环境、上传您的数据以及一次又一次地执行所有这些重复的任务，会怎么样？对于所有现有的云平台，如GCP、AWS或Azure，他们提供的各种现有解决方案可以很好地处理这种使用案例，也就是说，如果你是团队中唯一的“数据人”，预算非常非常有限，而你的老板只允许你使用一个GCP虚拟机，并且你对数据工程又爱又恨，这种情况并不总是适合你，你知道，这是“常见情况”。</p><p id="76ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Fabric 2非常适合这项任务。你会问Fabric 2是什么，它是一个Python库，让你可以通过SSH在远程机器上运行shell命令。因此，通过使用Fabric 2，我可以在远程服务器上训练一个模型，这是我以前从未配置过的，只需在本地shell上键入以下三个命令:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="9b49" class="jx jy hi jt b fi jz ka l kb kc">fab2 prepare-os<br/>fab2 prepare-menv<br/>fab2 train-model --dataset=&lt;link_to_train_data&gt; --epochs=50</span></pre><p id="6abd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个命令将在远程服务器上安装所有需要的包(比如安装Python本身)，第二个命令将上传培训所需的资产，并使用所需的库创建Python虚拟环境，最后一个命令将进行适当的培训，并在本地下载最终模型的副本。</p><p id="7fb5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如您在第三个命令中看到的，我们可以添加参数来定制我们的函数，并使其尽可能具有适应性，例如指定训练数据集和我们需要多少个历元的参数。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="8d8a" class="jx jy hi jt b fi jz ka l kb kc">fab2 train-model --dataset=&lt;link_to_train_data&gt; --epochs=50</span></pre><p id="5c3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将向你展示这一切是如何工作的，你可以通过改编我在这个<a class="ae kd" href="https://github.com/aminelemaizi/fabric2-ml-automation" rel="noopener ugc nofollow" target="_blank"> github repo </a>上写的代码来自己使用它。</p><h1 id="459f" class="ke jy hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">用例场景</h1><p id="8d1b" class="pw-post-body-paragraph iq ir hi is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">我的用例场景是MNIST自动编码器的设计，我将使用它来生成自动编码的图像。我将自动完成这个过程，这样我就可以在任何Ubuntu服务器(18.04 LTS)上运行训练，获取模型并生成自动编码的图像，以便检索到我的本地机器上。</p><h1 id="52cb" class="ke jy hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">安装织物2</h1><p id="8183" class="pw-post-body-paragraph iq ir hi is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">要安装Fabric 2，您可以使用<code class="du lg lh li jt b"><strong class="is hj">pip</strong></code>来完成:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="7c99" class="jx jy hi jt b fi jz ka l kb kc">pip install fabric2</span></pre><h1 id="b5b3" class="ke jy hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">资产和项目布局</h1><p id="b218" class="pw-post-body-paragraph iq ir hi is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">项目根将包含三个主要元素:</p><ul class=""><li id="9596" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated"><code class="du lg lh li jt b"><strong class="is hj">fabfile.py</strong></code>:这个文件包含了我们工作流程自动化的所有任务。拥有这个名字是很重要的，所以当在项目根运行fab2时，它将识别哪个文件包含任务列表。</li><li id="fedc" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated"><code class="du lg lh li jt b"><strong class="is hj">assets</strong></code>:这个目录包含与远程服务器认证相关的元素和信息，或者任何用于远程机器的相关数据，如加密密钥、密码、主机名或用户名。</li><li id="51a2" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated"><code class="du lg lh li jt b"><strong class="is hj">ml_assets</strong></code>:这是包含我们与机器学习模型相关的资产的目录，如模型本身、安装到虚拟机中的需求或训练数据。这是唯一上传到远程服务器的文件夹。</li></ul><p id="2899" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我为这个项目采用的布局，请随意调整它以更好地满足您的需求:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="312f" class="jx jy hi jt b fi jz ka l kb kc">.<br/>├── fabfile.py<br/>├── assets<br/>│   ├── secrets.json<br/>│   └── server_ssh_key<br/>└── ml_assets<br/>    ├── mnist_train.csv<br/>    ├── model.py<br/>    └── Requirements.txt</span></pre><p id="f802" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在讨论在fabfile.py中创建任务之前，我们将首先处理assets文件夹、assets和ml_assets的内容。</p><h2 id="a2b2" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated"><code class="du lg lh li jt b">assets</code>文件夹</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="ff34" class="jx jy hi jt b fi jz ka l kb kc">├── assets<br/>│   ├── secrets.json<br/>│   └── server_ssh_key</span></pre><p id="a70c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个文件是secrets.json，顾名思义，它包含了我们的小“秘密”,主要是会话密码、SSH密钥密码以及任何您认为敏感的、不需要在代码中显示的内容。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="bfb2" class="jx jy hi jt b fi jz ka l kb kc">{    <br/>    "password" : "&lt;password&gt;",<br/>    "passphrase" : "&lt;passphrase&gt;"<br/>}</span></pre><p id="b97b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该文件夹还包含加密密钥，因此如果需要，您可以安全地访问您的远程服务器。对于这个问题，您必须确保您没有在git中跟踪这个文件夹，并且它很好地包含在您的<code class="du lg lh li jt b"><strong class="is hj">.gitignore</strong></code>中。</p><h2 id="e65e" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated"><code class="du lg lh li jt b">ml_assets</code>文件夹</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="d6e4" class="jx jy hi jt b fi jz ka l kb kc">└── ml_assets<br/>    ├── mnist_train.csv<br/>    ├── model.py<br/>    └── Requirements.txt</span></pre><p id="abf3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lg lh li jt b"><strong class="is hj">Requirements.txt</strong></code>非常重要:除了列出所需的库之外，它还有助于指定您想要用于不同Python库的确切版本，因此不会出现意外行为。自动化需要一种可预测性。在我们的使用案例中，我们专注于以下版本:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="2b92" class="jx jy hi jt b fi jz ka l kb kc">pandas==1.0.2<br/>tensorflow==1.13.1<br/>matplotlib==3.1.3</span></pre><p id="5e12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们还必须将我们的训练数据集<code class="du lg lh li jt b"><strong class="is hj">mnist_train.csv</strong></code>放在这个文件夹中。我在这里的逻辑是，数据训练集是定义你的模型的一部分，因此它必须是机器学习资产的一部分。</p><p id="b2f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一个元素是我们的模型脚本<code class="du lg lh li jt b"><strong class="is hj">model.py</strong></code>，它包含两个主要函数<code class="du lg lh li jt b"><strong class="is hj">train</strong></code>和<code class="du lg lh li jt b"><strong class="is hj">predict</strong></code>。该脚本根据我们传递给它的shell条目参数来决定使用这两个函数中的哪一个，如main。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><h1 id="2e78" class="ke jy hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">使用Fabric 2创建任务</h1><p id="5be6" class="pw-post-body-paragraph iq ir hi is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">现在我们将攻击所有魔法发生的<code class="du lg lh li jt b"><strong class="is hj">fabfile.py</strong></code>文件。为此，我将一段一段地解释这个文件中包含的代码，这样您就可以了解它背后的逻辑以及如何使用Fabric 2。</p><p id="26f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这一部分中，我们导入了主要的Fabric 2工具，它们是连接到我们的远程服务器的<code class="du lg lh li jt b"><strong class="is hj">Connection</strong></code>类，定义一些与认证相关的配置的<code class="du lg lh li jt b"><strong class="is hj">Config</strong></code>类，以及一个函数装饰器<code class="du lg lh li jt b"><strong class="is hj">task</strong></code>，它使得Fabric 2函数(称为任务)在shell上执行时可以被识别，就像<code class="du lg lh li jt b"><strong class="is hj">fab2 fab-task</strong></code>。我们将为用户名、远程服务器ip地址、加密密钥的位置和我们的“秘密”(口令和密码短语)定义四个全局变量。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="5ea6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们定义了一个函数来连接我们的远程服务器，正如你所看到的，它指定了使用<code class="du lg lh li jt b"><strong class="is hj">sudo</strong></code>命令时使用的密码。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="5fa7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该任务定义了我们的远程服务器的信息，因此当使用之前没有建立连接的<code class="du lg lh li jt b"><strong class="is hj">connect_to_host</strong></code>时，它将拥有连接所需的信息。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="a9ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于这一个，我们只是简单地更新我们的操作系统包列表，然后安装所有需要的包(像Python 3 ),这样我们就可以有一个正常工作的操作系统。正如您所注意到的，我们将shell命令作为字符串运行，并且我们提到它必须通过使用<code class="du lg lh li jt b"><strong class="is hj">conn.sudo("...")</strong></code>作为sudo运行。用文字来定义这一部分的步骤，它是这样做的:</p><ul class=""><li id="41fa" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">定义远程主机的信息。</li><li id="90cc" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">连接到远程主机。</li><li id="d610" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">将包列表更新为sudo。</li><li id="23ee" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">作为sudo安装所需的包。</li><li id="606e" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">紧密连接。</li></ul><p id="e7f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">需要提到的是，所有用下划线定义的任务在shell中调用执行时都会得到一个连字符，所以任务<code class="du lg lh li jt b"><strong class="is hj">prepare_os</strong></code>在调用时会写成<code class="du lg lh li jt b"><strong class="is hj">prepare-os</strong></code>。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="36ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们需要一个任务来上传我们的机器学习资产，并创建一个包含所有必需库的Python虚拟环境。Fabric 2不提供文件夹上传，所以为了解决这个问题，我们将把我们的<code class="du lg lh li jt b"><strong class="is hj">ml_assets</strong></code>文件夹压缩成一个文件，然后上传到远程服务器解压缩。这里的shell命令不需要作为sudo运行，这就是我们使用<code class="du lg lh li jt b"><strong class="is hj">conn.run(...)</strong></code>的原因，对于在本地机器而不是远程服务器上运行命令，我们使用<code class="du lg lh li jt b"><strong class="is hj">conn.local(...)</strong></code>。</p><p id="beb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此任务执行以下操作:</p><ul class=""><li id="ee40" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">定义远程主机的信息。</li><li id="71c1" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">连接到远程主机。</li><li id="0dc0" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">压缩<code class="du lg lh li jt b"><strong class="is hj">ml_assets</strong></code>文件夹。</li><li id="ca36" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">使用<code class="du lg lh li jt b"><strong class="is hj">conn.put(&lt;local_file&gt;, &lt;remote_folder&gt;)</strong></code>上传压缩文件。</li><li id="846c" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">在远程服务器中解压缩文件。</li><li id="e853" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">本地和远程删除压缩文件。</li><li id="91d6" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">创建一个叫做<code class="du lg lh li jt b"><strong class="is hj">modelenv</strong></code>的Python虚拟环境。</li><li id="2d5f" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">在<code class="du lg lh li jt b"><strong class="is hj">modelenv</strong></code>内部升级<code class="du lg lh li jt b"><strong class="is hj">pip</strong></code>。</li><li id="1a04" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">安装<code class="du lg lh li jt b"><strong class="is hj">Requirements.txt</strong></code>中包含的所需Python库。</li><li id="9e71" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">显示已安装Python库的列表。</li><li id="b551" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">紧密连接。</li></ul><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="2559" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们有合适的操作系统和Python环境，现在需要的是我们的主执行。该任务通过调用我们的Python脚本<code class="du lg lh li jt b"><strong class="is hj">model.py</strong></code>来进行训练，并定义预期的参数来通知它我们正在请求训练，定义要训练的数据集和历元数。在学习阶段之后，我们将使用<code class="du lg lh li jt b"><strong class="is hj">conn.get(&lt;remote_file&gt;, &lt;local_file&gt;)</strong></code>将模型的副本下载到我们的本地机器中。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="05dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该任务可以被称为如下:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="76c3" class="jx jy hi jt b fi jz ka l kb kc">fab2 train-model --dataset=&lt;link_to_train_data&gt; --epochs=50</span></pre><p id="288f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一部分是预测，它包含以下操作:</p><ul class=""><li id="7ed5" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">定义远程主机的信息。</li><li id="f16d" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">连接到远程主机。</li><li id="3da3" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">将用于预测的数据集上载到远程服务器。</li><li id="95ba" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">将训练好的模型的副本上传到远程服务器。</li><li id="3d07" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">创建一个名为<code class="du lg lh li jt b"><strong class="is hj">autoencoded</strong></code>的文件夹，我们将在其中保存我们的自动编码图像。</li><li id="114a" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">运行预测。</li><li id="b0e5" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">压缩<code class="du lg lh li jt b"><strong class="is hj">autoencoded</strong></code>文件夹。</li><li id="3752" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">下载压缩文件。</li><li id="b5c4" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">删除远程服务器中的模型副本、预测数据集、<code class="du lg lh li jt b"><strong class="is hj">autoencoded</strong></code>文件夹及其压缩文件。</li><li id="9471" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">在本地解压缩<code class="du lg lh li jt b"><strong class="is hj">autoencoded.zip</strong></code>文件。</li><li id="28b9" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">删除压缩文件。</li><li id="3265" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">紧密连接。</li></ul><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="14ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">需要指出的是，我们区分了训练和预测。我的意思是，这两个进程可以在两个不同的服务器上运行。重要的是，在预测期间，我们的模型副本存在于机器学习资产中，如果我们至少运行过一次训练任务，就会出现这种情况。</p><h1 id="1a4d" class="ke jy hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">自动化在行动</h1><p id="3aaf" class="pw-post-body-paragraph iq ir hi is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hb bi translated">现在让我们通过运行每个任务来看看这个函数实际上是如何工作的，并观察输出是什么！</p><h2 id="aff9" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated">准备我们的远程主机操作系统(Ubuntu 18.04 LTS版)</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="9a7b" class="jx jy hi jt b fi jz ka l kb kc">fab2 prepare-os</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/246663aed0377db59e6ade34f8230026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*6INRWeFSAOlXiWd_OfuwzA.png"/></div></figure><h2 id="f0da" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated">上传资产和准备Python虚拟环境</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="da8a" class="jx jy hi jt b fi jz ka l kb kc">fab2 prepare-menv</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/2640ed1fb89de5cdbb5f28052a35f806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XDK0VzG_fGDC3BQkRg1Xag.png"/></div></div></figure><h2 id="29b4" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated">训练自动编码器</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="1621" class="jx jy hi jt b fi jz ka l kb kc">fab2 train-model --dataset=./ml_assets/mnist_train.csv --epochs=5</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/36ae5211b40a69b3cb2bfec367544d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J8iB0LsPrWR7AaQN4X2fYQ.png"/></div></figure><p id="bc6f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此后，模型的副本在本地创建:</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/11ef0d663ea9b387368adc2c9c9a839a.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*xtuNG6zVoHjsXzXmxI4AHg.png"/></div></figure><h2 id="1664" class="jx jy hi bd kf lx ly lz kj ma mb mc kn jb md me kr jf mf mg kv jj mh mi kz mj bi translated">创建自动编码图像</h2><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="fc24" class="jx jy hi jt b fi jz ka l kb kc">fab2 predict-data --dataset=./ml_assets/mnist_predict.csv</span></pre><p id="8dbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这段代码将在本地创建自动编码的图像，如下所示，瞧！</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/64b685f946749b01f3a97b5cdf6b1262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgrqyS5HgP8jXWoBduSTrg.png"/></div></figure><p id="7054" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这都是乡亲们！</p><p id="24aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在<a class="ae kd" href="https://twitter.com/ALemaizi" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kd" href="https://www.facebook.com/lemsodyssey/" rel="noopener ugc nofollow" target="_blank">脸书</a>或<a class="ae kd" rel="noopener" href="/@amine.lemaizi"> Medium </a>上关注我，有新帖子发布时会通知您！</p><p id="db58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">登月小艇出去！！！</p></div></div>    
</body>
</html>