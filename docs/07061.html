<html>
<head>
<title>Building An Interactive Desktop Dictionary App With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建交互式桌面词典应用</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/interactive-dictionary-with-python-6e34d35c053c?source=collection_archive---------9-----------------------#2020-06-12">https://medium.com/analytics-vidhya/interactive-dictionary-with-python-6e34d35c053c?source=collection_archive---------9-----------------------#2020-06-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/04d6c9560d8754cd5b248f5145c69f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7QFlkq2VEjAhGJg4"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@sandym10?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">桑迪·米勒</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="5a08" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">被困在付费墙后面？点击</em> <a class="ae iu" rel="noopener" href="/@siddhant.sadangi/6e34d35c053c?source=friends_link&amp;sk=fbbcb574dbf8bf1855bf1f721a96eb9c"> <em class="jt">此处</em> </a> <em class="jt">阅读全文与我的朋友链接。</em></p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="c153" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是我的第一个Python项目，是我作为Ardit Sulce在Udemy上的<a class="ae iu" href="https://www.udemy.com/course/the-python-mega-course/" rel="noopener ugc nofollow" target="_blank">Python大型课程</a>的一部分构建的(如果你想全面了解Python的应用而不是数据科学，这是一门非常有用的课程)。实现与Ardit在课程中教授的方法或多或少是一样的(至少是两年前)，只是做了一些细微的改进。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="5bcf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用本地托管的JSON (JavaScript Object Notation)文件作为数据源。你可以从<a class="ae iu" href="https://drive.google.com/file/d/1UlXee_ZUPMvfea6SQyGcR_bErPnoxJam/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">这里</a>下载文件。如果您不熟悉JSON文件格式，它基本上是一种将人类可读的文本存储为键值对的格式。可以把它想象成一个以文件形式存储的字典。</p><p id="f424" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们深入研究代码，并试着让它尽可能的用户友好，一步一步来！</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="becf" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">加载数据</h2><p id="0f07" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">首先，我们需要将JSON文件加载到Python中。为此，我们需要Python的Anaconda发行版附带的json库:</p><p id="f92b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lb lc ld le b">import json</code></p><p id="1835" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦库被导入，我们可以使用它的<code class="du lb lc ld le b">load()</code>方法来加载文件:</p><p id="d1de" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lb lc ld le b">data = json.load(open(‘data.json’))</code></p><p id="aaf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">该文件作为字典加载，可通过检查<code class="du lb lc ld le b">data</code>的类型和/或查看其外观来验证:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/6a54de73c3fd71ac0d71bbb181c374c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJm7ixh33sBGXGPECsl7OA.png"/></div></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="0ec7" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">基本搜索</h2><p id="5383" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">搜索一个单词最基本的方式是将它作为一个关键字，并获取与之相关的值:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/d039bc5beed573255217043ca2fcf652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4-oS0sdPJhfXKchUcQtSkw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">搜索“词典”</figcaption></figure><p id="4700" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以通过要求用户输入单词来使它变得更加用户友好:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/9b2207e7d03d9261a34d002437c5bc5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XKnDyk7d32ttN_5B8erY2A.png"/></div></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="9ce8" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">处理案例变化</h2><p id="2c5f" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">让我们搜索“印度”:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/de1d876f7a88892390ac03ccb15c5d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TEYkfQe_t-cr0F7OzkVfuw.png"/></div></div></figure><p id="0c8a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">哎呀，显然‘印度’并不存在。没问题，让我们搜索“json”:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/b937712610a226a750a6670930efa002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bHxpl3i4PXkrEJtwLahWlQ.png"/></div></div></figure><p id="c68b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，现在我们做事的方式出了问题。如果您检查文件，会发现“India”和“JSON”都存在，但区别在于大小写:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/d3e1d88afc8d0a283a87d30e888874f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jaYxQRUwXr2B2KQqxD2wA.png"/></div></div></figure><p id="a530" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">字典键应该完全匹配才能返回值。我们可以要求用户输入全小写的enter，但这不是一个非常用户友好的设计。相反，我们必须处理所有可能的情况变化。</p><p id="c433" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们使用字符串方法lower()、title()和upper()，分别将字符串转换为小写、标题大小写和大写。</p><p id="f6ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们检查输入的单词是否存在于字典中，如果不存在，我们将它转换为不同的大小写，以检查这些变体是否存在。如果它们都不存在，我们用简单的英语让用户知道(不是红色的‘KeyError’s)。为了简洁起见，我们将其封装在一个函数中:</p><pre class="lg lh li lj fd lo le lp lq aw lr bi"><span id="3e21" class="kb kc hi le b fi ls lt l lu lv">def search(word):<br/>    if word in data:<br/>        return(data[word])<br/>    elif word.upper() in data:<br/>        return(data[word.upper()])<br/>    elif word.title() in data:<br/>        return(data[word.title()])<br/>    elif word.lower() in data:<br/>        return(data[word.lower()])<br/>    else:<br/>        return(f"{word} not found")</span></pre><p id="5a05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对我们的四种不同情况(小写、标题、大写、不存在)进行测试:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/c475e63254fd9d72e916ab066d3a43ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYFQjUMlMOUGJViffikRVQ.png"/></div></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="54ba" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">处理错别字</h2><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/eb5700ed00f58e051042147504949f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DBuNuM4g1Qdxfsnxj3Z7bg.png"/></div></div></figure><p id="7652" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的应用程序现在处理大小写变化，但不处理拼写错误，因为键需要完全匹配。</p><p id="a3fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个好的搜索引擎不会在你的搜索词中出现拼写错误时一片空白，它会提示你实际可能的意思。我们将对我们的应用程序做同样的事情。</p><p id="c790" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们将使用内置的<code class="du lb lc ld le b">difflib</code>库中的函数<code class="du lb lc ld le b">get_close_matches()</code>。让我们看看它是如何工作的。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/4f098b6e90eae2518f641f04787fac32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6c-vmzU4KCEz8VYuIz7LQ.png"/></div></div></figure><p id="cea4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lb lc ld le b">get_close_matches()</code>引四辩:</p><ul class=""><li id="297b" class="ly lz hi ix b iy iz jc jd jg ma jk mb jo mc js md me mf mg bi translated">要检查的单词</li><li id="b836" class="ly lz hi ix b iy mh jc mi jg mj jk mk jo ml js md me mf mg bi translated">要签入的单词列表</li><li id="4659" class="ly lz hi ix b iy mh jc mi jg mj jk mk jo ml js md me mf mg bi translated">要返回的匹配数</li><li id="47bf" class="ly lz hi ix b iy mh jc mi jg mj jk mk jo ml js md me mf mg bi translated">相似性临界值，低于该临界值的单词将被忽略。</li></ul><p id="7755" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这种情况下，我们希望在“ape”、“apple”、“peach”和“puppy”中找到与“appel”相似的三个单词，并且它们的相似性得分至少为0.6。结果按照相似度降序排列，在我们的例子中是“苹果”和“猿”。我们只得到两个结果，而不是三个，因为所有其他单词的相似度都小于0.6的临界值。如果没有大于截止长度的单词，则返回一个空列表。</p><p id="b710" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的应用程序中，如果数据中不存在输入的大小写变化，我们应该检查拼写错误，所以我们将在搜索函数的末尾添加这个条件。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/bf285a4f0f4f3bbd520c90b5063790be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VVYjffahEAmabWmwRS87Q.png"/></div></div></figure><p id="a0dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们希望在数据字典的所有关键字中搜索输入单词，并只返回相似性截止值大于0.8的最相似的单词。如果存在这样的单词，<code class="du lb lc ld le b">len(get_close_matches(word, data.keys(), n=1, cutoff=0.8))</code>的值将为1，然后我们从字典中获取与该单词相关的值。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/7b4b652c8d9115e4c83c18bfd252474e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4i2gUOEfC9CsBYB3yV713Q.png"/></div></div></figure><p id="95ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们能够得到“字典”的意思，尽管我们已经搜索了“措辞<strong class="ix hj"> e </strong> ry”。</p><p id="1612" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，有些事情不对劲。我们不会让用户知道他的搜索词中可能有拼写错误，并且显示的结果可能实际上不是用户正在搜索的词。下面的例子说明了这一点:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/ad46c4cac4c52198a291f8a155ce9d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2m8hGsRy0ZXiH2yg1-RnPQ.png"/></div></div></figure><p id="6b40" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，虽然用户搜索的是“nasa ”,但得到的结果是针对单词“nasal”。就像一个好的搜索引擎一样，我们需要一种机制来让用户知道我们是否认为他的搜索词中有拼写错误，并让用户决定他是否想要接受更正。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="20bf" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">建议替代单词</h2><p id="6e6e" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">如果在我们的字典中找不到这个单词或它的大小写变化，这部分就起作用了。我们显示找到的最相似的单词，询问用户这是否是他们想要搜索的单词，如果是，显示该单词的意思。如果没有，那么我们要求用户输入另一个单词。</p><p id="37ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将为此创建一个函数，它只接受用户输入的单词，并执行上述所有操作。这个函数将在最后一个else-if梯形中调用。</p><pre class="lg lh li lj fd lo le lp lq aw lr bi"><span id="bd6a" class="kb kc hi le b fi ls lt l lu lv">def suggest(word):<br/>    yn = input(f"Did you mean '{get_close_matches(word, data.keys(), n=1, cutoff=0)[0]}' instead? [y/n]: ")<br/>    if str.lower(yn) == 'y':<br/>        return(search(get_close_matches(word ,data.keys(), n=1, cutoff=0)[0]))<br/>    elif str.lower(yn) == 'n':<br/>        return 'Please check the word'<br/>    else:<br/>        print('Please enter Y or N')<br/>        suggest(word)</span><span id="07c1" class="kb kc hi le b fi mn lt l lu lv">def search(word):<br/>    if word in data:<br/>        return(data[word])<br/>    elif word.upper() in data:<br/>        return(data[word.upper()])<br/>    elif word.title() in data:<br/>        return(data[word.title()])<br/>    elif word.lower() in data:<br/>        return(data[word.lower()])<br/>    elif len(get_close_matches(word, data.keys(), n=1, cutoff=0)) &gt; 0:<br/>        return(suggest(word))<br/>    else:<br/>        return(f"{word} not found")</span></pre><p id="97eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们已经移除了相似性截止过滤器，因为我们想要获得最相似的单词，而不考虑相似性分数。</p><p id="016a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果用户输入' y '，我们向他们展示建议单词的含义，如果输入' n '，我们要求他们检查单词并终止。最后一种情况是健全检查，以防用户觉得有创意，并输入除“y”或“n”之外的任何内容。在这种情况下，我们要求他们纠正输入并再次调用该函数。</p><p id="d50f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">工作原理如下所示:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/83841bdebb68f4d649dcf84475adfb55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWVOIHh-0Ok81kWbejpkTw.png"/></div></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="0c61" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">创建脚本并循环运行</h2><p id="23a0" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">一旦原型准备好了，从笔记本转移到脚本总是更好，这样实现起来更快更容易。在我们的例子中，用一个脚本代替一个笔记本使过程更快，因为我们可以一次运行脚本，而不必单独运行每个单元。</p><p id="3ee7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我刚刚将笔记本中的代码粘贴到一个脚本中，只做了一些修改:</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="mp mq l"/></div></figure><p id="0c97" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行该脚本时，我们得到以下输出:</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mr"><img src="../Images/e3d25a79b9dafdad54e2a12612746981.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*Dn2PW6RfE2K-jDR9_z5OtQ.png"/></div></figure><p id="f5d6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这样做的一个问题是，每次您想要搜索一个单词时，您都需要再次运行这个脚本。</p><p id="2f18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让这个应用程序循环运行，检查用户想要的单词，直到用户想要停止，怎么样？</p><p id="f9be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们必须创建另一个函数，该函数将要求用户输入，显示结果，然后询问用户是否想要搜索更多的单词。如果是，重复该过程；如果没有，程序终止。实际上，这需要两个函数，一个获取输入，调用搜索函数，然后调用另一个函数，如果需要更多的搜索，该函数将回调父节点。听起来很复杂？让下面的代码示例更容易理解:</p><pre class="lg lh li lj fd lo le lp lq aw lr bi"><span id="ad08" class="kb kc hi le b fi ls lt l lu lv"><em class="jt">def </em>prompt():<br/>   <em class="jt">"""Gets the input from the user, displays the result, and checks if more words are to be searched for<br/>   """<br/><br/>   </em>word = <em class="jt">input</em>("Enter a word: ")<br/>   <em class="jt">print</em>(search(word))<br/>   checkmore()</span><span id="2d4f" class="kb kc hi le b fi mn lt l lu lv"><em class="jt">def </em>checkmore():<br/>   <em class="jt">"""Keeps the application running until the user wants to quit<br/>   """<br/>   </em>more = <em class="jt">input</em>('Search for more words? [y/n]: ')<br/><br/>   <em class="jt">if str</em>.lower(more) == 'y':<br/>      prompt()<br/>   <em class="jt">elif str</em>.lower(more) == 'n':<br/>      <em class="jt">print</em>('Goodbye!')<br/>   <em class="jt">else</em>:<br/>      <em class="jt">print</em>('Please enter Y or N')<br/>      checkmore()</span></pre><p id="973d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们在<code class="du lb lc ld le b">prompt</code>中输入单词；它搜索单词；然后调用<code class="du lb lc ld le b">checkmore</code>。<code class="du lb lc ld le b">checkmore</code>询问我们是否要搜索更多的单词。如果是，则再次调用<code class="du lb lc ld le b">prompt</code>；如果没有，程序终止。对于任何其他输入，<code class="du lb lc ld le b">checkmore</code>被再次调用。</p><p id="7371" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，在我们这样做之前，你注意到结果周围的方括号了吗？这是因为结果是列表的形式，而不是字符串。</p><p id="c332" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lb lc ld le b">Enter a word: hand<br/>[‘That part of the fore limb below the forearm or wrist in primates (including humans).’, “To give, transmit or pass to, using one’s hand.”, ‘A set of cards or pieces of a player at a given time during a game.’]</code></p><p id="0b4c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了使结果更清晰，我们可以将<code class="du lb lc ld le b">search()</code>的输出赋给一个变量，然后如果变量是一个列表，则打印单个项目，而不是打印列表。如果没有(在任何消息的情况下)，我们只打印变量。</p><p id="2779" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我们的<code class="du lb lc ld le b">prompt()</code>函数现在变成了:</p><pre class="lg lh li lj fd lo le lp lq aw lr bi"><span id="bd23" class="kb kc hi le b fi ls lt l lu lv"><em class="jt">def </em>prompt():<br/>   <em class="jt">"""Gets the input from the user, displays the result, and checks if more words are to be searched for<br/>   """<br/><br/>   </em>word = <em class="jt">input</em>("Enter a word: ")<br/>   output = search(word)<br/>   <br/>   <em class="jt">if type</em>(output) == <em class="jt">list</em>:<br/>      <em class="jt">for </em>item <em class="jt">in </em>output:<br/>         <em class="jt">print</em>(item)<br/>   <em class="jt">else</em>:<br/>      <em class="jt">print</em>(output)<br/>      <br/>   checkmore()</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/fb7aaefb400c05d1a0ce00b36b430f4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*16yfd6D3En1oZHOF-u9I-A.png"/></div></div></figure><p id="ee07" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个看起来好多了。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="234a" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">包扎</h2><p id="471a" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">我们没有应用程序。由于涉及到相当多的步骤和条件，这里是该过程的高级流程图和完整代码。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mt"><img src="../Images/225b3f9110ba1aef0c638d0f7f0fb879.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*_eyfsd9krcTV5O6dvk-yUg.png"/></div></figure><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="mp mq l"/></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/4e7e06cd543b6713d3fbe694513f30ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UZbDjIBF_MjdcBfVtd2TCQ.png"/></div></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="ec04" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jg km kn ko jk kp kq kr jo ks kt ku kv bi translated">结束语</h2><p id="737c" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">很明显，有很多方法可以改进这一点。首先，您可以使用Tkinter或Flask创建一个简洁的GUI。您还可以连接到数据库或API以用作源，而不是本地托管的文件。如果你想提出更多的改进建议，请告诉我。我也很乐意看到你的实现。欢迎在下面发表评论，或者通过<a class="ae iu" href="mailto: siddhant.sadangi@gmail.com" rel="noopener ugc nofollow" target="_blank">邮件</a>或<a class="ae iu" href="http://linkedin.com/in/siddhantsadangi" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p><p id="455a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">感谢阅读！</strong></p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="d3bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Medium仍然不支持向印度以外的作者支付费用。如果你喜欢我的内容，你可以给我买杯咖啡:)</p><div class="mv mw ez fb mx my"><a href="https://www.buymeacoffee.com/siddhantsadangi" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">Siddhant Sadangi正在Streamlit上创建python网络应用程序</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">嘿👋我刚刚在这里创建了一个页面。你现在可以给我买杯咖啡了！</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">www.buymeacoffee.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm io my"/></div></div></a></div></div></div>    
</body>
</html>