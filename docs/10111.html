<html>
<head>
<title>A walkthrough in pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫漫游</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-walkthrough-in-pandas-662a45f298f1?source=collection_archive---------13-----------------------#2020-10-05">https://medium.com/analytics-vidhya/a-walkthrough-in-pandas-662a45f298f1?source=collection_archive---------13-----------------------#2020-10-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d60192e1daae4d381fe6655c00bb3174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Bcts8KqtntCnoNsC.jpg"/></div></div></figure><p id="dad2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在当今世界，技术在改变我们的生活方面起着至关重要的作用。尤其是机器学习下一个高级计算时代。你觉得是下一个时代吗？它已经在银行、零售、金融、医疗、农业等各个领域展开。</p><p id="2f19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嗯，我对我在数据科学中学到的东西太兴奋了。所以，我将分享我的熊猫操纵知识。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/92acf5e434421e432b6890dccb42e862.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/0*WHwTMe-Ykjn2suxI.jpg"/></div></figure><p id="6d9b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在用熊猫专用的Jupyter笔记本。在这里，我将从读取数据集的开头开始基本的事情。要成为任何领域的专家，我们需要有实践经验。所以，我理解了为什么我们不使用实时数据集而直接用CSV渲染的想法。我参观了加州大学欧文分校。他们在不同的流中包含了大量的数据集。我把成人数据集如下。</p><p id="0eca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在此下载数据集<a class="ae jt" href="https://archive.ics.uci.edu/ml/machine-learning-databases/adult/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="a7ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">先从基础开始，如何使用熊猫读取数据。</p><p id="594f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">导入库的第一件事。说进口熊猫当pd。其中“pd”用作引用变量来调用pandas中的内置函数。这适用于笔记本广泛使用的各个图书馆。</p><p id="8fd5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">导入库</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="f6e8" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">import</strong> pandas <strong class="jv hj">as</strong> pd</span></pre><p id="2d58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">数据集概述</strong></p><p id="4587" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">屏幕参考。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/44bee9db749c748680cbe495a4db48f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XGzzkNSkX5th0sol.jpg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">数据由分隔符'，'分隔。</figcaption></figure><p id="6b42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">列类型的图示是连续的还是分类的</strong></p><ul class=""><li id="19f8" class="kk kl hi is b it iu ix iy jb km jf kn jj ko jn kp kq kr ks bi translated">年龄:连续。</li><li id="c580" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">工作阶级:私人，自营企业，自营企业，联邦政府，地方政府，州政府，无薪，从未工作过。</li><li id="7673" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">fnlwgt:连续。</li><li id="8fc8" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">学历:学士、部分大学、11年级、HS-grad、Prof-school、Assoc-acdm、Assoc-voc、9年级、7-8年级、12年级、硕士、1-4年级、10年级、博士、5-6年级、学前教育。</li><li id="336f" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">教育-编号:连续。</li><li id="788b" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">婚姻状况:已婚配偶，离婚，未婚，分居，丧偶，无配偶，已婚配偶。</li><li id="01d3" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">职业:技术支持，工艺修理，其他服务，销售，行政管理，专业教授，清洁工，机器操作员，行政文员，农业渔业，运输，私人服务，保安服务，武装部队。</li><li id="1eac" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">关系:妻子、亲生子女、丈夫、非家庭成员、其他亲属、未婚。</li><li id="c440" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">种族:白人，亚洲太平洋岛民，美洲印第安爱斯基摩人，其他，黑人。</li><li id="7749" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">性；女性，男性</li><li id="e9cd" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">资本收益:持续</li><li id="63bd" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">资本损失:持续</li><li id="4850" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">每周小时数:连续</li><li id="e9cb" class="kk kl hi is b it kt ix ku jb kv jf kw jj kx jn kp kq kr ks bi translated">本土:美国、柬埔寨、英国、波多黎各、加拿大、德国、美国外围地区(关岛-USVI等)、印度、日本、希腊、韩国、中国、古巴、伊朗、洪都拉斯、菲律宾、意大利、波兰、牙买加、越南、墨西哥、葡萄牙、爱尔兰、法国、多米尼加共和国、老挝、厄瓜多尔、台湾、海地、哥伦比亚、匈牙利、危地马拉、尼加拉瓜、苏格兰、泰国、南斯拉夫、萨尔瓦多、特立尼达和多巴哥、秘鲁、香港、荷兰。</li></ul><p id="857a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">读取数据集</strong></p><p id="29cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ky"> read_table </em> —用于读取表格格式的数据</p><p id="be71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ky"> sep </em> —用于使用分隔符分割数据，如'，'</p><p id="385c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">编码-指定使用哪个字符编码</p><p id="1c26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">names——包含要在整个数据集中使用的列的列表。</p><p id="0549" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">skipinatalspace-True，符号化避免在数据中使用空格或\t。基本上，它会修剪数据</p><p id="fca0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">index _ col-False，提供从0开始的默认索引。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="4841" class="jz ka hi jv b fi kb kc l kd ke">df = pd.read_table(r’D:\DataSet\adult.data’, sep=’,’, encoding=”utf-8", names=[‘Age’,’workclass’,’fnlwgt’,’education’,’education-num’,’martial-status’,’occupation’,’relationship’, ‘race’,’sex’,’capital-gain’,’capital-loss’,’hours-per-week’,’Native-Country’], skipinitialspace=True, index_col=False)</span></pre><p id="f357" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">找出跨列的数据类型</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="f380" class="jz ka hi jv b fi kb kc l kd ke">df.dtypes</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kz"><img src="../Images/96d05bb5b80847d6fd502b559e3b8c86.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/0*Qkqy89jSIxqzQDRd.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">数据类型</figcaption></figure><p id="bebe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">查看数据前3条记录&amp;后3条记录</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="6918" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.head(3)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/ad3f705dae769dd422bb263edc4b68e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ai42uzk0uPl3U-J6.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">最后3条记录</figcaption></figure><p id="ecdb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">形容</strong></p><p id="fe4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果为您提供了数据集的统计分析。对于统计分析，列的数据类型应该是整数/浮点数。这里考虑列Age，fnlwgt…的类型为int64。</p><p id="4cb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是参数的图解部分，</p><p id="c216" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">count —该列中存在的数据总数。因此，我们可以看到，所有列的总计数都是32561。</p><p id="5788" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">平均值—显示各列的取平均值</p><p id="4458" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">std说明平均值中出现偏差的程度</p><p id="2464" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">min提供列中的最少数据</p><p id="efc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">25% —首先按升序对列进行排序。取前25%的数据并计算平均值。</p><p id="12a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">50% —再取25%的数据，计算平均值</p><p id="99cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">75%-再取25%的数据，计算平均值。</p><p id="4264" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">max提供列中数据的最大值</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="1e0a" class="jz ka hi jv b fi kb kc l kd ke">df.describe()</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/ee9cc6451c3005f4d50c20cf85c96f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QjYmzjfuGc7NPng2.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">形容</figcaption></figure><p id="7fcc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">形状</strong></p><p id="2de1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">提供尺寸结果(行、列)</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="314d" class="jz ka hi jv b fi kb kc l kd ke">df.shape</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lc"><img src="../Images/eeb84371f76d3dc6a6598edeb0caf861.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/0*xdy2WNXoE8PBTtE2.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">形状</figcaption></figure><p id="12a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">重命名列</strong></p><p id="976f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在现实世界中，一些数据集是一种混乱/需要缩小与现实世界兼容的数据。在这些情况下，列名可能会有所不同。因此，在这种情况下，这将有助于更容易地进行进一步分析。</p><p id="db95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">columns = {旧列名:新列名}</p><p id="7d84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">inplace=True，用于保存原始数据集中的更改。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="eca4" class="jz ka hi jv b fi kb kc l kd ke">df.rename(<strong class="jv hj">columns</strong>={'education-num' : 'standard'}, inplace=True)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/55f1fd584216a6d2d2c58632196ad58e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xcjUVzj3mdgAZmz5.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">重命名列</figcaption></figure><p id="69ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">排序</strong></p><p id="f91f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用于对列列表进行排序。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="8b67" class="jz ka hi jv b fi kb kc l kd ke">df.sort_values(<strong class="jv hj">by</strong>=['relationship','Age'], <strong class="jv hj">ascending</strong>=False)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/01451b1c9aaa368c4cb6c83719f347ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oNYAzfp_0b_R1u4W.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">整理</figcaption></figure><p id="189c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">添加新列</strong></p><p id="0744" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">修改单列中的两列值，如下所示。从而也修改了工作类别和职业列。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="7086" class="jz ka hi jv b fi kb kc l kd ke">df['newCol'] = df.workclass + df.occupation</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/fe25ec4cfe57832a5ba4f1e8c7bffa45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KvQ1U_QH9jzmBJcq.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">添加新列</figcaption></figure><p id="f94b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">过滤</strong></p><p id="64cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">过滤年龄&gt; 35岁且性别为“男性”的数据集</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="59c3" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>[(df.Age &gt; 35) &amp; (df.sex == 'Male')]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/b44ebd01a1624162529734f939f2444e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y_DYPk25poHdt1jz.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">过滤</figcaption></figure><p id="f197" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">索引</strong></p><p id="b480" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用列而不是默认索引应用到索引从0开始</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="eaec" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.set_index['Age','sex'])</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/ad6b7b5177ca7e62c3b6ed674244b079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sEmoFimArmrns7kR.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">应用索引</figcaption></figure><p id="ae76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">列数有限的新数据帧</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="0a16" class="jz ka hi jv b fi kb kc l kd ke">new_data = df[['Age','sex','race','Native-Country']]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/0ffbc22637c97e8c7186285cb355e633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/0*BRVd0DqXOuDFNVN_.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">有限列显示</figcaption></figure><p id="29bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">以所需的文件格式保存数据帧</strong></p><p id="cbb0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以使用<em class="ky"> to_csv </em>从数据框中导出数据，但这只会生成一个csv文件。导出JSON，XML，表格格式有单独的方法实现。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="9319" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">new_data</strong>.to_csv('csv_output')</span></pre><p id="fca3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">文件保存在目录中，验证如下:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es li"><img src="../Images/1c08d79799fe0d00e2ce21b383be8ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/0*6YpF8lFGOt36Cv9_.jpg"/></div></figure><p id="f7fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> iloc </strong></p><p id="d108" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基于数据框中的默认索引检索数据</p><p id="ec36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ky">iloc[startIndex:endIndex:slicing]</em></p><p id="4c0f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">startIndex —需要从哪个索引开始</p><p id="4c40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">endIndex —需要结束的索引</p><p id="10f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">切片-告知在范围之间要跳过多少记录。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="ebcc" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.iloc[0:10]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/c84108a4855d17c885823207eade5a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZF91iED-ycbjSOLo.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">没有切片</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="6728" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.iloc[0:3:2]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/6d3f4af974ba59fce92649d9716be01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7kDYLoo6HvSKTunp.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">带切片</figcaption></figure><p id="c41f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> loc </strong></p><p id="6713" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基于数据框中的列索引检索数据。为了更深入地解释，我将采用一个新的数据集。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="0a8b" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.set_index('education', inplace=True)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/42170b9755123a303eef05c517cc9836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*27hU8FYaIqSDK72E.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">为名为“教育”的列应用索引</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="afdc" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.loc['Bachelors']</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/41241ea611dc7882b00d4268d4344a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DPLXXLmMEjcmj_N1.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">将loc用作单列</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="dbef" class="jz ka hi jv b fi kb kc l kd ke">df.loc[['Bachelors','HS-grad']]</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/886d572f97fe0d2acaebf4616a9aa624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9RG-LIymKcOEPtSD.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">将loc用作多列</figcaption></figure><p id="e9a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">对数据集中的列应用自定义定义</strong></p><p id="d5f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑一下这个场景，每个记录增加10个小时。如何实施？是否要重新访问数据集并修改？你认为那会是最佳解决方案吗？。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/562e4f48e7a98f382954cb8e26bc0da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NPhJzacwIZQQby36.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">变化前</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="4035" class="jz ka hi jv b fi kb kc l kd ke">df['hours-per-week'] = df['hours-per-week'].apply(<strong class="jv hj">lambda</strong> x: x+10)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/264611dbd70659c802949fe0ecf5708e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3CO4t10Mewq3m5EJ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">变更后</figcaption></figure><p id="8d5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一种方法是调用Python函数，如下所示:</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="32d8" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">def manipulateData(x):<br/>    return x-20;</strong></span><span id="3f23" class="jz ka hi jv b fi lp kc l kd ke"><strong class="jv hj">df['hours-per-week'] = df['hours-per-week'].apply(manipulateData)</strong></span></pre><p id="d820" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">下降</strong></p><p id="95ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑这里的数据集</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="78d6" class="jz ka hi jv b fi kb kc l kd ke">df = pd.DataFrame({'A': [1,2,3], 'B':[5, np.nan, 89], 'c':[np.nan,2,3]})</span></pre><p id="3823" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">显示数据</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/e28fe975608deebc4fe1dc1da0e2324a.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/0*9K3WUio3TvKcpUI_.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">数据帧</figcaption></figure><p id="60d1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的目标是移除数据帧中的NaN值。</p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="58b0" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">df</strong>.dropna(axis=1)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/2a2059b8a9d9f3fb13266c8119bcf01f.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/0*zgPVEiscQq8ofCML.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">放下NaN</figcaption></figure><p id="c400" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">axis =1，在行级别查找以删除空值的状态</p><p id="38fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">axis =0，表示要在列级别查找以删除空值的状态</p><p id="9720" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">补楠</strong></p><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="e73b" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">Copy</strong><strong class="jv hj">df</strong>.fillna(3)</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/460a33738de73a2a6830cb8e69476ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/0*FnqkJQRIsyL7pS5V.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">用3填NaN</figcaption></figure><pre class="jp jq jr js fd ju jv jw jx aw jy bi"><span id="8a06" class="jz ka hi jv b fi kb kc l kd ke"><strong class="jv hj">Copy</strong><strong class="jv hj">df</strong>.fillna('Pandas')</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/b90d614f423c44d7158040e2e484bd86.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/0*pHWUik2PSYLFHjFh.png"/></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">用字符串值填充NaN</figcaption></figure><p id="0d50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经介绍了使用Pandas的一些基本实现。因此，将有“N”个库可以在数据集中使用。你感到惊讶。希望我的演练对初学者有所帮助。学习总是好的，但分享知识总是令人愉快的。</p><p id="7f87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝大家学习愉快。</p></div></div>    
</body>
</html>