<html>
<head>
<title>Java 11 in a Nutshell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简而言之，Java 11</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/java-11-in-a-nutshell-f3f452bf2951?source=collection_archive---------6-----------------------#2020-10-11">https://medium.com/analytics-vidhya/java-11-in-a-nutshell-f3f452bf2951?source=collection_archive---------6-----------------------#2020-10-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b9a70167c0ade0f78ac31b42054b8f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ol4QDMB5QYilOliYweRpAA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">布莱克·维斯兹在<a class="ae iu" href="https://unsplash.com/s/photos/java?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2a41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Java 是世界上使用最广泛、需求最大的编程语言之一。自从 1995 年问世以来，Java 一直在不断改进。随着近年来频繁的发布周期，它需要更多的努力来跟上新的发布。</p><p id="5638" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将从一个小的问答部分开始，理清问题，然后用“简单概括”的方法讨论 Java 11 的变化。大约 15 分钟后，您将熟悉 Java 11 的变化。还有一篇文章的<a class="ae iu" href="https://drive.google.com/file/d/1PpNXu4U05uvaT3eRhyI3dhF6Ukza4cl2/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">幻灯片版本</a>。</p><p id="bd47" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们开始吧。</p><h2 id="5d07" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">首先，为什么会有这么多发布？</h2><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/a2625a3956e90b0ea3d695f690636925.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*tTcgZFRDChW4EeLfHislGA.png"/></div></figure><p id="c214" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Oracle 过去每 2 到 3 年发布一个新版本。然而，公司一次采用太多的变化需要付出很大的努力。</p><p id="1285" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Oracle 随后采用了连续发布的方式，并宣布了 6 个月的发布期。从 Java 9 开始，Oracle 每 6 个月发布一个相对较小变化的新 Java 版本。</p><h2 id="14ce" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">什么是 LTS？</h2><p id="61db" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">一个长期版本将会成为几年内的行业标准。即使新的版本在它之后出现，它仍然会得到更新。例如，Java 8 于 2014 年发布，仍然在 2020 年获得更新，并将获得扩展支持，直到 2030 年。</p><h2 id="d8c0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">那么我应该升级到哪个版本呢？</h2><p id="03a9" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">Oracle 强烈建议切换到 Java 11 或最新版本。维基百科下面的部分很重要，</p><blockquote class="ky kz la"><p id="0301" class="iv iw lb ix b iy iz ja jb jc jd je jf lc jh ji jj ld jl jm jn le jp jq jr js hb bi translated">Oracle(和其他公司)“强烈建议您卸载旧版本的 Java”，因为未解决的安全问题会带来严重的风险。由于不再支持 Java 9(和 10)，Oracle 建议其用户“立即过渡”到 Java 11 (Java 15 也是非 LTS 的选项)- <a class="ae iu" href="https://en.wikipedia.org/wiki/Java_(software_platform)" rel="noopener ugc nofollow" target="_blank"> wiki </a></p></blockquote><p id="dd52" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Java 11 是最新的 LTS，直到 2021 年 9 月 Java 17 发布。它向后兼容 Java 8(我们会谈到细节)。除了 Java 8 之外，它还带来了值得注意的特性和改进。</p><h2 id="41c2" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">Java 11 可以免费使用吗？</h2><p id="62b4" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">简而言之，是的。</p><p id="3d60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">困惑来自于许可。有两种类型的许可证。OpenJDK 可以免费使用，而 Oracle JDK 提供长期支持，但需要付费。这些文件的二进制文件几乎完全相同，因此您可以轻松使用 OpenJDK。如果你感兴趣的话，这里的<a class="ae iu" href="https://www.oracle.com/java/technologies/javase/jdk-11-relnote.html#Diffs" rel="noopener ugc nofollow" target="_blank">是 Java 11 差异的完整列表。</a></p><p id="860c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们继续看看 Java 11 带来了什么。</p></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h1 id="3f69" class="lm ju hi bd jv ln lo lp jz lq lr ls kd lt lu lv kg lw lx ly kj lz ma mb km mc bi translated">新功能概述</h1><ol class=""><li id="10fe" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js mi mj mk ml bi translated">HTTP API</li><li id="af5c" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">启动单文件 Java 程序</li><li id="33a8" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">字符串、集合和文件的新库方法</li><li id="3637" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">性能和安全性改进</li><li id="f8f0" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">其他增强功能</li><li id="3adf" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">已删除和已弃用的功能</li></ol><h1 id="134b" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">1.HTTP API</h1><blockquote class="ky kz la"><p id="c655" class="iv iw lb ix b iy iz ja jb jc jd je jf lc jh ji jj ld jl jm jn le jp jq jr js hb bi translated">HTTP API 是一个执行 HTTP 请求的 Java 库。</p></blockquote><h2 id="3a9c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">动机</h2><p id="0e50" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">取代 1997 年 Java 1.1 推出的<code class="du mw mx my mz b">HttpURLConnection</code>，使用和维护都很困难。</p><h2 id="503a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">功能</strong></h2><ul class=""><li id="853a" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated">支持 HTTP/1.1 和 HTTP/2 协议</li><li id="dab4" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated">支持常见的 HTTP 方法，如 GET、POST、PUT、DELETE</li><li id="795c" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated">可以处理同步和异步通信</li></ul><h2 id="2d55" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">如何使用</h2><ol class=""><li id="9a45" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js mi mj mk ml bi translated">创建、初始化和配置<code class="du mw mx my mz b">HttpClient</code></li><li id="c5ab" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">创建并初始化<code class="du mw mx my mz b">HttpRequest</code></li><li id="21e3" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">将<code class="du mw mx my mz b">HttpRequest</code>传递给<code class="du mw mx my mz b">HttpClient</code>，执行请求并检索<code class="du mw mx my mz b">HttpResponse</code></li><li id="2f1e" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js mi mj mk ml bi translated">为您的目的处理<code class="du mw mx my mz b">HttpResponse</code></li></ol><h2 id="ed66" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">例子</h2><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="nb nc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Http Api 示例</figcaption></figure><h1 id="250a" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">2.启动单文件 Java 程序</h1><blockquote class="ky kz la"><p id="439d" class="iv iw lb ix b iy iz ja jb jc jd je jf lc jh ji jj ld jl jm jn le jp jq jr js hb bi translated">Java 11 支持用单个命令执行单个文件 Java 程序。</p></blockquote><h2 id="1772" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">细节</h2><ul class=""><li id="811d" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated">支持初学者友好的 Java 开发和高速原型开发。</li><li id="e83b" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated">它必须是一个单文件程序(有一个或多个类)。</li><li id="c16d" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated">我们不能使用外部依赖。</li></ul><h2 id="b0be" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">如何使用</h2><p id="c568" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">假设我们的文件名是<code class="du mw mx my mz b">MyProgram.java</code>，要执行它，我们只需要使用<code class="du mw mx my mz b">java MyProgram.java</code>。</p><h1 id="af3d" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">3.字符串、集合和文件的新库方法</h1><blockquote class="ky kz la"><p id="9f47" class="iv iw lb ix b iy iz ja jb jc jd je jf lc jh ji jj ld jl jm jn le jp jq jr js hb bi translated">为了方便起见，Java 11 为提到的库添加了一些有用的方法。</p></blockquote><h2 id="4ecb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">字符串 api</h2><ul class=""><li id="7f4b" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj">重复一串</strong>:用<code class="du mw mx my mz b">String.repeat(Integer)</code>重复一串 n 次。示例:<code class="du mw mx my mz b">" ".repeat(10)</code></li><li id="75ba" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj">检查空白/空白</strong>:检查字符串是空的还是只有空白。<code class="du mw mx my mz b">String.isBlank()</code>。如果字符串为空，它将抛出<code class="du mw mx my mz b">NullPointerException</code>。</li><li id="45a3" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj">删除空白</strong>:删除前导<code class="du mw mx my mz b">String.stripLeading()</code>、尾随<code class="du mw mx my mz b">String.stripTrailing()</code>或两个空白<code class="du mw mx my mz b">String.strip()</code></li><li id="ea08" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj">处理多行字符串</strong>:用<code class="du mw mx my mz b">String.lines()</code>将多行<code class="du mw mx my mz b">/n</code>字符串转换成行流</li></ul><h2 id="d8f0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">收集 api</h2><ul class=""><li id="a958" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj">将集合转换成数组</strong>:这个过程在 Java 11 中变得更加容易。例如，用<code class="du mw mx my mz b">students.toArray(String[]::new)</code>将学生列表转换成字符串数组</li></ul><h2 id="e437" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">可选 and 谓词。</h2><ul class=""><li id="d9f8" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj">否定谓词</strong>:我们可以用<code class="du mw mx my mz b">Predicate.not(myCustomPredicate)</code>过滤掉不具备一定条件的元素。</li></ul><h2 id="a25b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">文件 api</h2><ul class=""><li id="d49d" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj">更容易的文件读/写</strong>:多亏了<code class="du mw mx my mz b">Files.readString(path)</code>和<code class="du mw mx my mz b">Files.writeString(path, charSequence, options)</code>我们才能实现这种操作。</li></ul><h1 id="995c" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">4.性能和安全性改进</h1><h2 id="571f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">性能改进</h2><ul class=""><li id="6a9a" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj"> G1 垃圾收集器改进</strong> : G1 是在 Java 7 中引入的，在 Java 9 中成为默认的垃圾收集器。在 Java 11 中，G1 得到了改进，具有更高的性能。Java 11 将暂停时间(由 GC 引起的客户端等待应用程序响应)提高了 60% ( <a class="ae iu" href="https://mail.openjdk.java.net/pipermail/hotspot-gc-use/2018-June/002759.html" rel="noopener ugc nofollow" target="_blank">来源</a>)。</li><li id="97f6" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj"> ZGC </strong>:一个实验性的可扩展的低延迟 GC。它保证了 10 毫秒的最大暂停时间。ZGC 非常适合处理大量数据的应用程序。</li><li id="9ffb" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated">Epsilon:一个实验性的低开销 GC。它非常适合短期应用程序(执行一个命令然后关闭)。</li></ul><h2 id="a446" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">安全改进</h2><ul class=""><li id="352d" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated">最新的传输层安全性(TLS)提高了 HTTPS 的性能和安全性。Java 11 支持 TLS 1.3 协议。</li></ul><h1 id="b185" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">5.其他增强功能</h1><ul class=""><li id="8d1d" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj">在 lambdas </strong>中使用 <code class="du mw mx my mz b"><strong class="ix hj">var</strong></code> <strong class="ix hj">:我们在 Java 10 中遇到过<code class="du mw mx my mz b">var</code>，现在可以在 lambdas 中使用了。这个功能的优点是现在我们可以注释 lambda 变量(例如<code class="du mw mx my mz b">@NotNull</code>)</strong></li><li id="c5ca" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj">采用 Unicode 10 </strong> : Java 11 使用 Unicode 10，是 Java 10 与 Unicode 8 的升级。这包括 16，018 个新角色和 10 个新剧本。</li><li id="fe44" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj">嵌套访问控制</strong>:内部类可以访问外部类的所有私有变量和方法(例如<code class="du mw mx my mz b">Outer.name</code>)。</li><li id="f2e6" class="md me hi ix b iy mm jc mn jg mo jk mp jo mq js na mj mk ml bi translated"><strong class="ix hj"> Java 飞行记录器</strong> : JFR 是一个剖析和诊断(资源使用等。)工具。我们还可以使用 Java Mission Control 来可视化 JFR 提供的数据。</li></ul><h1 id="8eed" class="lm ju hi bd jv ln mr lp jz lq ms ls kd lt mt lv kg lw mu ly kj lz mv mb km mc bi translated">6.已删除和已弃用的功能</h1><h2 id="582d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">移除的功能</h2><p id="4389" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">Java 11 向后兼容 Java 8。因此，您可以快速地从 Java 8 转换到 Java 11。如果您使用下面的一些包，您需要做的就是将替换依赖项添加到您的项目中。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="nb nc l"/></div></figure><p id="30ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，小程序和 Java Web Start 被完全删除，没有替换。如果您正在寻找 Java 桌面应用程序开发，请查看 JavaFX。</p><h2 id="604e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">不推荐使用的功能</h2><ul class=""><li id="0ed8" class="md me hi ix b iy kt jc ku jg mf jk mg jo mh js na mj mk ml bi translated"><strong class="ix hj"> Nashorn JavaScript 引擎:</strong>由于很难保持与 ECMAScript 快速变化的兼容性，现在已经弃用。</li></ul></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h2 id="5fc2" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">结论</h2><p id="0575" class="pw-post-body-paragraph iv iw hi ix b iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo kx jq jr js hb bi translated">Java 11 是最新的 LTS 版本，在以前版本的基础上引入了有益的特性和改进。引入了新的 HTTP 客户端、新的字符串、集合、谓词和文件库方法。此外，垃圾收集器的性能得到了优化，还有两个新的垃圾收集器，ZGC 和艾司隆。</p><p id="8817" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想学习 Java 的所有方面，请随意查看我的<a class="ae iu" rel="noopener" href="/@hakaneroztekin/java-in-a-nutshell-a-quick-review-guide-of-important-topics-of-java-962cbf62b761"> Java 简介</a>文章。</p><p id="dd90" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编码快乐！</p></div></div>    
</body>
</html>