<html>
<head>
<title>Parallax Images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è§†å·®å›¾åƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/parallax-images-14e92ebb1bae?source=collection_archive---------8-----------------------#2020-11-22">https://medium.com/analytics-vidhya/parallax-images-14e92ebb1bae?source=collection_archive---------8-----------------------#2020-11-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="f84c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">çœ‹å¾…æ— èŠçš„2Då›¾åƒçš„æ–°æ–¹æ³•</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/b68ea61990739e840f90fa76ac9ff5d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*T2UzD6ZjHrkmCaJzcSSd7g.gif"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">è§†å·®å›¾åƒæ¼”ç¤º</figcaption></figure><p id="6c1c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æˆ‘ä»¬éƒ½çœ‹è¿‡3Dç”µå½±ï¼Œå¹»è§‰å›¾åƒï¼Œä»¥åŠå®ƒä»¬çœ‹èµ·æ¥æœ‰å¤šå¥½çš„è¯€çªï¼Œè¿™ç»™äº†æˆ‘ä¸€ä¸ªæƒ³æ³•ï¼Œè®©æˆ‘åˆ¶ä½œä¸€äº›å·¥å…·ï¼Œå½“ç”¨æˆ·ç§»åŠ¨ä»–çš„å¤´éƒ¨æ—¶ï¼Œå›¾åƒå¯ä»¥æ”¹å˜å®ƒä»¬çš„è§†è§’ã€‚æƒ³è±¡ä¸€ä¸‹å®ƒçœ‹èµ·æ¥æœ‰å¤šé…·ã€‚</p><p id="eb40" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</strong> <br/>æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰æœ¯è¯­<a class="ae kf" href="https://en.wikipedia.org/wiki/Parallax#:~:text=Parallax%20(from%20Ancient%20Greek%20%CF%80%CE%B1%CF%81%CE%AC%CE%BB%CE%BB%CE%B1%CE%BE%CE%B9%CF%82,inclination%20between%20those%20two%20lines." rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">è§†å·®</strong> </a>å®ƒåªæ˜¯ç‰©ä½“è¡¨è§‚ä½ç½®çš„ä¸åŒå˜åŒ–é‡ï¼Œè¿™å–å†³äºæˆ‘ä»¬ç¦»å®ƒæœ‰å¤šè¿œã€‚</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/7e721769bb3ec5cd576812b0b51769d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BRiv1s96yDOQREyHXT72TA.jpeg"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">è§†å·®</figcaption></figure><p id="6250" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬èƒ½åœ¨2Då›¾åƒä¸­è·å¾—ç›¸åŒçš„æ•ˆæœï¼Œå³å›¾åƒçš„ä¸åŒå±‚æœ‰ä¸åŒçš„ç§»åŠ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½åœ¨è¿™äº›å›¾åƒä¸­è·å¾—æ·±åº¦æ„Ÿå’Œæˆ‘ä»¬æƒ³è¦çš„é…·æ•ˆæœã€‚</p><h1 id="fe98" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated"><strong class="ak">æˆ‘ä»¬æ¥åˆ†è§£ä¸€ä¸‹æµç¨‹</strong></h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ld"><img src="../Images/2a432f959c071cfe750e394c1377cc8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*YRE9NHt8zeeUpyj3KVztqA.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">æ·±åº¦å›¾</figcaption></figure><p id="82ed" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æ‰€ä»¥é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸€å¼ å›¾åƒåˆ†æˆä¸åŒçš„å±‚ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸€å¼ 2Då›¾åƒçš„æ·±åº¦å›¾ã€‚<a class="ae kf" href="https://en.wikipedia.org/wiki/Depth_map" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">æ·±åº¦å›¾</strong> </a>æ˜¯ç®€å•çš„é»‘ç™½å›¾åƒï¼Œå…¶ä¸­å›¾åƒçš„ç™½åº¦è¡¨æ˜å¯¹è±¡ç¦»è§†ç‚¹æœ‰å¤šè¿‘ã€‚åœ¨æˆ‘ä»¬å¾—åˆ°åŸºæœ¬å›¾å±‚åï¼Œæˆ‘ä»¬éœ€è¦<a class="ae kf" href="https://en.wikipedia.org/wiki/Inpainting#:~:text=Inpainting%20is%20a%20conservation%20process,to%20present%20a%20complete%20image." rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">ä¿®è¡¥</strong> </a>æ¯ä¸ªå›¾å±‚ä¸­ç¼ºå¤±çš„éƒ¨åˆ†ã€‚æœ€åï¼Œæˆ‘ä»¬å°†ä¸€å¼ å›¾ç‰‡åˆ†æˆä¸åŒçš„å›¾å±‚ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºä¸åŒçš„å±‚ï¼Œå®ƒä»¬çœ‹èµ·æ¥å’ŒåŸå§‹å›¾åƒä¸€æ ·ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„ç›¸æœºè¿›è¡Œ<strong class="jl hj">é¢éƒ¨æ£€æµ‹</strong>å¹¶æµ‹é‡ç”¨æˆ·å¤´éƒ¨çš„ç§»åŠ¨ï¼Œç„¶åç§»åŠ¨è¿™äº›å±‚ä»¥åŒ¹é…æ–°çš„è§†ç‚¹ã€‚</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><h1 id="17b9" class="kl km hi bd kn ko ll kq kr ks lm ku kv io ln ip kx ir lo is kz iu lp iv lb lc bi translated"><strong class="ak">è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç¼–å†™è¿™ä¸ªå·¥å…·çš„ä»£ç </strong></h1><p id="73d6" class="pw-post-body-paragraph jj jk hi jl b jm lq ij jo jp lr im jr js ls ju jv jw lt jy jz ka lu kc kd ke hb bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥ä¸€äº›æ–‡ä»¶ï¼Œå°†è¿™æ®µä»£ç å¤åˆ¶åˆ°æ‚¨çš„æ–‡ä»¶ä¸­ã€‚<br/>æˆ‘æ¨èä½¿ç”¨4.1.0.25ç‰ˆæœ¬çš„OpenCVï¼Œå› ä¸ºä»¥åçš„ç‰ˆæœ¬åœ¨ä½¿ç”¨face_cascadeçš„æ—¶å€™bugå¾ˆå°‘ã€‚å¯¹äºå…¶ä»–åº“ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•ç‰ˆæœ¬ï¼Œä½†å°½é‡ä½¿ç”¨è¾ƒæ–°çš„ç‰ˆæœ¬ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="9294" class="ma km hi lw b fi mb mc l md me">import os, sys</span><span id="08a7" class="ma km hi lw b fi mf mc l md me">import numpy as np<br/>import pygame as pg<br/>import cv2</span></pre><p id="fc49" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åŠ è½½å›¾åƒå’Œ<strong class="jl hj">æ·±åº¦å›¾</strong>å¹¶è°ƒæ•´å®ƒä»¬çš„å¤§å°ä»¥åŒ¹é…å°ºå¯¸ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„ä»£ç æä¾›ä¸€ä¸ªæ·±åº¦å›¾ï¼Œä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹<a class="ae kf" href="https://github.com/intel-isl/MiDaS" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj"/></a>æ¥ç”Ÿæˆä½ è‡ªå·±çš„æ·±åº¦å›¾ï¼Œæˆ‘å·²ç»åœ¨æˆ‘çš„ä¸»å·¥å…·ä¸­ä½¿ç”¨äº†å®ƒã€‚å¯ä»¥çœ‹çœ‹æˆ‘çš„<a class="ae kf" href="https://github.com/strikeraryu/Parallax_Image" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj"> GitHubå›è´­</strong> </a>ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="5b67" class="ma km hi lw b fi mb mc l md me">img = cv2.imread('moon.jpg', flags=cv2.CV_8UC4)<br/>depth_map = cv2.imread('moon_depth_map.png')<br/>depth_map = cv2.cvtColor(depth_map,cv2.COLOR_RGB2GRAY)<br/>img = cv2.resize(img, depth_map.shape[:2])</span></pre><div class="iy iz ja jb fd ab cb"><figure class="mg jc mh mi mj mk ml paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><img src="../Images/e379ae83f4aa6e63084905e24402c0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*41zyuBp44yolCGsm9szgmA.jpeg"/></div></figure><figure class="mg jc mh mi mj mk ml paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><img src="../Images/ec57e357aac07f25c8c21c4ea1b8f409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*-Zq9r6gFsPzSeogDv6W4hA.png"/></div></figure></div><p id="7be4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ç°åœ¨ï¼Œåœ¨æˆ‘ä»¬å·²ç»åŠ è½½äº†æ·±åº¦å›¾ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ä¸åŒçš„é˜ˆå€¼å¯¹æ·±åº¦å›¾è¿›è¡Œé˜ˆå€¼å¤„ç†æ¥ä¸ºä¸åŒçš„å±‚åˆ›å»ºé®ç½©ã€‚åˆ¶ä½œä¸€ä¸ªå›¾å±‚æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªè’™ç‰ˆï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªå›¾å±‚çš„è’™ç‰ˆï¼Œå¦ä¸€ä¸ªæ˜¯å‰ä¸€ä¸ªå›¾å±‚çš„è’™ç‰ˆï¼Œç”¨æ¥ä¿®è¡¥ç¼ºå¤±çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬å°†é‡‡å–å¾ªç¯å¤–çš„æœ€åä¸€å±‚ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æå–è¿™ä¸€å±‚çš„æ‰€æœ‰å‰©ä½™éƒ¨åˆ†ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="cdec" class="ma km hi lw b fi mb mc l md me">   <br/>layers = []     <br/>prev_thres = 255<br/>div=30<br/>     <br/>for thres in range(255 - div, 0, -div):        <br/>   ret, mask = cv2.threshold(depth_map, thres, 255,          cv2.THRESH_BINARY)<br/>        <br/>   ret, prev_mask = cv2.threshold(depth_map, prev_thres, 255, cv2.THRESH_BINARY)  <br/>       <br/>   prev_thres = thres        <br/>   inpaint_img = cv2.inpaint(img, prev_mask, 10, cv2.INPAINT_NS)<br/>   layer = cv2.bitwise_and(inpaint_img, inpaint_img, mask = mask) </span><span id="f9f7" class="ma km hi lw b fi mf mc l md me">   layers.append(conv_cv_alpha(layer, mask))  <br/>    <br/># adding last layer <br/>   <br/>mask = np.zeros(depth_map.shape, np.uint8)    <br/>mask[:,:] = 255   <br/> <br/>ret, prev_mask = cv2.threshold(depth_map, prev_thres, 255, cv2.THRESH_BINARY)<br/>     <br/>inpaint_img = cv2.inpaint(img, prev_mask, 10, cv2.INPAINT_NS)    layer = cv2.bitwise_and(inpaint_img, inpaint_img, mask = mask)</span><span id="5ecf" class="ma km hi lw b fi mf mc l md me">layers.append(conv_cv_alpha(layer, mask))<br/>     <br/>layers = layers[::-1]</span></pre><p id="d54f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æˆ‘ä»¬å·²ç»é¢ å€’äº†è¿™äº›å±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»æœ€åä¸€å±‚<strong class="jl hj">åˆ°ç¬¬ä¸€å±‚</strong>çš„é¡ºåºæ’åˆ—å®ƒä»¬ã€‚å½“æˆ‘ä»¬å°†å›¾å±‚æ·»åŠ åˆ°åˆ—è¡¨ä¸­æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå‡½æ•°'<strong class="jl hj">conv _ cv _é˜¿å°”æ³•</strong>'ï¼Œè¿™å°†æ·»åŠ é˜¿å°”æ³•å€¼<strong class="jl hj">(å°†RGBå˜ä¸ºRGBA) </strong>ï¼Œå¹¶ä½¿ç”¨è’™ç‰ˆä½¿å›¾å±‚çš„ä¸€éƒ¨åˆ†å˜å¾—é€æ˜ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="1fde" class="ma km hi lw b fi mb mc l md me">def conv_cv_alpha(cv_image, mask):    <br/>    b, g, r = cv2.split(cv_image)    <br/>    rgba = [r, g, b, mask]    <br/>    cv_image = cv2.merge(rgba,4)    <br/>          <br/>    return cv_image</span></pre><p id="935a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ç°åœ¨æ˜¯äººè„¸æ£€æµ‹å’Œæ˜¾ç¤ºå›¾åƒçš„éƒ¨åˆ†ã€‚å¯¹äºäººè„¸æ£€æµ‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae kf" href="http://www.willberger.org/cascade-haar-explained/#:~:text=Haar%20Cascade%20is%20a%20machine,of%20Simple%20Features%22%20in%202001." rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">Haar scade</strong></a>ã€‚ä»ä»–ä»¬çš„å®˜æ–¹<a class="ae kf" href="https://github.com/opencv/opencv/blob/master/data/haarcascades/haarcascade_frontalface_default.xml" rel="noopener ugc nofollow" target="_blank"> Githubåº“</a>ä¸‹è½½å®ƒä»¬ã€‚</p><p id="3297" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">è¦ä¸‹è½½å®ƒä»¬ï¼Œå³é”®å•å‡»â€œRawâ€= &gt;â€œå°†é“¾æ¥å¦å­˜ä¸ºâ€ã€‚ç¡®ä¿å®ƒä»¬åœ¨æ‚¨çš„å·¥ä½œç›®å½•ä¸­ã€‚</p><p id="00a1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åŠ è½½haar cascadeè¿›è¡Œäººè„¸æ£€æµ‹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªä»å›¾åƒä¸­è¿”å›äººè„¸çŸ©å½¢çš„å‡½æ•°ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="22d1" class="ma km hi lw b fi mb mc l md me">face_cascade = cv2.CascadeClassifier( 'haarcascade_frontalface_default.xml')   <br/><br/>def get_face_rect(img):    <br/>    gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)    <br/>    face_rects = face_cascade.detectMultiScale(gray_img, 1.3, 5)<br/>    if len(face_rects) == 0:         <br/>        return ()</span><span id="3d6e" class="ma km hi lw b fi mf mc l md me">    return face_rects[0]</span></pre><p id="fad5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ç°åœ¨æˆ‘ä»¬è¦å±•ç¤ºçš„å›¾åƒä¼šæ ¹æ®ç”¨æˆ·çš„å¤´éƒ¨ç§»åŠ¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong class="jl hj"> OpenCV </strong>è¯»å–camï¼Œç„¶åä½¿ç”¨<strong class="jl hj"> Pygame </strong>æ¸²æŸ“æ¯ä¸€å¸§ã€‚ä¸ºäº†è®¡ç®—æ¯ä¸€å±‚çš„åç§»ï¼Œæˆ‘ä»¬å°†è®¡ç®—å¤´éƒ¨ä»å¸§ä¸­å¿ƒçš„åç§»ï¼Œç„¶åå°†å…¶ç¼©å°ä»¥è·å¾—ä¸€ä¸ªå°çš„åç§»å€¼ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†ä¹˜ä»¥æ¯ä¸ªå±‚çš„ç´¢å¼•å€¼ï¼Œä»¥è·å¾—ç›¸åº”å±‚çš„åç§»å€¼ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¹˜ä»¥ä¸€äº›å¸¸é‡å€¼ï¼Œä»¥è·å¾—æ›´å¥½çš„ç»“æœã€‚</p><p id="04e8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ¯”åŸå§‹å›¾åƒç•¥å°çš„Pygameçª—å£ï¼Œå¹¶åŠ è½½ç›¸æœºã€‚æˆ‘ä»¬å·²ç»ä½¿ç”¨äº†<strong class="jl hj"> scale </strong>ï¼Œæ‰€ä»¥ä½ æ”¹å˜å®ƒçš„å€¼ä½¿æœ€ç»ˆç»“æœå˜å¤§ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="3c4f" class="ma km hi lw b fi mb mc l md me">scale = 1<br/>off_set = 20</span><span id="6e80" class="ma km hi lw b fi mf mc l md me">width, height = layers[0].get_width(), layers[0].get_height()        win = pg.display.set_mode((int((width - off_set)*scale), int((height - off_set)*scale)))    <br/>pg.display.set_caption('Parallax_image')</span><span id="326f" class="ma km hi lw b fi mf mc l md me">scaled_layers = []    <br/>for layer in layers: <br/>             scaled_layers.append(pg.transform.scale(layer, (int(width*scale), int(height*scale))))</span><span id="d55e" class="ma km hi lw b fi mf mc l md me">cap = cv2.VideoCapture(0, cv2.CAP_DSHOW)</span></pre><p id="26aa" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æˆ‘ä»¬å°†è®¾ç½®ä¸€äº›å¸¸æ•°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›å¸¸é‡æ¥è·å¾—ä¸åŒçš„ç»“æœã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="88f8" class="ma km hi lw b fi mb mc l md me">x_transform = True     # allow shift in x-axis<br/>y_transform = False    # allow shift in y-axis<br/>sens = 50              # the amount of scale down of shift value<br/>show_cam = False       # show your face cam<br/>shift_x = 0    <br/>shift_y = 0    <br/>run = True</span></pre><p id="c850" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æœ€åï¼Œä¸»å¾ªç¯æ¸²æŸ“æ‰€æœ‰å±‚ã€‚</p><pre class="iy iz ja jb fd lv lw lx ly aw lz bi"><span id="1594" class="ma km hi lw b fi mb mc l md me">while run:<br/>    for event in pg.event.get():<br/>        if event.type==pg.QUIT:<br/>            run = False</span><span id="9e51" class="ma km hi lw b fi mf mc l md me">    ret, frame = cap.read()<br/>    frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)<br/>    initial_pos = (frame.shape[0]/2, frame.shape[1]/2)<br/>    face_rect = get_face_rect(frame)</span><span id="1cbd" class="ma km hi lw b fi mf mc l md me">    if len(face_rect) != 0:<br/>        x,y,w,h, = face_rect<br/>        face_rect_frame = cv2.rectangle(frame, (x, y), (x + w, y + h), (255,255,0), 3)</span><span id="ae2d" class="ma km hi lw b fi mf mc l md me">        shift_x = (initial_pos[0] - (x + w/2))/(sens*scale)<br/>        shift_y = (initial_pos[1] - (y + h/2))/(sens*scale)</span><span id="db22" class="ma km hi lw b fi mf mc l md me">    win.fill((255, 255, 255))<br/>                 <br/>    for i, layer in enumerate(scaled_layers):<br/>        new_x = -off_set/2<br/>        new_y = -off_set/2<br/>        if x_transform:<br/>            new_x = 0 + shift_x*i<br/>        if y_transform:<br/>            new_y = 0 + shift_y*i<br/>        win.blit(layer, (new_x, new_y)) <br/>        <br/>   face_rect_frame = cv2.resize(face_rect_frame, (100, 100))<br/>   if show_cam:<br/>       win.blit(conv_cv_pygame(face_rect_frame), (0, 0))<br/>   pg.display.update()</span><span id="ac76" class="ma km hi lw b fi mf mc l md me">cap.release()<br/>cv2.destroyAllWindows()<br/>pg.quit()</span></pre><p id="6547" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">è¿™å°±æ˜¯æœ€ç»ˆç»“æœã€‚</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/6314651d04ac7d8110f1971a9f3d263a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*H6L0UFuTpWzD_IB0EFqSvg.gif"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">å†³èµ›æˆç»©</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/c46d5fa3d26c255160df71d94e1dfc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*24XN55FuLp0IKIa3PQefPw.gif"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">ä¸åŒå›¾åƒçš„æ¼”ç¤º</figcaption></figure><p id="028d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">æˆ‘å·²ç»åˆ›å»ºäº†è¿™ä¸ªå·¥å…·çš„ä¸€ä¸ªæ›´é«˜çº§çš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥é€‰æ‹©å›¾åƒï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»ºè§†å·®å›¾åƒï¼Œæ·±åº¦å›¾ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p><p id="7299" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ä½ å¯ä»¥åœ¨æˆ‘çš„<a class="ae kf" href="https://github.com/strikeraryu/Parallax_Image" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj"> GitHub </strong> </a>å›è´­ä¸ŠæŸ¥çœ‹æ›´å¤šã€‚</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="c139" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">è¯·éšæ—¶è”ç³»æˆ‘ğŸ”¥ã€‚<strong class="jl hj"/><a class="ae kf" href="https://www.linkedin.com/in/aryamaan-jain-9330a8190/" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">LinkedIn</strong></a><strong class="jl hj"/><a class="ae kf" href="https://twitter.com/striker_aryu" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">Twitter</strong></a><strong class="jl hj"/><a class="ae kf" href="https://www.instagram.com/striker_aryu/?hl=en" rel="noopener ugc nofollow" target="_blank"><strong class="jl hj">insta gram</strong></a></p><p id="6aa6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">ä½ å¯ä»¥æ£€æŸ¥æˆ‘çš„å…¶ä»–é¡¹ç›®ï¼Œå¹¶ç»§ç»­å…³æ³¨æ›´å¤šã€‚ğŸ‘€</p></div></div>    
</body>
</html>