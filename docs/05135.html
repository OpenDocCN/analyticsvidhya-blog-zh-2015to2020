<html>
<head>
<title>Sentiment Analysis with NLTK, TextBlob and Flair</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NLTK、TextBlob和Flair进行情感分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/sentiment-analysis-with-nltk-textblob-and-flair-a321d1460867?source=collection_archive---------6-----------------------#2020-04-12">https://medium.com/analytics-vidhya/sentiment-analysis-with-nltk-textblob-and-flair-a321d1460867?source=collection_archive---------6-----------------------#2020-04-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2ff63a566872403bdbaf0f9447c2baef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*duDGpI2i4a88QEiozdauog.png"/></div></div></figure><h1 id="37e6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="1b39" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">如果你曾经对情感分析或自然语言处理(NLP)模型如何帮助你确定一个特定的文本块是否有积极、消极或中性的情感感到好奇，本指南将帮助你开始。在我们开始之前，让我们先来讨论一下如何运行下面的代码示例。<a class="ae km" href="https://colab.research.google.com/notebooks/intro.ipynb" rel="noopener ugc nofollow" target="_blank">谷歌合作者</a>提供在谷歌云服务上执行代码的笔记本。我强烈推荐给初学者。如果你有谷歌账号，你可以在你的硬盘里找到它。否则，您可以在本地机器上使用<a class="ae km" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> Conda </a>环境和<code class="du kn ko kp kq b">pip install</code>模块。此外，我将使用<a class="ae km" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>进行可视化。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/628bc755d4a14e45320971cfed2b06d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JhGIa8YIUqBQfn59o46mJw.png"/></div></div></figure><p id="3138" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jz ky kb kc kd kz kf kg kh la kj kk kl hb bi translated">下面这篇文章的目的是教读者三种常用的方法来开始情感分析。我会提供一些代码，你将能够在Colab或Conda环境中运行。此外，我将讨论如何解释情感指标，并做一些可视化。这篇文章是为那些刚刚开始进入这个迷人的话题的人而写的，绝不是一个深入的探讨。最后，鉴于情绪分析通常用于推文，我选择了一条我特别喜欢的推文。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/d4569436798c84c32a5ca8357b3009a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*xqtCXDot1VE4cHTTgKh3MA.png"/></div></figure><h1 id="9965" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">NLTK</h1><p id="3c12" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">从文本中提取情感分数的一种流行方法是NLTK Vader。Vader是一个基于词汇和规则的情绪分析工具，专门针对社交媒体平台上最常见的情绪进行校准。当计算一个<code class="du kn ko kp kq b">polarity score</code>时，Vader输出四个度量:<code class="du kn ko kp kq b">compound, negative, neutral</code>和<code class="du kn ko kp kq b">positive</code>。<code class="du kn ko kp kq b">compound</code>分数计算所有词汇等级的总和，在<code class="du kn ko kp kq b">-1 (most negative)</code>和<code class="du kn ko kp kq b">+1 (most positive). Positive</code>之间标准化，<code class="du kn ko kp kq b">negative</code>和<code class="du kn ko kp kq b">neutral</code>代表属于这些类别的文本的比例。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="lc ld l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">NLTK代码示例</figcaption></figure><pre class="ks kt ku kv fd li kq lj lk aw ll bi"><span id="8feb" class="lm ir hi kq b fi ln lo l lp lq">OUTPUT:<br/>{‘neg’: 0.0, ‘neu’: 0.571, ‘pos’: 0.429, ‘compound’: 0.8176}</span></pre><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/5feaa0d3fbc8d245f462adddf5803982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rcXyFo7HeVPImHWMCgwhGw.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">NLTK可视化</figcaption></figure><h1 id="2dce" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">文本Blob</h1><p id="b29b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">另一种以直接方式提供文本处理操作的技术称为TextBlob。以下方法不同于Vader，它返回一个带有<code class="du kn ko kp kq b">polarity</code>和<code class="du kn ko kp kq b">subjectivity</code>分数的<code class="du kn ko kp kq b">namedtuple</code>。主观性得分将在<code class="du kn ko kp kq b">[0.0, 1.0]</code>之间。得分<code class="du kn ko kp kq b">0.0</code>表示文本非常客观，得分<code class="du kn ko kp kq b">1.0</code>表示文本非常主观。<code class="du kn ko kp kq b">polarity</code>得分在<code class="du kn ko kp kq b">[-1.0, 1.0]</code>之间，当得分低于零时表示负面评价，当得分高于零时表示正面情绪。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="lc ld l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">TextBlob代码示例</figcaption></figure><pre class="ks kt ku kv fd li kq lj lk aw ll bi"><span id="d9e8" class="lm ir hi kq b fi ln lo l lp lq">OUTPUT:<br/>Sentiment(polarity=0.8, subjectivity=0.2)</span></pre><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/402fbafc9ffb42894fe12998534f472a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XDlo_OoZwsi_Ya70x5GliQ.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">TextBlob可视化</figcaption></figure><h1 id="e844" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">天资</h1><p id="38d4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">最后，<a class="ae km" href="https://github.com/flairNLP/flair" rel="noopener ugc nofollow" target="_blank"> Flair </a>允许您将最先进的自然语言处理(NLP)模型应用于文本部分。它的工作方式与前面提到的模型完全不同。Flair利用预先训练的模型来检测正面或负面的评论，并在标签后面的括号中打印一个数字，这是一个预测置信度。</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="lc ld l"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">Flair代码示例</figcaption></figure><pre class="ks kt ku kv fd li kq lj lk aw ll bi"><span id="26b2" class="lm ir hi kq b fi ln lo l lp lq">OUTPUT:<br/>[NEGATIVE (0.9654256105422974)]</span></pre><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/48569122f8698b44727b3b9c8af077c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UmIl3kOoAaOnPv-k8DmD8w.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">Flair可视化</figcaption></figure><h1 id="5bd8" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">结论</h1><p id="c97f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">使用自然语言处理模型对特定文本进行情感分析对于数据科学来说是一个强大的工具。例如，使用这些情感分析工具向<a class="ae km" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank"> pandas DataFrame </a>添加特征，这是为了让机器学习模型预测在评论部分发布文本是否安全，这对初学者来说是一个好项目。我鼓励读者尝试自己运行代码，并将包括我的Colab <a class="ae km" href="https://colab.research.google.com/drive/1EBRj83Lx8u2VjblyCSqec5u37MRRrhnF" rel="noopener ugc nofollow" target="_blank">笔记本</a>。</p><h2 id="e685" class="lm ir hi bd is lu lv lw iw lx ly lz ja jz ma mb je kd mc md ji kh me mf jm mg bi translated">参考</h2><ol class=""><li id="dbaa" class="mh mi hi jq b jr js jv jw jz mj kd mk kh ml kl mm mn mo mp bi translated">休顿，C.J .和吉尔伯特，E.E. (2014年)。<a class="ae km" href="https://www.nltk.org/_modules/nltk/sentiment/vader.html" rel="noopener ugc nofollow" target="_blank"> VADER </a>:一个基于简约规则的社交媒体文本情感分析模型。第八届网络日志和社交媒体国际会议。密歇根州安阿伯，2014年6月。</li><li id="e727" class="mh mi hi jq b jr mq jv mr jz ms kd mt kh mu kl mm mn mo mp bi translated"><a class="ae km" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank"> TextBlob </a>，2017，<a class="ae km" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank">https://textblob.readthedocs.io/en/dev/</a></li><li id="42f7" class="mh mi hi jq b jr mq jv mr jz ms kd mt kh mu kl mm mn mo mp bi translated">天赋:一个用于最先进的自然语言处理的易用框架。计算语言学协会北美分会2019年会议录(演示)。2019.</li></ol></div></div>    
</body>
</html>