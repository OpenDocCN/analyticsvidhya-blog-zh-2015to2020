<html>
<head>
<title>A Violin tells more stories than a Box</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一把小提琴比一个盒子讲述更多的故事</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-violin-is-better-f7068129a14?source=collection_archive---------20-----------------------#2020-11-03">https://medium.com/analytics-vidhya/a-violin-is-better-f7068129a14?source=collection_archive---------20-----------------------#2020-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/da595a76d024e576021a2eb3d4980d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4FWq0Xfmh-s6lvOo"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹金</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="ce38" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">在某些时候，大多数数据科学家都使用过或熟悉箱形图。这是一个简单的图表，直观地突出了数据清理和EDA的异常值。然而；有时，您可能想要一个信息量更大的图表，而又不牺牲箱线图的简单性。</strong></p><p id="9354" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">别担心，有个解决办法。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="ee90" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">首先我们来谈谈盒图及其局限性。</h1><p id="115e" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">箱型剧情插画在一定程度上是很棒的。如前所述，如果您想要快速查看异常值的数量，那么盒状图很容易实现。</p><p id="cae6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我将使用来自Kaggle.com的<a class="ae iu" href="https://www.kaggle.com/jsphyg/tipping?select=tips.csv" rel="noopener ugc nofollow" target="_blank"> Tips数据集</a>。</p><p id="b8df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是一些箱线图:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="920f" class="lm kb hi li b fi ln lo l lp lq">df = pd.read_csv("tips.csv")</span><span id="37bf" class="lm kb hi li b fi lr lo l lp lq">data = df["total_bill"]<br/>data1 = df["tip"]</span><span id="ade0" class="lm kb hi li b fi lr lo l lp lq">fig, ax = plt.subplots(figsize = (10,4))<br/>ax.set_title('Box Plot of Total Bills')<br/>sns.boxplot(data);</span><span id="d691" class="lm kb hi li b fi lr lo l lp lq">fig, ax = plt.subplots(figsize = (10,4))<br/>ax.set_title('Box Plot of Tips')<br/>sns.boxplot(data1);</span></pre><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/b3e3e698533828fa0102c04521829985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*mkia--w9BLz6xW1QEfSqhA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1</figcaption></figure><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/345c332fecb88709c1c11d130a0067a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*eyj5scUw6q1FctwkxBbpdg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图2</figcaption></figure><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="f5a1" class="lm kb hi li b fi ln lo l lp lq">fig, ax = plt.subplots(figsize = (8,6))<br/>sns.boxplot(x="day", y="total_bill", data=df)<br/>ax.set_title('Tips by Day');</span></pre><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/cd2e42f8266bdc3be0347cafe54afb0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*TdE_d8hcAdgBLyPoPo6SJw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图3</figcaption></figure><p id="63b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，箱线图并不能说明数据的分布。这类似于安斯科姆的四重奏 视觉辅助演示数字说谎<em class="lu">，</em>，而在这种情况下，方框图说谎。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/b174fdc7526f550e6046ffc4a5af4636.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-BQP4X78hMbIcSdQcjjfqg.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.autodesk.com/research/publications/same-stats-different-graphs" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="60a9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">即使数据在变化，盒图也不会改变，因为从技术上讲，盒子反映了数据的变化，只是我们看不到而已。</p><h2 id="1447" class="lm kb hi bd kc lw lx ly kg lz ma mb kk jg mc md ko jk me mf ks jo mg mh kw mi bi translated">解决这个问题的方法是用小提琴情节。</h2><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/3392b3dbad80778086721007fb633ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*G5GJ9_M68FBFeZB2wePnjQ.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.autodesk.com/research/publications/same-stats-different-graphs" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="ad3e" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">什么是小提琴情节？</h1><p id="6308" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">小提琴图就像是盒子图和密度图的混合体。它展示了内核密度估计的形状，以捕捉数据的分布，以及来自箱线图的重要视觉描述。</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="mk ml l"/></div></figure><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/e56ac6edbdc8379d3d6ed2de3f91bdc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*xPWlWE3YyBC42JqfJZdlmQ.png"/></div></figure><h1 id="32e4" class="ka kb hi bd kc kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx bi translated">如何读懂一个小提琴的剧情？</h1><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es ms"><img src="../Images/ebddccd1b0d849a2325b03c0e745d9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*TTMOaNG1o4PgQd-e8LurMg.png"/></div></figure><p id="3911" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">小提琴剧情的演绎和盒子剧情很像。它使用相同的汇总统计数据来解释图表中发生的情况。然而，主要的区别是将KDE纳入箱线图，其解释如下:</p><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es mt"><img src="../Images/f514644d4f73bc3bbb74495b7e72f57f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*xu5789vPmULHmyKrqAq32Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://mode.com/blog/violin-plot-examples/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="ce5e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一个展示小提琴情节力量的例子是:</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="b1e8" class="lm kb hi li b fi ln lo l lp lq">fig, ax = plt.subplots(1,2,figsize = (10,4))<br/>ax[0].set_title("Box Plot")<br/>sns.boxplot(x="day", y="total_bill", hue="smoker",<br/>                    data=df, ax=ax[0]);</span><span id="cd85" class="lm kb hi li b fi lr lo l lp lq">ax[1].set_title("Violin Plot")<br/>sns.violinplot(x="day", y="total_bill", hue="smoker",<br/>                    data=df, split=True, ax=ax[1]);</span></pre><figure class="ld le lf lg fd ij er es paragraph-image"><div class="er es mu"><img src="../Images/d8b086252f09da03b429e17dcc31324a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*w4jqMIDpCpF1yntnlRXn-Q.png"/></div></figure><p id="d8f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的例子中，violin plot允许你分割violin和取消图表的混乱。所以，读起来很轻松，不会过度刺激。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="af2e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望到现在为止，我已经让你重新思考盒状图。还是那句话，方框图有一个时间和地点，但是使用它是正确的吗？</p><p id="414f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Seaborn <a class="ae iu" href="https://seaborn.pydata.org/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>很神奇，非常容易理解。小提琴图有很多参数可以使用，并且可以提供比我上面提到的更多的信息。</p></div></div>    
</body>
</html>