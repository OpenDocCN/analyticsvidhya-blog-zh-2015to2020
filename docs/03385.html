<html>
<head>
<title>Classification Metrics 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类指标101</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/classification-metrics-101-c7b5da9cb21d?source=collection_archive---------19-----------------------#2020-01-28">https://medium.com/analytics-vidhya/classification-metrics-101-c7b5da9cb21d?source=collection_archive---------19-----------------------#2020-01-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们通过首先介绍我们的混淆矩阵来谈论分类度量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/14ff6ae7b63cdcf1a8b69b75522b59b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aVKgKxkTIsQ9rssXj_2RgQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">这是我创建的一个典型的混淆矩阵样本。请注意，这些数字没有任何意义，它们只是作为例子。</figcaption></figure><p id="f78f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">混淆矩阵通常遵循这种布局，你有一个2 x 2矩阵，列是你预测的正面和负面，行是你实际的正面和负面。请记住，这些是关于我们的<em class="jt"> Y </em>变量。</p><p id="a7a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有许多度量标准，但我们将探索更多关于表面水平的内容，以使它对像我这样没有数学学位、学习过线性代数和抽象数学的人友好。我们要做的就是处理我们的混淆矩阵，并引入一些别名和公式。</p><p id="b43e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的混淆矩阵中，我们有四个数字:10、20、30和40。请记住，这些数字没有任何意义，但是当你自己构建一个混淆矩阵时，它们可能代表你的实际<em class="jt"> Y </em>值与你从你创建的模型中预测的<em class="jt"> Y </em>值。如果我们回到第一次学习乘法表的时候，你把一个手指放在上面，一个手指放在左边。两者走一条直线，直到你的手指相遇(至少我是这么被教的)。</p><p id="d1b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的示例中:</p><ul class=""><li id="4043" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">10 =预测阳性和实际阳性</li><li id="e8e1" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">30 =预测正值和实际负值</li><li id="f060" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">20 =预测负值和实际正值</li><li id="fef0" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">40 =预测负值和实际负值</li></ul><p id="5309" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，将这些数字分别称为它们的行和列标签似乎太多了，所以让我们引入一些新的名称吧！</p><ul class=""><li id="2daf" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">10 =预测阳性和实际阳性= <strong class="ih hj">真阳性</strong></li><li id="d23a" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">30 =预测阳性和实际阴性= <strong class="ih hj">假阳性(1型错误)</strong></li><li id="0c99" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">20 =预测阴性和实际阳性<strong class="ih hj"> </strong> = <strong class="ih hj">假阴性(2型错误)</strong></li><li id="2eab" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">40 =预测负值和实际负值= <strong class="ih hj">真实负值</strong></li></ul><p id="06b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如你所见，我们有两种类型的错误:类型1和类型2。没有什么特别的，因为它只是一些被分配的东西和一些需要记忆的东西。一个小技巧是，当你写下“p”表示假阳性时。(这个可能不适合你，如果你不像我一样写“p”的话。)当我写“p”的时候，我会先画一条垂直线，然后在线的上半部分画一个向后的“c”来结束。同样，我把我的“1”写成一条垂直线。我记得好像我要写“假阳性”，当我到“p”的时候，我想为类型1写1，然后通过排除过程，假阴性就是类型2。</p><p id="27ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">又多了一个别名！让我们把我们得到的新名字缩短:</p><ul class=""><li id="12ac" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">10 =预测阳性和实际阳性=真阳性= <strong class="ih hj"> TP </strong></li><li id="bd3a" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">30 =预测阳性和实际阴性=假阳性= <strong class="ih hj"> FP </strong></li><li id="ac4a" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">20 =预测阴性和实际阳性<strong class="ih hj"> </strong> =假阴性= <strong class="ih hj"> FN </strong></li><li id="577f" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">40 =预测负值和实际负值=真实负值= <strong class="ih hj"> TN </strong></li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ki"><img src="../Images/42b47a9fa1a9839e3ce0b7e3b241c495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z1zf7lWmWjcAX-ovlt24nw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">这里，我们采用了我们的混淆矩阵样本，并添加了我们的新标签。</figcaption></figure><p id="6c9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，有趣的部分:度量！我们将讨论五个基本指标:准确性、误分类、敏感性、特异性和精确性。总的来说，这将是记忆公式，但希望我的提示能帮助你记住它们。</p><h2 id="f2d8" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated"><strong class="ak">准确性= </strong>正确预测/所有预测</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es le"><img src="../Images/7d64406e5d29d8275611929b5105a1f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*vNUjgzk229TQtftkZPm6HQ.png"/></div></figure><p id="fbf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们回头参考我们的混淆矩阵，并插入我们所知道的，我们会得到以下结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lf"><img src="../Images/4a7517a29fab5b159df2e7d8f222a7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*Jf1d3faePlIEwVNiLc7Z4A.png"/></div></figure><p id="9ac3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本质上，准确性让我们知道我们的模型做得有多好，因为它让我们知道我们的<strong class="ih hj">正确</strong>预测值占我们所有预测值的比例。在这种情况下，我们有50%的准确率。</p><h2 id="66cd" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">错误分类= 1-精确度</h2><p id="1d8e" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">误分类相对简单。它与准确性相反，因此错误分类让我们知道我们的模型做得如何，因为它让我们知道我们的<strong class="ih hj">不正确的</strong>预测值占我们所有预测的比例。在这种情况下，我们错误分类了50%的预测。</p><h2 id="7515" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">灵敏度=真阳性/所有阳性</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ll"><img src="../Images/f3070bbc8f0fa0716bbbbc637c702ed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*eiCuxujLbxrMvC_Oyk2uZQ.png"/></div></figure><p id="e910" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">灵敏度，也称为<em class="jt">真阳性率</em>或<em class="jt">召回</em>，告诉我们我们的模型预测真阳性的能力与总实际阳性的比例。即使有了我们的新缩写，在记住要计算什么时也会感到困惑，所以这里有一个有用的提示！</p><p id="3646" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你拼出“敏感”，这个单词中没有“p”，但是这个公式包含了我们所有的“p”，或者“积极”我们需要真正的肯定和错误的否定。现在你可能认为“假阴性”没有p，你是对的。然而，如果你回想一下基础数学，我们可以把假和负联系起来，我们知道负和负产生正！</p><h2 id="0e56" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">特异性=真阴性/所有阴性</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lm"><img src="../Images/b4d2767d3d06582f795557370ef730cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*MSjXilp8lakpTPLwmcnRWg.png"/></div></figure><p id="54d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特异性，也称为<em class="jt">真阴性率</em>，告诉我们我们的模型预测真阴性的能力与总实际阴性的比例。类似于敏感性，这里有一个有用的工具来说明特异性！</p><p id="f447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你拼出“特异性”，这个单词中有一个“p”，但这个公式不涉及我们的“p”或“阳性”。我们需要我们的真阴性和假阳性。现在你可能在想“假阳性”确实有一个“p”，你是对的。不过，还是和上面一样的招数。我们可以把假和消极联系起来，把积极和积极联系起来，我们知道消极和积极会产生消极！</p><h2 id="7b1b" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">精确度=真阳性/预测阳性</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/ee3bd9ed2c97c9201777dd95adcaac4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*S382NCx7d2jT340XnS_l8Q.png"/></div></div></figure><p id="5cbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在精确度之后，精确度是正确预测的正值占我们所有预测的正值的比例，也就是我们正确预测的百分比。Precision也称为<em class="jt">阳性预测值</em>，我们可以记住这一点，因为precision以“p”开头，所以我需要所有阳性:真<strong class="ih hj">阳性</strong>和假<strong class="ih hj">阳性</strong>。</p><p id="bff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">咻，这就是所有的公式！现在我们该如何处理这些信息呢？好吧，如果你发现自己在使用一个分类模型，并想看看它做得有多好，你可以创建一个混淆矩阵来查看它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/8a737ff428d8fe00d0416d657ef9f5c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxzG8_57jb-ymRJxMKIVlQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">这是我笔记本上的一个例子。</figcaption></figure><p id="e49c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上图中，我想看看我的模型在用现有数据进行训练和拟合后表现如何。在这种情况下，我使用逻辑回归模型<code class="du lp lq lr ls b">log_reg</code>，并使用<code class="du lp lq lr ls b">.predict()</code>方法根据我的<em class="jt"> X </em>变量生成<em class="jt"> Y </em>值。之后，我将我的实际<em class="jt"> Y </em>值与我预测的<em class="jt"> Y </em>值进行比较，得到一个混淆矩阵，这个矩阵产生了一个数组。多亏了Python库，我没有额外的工作！最后一个代码块将我的混淆矩阵数组转换成DataFrame，使它更容易阅读，也更吸引人。利用我的混淆矩阵中的四个数字，我可以很容易地计算我的分类指标，但是从矩阵本身来看，我可以看到我的模型做得很好，只有两个类型2错误，而我所有其他的预测都是准确的。</p></div></div>    
</body>
</html>