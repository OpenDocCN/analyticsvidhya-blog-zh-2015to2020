<html>
<head>
<title>Formatting Date Objects in Ruby with ‘strftime’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用“strftime”格式化Ruby中的日期对象</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/formatting-date-objects-with-strftime-e3e6e83f1e8a?source=collection_archive---------9-----------------------#2019-10-29">https://medium.com/analytics-vidhya/formatting-date-objects-with-strftime-e3e6e83f1e8a?source=collection_archive---------9-----------------------#2019-10-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/63df22860ac200e7a1074480a525c474.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*NAeKTpG5jcXAa8DmoSilRg.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">第一本日历…真实的故事</figcaption></figure><p id="8634" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">strftime</code>可转本:</p><pre class="js jt ju jv fd jw jr jx jy aw jz bi"><span id="a30c" class="ka kb hi jr b fi kc kd l ke kf">=&gt; #&lt;Date: 2019-10-28 ((2458785j,0s,0n),+0s,2299161j)&gt;</span></pre><p id="3af9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">入此:<code class="du jo jp jq jr b">=&gt; “Monday, 28 Oct 2019”</code></p><p id="b51d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是让这成为可能的代码:</p><pre class="js jt ju jv fd jw jr jx jy aw jz bi"><span id="b40e" class="ka kb hi jr b fi kc kd l ke kf">2.6.1 :005 &gt; d.strftime("%A, %d %b %Y")</span></pre><p id="78c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看这是怎么回事。</p><p id="8ee8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要成功使用它，你不需要知道缩写是什么，但它可能会帮助你记住这种方法何时会派上用场。<code class="du jo jp jq jr b">strftime</code>代表“时间之弦”。但首先我们需要问自己“时间是什么？”</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="kg kh l"/></div></figure><p id="6391" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">别担心。我们不需要对此过于兴奋。出于我们的目的，时间是一个ruby对象。我们可以使用“strftime”将这个ruby对象变成更可展示的东西。在提供的例子中，我们正在试验的ruby对象是Date类的一个实例。为了访问Date类，我们必须首先要求它。</p><pre class="js jt ju jv fd jw jr jx jy aw jz bi"><span id="5c70" class="ka kb hi jr b fi kc kd l ke kf">2.6.1 :001 &gt; require 'date'</span><span id="7a1c" class="ka kb hi jr b fi ki kd l ke kf">=&gt; true</span></pre><p id="e476" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们有了这种力量:</p><pre class="js jt ju jv fd jw jr jx jy aw jz bi"><span id="0f04" class="ka kb hi jr b fi kc kd l ke kf">2.6.1 :002 &gt; d = Date.today</span><span id="3758" class="ka kb hi jr b fi ki kd l ke kf">=&gt; #&lt;Date: 2019-10-28 ((2458785j,0s,0n),+0s,2299161j)&gt;</span></pre><p id="c1da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">Date.today</code>从我们讨论过的Date类创建一个对象。如果你不想把完整的日期打出来或者你不想记住它，这是非常方便的。虽然这个对象包含了我们需要的关于日期的所有信息，但它并不像那样具有可展示性。也许我们想以其他方式呈现日期。<code class="du jo jp jq jr b">strftime</code>让我们选择如何呈现Date对象持有的信息，它以字符串的形式返回该信息<code class="du jo jp jq jr b">=&gt; “Monday, 28 Oct 2019”</code></p><p id="6781" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们如何使用<code class="du jo jp jq jr b">strftime</code>从Date对象中返回这个特定的字符串呢？</p><pre class="js jt ju jv fd jw jr jx jy aw jz bi"><span id="af97" class="ka kb hi jr b fi kc kd l ke kf">2.6.1 :005 &gt; d.strftime("%A, %d %b %Y")</span></pre><p id="9b28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在那一行代码中，<code class="du jo jp jq jr b">d</code>是保存日期对象的变量。我们对它执行<code class="du jo jp jq jr b">strftime</code>方法，并传递参数<code class="du jo jp jq jr b">(“%A, %d %b %Y”)</code>。为什么是这些符号和字母？我们将后面跟有字母的<code class="du jo jp jq jr b">%</code>称为指令。这些指令告诉我们从对象输出什么信息以及输出到哪里。包围指令的引号<code class="du jo jp jq jr b">""</code>表示这是我们正在创建的字符串。</p><p id="d816" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">返回字符串以星期几<code class="du jo jp jq jr b">Monday</code>开始，用指令<code class="du jo jp jq jr b">%A</code>表示星期几<code class="du jo jp jq jr b">strftime</code>。<code class="du jo jp jq jr b">%A</code>后面的逗号<code class="du jo jp jq jr b">,</code>简单地解释为字符串中星期几后面跟一个逗号，如<code class="du jo jp jq jr b">Monday,</code>。</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="kj kh l"/></div></figure><p id="42db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<code class="du jo jp jq jr b">d.strftime(“%A, %d %b %Y”)</code>中，<code class="du jo jp jq jr b">%d</code>指令取出一个月中的某一天，在本例中是<code class="du jo jp jq jr b">28</code>。<code class="du jo jp jq jr b">%b</code>表示月份的缩写，即<code class="du jo jp jq jr b">Oct</code>。<code class="du jo jp jq jr b">%Y</code>表示年份。所有这些放在一起返回<code class="du jo jp jq jr b">=&gt; “Monday, 28 Oct 2019”</code>。引号中的空格和逗号会被准确翻译，因此参数中有逗号的地方，返回字符串中也会有逗号。任何空间都一样。</p><p id="1cfe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以以任何你想要的方式重新排列它们，比如我们想先看到年，然后是月，然后是月中的某一天。我们可能会丢失星期几，这次我们不希望字符串中有任何讨厌的逗号。让我们疯狂地说，我们希望这一个月紧紧抓住这一年，中间没有空间。我们是这样做的:</p><p id="fdaa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jo jp jq jr b">2.6.1 :010 &gt; d.strftime(“%Y%b %d”)</code>会返回<code class="du jo jp jq jr b">=&gt; “2019Oct 28”</code></p><p id="fc68" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于<code class="du jo jp jq jr b">strftime</code>还有很多要学的，包括更多你可以使用的指令，比如<code class="du jo jp jq jr b">%B</code>，它返回月份的全称，而不是我们例子中的缩写。你也可以在参数中添加标志，这些标志以不同的方式改变输出，但是你可以在没有它们的情况下使用<code class="du jo jp jq jr b">strftime</code>,就像我展示给你的那样，它会工作得很好。但是了解它的所有技巧也无妨，所以我建议查看包含<code class="du jo jp jq jr b">strftime</code>方法的Ruby文档以及其他许多方法:</p><div class="kk kl ez fb km kn"><a href="https://ruby-doc.org/stdlib-2.6.1/libdoc/date/rdoc/DateTime.html?source=post_page-----e3e6e83f1e8a----------------------#method-i-strftime" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">日期时间</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">Date的子类，可以轻松处理日期、小时、分钟、秒和偏移量。日期时间不考虑任何跳跃…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">ruby-doc.org</p></div></div></div></a></div><p id="e693" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你被这些信息弄得不知所措，这里有一个网站可以帮你。它并不全面，但非常容易使用:</p><div class="kk kl ez fb km kn"><a href="https://www.foragoodstrftime.com" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hj fi z dy ks ea eb kt ed ef hh bi translated">很长一段时间</h2><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">www.foragoodstrftime.com</p></div></div></div></a></div><p id="3b63" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用这段代码，你可以把时间转换成一个字符串。好好享受吧！因为在现实中，我们受时间的支配…而正是时间改变了我们。</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="kw kh l"/></div></figure></div></div>    
</body>
</html>