<html>
<head>
<title>Day 8: Subplotting is great, but have you ever tried displaying each dataset in its own uitab?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第8天:子绘图很棒，但是你曾经尝试过在它自己的uitab中显示每个数据集吗？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/day-8-subplotting-is-great-but-have-you-ever-tried-displaying-each-dataset-in-its-own-uitab-796dbf203eaf?source=collection_archive---------17-----------------------#2020-05-08">https://medium.com/analytics-vidhya/day-8-subplotting-is-great-but-have-you-ever-tried-displaying-each-dataset-in-its-own-uitab-796dbf203eaf?source=collection_archive---------17-----------------------#2020-05-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7a4641df26c040315276260398b0a2e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ebjATUbe8rLdfB9ND2umcg.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">"我们能一个接一个地检查所有的细胞吗？"看完第八天的小贴士，答案是:可以！</figcaption></figure><p id="dd8e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">在开始使用tab之前，通过查看</em> <a class="ae jt" rel="noopener" href="/@neuraljojo/day-1-making-matlab-fun-ad850eaffbde"> <em class="js">我第一天的帖子:让MATLAB变得“有趣”，确保你至少熟悉arrayfun的基本用法。</em>T5】</a></p><p id="d6c4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">第8天的参赛作品受到了一位朋友的启发，她的尊敬的导师会要求她打印出实验中每个单个神经元的神经时间序列数据，以便他们可以一个一个地仔细检查它们。MATLAB提供了一个很好的方法来做到这一点——虚拟地。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="7ac9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在某些时候，你可能在MATLAB中遇到过制表符。也许是一个聪明的本科生在2006年为实验室做的GUI的一部分，但是你可能没有想到它们，因为它们很少在分析脚本中使用。你不会把它们放在幻灯片里或者在会议上打印出来，但是在这个数字世界里，它们提供了一些很大的好处:</p><ul class=""><li id="b9ea" class="kb kc hi iw b ix iy jb jc jf kd jj ke jn kf jr kg kh ki kj bi translated">我们越来越多地转向网络，所以你的同事和顾问不会要求你打印页面来翻阅</li><li id="6246" class="kb kc hi iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">点击文件是一种拖累，浪费宝贵的时间和注意力</li><li id="18a0" class="kb kc hi iw b ix kk jb kl jf km jj kn jn ko jr kg kh ki kj bi translated">将所有数据放在一个窗口中可以让您轻松地来回移动，同时x轴和y轴始终保持在同一位置</li></ul><p id="d30f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">幸运的是，您不需要指南或GUI来获得选项卡的好处。它们实际上和支线剧情一样简单易用。</p><p id="0796" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这里，我会告诉你到底是怎么做的。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="a921" class="kp kq hi bd kr ks kt ku kv kw kx ky kz jf la lb lc jj ld le lf jn lg lh li lj bi translated">从一些无聊的随机数据开始。</h2><p id="b2bb" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn lo jp jq jr hb bi translated">假设我们希望数据的形状是10行乘以1000列，或者说是10个单元格乘以1000个时间点。数据以这种方式构造是很常见的，因此应该很容易适应您的目的。</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="9986" class="kp kq hi lu b fi ly lz l ma mb">Ncells = 10;<br/>Y = arrayfun( @(sigma) normrnd(0,sigma,1,1000), linspace(.1,1,10), 'UniformOutput', false );<br/>data = cell2mat(Y');</span></pre><blockquote class="mc md me"><p id="9ab8" class="iu iv js iw b ix iy iz ja jb jc jd je mf jg jh ji mg jk jl jm mh jo jp jq jr hb bi translated"><strong class="iw hj">注意:</strong>如果你没有添加‘uniform output’，false标志，MATLAB会返回一个错误。这是<em class="hi"> arrayfun </em>的一个怪癖:它不能连接我们函数的输出，在这里是<em class="hi"> normrnd </em>。因此，我们将采取MATLAB建议的修复，并添加“统一输出”，真标志。然后，我们将使用<em class="hi"> cell2mat </em>连接Y，这是<em class="hi"> arrayfun </em>的单元(不是“统一的”——应该是一个矩阵)输出。</p></blockquote></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="bd7d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz jf la lb lc jj ld le lf jn lg lh li lj bi translated">仅用三行简单的代码，就可以建立整个图形</h2><p id="9ca1" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn lo jp jq jr hb bi translated">通过使用<em class="js"> arrayfun </em>，你可以用三行代码建立一个完整的“GUI”。我将标题添加到每个选项卡上，如“单元格1”、“单元格2”等。使用对<em class="js"> sprintf </em>的调用，但这是可选的。</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="49a4" class="kp kq hi lu b fi ly lz l ma mb">figure();<br/>tabs_ = arrayfun( @(x) uitab( 'Title', sprintf('Cell %i',x) ), [1:Ncells] );<br/>ax_ = arrayfun( @(tab) axes( tab ), tabs_ );</span></pre><p id="9103" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意最后一个<em class="js"> arrayfun </em>的参数不是一个数字数组，而是一个标签数组！别担心，MATLAB会处理这些细节。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h2 id="323d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz jf la lb lc jj ld le lf jn lg lh li lj bi translated">现在让我们配置我们的轴并绘制数据！</h2><p id="51b1" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn lo jp jq jr hb bi translated">让我们假设我们上面创建的假数据代表十个单元格的时间序列，并且我们从<em class="js"> normrnd </em>参数中知道，这些值将大致跨越-2到2。我们将再次使用<em class="js"> arrayfun </em>确保我们图形中的每个轴都已设置好。</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="ae57" class="kp kq hi lu b fi ly lz l ma mb">arrayfun( @(i) set( ax_(i), 'NextPlot', 'add',... <br/>                            'FontSize', 14,...<br/>                            'YLim', [-5,5],...<br/>                            'YLabel', text(0,0,'Activity'),...<br/>                            'XLabel', text(0,0,'Time (s)'),...<br/>                 'Title', text(0,0,sprintf('Cell %i',i)) ),... [1:Ncells] ) <br/>% The last line contains the array over which we have fun!</span></pre><p id="e5cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们不需要返回任何东西，我们只是希望MATLAB将这些设置应用到所有的轴上:ax_(1)，ax_(2)，等等。</p><blockquote class="mc md me"><p id="600b" class="iu iv js iw b ix iy iz ja jb jc jd je mf jg jh ji mg jk jl jm mh jo jp jq jr hb bi translated"><strong class="iw hj">注意好。</strong>这里的标签和标题有点奇怪。这与轴的配置方式有关，与制表符无关。你不能简单地写' YLabel '，' Activity '——你必须给' YLabel '一个<strong class="iw hj">文本对象</strong>，这就是为什么我们在上面使用' YLabel '，text(0，0，' Activity ')。</p></blockquote><p id="0f01" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你一直关注其他帖子，下一步几乎是微不足道的:</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="32ec" class="kp kq hi lu b fi ly lz l ma mb">arrayfun( @(i) plot(ax_(i),data(i,:)), [1:Ncells] );</span></pre><p id="2531" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">尽情享受吧！</p><p id="c4cb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下面是生成顶部所示图形的完整代码片段。<a class="ae jt" href="https://www.mathworks.com/matlabcentral/answers/94495-how-can-i-create-animated-gif-images-in-matlab" rel="noopener ugc nofollow" target="_blank">(感谢MathWorks支持团队提供了生成动画形象的代码。)</a></p><figure class="lp lq lr ls fd ij"><div class="bz dy l di"><div class="mi mj l"/></div></figure></div></div>    
</body>
</html>