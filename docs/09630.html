<html>
<head>
<title>Chatbot tutorial using Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Streamlit 的聊天机器人教程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/chatbot-tutorial-using-streamlit-d8af6a21d80d?source=collection_archive---------4-----------------------#2020-09-14">https://medium.com/analytics-vidhya/chatbot-tutorial-using-streamlit-d8af6a21d80d?source=collection_archive---------4-----------------------#2020-09-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9e03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天，我将告诉你如何创建一个智能对话聊天机器人，并轻松地主持它。所以，系好安全带，享受旅程吧:)</p><p id="96fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后的<strong class="ih hj">结果</strong>应该是这样的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/699eb32db1ca341ead22868bb9cf2ffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CpaWqVTXt_aCpp41OzMWPw.png"/></div></div></figure><p id="52d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装 streamlit 很简单:<br/>从安装和导入 Streamlit 开始。<br/> pip 安装细流<br/>导入细流为 st</p><p id="f7c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还将使用一个名为 chatter bot:<a class="ae jp" href="https://github.com/gunthercox/ChatterBot" rel="noopener ugc nofollow" target="_blank">https://github.com/gunthercox/ChatterBot</a>的库</p><p id="7c74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">遵循以下简单步骤:</p><ol class=""><li id="3531" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">确保安装了 Python、Spacy、Streamlit 和 ChatterBot。</li><li id="f106" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">要安装 chatterbot，激活虚拟环境，请遵循以下步骤:</li><li id="2ebf" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">conda create-name chatter bot _ example python = 3.7</li><li id="091b" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">conda 激活聊天机器人 _ 示例</li><li id="7b9d" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">pip 安装聊天机器人</li><li id="4259" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">pip 安装聊天机器人 _ 语料库</li><li id="47a3" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">pip 安装流程</li><li id="df3c" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">用<code class="du kf kg kh ki b">streamlit run cbv2.py</code>运行<em class="ke"> cbv2.py </em>。</li><li id="9465" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">演示将在<a class="ae jp" href="http://localhost:8501/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8501/ </a>进行</li></ol><p id="a77a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以管理员身份打开命令提示符，并执行以下步骤:</p><ol class=""><li id="4577" class="jq jr hi ih b ii ij im in iq js iu jt iy ju jc jv jw jx jy bi translated">要安装 chatterbot，激活虚拟环境，请遵循以下步骤:</li><li id="8c82" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">conda create-name chatter bot _ example python = 3.7</li><li id="fa49" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">conda 激活聊天机器人 _ 示例</li><li id="d1d9" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">pip 安装聊天机器人</li><li id="ad24" class="jq jr hi ih b ii jz im ka iq kb iu kc iy kd jc jv jw jx jy bi translated">pip 安装聊天机器人 _ 语料库</li></ol><p id="4f95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，你应该已经安装了聊天机器人。</p><p id="e878" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以从<a class="ae jp" href="http://convai.io/data/" rel="noopener ugc nofollow" target="_blank">http://convai.io/data/</a>下载训练所需的数据集</p><p id="1a20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另外，你可以查看我的 github 库:<a class="ae jp" href="https://github.com/jojo96/Chatterbot-Streamlit" rel="noopener ugc nofollow" target="_blank">https://github.com/jojo96/Chatterbot-Streamlit</a></p><p id="05a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 现在编程部分:</p><pre class="je jf jg jh fd kj ki kk kl aw km bi"><span id="c1ec" class="kn ko hi ki b fi kp kq l kr ks">#importing libraries<br/>import streamlit as st<br/>from chatterbot import ChatBot<br/>from chatterbot.trainers import ListTrainer<br/>from chatterbot.trainers import ChatterBotCorpusTrainer <br/>import json</span><span id="e5c7" class="kn ko hi ki b fi kt kq l kr ks">#get_text is a simple function to get user input from text_input<br/>def get_text():<br/>    input_text = st.text_input("You: ","So, what's in your mind")<br/>    return input_text</span><span id="b267" class="kn ko hi ki b fi kt kq l kr ks">#data input<br/>data = json.loads(open(r'C:\Users\Jojo\Desktop\projects\chatbot\chatbot\chatbot\data_tolokers.json','r').read())#change path accordingly<br/>data2 = json.loads(open(r'C:\Users\Jojo\Desktop\projects\chatbot\chatbot\chatbot\sw.json','r').read())#change path accordingly</span><span id="5007" class="kn ko hi ki b fi kt kq l kr ks">tra = []<br/>for k, row in enumerate(data):<br/>    #print(k)<br/>    tra.append(row['dialog'][0]['text'])<br/>for k, row in enumerate(data2):<br/>    #print(k)<br/>    tra.append(row['dialog'][0]['text'])</span><span id="77e5" class="kn ko hi ki b fi kt kq l kr ks">st.sidebar.title("NLP Bot")<br/>st.title("""<br/>NLP Bot  <br/>NLP Bot is an NLP conversational chatterbot. Initialize the bot by clicking the "Initialize bot" button. <br/>""")</span><span id="d898" class="kn ko hi ki b fi kt kq l kr ks">bot = ChatBot(name = 'PyBot', read_only = False,preprocessors=['chatterbot.preprocessors.clean_whitespace','chatterbot.preprocessors.convert_to_ascii','chatterbot.preprocessors.unescape_html'], logic_adapters = ['chatterbot.logic.MathematicalEvaluation','chatterbot.logic.BestMatch'])</span><span id="02fa" class="kn ko hi ki b fi kt kq l kr ks">ind = 1<br/>if st.sidebar.button('Initialize bot'):<br/>    trainer2 = ListTrainer(bot) <br/>    trainer2.train(tra)<br/>    st.title("Your bot is ready to talk to you")<br/>    ind = ind +1<br/>        <br/>user_input = get_text()</span><span id="222c" class="kn ko hi ki b fi kt kq l kr ks">if True:<br/>    st.text_area("Bot:", value=bot.get_response(user_input), height=200, max_chars=None, key=None)<br/>else:<br/>    st.text_area("Bot:", value="Please start the bot by clicking sidebar button", height=200, max_chars=None, key=None)</span></pre></div></div>    
</body>
</html>