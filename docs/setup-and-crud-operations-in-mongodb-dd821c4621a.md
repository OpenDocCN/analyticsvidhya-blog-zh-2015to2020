# MongoDB ä¸­çš„è®¾ç½®å’Œ CRUD æ“ä½œ

> åŸæ–‡ï¼š<https://medium.com/analytics-vidhya/setup-and-crud-operations-in-mongodb-dd821c4621a?source=collection_archive---------20----------------------->

![](img/7fa4fbb800139cfcd928a83ef20ce638.png)

> åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨ MongoDB **cloud** æœåŠ¡ä¸­å»ºç«‹ä¸€ä¸ªå¸æˆ·ï¼Œå¹¶ä½¿ç”¨ Pymongo è¿›è¡Œ CRUD æ“ä½œã€‚

## é¦–å…ˆï¼Œæˆ‘ä»¬å°†è®¾ç½®å¸æˆ·

åœ¨ã€https://www.mongodb.com/cloudã€‘çš„[T3 çš„](https://www.mongodb.com/cloud)å¼€æˆ·ã€‚

![](img/97695510420ab1f1234d3f33e400563d.png)

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯å…è´¹è´¦æˆ·ï¼Œæˆ‘å»ºè®®ä½ ä¿ç•™æ‰€æœ‰é»˜è®¤è®¾ç½®ã€‚

![](img/738e1ac65086d5461a638baef3cd3b37.png)

ä¸€æ—¦å¸æˆ·è¢«åˆ›å»ºï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„é¡µé¢ã€‚

![](img/1c17bf3b7796cb54a40d45928deaa916.png)

ç°åœ¨æˆ‘ä»¬å¿…é¡»é€šè¿‡ç‚¹å‡»**è¿æ¥**æŒ‰é’®*è®¾ç½®è¿æ¥* ã€‚å•å‡»â€œè¿æ¥â€æŒ‰é’®åï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

![](img/37b482edb52591395a3d7b7578da7ca9.png)![](img/00fbfbd26b844907413a9dbb544c7abf.png)

*å¤åˆ¶****è¿æ¥å­—ç¬¦ä¸²*** æˆ‘ä»¬å°†åœ¨åº”ç”¨ä¸­éœ€è¦å®ƒã€‚æ—¢ç„¶è¿æ¥éƒ¨åˆ†å®Œæˆäº†ï¼Œæˆ‘ä»¬å°±è¦ ***åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å’Œé›†åˆã€‚***

![](img/7fec4e76bddc8820d193aa4f76a164d5.png)

è®¾ç½®æ•°æ®åº“å’Œæ”¶é›†éƒ¨åˆ†å·²ç»å®Œæˆã€‚

ç°åœ¨ï¼Œé€šè¿‡åœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¸º MongoDB å®‰è£… python **pymongo** æ¨¡å—ã€‚

```
pip install pymongo
```

è®©æˆ‘ä»¬è½¬åˆ° python æ§åˆ¶å°ã€‚

é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯¼å…¥ pymongo åŒ…å¹¶ä½¿ç”¨ ***MongoClient*** å®ä¾‹è®¾ç½®è¿æ¥åˆ°æˆ‘ä»¬åœ¨ä¸Šé¢åˆ›å»ºçš„é›†ç¾¤ï¼Œç²˜è´´è¿æ¥å­—ç¬¦ä¸²å¹¶æ”¾ç½®æ‚¨åœ¨åˆ›å»º MongoDB ç”¨æˆ·æ—¶è®¾ç½®çš„å¯†ç -

```
import pymongo
from pymongo import MongoClient
client = MongoClient("CONNECTION STRING")
```

![](img/24f51ef1ac0daab3544d80c1806a198e.png)

> **åˆ›å»º**

æˆ‘ä»¬å·²ç»è¿æ¥åˆ°**é›†ç¾¤** ( *å®ƒæ˜¯äº‘æ•°æ®åº“*ä¸­çš„ç©ºé—´)ï¼Œåœ¨é‚£é‡Œå®ƒå°†æ”¯æŒå¤šä¸ªç‹¬ç«‹çš„æ•°æ®åº“ã€‚ç°åœ¨æˆ‘ä»¬å°†æŒ‡å®šæˆ‘ä»¬æƒ³è¦ä½¿ç”¨å“ªä¸ª**æ•°æ®åº“**å’Œ**é›†åˆ**ã€‚*æ”¶è—æ˜¯è¡¨çš„ä¸€ç§*ã€‚

```
*# database* db = client["database_1"]
*# collections* collection = db["collection_1"]
```

![](img/200a7c01a6d31af33c14272c742815e5.png)

ä¸€æ—¦æˆ‘ä»¬é€‰æ‹©äº†é›†åˆï¼Œç°åœ¨æˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨å…¶ä¸­å­˜å‚¨æ•°æ®ã€‚æˆ‘ä»¬åœ¨ MongoDB ä¸­å°†æ•°æ®å­˜å‚¨ä¸º *JSON é£æ ¼çš„æ–‡æ¡£æˆ–è€… python* ä¸­çš„å­—å…¸ï¼Œå®ƒè¢«ç§°ä¸º**æ–‡æ¡£**ã€‚

```
post = { "name": "Cena" , "age": 25 }
collection.insert_one(post)
```

![](img/a5158798856cacd03e54c9024ac7a00b.png)![](img/18480cae7c7a770d1ff3b733f7ca45f7.png)

å½“æˆ‘ä»¬æ’å…¥æ–‡æ¡£æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ª ***"_id"*** é”®ã€‚å¦‚æœæˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šå®ƒï¼Œä½†å®ƒå¿…é¡»åœ¨æ•´ä¸ªé›†åˆä¸­æ˜¯å”¯ä¸€çš„ã€‚

è¦æ’å…¥è®¸å¤šæ–‡æ¡£ï¼Œæˆ‘ä»¬åªéœ€é€šè¿‡ **insert_many()** å‘½ä»¤ä¼ é€’ä¸€ä¸ªå¸–å­åˆ—è¡¨ã€‚

```
post_1 = {"name": "Batista","age": 22,}
post_2 = {"name": "Kane","age": 21,}
collection.insert_many([post_1,post_2])
```

![](img/89859bc457bebb093d38902c8dc411bc.png)![](img/7e2c6981e4cf75e9d5cc1deef0f1b119.png)

> **æ”¹ä¸º**

æˆ‘ä»¬å¯ä»¥é€šè¿‡ ***find_one()*** æˆ–è€… ***find()*** å‘½ä»¤åœ¨ MongoDB ä¸­æ‰§è¡ŒæŸ¥è¯¢ã€‚

```
result = collection.find()
for res in result:
    print(res)
```

![](img/9a5bbdf58cfb787bf60059e10f470313.png)![](img/420ac50eeae4fd37c2b6634335ad77ea.png)

å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å®šä¸€ä¸ªæ¡ä»¶æ¥æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šçš„æ–‡æ¡£ï¼Œä¾‹å¦‚***find({ " name ":" Cena " })***ï¼Œè¿™å°†è¿”å›åç§°ç­‰äº" Cena "çš„æ–‡æ¡£ã€‚ä¸ºäº†ä»è¢«æœç´¢çš„æ–‡æ¡£ä¸­è®¿é—®ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºåƒ ***print(res["age"])ï¼Œ*** è¿™æ ·çš„å‘½ä»¤æ¥ä»è¢«æœç´¢çš„æ–‡æ¡£ä¸­è·å–å¹´é¾„ã€‚é€šè¿‡åœ¨æŸ¥è¯¢å¯¹è±¡ä¸­ä½¿ç”¨ä¿®é¥°ç¬¦ä½œä¸ºå€¼ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›æ›´é«˜çº§çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚***find({ " age ":{ " $ gt ":21 } })***

> **æ›´æ–°**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦æ¥æ‰§è¡Œæ›´æ–°æ“ä½œã€‚ä¸ºæ­¤æˆ‘ä»¬å°†ä½¿ç”¨ ***update_one()*** æ–¹æ³•ã€‚

```
update=collection.update_one({"age": 21},{"$set":{"name":"Bruce"}})
```

![](img/52b4293565bb65be440643509f6e43e7.png)![](img/44195605edf75557c4419957ef713d18.png)

ä¸Šé¢çš„ä»£ç å°†æŸ¥æ‰¾å¹´é¾„ç­‰äº 21 çš„æ–‡æ¡£ï¼Œç„¶åå°†åç§°è®¾ç½®ä¸º Bruceã€‚é€šè¿‡ä½¿ç”¨***update _ many()***æ–¹æ³•ï¼Œå¯ä»¥æ›´æ–°æ‰€æœ‰æ»¡è¶³ç‰¹å®šæŸ¥è¯¢æ¡ä»¶çš„æ–‡æ¡£ã€‚

> **åˆ é™¤**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦æœ‰æŸäº›æ¡ä»¶çš„ ***delete_one()*** å‘½ä»¤ä»æˆ‘ä»¬çš„é›†åˆä¸­åˆ é™¤ä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚æœæˆ‘ä»¬ä¸ç»™å‡ºä»»ä½•æ¡ä»¶ï¼Œå®ƒå°†åˆ é™¤é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ã€‚

![](img/6fe78b42fa24032e747cddb0cb26ba25.png)![](img/869633aa2c5c3496ba0da7ff9243e603.png)

è¦åˆ é™¤å¤šä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨***delete _ many()***æ–¹æ³•ã€‚ä½¿ç”¨ delete_many æ—¶è¦éå¸¸å°å¿ƒï¼Œå¦‚æœä¸æŒ‡å®šä»»ä½•æ¡ä»¶ï¼Œå®ƒå°†ä»é›†åˆä¸­åˆ é™¤æ‰€æœ‰æ–‡æ¡£ã€‚

æˆ‘å¸Œæœ›ä½ å·²ç»æŒæ¡äº† MongoDB å¿«é€Ÿå…¥é—¨çš„åŸºç¡€çŸ¥è¯†ï¼Œæ›´å¤šè¯¦æƒ…è¯·è®¿é—® [MongoDB æ–‡æ¡£](https://docs.mongodb.com/)ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™ğŸ‘æ¥æ¿€åŠ±æˆ‘ã€‚æ„Ÿè°¢é˜…è¯»ã€‚

[](/analytics-vidhya/extracting-audio-files-from-api-storing-it-on-a-nosql-database-789c12311a48) [## ä» API ä¸­æå–éŸ³é¢‘æ–‡ä»¶å¹¶å°†å…¶å­˜å‚¨åœ¨ NoSQL æ•°æ®åº“ä¸­

### å­˜å‚¨å’Œæå–éŸ³é¢‘æ–‡ä»¶çš„æœ€ç®€å•æ–¹æ³•(ã€‚wav/API)

medium.com](/analytics-vidhya/extracting-audio-files-from-api-storing-it-on-a-nosql-database-789c12311a48) [](/@darpanlekharu4/trigger-aws-lambda-function-to-store-audio-from-api-in-s3-bucket-b2bc191f23ec) [## è§¦å‘ AWS Lambda å‡½æ•°ä»¥å°†æ¥è‡ª API çš„éŸ³é¢‘å­˜å‚¨åœ¨ S3 æ¡¶ä¸­

### è¿™æ˜¯ä¸€ä¸ªæ•™ç¨‹ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•è§¦å‘ä¸€ä¸ª lambda å‡½æ•°ï¼Œå½“æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªéŸ³é¢‘ API åœ¨ S3 æ¡¶å’Œâ€¦

medium.com](/@darpanlekharu4/trigger-aws-lambda-function-to-store-audio-from-api-in-s3-bucket-b2bc191f23ec)