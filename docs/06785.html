<html>
<head>
<title>Portfolio analysis of Indian stocks in 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟印度股票投资组合分析</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/portfolio-analysis-of-indian-stocks-in-10-minutes-6a50f722a63c?source=collection_archive---------15-----------------------#2020-06-02">https://medium.com/analytics-vidhya/portfolio-analysis-of-indian-stocks-in-10-minutes-6a50f722a63c?source=collection_archive---------15-----------------------#2020-06-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b96d322f88d07d653e78858cf645016e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XJPMPN9R_MrOKoSn"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Austin Distel </a>拍摄的照片</figcaption></figure><p id="56fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我刚进入金融分析领域时，我过去在试图分析一支股票时面临的最大挑战之一是找到一种循序渐进、对学习者友好、新手容易理解的方法。</p><p id="7b4e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，找到这样一种方法通常很费时间，而且新的学习者可能很难掌握书中的现有内容。最大的障碍不是代码的复杂性或方法背后的财务问题；是看哪里，找什么。在本帖中，我们将通过使用实际操作的方法，而不是进入太多的等式和技术细节，来寻找克服这一挑战的方法。</p><p id="8b1f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不管你是来自分析背景还是政治科学背景，这篇文章都是为你准备的。你不需要关于编码、数学、金融甚至安装必要软件的知识。这篇文章涵盖了这一切。</p><blockquote class="jt ju jv"><p id="65bb" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">“告诉我，我忘了。教我，我会记住。让我参与，我学习”</p><p id="2200" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">—本杰明·富兰克林</p></blockquote><p id="15a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据上面的引述，让我们开始动手实践活动:</p><h1 id="10fc" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">投资组合分析:</h1><p id="11fc" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">投资组合分析将让你清楚地了解你的股票最近的表现，以及按照目前的趋势，它在不久的将来的表现。为了简单起见，我们只看:</p><p id="fdb2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw"> 1。夏普比率<br/> 2。风险价值(VaR) <br/> 3。预期短缺</em></p><p id="ed95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">让我们逐一看看这些指标:</strong></p><p id="2024" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我向你保证过解释会很简单。所以用外行人的话来说，这就是上面每个短语的意思:</p><p id="0a6c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi ld translated"><span class="l le lf lg bm lh li lj lk ll di">S</span><strong class="ix hj"><em class="jw">harpe Ratio</em></strong><em class="jw">:</em>假设有一个10年期的债券，它的收益率是固定的，固定在6.7%。让我们称这个利率为无风险回报率，因为它不受市场波动的影响。夏普比率的作用是，它给出你的股票/投资组合收益减去无风险收益的差额。你可以在这里阅读更多关于夏普比率的信息。</p><p id="945c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi ld translated"><span class="l le lf lg bm lh li lj lk ll di">V</span><strong class="ix hj"><em class="jw">alue at Risk(VaR)</em></strong><em class="jw">:</em>这是指在95%的概率下，您的投资组合在下一季度内预计承受的最大损失。然而，这并不是损失的极限。这只是一个对损失限额给出95%置信度的度量。点击阅读更多关于这个<a class="ae iu" href="https://www.investopedia.com/terms/v/var.asp" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><p id="7e58" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi ld translated"><span class="l le lf lg bm lh li lj lk ll di"> E </span>这个值“X”的平均值就是你的预期短缺。</p><blockquote class="jt ju jv"><p id="a3fe" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">魔术马上就要开始了。到目前为止你和我在一起吗？</p></blockquote><p id="2788" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们终于找到了好东西！您将需要以下工具来执行此分析。</p><ol class=""><li id="74cc" class="lm ln hi ix b iy iz jc jd jg lo jk lp jo lq js lr ls lt lu bi translated">RStudio:如果你没有安装，请从<a class="ae iu" href="https://rstudio.com/products/rstudio/download/" rel="noopener ugc nofollow" target="_blank">这里</a>下载免费版本，或者从<a class="ae iu" href="https://rstudio.cloud/" rel="noopener ugc nofollow" target="_blank">这里</a>在线使用。</li><li id="fd9b" class="lm ln hi ix b iy lv jc lw jg lx jk ly jo lz js lr ls lt lu bi translated">耐心，是的！</li><li id="3019" class="lm ln hi ix b iy lv jc lw jg lx jk ly jo lz js lr ls lt lu bi translated">R中的几个库:<br/><em class="jw">-quant mod<br/>-dy graphs<br/>-TTR<br/>-tseries<br/>-performance analytics<br/>-DP lyr<br/>-tidy verse<br/>-RColorBrewer</em></li></ol><p id="3f38" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">进入RStudio后，对上述所有库逐一运行<strong class="ix hj">install . packages("<em class="jw">library name</em>")</strong>命令(如下所示，在控制台上键入&amp;然后按enter键)。记住保持大小写和上面一样，R区分大小写。</p><p id="d023" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注意</strong>:控制台可以在右边窗口，也可以在底部。最左边的窗格是“编辑器”,您可以使用“运行”按钮在上面键入并运行命令。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/53a2c97e3e744cd75578bab04f8d9be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6_9O2cqXwb9lC0N4_J-pOA.jpeg"/></div></div></figure><p id="2142" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦安装了软件包，就可以加载库，如下所示:</p><figure class="mb mc md me fd ij"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="1bd8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在设置已经完成，让我们开始分析。我们将分析以下股票</p><p id="e35f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.<br/>ONGC石油天然气有限公司2。信实工业有限公司(RIL)</p><p id="d5b0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这两家公司都在美国国家证券交易所(NSE)上市。</p><p id="2542" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以从以下代码中获取股票数据并计算股票的月回报率(自2008年起):</p><figure class="mb mc md me fd ij"><div class="bz dy l di"><div class="mf mg l"/></div></figure><blockquote class="mh"><p id="ebfd" class="mi mj hi bd mk ml mm mn mo mp mq js dx translated">从现在开始，事情将变得丰富多彩&amp;充满活力。</p></blockquote><p id="c4dd" class="pw-post-body-paragraph iv iw hi ix b iy mr ja jb jc ms je jf jg mt ji jj jk mu jm jn jo mv jq jr js hb bi translated">现在我们已经获取了两只股票的月收益记录，我们将合并两只股票的数据，并希望使用dygraph库看到一些趋势</p><figure class="mb mc md me fd ij"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="7726" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行上述代码后，您将得到一个漂亮的动态图形作为输出，只需将鼠标指针放在趋势线上的任意位置，就可以比较每一时间点的两只股票:</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mw"><img src="../Images/be676f53d90ea8968a49c8a8e26048bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SQBh0iy9Yx38ju36Kiu1LQ.jpeg"/></div></div></figure><p id="bdab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧，比较两只股票很酷，但是我们真的能看到这个投资组合的综合收益吗？ </p><p id="ef94" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">答案是肯定的，我们可以。为此，我们必须给投资组合分配权重。为了公平起见，我给了两只股票0.5的权重，这意味着我的投资组合中两只股票的价值相等。</p><p id="8f18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为简单起见，我们将研究一个货币单位在这个投资组合中的表现。下面的代码片段可以用来做这件事:</p><figure class="mb mc md me fd ij"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="785b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">代码的输出显示了投资组合的单位货币在十多年的给定时间内的表现。</p><figure class="mb mc md me fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/d06cc44374a9a5b9fda4c5b298a1020e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fPZSbOF1DaVTB2Y1GdPYzg.jpeg"/></div></div></figure><p id="3d1a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们已经完成了对我们股票的视觉分析。现在让我们来看看这个帖子开始部分讨论的 <strong class="ix hj"> <em class="jw"> S V E </em> </strong> <em class="jw">数字:</em></p><p id="edb8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这段代码将一次性计算所有三个数字:</p><figure class="mb mc md me fd ij"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="2fd6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的代码将为我们提供三个指标的结果。现在重要的问题是，我们如何解释这些结果。</p><blockquote class="jt ju jv"><p id="95c9" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">部分结果解读</strong>:</p></blockquote><ol class=""><li id="0705" class="lm ln hi ix b iy iz jc jd jg lo jk lp jo lq js lr ls lt lu bi translated"><strong class="ix hj">夏普比率:</strong>该比率的负值表示风险投资组合呈现负回报。</li><li id="1da6" class="lm ln hi ix b iy lv jc lw jg lx jk ly jo lz js lr ls lt lu bi translated"><strong class="ix hj">VaR:</strong>ONGC的值为-0.15，表示在95%的置信度下，ONGC值的最大损失约为15%。然而，损失可能更大，但这种情况发生的概率仅为5%</li><li id="8cba" class="lm ln hi ix b iy lv jc lw jg lx jk ly jo lz js lr ls lt lu bi translated"><strong class="ix hj">预期亏空:</strong>ONGC的值为-0.1941，表示ONGC 5%最大负回报的平均值约为19%</li></ol><p id="9579" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">结论:</strong>一般来说，相似的VaR和es值表明ONGC和RIL同样容易受到市场波动的影响。这是有道理的，因为这两家公司都是印度最大的石油和天然气公司。由于新冠肺炎危机，市场处于混乱状态，这解释了所有指标的负面趋势。</p><p id="f936" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好了，暂时就这样吧！我们在这里仅仅触及了皮毛，还有很多东西需要学习。然而，这种分析会让你对如何分析股票有所了解，并且在重新平衡和投资决策时会派上用场。</p><p id="9c82" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw">再次感谢你抽出时间阅读这篇文章。我希望你现在能够自己进行简单的投资组合分析。要重现结果，只需以相同的顺序复制并粘贴github代码片段中的所有代码，并更改您希望分析的股票的名称。</em></p><p id="ae38" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一定要记得看看我用RMarkdown和Shiny做的这个<strong class="ix hj"/><a class="ae iu" href="https://manikhindwan.shinyapps.io/Portfolio_analysis_Quantmod/" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj"><em class="jw">app</em></strong></a><strong class="ix hj"/>，里面有来自一个<strong class="ix hj">实际投资组合</strong>的10只这样的股票的分析。</p></div></div>    
</body>
</html>