<html>
<head>
<title>Creating a Binary Classifier to Predict Eligible Voter Participation in Presidential Elections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建二元分类器来预测总统选举中合格选民的参与</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/creating-a-binary-classifier-to-predict-eligible-voter-participation-in-presidential-elections-9e882fc5da51?source=collection_archive---------20-----------------------#2020-10-06">https://medium.com/analytics-vidhya/creating-a-binary-classifier-to-predict-eligible-voter-participation-in-presidential-elections-9e882fc5da51?source=collection_archive---------20-----------------------#2020-10-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1746" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用2018年综合社会调查的结果</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b8dcce0f1c97b20b3fbd64807e681652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ynBmgFDvQ8U1OQ8gewaoA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@tiffanytertipes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">蒂芙尼·特里普斯</a>在<a class="ae jn" href="https://unsplash.com/s/photos/voting-ballot?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h1 id="e28e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="f0f0" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">即将到来的总统选举被广泛认为是美国近代史上最重要的选举之一。选民外联组织正在不知疲倦地工作，以确保高投票率，特别是在与新冠肺炎疫情有关的新的压制选民的关切中。过去的研究表明，教育、财富和职业等社会经济变量是投票率的强有力预测因素。在这篇文章中，我将介绍我如何使用综合社会调查(GSS)的最新数据建立一个二元分类器来预测选民的参与。具体来说，该模型的目标将是预测受访者<em class="lc">是否没有在2016年总统选举中投票。</em></p><p id="a1d3" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">预测合格选民是否没有投票的能力可用于增加未来选举中的总体投票率。值得注意的是，任何旨在预测人类行为的模型都有内在的局限性，因为个人的态度、动机和环境会在特定时期内发生变化，尤其是在整个总统任期内。此外，对于投票的价值和效力有各种不同的看法，一些有资格的选民可能会在原则上弃权。该项目并不假设每个非投票者都可以或应该选择投票，而是旨在为有意识别潜在非投票者的投票者参与组织提供指导。</p><h1 id="130e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">对数据进行清理和编码</strong></h1><p id="530b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">对于这个数据集，我选择了与受访者的社会经济地位、政治身份和态度以及参与2012年和2016年选举有关的变量。我删除了带有“不适用”和“不知道”等回答的行，还排除了没有资格投票的受访者的数据。如果超过三分之一的列包含丢失的数据，我将删除该列。</p><p id="20f9" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在编码之前，几乎所有的数据都是分类的:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es li"><img src="../Images/b3ac024e040e85e80ae5080b1960858a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJHykw9boPX-y0XECWQznA.png"/></div></div></figure><p id="969e" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">我进行了两种数字编码:</p><ul class=""><li id="8103" class="lj lk hi ki b kj ld km le kp ll kt lm kx ln lb lo lp lq lr bi translated"><strong class="ki hj">二进制编码:</strong>对于只有两个值的变量，取值‘0’和‘1’。零表示“不”缺席，而“1”表示“是”出席。</li><li id="759b" class="lj lk hi ki b kj ls km lt kp lu kt lv kx lw lb lo lp lq lr bi translated"><strong class="ki hj">整数编码:</strong>对应于一个值在一个标度上的级别的整数值。</li></ul><p id="6358" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">幸运的是，所有的特性都可以转换成兼容二进制编码或数字标度。我编写了以下函数来编码每个特性:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="0b19" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">这里有一个例子，我是如何用它把“父亲的最高学历”变量转换成二进制变量“父亲上过大学”</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/d294c27b51c1de01e3ee3f25d36181ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NXpfLO91DzcHYCcFJO4Ujg.png"/></div></div></figure><p id="0d33" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">对每一列重复这个过程(或者在适当的时候使用<code class="du ma mb mc md b">pandas.get_dummies</code>),我得到了一个只包含整数值的数据帧:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/bd2a21596ff24ea898c1be55243aaceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FaddZVxZsbSZaOfS0KnjbQ.png"/></div></div></figure><p id="b29e" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在这个最终的数据集中，有18列来自1，083名受访者的数据。</p><h1 id="5bf4" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">探索性分析</h1><p id="6f80" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">变量的相关矩阵显示，总体而言，相关性比预期的要弱。相关性未超过0.75:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mf"><img src="../Images/b97500eaf4ae4435a3e4048fa92bfe17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPsm7on3sH0LBbGukDkkFg.png"/></div></div></figure><p id="0d66" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">我有兴趣了解与2016年投票最相关的变量在每个阶层中的选民比例。下面的helper函数使用提供的列中的唯一值创建一个字典，并计算投票者的百分比。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="30a4" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">然后，我可以将这个函数插入另一个函数<code class="du ma mb mc md b">plot_voter_perc</code>，给定一个列和绘图标签，它会生成一个选民百分比的绘图。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="369e" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">我使用函数创建了以下条形图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mg"><img src="../Images/319613e1a70532e132e536374b03404d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CSOrJLkC0faVYrAaoj8K3g.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mh"><img src="../Images/081d00ea941cc16a17826d210180ae7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jT5SrkRtaMYrlmwhf7cL4Q.png"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/0dd70a54e34f6d2de100a515732dc272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mC6n0ethgEooRISrqJ_hmw.png"/></div></div></figure><p id="1b72" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在这些变量中，有一个明显的线性模式:投票率随着受访者年龄和教育水平的增加而增加。上层和中产阶级选民的投票率高于下层或工人阶级，自由派和保守派的投票率高于温和派。或许最有趣的是，2012年投票者中也在2016年投票的比例极高。</p><h1 id="b08b" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">建立和优化模型</h1><p id="a98a" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我对数据测试了几种分类器类型，包括逻辑回归、随机森林和梯度推进。其中，随机森林分类器的性能最好。我首先将数据分为训练集和测试集:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="47ae" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">自变量的类别相当不平衡，大多数受访者报告说他们在2016年投票:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/83a7907b434ac4435be3658e7b7c6fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYM0_e5HooaFcAn-w70F6w.png"/></div></div></figure><p id="3d3c" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">当试图预测少数类的实例时，总体准确性不是衡量分类器性能的最佳指标。模型可以预测100%的回答者投票，并且仍然具有相对较高的准确度分数。相反，模型性能是根据<strong class="ki hj">召回</strong>或<strong class="ki hj">真实阳性率</strong>来评估的。在这种情况下，真正的肯定将意味着该模型正确地分类了在2016年<em class="lc">没有</em>投票的受访者。</p><p id="50aa" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在导入正确的依赖关系并将每个模型与数据拟合后，我编写了一个函数，在模型的准确度、召回率、精确度和F1分数旁边绘制一个混淆矩阵。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="d2c0" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">默认模型有一个失败的回忆分数，因为，由于不平衡的类，它预测所有的回答者投票:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/06c230119be976b854c3b58894b6c244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/0*yjku1DDgIwvYOSiZ.png"/></div></figure><p id="376b" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">为了改进模型，我使用了<code class="du ma mb mc md b">RandomizedSearchCV</code>，它将一个估计器和一个参数网格作为参数。它对传入的参数执行非穷举的随机搜索，并返回具有最佳性能的模型。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lx ly l"/></div></figure><p id="ef4d" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">上面的代码给了我以下改进的混淆矩阵:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/19bb7c89df7e6796e133d6b4eb85f255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/0*7gBqxDeJXE4EEMCH.png"/></div></figure><p id="6a62" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">虽然0.74的正确率并不惊人，但这比随机猜测好得多。该模型正确预测了2016年没有投票的79名受访者中的59名。下面的ROC曲线显示了与经过训练和优化的其他模型相比，该模型的表现如何:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/7cc410cbee69c12f3c345e0f4f3f0131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yVbyFZErEMuyJsNxYvl-EQ.png"/></div></div></figure><h1 id="608a" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">结论</h1><p id="1b8b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">随机森林模型具有最高的AUC和与逻辑回归相关的回忆分数，是总体上表现最好的分类器。</p><p id="16bc" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">受访者参与2012年选举似乎是2016年选举投票的最强预测因素，这表明过去的投票行为可能会预测合格选民参与未来的选举。政治身份也是一个强有力的预测因素:认为自己是保守派或自由派的受访者比温和派更有可能投票。投票率似乎也与年龄呈线性正相关。</p><p id="38c2" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">考虑到这些情况，寻求通过吸引潜在的非投票者来增加投票率的组织应该优先考虑那些在过去的选举中没有投票的人、年轻选民和政治温和派。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><p id="05d4" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">完整代码可在<a class="ae jn" href="https://github.com/AvonleaFisher/dsc-mod-3-project-v2-1-onl01-dtsc-ft-070620" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。注意:自本文撰写以来，对GitHub存储库中的上述代码做了一些小的修改，但是随机森林分类器仍然是性能最好的模型。</p></div></div>    
</body>
</html>