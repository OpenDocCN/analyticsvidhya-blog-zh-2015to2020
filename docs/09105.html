<html>
<head>
<title>Predicting Unemployment Rate in COVID situation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">COVID 情形下的失业率预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/predicting-unemployment-rate-in-covid-situation-7209f1aa431d?source=collection_archive---------17-----------------------#2020-08-25">https://medium.com/analytics-vidhya/predicting-unemployment-rate-in-covid-situation-7209f1aa431d?source=collection_archive---------17-----------------------#2020-08-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9648" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">新冠肺炎疫情让全球数百万人失业。</p><p id="9459" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">这项研究是通过使用机器学习来预测未来一年的失业率。它利用了欧洲联盟开放数据门户网站上发布的开放源数据集。</em></p><h1 id="a219" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">探索性数据分析</h1><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kc"><img src="../Images/5001cc0b4450d7257eb7b951f7bdc4e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBSuXoNZqCkaCb8Q8VFuIg.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">来自欧盟开放数据门户的原始数据</figcaption></figure><p id="1ad1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">原始数据集包含来自不同国家的 2000 多条记录。然而，数据中有包含多个合并信息的列，所以首先我需要从复合特征中提取单独的特征。因此，需要一些数据格式化。</p><p id="c0e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我从数据集中取出第一列，并根据逗号(，)将其拆分，然后将处理过的列合并到原始数据集中。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ks"><img src="../Images/20a166e971b44f2a6fccf49d10920e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfaHPVzVjhdqiX8Ng-Ii7Q.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kt"><img src="../Images/2e9a6134fe6c492212570ccc85a73776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GnW14zuu81uy4YpdbCVspQ.png"/></div></div></figure><p id="0e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个实验中，我专注于每个国家过去 10 年的数据。因此，我手动选择了如下所示的列。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ks"><img src="../Images/1fb95f149f3eb84918eb0a0fd0c8b737.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hORavm2GypasJ17HI8-EVQ.png"/></div></div></figure><p id="2e23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 dataframe 中，可以看到我们有一个名为<em class="jd"> geo_time </em>(后来重命名为<em class="jd"> Country_code </em>)的列，有不同的国家代码。</p><p id="905e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我花了一点额外的精力来收集所有国家代码的列表以及它们各自的国名。</p><p id="2cf2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后这个列表以熊猫数据帧的形式被获取。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es ku"><img src="../Images/72ddae64677c521aee81682c77182d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*qTpzCmdj5TZGUABP3KlWsQ.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">国家代码和国家名称</figcaption></figure><p id="cd59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我后来将这个数据帧与原始数据帧合并。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kv"><img src="../Images/de1076bb12fb7ce42cd5bc7abd2b07cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J4iRMY8ynx9LFIzLNNtuxA.png"/></div></div></figure><h1 id="461c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">可视化数据</h1><p id="8ec7" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">对于逐月可视化，有必要将数据框架转换为枢纽数据集(转置)，以便生成时间序列数据。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lb"><img src="../Images/3896bb8f02b5dcbcf7a208965c46144d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6T_I6HyHLgIHklthw1iYtQ.png"/></div></div></figure><p id="de64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过删除包含空格和非数值的值，对数据帧做了进一步的清理。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lc"><img src="../Images/ca92f9ffee364bc5d6817e1a08fc36bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8FA94sb1BJ4qIOQJeUI5Ig.png"/></div></div></figure><p id="072b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我将日期列拆分为年和月，然后按年分组以获得总失业人数。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ld"><img src="../Images/5c208351d89afdc2849cfe7499aed854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jmREJafKFQ54SBr9nLOAQ.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es le"><img src="../Images/128c0574101ad4eec579dde2943e5ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJgTUqZKwcUjHu7g7231IQ.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lf"><img src="../Images/2b03bd55037512f7808ad18d0c76004e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ondtlTpUIFcZZhgHd4AAQ.png"/></div></div></figure><p id="b91b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上图可以明显看出，美国在去年进行了大量的裁员，其次是土耳其。</p><p id="dee9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">西班牙在 2013 年经历了最严重的衰退，此后，它在各公司大力发展劳动力。</p><p id="b7db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我在这个实验中的主要目的是关注 COVID 的情况，所以我决定只获取 2019-2020 年期间的见解。</p><p id="5195" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我对 Year 列应用了值为<em class="jd"> 2019 </em>和<em class="jd"> 2020 </em>的过滤器，之后我得到了下图。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lg"><img src="../Images/19a44b5ba7ade2fddbf7f367e21a7717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pe31VLhbVPWKrvdnE8QNDA.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">2019-2020 年的失业率</figcaption></figure><p id="2e77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今年 4 月，美国公司进行了大规模裁员，之后这种趋势在该国开始减少。</p><h2 id="b060" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated"><strong class="ak">按年龄组</strong></h2><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lv"><img src="../Images/009fff09d27a3ff44a92d97a1eb26907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5eG90Qxo7nJkNEihDA-7Qw.png"/></div></div></figure><p id="09bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在被解雇的人中，受影响最大的年龄组是 25-74 岁。</p><h2 id="9d0a" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">可视化最近十年的数据</h2><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lw"><img src="../Images/5d2512e11e5cbe6ed5d7a85fcdbd0c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vXVEKtOWpJEHJ_s549sw8A.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lx"><img src="../Images/ab2a8643da34bde36df9b6330696f750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tVdGKif8LY1daB91FMO1Bg.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">过去十年的失业率</figcaption></figure><p id="d40d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面突出显示的图表中的突然峰值是在 COVID 情况下出现的。</p><p id="0458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我需要上面的数据来建立一个有效的模型。</p><h1 id="15d7" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">数据建模</h1><p id="427e" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我想对一个特定的国家进行预测。所以，我随便选了一个(就说西班牙吧)。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es ly"><img src="../Images/640abff4bdcda93cbcffd1f55691c3ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*gilrSZDArPzMntahr-DFBQ.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">过去 10 年西班牙的失业趋势</figcaption></figure><p id="f517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述数据显然是非平稳数据。因此，我进行了<strong class="ih hj"> <em class="jd">增强迪基富勒测试</em> </strong>来通过 p 值检查平稳性。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lw"><img src="../Images/3c03566a2468050bb0629ae14d6e717c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vBmJCgFqP5OIsnX51LhkGg.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es lz"><img src="../Images/ad3e513d2adeb6ae79cc0c1c894b0c95.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*wc523wGB7T3vkp3T4hGjGA.png"/></div></figure><p id="a7fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据上图，当前 p 值大于 0.05。</p><p id="ff58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我必须通过对时间序列取对数，然后求差分，将数据转换成平稳数据。<em class="jd">供参考，可以访问我的</em> <a class="ae ma" rel="noopener" href="/analytics-vidhya/time-series-modelling-arima-82453bac7de"> <em class="jd">其他文章</em> </a> <em class="jd">关于利用 ARIMA 模型进行时间序列分析。</em></p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mb"><img src="../Images/58c1198c24b8d0e7dc999d4d07bdd23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DJ7nDov2E0VPWZj5RJZ3bQ.png"/></div></div></figure><p id="9667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重复进行该过程，直到 p 值低于 0.05</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mc"><img src="../Images/5339f80707d2f7659af986abd3d7bd46.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*vIK13IsKh-21hychSDAUoA.png"/></div></figure><p id="cdc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想让建模部分尽可能简单。因此，我决定选择 ARIMA 模型来模拟我的时间序列数据。</p><p id="294d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，对于 ARIMA 模型，我们需要 p 和 q 值，这是通过使用 PACF(部分自相关)和 ACF(自相关)图确定的。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es md"><img src="../Images/7a6b5e3e7977f32c32cea87c31fd3e40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*PWCwxiUFNBt7enJo1_Ok4w.png"/></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es me"><img src="../Images/a1f8f8d7715862c98b7014b9334777fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*vsENqxyLDGLl89GAoH6new.png"/></div></figure><h2 id="0989" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">培训 ARIMA 模型</h2><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mf"><img src="../Images/2d5699c11974fa64c61201ba47b8f1e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*-ZUUAERIxMtjkW1GFrDqsg.png"/></div></figure><p id="c474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我做了残差的核密度估计(KDE)图，它几乎是正态分布，因此表明我的预测是可信的。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mg"><img src="../Images/c3375fe853909e7c3b769166b0dbd64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*87MVp2Xt0FWSVUA-pTa6QQ.png"/></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es mh"><img src="../Images/893f55ed072827532b263bf6e43bc7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i0DDSQXEXL1U7jO-IIVbzQ.png"/></div></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mi"><img src="../Images/007f9e3b06c175c2c92882b75635bda3.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*hxH6TxUTfgTOctyYATr5MQ.png"/></div></figure><h2 id="fd29" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">评估均方误差</h2><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mj"><img src="../Images/48b981eed6b041bc563babbe708579ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*Yl3bxVAbTK3FaxR8xNuFOw.png"/></div></figure><h1 id="76b0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">预测未来失业人数</h1><p id="bde7" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">我们现在希望看到或预测西班牙未来两年的失业人数，即从 2020 年 9 月到 2022 年 6 月。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mk"><img src="../Images/4a04a6fe2155c07f9b51077a8bcee7a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*TDw2iLoEQJe0CeVM4qC3BA.png"/></div></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ml"><img src="../Images/635b405a6c95446e2cab54a0534985de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zuKwFMLO2h1b5E_L97cbMg.png"/></div></div></figure><p id="489b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的图表告诉我们，西班牙未来两年的失业率几乎是稳定的，只是略有上升。</p><p id="dd96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你喜欢这篇文章。如果你有什么意见和建议，请随时写下来。</p></div></div>    
</body>
</html>