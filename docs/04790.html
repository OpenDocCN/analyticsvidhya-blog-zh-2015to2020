<html>
<head>
<title>Getting started with Deep Learning in browser with TF.js Part-1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TF.js浏览器深度学习入门第1部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/getting-started-with-deep-learning-in-browser-with-tf-js-1e949b911e31?source=collection_archive---------25-----------------------#2020-03-31">https://medium.com/analytics-vidhya/getting-started-with-deep-learning-in-browser-with-tf-js-1e949b911e31?source=collection_archive---------25-----------------------#2020-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/470800328032f436a925dbe3bd04ebc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xTPpQAQjT-XaxXXWa73BHg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">学分:tensorflow.org</figcaption></figure><p id="edf6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你是机器学习的初学者，想开始在浏览器中开发模型，这是为你准备的，如果你已经知道TensorFlow Python包装器，并想探索TF.js，你来对地方了！不像传统的博客，我相信实践学习，这就是我们在这里要做的。</p><p id="4ab4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所有的代码都在这里-</p><div class="js jt ez fb ju jv"><a href="https://github.com/Rishit-dagli/Get-started-with-TF.js" rel="noopener  ugc nofollow" target="_blank"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">rishit-dagli/Get-started-with-TF . js</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">一个简单的存储库，可以开始使用TF.js并开始制作简单的模型-Rishit-dagli/Get-started-with-TF . js</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">github.com</p></div></div><div class="ke l"><div class="kf l kg kh ki ke kj io jv"/></div></div></a></div><h1 id="0436" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">可以用TF.js做什么？</h1><ul class=""><li id="f4c3" class="li lj hi iw b ix lk jb ll jf lm jj ln jn lo jr lp lq lr ls bi translated">运行现有模型</li></ul><p id="9533" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用TF.js，您可以非常轻松地使用现成的JavaScript模型或转换Python TensorFlow模型以在浏览器中或Node.js下运行，并且仍然拥有所有功能。</p><ul class=""><li id="3923" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">重新培训现有模型</li></ul><p id="f544" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用您自己的数据重新训练预先存在的ML模型。如果你认为这有点像迁移学习，是的，但是是在浏览器本身。</p><ul class=""><li id="3dca" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">用JavaScript开发ML</li></ul><p id="529e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后，这里是最好的部分，您可以使用灵活而直观的API直接在JavaScript中构建和训练模型，就像您在Python中使用不同的关键字一样。</p><ul class=""><li id="084c" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">几乎支持一切！</li></ul><p id="3be6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">TF.js支持几乎任何库的开发，2020年2月你问我之前；TensorFlow团队也宣布支持React Native，这可以让你去任何地方。</p><p id="4845" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个特性只是TF.js的一个总结，让它不可或缺。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="cc30" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">你需要什么？</h1><p id="832e" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">你所需要的只是最新版本的chrome浏览器和你自己选择的文本编辑器。就是这样。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="fb6d" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">开始吧！</h1><p id="7c3a" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">我们将从创建一个简单的HTML页面并向其中添加JavaScript开始。</p><ul class=""><li id="828a" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">将以下代码复制到一个名为<code class="du ml mm mn mo b">index.html</code>的HTML文件中</li></ul><figure class="mp mq mr ms fd ij"><div class="bz dy l di"><div class="mt mu l"/></div></figure><ul class=""><li id="681e" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">将这段代码复制到一个名为<code class="du ml mm mn mo b">script.js</code>的文件中</li></ul><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="b6c3" class="mz kl hi mo b fi na nb l nc nd">console.log("Hello Home");</span></pre><p id="b54a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在网络浏览器中运行<code class="du ml mm mn mo b">index.html</code>文件。如果你使用Chrome- Ctrl + Shift + I</p><p id="0ce3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于其他浏览器，找到开发者工具选项。在控制台中，你现在可以看到，Hello Home和两个运行时变量<code class="du ml mm mn mo b">tf</code>和<code class="du ml mm mn mo b">tfvis</code>。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="98f7" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">加载数据并创建一些可视化</h1><p id="67ae" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">我们现在将创建一个模型并使用它。在本教程中，我们将使用“汽车”数据集。它包含了每辆车的许多不同特征。我们只想提取关于马力和每加仑英里数的数据。因此，我们将此代码添加到<code class="du ml mm mn mo b">script.js</code></p><figure class="mp mq mr ms fd ij"><div class="bz dy l di"><div class="mt mu l"/></div></figure><p id="5155" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在让我们创建一个可视化的数据散点图，并在<code class="du ml mm mn mo b">script.js</code>中添加这些代码</p><figure class="mp mq mr ms fd ij"><div class="bz dy l di"><div class="mt mu l"/></div></figure><p id="dc37" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当您现在刷新页面时，您将能够看到一个很酷的数据散点图</p><figure class="mp mq mr ms fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/36b739d3a2c6561209181ae5bf8a1810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g03cDNqV6uRLus5PEQYhcQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">数据的散点图</figcaption></figure><p id="a831" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个面板被称为遮阳板，由<a class="ae nf" href="https://github.com/tensorflow/tfjs-vis" rel="noopener ugc nofollow" target="_blank"> tfjs-vis </a>提供。它提供了一个简单而美妙的地方来显示可视化。我们的目标是训练一个模型，它将接受一个数字，<em class="ng">马力</em>，并学会预测每加仑<em class="ng">英里数</em>。让；现在看看我们将如何做到这一点，我希望你知道监督学习和神经网络的基础知识。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="36c1" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">模型</h1><p id="53f0" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">这是最有趣的部分，你将自己尝试和实验。现在让我们开始吧。如果你不了解神经网络，它是一种由一组神经元层组成的算法，这些神经元层的“权重”控制着它们的输出。该神经网络的训练过程学习这些权重的理想值，以获得最准确的输出。让我们看看如何制作一个非常简单的模型-</p><figure class="mp mq mr ms fd ij"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">一个非常简单的模型</figcaption></figure><p id="fa1c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们现在将分解并理解它的每一点。</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="1949" class="mz kl hi mo b fi na nb l nc nd">const model = tf.sequential();</span></pre><p id="4040" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这将实例化一个<code class="du ml mm mn mo b"><a class="ae nf" href="https://js.tensorflow.org/api/latest/#class:Model" rel="noopener ugc nofollow" target="_blank">tf.Model</a></code>对象。这个模型是<code class="du ml mm mn mo b"><a class="ae nf" href="https://js.tensorflow.org/api/latest/#sequential" rel="noopener ugc nofollow" target="_blank">sequential</a></code>,因为它的输入直接流向它的输出。如果您使用过Python包装器，这看起来可能与您类似。</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="86c3" class="mz kl hi mo b fi na nb l nc nd">model.add(tf.layers.dense({inputShape: [1], units: 1, useBias: true}));</span></pre><p id="efb4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这为我们的网络增加了一个输入层<em class="ng">和一个隐藏单元，自动连接到一个“密集”层。<code class="du ml mm mn mo b">dense</code>层是一种将其输入乘以一个矩阵(称为<em class="ng">权重</em>)然后将一个数字(称为<em class="ng">偏差</em>)加到结果上的层。由于这是网络的第一层，我们需要定义我们的<code class="du ml mm mn mo b">inputShape</code>。<code class="du ml mm mn mo b">inputShape</code>是<code class="du ml mm mn mo b">[1]</code>，因为我们有<code class="du ml mm mn mo b">1</code>数字作为输入(给定汽车的马力)。<code class="du ml mm mn mo b">units</code> <strong class="iw hj"> </strong>设置图层中的权重矩阵有多大。通过在此将其设置为1，我们说数据的每个输入要素将有1个权重。</em></p><p id="e1ce" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们需要创建模型的一个实例，所以我们将把这一行代码添加到我们之前创建的run函数中</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="ee14" class="mz kl hi mo b fi na nb l nc nd">const model = createModel();                         tfvis.show.modelSummary({name: 'Model Summary'}, model);</span></pre><p id="d069" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们已经有了模型，我们需要准备数据来输入神经网络。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="4de1" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">准备数据</h1><p id="d286" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">为了获得TensorFlow.js的性能优势，使训练机器学习模型实用化，我们需要将我们的数据转换为<a class="ae nf" href="https://developers.google.com/machine-learning/glossary/#tensor" rel="noopener ugc nofollow" target="_blank">张量</a>。我们还将对我们的数据执行一些最佳实践的转换，即<strong class="iw hj">混排</strong>和<a class="ae nf" href="https://developers.google.com/machine-learning/glossary/#normalization" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">规范化</strong> </a> <strong class="iw hj">。</strong>将此添加到代码中-</p><figure class="mp mq mr ms fd ij"><div class="bz dy l di"><div class="mt mu l"/></div></figure><p id="e1d6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们来分析一下-</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="edf0" class="mz kl hi mo b fi na nb l nc nd">tf.util.shuffle(data);</span></pre><p id="4e92" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这里，我们随机排列将输入到训练算法中的示例的顺序。洗牌很重要，因为通常在训练期间，数据集被分解成更小的子集，称为批次，模型在这些子集上进行训练。这进一步帮助我们去除基于序列的偏见。</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="7fdd" class="mz kl hi mo b fi na nb l nc nd">const inputs = data.map(d =&gt; d.horsepower)<br/>const labels = data.map(d =&gt; d.mpg);<br/><br/>const inputTensor = tf.tensor2d(inputs, [inputs.length, 1]);<br/>const labelTensor = tf.tensor2d(labels, [labels.length, 1]);</span></pre><p id="556b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里，我们首先将2个数组作为输入和标签数组，然后将其转换为张量。</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="6533" class="mz kl hi mo b fi na nb l nc nd">const inputMax = inputTensor.max();<br/>const inputMin = inputTensor.min();  <br/>const labelMax = labelTensor.max();<br/>const labelMin = labelTensor.min();<br/><br/>const normalizedInputs = inputTensor.sub(inputMin).div(inputMax.sub(inputMin));<br/>const normalizedLabels = labelTensor.sub(labelMin).div(labelMax.sub(labelMin));</span></pre><p id="bb57" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里我们使用<a class="ae nf" href="https://en.wikipedia.org/wiki/Feature_scaling#Rescaling_(min-max_normalization)" rel="noopener ugc nofollow" target="_blank"> <em class="ng">最小-最大缩放</em> </a> <em class="ng">将数据标准化到数值范围<code class="du ml mm mn mo b">0-1</code>内。</em>规范化很重要，因为您将使用tensorflow.js构建的许多机器学习模型的内部设计是为了处理不太大的数字。标准化数据的常见范围包括<code class="du ml mm mn mo b">0 to 1</code>或<code class="du ml mm mn mo b">-1 to 1</code>。</p><pre class="mp mq mr ms fd mv mo mw mx aw my bi"><span id="f2a0" class="mz kl hi mo b fi na nb l nc nd">return {<br/>  inputs: normalizedInputs,<br/>  labels: normalizedLabels,<br/>  // Return the min/max bounds so we can use them later.<br/>  inputMax,<br/>  inputMin,<br/>  labelMax,<br/>  labelMin,<br/>}</span></pre><p id="9860" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们将最终返回数据和规范化界限。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="685f" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">结束的</h1><p id="1607" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">这不是结束，我们将在后续博客中探索下一个过程。现在我们首先看到了TF.js的能力，然后我们做了一些很酷的可视化。之后我们做了一个超级简单的神经网络。然后，我们看到了如何预处理数据。接下来，我们将看看如何训练我们的网络并进行预测。</p><p id="1675" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">点击阅读下一篇博客<a class="ae nf" rel="noopener" href="/@rishit.dagli/getting-started-with-deep-learning-in-browser-with-tf-js-d16e0908669e">。</a></p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><h1 id="bdb3" class="kk kl hi bd km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld mh lf lg lh bi translated">关于我</h1><p id="a8f8" class="pw-post-body-paragraph iu iv hi iw b ix lk iz ja jb ll jd je jf mi jh ji jj mj jl jm jn mk jp jq jr hb bi translated">大家好，我是里希特·达利</p><p id="d65c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">领英—inkedin.com/in/rishit-dagli-440113165/<a class="ae nf" href="https://www.linkedin.com/in/rishit-dagli-440113165/" rel="noopener ugc nofollow" target="_blank">T21</a></p><p id="cbb8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae nf" href="http://rishitdagli.ml" rel="noopener ugc nofollow" target="_blank">网址</a> — rishit.tech</p><p id="b62b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你想问我一些问题，报告任何错误，提出改进建议，给出反馈，你可以通过网站上的聊天框或给我发邮件——</p><ul class=""><li id="e048" class="li lj hi iw b ix iy jb jc jf lt jj lu jn lv jr lp lq lr ls bi translated">rishit.dagli@gmail.com</li><li id="89b0" class="li lj hi iw b ix nh jb ni jf nj jj nk jn nl jr lp lq lr ls bi translated">hello@rishit.tech</li></ul></div></div>    
</body>
</html>