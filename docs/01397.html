<html>
<head>
<title>Slackify your IoT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">放松你的工作</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/slackify-your-iot-5f8bda5a129?source=collection_archive---------14-----------------------#2019-10-19">https://medium.com/analytics-vidhya/slackify-your-iot-5f8bda5a129?source=collection_archive---------14-----------------------#2019-10-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/c3625a1653c0d8c05bbdef0f31afa904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zRanuqxFCqssC6rkie8uUQ.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">让你更接近你的智能灯泡</figcaption></figure><div class=""/><p id="3597" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你有没有想过和你的智能灯聊天？你知道，交流阳光下一切的故事，谈论你最有活力的时刻，分享你内心深处对黑暗时代、光明时代的想法……好了，我就不说灯泡双关语了。</p><p id="6149" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是说真的，简单地通过<a class="ae js" href="https://slack.com" rel="noopener ugc nofollow" target="_blank">放松</a>你的灯来打开智能灯不是很酷吗？我觉得会很酷，就试了一下。以下是我学到的东西。</p><h2 id="c131" class="jt ju hx bd jv jw jx jy jz ka kb kc kd jf ke kf kg jj kh ki kj jn kk kl km kn bi translated">制造智能灯</h2><p id="38c9" class="pw-post-body-paragraph iu iv hx iw b ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn ks jp jq jr hb bi translated">起初，我真的打算拿出我曾经拥有的电气工程技能(也忘记了我多年来是一只代码猴子)。我很快放弃了这个想法，意识到实际制作一个智能灯很难，并回到我舒适的代码世界。</p><p id="c59b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为一名数据科学家和人工智能研究人员，我的首选语言是Python。当然，真的开灯会很酷，但是做一件值得信赖的事情对我来说已经够近了。所以，我离开了，去建造我新的想象中的灯泡朋友。</p><p id="9ff5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，我启动了我的虚拟环境:<code class="du kt ku kv kw b">virtualenv venv</code>并编写了我即将感知的光的“固件”:</p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">简单的轻量级固件</figcaption></figure><p id="2794" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">不幸的是，这不是一个特别吸引人的灯泡来满足我对朋友的需求。至少是一直开着的！</p><p id="eed5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">与我的新朋友聊天的第一步是将我的固件连接到云。这是我需要将我的东西(我的灯泡)连接到互联网的地方:输入IoT！我考虑了很多平台——things speak、ThingsBoard和Iotery。</p><p id="7f7f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我决定选择<a class="ae js" href="https://iotery.io" rel="noopener ugc nofollow" target="_blank"> Iotery.io </a>，因为这似乎是我就灯丝与二极管的优点进行深入哲学讨论的最快途径(并且对我的简单应用程序来说是免费的)。它还有许多封装了REST APIs的python SDKs，这让我的生活更加轻松。</p><p id="ac2e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以我去创建了我的团队:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ld"><img src="../Images/f04cb5798373b306986e594203ea6cc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uVQYN-Tv9cS-QVMNDiefDQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">我的新团队</figcaption></figure><p id="5f3d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在创建我的团队后，我被指示创建一个新的<a class="ae js" href="https://iotery.io/device-types" rel="noopener ugc nofollow" target="_blank">设备类型</a>——一个灯泡:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es le"><img src="../Images/02e39dad957f87f3102d100cdf2a7ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbJQ1wEwBQ0pCzXImfl2LA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">创建设备类型—灯泡</figcaption></figure><p id="3be1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">紧接着，我在<code class="du kt ku kv kw b"><a class="ae js" href="https://iotery.io/devices" rel="noopener ugc nofollow" target="_blank">Devices</a></code>菜单选项下创建了一个灯泡设备类型的实例(我的实际灯泡)。我给他取名弗雷德:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lf"><img src="../Images/e70e0c7a94f8615791c97a3d8ded7f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5FG_TWJkk5PmDN-3gGKvpQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">创造一个装置(我的灯泡朋友)——弗雷德！</figcaption></figure><p id="6b44" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我担心Fred的安全，所以我首先尝试使用Iotery的<code class="du kt ku kv kw b">KEYED</code>认证方案，它看起来更安全。但是，我必须在Fred的固件(RSA)中实现X.509非对称证书。我认为弗雷德只要使用Iotery的<code class="du kt ku kv kw b">Basic</code>安全模式就足够安全了:一个序列、密钥和秘密的组合。幸运的是，Iotery的所有REST APIs在传输过程中都用TLS (HTTPS)进行了加密，所以Fred应该是安全的。</p><p id="2479" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我还在Iotery设备面板上给Fred做了一个云连接设备。如果弗雷德是一个真正的灯泡，这将意味着他会说IP (HTTP)。</p><p id="ba13" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后是时候编写固件连接到云，真正成为弗雷德！为了让我的生活更轻松，我安装了嵌入式Iotery Python SDK:</p><pre class="kx ky kz la fd lg kw lh li aw lj bi"><span id="3e20" class="jt ju hx kw b fi lk ll l lm ln">pip install iotery_embedded_python_sdk</span></pre><p id="85b5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Fred还需要最终能够让我了解他的状态，所以他需要报告他的基本状态(开/关)，所以我在Iotery仪表板中创建了一个数据类型:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/0f276c154ed8bde9d5d0b8c47c6d711c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjbCOOnPtwsJCc_mRC9H6A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">弗雷德的状态(一种数据类型)</figcaption></figure><p id="c8ff" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在仔细阅读了Iotery嵌入式SDK的文档和Iotery发布数据的REST API之后，我连接了固件(Fred)向Iotery报告他的状态:</p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">弗雷德灯泡连接到Iotery和报告他的光的状态</figcaption></figure><p id="a3c8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我运行了文件(在做了一个<code class="du kt ku kv kw b">EXPORT IOTERY_TEAM_ID=my-team-id</code>之后)，检查了Iotery仪表板，发现Fred正在报告数据！</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lp"><img src="../Images/076e976449e0d2cb79d14d0ca4a436f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y1oWXZ1mWaQ0SbGr-yrg7A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">弗雷德报告数据！</figcaption></figure><p id="fa33" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我的创作快完成了[插入邪笑]！但是，我需要能够告诉弗雷德(并最终放松他)打开和关闭！</p><p id="b756" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我回到Iotery仪表板，创建了一个<a class="ae js" href="https://iotery.io/command-types" rel="noopener ugc nofollow" target="_blank">命令类型</a>:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lq"><img src="../Images/ca06711411db3874b2d9af80b0845999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EByxRkY0UNGa2QxsbNdmaw.png"/></div></div></figure><p id="d0e5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我还创建了另一种命令类型<code class="du kt ku kv kw b">TURN_LIGHT_OFF</code>。</p><p id="9970" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我需要Fred响应命令实例(命令类型的实例)来打开或关闭。原来，弗雷德每次发布数据(在<code class="du kt ku kv kw b">postData</code>的回应中)都会从Iotery那里得到未执行的命令。</p><p id="3235" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在阅读了关于<a class="ae js" href="https://iotery.io/docs" rel="noopener ugc nofollow" target="_blank"> Iotery构造</a>的内容后，我还了解到Iotery将嵌入式设备(在我们的例子中是Fred)视为真理的来源，所以Fred一旦执行命令就必须告诉Iotery。</p><p id="7dec" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，我使用嵌入式SDK来处理命令:</p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="e8f9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我需要验证它们是否工作，所以我使用设备页面(命令选项卡)来执行我创建的命令类型:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lr"><img src="../Images/62eb9d865e4d9cf0c240a780b8e4c306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BTUpkqYcY0n4K-wAZ15fg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">通过控制台指挥弗雷德</figcaption></figure><p id="108d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">厉害！更接近拥有一个新朋友来照亮我的一天！</p><p id="e0a9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这一点上，我觉得很有成就感。但是，唉，我仍然无法通过Slack与弗雷德聊天。需要做更多的工作…</p><p id="c1c7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">读了一些之后，我发现了很多<a class="ae js" href="https://iotery.io/webhooks" rel="noopener ugc nofollow" target="_blank">网页挂钩</a>。Webhooks将允许我创建自己的RESTful web服务器(Iotery称之为<em class="ls">增值系统</em>)，在那里我可以使用<a class="ae js" href="https://api.slack.com" rel="noopener ugc nofollow" target="_blank"> Slack API </a>最终与Fred聊天！</p><h2 id="81ae" class="jt ju hx bd jv jw jx jy jz ka kb kc kd jf ke kf kg jj kh ki kj jn kk kl km kn bi translated">创建我的网络服务器(增值系统)</h2><p id="ccce" class="pw-post-body-paragraph iu iv hx iw b ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn ks jp jq jr hb bi translated">在了解到我可以在Iotery中设置一个webhook，以便在每次Fred向Iotery发布数据时向我的web服务器发送一些数据后，我开始在Iotery仪表板中使用webhook:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/1cdb709e00b96731d28ea1b125b3434d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y7Ds8EHHq3MdPdzST-uoFQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">使用grok的我的Webhook</figcaption></figure><p id="7785" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我需要在本地开发我的web服务器，所以我决定使用<a class="ae js" href="https://ngrok.io" rel="noopener ugc nofollow" target="_blank"> ngrok </a>。当我启动它(<code class="du kt ku kv kw b">ngrok http 7500</code>)时，ngrok给了我一个URL<a class="ae js" href="https://f38a4488.ngrok.i" rel="noopener ugc nofollow" target="_blank">https://f38a 4488 . ngrok . I</a>o，它将所有流量指向我的本地服务器http://localhost:7500 。</p><p id="5833" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">完美！现在我只需要编写一个web服务器来处理所有进入<a class="ae js" href="http://localhost:7500/light-status" rel="noopener ugc nofollow" target="_blank">http://localhost:7500/light-status</a>的请求。</p><p id="0988" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">保持我的Python主题，我决定为我的RESTful服务器使用<a class="ae js" href="https://www.fullstackpython.com/flask.html" rel="noopener ugc nofollow" target="_blank"> Flask。我创建了另一个文件夹和一个新的<code class="du kt ku kv kw b">virtualenv</code>，安装了Flask ( <code class="du kt ku kv kw b">pip install flask</code>)，然后开始编写我的web服务器:</a></p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Fred发布数据时接收Iotery的webhook的基本REST路径</figcaption></figure><p id="ad87" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">每次弗雷德发布数据时，我的网络服务器(VAS)都会打印“弗雷德发布数据！”。</p><p id="7ce0" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我只需要让弗雷德放松他的状态！我前往<a class="ae js" href="https://api.slack.com" rel="noopener ugc nofollow" target="_blank">松弛API </a>。</p><h2 id="0d13" class="jt ju hx bd jv jw jx jy jz ka kb kc kd jf ke kf kg jj kh ki kj jn kk kl km kn bi translated">配置Slack的传入Webhook</h2><p id="157a" class="pw-post-body-paragraph iu iv hx iw b ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn ks jp jq jr hb bi translated">首先，我创建了一个<a class="ae js" href="https://slack.com" rel="noopener ugc nofollow" target="_blank"> Slack工作空间</a> (fred-talk.slack.com)。我进入工作区管理页面(<a class="ae js" href="https://mobility-dev.slack.com/apps/manage" rel="noopener ugc nofollow" target="_blank">https://mobility-dev.slack.com/apps/manage</a>)，创建了一个新的<code class="du kt ku kv kw b">App</code>名为“弗雷德对话”。</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/d341f470ee9fc90e6feccff36461e638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7RBjGEx1ez2C5zwMPWgfLg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">为与Fred交谈创建新的Slack应用程序</figcaption></figure><p id="bd3d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">与Iotery的Webhooks类似，Slack允许我在我的“Fred Talk”应用程序中创建新的传入webhook:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lv"><img src="../Images/5b37016c331da7160e0462a6d1e6b4cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u06aZmGN8_5m_Qc6vxdlWA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">创建新的传入Webhook来处理来自Fred的数据</figcaption></figure><p id="ee90" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在激活了传入的webhook之后，我让slack创建了一个新的webhook URL，当Fred报告数据时，我可以将它<code class="du kt ku kv kw b">POST</code>到我的web服务器内部。</p><p id="7b71" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我使用请求(<code class="du kt ku kv kw b">pip install requests</code>)对slack webhook API进行HTTP <code class="du kt ku kv kw b">POST</code>。</p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">添加了slack webhook，这样Fred就可以告诉我他的当前状态了！</figcaption></figure><p id="625d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我终于可以实现我一生的梦想，在slack上与我的新电灯泡朋友弗雷德(单向)交谈了！！</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/cf7fc9858143f6805ee8c752b8e6e53a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BOJoXlAJR8zftBto-EhskQ.png"/></div></div></figure><p id="f844" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">好吧！弗雷德能说出自己的想法！！我就快成功了——我只需要让弗雷德放松一下。</p><p id="2568" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我决定最快的方法是使用Slack的斜杠命令并创建一个新命令，这样每当我想和Fred通话(并告诉他开机)时，我只需键入<code class="du kt ku kv kw b">/light-er-up-fred</code>。我使用Slack的仪表板创建了一个新的斜杠命令:</p><figure class="kx ky kz la fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lx"><img src="../Images/4b8e1cb9259cf30b96de25fc8e1269cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIkLTGfYzvafwC9JOZk1zg.png"/></div></div></figure><p id="7878" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">并将网络挂钩指向我的网络服务器(VAS)。我创建了另一个名为<code class="du kt ku kv kw b">/cut-it-out-fred</code>的斜杠命令来关闭弗雷德。</p><p id="e6e7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我所要做的就是在我的VAS中编写一个路由处理器来处理slack的Webhooks，一个用于打开Fred，一个用于关闭Fred。我通过安装Python SDK ( <code class="du kt ku kv kw b">pip install iotery_python_server_sdk</code>)并用我的Iotery团队的<a class="ae js" href="https://iotery.io/system" rel="noopener ugc nofollow" target="_blank"> API键</a>实例化它，使用了<a class="ae js" href="https://iotery.io/docs" rel="noopener ugc nofollow" target="_blank"> Iotery的账户管理器API </a>:</p><figure class="kx ky kz la fd hk"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="00cf" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">嘣！我们可以通过在slack通道中键入<code class="du kt ku kv kw b">/light-er-up-fred</code>或<code class="du kt ku kv kw b">/cut-it-out-fred</code>来让Fred slack，并告诉他打开和关闭！我的梦想终于实现了！我的生活现在有了一点光明。</p></div></div>    
</body>
</html>