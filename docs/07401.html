<html>
<head>
<title>Introduction to NLP Library: Spacy in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NLP库简介:Python中的空间</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/introduction-to-nlp-library-spacy-in-python-a98cf344eb6d?source=collection_archive---------13-----------------------#2020-06-24">https://medium.com/analytics-vidhya/introduction-to-nlp-library-spacy-in-python-a98cf344eb6d?source=collection_archive---------13-----------------------#2020-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/094681a72eecbc5be8a1b9bbe7599f1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*splY8Dn2Q_8L_y3Y7oB_0w.png"/></div></figure><p id="4cdf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">自然语言处理(NLP)允许计算机和机器执行像阅读和理解人类语言这样的任务。<br/>在处理文本数据或理解语言时，我们面临的一个主要挑战是提取那些有意义的模式，并使用这些信息找到可操作的见解。<br/>在今天的帖子中，我们将探索NLP库，它可以帮助我们在文本数据中找到模式。</p><p id="1fa2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jk" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj"> spaCy </strong> </a>是Python中流行且易于使用的自然语言处理库之一。它有助于构建能够处理大量文本并从中获得深刻见解的应用程序。它可以用于与信息提取或自然语言理解系统、深度学习等相关的任务。像Airbnb、Quora、优步这样的公司正在把它用于生产目的，它有一个活跃的开源社区。</p><p id="1900" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">空间</strong>是NLP任务的好选择。spaCy提供的一些特性有</p><ul class=""><li id="bcc2" class="jl jm hi io b ip iq it iu ix jn jb jo jf jp jj jq jr js jt bi translated">标记化</li><li id="c870" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">词汇化</li><li id="d25e" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">实体识别</li><li id="f215" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">依存句法分析</li><li id="ae65" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">句子识别</li><li id="1ec9" class="jl jm hi io b ip ju it jv ix jw jb jx jf jy jj jq jr js jt bi translated">词性标注</li></ul><figure class="jz ka kb kc fd ij"><div class="bz dy l di"><div class="kd ke l"/></div><figcaption class="kf kg et er es kh ki bd b be z dx translated"><a class="ae jk" href="https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">教师百科</strong> </a></figcaption></figure><h1 id="5a4a" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">装置</h1><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="5d48" class="lm kk hi li b fi ln lo l lp lq">pip install spacy</span></pre><p id="4ee6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安装完库之后，我们需要下载一个语言模型。有关更多信息和可用型号，请参见型号的<a class="ae jk" href="https://spacy.io/models" rel="noopener ugc nofollow" target="_blank">文档。</a></p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="f4c2" class="lm kk hi li b fi ln lo l lp lq">python -m spacy download en</span></pre><h2 id="6ce4" class="lm kk hi bd kl lr ls lt kp lu lv lw kt ix lx ly kx jb lz ma lb jf mb mc lf md bi translated">导入库</h2><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="87d0" class="lm kk hi li b fi ln lo l lp lq">import spacy</span><span id="d49a" class="lm kk hi li b fi me lo l lp lq">print(spacy.__version__)</span><span id="4e4d" class="lm kk hi li b fi me lo l lp lq">from spacy.lang.en import English<br/>from spacy import displacy<br/>nlp = spacy.load('en') # loading English language model</span><span id="ce22" class="lm kk hi li b fi me lo l lp lq"># define a test sentence</span><span id="b0ce" class="lm kk hi li b fi me lo l lp lq">test_sent= "Pakistan got independence in 1947. Karachi, Lahore and Islamabad are few of the major cities Pakistan."</span></pre><h1 id="8f60" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">标记化</h1><p id="6f8e" class="pw-post-body-paragraph im in hi io b ip mf ir is it mg iv iw ix mh iz ja jb mi jd je jf mj jh ji jj hb bi translated">它是将文本数据分割成一组单词、符号、标点符号、空格或简短符号的过程。</p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="7836" class="lm kk hi li b fi ln lo l lp lq"># converting our test sentence into an spacy token object<br/># we will use this approach to extract tokens<br/>parsed_sent = nlp(test_sent) <br/>print(type(parsed_sent))</span><span id="ddd3" class="lm kk hi li b fi me lo l lp lq"># it will split the sentence and print all words<br/>print(parsed_sent.text.split())</span></pre><p id="a31d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">SpaCy识别标点符号，并能够将句子拆分成单词和标点符号。</p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="8fa0" class="lm kk hi li b fi ln lo l lp lq"># .orth_ is used for this purpose</span><span id="aaa6" class="lm kk hi li b fi me lo l lp lq">for token in parsed_sent:<br/>    print(token.orth_ )</span><span id="5646" class="lm kk hi li b fi me lo l lp lq"># To print only word without any punctuation, use below code<br/># Method # 01<br/>for token in parsed_sent:<br/>    if not token.is_punct | token.is_space:<br/>        print(token.orth_ )</span><span id="7511" class="lm kk hi li b fi me lo l lp lq"># Method # 02</span><span id="6db8" class="lm kk hi li b fi me lo l lp lq">word_list = [token.orth_ for token in parsed_sent if not token.is_punct | token.is_space]</span><span id="10ed" class="lm kk hi li b fi me lo l lp lq">print(word_list)</span></pre><h1 id="e6fe" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">词性标注</h1><p id="f38d" class="pw-post-body-paragraph im in hi io b ip mf ir is it mg iv iw ix mh iz ja jb mi jd je jf mj jh ji jj hb bi translated">Spacy使得获取词性标签变得容易</p><p id="5a51" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="mk"> N(oun) </em>:这通常表示描绘某种物体或实体的词，这些物体或实体可能是有生命的，也可能是无生命的。</p><p id="03b1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">T21:动词是用来描述某些动作、状态或事件的词。</p><p id="f778" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">形容词是用来描述或修饰其他词的词，通常是名词和名词短语。短语<em class="mk">美丽的花</em>有名词<em class="mk">花</em>用形容词【ADJ】<em class="mk">美丽的</em>来描述或限定。</p><p id="c654" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">副词通常用作其他词的修饰语，包括名词、形容词、动词或其他副词。<em class="mk">非常漂亮的花</em>这个短语有副词(ADV) <em class="mk">非常</em>，修饰形容词(ADJ) <em class="mk">漂亮。</em></p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="3a6c" class="lm kk hi li b fi ln lo l lp lq"># Method # 01</span><span id="ca49" class="lm kk hi li b fi me lo l lp lq">sentence_spans = list(parsed_sent.sents)<br/>displacy.render(sentence_spans, style='dep', jupyter=True)</span><span id="3d53" class="lm kk hi li b fi me lo l lp lq"># Method # 02<br/>for token in parsed_sent:<br/>    print(token.orth_, token.ent_type_ if token.ent_type_ != "" else "(not an entity)")</span></pre><h1 id="55bb" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">实体识别</h1><p id="01d1" class="pw-post-body-paragraph im in hi io b ip mf ir is it mg iv iw ix mh iz ja jb mi jd je jf mj jh ji jj hb bi translated">实体识别是将在文本中发现的命名实体分类到预定义的类别中的过程，例如人、地点、组织、日期等。</p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="78eb" class="lm kk hi li b fi ln lo l lp lq">parsed_sent = nlp(test_sent)<br/>spacy.displacy.render(parsed_sent, style='ent',jupyter=True)</span></pre><h1 id="5adb" class="kj kk hi bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">词汇化</h1><p id="c85c" class="pw-post-body-paragraph im in hi io b ip mf ir is it mg iv iw ix mh iz ja jb mi jd je jf mj jh ji jj hb bi translated">词条化是将每个单词简化为其词根或词条。在spaCy中，我们调用<code class="du ml mm mn li b">token.lemma_</code>来获得每个单词的词条。</p><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="8300" class="lm kk hi li b fi ln lo l lp lq">for token in parsed_sent:<br/>    print(token, ' -&gt; Its Lemma word ', token.lemma_)<br/>    print()</span></pre><h2 id="b37d" class="lm kk hi bd kl lr ls lt kp lu lv lw kt ix lx ly kx jb lz ma lb jf mb mc lf md bi translated">将空间数据转换成数据帧</h2><pre class="jz ka kb kc fd lh li lj lk aw ll bi"><span id="f912" class="lm kk hi li b fi ln lo l lp lq">import pandas as pd</span><span id="a040" class="lm kk hi li b fi me lo l lp lq">df_token = pd.DataFrame()</span><span id="44de" class="lm kk hi li b fi me lo l lp lq">for i, token in enumerate(parsed_sent):<br/>    df_token.loc[i, 'text'] = token.text<br/>    df_token.loc[i, 'lemma'] = token.lemma_,<br/>    df_token.loc[i, 'pos'] = token.pos_<br/>    df_token.loc[i, 'tag'] = token.tag_<br/>    df_token.loc[i, 'dep'] = token.dep_<br/>    #df_token.loc[i, 'shape'] = token.shape_<br/>    #df_token.loc[i, 'is_alpha'] = token.is_alpha<br/>    df_token.loc[i, 'is_stop'] = token.is_stop<br/>    <br/>print(df_token)</span><span id="b97c" class="lm kk hi li b fi me lo l lp lq"># writing dataframe into excel file</span><span id="513b" class="lm kk hi li b fi me lo l lp lq">df_token.to_excel('Tokens Data.xlsx', index=False)</span></pre><p id="bb89" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这些只是这个令人惊叹的NLP库的一些功能。可以参考它的<a class="ae jk" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="1525" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就到了本文的结尾。你也可以检查和探索NLP库<strong class="io hj"> Textblob </strong>。<br/><a class="ae jk" href="http://uzairadamjee.com/blog/textblob/" rel="noopener ugc nofollow" target="_blank">http://uzairadamjee.com/blog/textblob/</a></p><blockquote class="mo mp mq"><p id="4157" class="im in mk io b ip iq ir is it iu iv iw mr iy iz ja ms jc jd je mt jg jh ji jj hb bi translated">完整代码可以从我的github下载；<br/><a class="ae jk" href="https://github.com/uzairaj/TextBlob" rel="noopener ugc nofollow" target="_blank">https://github.com/uzairaj/TextBlob</a></p><p id="01c7" class="im in mk io b ip iq ir is it iu iv iw mr iy iz ja ms jc jd je mt jg jh ji jj hb bi translated">在我的网站和YouTube频道查看更多博客<br/><a class="ae jk" href="http://uzairadamjee.com/blog" rel="noopener ugc nofollow" target="_blank">http://uzairadamjee.com/blog</a><br/><a class="ae jk" href="https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UCCxSpt0KMn17sMn8bQxWZXA</a></p></blockquote><p id="f6cd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">感谢阅读:)</strong></p></div></div>    
</body>
</html>