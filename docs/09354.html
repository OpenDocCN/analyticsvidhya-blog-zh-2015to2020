<html>
<head>
<title>Let's make the “Confusion matrix” less confusing!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们把“混乱矩阵”变得不那么混乱吧！！</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/lets-make-the-confusion-matrix-less-confusing-43cb1a15cba4?source=collection_archive---------8-----------------------#2020-09-03">https://medium.com/analytics-vidhya/lets-make-the-confusion-matrix-less-confusing-43cb1a15cba4?source=collection_archive---------8-----------------------#2020-09-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="e483" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">“怀疑是好的。困惑是极好的。提问很牛逼。所有这些都是扩展心灵智慧的尝试。”<br/> ― <strong class="il hj">马诺亚罗拉</strong></p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es jh"><img src="../Images/2b0a404b6c1bdd70e0b6a363e8f0e500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*XR1R0hLzMMvP9DGAzfkvhA.png"/></div></figure><p id="a3f4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">在一个分类问题中，指定性能评估通常是很重要的。当不同错误分类的成本相差很大时，这可能是有价值的。分类准确度也是显示分类器正确识别对象的程度的度量。</p><p id="169a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">当涉及到可视化分类器的性能时，混淆矩阵也称为列联表或误差矩阵。矩阵的列表示预测类的实例，行表示实际类的实例。(注意:也可以反过来。)</p><blockquote class="if ig ih"><p id="a637" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><strong class="il hj"> <em class="hi">混淆矩阵显示了你的分类模型在做预测时混淆的方式。</em> </strong></p></blockquote></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="1c5e" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">混乱矩阵</h1><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kx"><img src="../Images/c543efa2ffb1f0a3db70f54cda7a92e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*36iglvk1clp0JHwtcdAL_g.png"/></div></figure><p id="3c7f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated"><a class="ae ky" rel="noopener" href="/analytics-vidhya/hypothesis-testing-a-way-to-accept-or-reject-your-hypothesis-using-p-value-d550b127fd1e">混淆矩阵</a>由预测值和实际值组成</p><p id="7249" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">在这个混淆矩阵中，绿色背景是“正确的”单元格:</p><ol class=""><li id="f994" class="kz la hi il b im in iq ir jp lb jq lc jr ld jg le lf lg lh bi translated"><strong class="il hj">真阴性(TN): </strong>分类器预测的值是假的，实际上是假的。</li><li id="e97e" class="kz la hi il b im li iq lj jp lk jq ll jr lm jg le lf lg lh bi translated"><strong class="il hj">真阳性(TP) </strong>:分类器预测的值为真，即实际为真。</li></ol><p id="bb7d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">红色背景是“错误”单元格:</p><ol class=""><li id="6406" class="kz la hi il b im in iq ir jp lb jq lc jr ld jg le lf lg lh bi translated"><strong class="il hj">假阴性(FN) </strong>:分类器预测的值是假的，实际上是真的。这也被称为第二类错误。</li><li id="1ece" class="kz la hi il b im li iq lj jp lk jq ll jr lm jg le lf lg lh bi translated"><strong class="il hj">假阳性(FP) </strong>:分类器预测的值为真，实际为假。这也称为 I 型误差。</li></ol><h1 id="9eeb" class="jz ka hi bd kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks lr ku kv kw bi translated">混淆矩阵的需要是什么？</h1><p id="f550" class="pw-post-body-paragraph ii ij hi il b im ls io ip iq lt is it jp lu iw ix jq lv ja jb jr lw je jf jg hb bi translated">让我们考虑一个新冠肺炎病毒的例子，假设你想预测有多少人在出现症状之前感染了病毒，并把他们从健康人群中隔离出来。我们的目标变量的两个值将是 COVID 正值和非 COVID 正值。</p><p id="4678" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">你可能会想，当我们有准确性来检查我们的结果时，为什么我们还需要一个混淆矩阵。让我们先检查一下我们的准确性！！</p><p id="2c76" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">负类有 1000 个数据点，正类有 30 个数据点。这是我们计算精确度的方法:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es lx"><img src="../Images/8f2aa4a0895207d3075c1624d4a7b348.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/0*IcpU8iNR169nysPt.png"/></div></figure><p id="44c1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">总的结果值是:</p><p id="4fa9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">TP = 20，TN = 950，FP = 20，FN = 10</p><p id="852d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">所以，我们的模型的准确性是:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ly"><img src="../Images/747897d0c22cd3013633463e2a219354.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*CalJGGAJtGMfgEy-JZ0mjw.png"/></div></figure><p id="8b40" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">这里我们的准确率是 97%，还不错！但是它给出了错误的结果。</p><p id="85f9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">我们的模型说“它可以在 97%的时间里预测 COVID 阳性的人”。然而，它正在做相反的事情。它能以 97%的准确率预测出 COVID 阳性的人，而 COVID 阳性的人却在传播病毒！</p><p id="9b00" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">你认为这是衡量我们结果的正确方法吗？？？难道我们不应该衡量我们可以正确预测多少阳性病例来阻止传染性 COVID 的传播吗？或者，在正确预测的案例中，有多少是阳性案例来检查我们模型的可靠性？</p><p id="86fe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">这就是我们遇到<strong class="il hj">精确度和召回的双重概念的地方。</strong></p><h1 id="be41" class="jz ka hi bd kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks lr ku kv kw bi translated">精确度与召回率</h1><h2 id="b39d" class="lz ka hi bd kb ma mb mc kf md me mf kj jp mg mh kn jq mi mj kr jr mk ml kv mm bi translated">精确</h2><blockquote class="if ig ih"><p id="56fc" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">Precision 告诉我们被我们诊断为携带病毒的患者中<strong class="il hj">实际上</strong>携带病毒的比例。</p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mn"><img src="../Images/abd5212ad031e515b90938c03ca616fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*_-6kSeW108s8LDwg4OML5A.png"/></div></figure><p id="167b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated"><strong class="il hj">精度计算方式:</strong></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mo"><img src="../Images/8c995e9321d82960aab2b485f05422f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*hXY1T7-laJu0HRkZlrE9Ag.png"/></div></figure><h2 id="71db" class="lz ka hi bd kb ma mb mc kf md me mf kj jp mg mh kn jq mi mj kr jr mk ml kv mm bi translated"><strong class="ak">召回</strong></h2><blockquote class="if ig ih"><p id="81d3" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">回忆告诉我们实际感染病毒的患者中有多少比例被我们预测为感染了病毒。它应该尽可能高。</p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="ab fe cl mp"><img src="../Images/e38c0f979db76679c76cc9c3c70ed638.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wCWiYY6IuLJ69RssYUTC_g.png"/></div></figure><p id="b601" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated"><strong class="il hj">召回的计算方法:</strong></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es mq"><img src="../Images/c15d3bc6aa3dd75a7832695e41c282fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:342/format:webp/1*DcaKCbZ9cMvaLvs0LoqU8Q.png"/></div></figure><blockquote class="if ig ih"><p id="9c02" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><strong class="il hj">注意:回忆告诉你能找到多少+ve。</strong></p><p id="7c54" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><strong class="il hj"> Precision 告诉你在你预测的+ve 中有多少垃圾。</strong></p></blockquote><h1 id="9591" class="jz ka hi bd kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks lr ku kv kw bi translated"><strong class="ak"> F1 得分</strong></h1><p id="841b" class="pw-post-body-paragraph ii ij hi il b im ls io ip iq lt is it jp lu iw ix jq lv ja jb jr lw je jf jg hb bi translated">实际上，当我们试图提高模型的精确度时，召回率会下降，反之亦然。F1 分数在一个值中捕捉了这两种趋势。</p><p id="aa32" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated"><strong class="il hj"> F1 得分= 2*(精度*召回率/精度+召回率)</strong></p><blockquote class="if ig ih"><p id="b8a7" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">这是对测试准确性的一种衡量。它同时考虑了测试的精确度和召回率，使用调和平均值来计算分数。</p></blockquote><h1 id="f91b" class="jz ka hi bd kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks lr ku kv kw bi translated"><strong class="ak">更多公式</strong></h1><ol class=""><li id="da5d" class="kz la hi il b im ls iq lt jp mr jq ms jr mt jg le lf lg lh bi translated"><strong class="il hj">真阳性率(灵敏度)</strong></li></ol><p id="a523" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">TPR =TP/(TP+FN)</p><p id="202b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated"><strong class="il hj"> 2。假阳性率(特异性)</strong></p><p id="7025" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">FPR = TN/(TN+FP)</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="4c88" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">混淆矩阵使用 scikit-在 Python 中学习</h1><p id="7271" class="pw-post-body-paragraph ii ij hi il b im ls io ip iq lt is it jp lu iw ix jq lv ja jb jr lw je jf jg hb bi translated">我用过最有用的 python 库 scikit——学习解释混淆矩阵。</p><p id="d89a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">该数据集可在 Kaggle 上获得，即泰坦尼克号数据集。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es mu"><img src="../Images/8c90458086641fad98380ef3614f3335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PTPPeHghweH0L4_aNKpkvw.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es mz"><img src="../Images/0b6a084269da063e95ecefcd4cff5f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uCrmBNFB1jxqjUZDzVjnbg.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es na"><img src="../Images/a05325d9d803b24113a4d690fa6f7e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6l2XTkXs9aplr172lpNuHw.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es nb"><img src="../Images/4b009aa850622c57a57a5f2519404230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjaRlAIz6SwNi15fXyogRQ.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es nc"><img src="../Images/173fcba62ea83005ffd51326be722f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QbTwU8DBujfokd9IgSuJXw.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es nd"><img src="../Images/a357436fdd347c463c282f7c239b535c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UuQRsBPYpCkmFYfsufbFKg.png"/></div></div></figure><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es ne"><img src="../Images/4ef4733f6dbcf8276f4f5772a6dce39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HmVxpa5GEli-f8cSB6RAUQ.png"/></div></div></figure><h1 id="4973" class="jz ka hi bd kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks lr ku kv kw bi translated">评估算法</h1><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es nf"><img src="../Images/3e0dcceb340932213febffe52efe693b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9m047C1khqGEU56Zgt9ZXg.png"/></div></div></figure><p id="2897" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">真阳性是 97</p><p id="6b2e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">真阴性是 47</p><p id="0202" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">假阳性是 12</p><p id="4b6d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">假阴性是 23</p><h2 id="d464" class="lz ka hi bd kb ma mb mc kf md me mf kj jp mg mh kn jq mi mj kr jr mk ml kv mm bi translated">现在可以使用性能指标评估模型</h2><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es ng"><img src="../Images/b83544b9aec5bb3f869970a0e2892734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_eB3LEeFXy45TRlhVhWbw.png"/></div></div></figure><h2 id="3692" class="lz ka hi bd kb ma mb mc kf md me mf kj jp mg mh kn jq mi mj kr jr mk ml kv mm bi translated">获得 F 分数</h2><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="er es nb"><img src="../Images/d5abd04bfc736f45bc8cdfdef647ff34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pawzyR47ssumeMzWBX3BFA.png"/></div></div></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="0f32" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">参考链接</h1><ol class=""><li id="72b4" class="kz la hi il b im ls iq lt jp mr jq ms jr mt jg le lf lg lh bi translated">You-tube link: <a class="ae ky" href="https://www.youtube.com/watch?v=Kdsp6soqA7o&amp;t=2s" rel="noopener ugc nofollow" target="_blank">机器学习基础混淆矩阵</a> by <a class="ae ky" href="https://www.youtube.com/results?search_query=%23statquest" rel="noopener ugc nofollow" target="_blank"> statquest </a>。</li><li id="f3db" class="kz la hi il b im li iq lj jp lk jq ll jr lm jg le lf lg lh bi translated"><a class="ae ky" href="https://machinelearningmastery.com/confusion-matrix-machine-learning/" rel="noopener ugc nofollow" target="_blank">https://machine learning mastery . com/confusion-matrix-machine-learning/</a></li><li id="5680" class="kz la hi il b im li iq lj jp lk jq ll jr lm jg le lf lg lh bi translated">书:<a class="ae ky" href="https://www.oreilly.com/library/view/machine-learning-quick/9781788830577/35d1aa26-9a98-4fd0-ada0-af922e84579d.xhtml" rel="noopener ugc nofollow" target="_blank">https://www . oreilly . com/library/view/machine-learning-quick/9781788830577/35 D1 aa 26-9a 98-4fd 0-ada 0-af 922 e 84579d . XHTML</a></li></ol><p id="3ef5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jp iv iw ix jq iz ja jb jr jd je jf jg hb bi translated">我希望你一定清楚困惑矩阵，非常感谢你的阅读。</p></div></div>    
</body>
</html>