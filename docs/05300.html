<html>
<head>
<title>How To Visualize COVID-19 in An Effective Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何有效地形象化新冠肺炎</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-visualize-covid-19-in-an-effective-way-3f9092cfe15a?source=collection_archive---------24-----------------------#2020-04-16">https://medium.com/analytics-vidhya/how-to-visualize-covid-19-in-an-effective-way-3f9092cfe15a?source=collection_archive---------24-----------------------#2020-04-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9e56856b2b7a6c5eec81ff209f037056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BhI2b5g172MIRSIU"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@adeolueletu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Adeolu Eletu </a>拍摄的照片</figcaption></figure><p id="2d21" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我将向你展示如何使用python库来可视化新冠肺炎·疫情。</p><p id="41bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章的结尾你会得到这样的结果:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/a90fe613627293e68b77fe387d7e7616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HIwI_dtMaHdpmQuEkBz4ew.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">静态Choropleth图</figcaption></figure><p id="20bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用于生成此输出的库有:</p><h1 id="5e3d" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Numpy</h1><p id="70f2" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">它是Python编程语言的一个库，增加了对大型多维数组和矩阵的支持，以及对这些数组进行操作的大量高级数学函数。</p><h1 id="5617" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">熊猫</h1><p id="cac1" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">pandas是一个为Python编程语言编写的软件库，用于数据操作和分析。</p><h1 id="ed00" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Plotly</h1><p id="3cdd" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated"><strong class="ix hj"> Plotly Python </strong>库是一个交互式的开源绘图库，支持40多种独特的图表类型，涵盖了广泛的统计、金融、地理、科学和三维用例。</p><p id="1b0e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">构建在<strong class="ix hj"> Plotly </strong> JavaScript库之上。</p><h1 id="a6d9" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Plotly Express</h1><p id="eecd" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">它是一个新的高级<strong class="ix hj"> Python </strong>可视化库。它是<strong class="ix hj"> Plotly.py </strong>的包装器，为复杂的图表提供了简单的语法。</p><h1 id="fda2" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">图形_对象</h1><p id="b318" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">这个包为所有Plotly的图形对象导入定义。</p><p id="dc3e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">包graph_objs和模块graph_objs的原因是为了给用户提供更清晰的API。</p><p id="f5a8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在下面的源代码中，我只关注了一天的恢复案例，即2020年9月4日。</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="f651" class="lg jz hi lc b fi lh li l lj lk"># Import libraries<br/>import numpy as np <br/>import pandas as pd <br/>import plotly as py<br/>import plotly.express as px<br/>import plotly.graph_objs as go</span><span id="830d" class="lg jz hi lc b fi ll li l lj lk">from plotly.subplots import make_subplots<br/>from plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot</span><span id="680c" class="lg jz hi lc b fi ll li l lj lk">init_notebook_mode(connected=True)</span><span id="9102" class="lg jz hi lc b fi ll li l lj lk"># Load data frame and tidy it<br/>df = pd.read_csv('time_series_covid_19_recovered.csv')</span><span id="fbf3" class="lg jz hi lc b fi ll li l lj lk">#convert the column '4/9/2020' type to string<br/>df['4/9/2020'].apply(str)</span><span id="43d4" class="lg jz hi lc b fi ll li l lj lk"># Rename columns<br/>df = df.rename(columns={'Country/Region':'Country'})<br/>df = df.rename(columns={'4/9/2020':'Date'})</span><span id="111e" class="lg jz hi lc b fi ll li l lj lk"># Create the Choropleth<br/>fig = go.Figure(data=go.Choropleth(<br/>    locations=df['Country'], # Spatial coordinates<br/>    z = df['Date'], # Data to be color-coded<br/>    locationmode = 'country names', # set of locations match entries in `locations`<br/>    colorscale = 'Viridis',<br/>    marker_line_color = 'black',<br/>    marker_line_width = 0.5,<br/>))<br/>fig.update_layout(<br/>    title_text = 'Covid-19 recovered cases for the day 09/4/2020',<br/>    title_x = 0.5,<br/>    geo=dict(<br/>        showframe = False,<br/>        showcoastlines = False,<br/>        projection_type = 'equirectangular'<br/>    )<br/>)<br/>fig.show()</span></pre><p id="8489" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要获得一个动态choropleth地图，应该进行下面代码中提到的更新:</p><pre class="ju jv jw jx fd lb lc ld le aw lf bi"><span id="2f33" class="lg jz hi lc b fi lh li l lj lk"># Import libraries<br/>import numpy as np <br/>import pandas as pd <br/>import plotly as py<br/>import plotly.express as px<br/>import plotly.graph_objs as go</span><span id="c278" class="lg jz hi lc b fi ll li l lj lk">from plotly.subplots import make_subplots<br/>from plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot<br/>init_notebook_mode(connected=True)</span><span id="5f54" class="lg jz hi lc b fi ll li l lj lk"># Load data frame and tidy it<br/>df = pd.read_csv('time_series_covid_19_recovered.csv')</span><span id="69df" class="lg jz hi lc b fi ll li l lj lk">#convert the column '4/9/2020' type to string<br/>df['4/9/2020'].apply(str)</span><span id="76cf" class="lg jz hi lc b fi ll li l lj lk"># Rename columns<br/>df = df.rename(columns={'Country/Region':'Country'})<br/>df = df.rename(columns={'4/9/2020':'Date'})</span><span id="b9bd" class="lg jz hi lc b fi ll li l lj lk"># Creating the visualization <br/><strong class="lc hj"><em class="lm">#start of the update </em></strong><br/><strong class="lc hj">fig = px.choropleth(df, <br/>                    locations="Country", <br/>                    locationmode = "country names",<br/>                    color="Date", <br/>                    hover_name="Country", <br/>                    animation_frame="Date"<br/>                   )<br/><em class="lm">#end of the update</em></strong><br/>fig.update_layout(<br/>    title_text = 'Covid-19 recovered cases for the day 09/4/2020',<br/>    title_x = 0.5,<br/>    geo=dict(<br/>        showframe = False,<br/>        showcoastlines = False,<br/>    ))<br/>    <br/>fig.show()</span></pre><p id="8d08" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/c85022efbf742bc5440348946f66800c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xu4hUe_e6wAmI_UaEmr3aQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">动态Choropleth图</figcaption></figure><h1 id="bb36" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论:</h1><p id="c9c1" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">choropleth地图显示划分的地理区域或地区，这些区域根据数字变量进行着色。</p><p id="2cd6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它允许研究一个变量如何沿着一个领域演化。</p><p id="3299" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它是一种强大且广泛使用的数据可视化技术。</p><p id="6df2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，它的缺点是面积越大的区域在地图解释中的权重越大，这就包含了偏差。</p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h1 id="b79f" class="jy jz hi bd ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv bi translated">感谢阅读！</h1><p id="f2b2" class="pw-post-body-paragraph iv iw hi ix b iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo la jq jr js hb bi translated">如果你喜欢我的工作，喜欢支持我…</p><ul class=""><li id="99bf" class="lz ma hi ix b iy iz jc jd jg mb jk mc jo md js me mf mg mh bi translated">在twitter上关注我<a class="ae iu" href="https://twitter.com/zelakioui" rel="noopener ugc nofollow" target="_blank">这里</a></li><li id="147d" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">在facebook上关注我<a class="ae iu" href="https://www.facebook.com/zelakioui" rel="noopener ugc nofollow" target="_blank">这里</a></li><li id="8e41" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">在我的<a class="ae iu" href="https://www.youtube.com/channel/UCU_LhClyNOtEQw7R0q9ovoQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> Youtube频道</strong> </a>上订阅，我分享了许多类似这样的精彩内容，但都是视频</li><li id="1de4" class="lz ma hi ix b iy mi jc mj jg mk jk ml jo mm js me mf mg mh bi translated">看看我的博客网站<a class="ae iu" href="http://selcote.com/" rel="noopener ugc nofollow" target="_blank">selcote.com</a></li></ul><h1 id="8780" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">资源</h1><div class="mn mo ez fb mp mq"><a href="https://www.kaggle.com/vignesh1694/covid19-coronavirus" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hj fi z dy mv ea eb mw ed ef hh bi translated">新冠肺炎冠状病毒数据集</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">约翰·霍普斯金发布的冠状病毒数据</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">www.kaggle.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne io mq"/></div></div></a></div></div></div>    
</body>
</html>