<html>
<head>
<title>Regular Expressions: What and Why?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正则表达式:什么和为什么？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-write-a-regular-expression-ebc89d0b0258?source=collection_archive---------14-----------------------#2020-09-03">https://medium.com/analytics-vidhya/how-to-write-a-regular-expression-ebc89d0b0258?source=collection_archive---------14-----------------------#2020-09-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e5d9c392c4d0dd1873a14e51418d7419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dl0F36mQqB_LNtA_dKd3ug.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">图片来源:<a class="ae hv" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a></figcaption></figure><div class=""/><blockquote class="iv iw ix"><p id="11b1" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">正则表达式是一种强大的搜索和替换技术，你可能在不知情的情况下使用过。无论是文本编辑器的“查找和替换”功能，还是使用第三方npm模块验证http请求体，或者是终端基于某种模式返回文件列表的能力，它们都以某种方式使用正则表达式。这不是一个程序员必须明确学习的概念，但是通过了解它，你可以在某些情况下降低代码的复杂性。</p><p id="7d6e" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><em class="hy">在本教程中，我们将学习</em> <strong class="jb hz"> <em class="hy"> javascript中正则表达式的关键概念和一些用例。</em> </strong></p></blockquote><h1 id="892d" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">如何编写正则表达式？</h1><p id="9572" class="pw-post-body-paragraph iy iz hy jb b jc kv je jf jg kw ji jj kx ky jm jn kz la jq jr lb lc ju jv jw hb bi translated">用Javascript编写正则表达式有两种方法。一种是通过创建一个<strong class="jb hz">文字</strong>，另一种是使用<strong class="jb hz"> RegExp </strong>构造函数。</p><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="06f0" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated">虽然在对特定字符串进行测试时，两种类型的表达式将返回相同的输出，但是使用<code class="du lj lk ll lm b">RegExp</code>构造函数的好处是它在运行时被评估，因此允许对动态正则表达式使用javascript变量。此外，正如在这个<a class="ae hv" href="https://www.measurethat.net/Benchmarks/Show/1734/1/regexp-constructor-vs-literal#latest_results_block" rel="noopener ugc nofollow" target="_blank">基准测试</a>中所看到的，在模式匹配中<code class="du lj lk ll lm b">RegExp</code>构造函数比字面正则表达式表现得更好。</p><p id="ec1a" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated">任何一种表达式的语法都由两部分组成:</p><ul class=""><li id="2960" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><strong class="jb hz">模式</strong>:字符串中需要匹配的模式。</li><li id="8e53" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz">标志</strong>:这些是修饰符，是描述如何执行模式匹配的规则。</li></ul><h1 id="9389" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">方法</strong></h1><p id="55b2" class="pw-post-body-paragraph iy iz hy jb b jc kv je jf jg kw ji jj kx ky jm jn kz la jq jr lb lc ju jv jw hb bi translated">下面描述了正则表达式常用的一些方法:</p><p id="b7c3" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated"><strong class="jb hz">测试</strong>:对象<code class="du lj lk ll lm b">RegExp</code>的<code class="du lj lk ll lm b">test</code>方法允许你测试你的字符串或者它的一部分是否匹配正则表达式。</p><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="05fe" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated">这里的<code class="du lj lk ll lm b">i</code>标志确保模式匹配不区分大小写。所以在使用这个标志时,“cat”和“Cat”被认为是相同的。</p><p id="6fdd" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated"><strong class="jb hz"> exec : </strong>另一个常用的方法是<code class="du lj lk ll lm b">exec</code>方法，它带有一个<code class="du lj lk ll lm b">g</code>标志，允许我们循环遍历我们的字符串并获得关于每个匹配的详细信息。</p><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="e4dc" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated">在上面的代码中，使用了<code class="du lj lk ll lm b">i</code>和<code class="du lj lk ll lm b">g</code>标志的组合，使其不区分大小写并允许多个匹配。正则表达式的<code class="du lj lk ll lm b">lastIndex</code>属性是字符串中在前一次匹配后进行匹配的位置。</p><p id="9489" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated"><strong class="jb hz"> match : </strong>最后，我们还有String.prototype的<code class="du lj lk ll lm b">match</code>方法，当与<code class="du lj lk ll lm b">g</code>标志一起使用时，它返回特定正则表达式模式的所有匹配的数组。</p><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><blockquote class="iv iw ix"><p id="7a27" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">注意:如果没有使用 <code class="du lj lk ll lm b"><em class="hy">g</em></code> <em class="hy">标志</em>，match r <em class="hy">只返回第一个匹配</em></p></blockquote><h1 id="57c4" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">旗帜</h1><p id="f33a" class="pw-post-body-paragraph iy iz hy jb b jc kv je jf jg kw ji jj kx ky jm jn kz la jq jr lb lc ju jv jw hb bi translated">如上所示的标志定义了模式匹配的行为。下面介绍了六种最常用的标志:</p><ul class=""><li id="236b" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> i </em> </strong>:模式匹配不区分大小写</li><li id="69e1" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> g </em> </strong>:如果使用此标志，模式匹配将返回特定模式的所有匹配，否则将只返回第一个匹配。</li><li id="729f" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> m </em> </strong>:多行模式匹配使用此标志</li><li id="c5c4" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> s </em> </strong>:点匹配一个换行符\n。</li><li id="b1f6" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> u </em> </strong>:匹配全unicode</li><li id="cb35" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> <em class="ja"> y </em> </strong>:从上次匹配结束的地方继续匹配</li></ul><p id="a3ab" class="pw-post-body-paragraph iy iz hy jb b jc jd je jf jg jh ji jj kx jl jm jn kz jp jq jr lb jt ju jv jw hb bi translated">通过简单地将它们一个接一个地连接起来，所有这些标志可以彼此结合使用。</p><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><h1 id="9ff0" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">速记班</h1><p id="6081" class="pw-post-body-paragraph iy iz hy jb b jc kv je jf jg kw ji jj kx ky jm jn kz la jq jr lb lc ju jv jw hb bi translated">Javascript附带了各种速记字符类，为编写正则表达式提供了一种便捷的方式:</p><ul class=""><li id="7979" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><strong class="jb hz"> \s </strong>(匹配空格)</li><li id="ba40" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> \S </strong>(匹配非空白字符)</li><li id="20de" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> \d </strong>(匹配[0–9])</li><li id="cd98" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> \D </strong>(匹配非数字字符)</li><li id="1273" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> \w </strong>(匹配所有ascii字符)</li><li id="7a4b" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><strong class="jb hz"> \W </strong>(匹配非文字字符)</li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><h1 id="5198" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">常见使用案例</h1><ul class=""><li id="44cd" class="ln lo hy jb b jc kv jg kw kx mb kz mc lb md jw ls lt lu lv bi translated"><em class="ja">仅匹配字母</em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="8fa9" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">仅匹配数字</em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="ce9a" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">匹配beginning(^) </em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="1113" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">比赛结束($) </em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="f6aa" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">匹配一个或多个(+) </em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="bb8b" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">匹配零个或多个字符(*) </em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="66f9" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">匹配一定长度({minlength，maxlength}) </em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><ul class=""><li id="ea6a" class="ln lo hy jb b jc jd jg jh kx lp kz lq lb lr jw ls lt lu lv bi translated"><em class="ja">零和一之间的匹配(？)</em></li></ul><figure class="ld le lf lg fd hk"><div class="bz dy l di"><div class="lh li l"/></div></figure><blockquote class="iv iw ix"><p id="9e3c" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">注意，当使用RegExp构造函数时，速记类的反斜杠必须用\\而不是\进行转义。因此，最后一个用例中的正则表达式与下面给出的文字正则表达式相同:</p><p id="a77a" class="iy iz ja jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><code class="du lj lk ll lm b">const reg=/\w+\.{1}docx?$/g</code></p></blockquote><h1 id="d5c8" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">结论</strong></h1><p id="e3d8" class="pw-post-body-paragraph iy iz hy jb b jc kv je jf jg kw ji jj kx ky jm jn kz la jq jr lb lc ju jv jw hb bi translated">本教程只是解释正则表达式及其功能的冰山一角。我有意保留了分组、懒惰(。<em class="ja">？)vs贪心(。</em>)匹配和前瞻出本教程，确保内容不至于铺天盖地。任何想深入了解这些概念的人都可以通过下面给出的链接:</p><h1 id="3387" class="jx jy hy bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">有用的链接:</h1><ul class=""><li id="f8b0" class="ln lo hy jb b jc kv jg kw kx mb kz mc lb md jw ls lt lu lv bi translated"><a class="ae hv" href="https://www.measurethat.net/Benchmarks/Show/1734/1/regexp-constructor-vs-literal#latest_results_block" rel="noopener ugc nofollow" target="_blank">使用正则表达式与新的JS正则表达式构造函数的基准测试结果</a></li><li id="a5be" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://regex101.com/" rel="noopener ugc nofollow" target="_blank">在线正则测试仪</a></li><li id="1b90" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://www.debuggex.com/" rel="noopener ugc nofollow" target="_blank"> Debuggex </a></li><li id="1f78" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://www.thepolyglotdeveloper.com/2015/05/use-regex-to-test-password-strength-in-javascript/" rel="noopener ugc nofollow" target="_blank">密码强度验证</a></li><li id="4ed5" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions" rel="noopener ugc nofollow" target="_blank"> Sampson关于“在正则表达式的上下文中‘懒惰’和‘贪婪’是什么意思？”</a></li><li id="a144" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://www.regular-expressions.info/tutorial.html" rel="noopener ugc nofollow" target="_blank">正则表达式信息</a></li><li id="b759" class="ln lo hy jb b jc lw jg lx kx ly kz lz lb ma jw ls lt lu lv bi translated"><a class="ae hv" href="https://www.rexegg.com/regex-quickstart.html" rel="noopener ugc nofollow" target="_blank">正则表达式备忘单</a></li></ul></div></div>    
</body>
</html>