<html>
<head>
<title>Time Series Analysis — Stationarity Check using Statistical Test</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列分析—使用统计测试进行平稳性检查</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/time-series-analysis-stationarity-check-using-statistical-test-f106e9045370?source=collection_archive---------7-----------------------#2020-05-01">https://medium.com/analytics-vidhya/time-series-analysis-stationarity-check-using-statistical-test-f106e9045370?source=collection_archive---------7-----------------------#2020-05-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="e068" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">本文将集中讨论进行统计检验的过程，特别是为了检验一个给定的时间序列是否平稳而进行的扩展的Dickey Fuller检验。</p></blockquote><p id="c1f5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">确保时间序列数据平稳与否，是时间序列建模的重要预处理方法。在时间序列中，增加趋势、季节性和其他依赖于时间的结构很容易违反平稳性假设。</p><p id="ca3e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">趋势可以导致随时间变化的平均值，而季节性可以导致随时间变化的方差，这两者都将时间序列定义为非平稳的。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="ab fe cl jp"><img src="../Images/77c51cb36f9c392d0770b9efedc97b73.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-ecA_r11hpyIEUJSwBAtAA.png"/></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="ab fe cl jp"><img src="../Images/51e36cb8395d3b8c447b04d325ebad5b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Szw6ASebd7WN9GXJeVDNpQ.png"/></div></figure><p id="cbfe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，我们分析的第一步应该是检查是否有任何趋势或季节效应的证据，如果有的话，消除它们。</p><h1 id="e063" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">增强迪基富勒试验</h1><p id="f6f0" class="pw-post-body-paragraph ii ij hi il b im kq io ip iq kr is it jh ks iw ix ji kt ja jb jj ku je jf jg hb bi translated"><em class="ik"> Augmented Dickey-Fuller </em>是我们用来确定时间序列是否平稳的统计测试。</p><p id="b7b7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">扩展的Dickey Fuller检验检验时间序列样本中存在单位根的零假设。另一个假设通常是平稳性或趋势平稳性。</p><p id="be8c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">测试中使用的增强Dickey-Fuller(ADF)统计量是一个负数。越是否定，就越是强烈的拒绝在某个置信水平上存在单位根的假设。</p><p id="0359" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果<em class="ik">p&gt;T3】0.05，那么零假设成立，说明时间序列不是平稳的。</em></p><p id="9edb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">否则如果，<em class="ik"> p &lt; = </em> 0.05，那么零假设被拒绝，时间序列是平稳的。</p><p id="13b5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik"> p </em>此处，表示滞后的顺序或当前数据和过去数据之间的差异。例如，今天和昨天的数据之间的差异。</p><p id="3eb7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们的主要目的是<strong class="il hj">拒绝零假设。</strong></p><p id="4e00" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在数学上，通过在模型中包括<strong class="il hj"><em class="ik">t-p</em></strong><em class="ik"/>输出值，增强的Dickey-Fuller检验允许更高阶的自回归过程。</p><h1 id="225a" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">举例说明</h1><p id="1560" class="pw-post-body-paragraph ii ij hi il b im kq io ip iq kr is it jh ks iw ix ji kt ja jb jj ku je jf jg hb bi translated">让我们用一小块数据来举例。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es kv"><img src="../Images/66b2b870da642568746b096f67da558a.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*Zi5YaQSAkWGZuG6AfKcxyg.png"/></div></figure><p id="cb46" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">滞后阶数= 1意味着将Y列移动1位，如下所示。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es kw"><img src="../Images/656029f1035d069b197d31f45fca1c6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*KTjtfpLplpIVz98MyNk-0g.png"/></div></figure><p id="dea6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">上面还显示了上周的数值(<em class="ik"> t-1 </em>)。</p><p id="52f2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">类似地，滞后阶数= 2意味着进一步微分或转移到下一个级别。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es kx"><img src="../Images/344cc2ed0f94200b22d5427ecd56a529.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*YAXJoGFbkAfS3gwzEl5h2A.png"/></div></figure><p id="d86f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">接下来，我们删除缺少值的行以获得下面的结果。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es ky"><img src="../Images/12b0a7a3171e03c2e16a2f8fd50c2740.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*ymJ1h_VBZIwbYbSQNBHR4w.png"/></div></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es ld"><img src="../Images/ca52d7c60ad847596d82079e365ffc62.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*crItRHWVnsXrngfLLI2ttg.png"/></div></figure><p id="6395" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在每个分化水平，我们试图找出p值，并检查它是否小于或等于临界值(0.05)。</p><p id="5c65" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">移位或微分将继续进行，直到我们得到小于或等于0.05的p值。</p><h1 id="d4c6" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">纲领性解释</h1><p id="9a3c" class="pw-post-body-paragraph ii ij hi il b im kq io ip iq kr is it jh ks iw ix ji kt ja jb jj ku je jf jg hb bi translated">让我们通过几行代码实现同样的事情。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es le"><img src="../Images/5306098b7e99c41824a4f96991952269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ycn-W1qFtkH9yJogcPJV0A.png"/></div></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es lf"><img src="../Images/64c21088af9c0e73d720944cc635b879.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*ixej5X12RtN4ljQNhQZdZg.png"/></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es lg"><img src="../Images/c6eb91b303bf541b6d8dd3eba71789e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*5llPuY8wudQQ4xHRaL2pkQ.png"/></div></figure><p id="10f0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">从上面的图中，我们可以看到，即使方差变化不大，平均值在整个数据中也会变化很大。计算的p值也是0.19，大于0.05。</p><p id="7248" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，我们需要执行一个级别的微分，或者换句话说，移动滞后阶数=1的时间序列数据</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es lh"><img src="../Images/5c57b1208dd432c450270e17c72b3efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*AltVrkJnsvXZ7UCJ-ogHxw.png"/></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es li"><img src="../Images/5ab36829f02d7f351e3fe9c6469b2b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*e-h1wFqK-UfbpfPGtQBxcA.png"/></div></figure><p id="429a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">现在，让我们再次执行<em class="ik">check _ stationary</em>函数来检查p值。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es lj"><img src="../Images/9685b5563069beae533aa55e1bb83de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fwHoy9SHo4L3OT9kF7SoaQ.png"/></div></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es li"><img src="../Images/8c9e639027ce146f48ced3bc5a32a035.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*XhnTjVoFSUaqGZpLXugc-w.png"/></div></figure><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es lk"><img src="../Images/50b47ce0c90e6441aea0d476ce58cf37.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*6qGajsy4AO4a9wmAGa-FQQ.png"/></div></figure><p id="1f57" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们可以注意到，平均值现在在整个数据中几乎保持不变。新的p值为0.0，小于0.05。</p><p id="5dcd" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">上面告诉我们，我们现在已经达到了平稳，在<em class="ik"> k=1 </em>。</p><h2 id="4d7b" class="ll jt hi bd ju lm ln lo jy lp lq lr kc jh ls lt kg ji lu lv kk jj lw lx ko ly bi translated">取对数有什么好处？</h2><ul class=""><li id="6e99" class="lz ma hi il b im kq iq kr jh mb ji mc jj md jg me mf mg mh bi translated">它将给出滞后阶数较少的时间序列的平稳性。基本上，它试图降低季节性的幅度。</li><li id="021b" class="lz ma hi il b im mi iq mj jh mk ji ml jj mm jg me mf mg mh bi translated">线性数据比指数数据的时间序列更精确。</li></ul><p id="1eb2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我希望您现在对使用ADF检验来检查时间序列数据的平稳性有了清楚的了解。在我的<a class="ae mn" rel="noopener" href="/@souvikmajumder31/time-series-modelling-arima-82453bac7de">下一篇文章</a>中，我已经解释了ARIMA在数据建模中的用途。</p></div></div>    
</body>
</html>