<html>
<head>
<title>Install TensorFlow 2.0 along with all packages on Anaconda for Windows 10 and Ubuntu</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Anaconda for Windows 10和Ubuntu上安装TensorFlow 2.0以及所有软件包</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/install-tensorflow-2-0-along-with-all-packages-on-anaconda-for-windows-10-and-ubuntu-86a89ba51983?source=collection_archive---------0-----------------------#2019-12-03">https://medium.com/analytics-vidhya/install-tensorflow-2-0-along-with-all-packages-on-anaconda-for-windows-10-and-ubuntu-86a89ba51983?source=collection_archive---------0-----------------------#2019-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/02b876068c2577139c88dbdd911a9bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WUUmLUDx8WFlWJpy.png"/></div></div></figure><p id="e79a" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">Anaconda使安装TensorFlow变得很容易，支持您的数据科学、机器学习和人工智能工作流。</p><p id="86c7" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">但是，在创建一个新环境来安装TensorFlow之后，开始逐个安装所有包是令人沮丧的。在这里，我们将学习如何安装TensorFlow，并通过将已预安装的软件包克隆到新的TensorFlow环境中来利用它们。</p><p id="968c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">我们还将建立张量流，并用TF 2.0实现MNIST分类……言归正传。</p><p id="a0bd" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">TensorFlow 2.0专注于简单易用，包括以下更新:</p><ul class=""><li id="a02c" class="jw jx hi ja b jb jc jf jg jj jy jn jz jr ka jv kb kc kd ke bi translated">使用Keras和热切的执行轻松构建模型。</li><li id="7000" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">在任何平台上的生产中实现强大的模型部署。</li><li id="356e" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">强大的研究实验。</li><li id="55f8" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">通过清理废弃的API和减少重复来简化API。</li></ul><p id="2e4a" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">TF 2.0集成了Keras API。当您安装TensorFlow Kears时，它会自动提供。Keras是一个极其流行的高级API，用于构建和训练深度学习模型。</p><p id="eb32" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">注意:如果你是TensorFlow的新手，不要担心TF1.x，只需从TF2.0开始，查看TensorFlow网站<a class="ae kk" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank">即可开始。</a></p><p id="bb5a" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">让我们开始安装和设置TensorFlow 2.0…</p><h1 id="44f2" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">Python 3.6+到Anaconda</h1><p id="b6dc" class="pw-post-body-paragraph iy iz hi ja b jb lj jd je jf lk jh ji jj ll jl jm jn lm jp jq jr ln jt ju jv hb bi translated">Anaconda with Jupyter提供了一种更简单的方法来安装和使用Python。</p><p id="ca02" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">安装Anaconda相对简单。</p><p id="eac1" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 1。</strong>下载Anaconda——点击此<a class="ae kk" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank">链接</a>下载Anaconda。</p><p id="cf46" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">类似于<code class="du lo lp lq lr b">pip</code>，对于Anaconda，我们有<code class="du lo lp lq lr b">conda</code>来创建虚拟环境和安装包。</p><p id="f8e9" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">安装Anaconda后—打开Anaconda提示符—</p><p id="2e58" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 2。</strong>我们可以直接创建一个包含TF2的环境，因为Anaconda支持Tensorflow 2.0.0</p><p id="bfe3" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">Anaconda附带了一个根环境，名为base。我们将从中克隆一个新的环境。(基础环境中安装的所有软件包现在都将出现在新环境中)。</p><blockquote class="ls lt lu"><p id="2cc9" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated"><code class="du lo lp lq lr b">conda create -n <strong class="ja hj">your-env-name</strong> --clone base</code></p></blockquote><p id="ab0b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">根据您在基础环境中安装的软件包的数量或大小，完成克隆可能需要一些时间。</p><p id="55b6" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">克隆完成后，</p><p id="2550" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 3。</strong>激活您的环境</p><blockquote class="ls lt lu"><p id="1184" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated"><code class="du lo lp lq lr b">conda activate <strong class="ja hj">your-env-name</strong></code></p></blockquote><p id="b1fd" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">要确认所有软件包都已成功克隆，请运行以下命令</p><blockquote class="ls lt lu"><p id="bab0" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated"><code class="du lo lp lq lr b">conda list -n <strong class="ja hj">your-env-name</strong></code></p></blockquote><p id="1874" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">在开始TensorFlow安装之前，我们将更新<code class="du lo lp lq lr b">pip</code></p><blockquote class="ls lt lu"><p id="01c2" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated"><code class="du lo lp lq lr b">pip install --upgrade pip</code></p></blockquote><p id="d097" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 4。</strong>安装张量流2.0</p><blockquote class="ls lt lu"><p id="f6f9" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated"><code class="du lo lp lq lr b">pip install --upgrade tensorflow</code></p></blockquote><p id="5301" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> 5。</strong>测试安装</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="f625" class="md km hi lr b fi me mf l mg mh">python -c “import tensorflow as tf; x = [[2.]]; print(‘Tensorflow Version ’, tf.__version__); print(‘hello TF world, {}’.format(tf.matmul(x, x)))"</span></pre><p id="5093" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">输出将是(忽略系统消息)，</p><blockquote class="ls lt lu"><p id="75eb" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated">Tensorflow版本2.0.0</p><p id="122d" class="iy iz lv ja b jb jc jd je jf jg jh ji lw jk jl jm lx jo jp jq ly js jt ju jv hb bi translated">你好TF世界，[[4。]]</p></blockquote><h1 id="9584" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">TensorFlow 2.0示例:基本分类:对服装图像进行分类</h1><p id="d914" class="pw-post-body-paragraph iy iz hi ja b jb lj jd je jf lk jh ji jj ll jl jm jn lm jp jq jr ln jt ju jv hb bi translated">我们将训练一个神经网络模型来对服装图像进行分类，比如运动鞋和衬衫。</p><p id="1979" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">本指南使用了<a class="ae kk" href="https://www.tensorflow.org/guide/keras" rel="noopener ugc nofollow" target="_blank"> tf.keras </a>，这是一个在TensorFlow中构建和训练模型的高级API。</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="0749" class="md km hi lr b fi me mf l mg mh">import matplotlib.pyplot as plt</span><span id="f9c5" class="md km hi lr b fi mi mf l mg mh">import tensorflow as tf</span><span id="f863" class="md km hi lr b fi mi mf l mg mh">layers = tf.keras.layers</span><span id="3809" class="md km hi lr b fi mi mf l mg mh">import numpy as np</span><span id="a9ff" class="md km hi lr b fi mi mf l mg mh">print(tf.__version__)</span></pre><p id="b35c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">从<code class="du lo lp lq lr b">tf</code>开放数据集中下载<strong class="ja hj"> fashion_mnist </strong>数据并进行预处理。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mj"><img src="../Images/51459b946b1e7709ca6da1558bc844b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WpJeBUrOomIo5FlTscWGA.png"/></div></div></figure><p id="9709" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">为了查看数据，我们将从中绘制几个例子。</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="c4f9" class="md km hi lr b fi me mf l mg mh">class_names = ['T-shirt/top', 'Trouser', 'Pullover', 'Dress', 'Coat', 'Sandal', 'Shirt', 'Sneaker', 'Bag', 'Ankle boot']plt.figure(figsize=(10,10))</span><span id="e986" class="md km hi lr b fi mi mf l mg mh"><strong class="lr hj">for</strong> i <strong class="lr hj">in</strong> range(25):<br/> plt.subplot(5,5,i+1)<br/> plt.xticks([])<br/> plt.yticks([])<br/> plt.grid(<strong class="lr hj">False</strong>)<br/> plt.imshow(x_train[i], cmap=plt.cm.binary)<br/> plt.xlabel(class_names[y_train[i]])</span><span id="6507" class="md km hi lr b fi mi mf l mg mh">plt.show()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mk"><img src="../Images/2400039f9a534bbcf5d890f72bc50efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*iyoDR0RKkoSBM9vmzp1INg.png"/></div></figure><p id="6a7c" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">现在接下来要做的是，我们将逐层建立模型<strong class="ja hj"/>。</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="e62f" class="md km hi lr b fi me mf l mg mh">model = tf.keras.Sequential()<br/>model.add(layers.Flatten())<br/>model.add(layers.Dense(64, activation='relu'))<br/>model.add(layers.Dense(64, activation='relu'))<br/>model.add(layers.Dense(10, activation='softmax'))</span><span id="09d2" class="md km hi lr b fi mi mf l mg mh">model.compile(optimizer='adam',<br/> loss='sparse_categorical_crossentropy',<br/> metrics=['accuracy'])</span><span id="639e" class="md km hi lr b fi mi mf l mg mh">model.fit(x_train, y_train, epochs=5)</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ml"><img src="../Images/1619564fee8b2aaf2f72685cfaf6fc4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9J-0GCqguVqjLyDqIpwh7A.png"/></div></div></figure><p id="9015" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">注意:我们只训练了五个时期，因为这个模型只是为了演示。</p><p id="09ea" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">现在让我们在测试数据上测试模型的准确性</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mm"><img src="../Images/4054098ebe8545366aaec8ce665c1984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fZw95onIjkG8GHMtjsBuXQ.png"/></div></div></figure><p id="89cc" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">让我们想象一下其中一个预测。</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="5031" class="md km hi lr b fi me mf l mg mh">def plot_image(i, predictions_array, true_label, img):<br/>  predictions_array, true_label, img = predictions_array[i], true_label[i], img[i]<br/>  plt.grid(False)<br/>  plt.xticks([])<br/>  plt.yticks([])<br/>  plt.imshow(img, cmap=plt.cm.binary)</span><span id="0711" class="md km hi lr b fi mi mf l mg mh">  predicted_label = np.argmax(predictions_array)<br/>  if predicted_label == true_label:<br/>    color = ‘blue’<br/>  else:<br/>    color = ‘red’</span><span id="ff41" class="md km hi lr b fi mi mf l mg mh">  plt.xlabel(“{} {:2.0f}% ({})”.format(class_names[predicted_label],<br/> 100*np.max(predictions_array),<br/> class_names[true_label]),<br/> color=color)</span><span id="ce21" class="md km hi lr b fi mi mf l mg mh">def plot_value_array(i, predictions_array, true_label):<br/> predictions_array, true_label = predictions_array[i], true_label[i]<br/> plt.grid(False)<br/> plt.xticks([])<br/> plt.yticks([])<br/> thisplot = plt.bar(range(10), predictions_array, color=”#777777")<br/> plt.ylim([0, 1])<br/> predicted_label = np.argmax(predictions_array)<br/> thisplot[predicted_label].set_color(‘red’)<br/> thisplot[true_label].set_color(‘blue’)<br/> predictions = model.predict(x_test)</span><span id="e61d" class="md km hi lr b fi mi mf l mg mh">i = 0<br/>plt.figure(figsize=(6,3))<br/>plt.subplot(1,2,1)<br/>plot_image(i, predictions, y_test, x_test)<br/>plt.subplot(1,2,2)<br/>plot_value_array(i, predictions, y_test)<br/>plt.show()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mn"><img src="../Images/f56e93b29561598942cc1525fdbcfc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*ollR4YuyoElQKQZmNo_ztQ.png"/></div></div></figure><p id="972f" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">如上图所示，“踝靴”的预测概率最高。为了进一步确认，让我们将预测的标签打印为，</p><pre class="in io ip iq fd lz lr ma mb aw mc bi"><span id="ed06" class="md km hi lr b fi me mf l mg mh">predicted_label = class_names[np.argmax(predictions[0])]<br/>print(‘Actual label:’, class_names[y_test[0]]) <br/>print(‘Predicted label:’, predicted_label)</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mo"><img src="../Images/aaba1f7ca9e3b059d99edb19cc79f888.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*AhGT_KEkl9xKGo2nhbIM6g.png"/></div></figure><p id="f534" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">在TensorFlow 2.0上有MNIST例子的GitHub库在这里是<a class="ae kk" href="https://github.com/cran2367/tensorflow-2-example/blob/master/tensorflow-2-example.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="b58c" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">结论</h1><ul class=""><li id="b4f5" class="jw jx hi ja b jb lj jf lk jj mp jn mq jr mr jv kb kc kd ke bi translated">我们能够安装TensorFlow 2.0以及所有软件包。</li><li id="8496" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">我们还使用TF 2.0完成了一个真实的MNIST数据分类示例。</li></ul><h1 id="055e" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">参考</h1><ol class=""><li id="69fe" class="jw jx hi ja b jb lj jf lk jj mp jn mq jr mr jv ms kc kd ke bi translated"><a class="ae kk" rel="noopener" href="/tensorflow/whats-coming-in-tensorflow-2-0-d3663832e9b8">tensor flow 2.0中的新功能</a></li><li id="4dda" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv ms kc kd ke bi translated"><a class="ae kk" href="https://www.tensorflow.org/tutorials/keras/basic_classification" rel="noopener ugc nofollow" target="_blank">训练你的第一个神经网络:基本分类</a></li></ol></div></div>    
</body>
</html>