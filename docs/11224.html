<html>
<head>
<title>Basics of Pandas — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫基础知识—第二部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/basics-of-pandas-part-2-d6f931dcce30?source=collection_archive---------15-----------------------#2020-11-23">https://medium.com/analytics-vidhya/basics-of-pandas-part-2-d6f931dcce30?source=collection_archive---------15-----------------------#2020-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="edee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的上一篇文章中，我讨论了初学者在处理各种数据集时面临的一些常见查询。这篇文章是我上一篇文章的延续。</p><p id="f7d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将继续使用本文第一部分中使用的相同数据集(UFO)来演示进一步的概念。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f44a8c8e33b474610243583b0562af30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TJD2AcBSeQNUY6kC.jpeg"/></div></div></figure><h1 id="8ce5" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何对熊猫数据帧或系列进行排序？</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/3a49dcc9bac25617b92433a42629cdaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*e1o4d5w3fEL1JJQ0wn6OhQ.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">UFO-数据集头()</figcaption></figure><p id="0bf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解释这个属性，我稍微修改了数据集中的“Time”列。</p><p id="eebb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的代码演示了如何将“时间”列按升序或降序排序。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="29e7" class="kx jq hi kt b fi ky kz l la lb">#as a default parameter sorts the values in ascending order<br/>ufo.Time.sort_values()<br/>#sorts in descending order<br/>ufo.Time.sort_values(ascending=False)<br/>#Another way to sort<br/>ufo.sort_values('Time')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lc"><img src="../Images/ef4449acade7dca1beb44ef2e56ccce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*q0QzIZVv9dMy4jN1UXltIw.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">按升序排序的“时间”列</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ld"><img src="../Images/f173e4071ca216e2afd2b978d852f6fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*oT1qz58ey4exWczxH1j3kQ.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">按降序排序的“时间”列</figcaption></figure><h1 id="a73f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">在 DataFrame 的大多数方法中，这个就地参数是什么？</h1><p id="69a5" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">在其核心，<code class="du lj lk ll kt b">inplace</code>参数帮助您决定如何影响 Pandas 对象的底层数据。是否要更改您正在处理的 DataFrame 对象并覆盖之前的内容？或者，您是否希望制作 DataFrame 对象的副本并将其赋给不同的变量，以便以后可以修改原始数据？</p><p id="db5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您将参数作为<code class="du lj lk ll kt b">inplace=True</code>传递时，您所做的更改将被覆盖到您当前的数据帧中，而如果您给出<code class="du lj lk ll kt b">inplace=False</code>(这是默认参数)，它会显示一个带有已更改属性的数据帧的副本。</p><p id="9bb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例子</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="c78d" class="kx jq hi kt b fi ky kz l la lb">#makes changes to the original DataFrame<br/>ufo.drop('Colors Reported', axis=1, inplace=True)<br/>ufo.Time.sort_values(inplace=True)</span></pre><h1 id="cb9f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何通过列值过滤熊猫数据帧的行？</h1><p id="3d98" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">以下代码表示“城市”列值为“伊萨卡”的数据帧</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="4e15" class="kx jq hi kt b fi ky kz l la lb">ufo[(ufo['City']=='Ithaca')]</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lm"><img src="../Images/408335229527ab55ab2442782341ac09.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*YcytZlP8IKCHye_0PiItWA.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">城市== '伊萨卡'</figcaption></figure><p id="daff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以使用更多的比较器来过滤数据。比如<code class="du lj lk ll kt b">&lt;,&gt;,||,&amp;</code></p><p id="5f54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意' &amp; '是'和'比较器' || '是'或'比较器。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="cd20" class="kx jq hi kt b fi ky kz l la lb">ufo[(ufo['Time']&lt;1940) &amp; (ufo['Time']&gt;1935)]</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ln"><img src="../Images/96bf482ecf4207d62605b96b3671344a.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*Iuf9r8WauDnQUVI3mvqZyQ.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">1935 年</figcaption></figure><h1 id="3ff8" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何更改熊猫系列的数据类型？</h1><p id="93f0" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">有几种方法可以改变熊猫系列的数据类型，让我们来看看其中的几种。</p><p id="74df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<code class="du lj lk ll kt b">astype</code>法是所有方法中最常见的。让我们看看数据框架中的默认列类型。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lo"><img src="../Images/9a6b9f56a2955c9778054ac4ed858223.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*458zv5pR3K5VsJY9XYiSpQ.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">数据类型</figcaption></figure><p id="56cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最初，所有给定的数据类型都是“对象”格式，让我们使用<code class="du lj lk ll kt b">astype</code>方法对其进行类型转换。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="0579" class="kx jq hi kt b fi ky kz l la lb">#to conert an object to integer typecast it to string and then to integer.<br/>ufo['Time']=ufo['Time'].astype(str).astype(int)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lp"><img src="../Images/82b6efd981aa907a6a49fced43d3e9a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*WAHPD6Q6fVW0xvz-sZbKpA.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">更改了时间列的数据类型</figcaption></figure><h1 id="96d4" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我如何在熊猫中使用字符串方法？</h1><p id="6d71" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">熊猫系列的字符串方法通过' str '访问。下面的代码单元展示了如何使用 string 方法将特定列中的所有单词大写。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="d50e" class="kx jq hi kt b fi ky kz l la lb">#displays the name of cities in Block letters<br/>ufo.City.str.upper()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lq"><img src="../Images/b963fe7cdc76a932b92da17575172e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*8j_LZ5Lvp9JZp6KBkNF6vA.jpeg"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">字符串的 upper()方法</figcaption></figure><p id="6a92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以使用字符串进行大量的操作，在数据分析中广泛使用的一种技术是查找特定的字符串是否出现在给定的列中。假设您必须找到多少数据点对应于“ny”州，那么您可以使用下面的代码块来获得所需查询的计数。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="3aa1" class="kx jq hi kt b fi ky kz l la lb">ufo.State.str.contains('NY').count()<br/>#outputs 18247</span></pre><p id="4503" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">str 还有一些更常用的方法，比如用其他字符替换字符串中的特定字符的<code class="du lj lk ll kt b">str.replace()</code>方法(在参数中给出，用逗号分隔)。</p><p id="d093" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这标志着“熊猫基础知识”系列第二部分的结束。在我的下一篇文章中，我将会谈到一些更基本的问题。</p><p id="5020" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢😉</p></div></div>    
</body>
</html>