<html>
<head>
<title>Hypothesis Testing: Are university towns more resilient to recession than non-university towns?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">假设检验:大学城比非大学城更能抵御衰退吗？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/hypothesis-testing-are-university-towns-more-resilient-than-non-university-towns-to-recession-662286a914ed?source=collection_archive---------13-----------------------#2020-06-20">https://medium.com/analytics-vidhya/hypothesis-testing-are-university-towns-more-resilient-than-non-university-towns-to-recession-662286a914ed?source=collection_archive---------13-----------------------#2020-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2107" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在一个早期项目中，我试图用Python来检验大学城是否比非大学城更能抵御经济衰退。更具体地说，我问<em class="jd">大学城的房价受经济衰退的影响小吗？</em></p><p id="7dfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，<em class="jd">大学城</em>是一个大学生占城市总人口比例很高的城市。</p><p id="214a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设是，我们可以预计这些城市的房价受经济衰退的影响较小，主要是因为我们应该预计，不管经济前景如何，住在这些城镇的学生、教职员工和其他与大学生活相关的工作者的人数将会差不多。</p><p id="2b1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了获得大学城的列表，我简单地使用了<a class="ae je" href="https://en.wikipedia.org/wiki/List_of_college_towns#College_towns_in_the_United_States" rel="noopener ugc nofollow" target="_blank">维基百科</a>，它维护着美国大学城的列表。对于美国各地房价的电子表格，我使用了<a class="ae je" href="https://www.zillow.com/research/data/" rel="noopener ugc nofollow" target="_blank"> Zillow </a>，其中包括<a class="ae je" href="http://files.zillowstatic.com/research/public/City/City_Zhvi_AllHomes.csv" rel="noopener ugc nofollow" target="_blank"> City_Zhvi_AllHomes.csv </a>中1996年至2020年的数据。最后，我利用美国商务部经济分析局(BEA)计算出2007-2009年“大衰退”的确切开始时间以及衰退触底时间，即衰退中GDP最低的季度。这是必要的，因为我试图比较衰退开始时的房价和底部的房价。</p><p id="435f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了匹配Wikipedia上的大学城列表和Zillow上的所有城市列表的格式，我需要稍微清理一下来自Wikipedia的文本文件。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/6691a4e76060bb19c821fb0741ef5a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5s-Mr6MOQdsdLd0fIjGUGA.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/a11ce92f93aabb41e2b9ddf479bc3c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HkkrdEVGRlfSzsdieGdezw.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">这不是最优雅的解决方案，但至少是可行的..</figcaption></figure><p id="cc40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，为了得到衰退的开始，让我们从BEA加载数据，找到衰退的开始。衰退的定义是从连续两个季度的GDP下降开始，到连续两个季度的GDP增长结束。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jw"><img src="../Images/28c5fe73e2307723560f86c6f2663049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92IKjbjr6oBWNRf4Bg-ezA.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">如你所见，我们需要清理一下这个数据帧..</figcaption></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jx"><img src="../Images/371a6e7ebcc22611d34d65c66170a641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obE829B7hKqql3GD3UVHWw.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/bb4f0f4d1a55aa89c7ad8f3ae28ef771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dp71iwNTyXQZHSz-GeQnDA.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jy"><img src="../Images/cee9d0dac2cf96ec41c8e0cb5dc5e6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wDVsqI-uUD21Y8JrClEMvA.png"/></div></div></figure><p id="4017" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们将住房数据从Zillow转换为quarters。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jz"><img src="../Images/c00f131a65179b74fc35b1add312fb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4pR8B1eglRzeTl3ilaWtQ.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ka"><img src="../Images/deae39640bd051c293d5f4de1cd86887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zaJKOA0zV0WckKKAzS4LaA.png"/></div></div></figure><p id="ea79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将创建新的数据，显示衰退开始和衰退底部之间房价的下降或增长。</p><p id="ad87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将运行一个<a class="ae je" href="https://en.wikipedia.org/wiki/Student%27s_t-test" rel="noopener ugc nofollow" target="_blank"> t-test </a>来比较大学城值和非大学城值，返回替代假设(两组是相同的)是否正确，以及我们的置信度的<a class="ae je" href="https://en.wikipedia.org/wiki/P-value" rel="noopener ugc nofollow" target="_blank"> p值</a>。</p><p id="1f4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该函数将返回元组(different，p，better)，其中，如果t检验在p&lt;0.01处为真(我们拒绝零假设)，则different=True，否则，different=False(我们不能拒绝零假设)。变量p应该等于从scipy.stats.ttest_ind()返回的确切p值。更好的价值应该是“大学城”或“非大学城”,这取决于哪一个具有较低的平均价格比率(相当于减少的市场损失)</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kb"><img src="../Images/09d95269ebfa400553d980b9a1c43690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2kOFFjp5DDvXr7tCDhCAag.png"/></div></div></figure><p id="8004" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，大学城和非大学城的平均房价是有差别的。由于p值小于0.01，我们可以拒绝零假设(大学城和非大学城之间没有显著差异)。换句话说，我们可以看到大学城和非大学城是有区别的，而且大学城确实较少受到经济衰退的影响。</p></div></div>    
</body>
</html>