<html>
<head>
<title>Intro to File System in NodeJS.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NodeJS中的文件系统介绍。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/intro-to-file-system-in-nodejs-8fc3fe6f0eb1?source=collection_archive---------8-----------------------#2020-03-27">https://medium.com/analytics-vidhya/intro-to-file-system-in-nodejs-8fc3fe6f0eb1?source=collection_archive---------8-----------------------#2020-03-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b8d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">fs</code>模块为我们提供了与操作系统(服务器)的文件系统交互的API。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/4ee805bf246e0c7a72c1a07b49272118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qbnc-kXL3gD7V5M9"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">照片由<a class="ae jx" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿诺德·弗朗西斯卡</a>在<a class="ae jx" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="2fb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">fs</code>模块提供与操作系统文件系统交互的API。所有文件操作可以是同步或异步的I/O操作。异步方法将第一个参数作为错误，将最后一个参数作为<a class="ae jx" href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" rel="noopener ugc nofollow" target="_blank">回调</a>。</p><p id="2687" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们将学习基本操作和一些更多的<code class="du jd je jf jg b">fs</code>模块的概念。</p><h2 id="7815" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">基本输入/输出操作</h2><ol class=""><li id="6119" class="kt ku hi ih b ii kv im kw iq kx iu ky iy kz jc la lb lc ld bi translated">读取文件</li><li id="88d2" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">写入文件</li><li id="0923" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">打开文件</li><li id="d229" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">删除文件</li><li id="5608" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">重命名文件</li><li id="6147" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">复制文件</li></ol><p id="864c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了开始使用文件系统，我们必须在项目中导入<code class="du jd je jf jg b">fs</code>模块。</p><pre class="ji jj jk jl fd lj jg lk ll aw lm bi"><span id="ed5d" class="jy jz hi jg b fi ln lo l lp lq">const fs = require('fs');</span></pre><h2 id="2073" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">正在读取文件:</h2><p id="a870" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">异步读取文件的全部内容。</p><p id="4e5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fs.readFile(path[, options], callback)</code></p><p id="a98a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">path</code> —文件路径</p><p id="f023" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">options</code> —采用编码等额外选项。该参数是可选的</p><p id="19c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">callback</code> —回调函数接受两个参数— err和data</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="92f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:返回原始缓冲区。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lw"><img src="../Images/e751bde3e4b71e06312e352e1b2efe6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iS8tuEAjB0kCIt7x23x_4Q.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">读取文本文件</figcaption></figure><h2 id="71d3" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">写入文件:</h2><p id="b107" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">异步写入文件内容，并替换已存在的文件。</p><p id="df44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fs.writeFile(file, data[, options], callback)</code></p><p id="5ec9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">file</code> —文件位置</p><p id="51c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">data</code> —可以是字符串或缓冲区。</p><p id="ecbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">options</code> —采用额外的选项，如编码、模式和标志。该参数是可选的</p><p id="920c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">callback</code> —回调函数采用两个参数— err和data</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="f0a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:文件已创建</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lx"><img src="../Images/c162a0ae2d33d839f30341ce5945433b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gHHcd4z9m_XsKYt-pRbp1Q.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文件已创建</figcaption></figure><h2 id="3ef2" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">打开文件:</h2><p id="4f7b" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">异步文件打开。</p><p id="cf24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fs.open(path[, flags[, mode]], callback)</code></p><p id="1f6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">path</code> —文件路径</p><p id="6b34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">flags</code> —文件系统<a class="ae jx" href="https://nodejs.org/api/fs.html#fs_file_system_flags" rel="noopener ugc nofollow" target="_blank">标志</a></p><p id="00a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">mode</code> —设置文件模式默认可读和可写</p><p id="c901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">callback</code> —回调函数采用两个参数— err和fd</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="5167" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lw"><img src="../Images/c1eb44aa76fae0726d9189ca3c9eff25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5tMDnGwpnPKyLiNYDnOvsg.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文件已打开</figcaption></figure><h2 id="b36e" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">删除文件:</h2><p id="5723" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">异步移除文件或符号链接。</p><p id="e46d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fs.unlink(path, callback)</code></p><p id="c2af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">path</code> —文件路径</p><p id="8c9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">callback</code> —回调函数采用err参数</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="b046" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lw"><img src="../Images/c06f1e62eb2c3b96631e24055098da52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0nWVWyc9-SpCFsI9i_5cg.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文件已删除</figcaption></figure><h2 id="40e7" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">重命名文件:</h2><p id="d121" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">将<code class="du jd je jf jg b">oldPath</code>处的文件异步重命名为提供的路径名<code class="du jd je jf jg b">newPath</code>。在<code class="du jd je jf jg b">newPath</code>已经存在的情况下，它将被覆盖。</p><p id="5220" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fs.rename(oldPath, newPath, callback)</code></p><p id="6cca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">oldPath</code> —重命名文件的文件路径</p><p id="df0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">newPath</code> —新文件名</p><p id="bc07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">callback</code> —回调函数采用err参数</p><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="7ee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lw"><img src="../Images/8635645a7b87a362d22edb34b84efec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmXOSIDb9bouTq_D-csy7A.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文件已重命名</figcaption></figure><h2 id="e519" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">复制文件:</h2><p id="78bb" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">将<code class="du jd je jf jg b">src</code>异步复制到<code class="du jd je jf jg b">dest</code>。默认情况下，如果已经存在，<code class="du jd je jf jg b">dest</code>将被覆盖。</p><p id="9789" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法:<code class="du jd je jf jg b">fsPromises.copyFile(src, dest[, flags])</code></p><p id="645f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">src</code> —要复制的源文件名</p><p id="a7ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">dest</code> —要存储的目标文件名</p><p id="28d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">flags</code> —复制操作的修饰符。<strong class="ih hj">默认:</strong> <code class="du jd je jf jg b">0</code>。</p><p id="6e53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">return</code> —退货承诺</p><ul class=""><li id="ce85" class="kt ku hi ih b ii ij im in iq ly iu lz iy ma jc mb lb lc ld bi translated"><code class="du jd je jf jg b">fs.constants.COPYFILE_EXCL</code>:如果<code class="du jd je jf jg b">dest</code>已经存在，复制操作将失败。</li><li id="40c1" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc mb lb lc ld bi translated"><code class="du jd je jf jg b">fs.constants.COPYFILE_FICLONE</code>:复制操作将尝试创建写入时复制引用链接。如果平台不支持写入时复制，则使用回退复制机制。</li><li id="3c14" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc mb lb lc ld bi translated"><code class="du jd je jf jg b">fs.constants.COPYFILE_FICLONE_FORCE</code>:复制操作将尝试创建写入时复制引用链接。如果平台不支持写入时复制，则操作将失败。</li></ul><figure class="ji jj jk jl fd jm"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="2c45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es mc"><img src="../Images/3a5f738bbe2ca1aa85addf22188b3845.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9DiSNcaP_LXVWxtmJTZ8pQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文件已复制</figcaption></figure></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="37b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们介绍了一些基本操作。可以在NodeJS 的<a class="ae jx" href="https://nodejs.org/api/fs.html" rel="noopener ugc nofollow" target="_blank">官方文档上探索操作。</a></p><p id="e0cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢大家！</p><p id="891f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编码快乐！</p><p id="e358" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随时联系我！</p><p id="6fd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jx" href="http://pprathameshmore.github.io" rel="noopener ugc nofollow" target="_blank">pprathamesmore . github . io</a></p></div></div>    
</body>
</html>