<html>
<head>
<title>JanataHack Hackathon: Time Series Forecasting — Public LB 2nd, Private LB 7th.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JanataHack黑客马拉松:时间序列预测-公共LB第二，私人LB第七。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/janatahack-hackathon-time-series-forecasting-public-lb-2nd-private-lb-7th-f091a2e87e84?source=collection_archive---------27-----------------------#2020-05-07">https://medium.com/analytics-vidhya/janatahack-hackathon-time-series-forecasting-public-lb-2nd-private-lb-7th-f091a2e87e84?source=collection_archive---------27-----------------------#2020-05-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7711" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">时光飞逝，当我们参加黑客马拉松时，我们能更好地理解这一点。“48小时”，是的，这就是我们被给予的，这里是偷偷窥视那些竞争小时。</p><p id="1f4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">问题陈述-给定4年中每月23天的每小时电力消耗数据集，预测每月剩余天数的电力消耗。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b96f256cb55e3b0e07d3cc39f627e77e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Ruzg9o4gDITsjCgauBX3Q.jpeg"/></div></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><blockquote class="jw"><p id="9b4f" class="jx jy hi bd jz ka kb kc kd ke kf jc dx translated"><strong class="ak">倒计时开始…… </strong></p></blockquote></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="e153" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">局部验证集的决定:</h2><p id="85b8" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">我们考虑了两种创建验证集的方法。</p><ol class=""><li id="57b4" class="lg lh hi ih b ii ij im in iq li iu lj iy lk jc ll lm ln lo bi translated">我们会从完整的训练数据中随机抽取数据。</li><li id="b9ee" class="lg lh hi ih b ii lp im lq iq lr iu ls iy lt jc ll lm ln lo bi translated">由于我们获得了每月前23天的数据，并且我们必须预测该月的剩余天数，因此我们考虑创建一个由前21天组成的训练数据集，而验证集将由第22天和第23天组成。然后，如果模型在验证集中表现良好，我们将使用完整的数据集训练模型。</li></ol><p id="a8ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二种方法提出了多次训练的情况，我们也没有观察到任何显著的改进，所以我们决定采用第一种方法。</p><h2 id="f9cb" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">取1-树:</h2><p id="77db" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">我们的第一个尝试是看看像决策树这样的简单模型如何处理这些数据。XGBoost给了我们一个手动调谐的<strong class="ih hj">RMSE 82</strong>(公磅)的成绩。我们没有进行网格搜索，因为我们认为数据带来了深度学习模型可以更好地建模的复杂性。</p><h2 id="685a" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">以2为例，即12个LSTMs:</h2><p id="3695" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">我们采用LSTMs并把它作为一个回归问题来处理。由于只能从sliding_window+1中获取目标标签，因此每月的前几天(滑动窗口的大小)在训练中没有用处。因此，我们想为每个月创造12个不同的模型。</p><p id="823f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们对每个模型进行了大约30个时期的并行训练，花费了大约6个小时，得到的分数仅比XGBoost给出的分数略高。到目前为止，超过36个小时已经过去了，我们只有12个小时来训练一个好的模型。</p><h2 id="0887" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">以3为例——一个LSTM的力量:</h2><p id="87d1" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">作为单一模型，我们可以在短时间内运行更多的纪元。3个多小时给了我们70个时代和66分的<strong class="ih hj"> RMSE公共LB评分。我们用稍微多一点的纪元训练了一些模型，但这是我们能得到的最好的了。</strong></p><h2 id="2056" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">第4条—欢迎Wavenet:</h2><p id="0ca3" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">大约还有6个多小时，我们想尝试一下wavenet架构。训练速度相对较慢，因为我们必须从随机重量开始。我们可以在4小时内挤进30个时代。它在公众LB上给出了71分的RMSE评分。</p><h2 id="5ba1" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">残局—还有2个小时:</h2><p id="56c3" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">三个LSTM和Wavenet的组合让我们在公共LB中获得了62个的<strong class="ih hj"> RSME，这将我们推到了<a class="ae lu" href="https://datahack.analyticsvidhya.com/contest/janatahack-time-series-forecasting/#LeaderBoard" rel="noopener ugc nofollow" target="_blank">公共LB第二的位置</a>。</strong></p><p id="b117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但不知何故，我们所有的模特在公共LB中都有严重的过度配合，我们在私人LB 中以86分的<strong class="ih hj"> RMSE得分被拉至<a class="ae lu" href="https://datahack.analyticsvidhya.com/contest/janatahack-time-series-forecasting/#LeaderBoard" rel="noopener ugc nofollow" target="_blank">第7位。</a></strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/df577ea51d73bfea4baed3169239d8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YuUOvjwLHtUP56N3mImFHw.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">蓝色:23天的训练数据，橙色:剩余天数的预测。</figcaption></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h2 id="261c" class="kg kh hi bd ki kj kk kl km kn ko kp kq iq kr ks kt iu ku kv kw iy kx ky kz la bi translated">结论:</h2><p id="a6de" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">虽然这种努力给了我们很好的结果，但我们也发现了许多可以让我们得到更好分数的细节。</p><p id="a1ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参加黑客马拉松很有趣，我们学到了很多新东西，迫不及待地想在即将到来的比赛中尝试一下！</p></div></div>    
</body>
</html>