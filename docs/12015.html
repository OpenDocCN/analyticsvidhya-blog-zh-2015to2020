<html>
<head>
<title>Monitoring NBA injuries with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python监控NBA伤病</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/monitoring-nba-injuries-with-python-bf05ea2aec68?source=collection_archive---------14-----------------------#2020-12-28">https://medium.com/analytics-vidhya/monitoring-nba-injuries-with-python-bf05ea2aec68?source=collection_archive---------14-----------------------#2020-12-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie if ig"><p id="3949" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">30秒内:在网上收集更新，存储在csv中，通过电子邮件发送。</p></blockquote><p id="1e71" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi jj translated">作为一个终生的NBA球迷，我一直很想知道今晚会有哪些球员上场。生活在法国，我总是害怕在凌晨3点醒来，看到原本期待的<em class="ij">之夜</em>变成了<em class="ij">之夜</em>的比赛，因为某个超级巨星那晚没有上场。</p><p id="d785" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">为了避免这种情况，我经常去查看<em class="ij"> Rotoworld </em>网站[1]以获得关于玩家受伤的最新消息。但是，当Python代码可以为您完成并通过优雅的电子邮件向您发送更新时，为什么还要花费时间查看相同的页面呢？</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/1052ee05defc0843212811a8603eaae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bTS_c5R0ZnC_ASG3MQF9SQ.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图NBA伤病的Rotoworld页面</figcaption></figure></div><div class="ab cl ki kj go kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ha hb hc hd he"><p id="d925" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">0-导入库并设置驱动程序位置</p><p id="d563" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">I —定义刮削功能</p><p id="b637" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">II —抓取页面</p><p id="136a" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">三—保存<em class="ij">。csv </em>并通过电子邮件发送</p></div><div class="ab cl ki kj go kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ha hb hc hd he"><p id="e6f7" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi"> 0 —导入磁带库并设置驱动程序位置</strong></p><p id="872d" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">在第一步中，我们首先导入所需的包，我们<strong class="ik hi">在第10行定义了Chrome驱动程序的位置。</strong>我们还导入了一个名为<em class="ij"> Send_mail </em>的自定义库，我们将在第三节中展示它。最后，我们打开Chrome驱动程序，进入<em class="ij"> Rotoworld </em> NBA伤病页面。</p><p id="dba6" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">初始化代码如下所示:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kp kq l"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图2:初始化代码</figcaption></figure><p id="5867" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">一—定义刮削功能</strong></p><p id="d77e" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">然后我们定义一个名为<em class="ij"> ffi(a) </em>的函数来轻松浏览页面:它的目的是收集与一个<em class="ij"> xpath </em>相关联的文本，如果它不存在，不会产生任何错误。简而言之，这个函数通过关闭错误来处理错误。</p><p id="882f" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">然后我们定义一个名为<em class="ij"> collect_info_line() </em>的函数，它将<strong class="ik hi"><em class="ij"/></strong>队号(从1到30，因为有30个队)和行<strong class="ik hi"> <em class="ij"> i </em> </strong>作为输入，<strong class="ik hi">收集<em class="ij"> Rotoworld </em>页面上的相关信息</strong>:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kp kq l"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图3:定义抓取功能</figcaption></figure><p id="3569" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">二—刮页</strong></p><p id="7866" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">一旦我们定义了在页面的每一行为每个团队收集信息的函数，我们只需要浏览所有团队和所有行，以便收集所有数据。下面给出了执行此操作的代码:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kp kq l"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图4:在页面上收集伤害信息</figcaption></figure><p id="fae0" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">三—保存<em class="ij">。csv </em>并通过电子邮件发送</strong></p><p id="f908" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">一旦我们在最后一步中收集了原始数据，我们现在可能希望将它保存在一个表中，并通过电子邮件发送出去。</p><p id="c136" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">首先，我们创建一个脚本来发送一个<em class="ij">。csv </em>文件通过电子邮件发送(在Python上通过电子邮件发送附件— [2])，请注意<strong class="ik hi">在第16行</strong>修改接收电子邮件地址:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kp kq l"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图5:定义一个发送<em class="kr">的函数。通过电子邮件发送csv </em>文件</figcaption></figure><p id="d6e5" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">最后，我们将从<em class="ij">刮出的</em>数据转换成表格，保存<em class="ij">。csv </em>并通过电子邮件发送:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kp kq l"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图6:将表格保存在一个. csv文件中，并通过电子邮件发送</figcaption></figure><p id="7edb" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">四—结论</strong></p><p id="056c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">运行代码后，通过电子邮件发送的最终<em class="ij">刮出的</em>表如下所示:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ks"><img src="../Images/da43bf01191aa6a81405b828d4521d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xfX-kfjiKXQjYPNXQZFvgA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图7:最终表格概述</figcaption></figure><p id="3991" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">我们现在已经在<em class="ij"> Rotoworld </em>网站上建立了我们的代码来清除伤害。该代码可以被安排在特定的时间运行，这样用户就可以在他的邮箱中接收每日更新。此外，<strong class="ik hi">人们可以考虑修改代码以适应自己的需求</strong>:例如，如果你是一名<em class="ij">快船</em>的球迷，你可能希望程序在科怀·伦纳德今晚比赛时给你发送一封特定的电子邮件。这可以通过简单地检查科怀·伦纳德的<em class="ij">状态</em>值是否设置为<em class="ij">活动</em>来完成。你也可以为各种目的修改代码:体育博彩预测，统计，监测伤害等…</p><p id="5ba4" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">最后，我们还可以回忆一下，完整的代码可以在专门的GitHub存储库中获得[3]。你可以随意挑选，运行，改编。不要犹豫留下任何反馈/问题/ <em class="ij">掌声</em>或联系我获取更多信息。</p></div><div class="ab cl ki kj go kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="ha hb hc hd he"><p id="bec2" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">另一篇文章</strong> <em class="ij">(用机器学习构建体育博彩算法)</em> <strong class="ik hi"> </strong> <a class="ae kt" rel="noopener" href="/analytics-vidhya/how-covid-19-prevented-me-from-being-a-millionnaire-in-2020-5b2144e8bdef">新冠肺炎如何阻止我在2020年成为百万富翁|作者sébastien Cararo | Analytics vid hya | Dec，2020 | Medium </a></p><p id="4a82" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">联系人:</strong> sebcararo@hotmail.fr</p><p id="23d9" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><strong class="ik hi">来源</strong></p><p id="dc65" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">[1] Rotoworld NBA伤病页面</p><div class="ku kv ez fb kw kx"><a href="https://www.rotoworld.com/basketball/nba/injury-report" rel="noopener  ugc nofollow" target="_blank"><div class="ky ab dw"><div class="kz ab la cl cj lb"><h2 class="bd hi fi z dy lc ea eb ld ed ef hg bi translated">为NFL，MLB，NBA，NHL，CFB，高尔夫，EPL和NASCAR的Rotoworld幻想体育新闻和分析</h2><div class="le l"><h3 class="bd b fi z dy lc ea eb ld ed ef dx translated">为NFL，MLB，NBA，NHL，CFB，高尔夫，EPL和NASCAR的Rotoworld幻想体育新闻和分析</h3></div><div class="lf l"><p class="bd b fp z dy lc ea eb ld ed ef dx translated">为NFL，MLB，NBA，NHL，CFB，高尔夫，EPL和NASCARwww.rotoworld.com的Rotoworld幻想体育新闻和分析</p></div></div><div class="lg l"><div class="lh l li lj lk lg ll kc kx"/></div></div></a></div><p id="efe8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">[2]使用Python通过电子邮件发送附件</p><p id="ba47" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated"><a class="ae kt" href="https://stackoverflow.com/questions/3362600/how-to-send-email-attachments" rel="noopener ugc nofollow" target="_blank">python——如何发送邮件附件？—堆栈溢出</a></p><p id="6be6" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jg iu iv iw jh iy iz ja ji jc jd je jf ha bi translated">[3] GitHub知识库</p><div class="ku kv ez fb kw kx"><a href="https://github.com/Seb943/NBA_injuries_report" rel="noopener  ugc nofollow" target="_blank"><div class="ky ab dw"><div class="kz ab la cl cj lb"><h2 class="bd hi fi z dy lc ea eb ld ed ef hg bi translated">SEB 943/NBA _伤病_报告</h2><div class="le l"><h3 class="bd b fi z dy lc ea eb ld ed ef dx translated">🏀 🏀 🏀收集NBA伤病报告，将它们整理在一个优雅的表格中，然后通过邮件发送🏀 🏀 🏀ℹ️利用率…</h3></div><div class="lf l"><p class="bd b fp z dy lc ea eb ld ed ef dx translated">github.com</p></div></div><div class="lg l"><div class="lm l li lj lk lg ll kc kx"/></div></div></a></div><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ln"><img src="../Images/9edd5dd05e6e1b820a8b3f76009d6a35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*HVQiw853rzILf0c8O-2wZA.jpeg"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">图8:封面图片(科怀·伦纳德伤vs丹佛掘金—<a class="ae kt" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fsports.yahoo.com%2Fclippers-lose-kawhi-leonard-to-bloody-injury-late-in-win-over-nuggets-061344718.html&amp;psig=AOvVaw3exwWT4I-UX5ibe5hx-vQk&amp;ust=1609266451161000&amp;source=images&amp;cd=vfe&amp;ved=0CAIQjRxqFwoTCKCr3Oum8e0CFQAAAAAdAAAAABAE" rel="noopener ugc nofollow" target="_blank">https://www.google.com/url?sa=i&amp;URL = https % 3A % 2F % 2f sports . Yahoo . com % 2f clippers-lose-kaw hi-Leonard-to-bloody-injury-late-in-win-over-掘金-061344718 . html&amp;psig = aovvaw 3 exwwt 4 I-UX 5 IBE 5 hx-vQk&amp;ust = 1609266451161000【中</a></figcaption></figure></div></div>    
</body>
</html>