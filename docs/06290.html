<html>
<head>
<title>JavaScript: Declaring Variables with Var, Let, and Const</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:用Var、Let和Const声明变量</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/javascript-declaring-variables-with-var-let-and-const-1b4f94e5c5e7?source=collection_archive---------13-----------------------#2020-05-17">https://medium.com/analytics-vidhya/javascript-declaring-variables-with-var-let-and-const-1b4f94e5c5e7?source=collection_archive---------13-----------------------#2020-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4380" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JavaScript中的变量声明可以用三个关键字以不同的方式执行；<strong class="ih hj">变量</strong>、<strong class="ih hj">让</strong>和<strong class="ih hj">常量</strong>。如果你不清楚这些关键词之间的主要区别，以及什么时候选择一个而不是另一个，这篇文章就是为你准备的。</p><p id="46e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们进入细节之前，让我们先了解什么是范围:</p><h1 id="4fa6" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">变量作用域</h1><p id="ff9b" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">作用域是指变量在JavaScript中的可见性，这意味着变量在定义它的作用域之外是不可访问的。</p><p id="decd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">全局范围:</strong>在函数或块外部声明的变量具有<em class="kg">全局范围</em>，并且可以从代码中的任何地方访问。</p><p id="5942" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">局部作用域:</strong>在一个函数或块内声明的变量有<em class="kg">局部作用域</em>，它们只能在那个函数或块内访问，不能从全局作用域访问。JavaScript中有两种类型的局部范围:</p><ol class=""><li id="844d" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated"><strong class="ih hj">函数作用域:</strong>当一个新函数被声明时，它会创建自己的作用域。函数中定义的变量与它绑定在一起，不能在函数外部访问。</li><li id="f6a0" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated"><strong class="ih hj">块范围:</strong>JavaScript中的代码块可以使用<code class="du kv kw kx ky b">{curly braces}</code>和块语句中定义的变量来定义，比如<code class="du kv kw kx ky b">if</code>条件或者<code class="du kv kw kx ky b">for</code>和<code class="du kv kw kx ky b">while</code>循环是块范围的。这意味着块中定义的变量只能在花括号中访问。让我们来看一个例子:</li></ol><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es kz"><img src="../Images/ca3647a6bb9df889026560899e6b18f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FczU-Hr3aUOne9pDIJfkVw.png"/></div></div></figure><p id="ddd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个和第二个<code class="du kv kw kx ky b">console.log(color1)</code>都记录变量<code class="du kv kw kx ky b">color1</code>，因为它是在全局范围内声明的。</p><p id="9fd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个<code class="du kv kw kx ky b">console.log(color2)</code>成功记录了变量<code class="du kv kw kx ky b">color2</code>，因为它可以在函数<code class="du kv kw kx ky b">addColor</code>中访问，而第二个<code class="du kv kw kx ky b">console.log(color2)</code>抛出了一个错误，因为变量<code class="du kv kw kx ky b">color2</code>在其作用域之外不可见。</p><p id="e1ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们解释一下关键字<strong class="ih hj"> var </strong>、<strong class="ih hj"> let </strong>和<strong class="ih hj"> const </strong>是什么:</p><h1 id="dc97" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">定义变量</h1><p id="5ab5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在最近<strong class="ih hj"> ES6 </strong> (ECMAScript 2015)引入<strong class="ih hj"> let </strong>和<strong class="ih hj"> const </strong>之前，<strong class="ih hj"> Var </strong>是JavaScript中唯一用于声明变量的关键字。<strong class="ih hj"> Var </strong>声明要么是全局作用域，要么是局部(函数)作用域，但不是块作用域。</p><p id="4b58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Var </strong>可以在相同的作用域内更新和重新声明，不会出现错误。用<strong class="ih hj"> var </strong>声明的第二个变量覆盖了第一个变量。这可能会导致您意外地用相同的名称覆盖现有变量的值，并且在这种情况下调试会变得很困难。</p><h1 id="bc99" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">让</h1><p id="cfc7" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">ES6在2015年引入了新的关键词<strong class="ih hj"> let </strong>。<strong class="ih hj"> var </strong>和<strong class="ih hj"> let </strong>的主要区别在于<strong class="ih hj"> var </strong>是函数作用域，而<strong class="ih hj"> let </strong>是块作用域。当在<code class="du kv kw kx ky b">if</code>语句或<code class="du kv kw kx ky b">for</code>循环中用<strong class="ih hj"> let </strong>声明一个变量时，它只在那个块中有效，这有助于轻松调试你的代码。</p><p id="dbf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Let </strong>可以像<strong class="ih hj"> var </strong>一样在其作用域内更新，但是<strong class="ih hj"> let </strong>不能在其作用域内重新声明。这就是为什么最好使用<strong class="ih hj"> let </strong>的原因，因为它减少了像<strong class="ih hj"> var </strong>一样在同一个范围内不止一次意外重新声明变量的潜在错误。</p><h1 id="0d97" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">常数</h1><p id="a6b7" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用<strong class="ih hj">常量</strong>声明变量类似于<strong class="ih hj"> let </strong>，并且是块范围的。<strong class="ih hj"> const </strong>和<strong class="ih hj"> let </strong>的区别在于，初始值设定后，新值不能赋给带有<strong class="ih hj"> const </strong>的变量，这意味着<strong class="ih hj"> const </strong>在其作用域内创建<strong class="ih hj"> const </strong> ant变量。</p><p id="e31f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看下面的例子，以了解它们在范围上的区别:</p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es ll"><img src="../Images/d7f22eb4c0d2a24cdf947114036e9f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2cbJ3AHfxkUQI60weIzJxw.png"/></div></div></figure><p id="2c8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有变量都可以在同一个<code class="du kv kw kx ky b">if</code>语句/块中访问。尽管变量<code class="du kv kw kx ky b">color1</code>由于其函数范围在块外仍然可见，但另外两个变量<code class="du kv kw kx ky b">color2</code>和<code class="du kv kw kx ky b">color3</code>不再有效，因为我们只能在声明它们的花括号内访问这两个变量。最后，不能在函数之外访问任何这些变量，因为它们不是全局范围的。</p><p id="8c37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下表总结了我们所讨论的内容:</p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es lm"><img src="../Images/5689ea2fcddfaa1f918397319f47a942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7vQ485GT8lSIQXphm28Ow.png"/></div></div></figure><p id="1e4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一般建议避免使用<strong class="ih hj"> var </strong>。最佳实践是使用<strong class="ih hj"> const </strong>作为默认选项，除非您需要在<code class="du kv kw kx ky b">for</code>循环或switch语句中重新分配变量，在这种情况下，<strong class="ih hj"> let </strong>将是更好的选项。</p></div></div>    
</body>
</html>