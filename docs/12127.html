<html>
<head>
<title>Model Your Way to Fitness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">塑造你的健身方式</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/model-your-way-to-fitness-2282e815e54a?source=collection_archive---------17-----------------------#2020-12-31">https://medium.com/analytics-vidhya/model-your-way-to-fitness-2282e815e54a?source=collection_archive---------17-----------------------#2020-12-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f489" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者如何预测你的体重！</p><p id="35cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你点击这个是因为，谁知道呢，这是因式分解机输出的最佳时机，也是你碰巧查看新文章的时候。也许你对适应度和时间序列的文氏图感兴趣。对我来说，这就是在手腕上佩戴物联网设备的乐趣所在。我可以制作模型、预测，并尝试新的库。如果你不喜欢把健身和时间序列结合起来，你现在可以放弃了。但是在我们继续之前，另一个标题是“你的时间序列裸体看起来像什么”，一语双关“你的医生裸体看起来像什么？”作者沃伦·威利。这实际上是一本很好的读物。缺点:全健康，无时间序列。</p><p id="9bd6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为什么要把这些都写出来？作为一个时间序列鉴赏家，我会阅读任何教程，参加任何课程，阅读任何书籍等等。(你去拿钻头)就算我知道材料。时间序列就是好玩。我看到很多教程要么是“这里有一些数据，区别它，现在做一个预测”，要么是“加载Keras，建立一些递归神经网络的味道，现在做一个预测”。结束。就是这样。这是一个很好的开始方式，但是总觉得缺少了一些东西。亲爱的读者，你可能已经知道完美的时间序列教程或课程。太好了！现在，把它应用到你自己收集的数据中去。我在阅读时没有看到包括传统方法，如容格检验、频域分析或VAR模型。所以，让我们看看我们能从中得到什么。希望你能从这里找出一些有价值的东西供你自己分析。</p><p id="1bb9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们进入正题之前，让我们先陈述一下显而易见的事实。这里的数据变化不大。如你所见，我的因变量是体重。这是我选择的标准，我感兴趣的问题。如果你想跟踪其他的东西，尝试推断(预测)，数据提取部分会提供更多的选择。如果你只是关注你健康的整体趋势，我想你可以从你手腕上的物联网设备中获取默认图表并运行它。此外，我不是在建议或评论你应该做什么锻炼计划。全由你选择。你训练的方式是你的事。我产生了这些数据，并不作为任何健身“建议”有很多资源可以帮助你了解你的身体。</p><p id="0b25" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在无聊的东西已经过时了，摇滚吧；我们走吧。</p><p id="ff09" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CRISP-DM应该指导你对建模的任何尝试的思维过程。假设这是大部分的回顾，但让我们击中亮点。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/8568506189eab824067e675f52f30ac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*OmW-JLNSL6DTxy5aftEqMQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">CRISP-DM</figcaption></figure><p id="16f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这五个阶段是:1 .)业务理解2。)数据理解3。)资料准备4。)造型5。)评价6。)部署。(希勒c .，<em class="jo">《CRISP-DM模型:数据挖掘的新蓝图》</em>，J《数据仓库》(2000)；5:13–22).不需要把这个打死，但是我是我自己的客户和自己的建模者。我希望能够用七天的预测范围来预测我的体重。业务理解—检查。数据理解。假设你有一个FitBit设备，有几种方法可以获取你的数据。您可以通过Python或GUI来实现这一点。我两个都帮你搞定了。两者都有利弊。除了部署之外，我将介绍所有其他步骤。我可以推荐一个闪亮的应用吗？</p><p id="1de8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你想走Python路线，从这里的<a class="ae jp" href="https://davgibbs.com/how-to-get-fitbit-with-python/" rel="noopener ugc nofollow" target="_blank">开始。</a></p><p id="0f8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我们将使用Fitbit API检查提取时间序列数据。为了获得数据传输设置，这里有一个伟大的教程:<a class="ae jp" href="https://towardsdatascience.com/collect-your-own-fitbit-data-with-python-ff145fa10873" rel="noopener" target="_blank">点击这里</a>。这将带您完成身份验证和日期时间格式化。回想一下感兴趣的问题(权重)以及可能与拉动相关的内容。你可能会认为卡路里会起作用，你是对的。然而，我对记录我的饮食不感兴趣，建议你参考任何营养方面的好文章。<em class="jo">现代健美新百科</em>是营养方面要考虑的东西。学习血糖指数的基础知识，这就足够了。我推荐的一些时间序列是卡路里，步数，距离(小心高vif！)，体重，脂肪，以及最容易误导人的数据:身体质量指数。加入一些其他的因素来检验这种关系:睡眠分钟数、不安分钟数和醒着数。所有这些都遵循几乎相同的语法。这里举个例子来拉一年。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/ea8a31d7e6d52e482256e673ef95c89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*8YEEid4y1gmaEZ1QN2Jq0A.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">Python示例</figcaption></figure><p id="4414" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您需要将结果转换成熊猫数据帧。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/5e13c55d53a20d8bbf92848df24136b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*mWIa8PpFhqQLhmPLl1L8Ew.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">Python示例继续</figcaption></figure><p id="3d39" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其他特征的提取过程与此类似。作为参考，这里还有一个使用权重的例子。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/fe28f77f6aae28edea814dbb1d97ba3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*diR0gO9G1C2B22WrI-JRTQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">另一个Python例子</figcaption></figure><p id="a08d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您现在有一些数据帧，您将需要连接以创建一个由日期时间索引的数据帧，瞧，您有一个可能显示自相关迹象的数据集。但是等等，缺失值怎么办？假设有一天晚上你没有戴上你的FitBit来充电。时间序列插补有几种选择。这取决于你有多少缺失数据来指导你的选择。如果你坚持佩戴你的FitBit，你在这里应该会过得相对轻松。结转的最后一个值是处理遗漏观察值的最佳选择。您可以尝试一些其他选项，但在继续之前只需检查每一列缺少的%。熊猫fillna函数使这变得容易。指定“ffill”方法。假设您正确地进行了连接，并且对缺失值做了功课，那么数据应该已经准备好了。提醒对相关日期范围进行过滤，然后写csv。是的，这是一条很长的路，但我只是想让这一步明显清晰。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/55a3e16208a4fdfad7f7b051033d8b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*UzZ2K2ztvcVA5caOM3QFwQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">过滤器示例</figcaption></figure><p id="de32" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">酷，这是一个简单的数据拉。GUI也提供了一个快捷的路线。我们现在就去看看。几个先决条件:一个FitBit账户和足够的数据(显然是为了使这些工作)。导航到您的FitBit帐户并选择“数据导出”</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jr"><img src="../Images/3524d9062bcd96f5047d3149a10a3fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*2QOlCZWyraKkMZnsMS3nsw.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">FitBit数据拉取</figcaption></figure><p id="4226" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用单选按钮选择时间范围，并选择您想要包括的所有功能:身体、食物、活动和睡眠。警告:确保您完成了跨字段的时间对齐。基本的Excel排序应该可以帮你实现。还要确保你的睡眠时间与正确的一天相一致。</p><p id="6d52" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这应该结束了数据争论和准备。你也可以去镇上进行探索性的数据分析。总体趋势非常有助于跟踪你的健身进度。你甚至可能想扩展这个项目，制作自己的闪亮应用。目前，预测才是王道。在我们开始建模和评估之前，这里有一些很好的资源可以指导您进行时间序列建模:</p><p id="ffc9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.)应用时间序列分析与R(第二版)。</p><p id="9e06" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jp" href="https://www.amazon.com/Applied-Time-Analysis-Wayne-Woodward/dp/1498734227/ref=sr_1_9?dchild=1&amp;keywords=wayne+woodward&amp;qid=1606960246&amp;sr=8-9" rel="noopener ugc nofollow" target="_blank">点击这里购买</a></p><p id="b4b0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.)实用时间序列分析:用统计学和机器学习进行预测。</p><p id="378c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jp" href="https://www.amazon.com/Practical-Time-Analysis-Prediction-Statistics/dp/1492041653/ref=sr_1_2?crid=685NXYVPDC0T&amp;dchild=1&amp;keywords=time+series+analysis&amp;qid=1606960377&amp;sprefix=time+series+%2Caps%2C198&amp;sr=8-2" rel="noopener ugc nofollow" target="_blank">点击这里购买</a></p><p id="1fb7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">单变量建模</strong></p><p id="34ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然开始寻找领先指标并进入可能充当体面预测者的领域很有吸引力，但假设你的时间序列不是白噪声，单变量模型应该始终是你的基线。一个好的探索性分析可以解开很多东西。一些事情总是被推荐:绘制数据，永盒测试，扩展的迪基-富勒测试，ACF/PACF等。此外，对于时间序列异常值检测，有一些很好的选项可供选择。用于离群点检测的Twitter库对于离群点识别是值得一试的。我们需要分析一些库:tswge、nnfor、forecast、vars、dplyr、VIF、prophet、lubridate、astsa和tseries。回到感兴趣的问题:体重。</p><p id="91a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">读入CSV后，检查元数据。你的应该是这样的:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es js"><img src="../Images/24a60e07eb3057a0ae60377ed63b8acb.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*whWO-0Oa5rUy-MLCk1nc1Q.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">功能和元数据</figcaption></figure><p id="7b84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在某一点上，我们需要将“日期”列更改为日期。如果功能名称不适合您，现在是改变的好时机。一旦您纠正了元数据中的任何内容，就绘制出感兴趣的变量。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/7a253ac32c258e438e1d4fd5f40d6bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*OkmKpzBWNZ9F4i0cTEdAJg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">绘制数据</figcaption></figure><p id="d968" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据集看起来有一些徘徊行为，我的第一反应是这不是一个长记忆过程。绘制后的下一步应该是永盒测试。毕竟，你为什么要试图模拟白噪声呢？这个测试的零假设是数据是白噪声。另一个假设是数据不是独立分布的:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jt"><img src="../Images/b156beb84e6ab8ba90b8d05d9c8ff943.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*VkrF_qQFEiX_iV0D0oK9KQ.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">永盒试验</figcaption></figure><p id="59ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">换句话说，序列相关性是存在的。建议您在K样本自相关的情况下运行此测试。tswge封装用于测试。我将使用等于6、12和48的最大样本自相关。语法如下:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ju"><img src="../Images/157ca12dde13ee994622d2637d79cf65.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*lBmeiHViCcDJ5VByuHUjmA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">永框语法</figcaption></figure><p id="f9a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">每次运行测试的结果显示一个p值&lt; .01 </strong>。我们将拒绝零假设，并得出结论，这个数据集可能不是白噪声。此外，ACF似乎与白噪声不一致。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jv"><img src="../Images/9dcc81b9f33283cd531c25522a3ffcf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*W2wkbachQ7eD8crP8-Ea3w.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">ACF —重量数据</figcaption></figure><p id="6a77" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">酷，我们有证据表明我们不是在处理白噪音。接下来，我们应该回答这个时间序列是平稳的吗？在得出这是否是平稳时间序列的结论之前，需要检查三个条件。</p><ol class=""><li id="4f45" class="ka kb hh ig b ih ii il im ip kc it kd ix ke jb kf kg kh ki bi translated">)均值不依赖于时间。<em class="jo">这个条件似乎得到了满足。徘徊的行为表明你可能高于平均值，也可能低于平均值。</em></li></ol><p id="2fa0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.)方差不依赖于时间。<em class="jo">尽管有一些突然的变化，这个条件似乎已经满足。</em></p><p id="21bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.)观测值之间的相关性仅取决于观测值相距多远，而不是它们在时间上的位置。<em class="jo">一种直观的方法是将时间序列分成两半，比较ACF图。</em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kj"><img src="../Images/13e3649ad0fe596e6bf428d5b07a4653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MyO5TUpb5bPrAt-OlR-keA.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">检查条件#3 —比较ACF</figcaption></figure><p id="12c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从两个ACF的相似性来看，我们可以断定这个条件已经满足。然而，让我们再抛出几个检查平稳性的选项。首先，可以使用扩展的Dickey-Fuller检验。另一个方便的方法是使用汽车。预测包中的Arima函数。虽然不是一个完美的解决方案，汽车。Arima可以帮助你决定是否有差异，季节性等等。试试auto.arima就够简单了，语法如下:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kk"><img src="../Images/6f86a4082983732a1bf87f3c9540456f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*O6UQ6TGc-E2WKCPm5M1AUA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">自动。Arima语法</figcaption></figure><p id="9c9a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然看起来很多，但回想一下，我们可以通过调用auto.arima(df$weight)来回答静态问题。返回的参数是我所期望的:(1，0，0)。简单的AR(1)是最合适的。似乎有2/3的测试表明该系列是稳定的。永远保持你的武器库中也有Dickey-Fuller:零假设是存在一个单位根，或者级数是平稳的。最后，我们发生了冲突！Dickey-Fuller检验(语法为adf.test(df$weight，k =要计算的滞后阶数)表示高p值！我们将得出结论，不能拒绝零假设。当你不确定的时候，尝试两种建模方法是可以的；在我们的情况下，ARMA或ARIMA，并评估这两个持有套。只要确保它是一个诚实的坚持设置！当学习参数时，模型不应该看到测试数据。因为我的“proc眼球”和Auto.arima函数都指向静止，所以我不会对数据进行区分。Dickey-Fuller，<em class="jo">虽然有用</em>，却是一个低功耗测试。</p><p id="3f77" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以用于单变量分析的另一个有用的函数是tswge中的plotts.sample.wge:这将给出时间序列可视化、ACF、周期图和谱密度(时间序列分析中经常被忽略的部分)。每日记录重量的该数据集可能在0处具有谱密度峰值。我预计不会出现任何主峰。对于其他时间序列项目，我一次又一次地引用这个函数。通过评估时间序列的谱密度，然后与估计参数的谱密度进行比较，您将很快意识到您是否在正确的轨道上。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/df4295538241d91447295b6b44635761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*6XzcEod1NdnZeMoHgJBLAw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">4重量观</figcaption></figure><p id="6a2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在知道了一些事情。该序列不是白噪声，并且很可能是平稳的。前进到基线模型。现在开始迭代相关的预测器并应用相同的诊断方法是很诱人的:Ljung-Box，Dickey Fuller等。现在，我们需要使用一个函数来进行模型识别。一个有用的方法是aic5.wge函数。AIC5很有用，因为给定一系列AR和MA值，该函数将返回考虑中的前五个模型，按AIC、AICC或BIC排序。由于我们已经完成了尽职调查，并意识到这不是一个很长的内存过程，因此没有必要通过指定较大的AR阶数来占用计算时间。这可能适用于任何以时间为因素的分析:按时间划分。不要忘记仅根据列车数据调整参数；你需要对自己的预测有信心，开始这个过程的最好方法是不要向前看。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kl"><img src="../Images/9c716e9e666dd1e24828f2194d937d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*HNcMzukLsgPIP-8WXL9fOA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">训练/测试分割</figcaption></figure><p id="2f80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">AIC.5函数非常灵活，当您花时间了解时间序列的表现时，应该非常容易使用。如果我有长记忆过程，我会调整AR项的范围。下面是我如何使用这个函数来识别型号的。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es km"><img src="../Images/d4da1bc80fb6ebf1d6e54c1574edaf1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*rOJo3XixWzSYkz1U3-cDhg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">AIC.5功能</figcaption></figure><p id="7d7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出告诉我们最佳候选模型。毫不奇怪，徘徊行为符合AR (1)模型，这也是首选模型。其他候选人的AIC差距不大。我们可以用作基线的前两个模型最终将与多元模型竞争，它们的顺序是(1，0，0)和(1，0，1)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kn"><img src="../Images/b7d525304abd9b17e49df8e08ad092b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*ukgavOf2BX-hRvIdrSMgaQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">AIC.5结果</figcaption></figure><p id="024e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我们将需要使用一个函数来计算最大似然估计。为此，请使用est.arma.wge函数。在这个函数中，您需要输入您的时间序列、自回归订单、MA订单，并指定您是否需要一个因子表(剧透:您需要)。这个功能非常简单:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ko"><img src="../Images/d556bf289d2f6e8280b81452d07615bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*oeiaMrzlyLOsvUs9i8lMrQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">参数估计</figcaption></figure><p id="9d2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我对前两个竞争者的基准测试感兴趣，所以我们将评估两者。从est.arma函数中，我们得到了很多有用的数据。最重要的是，Phi和Theta项都被返回。在(1，0，1)模型中，Phi = 0.7527745 (AR)，Theta = -0.03829065 (MA)。如果你需要写你的时间序列模型，你应该准备好所有你需要的。</p><p id="3ac7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在est.arma之后需要采取的一个有用步骤是使用plotts.true.wge函数。Plotts.true.wge为我们提供了“真实的”自相关和光谱密度。所以，很自然地，你希望你的估计是一致的。首先，我在寻找est.arma中给出的因子表和谱密度之间的匹配。没有必要把这个打死，所以让我们只选择一个模型进行演示，并确保估计值通常与视觉输出相匹配。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kp"><img src="../Images/e57595a881e40fba1dd318c74aa57cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*0U8d2tf_5FPKS7hZSBP6qQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">因子表</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/02761b1c4ad0d14b5982b4a0b8d9967b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*0DHignBKTjxEEw92YpQx-A.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">真实ACF和光谱密度</figcaption></figure><p id="7c50" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">很高兴看到估算中的峰值系统频率与频谱密度相匹配。如果这里有不匹配的地方，回到AIC.5步骤或者花更多的时间在探索部分。你希望能够模拟这种行为。回想一下我们之前看ACF时，自相关是如何出现的。上面的B部分会告诉我们，我们在正确的轨道上，因为两者非常匹配。</p><p id="2edf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，我们想提前七天预测。让我们开始吧:两个竞争者来试试。如果你一周又一周地与实际和预测保持一致，也许你会在周末运行它，并根据需要进行改装。模型1是a (1，0，1)，模型2是a (1，0，0)。在tswge中，使用fore.armga.wge函数。从上面得到的est.arma.wge中获取Phi和Theta。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/d8b814aaca74e55175b6d3d8d4adbf0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*prxEt_EXYFYePFxHoxTW-g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">预测功能</figcaption></figure><p id="e4b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您的体重时间序列不是稳定的，您只需将函数更改为fore.aruma.wge，并指定差值的次数。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kq"><img src="../Images/7fa412645f0bde731abc444b008a8a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*MoTPBziXSGVLGFE1sadDnw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">模型1——预测，不接受</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kr"><img src="../Images/8962459aa97dd7ad42f5754ac188be97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*gVFYPusLxlssZeVWbCjf-g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">模型2——预测，不接受</figcaption></figure><p id="c26f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在坚持组的结果不应该是一个惊喜；平稳的时间序列将回复到平均值。所以，你做了一些模型。还有一些其他单变量的方法可以尝试，如神经先知和先知。我使用多层感知器进行预测也取得了一些成功。这种对经典线性模型的尝试仅仅触及了表面。然而，阿玛或ARIMA模型是很好的起点。当您开始为其他模型编写脚本时，您会希望使用一个指标来比较预测准确性。RMSE、MAPE和日月光都是不错的选择。为此，我将使用ASE。计算ASE的方法如下；如果您想每周跟踪预测性能，我建议您将ASE存储在数据框中。仪表板是跟踪模型退化的好方法。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ks"><img src="../Images/a871a9bdbb9d0d1018acaa48b9dda293.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*jZk9V69ItggJyz_CAklZ-g.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">ASE计算</figcaption></figure><p id="ca3b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">模型1的ASE为1.36，模型2的ASE为1.41。看起来(1，0，1)模型是具有稍低ASE的赢家。既然我们已经对模型进行了训练和测试，那么是时候预测“最终”模型了，至少现在是这样。由于一个平稳的时间序列将回归均值，我预计预测将指向权重的增加。</p><p id="3ef5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最终预测构建如下:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/c5399d3eb89e0a80e15b966d505c2359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*v5dlB47SuQwqiHNUekrw9w.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">最终预测函数</figcaption></figure><p id="85a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我可以期待体重增加！</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ko"><img src="../Images/b6d0b8e098ba9140aa735cf7b2ce04ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*cx-UEwBmrEe7R4MHfzc_qA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">最终7天预报</figcaption></figure><p id="a13b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目前的字数正在增加，也许你已经做到了。我们通过练习提取所有可能的数据，以便可以探索多变量模型。我将把所有多变量的东西移到第2部分，在那里我们将讨论VAR模型和神经网络。剧透:我们也会寻找领先指标，可能至少会找到一个。</p><p id="911f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是了。通过你选择的方法提取数据。探索时间序列，进入有趣的部分:建模！预测可以是跟踪你体重趋势的有效方法，甚至可以帮助你坚持下去。预测和实际之间的巨大差异可能意味着需要根据你的目标进行调整。预测愉快。</p><p id="6981" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">摇滚。</p></div></div>    
</body>
</html>