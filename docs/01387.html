<html>
<head>
<title>Illustration with Python: Chebyshev’s Inequality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python插图:切比雪夫不等式</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/illustration-with-python-chebyshevs-inequality-b34be151c547?source=collection_archive---------4-----------------------#2019-10-19">https://medium.com/analytics-vidhya/illustration-with-python-chebyshevs-inequality-b34be151c547?source=collection_archive---------4-----------------------#2019-10-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d961" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Chebyshev不等式在与其他定理结合时是一个非常有用的定理，它是置信区间的基础。在这篇博客中，我将使用python来说明这个定理以及它是如何工作的。</p><p id="8f1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始编码之前，让我们看看这个定理。切比雪夫不等式指出，对于广泛的概率分布类别，不超过一定数量的值可以超过平均值的一定距离，公式如下。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/f1c3dcdcccfe5e06ef4307973caa4763.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*DJqMc1N7D9zgMdR78tr8Fw.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">切比雪夫不等式</figcaption></figure><p id="d5b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中X是随机变量，μ是X的期望值，σ是X的标准差，k &gt; 0。</p><p id="7bbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，与期望值的距离远远大于3标准差的概率小于或等于九分之一。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/53b2bf59fd99e9637eec448f23478623.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*QjRmtedHI3pQjGmfsjEtWg.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">k = 3的切比雪夫不等式</figcaption></figure><p id="a09e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据公式，如果k增加，概率会降低。我将使用python来说明这个定理，但我不会使用to公式，相反，我将使用python来创建一个群体并展示这个定理是如何工作的。</p><p id="0126" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤:</p><p id="6cac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.)创建1，000，000个值的总体，我使用形状= 2和比例= 2的伽马分布，但是该定理也适用于其他分布，例如均匀分布。</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="ad09" class="jv jw hi jr b fi jx jy l jz ka">shape, scale = 2., 2.  # mean=4, std=2*sqrt(2)<br/>mu = shape*scale<br/>sigma = scale*np.sqrt(shape)<br/>s = np.random.gamma(shape, scale, 1000000)</span></pre><p id="a873" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.)从总体中抽取10，000个值</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="d6fc" class="jv jw hi jr b fi jx jy l jz ka"># sample 10000 sample<br/>rs = random.choices(s, k=10000)</span></pre><p id="a917" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.)对与期望值的距离大于k标准偏差的样本进行计数，并使用该计数来计算概率。我想描述当k增加时概率的趋势，所以我用k的范围从0.1到3。</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="eed9" class="jv jw hi jr b fi jx jy l jz ka"># set k<br/>ks = [0.1,0.5,1.0,1.5,2.0,2.5,3.0]<br/># prob list<br/>probs = []</span><span id="2f21" class="jv jw hi jr b fi kb jy l jz ka"># for each k<br/>for k in ks: <br/>    # start count<br/>    c = 0<br/>    # for each data sample<br/>    for i in rs:<br/>        # count if far from mean in k standard deviation<br/>        if abs(i - mu) &gt; k * sigma :<br/>            c += 1<br/>    # count divided by number of sample<br/>    probs.append(c/10000)</span></pre><p id="36a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.)绘制并打印结果。</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="4816" class="jv jw hi jr b fi jx jy l jz ka"># set figure size<br/>plt.figure(figsize=(20,10))<br/># plot each probability<br/>plt.plot(ks,probs, marker='o')<br/># show plot<br/>plt.show()</span><span id="6fce" class="jv jw hi jr b fi kb jy l jz ka"># print each probability<br/>print("Probability of a sample far from mean more than k standard deviation:")<br/>for i, prob in enumerate(probs):<br/>    print("k:" + str(ks[i]) + ", probability: " \<br/>          + str(prob)[0:5] + \<br/>          " | in theory, probability should less than: " \<br/>          + str(1/ks[i]**2)[0:5])</span></pre><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kc kd l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ke"><img src="../Images/2d5ca935c889f79e0acf4b2071e14e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sI9yuEo1aQfGpTHwrMyuZg.jpeg"/></div></div></figure><p id="006f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从图和结果可以看出，随着k的增加，概率是递减的，每个k的概率都遵循不等式。而且，只有k大于1的情况才有用。如果k小于1，不等式的右边大于1，这是没有用的，因为概率不能大于1。</p><p id="830d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在许多应用中使用切比雪夫不等式，我们可以估计数据落在k个标准偏差范围内的概率。例如，下一个样本有90%的可能性在3个标准偏差的范围内。</p><p id="ca99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码可以在这个链接找到:<a class="ae kj" href="https://github.com/chaipi-chaya/Illustration-with-Python" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>，<a class="ae kj" href="https://gist.github.com/chaipi-chaya" rel="noopener ugc nofollow" target="_blank"> Python文件</a></p></div></div>    
</body>
</html>