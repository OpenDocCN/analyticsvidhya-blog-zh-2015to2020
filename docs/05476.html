<html>
<head>
<title>Decision tree and it’s split logic — Understanding Gini.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">决策树及其分裂逻辑-理解基尼。</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/decision-tree-and-its-split-logic-understanding-gini-f041cb1fa06b?source=collection_archive---------21-----------------------#2020-04-22">https://medium.com/analytics-vidhya/decision-tree-and-its-split-logic-understanding-gini-f041cb1fa06b?source=collection_archive---------21-----------------------#2020-04-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6fbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们之前的文章<a class="ae jd" rel="noopener" href="/@anjurajbangshi2/decision-tree-and-its-split-logic-understanding-entropy-3f262e82258f">决策树-熵中，</a>我们通过熵方法关注了决策树的分裂标准。</p><p id="2944" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天，我们将了解基尼系数法是如何帮助我们决定分割的。</p><p id="9fce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">几个重点:</strong></p><p id="f2cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们在上一篇文章中所知道的，信息增益越高，特征的纯度就越高，它将首先被分割用于决策树等等。</p><p id="1d56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，要素的基尼系数越高，它就越好，基尼系数最高的要素将是发生第一次结点分裂的要素。</p><p id="5ad1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个节点的基尼系数是通过类别概率的平方和来计算的。</p><p id="71d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过使用每个节点的加权基尼来计算每个特征的基尼。</p><p id="98f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">多用于CART(分类和回归树)算法。</p><p id="0372" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。在R中，如果决策树是使用rpart构建的，则gini将作为计算拆分的默认方法。</p><p id="73d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们举一个和我之前用的一样的例子，但是记录的数量稍微多一点:假设我们有两个独立的特征“健康状况”和“性别”，响应变量是“冠状动脉受影响”。</p><p id="097e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Coronaaffected二进制类变量(1-受影响，0-不受影响)。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/cdc33269a20f824b03e6c46b4647c564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yaXPCSOwGg05qK78"/></div></div></figure><p id="0c6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将尝试根据人口的<strong class="ih hj">健康状况</strong>来分析数据:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jq"><img src="../Images/9b90f0dda63390cda5a510b70ac2c9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yEhVjS25BL02Olro"/></div></div></figure><p id="3d23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步</strong>:计算被病毒感染的健康人的基尼系数:</p><p id="9833" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">健康节点的基尼系数通过类别概率的平方和来计算。</p><p id="a66d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基尼=(0.25)*(0.25)+(0.75)*(0.75)= 0.62</p><p id="5e87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步</strong>:计算被病毒感染的不健康人群的基尼系数:</p><p id="55ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不健康节点的基尼系数通过类概率的平方和来计算。</p><p id="6c6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基尼=(0.67)*(0.67)+(0.33)*(0.33)= . 45+. 11 = 0.56</p><p id="54c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤3 </strong>:利用每个节点的加权基尼系数计算每个特征的基尼系数。</p><p id="ba5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算“健康状况”特征的加权基尼= [(健康人口数量/总人口)*健康人口的基尼] + [(不健康人口数量/总人口)*不健康人口的基尼]。</p><p id="53ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">=(4/10)*(0.62)+(6/10)*(0.56)= 0.25+0.34 = 0.59</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jr"><img src="../Images/892417f166a113afdad576e5fc6b290d.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*La7vY5En2xInnxDn"/></div></figure><p id="6d22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将根据人口的<strong class="ih hj">性别</strong>分析数据:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es js"><img src="../Images/445ae05daee17cc95609172a558a62bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YIFGUKmp0S7x2Ux_"/></div></div></figure><p id="e853" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤1 </strong>:计算感染病毒女性的基尼系数:</p><p id="7b32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">女性节点的基尼系数是通过类别概率的平方和来计算的。</p><p id="260f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基尼=(0.6)*(0.6)+(0.4)* 0(. 4)= 0.36+0.16 = 0.52</p><p id="2c6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步</strong>:计算感染病毒男性的基尼系数:</p><p id="6f42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">男性节点的基尼系数是通过类别概率的平方和来计算的。</p><p id="6b3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基尼= (0.4) * (0.4) + (0.6) * (0.6) = 0.52</p><p id="43ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤3 </strong>:利用每个节点的加权基尼系数计算每个特征的基尼系数。</p><p id="e74f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算“性别”特征的加权基尼= [(女性人数/总人口)*女性人口的基尼] + [(男性人数/总人口)*男性人口的基尼)。</p><p id="6d4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">=(5/10)*(0 . 52)+(5/10)*(0.52)=(0.26)+(0.26)= 0.52</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jt"><img src="../Images/5b4ec68de38ba6674cc3d688f1e90221.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/0*8lDMP8cwXPLM_CPH"/></div></figure><p id="675a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">正如我们在上面看到的，健康状况的基尼系数(0.59)高于性别的基尼系数(0.52)，因此，健康状况将是决策树节点分割首先实现的特征。</strong></p></div></div>    
</body>
</html>