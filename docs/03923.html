<html>
<head>
<title>Understanding Joins In SQL — Inner, Left, Right and Full Joins Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解SQL中的连接—内部、左侧、右侧和完全连接解释</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-joins-in-sql-inner-left-right-and-full-joins-explained-93738a0d0135?source=collection_archive---------16-----------------------#2020-02-25">https://medium.com/analytics-vidhya/understanding-joins-in-sql-inner-left-right-and-full-joins-explained-93738a0d0135?source=collection_archive---------16-----------------------#2020-02-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="701b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="9868" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">对于初学者来说，SQL连接可能是一个难以掌握的概念。如果你以前没有学过编程，你可能很难理解什么是<a class="ae kb" href="https://courses.analyticsvidhya.com/courses/structured-query-language-sql-for-data-science?utm_source=blog&amp;utm_medium=understanding-sql-joins" rel="noopener ugc nofollow" target="_blank"> SQL </a>中的连接以及不同类型的连接。</p><p id="6e35" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">但是作为数据科学的追求者或专业人士，您需要对什么是SQL连接以及它们是如何工作的有一个坚实的理解。相信我，如果数据科学行业快速检索和操作不同表中的数据，您会经常用到它！</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/69b25c25ae1dd017bd5687599a2dfc6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*p7YHJs6X7a6yYVln.png"/></div></div></figure><p id="eacf" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在本文中，我将展示SQL连接确实很容易学习。我们将首先了解什么是SQL连接，然后看看您需要掌握的四种不同类型的连接。</p><p id="e1e3" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kt">想了解什么是SQL以及如何在数据科学中应用SQL的基础知识吗？查看热门课程</em> <a class="ae kb" href="https://courses.analyticsvidhya.com/courses/structured-query-language-sql-for-data-science?utm_source=blog&amp;utm_medium=understanding-sql-joins" rel="noopener ugc nofollow" target="_blank"> <em class="kt">数据科学SQL</em></a><em class="kt">。</em></p><h1 id="4d5d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是SQL连接？</h1><p id="d7f7" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在查看SQL中不同类型的连接之前，让我们先回答这个百万美元的问题。</p><p id="39cc" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我将举一个直观的例子来解释什么是SQL连接。考虑这两个集合:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/e34754baba624c087b734ed8cb139f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*zq2g_CTG1kNz5u6e.png"/></div></figure><p id="55c9" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">假设蓝色圆圈代表所有男生(男生)的集合，灰色代表爱看梅西踢球的人(梅西)的集合。如果我们想要一群喜欢看梅西踢球的男孩，你会怎么做？</p><p id="7e26" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">有一个非常程序化的方法来处理这个问题:</p><ul class=""><li id="5113" class="kv kw hi jf b jg kc jk kd jo kx js ky jw kz ka la lb lc ld bi translated">首先，从Messi表中选择代表下面内部查询的所有不同id</li><li id="ec46" class="kv kw hi jf b jg le jk lf jo lg js lh jw li ka la lb lc ld bi translated">从男孩表中取出每个id，并将其与这个集合进行比较</li><li id="6354" class="kv kw hi jf b jg le jk lf jo lg js lh jw li ka la lb lc ld bi translated">如果id与其中任何一个匹配，那么输出Boys表中的那一行</li></ul><p id="9948" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这非常类似于“for循环”的概念，在SQL中称为子选择。</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="c02f" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT</strong> * <strong class="lk hj">FROM</strong> BOYS<br/><strong class="lk hj">WHERE</strong> id <strong class="lk hj">IS</strong> <strong class="lk hj">IN</strong> (<strong class="lk hj">SELECT</strong> <strong class="lk hj">DISTINCT</strong> id <strong class="lk hj">FROM</strong> MESSI);</span></pre><p id="939d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">但是在SQL中，有另一种方法来处理这个问题。</p><p id="b869" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">要开始理解联接，我们必须首先对我们真正想要的东西有一个不同的视角。用固定术语来说:我们想要男孩和梅西的交集。用图形术语来说，这表示为:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/b7c691fce47028d692f7aa94d98bd3c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*pnx3ytT1wCGFAsVW.jpg"/></div></figure><p id="8c33" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们对浅蓝色部分感兴趣，对吗？这部分，或者说<em class="kt">内心</em>部分(提示)，都是爱看梅西的男生。我们现在要做的就是用SQL表达出来:</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="ccea" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT</strong> * <strong class="lk hj">FROM</strong> BOYS<br/><strong class="lk hj">INNER</strong> <strong class="lk hj">JOIN</strong> MESSI<br/><strong class="lk hj">ON</strong> BOYS.id = MESSI.id;</span></pre><p id="90dd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">看看(<em class="kt"> inner) </em> join是做什么的？再简单不过了！这是理解连接的直观方法。</p><p id="d81e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="kt">注意</em> </strong> <em class="kt">:维恩图不能直接应用于SQL，因为集合(表)中的项目并不相同。但是因为它们相互引用，我们可以使用文氏图来更好地理解这个概念。</em></p><h1 id="7f68" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">SQL中不同类型的连接</h1><p id="1558" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">现在。我们将把它扩展到大图，并了解不同类型的SQL连接。考虑下面的示例表:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es lt"><img src="../Images/3a6217aa032b14830813d479634ee609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oiZhcvXfbSwzdTsz.png"/></div></div></figure><h1 id="b42b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">1.SQL中的内部联接</h1><p id="c9d9" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这就是我们在上一节中讨论的内容。内部联接返回在两个表中都有匹配值的记录:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/006330af5f455171709ce4f1af49650a.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*NHKkRN8GI32D_0SC.jpg"/></div></figure><p id="0675" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们用上面的例子来看看输出是什么:</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="e470" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT</strong> * <strong class="lk hj">FROM</strong> BOYS <strong class="lk hj">INNER</strong> <strong class="lk hj">JOIN</strong> MESSI<br/><strong class="lk hj">ON</strong> BOYS.id = MESSI.id;</span></pre><p id="6ca2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">输出:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lu"><img src="../Images/b2210e987cc19f27e3c7b8288f435271.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/0*JJMguFP3lYskSr6v.png"/></div></figure><p id="25b4" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">正如我上面提到的，内部连接给出了两个表的交集，即两个表中的公共行。</p><h1 id="b8e9" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">2.SQL中的右(外)连接</h1><p id="ccfa" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">假设我们想要所有喜欢看梅西踢球的人的ID和名字。显然，有许多方法可以编写这个查询，但是我们将借助连接来理解。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/4340f020cff3fa88c5ed302826ed4d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*7HjqgGslLNCppeus.jpg"/></div></figure><p id="62ed" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们看看输出是什么:</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="9ecd" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT</strong>  *  <strong class="lk hj">FROM</strong> BOYS <strong class="lk hj">RIGHT</strong> <strong class="lk hj">JOIN</strong> MESSI <br/><strong class="lk hj">ON</strong> BOYS.id = MESSI.id;</span></pre><p id="e742" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">输出:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es lv"><img src="../Images/1c07bfd5ad3056631a719c4d9023011d.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/0*ZL0SzUED5kNGdT1a.png"/></div></div></figure><p id="6efd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">你能弄清楚这里发生了什么吗？右边的外部连接给出了两个表中的公共行以及Messi表中不存在于交集中的额外行。换句话说，<strong class="jf hj">右连接返回右表中的所有记录和左表中的匹配记录。</strong></p><h1 id="4a48" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">3.SQL中的左(外)连接</h1><p id="1898" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">假设我们想要一个喜欢看梅西踢球和不喜欢看梅西踢球的男孩的列表。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/e3748e0112ce78e785439e5fd4664414.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*vSf1QtlCq7sez1va.jpg"/></div></figure><p id="887b" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在你进一步阅读之前，我想让你猜猜最终的输出。</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="3753" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT </strong> *  <strong class="lk hj">FROM</strong> BOYS <strong class="lk hj">LEFT</strong> <strong class="lk hj">JOIN</strong> MESSI<br/><strong class="lk hj">ON</strong> BOYS.id = MESSI.id;</span></pre><p id="82e2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">输出<strong class="jf hj"> : </strong></p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lw"><img src="../Images/0004150e87c32c8f6a7f0d8382bbf09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/0*SMp-kFCbFdruFHiA.png"/></div></figure><p id="854b" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">左边的外部连接给出了两个表中的公共行，以及Boys表中不存在于交集中的额外行。换句话说，左连接返回左表中的所有记录和右表中的匹配记录。</p><h1 id="bb7b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">4.SQL中的完全(外部)连接</h1><p id="4bcf" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">最后，假设我们想要所有人的名单，包括爱看梅西踢球的男孩。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es ku"><img src="../Images/ffce762be862c453251be19b4cfef7db.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*Y2vhPrw6z9Vm8jqH.jpg"/></div></figure><p id="4ac7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我相信你已经知道答案了！</p><pre class="ki kj kk kl fd lj lk ll lm aw ln bi"><span id="3f40" class="lo ig hi lk b fi lp lq l lr ls"><strong class="lk hj">SELECT </strong> *  <strong class="lk hj">FROM</strong> BOYS <strong class="lk hj">FULL OUTER</strong> <strong class="lk hj">JOIN</strong> MESSI<br/><strong class="lk hj">ON</strong> BOYS.id = MESSI.id;</span></pre><p id="6bad" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">输出:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lx"><img src="../Images/7f882a3ebeb87e5014235b77e9009d29.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/0*_azrqbcYe5wSj4Ad.png"/></div></figure><p id="459d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">完美！完整的外部连接为我们提供了两个表中的公共行，以及两个表中不存在交集的额外行。当左表或右表上有匹配时，我们得到所有记录。</p><h1 id="6394" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结束注释</h1><p id="315f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">你想了解SQL在数据科学中的应用吗？我强烈推荐学习这门令人惊叹的课程— <a class="ae kb" href="https://courses.analyticsvidhya.com/courses/structured-query-language-sql-for-data-science?utm_source=blog&amp;utm_medium=understanding-sql-joins" rel="noopener ugc nofollow" target="_blank">数据科学结构化查询语言(SQL)</a>。</p><p id="e601" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">如果您对本文有任何问题或反馈，请在下面的评论区告诉我，我很乐意与您联系！</p><p id="f56f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">你也可以在分析Vidhya的Android应用上阅读这篇文章</p></div><div class="ab cl ly lz gp ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="hb hc hd he hf"><p id="af81" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kt">原载于2020年2月25日https://www.analyticsvidhya.com</em><a class="ae kb" href="https://www.analyticsvidhya.com/blog/2020/02/understanding-sql-joins/" rel="noopener ugc nofollow" target="_blank"><em class="kt"/></a><em class="kt">。</em></p></div></div>    
</body>
</html>