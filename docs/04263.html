<html>
<head>
<title>How to Master Web Scraping using Python in less than 30 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在不到30分钟的时间内掌握使用Python进行Web抓取</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-master-web-scraping-using-python-in-less-than-30-minutes-2bdb0bd1048c?source=collection_archive---------4-----------------------#2020-03-12">https://medium.com/analytics-vidhya/how-to-master-web-scraping-using-python-in-less-than-30-minutes-2bdb0bd1048c?source=collection_archive---------4-----------------------#2020-03-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c135" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用Python掌握web抓取的一些简单步骤</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/024fd4041bdf5d557b5e8b7bd5b53fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVCJe9HjFy3WIidHv18Ocg.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">如何在不到30分钟的时间内掌握使用Python进行Web抓取</figcaption></figure><p id="22e4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在这篇文章中，我将分享如何在不到30分钟的时间内掌握使用Python的web抓取。这不是很酷吗？</p><p id="68dc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果你通过谷歌搜索得到这篇文章，那么你应该已经知道什么是网络抓取。</p><p id="574e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">但如果你还是不知道，那我来解释一下。</p><blockquote class="kj kk kl"><p id="6ceb" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated"><strong class="jp hj">Web抓取</strong>是以半结构化的方式从网页中提取某些数据的活动。页面通常使用HTML或XML等标记语言构建，在开始检索数据之前，该过程将分析文档。<strong class="jp hj"/>来源:<a class="ae kq" href="https://en.wikipedia.org/wiki/Web_scraping" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="3248" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">那么<strong class="jp hj">为什么是网页抓取呢？</strong> <br/> <strong class="jp hj">网页抓取</strong>的功能是从我们抓取的网页中提取数据，并显示在我们的网站上，如果我们愿意，我们甚至可以将数据保存到数据库中。使用网络抓取的一个例子是比较在线商店之间的产品价格。例如，你想比较ebay.com和Amazon.com的iPhone价格，这样你就可以决定在哪里购买，或者你有一个评论网站，这样你就可以根据价格比较推荐在哪里购买。</p><p id="e101" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在这篇文章中，我将只分享<strong class="jp hj">如何在不到30分钟的时间内掌握使用Python的网络抓取</strong>，而不是做价格比较。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="a953" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">现在，该练习了！</strong> <br/>哦，等等，在进入程序代码之前，为了在30分钟内掌握使用python进行web抓取，您需要做一些准备:</p><ol class=""><li id="b9a4" class="ky kz hi jp b jq jr jt ju jw la ka lb ke lc ki ld le lf lg bi translated">你必须有一台安装了操作系统的电脑，不管是Windows还是Linux等等。(这个是肯定的，<em class="km"> lol </em>)。</li><li id="fcb0" class="ky kz hi jp b jq lh jt li jw lj ka lk ke ll ki ld le lf lg bi translated">你必须在你的操作系统上安装PyCharm(我推荐你使用最新版本的PyCharm <a class="ae kq" href="https://www.jetbrains.com/pycharm/download/other.html" rel="noopener ugc nofollow" target="_blank"> <em class="km">这里</em> </a>)</li><li id="854c" class="ky kz hi jp b jq lh jt li jw lj ka lk ke ll ki ld le lf lg bi translated">你必须在你的操作系统上安装Python(我也推荐你使用最新版本的Python <a class="ae kq" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> <em class="km">这里</em> </a>)</li><li id="10e5" class="ky kz hi jp b jq lh jt li jw lj ka lk ke ll ki ld le lf lg bi translated">你必须在你的操作系统上安装一个浏览器，在这篇文章中我用的是谷歌浏览器。</li><li id="efd4" class="ky kz hi jp b jq lh jt li jw lj ka lk ke ll ki ld le lf lg bi translated">你必须有一个目标网站，你会刮，在这篇文章的目标是<a class="ae kq" href="https://www.ebay.com/" rel="noopener ugc nofollow" target="_blank">ebay.com</a>。我选择易贝作为目标抓取地，是因为易贝是大型在线市场之一，甚至可以说是全球卖家和买家的聚集地。</li></ol><p id="b0e3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">是的，所有的准备工作都完成了。如果你已经具备了我上面提到的一切，那么你可以在30分钟内开始<strong class="jp hj">掌握使用Python进行web抓取。</strong></p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="828f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><em class="km">好了，让我们编码吧！</em> <br/> <strong class="jp hj">第一阶段—在PYCHARM中创建新项目</strong> <br/>在此阶段，我们将在PyCharm中创建一个名为Mastering-Web-Scraping的新项目，步骤如下:</p><ol class=""><li id="d9e7" class="ky kz hi jp b jq jr jt ju jw la ka lb ke lc ki ld le lf lg bi translated">打开PyCharm并点击Create New Project。</li></ol><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lm"><img src="../Images/429fbe2795b4a789c109f89fc0ca44c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wzLaZ0W_GLENqniibKzZbQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">在PyCharm中创建新项目</figcaption></figure><p id="c9ff" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.创建项目和虚拟名称。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lm"><img src="../Images/e0c0e75c30ae114749112c02452b618f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OczH_0SSgADz4n0mjUFBnA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">创建项目和虚拟名称</figcaption></figure><blockquote class="kj kk kl"><p id="0be2" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated">现在您在PyCharm中有一个名为<strong class="jp hj">Mastering-Web-scrape</strong>的项目，以及同名的virtualenv。<strong class="jp hj"> Virtualenv </strong>工作使得我们的项目独立于所有用python构建的库或包，所以我们可以只添加我们需要的库，效果是我们制作的程序会更快。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="5ee7" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">第二阶段——安装包请求</strong> <br/>要使用python进行网页抓取，我们至少需要3个包或库，分别是:<strong class="jp hj">请求</strong>、<strong class="jp hj">美丽的灵魂</strong>和<strong class="jp hj">烧瓶</strong>。在这个阶段，我们将在<strong class="jp hj"> test_scraping_ebay.py </strong>文件中安装<strong class="jp hj">请求库</strong>。以下是步骤:</p><p id="59a1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.<strong class="jp hj">通过<em class="km">右键点击你的项目文件夹&gt;创建一个新的python文件</em></strong>点击新建&gt; python文件&gt;用test_scraping_ebay &gt;命名Python文件选择Python文件&gt;按回车键。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ln"><img src="../Images/adf9dde1f7bd5ca2b471d7fb38dd8d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvjAE7LxUG42On5JUtv5mw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">在PyCharm中创建新的python文件</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lo"><img src="../Images/737f975e5b62c248e6abd89a5fb4e796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*23FCnXcBOw4ruJ86NaMQzw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">用test_scraping_ebay命名python文件</figcaption></figure><p id="5f1a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.在<strong class="jp hj"> test_scraping_ebay.py </strong>中编写以下代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="4d3f" class="lu lv hi lq b fi lw lx l ly lz">import requests</span></pre><p id="de6c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.然后，您会在单词requests 上看到一个<strong class="jp hj">红色标记，如图所示:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ma"><img src="../Images/7cf111570b999f1014e4e1210fab735f.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*AG1heaRlbpyJxL6r4Hj-dA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">“请求”一词上的红色标记</figcaption></figure><p id="5ae1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.<strong class="jp hj">确保光标位置如上图</strong>所示，然后按下<strong class="jp hj"> Alt+Enter </strong>然后会出现以下选项:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/e5d2e5aaea7238d15a212cd8794b535f.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*LfCaTZBAkIyaZfZkS2RElA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">请求中的Alt+Enter</figcaption></figure><p id="6cb8" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.选择<strong class="jp hj">安装包请求</strong>和<strong class="jp hj">按回车键</strong>，查看PyCharm的底部中心，您将看到以下加载:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mc"><img src="../Images/d605e60d6c8a0b4f1ed879eb2689c8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*UpiUKFPLDzdBsobe6nP0_Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">安装程序包请求</figcaption></figure><p id="bda5" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.等待加载完成，然后库安装过程或包请求已完成。通常标记的通知出现在PyCharm的右下角，如下所示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es md"><img src="../Images/5665dd3516358dcaab03e3d71f83c91c.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*5GFj_tA1mDPJD6D_4Qg3mw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">已成功安装程序包请求</figcaption></figure><p id="6c79" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.库请求安装过程已完成。</p><blockquote class="kj kk kl"><p id="e3de" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated">那么，库或包请求的功能是什么呢？为什么我们需要安装它？<br/> <strong class="jp hj">请求</strong> <strong class="jp hj">库</strong>的功能和它的名字一样，就是在浏览器中搜索并显示类似于网站搜索的某个网站的请求url (http或https)地址的结果。返回结果可以是html、xml或json的形式。如果你想了解更多关于库请求的信息，你可以在这里阅读文档<a class="ae kq" href="https://requests.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank"/>。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="de57" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">第三阶段——寻找请求方法</strong> <br/>要使用库请求，我们需要知道几件事，包括请求url、请求方法、参数、数据和json。以下是找出答案的步骤:</p><p id="eb67" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.通过浏览器进入<a class="ae kq" href="https://www.ebay.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj">ebay.com</strong></a>网站，然后在搜索栏中查找“<strong class="jp hj"> iphone </strong>，出现如下页面:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/247eec8d4f7fd1eddbf98a062b7f9c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRu6JhcL2bk4W3Fw8Q8MZA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">ebay.com上的iPhone搜索</figcaption></figure><p id="763f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.现在您已经获得了<strong class="jp hj"> url </strong>:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="f383" class="lu lv hi lq b fi lw lx l ly lz"><a class="ae kq" href="https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0" rel="noopener ugc nofollow" target="_blank"><strong class="lq hj">https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0</strong></a></span></pre><p id="d6d4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.按下<strong class="jp hj"> Ctrl+Shift+I </strong>，检查元素窗口将出现在浏览器的侧面或底部:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/d76826b6c1c462508c83b9ac35308728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iZjAmpQzLwEwQlK7BT5PrQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">检查谷歌开发工具的元素</figcaption></figure><p id="8602" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.如果您在侧面看到inspect元素显示，并想将其更改到底部，请在此  处阅读文档<a class="ae kq" href="https://developers.google.com/web/tools/chrome-devtools/customize/placement" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hj"> <em class="km">。</em></strong></a></p><p id="c490" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.接下来在名称栏中查找<strong class="jp hj">I . html _ From = R40&amp;_ trksid = m570 . l 1313&amp;_ nkw = iphone&amp;_ disabled = 0</strong>by:<strong class="jp hj">单击网络选项卡</strong>(1)——&gt;按<strong class="jp hj"> Ctrl+R </strong> - &gt; <strong class="jp hj">全选</strong>(2)——&gt;<strong class="jp hj">滚动到顶部【T35</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mf"><img src="../Images/243ba0721fb926afb4ddc4f794f87956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8OjCZqCC-BkfeMI0fn550A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">转到网络选项卡</figcaption></figure><p id="7e8f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.在<strong class="jp hj">点击上图中的数字4 </strong>后，您将看到以下<strong class="jp hj">标题列</strong>:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mg"><img src="../Images/16827690d153c5f10e03f6520cc1f655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*5k6LkA1UcZv7lhOyHM7YSQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">标题列</figcaption></figure><p id="65d7" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.现在我们有了<strong class="jp hj">请求Url </strong>和<strong class="jp hj">请求方法</strong>。</p><p id="7990" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">8.此外，仍在第6步中的同一列中，向下滚动选项卡，然后您将找到以下<strong class="jp hj">参数</strong>:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mh"><img src="../Images/e39d83427b7570230b09729748b354d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Cdcbkwk0yPGVsQ2WNubOtw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">因素</figcaption></figure><blockquote class="kj kk kl"><p id="96cf" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated">从这个阶段我们有:<br/>请求方法:<strong class="jp hj">获取</strong> <br/>请求URL:<a class="ae kq" href="https://www.ebay.com/sch/i.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj">https://www.ebay.com/sch/i.html</strong></a><br/>参数:<strong class="jp hj">_ from = R40&amp;_ trk sid = m570 . l 1313&amp;_ nkw = iphone&amp;_ disabled = 0</strong></p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="2d56" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">第四阶段——试用请求库</strong> <br/>得到使用请求库所需的东西后，在这一阶段我将展示如何使用它:</p><p id="fae8" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.打开<strong class="jp hj"> test_scraping_ebay.py </strong>文件。</p><p id="5f4c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.请求库中GET方法的公式为:<strong class="jp hj"> requests.get('url '，params = {'par1': 'par1 value '，' par2': 'par2 value '，… … etc}) </strong>。</p><p id="4723" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.根据上面的公式编写以下代码，但结果被输入到变量中:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="a99d" class="lu lv hi lq b fi lw lx l ly lz">html_requests = requests.get(<strong class="lq hj">‘https://www.ebay.com/sch/i.html'</strong>,<br/>params={<strong class="lq hj">‘_from’</strong>:<strong class="lq hj">’R40'</strong>, <strong class="lq hj">’_trksid’</strong>:<strong class="lq hj">’m570.l1313'</strong>, <strong class="lq hj">’_nkw’</strong>:<strong class="lq hj">’iphone’</strong>, <strong class="lq hj">’_sacat’</strong>:<strong class="lq hj">’0'</strong>})</span><span id="4bfc" class="lu lv hi lq b fi mi lx l ly lz">print(html_requests.text)</span></pre><p id="ad20" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.由于我们要使用beautifulsoup作为一个抓取库，我们需要html或xml请求结果，所以我们需要<strong class="jp hj">。在<strong class="jp hj"> html_requests </strong>变量后面的文本</strong>，用于确保请求的结果是html或xml。</p><p id="21ec" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.按下<strong class="jp hj"> Ctrl+Shift+F10 </strong>运行程序，你会看到如下结果:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mj"><img src="../Images/e1c31af13eb50160398aaeb9bc054143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*_HJmGIQU-rThQOb3ke06rw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">试用请求库</figcaption></figure><p id="73c9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.上面的结果将与您在Google Chrome浏览器上使用以下url按下<strong class="jp hj"> Ctrl+U </strong>时的结果相同:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="becb" class="lu lv hi lq b fi lw lx l ly lz"><a class="ae kq" href="https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0" rel="noopener ugc nofollow" target="_blank">https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0</a></span></pre><p id="0e5f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.好了，对图书馆申请的审判已经结束了。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="306b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">五阶段—安装BEAUTIFULSOUP库</strong> <br/>如何在PyCharm中安装beautifulsoup库与我们之前做过的如何安装库请求大致相同。以下是方法:</p><p id="593d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.仍然在<strong class="jp hj"> test_scraping_ebay.py </strong>文件中，在导入请求的正下方添加以下代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="647a" class="lu lv hi lq b fi lw lx l ly lz">from bs4</span></pre><p id="64eb" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.现在你肯定会在bs4 代码上得到一个<strong class="jp hj">红色标记，如下所示:</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/99debb1d36d4fd60a22097c393e71455.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*ciW7N6So2qgftjbfdkKaiQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">bs4上的红色标记</figcaption></figure><p id="5518" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.当光标附着在bs4代码上时，按<strong class="jp hj"> Alt+Enter </strong>，会出现以下选项:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ml"><img src="../Images/dd94bc16e088209c65602b061334da03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*bybgNDt69zLvQ689LKo0zQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Alt+Enter bs4选项</figcaption></figure><p id="ce47" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.选择<strong class="jp hj">安装包美组4 </strong>和<strong class="jp hj">按Enter </strong>，将出现以下加载:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mm"><img src="../Images/2fd53fa4b8d8bc373b745304e37a06b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*EB3wzhNISm24eB9kkPyEgA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">安装软件包beautifulsoup4时的加载过程</figcaption></figure><p id="73a0" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.等待该过程完成，并显示以下通知:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mn"><img src="../Images/c5fa2a22ca3b571eebc30d1fc8f37883.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*ZyUoKorsM7hRPWHcOHCCTQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">成功安装软件包beautifulsoup4</figcaption></figure><p id="bf86" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.安装过程已完成，但仍有红色标记，完成前面的代码以:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="bba9" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">from </strong>bs4 <strong class="lq hj">import </strong>BeautifulSoup</span></pre><p id="2aa5" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.好了，这个阶段完成了。</p></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="8820" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">第六阶段—试用beautifulsoup库</strong> <br/>接下来，我们来测试beautiful soup库，不过事先我会说明一下，我们会从这个链接中提取或者废弃的数据:<br/><a class="ae kq" href="https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0" rel="noopener ugc nofollow" target="_blank">https://www.ebay.com/sch/i.html?_from=R40&amp;_ trk sid = m570 . l 1313&amp;_ nkw = iphone&amp;_ sacat = 0</a><br/>只有3个数据:<strong class="jp hj">产品照片</strong>，<strong class="jp hj">产品名称【T38<br/>嗯，下面是怎么回事:</strong></p><p id="8433" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.打开<strong class="jp hj"> test_scraping_ebay.py </strong>文件。</p><p id="8f7f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.在html_requests变量后添加以下代码【T0:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="5c2e" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#declaration BeautifulSoup<br/></em>soup = BeautifulSoup(html_requests.text, <strong class="lq hj">‘html.parser’</strong>)</span></pre><p id="1baa" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.然后将<strong class="jp hj"> <em class="km">打印代码</em>(html _ requests . text)改为:</strong></p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="2778" class="lu lv hi lq b fi lw lx l ly lz">print(soup)</span></pre><p id="4986" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.在代码中，我使用<strong class="jp hj"> html.parser </strong>来确保结果是html代码。</p><p id="2ab3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.如果您运行上面的代码，结果将与试用请求库相同。</p><p id="40b2" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.现在是寻找照片的时候了，打开我们将废弃的ebay链接，然后在Google Chrome上的一张产品照片上使用inspect，如下所示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mh"><img src="../Images/851b041af4ade86a5bde05f5b80d0fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*yeOLk9Q4eezPTWb3B399-A.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">右键单击其中一张产品照片</figcaption></figure><p id="3584" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.在inspect选项卡上，您会看到类似如下的内容:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/10fba0fe394a58372bb8c5d0b5a5f151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3rjtpdpnywOLmunwKZ35A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">谷歌浏览器检查元素</figcaption></figure><p id="1f18" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">8.首先，您将被定向到上图中的“<strong class="jp hj"> a </strong>”部分，在该部分中，我们获得了两个目标:<strong class="jp hj">产品照片</strong> <strong class="jp hj">和产品名称</strong>，但是我们没有找到产品详细信息的url或链接。因此，我们必须在“<strong class="jp hj"> b </strong>”部分稍微滚动一下<strong class="jp hj">，您将找到<strong class="jp hj">产品详情</strong>“<strong class="jp hj">d</strong>”的url。为了使用beautifulsoup库<strong class="jp hj">进行抓取，我们需要html标签和属性</strong>。那么，现在我们已经找到了我们将在“<strong class="jp hj"> c </strong>部分使用的属性，即<strong class="jp hj"> class = "s-item__image" </strong>。</strong></p><p id="7456" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">9.返回<strong class="jp hj"> test_scraping_ebay.py </strong>并在soup变量后添加以下代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="8ffe" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#Scrapper<br/></em>product_image = soup.find_all(attrs={<strong class="lq hj">‘class’</strong>: <strong class="lq hj">‘s-item__image’</strong>})</span></pre><p id="1b81" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">10.删除<strong class="jp hj">打印(汤)</strong>代码，因为我们将使用带有<strong class="jp hj"> for </strong>的循环来显示废料的结果，以及代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="99ee" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#Looping product_image with for<br/></em><strong class="lq hj">for </strong>img <strong class="lq hj">in </strong>product_image:<br/>    print(img)</span></pre><p id="04cf" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">11.用<strong class="jp hj"> Ctrl+Shift+F10 </strong>运行<strong class="jp hj"> test_scraping_ebay.py </strong>，你会从<strong class="jp hj"> class="s-item__image" </strong>中得到一个“<strong class="jp hj"> divs </strong>”的集合，如下:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mp"><img src="../Images/6f6613b1fcb5680cb4d7dad9aeb2d34a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*tiugZyzsOh4q1sxVgoFNAw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">class="s-item__image "中的Div集合</figcaption></figure><p id="30b3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">12.那么，如果我们只想显示上面数据中的<strong class="jp hj">产品名称</strong>呢？</p><p id="5441" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">13.好的，您必须将第10步中的代码改为:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="e211" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#Looping product_image with for<br/></em><strong class="lq hj">for </strong>img <strong class="lq hj">in </strong>product_image:<br/>    print(<strong class="lq hj">img.find('img')['alt']</strong>)</span></pre><p id="5107" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">14.然后，您将获得如下产品名称列表:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mq"><img src="../Images/64be6d4c3c77de770c23a9e433c8544c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*N5hDkBXLQV-66R_tqQvKUA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">产品名称列表</figcaption></figure><p id="046e" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">15.好了，抓取完成，<strong class="jp hj">下面是test_scraping_ebay.py的完整源代码</strong>:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mr ms l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak"> test_scraping_ebay.py </strong></figcaption></figure><blockquote class="kj kk kl"><p id="25f3" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated"><strong class="jp hj">find _ all(attrs = { ' html_attributes ':' html_attributes_value ' })</strong>用于在声明的html _ attributes中显示html _ attributes _ value中包含的所有标签和属性。<br/><strong class="jp hj">find(' tag ')[' attributes ']</strong>函数用于检索find_all中包含的特定标记之一的值(attrs = { ' html _ attributes ':' html _ attributes _ value ' })。</p></blockquote></div><div class="ab cl kr ks gp kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="hb hc hd he hf"><p id="2e64" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj">第七阶段——显示用FLASK </strong> <br/>抓取的结果在前一阶段我们已经成功抓取到以下URL:<a class="ae kq" href="https://www.ebay.com/sch/i.html?_from=R40&amp;_trksid=m570.l1313&amp;_nkw=iphone&amp;_sacat=0" rel="noopener ugc nofollow" target="_blank">https://www.ebay.com/sch/i.html?_from=R40&amp;_ trk sid = m570 . l 1313&amp;_ nkw = iphone&amp;_ sacat = 0</a><br/>在这一阶段，我将解释如何将前一阶段获得的抓取结果显示到我将使用FLASK制作的一个简单网站中。<em class="km">对于我在前面几个阶段解释过的部分，我不会使用图像，例如:创建新的python文件、安装过程以及安装过程成功时的通知，因为这没有什么区别</em>。<em class="km"> lol </em></p><p id="38e8" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">1.<strong class="jp hj">创建一个名为<strong class="jp hj"> run </strong>的新python文件</strong>，那么你将拥有一个<strong class="jp hj"> run.py </strong>文件。</p><p id="fc1a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.<strong class="jp hj">导入</strong> <strong class="jp hj">请求</strong>和<strong class="jp hj">美妆组</strong>:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="10d8" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">import </strong>requests<br/><strong class="lq hj">from </strong>bs4 <strong class="lq hj">import </strong>BeautifulSoup</span></pre><p id="317f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.<strong class="jp hj">安装软件包瓶</strong>，与安装beautifulsoup软件包的方式相同，只需写下:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="da85" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">from </strong>flask</span></pre><p id="0b81" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">4.当光标在word flask上时按下<strong class="jp hj"> Alt+Enter </strong>然后选择<strong class="jp hj">安装package flask </strong>。</p><p id="18e0" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">5.等待安装过程完成。</p><p id="0abc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">6.安装过程完成后，继续第3步中的代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="6951" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">from </strong>flask <strong class="lq hj">import </strong>Flask, render_template</span></pre><p id="fa84" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">7.为了<strong class="jp hj">启动砂箱</strong>，习惯将砂箱的开合线编码如下:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="114a" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#start flask code<br/></em>app = Flask(__name__)</span><span id="3126" class="lu lv hi lq b fi mi lx l ly lz"><em class="km">#scraping code will start here</em></span><span id="a042" class="lu lv hi lq b fi mi lx l ly lz"><em class="km">#end flask code<br/></em><strong class="lq hj">if </strong>__name__ == <strong class="lq hj">'__main__'</strong>:<br/>app.run(debug=<strong class="lq hj">True</strong>)</span></pre><p id="8bfc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">8.<strong class="jp hj">在<em class="km">的正下方添加以下代码</em></strong>#刮码将从这里开始:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="d432" class="lu lv hi lq b fi lw lx l ly lz"><em class="km">#scraping code will start here<br/></em>@app.route(‘/’)<br/><strong class="lq hj">def </strong>home():<br/>    <strong class="lq hj">return </strong>render_template(<strong class="lq hj">'index.html'</strong>)</span></pre><p id="fced" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">9.因为我们使用了<strong class="jp hj"> render_template </strong>，我们需要<strong class="jp hj">在我们的项目中创建一个名为<strong class="jp hj"> templates </strong>的文件夹</strong>，就像这样:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mt"><img src="../Images/7de7e3854aa0c57237e97092937a2d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*1ANfrPcdqW6j0cAYGnEkuw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">右键单击—新—目录</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/73f23310f384c6bd9fabb56890a980b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*JiWTuIPXDK28f9xZ3Rejxw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">创建目录名</figcaption></figure><p id="4f54" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">10.<strong class="jp hj">在我们之前创建的模板文件夹中创建一个名为<strong class="jp hj">索引</strong>的html文件</strong>:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mv"><img src="../Images/5d38793503ca2e0916c81633b3dd2a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*GIICih5L0ASzUCAwM5YmWg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">创建新的html文件</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mw"><img src="../Images/6634bccf64a274e8f2a88b43df34d2a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*y9Jg8IvscjDOy3b5y0cbTQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">将索引命名为html</figcaption></figure><p id="08e9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">11.对html代码稍加修改就变成了:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="65b3" class="lu lv hi lq b fi lw lx l ly lz">&lt;!DOCTYPE <strong class="lq hj">html</strong>&gt;<br/>&lt;<strong class="lq hj">html lang=”en”</strong>&gt;<br/>&lt;<strong class="lq hj">head</strong>&gt;<br/>   &lt;<strong class="lq hj">meta charset=”UTF-8"</strong>&gt;<br/>   &lt;<strong class="lq hj">title</strong>&gt;Scraping Ebay&lt;/<strong class="lq hj">title</strong>&gt;<br/>&lt;/<strong class="lq hj">head</strong>&gt;<br/>&lt;<strong class="lq hj">body</strong>&gt;<br/>    &lt;<strong class="lq hj">h1</strong>&gt;This is the index.html page&lt;/<strong class="lq hj">h1</strong>&gt;<br/>&lt;/<strong class="lq hj">body</strong>&gt;<br/>&lt;/<strong class="lq hj">html</strong>&gt;</span></pre><p id="03a5" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">12.回到<strong class="jp hj"> run.py </strong>文件，然后按下<strong class="jp hj"> Ctrl+Shift+F10 </strong>，然后你会在run选项卡上看到这样的内容:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mx"><img src="../Images/625ea3a2fe365d0e5269bada04cbbb02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*PEOGhuZCZyBg-IAgH2KWLg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">运行run.py文件</figcaption></figure><p id="5c2b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">13.按下<a class="ae kq" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj">http://127 . 0 . 0 . 1:5000/</strong></a>会出现以下页面:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es my"><img src="../Images/b76b1b4eb7ead9e9e0c412411256297e.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*oBEUsgdSCMTE35L9xkPo5A.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">index.html·佩奇</figcaption></figure><p id="fcd0" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">14.好的，我们已经成功地使用了烧瓶。</p><p id="3727" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">15.接下来，在本文中，我将使用<strong class="jp hj"> bootstrap4 </strong>模板来显示抓取结果。这里可以看到html代码<a class="ae kq" href="https://www.w3schools.com/bootstrap4/tryit.asp?filename=trybs_navbar_fixed&amp;stacked=h" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj"><em class="km"/></strong></a>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mz"><img src="../Images/8ce9214065a3e433b3304b3dad159628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewK4sDgcDjqatrTsv0wiIA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">w3schools.com</figcaption></figure><p id="b6d5" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">16.复制并粘贴所有的bootstrap4 html代码到<strong class="jp hj">index.html</strong>。</p><p id="67fc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">17.<strong class="jp hj">刷新</strong>页面<a class="ae kq" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5000/ </a>然后你会看到如下显示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es et"><img src="../Images/f6ec8051d7898c237eed8d696020c7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PA7JTPOyoXXQuexJHqH5w.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">带靴子的index.html 4</figcaption></figure><p id="fdbc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">18.<strong class="jp hj">将</strong>bootstrap 4 html代码修改为:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mr ms l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">修改bootstrap4 html代码</figcaption></figure><p id="6058" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">19.这是代码修改后的外观:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es na"><img src="../Images/8ce5f33da5d200c0d27aaacdb4a39ed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*HsxZ03dLcdZbj2HXvceYYA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">修改后的index.html与bootstrap4</figcaption></figure><p id="0504" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">20.好了，启动程序4准备好了。</p><p id="7a71" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">21.返回到<strong class="jp hj"> run.py </strong>文件，通过添加我们之前在<strong class="jp hj"> test_scraping_ebay.py </strong>中编写的一些代码来修改“<strong class="jp hj"> def home() </strong>”，如下所示:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="a2b9" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">def </strong>home():<br/>   <em class="km">#declaration requests<br/>   </em>html_requests = requests.get(<strong class="lq hj">'https://www.ebay.com/sch/i.html'</strong>, params={<strong class="lq hj">'_from'</strong>:<strong class="lq hj">'R40'</strong>, <strong class="lq hj">'_trksid'</strong>:<strong class="lq hj">'m570.l1313'</strong>, <strong class="lq hj">'_nkw'</strong>:<strong class="lq hj">'iphone'</strong>, <strong class="lq hj">'_sacat'</strong>:<strong class="lq hj">'0'</strong>})</span><span id="40a8" class="lu lv hi lq b fi mi lx l ly lz"><em class="km">   #declaration BeautifulSoup<br/>   </em>soup = BeautifulSoup(html_requests.text, <strong class="lq hj">'html.parser'</strong>)<br/>   <br/>   <em class="km">#Scrapper<br/>   </em>product_image = soup.find_all(attrs={<strong class="lq hj">'class'</strong>: <strong class="lq hj">'s-item__image'</strong>})<br/>   <br/>   <strong class="lq hj">return </strong>render_template(<strong class="lq hj">'index.html'</strong>)</span></pre><p id="8f2d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">22.将<strong class="jp hj">返回render _ template(' index . html ')</strong>修改为:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="3968" class="lu lv hi lq b fi lw lx l ly lz"><strong class="lq hj">return </strong>render_template(<strong class="lq hj">'index.html'</strong>, <strong class="lq hj">images=product_image</strong>)</span></pre><p id="d3de" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">23.打开<strong class="jp hj">index.html</strong>文件，查找以下代码:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="481d" class="lu lv hi lq b fi lw lx l ly lz">&lt;<strong class="lq hj">div class="container-fluid" style="</strong>margin-top:80px<strong class="lq hj">"</strong>&gt;</span><span id="8073" class="lu lv hi lq b fi mi lx l ly lz">&lt;/<strong class="lq hj">div</strong>&gt;</span></pre><p id="55d9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">24.在步骤23中的html代码之间添加以下代码，如下所示:</p><pre class="iy iz ja jb fd lp lq lr ls aw lt bi"><span id="5a8b" class="lu lv hi lq b fi lw lx l ly lz">&lt;<strong class="lq hj">div</strong> class="container-fluid" style<strong class="lq hj">="</strong>margin-top:80px<strong class="lq hj">"</strong>&gt;<br/>     {% <strong class="lq hj">for image in images: </strong>%}<br/>        {{<strong class="lq hj">image</strong>|safe}}<br/>        &lt;<strong class="lq hj">a</strong> href=<strong class="lq hj">"{{image.find('a')['href']|safe}}"&gt;<br/>        </strong>{{<strong class="lq hj">image.find('a').find('img')['alt']</strong>|safe}}&lt;/<strong class="lq hj">a</strong>&gt;<br/>     {% endfor %}<br/>&lt;/<strong class="lq hj">div</strong>&gt;</span></pre><blockquote class="kj kk kl"><p id="b784" class="jn jo km jp b jq jr ij js jt ju im jv kn jx jy jz ko kb kc kd kp kf kg kh ki hb bi translated"><strong class="jp hj">图像</strong>是我们在<strong class="jp hj"> run.py </strong>文件中创建的变量，该文件位于以下部分:return render _ template<strong class="jp hj">(</strong>' index . html '，<strong class="jp hj"> images = product_image) </strong></p></blockquote><p id="c455" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">25.刷新页面<a class="ae kq" href="http://127.0.0.1:5000/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj">http://127 . 0 . 0 . 1:5000/</strong></a>，耶你懂了:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/5229ed6b58f71becf7d3953df76c7af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*oYJy2UDU29GUO-UE0n8F8w.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">带刮刀的index.html</figcaption></figure><p id="4612" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">26.好了，完成了伙计们！干得好！</p><p id="401d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">下面是run.py 文件的<strong class="jp hj">完整源代码:</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mr ms l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">run.py完整源代码</figcaption></figure><p id="898d" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">然后，这是index.html的完整源代码<strong class="jp hj">:</strong></p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mr ms l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">index.html全部源代码</figcaption></figure><p id="bdaa" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">什么？你只需要10分钟就能完成？<br/> <em class="km">好了，我知道了，我知道了，你就复制粘贴一下吧？lol </em></p><p id="9e10" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">哦，如果在你读完这篇文章后，你仍然没有掌握网络抓取，这意味着你仍然需要提升你的技能男孩！<br/> <em class="km">哈哈，加油！</em></p><p id="4ccb" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">最后，你可以在我的github中查看下面的代码，随意克隆并在你自己的网站上使用。</p><div class="nc nd ez fb ne nf"><a href="https://github.com/EkoMisprajiko/Mastering-Web-Scraping" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">ekommisprajiko/母版制作-网络抓取</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">如何在不到30分钟的时间内掌握使用Python进行网页抓取</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt jh nf"/></div></div></a></div><p id="5988" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果你不知道如何将你的PyCharm项目分享到github，可以看我的文章<a class="ae kq" rel="noopener" href="/@ekomisprajiko/how-to-share-pycharms-project-on-github-de837063c12"> <strong class="jp hj">如何在Github </strong> </a>上分享PyCharm项目。</p><p id="07eb" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">似乎这就是我在文章中所能给出的全部:<strong class="jp hj">如何在30分钟内掌握使用Python进行web抓取</strong>。<br/>感谢您的阅读。<br/>下次见，快乐编码！</p></div></div>    
</body>
</html>