<html>
<head>
<title>Setting Up Your Windows Gaming Rig ML Training Ready with Tensorflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Tensorflow设置您的Windows游戏装备ML培训</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/getting-your-windows-gaming-rig-ml-training-ready-with-tensorflow-42f47abd3828?source=collection_archive---------13-----------------------#2020-01-16">https://medium.com/analytics-vidhya/getting-your-windows-gaming-rig-ml-training-ready-with-tensorflow-42f47abd3828?source=collection_archive---------13-----------------------#2020-01-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eed2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经在数据科学领域工作了两年，但从未费心在家里设置我的游戏PC来进行GPU培训。这主要是因为我在工作中使用Linux / MacOS环境，并不真的想在Windows中设置环境。随着我开始承担更多的个人项目，我意识到在我的小CPU上进行神经网络训练是不够的，我可能应该把我的GTX 1080用在我的windows机器上(它当然可以不只是玩Overwatch)。文档对于windows的设置来说不是很好，所以这篇文章对你的帮助不亚于帮助我自己记住我是如何做到这一点的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/0a545a760059af3264f506965b83c203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PeZCAOBGpywjhE_FRc9NIw.jpeg"/></div></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><h1 id="f9a5" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">配合得很好的版本</h1><p id="37d5" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">在撰写本文时，所有这些的最新版本都不能很好地协同工作。以下是对我来说配合得很好的版本。这一点很重要，因为版本不匹配会导致错误/缺少GPU:</p><ul class=""><li id="4dc7" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">Python 3.7</li><li id="8684" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">Visual Studio社区2019 v16.4</li><li id="d39f" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">VS c++ 2015、2017和2019年的可再发行版本</li><li id="3c85" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">CUDA v10.1</li><li id="7326" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">适用于CUDA v10.1的cuDNN v7.6.5</li><li id="dfe5" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">张量流2.1</li></ul><h1 id="6de1" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">下载</h1><p id="72be" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">如果您尚未下载和安装，请下载并安装以下内容:</p><ul class=""><li id="5d0b" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated">蟒蛇3(<a class="ae ls" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank">https://www.anaconda.com/distribution/</a></li><li id="8683" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">Visual Studio社区2019(【https://visualstudio.microsoft.com/downloads/】T2)</li><li id="c52b" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">Visual Studio C++可再发行软件(<a class="ae ls" href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads" rel="noopener ugc nofollow" target="_blank">https://support . Microsoft . com/en-us/help/2977003/the-latest-supported-visual-C-downloads</a>)</li><li id="6643" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">CUDA(<a class="ae ls" href="https://developer.nvidia.com/cuda-10.1-download-archive-update2?target_os=Windows&amp;target_arch=x86_64&amp;target_version=10&amp;target_type=exelocal" rel="noopener ugc nofollow" target="_blank">https://developer . NVIDIA . com/CUDA-10.1-下载-存档-更新2？target _ OS = Windows&amp;target _ arch = x86 _ 64&amp;target _ version = 10&amp;target _ type = exe local</a></li><li id="4a64" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated">cud nn(<a class="ae ls" href="https://developer.nvidia.com/rdp/cudnn-download" rel="noopener ugc nofollow" target="_blank">https://developer.nvidia.com/rdp/cudnn-download</a>)</li></ul><h1 id="1e7e" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">蟒蛇装置</h1><p id="77e5" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">Anaconda3的安装非常简单。只需按照可视安装程序中的提示，在您的计算机上安装即可。请注意，如果您为所有用户安装，您必须养成以管理员身份运行一些与Anaconda相关的东西的习惯。</p><h1 id="e5ab" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">Visual Studio安装</h1><p id="2a69" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">接下来，如果您的计算机上没有Visual Studio Community，请安装它。首先，您将在Visual Studio安装程序中安装Visual Studio社区。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/d71f2b49695da8f4a2d419525583ee99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HxOV1Og-ufZ4Y-i9w7opEw.png"/></div></div></figure><p id="410e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击install后，您将看到一个页面，提示您安装工作负载或组件。这里不需要安装任何东西。只需点击右下角的安装。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/c877e6350728cca00c1cdd90900fc10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*leIo77JhthbiT3LfE6V5qA.png"/></div></div></figure><p id="f8d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它会再次询问您是否要安装工作负载。回答左边的继续。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/eca655c7397d10d7ce23e2a7f1ce190e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*__iakp6OX-ylAA8mWj4A7g.png"/></div></div></figure><p id="db7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候安装C++再发行版了。只需下载。与您的CPU (64位或32位，用x86表示)匹配的. exe文件。当你点击可执行文件时，你会看到这个屏幕:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lw"><img src="../Images/cbfa294b31ce086d877093f8d49dae29.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*9gF-42IapGvtIPb3iTu7hA.png"/></div></figure><p id="0004" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需点击修复，让它做它的事情。此时此刻。系统会提示您重新启动。去做吧。</p><h1 id="2122" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">CUDA安装</h1><p id="87d5" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">现在是时候安装CUDA了。CUDA是你发布进程给你的GPU来处理的方式。继续操作，并使用给定的默认设置点击完成安装。这应该相当简单。</p><p id="68f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装完成后，你的电脑中应该会有几个新文件夹<code class="du lx ly lz ma b">C:\Program Files\NVIDIA Corporation</code>和<code class="du lx ly lz ma b">C:\Program Files\NVIDIA GPU Computing Toolkit</code>。</p><h1 id="d973" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">cuDNN装置</h1><p id="8450" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">现在是时候安装cuDNN了。cuDNN实际上只是一个你下载的zip文件。我把我的放在我创建的名为C:\tools的新文件夹中。然后，我将zip文件解压到这个文件夹中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/8021a259f875e4ca6b599b5b09e4a8f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4XzcVGavN8NDmd5LqB2Fw.png"/></div></div></figure><p id="7295" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你需要从cuDNN复制几个文件到CUDA。以下是详细情况:</p><pre class="je jf jg jh fd mc ma md me aw mf bi"><span id="3e9e" class="mg jx hi ma b fi mh mi l mj mk">C:\tools\cuda\bin\cudnn64_7.dll → C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\bin</span><span id="87cd" class="mg jx hi ma b fi ml mi l mj mk">C:\tools\cuda\include\cudnn.h → C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\include</span><span id="06e1" class="mg jx hi ma b fi ml mi l mj mk">C:\tools\cuda\lib\x64\cudnn.lib → C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\extras\CUPTI\lib64</span></pre><h1 id="dfc5" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">环境变量</h1><p id="ae7a" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">最后，确保您已经为新安装的CUDA软件更新了环境变量和路径。要查看您的路径，打开开始菜单并搜索<code class="du lx ly lz ma b">env</code>。您将看到这个控制面板链接出现:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/f6d934617e6e36efb1760167813ca3b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4TCMn8oIRKSov8nFzzCFQw.png"/></div></div></figure><p id="64c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将打开系统属性。在右下角的“高级”标签里，你会看到一个环境变量的按钮。点击:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mn"><img src="../Images/816a207959e5c926648472ba5af6f907.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*lr3TAO_r5YBidr8tlOvkog.png"/></div></figure><p id="0357" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保在系统变量下设置了<code class="du lx ly lz ma b">CUDA_PATH</code>和<code class="du lx ly lz ma b">CUDA_PATH_V10_1</code>,指向CUDA安装位置内的<code class="du lx ly lz ma b">v10.1</code>文件夹。对我来说就是这里:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mo"><img src="../Images/4c4ed959ab548b8d87129b0bf4646487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*L93g1JGX3exJXmFkCleq9w.png"/></div></figure><p id="88a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，让我们确保我们的<code class="du lx ly lz ma b">Path</code>变量包含所有需要的lib和bin目录。点击系统变量窗口下的<code class="du lx ly lz ma b">Path</code>并点击编辑进行检查。它会弹出一个窗口，如下图所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/4f07e2836fcc770b683542eb33fae617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eb8PO8DwT8S-MPNBil7YQQ.png"/></div></div></figure><p id="7bdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你还没有我的路径中显示的前5个目录，你会想要把它们添加到你的路径中。具体而言，它们如下:</p><pre class="je jf jg jh fd mc ma md me aw mf bi"><span id="3f95" class="mg jx hi ma b fi mh mi l mj mk">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\bin</span><span id="ba86" class="mg jx hi ma b fi ml mi l mj mk">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\libnvvp</span><span id="fb6e" class="mg jx hi ma b fi ml mi l mj mk">C:\tools\cuda\bin</span><span id="22b5" class="mg jx hi ma b fi ml mi l mj mk">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\include</span><span id="8a94" class="mg jx hi ma b fi ml mi l mj mk">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.1\extras\CUPTI\lib64</span></pre><h1 id="7b61" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">张量流装置</h1><p id="780f" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">此时，您已经为基础设施做好了准备。让我们给你的蟒蛇装上tensorflow。如果你想的话，可以随意制作一个虚拟环境。继续从开始菜单打开Anaconda提示符并运行</p><pre class="je jf jg jh fd mc ma md me aw mf bi"><span id="1ed2" class="mg jx hi ma b fi mh mi l mj mk">$ pip install tensorflow==2.1</span></pre><p id="1066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将安装tensorflow 2.1(在撰写本文期间的最新版本)，它具有对CPU和GPU处理的原生支持。</p><h1 id="6b4a" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">测试一下</h1><p id="7719" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">安装完成后，我们可以通过在Anaconda提示符下运行以下命令来检查tensorflow是否能看到您的GPU。</p><pre class="je jf jg jh fd mc ma md me aw mf bi"><span id="6703" class="mg jx hi ma b fi mh mi l mj mk">$ python<br/>$ &gt;&gt;&gt;import tensorflow as tf<br/>$ &gt;&gt;&gt;tf.config.list_physical_devices()</span></pre><p id="aaa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果这返回一个GPU设备作为您的列表的一部分，这意味着tensorflow知道您的GPU存在，并且它已准备好用于训练。以下是我的输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/a93757031a7051d7dc656d09dbc2089f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AA3zgmkiDF9o-T1tyZKsdA.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx translated">注意，返回列表的第二个元素的device_type='GPU '</figcaption></figure><h1 id="33bb" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">全部完成！</h1><p id="49f8" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq kw is it iu kx iw ix iy ky ja jb jc hb bi translated">此时，您的PC已经为您的GPU设置了tensorflow来执行所有这些反向投影计算。不再计算你的谷歌协作时间！！</p><h1 id="ba1b" class="jw jx hi bd jy jz ln kb kc kd lo kf kg kh lp kj kk kl lq kn ko kp lr kr ks kt bi translated">一些其他有用的链接</h1><div class="mv mw ez fb mx my"><a href="https://www.tensorflow.org/install/gpu" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">GPU支持| TensorFlow</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">注意:GPU支持适用于带有CUDA卡的Ubuntu和Windows。TensorFlow GPU支持需要…</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">www.tensorflow.org</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm jn my"/></div></div></a></div><div class="mv mw ez fb mx my"><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">安装指南Windows :: CUDA工具包文档</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">MS-Windows系统上CUDA工具包的安装说明。CUDA是一个并行计算平台，并且…</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">docs.nvidia.com</p></div></div></div></a></div><div class="mv mw ez fb mx my"><a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#install-windows" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hj fi z dy nd ea eb ne ed ef hh bi translated">cuDNN安装指南::NVIDIA深度学习SDK文档</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">本cuDNN 7.6.5安装指南提供了如何安装和检查是否正确的分步说明…</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">docs.nvidia.com</p></div></div></div></a></div></div></div>    
</body>
</html>