<html>
<head>
<title>Star Wars Survey— Cleaning, Exploring Data set for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">星球大战调查——为初学者清理、探索数据集</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/star-wars-survey-cleaning-exploring-data-set-for-beginners-cf2be950feaa?source=collection_archive---------9-----------------------#2020-03-03">https://medium.com/analytics-vidhya/star-wars-survey-cleaning-exploring-data-set-for-beginners-cf2be950feaa?source=collection_archive---------9-----------------------#2020-03-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/6a569317df96d0ae718abfae3d2b89c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jeHmDPQZdALy8Ns0"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx translated"><a class="ae jc" href="https://unsplash.com/@danielkcheung?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">张家瑜</a>在<a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="e031" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">538 的一个团队在Survey Monkey上调查了《星球大战》粉丝，收集了800多份回复。数据集可以在这里找到。<a class="ae jc" href="https://github.com/fivethirtyeight/data/tree/master/star-wars-survey" rel="noopener ugc nofollow" target="_blank">https://github . com/fivethirtyeight/data/tree/master/star-wars-survey</a></p><p id="8e25" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们看看在这里我们能找到什么见解。</p><p id="de26" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">数据集有一些字符不在Python的默认编码“UTF-8”中，因此我们需要使用编码“ISO-8859–1”。点击此处了解更多关于编码差异的信息。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kb"><img src="../Images/2171963c93fa471b858f44ea95e18841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*U1lp-pi1hQou5Z9ohoPU4g.png"/></div></figure><div class="kc kd ez fb ke kf"><a href="https://stackoverflow.com/questions/7048745/what-is-the-difference-between-utf-8-and-iso-8859-1" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">UTF-8和ISO-8859-1有什么区别？</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">stackoverflow.com</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt iw kf"/></div></div></a></div><p id="7676" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">数据有几个与回答者相关的列，如RespondentID(生成的唯一ID)、性别、年龄、家庭收入、教育、位置。</p><p id="757b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">它有这样的问题—<code class="du ku kv kw kx b">Have you seen any of the 6 films in the Star Wars franchise?</code><code class="du ku kv kw kx b">Do you consider yourself to be a fan of the Star Wars film franchise?</code>—<code class="du ku kv kw kx b">Yes/No can be answer</code></p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es ky"><img src="../Images/ffb6c54af9f01c99a6e54ea948f61299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*NbBBA1rZ_88X09xLaGhalQ.png"/></div></figure><p id="d834" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这两列目前都是字符串类型，因为它们包含的主要值是<code class="du ku kv kw kx b">Yes</code>和<code class="du ku kv kw kx b">No</code>。我们可以通过将每一列转换为只有值<code class="du ku kv kw kx b">True</code>、<code class="du ku kv kw kx b">False</code>和<code class="du ku kv kw kx b">NaN</code>的布尔值来使数据更容易分析。我们可以在熊猫身上使用矢量化方法‘地图’。<a class="ae jc" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html" rel="noopener ugc nofollow" target="_blank">https://pandas . pydata . org/pandas-docs/stable/reference/API/pandas。Series.map.html</a></p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es kz"><img src="../Images/bf8ea598b36af1efe0b1ebda46837961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rnR0xmDaZahaeqGcJhjU4Q.png"/></div></div></figure><p id="0435" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">接下来的六列代表一个复选框问题。回答者在回答问题时勾选了一系列方框<code class="du ku kv kw kx b">Which of the following Star Wars films have you seen? Please select all that apply.</code></p><p id="6c9f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">该问题的列有:</p><ul class=""><li id="21ef" class="la lb hi jf b jg jh jk jl jo lc js ld jw le ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Which of the following Star Wars films have you seen? Please select all that apply.</code> -被调查人是否看到<code class="du ku kv kw kx b">Star Wars: Episode I The Phantom Menace</code>。</li><li id="15a5" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 4</code> -被调查人是否看到<code class="du ku kv kw kx b">Star Wars: Episode II Attack of the Clones</code>。</li><li id="a316" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 5</code>——被告是否看到<code class="du ku kv kw kx b">Star Wars: Episode III Revenge of the Sixth</code>。</li><li id="5631" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 6</code>——被调查人是否看到<code class="du ku kv kw kx b">Star Wars: Episode IV A New Hope</code>。</li><li id="e6d4" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 7</code> -被调查人是否看到<code class="du ku kv kw kx b">Star Wars: Episode V The Empire Strikes Back</code>。</li><li id="4ff8" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 8</code> -被调查人是否看到<code class="du ku kv kw kx b">Star Wars: Episode VI Return of the Jedi</code>。</li></ul><p id="7e0f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">对于这些列中的每一列，如果单元格中的值是电影的名称，这意味着回答者看过这部电影。如果值是<code class="du ku kv kw kx b">NaN</code>，回答者要么没回答，要么没看电影。我们假设他们没有看这部电影。</p><p id="c973" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们需要将这些列中的每一列都转换为布尔值，然后将该列重命名为更直观的名称。除了需要在映射字典中包含电影标题和<code class="du ku kv kw kx b">NaN</code>之外，我们可以用与前面相同的方式转换这些值。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es lo"><img src="../Images/e9e710ee8a342ccf064a8077eeb2b0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nt24rn5v-4nII2ppVMZ0fQ.png"/></div></div></figure><p id="6d14" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们还需要将这些列重命名为更直观的名称</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es lp"><img src="../Images/40e198b83191006ae3f4f646d4225027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*Ck29gV30sGujXw7KJKOo3g.png"/></div></figure><p id="2717" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">接下来的六栏要求回答者按照最不喜欢到最喜欢的顺序排列<em class="lq">星球大战</em>电影。<code class="du ku kv kw kx b">1</code>表示这部电影最受欢迎，<code class="du ku kv kw kx b">6</code>表示最不受欢迎。以下各列可以包含值<code class="du ku kv kw kx b">1</code>、<code class="du ku kv kw kx b">2</code>、<code class="du ku kv kw kx b">3</code>、<code class="du ku kv kw kx b">4</code>、<code class="du ku kv kw kx b">5</code>、<code class="du ku kv kw kx b">6</code>或<code class="du ku kv kw kx b">NaN</code>:</p><ul class=""><li id="3ff6" class="la lb hi jf b jg jh jk jl jo lc js ld jw le ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Please rank the Star Wars films in order of preference with 1 being your favorite film in the franchise and 6 being your least favorite film.</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode I The Phantom Menace</code></li><li id="8be6" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 10</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode II Attack of the Clones</code></li><li id="2535" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 11</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode III Revenge of the Sixth</code></li><li id="dc7a" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 12</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode IV A New Hope</code></li><li id="aa0c" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 13</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode V The Empire Strikes Back</code></li><li id="6829" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated"><code class="du ku kv kw kx b">Unnamed: 14</code> -受访者有多喜欢<code class="du ku kv kw kx b">Star Wars: Episode VI Return of the Jedi</code></li></ul><p id="380a" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">但是，我们需要将每一列转换为数字类型，然后重命名这些列，以便我们可以更容易地分辨它们代表什么。</p><p id="8970" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以用<a class="ae jc" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.astype.html" rel="noopener ugc nofollow" target="_blank">熊猫做数字转换。data frame . astype()</a>data frames上的方法。在这种情况下，我们可以使用如下所示的代码:</p><p id="a3c1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">星球大战[star_wars.columns[9:15]] =星球大战[star_wars.columns[9:15]]。astype(浮点型)</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es lr"><img src="../Images/90c9ebc0a358962e95196882c890da6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*TY6nrHbvKD7bRFupPVZX8A.png"/></div></figure><p id="40be" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们可以通过使用<a class="ae jc" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.mean.html" rel="noopener ugc nofollow" target="_blank">熊猫对每个排名列取平均值来找到排名最高的电影。DataFrame上的DataFrame.mean() </a>方法。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es ls"><img src="../Images/e44ca676d1257044a6cde04650faa751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*VeRHQE3dkqaCS8_18dsPew.png"/></div></figure><blockquote class="lt lu lv"><p id="00d5" class="jd je lq jf b jg jh ji jj jk jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz ka hb bi translated">观察-我们可以看到前三栏比其他三栏长，我们可以得出结论，最初的剧集比后来的剧集排名更高。</p></blockquote><p id="afec" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们分析一下观看剧集的总人数。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es lz"><img src="../Images/3e6068878238598eb542dde85a78b962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*uihOreTfnLN0aX7UgK0Itg.png"/></div></figure><blockquote class="lt lu lv"><p id="2ea8" class="jd je lq jf b jg jh ji jj jk jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz ka hb bi translated">观察—我们可以看到前三栏比其他三栏长，我们可以得出结论，第一集的观看次数比后面几集多，这也支持了我们的第一个观察。</p></blockquote><p id="5701" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们看看受访者的年龄。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ma"><img src="../Images/c5e85b2108c2be0b50603738f4e5a917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*umIZLv7AM8B9LAFY_goFzw.png"/></div></div></figure><blockquote class="lt lu lv"><p id="2f70" class="jd je lq jf b jg jh ji jj jk jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz ka hb bi translated">观察——受访者的年龄没有太大的明显差异。</p></blockquote><p id="dd99" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">第15-29栏是关于对角色有利或不利的评价。我们将重命名这些列以使其更有意义。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es mb"><img src="../Images/c888e9458ed2b9c7136f2a9b4c564e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUbo395VqaDVDb_j8_tlpg.png"/></div></div></figure><p id="50ed" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们看看下面的问题——</p><ul class=""><li id="a503" class="la lb hi jf b jg jh jk jl jo lc js ld jw le ka lf lg lh li bi translated">受访者最喜欢哪个角色？</li><li id="f847" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated">受访者最不喜欢哪个角色？</li><li id="ab7e" class="la lb hi jf b jg lj jk lk jo ll js lm jw ln ka lf lg lh li bi translated">哪个角色最有争议(喜恶分裂)？</li></ul><p id="8eaf" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们将创建一个字典，并保存值“非常有利”的value_counts()。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mc"><img src="../Images/7f3db9c865d0b331bcd82d72e7000591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*9lXqIxdFVXf8fdzcSb1pOA.png"/></div></figure><p id="a9a5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们将绘制计数图，以查看哪个角色最受欢迎、最不受欢迎以及中立。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es md"><img src="../Images/dbed8e291bc62146ec0fc3da47f9dc73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*Hsc1yxxhDVZGBozrZ-gPxA.png"/></div><figcaption class="iy iz et er es ja jb bd b be z dx translated"><strong class="bd me">韩独唱最受宠角色</strong></figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mf"><img src="../Images/98a03caf95e7e9ed6beda430d70feb4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*T9d7enam1KnEVebMCKXTdw.png"/></div><figcaption class="iy iz et er es ja jb bd b be z dx translated"><strong class="bd me">最不喜欢罐子眨眼</strong></figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mg"><img src="../Images/f53608ef8f3bd35a1d278e11d22cfa99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*TgnIFWS61xSiJA7q4quUhg.png"/></div><figcaption class="iy iz et er es ja jb bd b be z dx translated"><strong class="bd me">关于波巴·费特的人物塑造，中立意见最多</strong></figcaption></figure><p id="a92b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">丘比特笔记本放在<a class="ae jc" href="https://github.com/indgoddess/StarWarsSurvey" rel="noopener ugc nofollow" target="_blank">https://github.com/indgoddess/StarWarsSurvey</a></p></div></div>    
</body>
</html>