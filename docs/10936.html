<html>
<head>
<title>Data Science — Data Wrangling using data.table in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学—使用 R 中的 data.table 进行数据辩论</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/data-science-data-wrangling-using-data-table-in-r-94b9f1f06a28?source=collection_archive---------14-----------------------#2020-11-09">https://medium.com/analytics-vidhya/data-science-data-wrangling-using-data-table-in-r-94b9f1f06a28?source=collection_archive---------14-----------------------#2020-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f199" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用简单的术语学习机器学习中最常用的数据表函数！</p><h1 id="317d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">数据表</h1><p id="033a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">data.table 在执行文件读写、聚合、更新、范围和间隔连接等操作时，速度超快，内存效率高。R 程序设计中的大数据集。它继承了 data.frame，为更快的开发提供了简短灵活的语法。</p><h1 id="9913" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">句法</h1><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/95f72c2ae301026361c134b2438163b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j7b4pMCV2ucLbMGGNJC08Q.png"/></div></div></figure><h2 id="1ba1" class="ks je hi bd jf kt ku kv jj kw kx ky jn iq kz la jr iu lb lc jv iy ld le jz lf bi translated">安装并加载软件包</h2><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="81b3" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Install package</strong><br/>install.packages(“data.table”) <br/><strong class="lh hj"># Load library</strong><br/>library(data.table)</span></pre><h1 id="2f65" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">读出数据</h1><p id="ee2c" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><code class="du lp lq lr lh b">fread</code>与<code class="du lp lq lr lh b">read.table</code>类似，但更快更方便。自动检测所有控制，如<code class="du lp lq lr lh b">sep</code>、<code class="du lp lq lr lh b">colClasses</code>、<code class="du lp lq lr lh b">nrows </code>。</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="3606" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Read the data</strong><br/>airline_dt = fread("<a class="ae ls" href="https://github.com/suryatechie/data/blob/master/Airline_US_DOT_May_2020.csv?raw=TRUE" rel="noopener ugc nofollow" target="_blank">https://github.com/suryatechie/data/blob/master/Airline_US_DOT_May_2020.csv?raw=TRUE</a>")</span><span id="3147" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Contains data from <br/># </strong><a class="ae ls" href="https://www.transtats.bts.gov/DL_SelectFields.asp?Table_ID=236" rel="noopener ugc nofollow" target="_blank"><strong class="lh hj">https://www.transtats.bts.gov/DL_SelectFields.asp?Table_ID=236</strong></a><strong class="lh hj"> for<br/># the month of May 2020. It's having the fields DAY_OF_MONTH, <br/># DAY_OF_WEEK, FL_DATE, OP_UNIQUE_CARRIER, ORIGIN, DEST, DEP_DELAY, <br/># ARR_DELAY, CANCELLED, and DIVERTED.</strong></span><span id="4180" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Check the class of the loaded data</strong><br/>class(airline_dt)</span></pre><p id="f9cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lu">‘数据.表格’‘数据.框架’</em></p><p id="1c25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lp lq lr lh b">fread </code>将数据存储为<code class="du lp lq lr lh b">data.table</code>。从上面<code class="du lp lq lr lh b">data.table</code>类的输出中，我们可以看到它继承了<code class="du lp lq lr lh b">data.frame</code></p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="4e2a" class="ks je hi lh b fi ll lm l ln lo">head(airline_dt)</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lv"><img src="../Images/41434844b474ebc4906d1cecb8c97e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yCEvheq8sb99QK88o3MkUw.png"/></div></div></figure><h1 id="57d4" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">将 data.table 转换为 data.frame</h1><p id="b905" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj">从数据表创建</strong>数据框</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="9133" class="ks je hi lh b fi ll lm l ln lo"># Creates new object<br/>airline_df &lt;- <strong class="lh hj"><em class="lu">as.data.frame</em></strong>(airline_dt)<br/>class(airline_df)</span></pre><p id="98fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:“data.frame”</p><p id="2b6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将</strong>数据框转换为数据表</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="2016" class="ks je hi lh b fi ll lm l ln lo"># Converts the current object<strong class="lh hj"><em class="lu"><br/>setDT</em></strong>(airline_df)<br/>class(airline_df)</span></pre><p id="a882" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:' data.table' 'data.frame '</p><h1 id="d93f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">将数据框转换为数据表格</h1><p id="5215" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj">从数据框创建</strong>数据表</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="b302" class="ks je hi lh b fi ll lm l ln lo"># Creates data frame<br/>airline_df &lt;- <strong class="lh hj"><em class="lu">as.data.frame</em></strong>(airline_dt)</span><span id="b2b8" class="ks je hi lh b fi lt lm l ln lo"># Creates new object<br/>airline_dt &lt;- <strong class="lh hj"><em class="lu">data.table</em></strong>(airline_df)<br/>class(airline_dt)</span></pre><p id="3cc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:' data.table' 'data.frame '</p><p id="ab78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将</strong>数据表转换为数据框</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="9c7f" class="ks je hi lh b fi ll lm l ln lo"># Converts the current object<strong class="lh hj"><em class="lu"><br/>setDF</em></strong>(airline_dt)<br/>class(airline_dt)</span></pre><p id="20fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:“data.frame”</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="4216" class="ks je hi lh b fi ll lm l ln lo"># Convert back to data table as we are going to work on data table<br/><strong class="lh hj"><em class="lu">setDT</em></strong>(airline_dt)</span></pre><h1 id="0a45" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">不使用过滤器计算行数和列数</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="b5ab" class="ks je hi lh b fi ll lm l ln lo">nrow(airline_dt)</span></pre><p id="1e46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lu"> 180617 </em></p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="d8c9" class="ks je hi lh b fi ll lm l ln lo">ncol(airline_dt)</span></pre><p id="6c9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lu"> 10 </em></p><h1 id="e5d1" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">获取列名</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="d459" class="ks je hi lh b fi ll lm l ln lo">names(airline_dt)</span></pre><p id="41d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">'月日'，'周日'，'航班日期'，'唯一承运人'，'始发地'，' DEST '，' DEP 延误'，'到达延误'，'取消'，'改道'</p><h1 id="5fd8" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">重命名列</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="1629" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj">setnames</strong>(airline_dt, c(“<strong class="lh hj">OP_UNIQUE_CARRIER</strong>”,”<strong class="lh hj"><em class="lu">DEST</em></strong>”), c(“<strong class="lh hj">CARRIER</strong>”, “<strong class="lh hj">DESTINATION</strong>”))</span><span id="e50d" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table<br/></strong>airline_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lw"><img src="../Images/8ea6cbf74b0746b6e507e6ae19c6602d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5bkBx76oOmOkrqbJe64qYQ.png"/></div></div></figure><h1 id="425f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">检查列类</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="4e2f" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj">sapply</strong>(airline_dt,<strong class="lh hj">class</strong>)</span></pre><p id="666d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">月日:</strong>'整数'<strong class="ih hj">星期日:</strong>'整数'<strong class="ih hj"> FL_DATE: </strong>'字符'<strong class="ih hj">承运人:</strong>'字符'<strong class="ih hj">始发地:</strong>'字符'<strong class="ih hj">目的地:</strong>'字符'<strong class="ih hj">DEP _ 延迟:</strong>'整数'<strong class="ih hj">ARR _ 延迟:</strong>'整数'<strong class="ih hj">取消:</strong></p><h1 id="eaf1" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">更改列类</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="e3c8" class="ks je hi lh b fi ll lm l ln lo">airline_dt &lt;- airline_dt[, FL_DATE:=<strong class="lh hj">as.Date</strong>(FL_DATE,format=’%m/%d/%Y’)]</span><span id="c749" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Display the top rows</strong><br/>head(airline_dt)</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lx"><img src="../Images/0a12268518122ea186cdec771be4589d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsiC5VicltWmtNuYMS9g6w.png"/></div></div></figure><h1 id="ec7e" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">选择列</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="8c92" class="ks je hi lh b fi ll lm l ln lo"># Select CARRIER column<br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">CARRIER</strong>]</span><span id="4786" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ly"><img src="../Images/37b26e5cfbfb5c0fa3122dcc721865e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ENXfdzjnaf9NkN1u7B-PJQ.png"/></div></div></figure><p id="3544" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述逻辑将返回一个向量。取而代之的是，使用下面的代码来获取选择的列数据作为<code class="du lp lq lr lh b">data.table</code>:</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="1b41" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Option 1: Select by passing column as a list</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">.</strong>(CARRIER)]</span><span id="7ae5" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Option 2: Select by passing column as a list</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">list</strong>(CARRIER)]</span><span id="a821" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj">#  Option 3: Select by passing column as a vector and with=F</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">c</strong>("CARRIER"),<strong class="lh hj">with=FALSE</strong>]</span><span id="202c" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj">#  Option 4: Select by passing column as an index and with=F</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">4</strong>,<strong class="lh hj">with=FALSE</strong>]</span><span id="7348" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lz"><img src="../Images/5e0f7d4fc1695571c1486dba33baa44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YPUP3J6XNTiPuDcF7KTUhA.png"/></div></div></figure><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="4e35" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Select multiple columns</strong><br/>airline_new_dt&lt;-airline_dt[,c("FL_DATE","CARRIER","ORIGIN","DESTINATION"),with=FALSE]</span><span id="3b95" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Select multiple columns by dropping unwanted columns using Logical Operator NOT (!)</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">!c</strong>("DAY_OF_MONTH","DAY_OF_WEEK","DEP_DELAY","ARR_DELAY","CANCELLED","DIVERTED"),with=FALSE]</span><span id="6f92" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Select multiple columns using column indexes (sequence)</strong><br/>airline_new_dt&lt;-airline_dt[,<strong class="lh hj">c</strong>(3:6),with=FALSE]</span><span id="edbd" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ma"><img src="../Images/4ecb47111387edbc6cf4bcebe1641674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xt-orpiZ3cR6tFo6t6mqgQ.png"/></div></div></figure><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="9aa8" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Select multiple columns using LIKE</strong><br/>airline_new_dt = airline_dt[,names(airline_dt) <strong class="lh hj">%like% "DE"</strong>, with=FALSE]</span><span id="65ad" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mb"><img src="../Images/aead3f6148b95b225c3be824a3f0dfd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jFUcx4Sj5VAQYk5T7UFc4w.png"/></div></div></figure><h1 id="1168" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">筛选行</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="58c8" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Filter rows using Logical AND (&amp;)</strong><br/>airline_new_dt = airline_dt[ORIGIN <strong class="lh hj">==</strong> "ORD" <strong class="lh hj">&amp;</strong> DESTINATION <strong class="lh hj">== </strong>"SFO",]</span><span id="135a" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Filter rows using IN and Logical AND (&amp;)</strong><br/>airline_new_dt = airline_dt[ORIGIN <strong class="lh hj">%in% </strong>c(“ORD”, “ATL”) <strong class="lh hj">&amp;</strong> DESTINATION <strong class="lh hj">%in%</strong> c(“SFO”, “LAX”),]</span><span id="eb3a" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Filter rows using IN and Logical OR (|) </strong><br/>airline_new_dt = airline_dt[ORIGIN %in% c("ORD", "ATL") | DESTINATION %in% c("ORD", "ATL"),]</span><span id="e6e9" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Filter rows using IN, Logical NOT and Logical AND </strong><br/>airline_new_dt = airline_dt[!ORIGIN <strong class="lh hj">%in%</strong> c("ORD", "ATL") <strong class="lh hj">&amp;</strong> !DESTINATION <strong class="lh hj">%in%</strong> c("ORD", "ATL"),]</span><span id="7918" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mc"><img src="../Images/b46f31f7c2cd9e2e3cb0c42a133a0ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hqyZc_HOVRzk494GQW8WBA.png"/></div></div></figure><h1 id="51e0" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用计算行数。普通</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="5c83" class="ks je hi lh b fi ll lm l ln lo"># All rows. No filter<br/>airline_new_dt[,<strong class="lh hj">.N</strong>]</span></pre><p id="8588" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">149866</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="99ea" class="ks je hi lh b fi ll lm l ln lo"># Row count after filter<br/>airline_dt[!ORIGIN <strong class="lh hj">%in%</strong> c("ORD", "ATL"), <strong class="lh hj">.N</strong>]</span></pre><p id="85e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">165050</p><h1 id="78e0" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">创建新列</h1><p id="1ed9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用<strong class="ih hj"> :=运算符</strong>创建新列</p><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="baa8" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Create new column from two character columns separated by '-'</strong><br/>airline_new_dt[,ORIGINDEST<strong class="lh hj">:=</strong>paste(ORIGIN,DESTINATION,sep = “-”)]</span><span id="0e2c" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Create new column from two numerical columns</strong><br/>airline_new_dt[,DEP_ARR_DELAY:=DEP_DELAY<strong class="lh hj">+</strong>ARR_DELAY]</span><span id="281d" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Create multiple columns by providing column names as vector and values using list</strong><br/>airline_new_dt[, <strong class="lh hj">c</strong>("ORIGINDEST","DEP_ARR_DELAY")<strong class="lh hj">:=list</strong>(paste(ORIGIN,DESTINATION,sep = "-"), DEP_DELAY+ARR_DELAY)]</span><span id="e922" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es md"><img src="../Images/06fd906f40f48b3decf7c89ce150ff0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8v9c3lTSdNYo_sfebTh_pg.png"/></div></div></figure><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="36af" class="ks je hi lh b fi ll lm l ln lo"><strong class="lh hj"># Create new column using ifelse</strong><br/>airline_new_dt[, DEP_DELAY_15:= <strong class="lh hj">ifelse</strong>(DEP_DELAY&gt;=15,1,0)]</span><span id="7f77" class="ks je hi lh b fi lt lm l ln lo"><strong class="lh hj"># Print data table</strong><br/>airline_new_dt</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es me"><img src="../Images/ec28098225ead097235c3facc3b41318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KzggiZkhejUL8i0D8t2ucg.png"/></div></div></figure><h1 id="b355" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">汇总统计数据</h1><pre class="kh ki kj kk fd lg lh li lj aw lk bi"><span id="6c79" class="ks je hi lh b fi ll lm l ln lo"># Summary statistics for Departure Delay (DEP_DELAY)<br/># The following code excludes NA values from analysis</span><span id="811c" class="ks je hi lh b fi lt lm l ln lo">airline_new_dt[, .(mean = <strong class="lh hj">mean</strong>(DEP_DELAY, na.rm = TRUE),<br/>median = <strong class="lh hj">median</strong>(DEP_DELAY, na.rm = TRUE),<br/>min = <strong class="lh hj">min</strong>(DEP_DELAY, na.rm = TRUE),<br/>max = <strong class="lh hj">max</strong>(DEP_DELAY, na.rm = TRUE),<br/>Sd = sd(DEP_DELAY, na.rm = TRUE),<br/>Var= var(DEP_DELAY, na.rm = TRUE))]</span></pre><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es mf"><img src="../Images/2faca83fc1cee0114f2fad32cae5ef57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ap8uWEZi67PtujbGqumUCA.png"/></div></div></figure><p id="3c7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">感谢</strong>阅读！请👏如果你喜欢这篇文章，请跟我来，因为它<strong class="ih hj">鼓励我</strong>写更多！</p></div></div>    
</body>
</html>