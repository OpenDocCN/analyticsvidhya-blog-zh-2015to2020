<html>
<head>
<title>Linear Regression in R — Make a prediction in 15 lines of code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R中的线性回归—用15行代码进行预测</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/linear-regression-in-r-make-a-prediction-in-15-lines-of-code-204752b6bfff?source=collection_archive---------3-----------------------#2020-03-24">https://medium.com/analytics-vidhya/linear-regression-in-r-make-a-prediction-in-15-lines-of-code-204752b6bfff?source=collection_archive---------3-----------------------#2020-03-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="4511" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="1fc0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这个博客将解释如何在r中创建一个简单的线性回归模型。它将把这个过程分解成五个基本步骤。理解本教程不需要统计学或线性代数或编码的先验知识。</p><p id="bb7e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">butttt…这个博客是在假设你在一个可访问的设备上安装了RStudio的情况下创建的。RStudio是免费的！如果您还没有安装RStudio，请使用下面的链接下载。https://rstudio.com/products/rstudio/download/<br/>T3</p><h1 id="1f2a" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">你为什么要读这篇博客？</strong></h1><p id="ea2e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这是对机器学习的温和的高级介绍。本教程将为您提供足够的背景知识，使您能够创建自己的预测模型。</p><p id="e107" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">最重要的</strong>——在这篇博客结束时，你会觉得机器学习(或统计学或数据科学，无论你想叫它什么)适合你！</p><h1 id="801c" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">步骤</strong></h1><ol class=""><li id="242b" class="kh ki hi jf b jg jh jk jl jo kj js kk jw kl ka km kn ko kp bi translated"><strong class="jf hj">加载</strong>您的数据</li><li id="fdcf" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">就您的数据提出一个<strong class="jf hj">问题</strong></li><li id="19d5" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">检查X是否是Y的<strong class="jf hj">良好预测器</strong></li><li id="7c54" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">创建您的<strong class="jf hj">线性回归模式</strong> l</li><li id="b497" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">对看不见的数据做一个<strong class="jf hj">预测</strong>！！</li></ol><p id="f69a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">在经历这些步骤之前，我想添加完整的代码，让人们知道他们正在进入什么。或者，您可以复制这15行代码，在R中进行测试，然后返回到这里查找需要进一步解释的部分。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><h1 id="bcac" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">第一步:</strong>加载你的数据</h1><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="3972" class="lh ig hi ld b fi li lj l lk ll"># Load our data ("mtcars" comes installed in R studio)<br/>data("mtcars")<br/>View(mtcars)</span></pre><p id="bb89" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">我们的第一步是加载数据。我们将保持简单，加载RStudio附带的数据。为此，运行数据(“mtcars”)。要查看已加载的数据，请运行第二行代码。当您运行第二行时，应该会出现一个新窗口，显示您的mtcars数据。</p><ul class=""><li id="47e7" class="kh ki hi jf b jg kb jk kc jo lm js ln jw lo ka lp kn ko kp bi translated">如果您想了解更多关于mtcars数据帧的信息，请输入<br/> " <strong class="jf hj">？</strong>进入R</li></ul><h1 id="ca21" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第二步:问一个问题</h1><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="64fe" class="lh ig hi ld b fi li lj l lk ll"># Is the weight of the car a good predictor of what the cars mpg will be?<br/>x &lt;- mtcars$wt<br/>y &lt;- mtcars$mpg</span></pre><p id="2ad4" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">加载并查看数据后，您现在可以提问了。在这种情况下，我们问我们是否可以创建一个预测模型，根据汽车的重量来预测汽车的mpg。</p><p id="8f0e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">上面的代码显示了如何将mtcars数据帧中的列‘wt’插入到新创建的‘x’中。同样的事情也适用于y(但是w/ mpg栏)。现在x和y是重量和英里数栏中的数字。如果你想看到R中的数字，只需写print(x)</p><h1 id="eb63" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第三步:检查X是否是Y的一个好的预测值</h1><blockquote class="lq lr ls"><p id="bce1" class="jd je lt jf b jg kb ji jj jk kc jm jn lu kd jq jr lv ke ju jv lw kf jy jz ka hb bi translated">回归分析是预测建模技术的一种形式，它调查依赖于<strong class="jf hj">的</strong>和独立于<strong class="jf hj">的</strong>变量之间的关系。</p></blockquote><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es lx"><img src="../Images/9ac5bd1be4f50b7b552ff54e8ef5385f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nElSDIp1jloJiqWX7hniaQ.png"/></div></div></figure><p id="34cd" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">希望我们的结果类似于上图中的“<strong class="jf hj">高度正相关</strong>或“<strong class="jf hj">高度负相关</strong>”。</p><p id="bc19" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">第一部分。视觉化</strong></p><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="de4f" class="lh ig hi ld b fi li lj l lk ll"># Plot Weight (x) to MPG (Y)<br/>plot(x, y, main = "TikTok lol",<br/>     xlab = "Weight (1000 lbs)", <br/>     ylab = "Miles Per Gallon")</span><span id="a249" class="lh ig hi ld b fi me lj l lk ll"># Add regression line<br/>abline(lm(y ~ x, data = mtcars), col = "blue")</span></pre><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mf"><img src="../Images/880dfa26e13227b184eb6476b5ca29a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*v64rIIJ6JOXuOS6fIjcA_A.png"/></div></figure><p id="be08" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">从上面的散点图可以看出，MPG和体重之间存在负相关。随着重量的增加，一辆汽车的英里数会下降。</p><p id="5fae" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj"> Pt 2。</strong>检查相关性</p><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="325b" class="lh ig hi ld b fi li lj l lk ll"># Is Weight &amp; MPG correlated ??<br/>cor(x, y)<br/>[1] -0.8676594</span></pre><p id="b6b7" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">使用函数cor()找出x和y之间的相关性。我们的结果是-0.87。两个变量的关联越强，皮尔逊相关系数<em class="lt"> r </em>将越接近+1或-1，这取决于关系是正还是负。我们的x与y负相关，这进一步证实了我们的散点图。重量的增加导致每加仑汽油的消耗量减少</p><ul class=""><li id="a72a" class="kh ki hi jf b jg kb jk kc jo lm js ln jw lo ka lp kn ko kp bi translated"><strong class="jf hj"> cor() </strong>计算<strong class="jf hj">相关系数(r) </strong></li></ul><h1 id="24d0" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">第四步</strong>:创建你的线性回归模型</h1><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="d803" class="lh ig hi ld b fi li lj l lk ll"># LinearRegression_mpg is our model<br/>LinearRegression_mpg &lt;- lm(mpg ~ wt, data = mtcars)</span></pre><p id="afc1" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj"> lm </strong>代表线性模型。代码读作mpg是由wt解释的(~)。我们用于创建此线性模型的数据来自mtcars数据框。</p><ul class=""><li id="da7a" class="kh ki hi jf b jg kb jk kc jo lm js ln jw lo ka lp kn ko kp bi translated">如果您想了解有关lm()的更多信息，请键入？lm进入RStudio，更深入的描述会出现在右上角</li></ul><h1 id="e3fd" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">第五步</strong>:对未见过的数据进行预测！！</h1><pre class="kv kw kx ky fd lc ld le lf aw lg bi"><span id="f540" class="lh ig hi ld b fi li lj l lk ll"># If my car weighed 4,000 pounds how much MPG will it have?<br/>unseen &lt;- data.frame(wt = 4)</span><span id="bd4c" class="lh ig hi ld b fi me lj l lk ll"># Prediction <br/>predict(LinearRegression_mpg, unseen)<br/>       1 <br/>15.90724</span></pre><p id="b843" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">哒哒！您已经使用机器学习创建了一个预测模型:)</p><p id="27fc" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">根据历史数据，我们预测一辆4000磅重的汽车每加仑(T21)能跑15.9英里</p><p id="22a8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><em class="lt"> *mtcars数据摘自1974年美国汽车趋势杂志</em></p><p id="7b8d" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">如果有任何不清楚的地方，请让我知道，这样我就可以把事情搞清楚了！希望这对某人有所帮助。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mg"><img src="../Images/2f830b171e819931d18efcc287587b0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*yJ9JxqmtFDu1UdXv9jyp1w.gif"/></div></figure></div></div>    
</body>
</html>