<html>
<head>
<title>How to begin performing EDA on NLP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何开始在NLP上执行EDA</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-begin-performing-eda-on-nlp-ffdef92bedf6?source=collection_archive---------8-----------------------#2019-11-12">https://medium.com/analytics-vidhya/how-to-begin-performing-eda-on-nlp-ffdef92bedf6?source=collection_archive---------8-----------------------#2019-11-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b267" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我越来越喜欢NLP调查了。自然语言处理汇集了我对定量和定性分析的热爱。</p><p id="d0e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个项目中，我的目标是创建一个能够识别哪个线程来自哪个子线程的模型。我选择的两个子编辑是<strong class="ih hj">/r/学院</strong>和<strong class="ih hj">/r/研究生院</strong>子编辑。这两个子主题在主题上非常接近，有相似的语言用法。使用EDA进行调查将对我如何构建模型起到关键作用。本文将解释一个简单的EDA过程，它可以用于任何处理NLP的python项目。</p><h1 id="b68d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">确定你的目标班级</strong></h1><p id="bc52" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在搜集/收集了你所有的数据之后。导入csv并检查数据框的形状非常重要。你想要了解你正在分类的主题的比例。在这种情况下，我的实验对象大约是43/57的比例。在比较这两个类的可视化效果时，记住这一点很重要。</p><p id="bb71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行EDA时，我会制作一个额外的数据帧作为备份。我曾经想参考回一个干净的文本数据帧，不包含任何特征工程的副本将是可用的。我在EDA过程中采取的每一步都会添加到c_gs数据帧中。这样我就不会忘记我创建的任何额外的调查。这在我开始建模阶段时也很有帮助，因为我将有更多的功能可以使用。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/394ac17f7eff2580ee05c92d5e7ad00f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qAu9P3LUnx4aCm8G"/></div></div></figure><h1 id="0db1" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">特色工程</strong></h1><p id="c336" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">对于子编辑，有时标题列中只有文本，而正文列中没有。最好将该线程的所有文本合并到一个列中，以便我可以最好地执行EDA。</p><p id="518a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我编写了一行简单的代码，它将删除c_gs[all_text]列中包含的所有点和数字。为了制作字数统计列，我对all_text列应用了一个lambda函数，该列在每个空格处拆分。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ks"><img src="../Images/b3f84b66997b37b06383ecd0a36d87cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SV1_BZVBSFA9uMNe"/></div></div></figure><p id="bbb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了参考即将出现的图表，我将subreddit线程中的主题更改为二进制值。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kt"><img src="../Images/3ec7a69871c7becc0527b7f2ecb068ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HhkiXC26Y_0b5P3F"/></div></div></figure><p id="5297" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据你的文本数据，从可视化你的文本数据中尽可能多的重要数字开始。下面是去除了我的数据中的异常值后的字数图表。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ku"><img src="../Images/5e58c590a2b83143b41622e9227d1cc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*vGQXBPfjmKb0ZRZ9"/></div></figure><p id="6cd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以使用文本数据可视化的其他类型的要素有</p><ul class=""><li id="56d4" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated">字符计数</li><li id="4c99" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">字符或单词在每个主题中出现的次数</li><li id="ff8b" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">对于Twitter数据:一条推文中的转发量、收藏量和提及量</li><li id="0ff8" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">对于Reddit数据:每个线程的投票数</li><li id="7c8e" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">情感分析</li></ul><h1 id="c345" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">情绪分析。</strong></h1><p id="6111" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">nltk库有一个情感库。这个<em class="lj">可以从nltk . petition . Vader导入SentimentIntensityAnalyzer。</em>导入后，一定要实例化库。</p><p id="7414" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的Reddit项目中，我使用了一个函数来抓取我的all_text列，并评估正面、负面、中性和复合得分。这个函数将这个分数放在一个列表中，我将这个列表转换成一个数据帧。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lk"><img src="../Images/bec060e58e663267a9d76f4988f177dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zKCZu7_wthSdwyoy"/></div></div></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es ll"><img src="../Images/b64bc7aa5538aa2319833f55884cd101.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/0*qTbwHHjNhZIrSGJ2"/></div></figure><p id="a1ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我用情感分数做了一个单独的表格。这是出于教育目的的个人偏好。在我创建了我的情感分数数据框架之后，我用一个重叠的直方图可视化了两个子记录的复合分数。<em class="lj">注意:</em> <em class="lj">虽然我为情感分数做了一个额外的数据框架，但我仍然采取额外的步骤将这些情感分数添加到主c_gs数据框架中。</em></p><p id="a746" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个直方图中，重要的是要记住我有不均匀的目标类。这就是为什么r/grad school占据了图形的大部分。然而，/r/GradSchool线程的传播在复合传播的正端比负端占据更多的传播。尽管只占数据的43 %,/ r/College threads情绪得分在情绪得分图的负侧占据了稍多的量。</p><p id="1e79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于这个nltk库，这个图表向我展示了大多数/r/Gradschool的帖子大多是正面的。让我们进一步研究这些积极和消极的线索。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lm"><img src="../Images/1d5eec0f29c76f3962815db569d528b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0o7tIXG9QEEdi4tq"/></div></div></figure><h1 id="fb42" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">识别文本数据中的常用术语</strong></h1><p id="4da3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在面向自然语言处理的EDA中，最重要的一步是识别数据集中的常用术语。在这种情况下，当调查我的数据集中使用的常用术语时，我合并了情感得分。</p><p id="56b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一段将解释我是如何使用复合情感分数来调查常用词的。如果这不适用于你，跳到下一段。使用情感分数。对于这个例子，我创建了一个名为pos_gs_rates的额外数据帧，它包含复合情绪得分/r/gradschord sub Reddit大于0.6的线程。对于复合情绪得分低于-0.6的线程也是如此。</p><p id="53a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在研究这些术语时，实例化一个你希望的文本转换器。我使用了sklearn.feature_extraction库中的CountVectorizer。另一个流行的转换器是TfidfVectorizer。在用您喜欢的参数实例化您的矢量器之后。您可以采取以下步骤来获取常见的二元模型。要更改要搜索的术语的长度，请编辑ngram_range参数。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ln"><img src="../Images/6c6ab3fea2f145a6659ca075abe53a76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gAqxKGScdiml1W8F"/></div></div></figure><p id="b9dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像“非常感谢”和“确保”这样的术语表明，在/r/GradSchool子编辑中的用户很可能在他们的帖子中表达他们自己，并且很可能从其他用户那里寻求输入和建议。我们可以推断，当谈到研究生院时，“心理健康”并不总是以最积极的方式使用。然而，这些积极测量的帖子可能是用户为他们的心理健康寻求积极的建议。</p><p id="2437" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要了解更多关于我对这两个子主题的研究，请查看我的github项目:<a class="ae lo" href="https://github.com/briannalytle/reddit_nlp.git" rel="noopener ugc nofollow" target="_blank">https://github.com/briannalytle/reddit_nlp.git</a></p><h1 id="324a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">其他备注:</strong></h1><ul class=""><li id="5980" class="kv kw hi ih b ii kb im kc iq lp iu lq iy lr jc la lb lc ld bi translated">如果我想深入研究NLP。我必须选择在text列上执行所有这些操作，而不仅仅是在all_text列上。</li><li id="c135" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">标记化、词汇化和波特词干化是对文本数据进行研究的一些方法。</li><li id="551b" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">潜在狄利克雷分配(LDA)是sklearn.decomposition库中的另一个库，它有助于识别文本数据中的常见主题。阅读这篇文章，了解关于<a class="ae lo" rel="noopener" href="/@lettier/how-does-lda-work-ill-explain-using-emoji-108abf40fa7d">LDA如何在这里工作的介绍</a>。</li><li id="58a5" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">在seaborn库中，catplots对于可视化不同类上两个测量值的相关性非常有用。</li><li id="6623" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">如果您想显示最大行数，请使用以下代码。我在NLP中使用它，因为它有助于在数据帧中可视化结果。</li></ul><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ls"><img src="../Images/04748e805a5edf61d85032299db99486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xTxjOh2UxaT8wZ03"/></div></div></figure></div></div>    
</body>
</html>