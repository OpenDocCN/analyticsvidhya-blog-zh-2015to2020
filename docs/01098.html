<html>
<head>
<title>Monitoring Python Flask application with Elastic APM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用弹性APM监控Python Flask应用程序</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/monitoring-python-flask-application-with-elastic-apm-bb0853f056ff?source=collection_archive---------3-----------------------#2019-10-01">https://medium.com/analytics-vidhya/monitoring-python-flask-application-with-elastic-apm-bb0853f056ff?source=collection_archive---------3-----------------------#2019-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/64a996cfb91151331b881152262e43e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tcKwaq2RpLSVA5n-U0BOWQ.png"/></div></div></figure><p id="856f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">应用程序性能监控(APM)是从最终用户的角度监控已部署应用程序的一个重要方面，从日志记录一直到服务器/应用程序级别的指标。它密切关注应用程序性能，并在一个漂亮直观的仪表板中直观显示资源利用率、错误等性能指标，以深入了解应用程序在一段时间内的运行情况。此外，在部署的应用程序出现严重问题的情况下，APM工具还可以被配置为发送通知以便立即引起注意！</p><p id="6c17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如今，许多公司提供他们的APM产品，如<a class="ae jo" href="https://newrelic.com/products/application-monitoring" rel="noopener ugc nofollow" target="_blank">新遗迹APM </a>、<a class="ae jo" href="https://www.appdynamics.com/" rel="noopener ugc nofollow" target="_blank"> AppDynamics </a>，也很受欢迎，但这些都不是免费的。另一方面，<a class="ae jo" href="https://www.elastic.co/products/apm" rel="noopener ugc nofollow" target="_blank"> Elastic APM </a>是免费的，作为X-Pack基本许可的一部分提供。因此，如果您正在考虑开发一个适合您需求的定制APM解决方案，那么弹性APM是一个不错的选择。在本文中，我们将讨论弹性APM！</p><h1 id="d02e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">弹性APM的组件</h1><p id="73af" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">弹性APM有四个组成部分:</p><ul class=""><li id="78b2" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated"><strong class="is hj"> Elasticsearch </strong> <br/>从APM的角度来看，Elasticsearch主要用于存储和索引性能数据。</li><li id="1948" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated"><strong class="is hj"> Kibana </strong> <br/> Kibana用于可视化和分析ES指标的性能指标。</li><li id="df85" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated"><strong class="is hj"> APM代理</strong> <br/>这些是用与您的应用程序相同的语言编写的库。您只需要将它们挂接到您的应用程序中，以积累性能指标。APM代理收集的数据被发送到APM服务器。以下代理目前可用:-</li></ul><p id="9423" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">–Go代理<br/>–Java代理<br/>–。NET代理<br/>–node . js代理<br/>–Python代理<br/>–Ruby代理<br/>–JavaScript真实用户监控(RUM)代理</p><ul class=""><li id="f854" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated"><strong class="is hj"> APM服务器</strong></li></ul><p id="4a2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个用GO语言编写的应用程序，它接收来自不同APM代理的性能数据，并将它们转换成elasticsearch文档。然后，这些文档被发送到已配置的ES集群。</p><h1 id="1853" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">安装APM服务器</h1><p id="67f3" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">现在让我们继续在一个<code class="du lg lh li lj b">Ubuntu 18.04</code>实例中安装来自elastic-6系列的APM服务器。假设您已经在同一个实例中安装了ES和Kibana。首先，将弹性存储库添加到源列表中，并更新apt数据库。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="05d0" class="ls jq hi lj b fi lt lu l lv lw"># wget -qO -  <a class="ae jo" href="https://artifacts.elastic.co/GPG-KEY-elasticsearch" rel="noopener ugc nofollow" target="_blank">https://artifacts.elastic.co/GPG-KEY-elasticsearch</a> | sudo apt-key add -</span><span id="f36b" class="ls jq hi lj b fi lx lu l lv lw"># echo "deb <a class="ae jo" href="https://artifacts.elastic.co/packages/6.x/apt" rel="noopener ugc nofollow" target="_blank">https://artifacts.elastic.co/packages/6.x/apt</a> stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-6.x.list</span><span id="67b6" class="ls jq hi lj b fi lx lu l lv lw"># apt update</span></pre><p id="5d36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在终端中使用以下命令安装apm服务器并启动它:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="0d15" class="ls jq hi lj b fi lt lu l lv lw"># apt install apm-server  <br/># service apm-server start</span></pre><p id="a978" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">APM服务器首次启动后，将创建一个专门用于APM数据的新ES索引。使用下面的CURL命令验证索引。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="a041" class="ls jq hi lj b fi lt lu l lv lw">#  curl -XGET 'localhost:9200/_cat/indices?v&amp;pretty' | grep apm</span></pre><p id="675e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此时，通过<em class="ly">管理- &gt;索引模式- &gt;创建索引模式</em>，在kibana UI中定义一个ES索引模式。要完成此操作，请在索引模式文本框中输入<code class="du lg lh li lj b">apm*</code>，并使用<code class="du lg lh li lj b">@timestamp</code>字段作为时间过滤器字段名称。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/7358ffd1a06db435ba17398ba53b2836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ntj7OxFPllrWgKGBaqhTZQ.png"/></div></div></figure><p id="cf19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请记住，APM server也可以配置为向远程ES实例发送性能数据。为此，您只需编辑APM服务器配置文件并设置elasticsearch的输出。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="7973" class="ls jq hi lj b fi lt lu l lv lw">#  vi /etc/apm-server/apm-server.yml  <br/>...  <br/>...  <br/>output.elasticsearch:   <br/> hosts: ["localhost:9200"]   <br/>...   <br/>...</span></pre><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/8e3a12402fe3785fe0fa3c2d4453380f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5Mb8naK6vqOK34nQVjESA.png"/></div></div></figure><p id="6c81" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了简单起见，我们没有在APM服务器中使用秘密令牌。只需添加一个秘密令牌，以防您希望APM服务器验证来自远程代理的连接。</p><p id="e5bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">注意:</strong>在本文中，apm服务器、APM代理、ES和Kibana的配置是在一个系统中完成的。然而，在生产环境中，它们将分散在不同系统中。因此，您需要相应地调整防火墙和其他设置。</p><h1 id="3b3f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">创建一个烧瓶应用程序</h1><p id="69cd" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">创建一个简单的flask应用程序，该应用程序反过来将用于挂钩apm库，以便向APM服务器发送性能指标。假设您已经为python flask应用程序设置了环境，使用以下代码创建flask app <strong class="is hj"> app.py </strong>。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="0da1" class="ls jq hi lj b fi lt lu l lv lw"># vi app.py  <br/>from flask import Flask  <br/>app = Flask(__name__)  <br/>@app.route('/')  <br/>def index():   <br/> return "Hello World!"  <br/>if __name__ == '__main__':   <br/> app.run(host='123.45.67.89', port=5000)</span></pre><p id="b95b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行上面的flask应用程序，并确保可以使用curl ping主机:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="0995" class="ls jq hi lj b fi lt lu l lv lw"># python app.py  <br/># curl -I http://123.45.67.89:5000/</span></pre><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/be5dd5096a9065e352fd9b5434ffe8e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dr5F-ZZasqwLzKd5GbQzQ.png"/></div></div></figure><p id="c197" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">万岁！您的python应用程序现在已经准备好挂钩APM库，我们将在下一步中探索这些库。</p><h1 id="1620" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">在应用程序中挂接APM代理</h1><p id="7e2f" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">我们在上一步中创建的python flask应用程序显示一条消息“Hello World！”。那么它将如何向APM服务器发送性能指标呢？答案是您需要为flask应用程序安装apm代理，然后导入并使用flask应用程序中的库来将性能指标发送到APM服务器。</p><p id="a09d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先为flask应用程序安装APM代理。还有其他apm代理，如Java、Node、Ruby等的apm代理。NET，Go，JavaScript真实用户监控。但是我们对apm代理感兴趣，因为我们的应用程序是用python写的。请记住，代理的安装取决于应用程序的类型。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="c03e" class="ls jq hi lj b fi lt lu l lv lw"># pip install elastic-apm[flask]</span></pre><p id="bc17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装apm agent for flask后，编辑flask应用程序以包含elasticapm库，并使用它通过传递APM服务器URL、服务名和秘密令牌来创建APM对象。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="107f" class="ls jq hi lj b fi lt lu l lv lw">from flask import Flask<br/>from elasticapm.contrib.flask import ElasticAPM</span><span id="e455" class="ls jq hi lj b fi lx lu l lv lw">app = Flask(__name__)</span><span id="390c" class="ls jq hi lj b fi lx lu l lv lw">app.config['ELASTIC_APM'] = {<br/>          'SERVICE_NAME': 'FlaskApp',<br/>          'SECRET_TOKEN': '',         <br/>          'SERVER_URL': '<a class="ae jo" href="http://localhost:8200'" rel="noopener ugc nofollow" target="_blank">http://localhost:8200'</a><br/>}</span><span id="d81c" class="ls jq hi lj b fi lx lu l lv lw">apm = ElasticAPM(app)</span><span id="25b4" class="ls jq hi lj b fi lx lu l lv lw"><a class="ae jo" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')</span><span id="bfa9" class="ls jq hi lj b fi lx lu l lv lw">def index():<br/> return "Hello World!"</span><span id="e94a" class="ls jq hi lj b fi lx lu l lv lw">if __name__ == '__main__':<br/> app.run(host='123.45.67.89', port=5000)<br/></span></pre><p id="1193" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像前面一样，运行flask应用程序:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="1aa9" class="ls jq hi lj b fi lt lu l lv lw"># python app.py</span></pre><p id="1049" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前往kibana，查看应用程序是否已经在APM dashboard中注册。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/29e7aeac94332e96f9d8bddffc606d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VT3PLWc3f0ME54Wvy5KW1A.png"/></div></div></figure><p id="9501" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦在Kibana dashboard中注册了应用程序，您还可以分别在transaction和metrics选项卡下查看事务数据、CPU和内存使用情况。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/2478330467a0aef7ea2258733cfdd55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uZRfRNQkcjpkcud95d2FJA.png"/></div></div></figure><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/4d5d9d7505f61b6dea9a98e721232932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vsGV81j1NWWfFPAhh0SubQ.png"/></div></div></figure><p id="76d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我们的flask应用程序能够将事务、性能数据(如CPU和内存使用情况)发送到APM服务器，我们可以在Kibana UI中查看这些数据。误差度量呢？让我们在下一节探索它们。</p><h1 id="48ca" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">模拟事件</h1><h2 id="ee9b" class="ls jq hi bd jr mf mg mh jv mi mj mk jz jb ml mm kd jf mn mo kh jj mp mq kl mr bi translated">生成名称错误</h2><p id="2c96" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">让我们尝试在flask应用程序中生成一些运行时错误，并验证APM服务器中是否记录了这些错误。首先创建一个块来处理<em class="ly"> not found(404) </em>错误，而不是在flask应用程序中实际导入渲染模板的库。为什么不包括<code class="du lg lh li lj b">render_template</code>头？答案是——&gt;会产生名称错误！因为我们对在flask应用程序中生成运行时错误感兴趣。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="1faf" class="ls jq hi lj b fi lt lu l lv lw">...<br/>...<br/><a class="ae jo" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.errorhandler(404)<br/>def not_found_error(error):<br/> return render_template('404.html'), 404<br/>...<br/>...</span></pre><p id="a4c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<code class="du lg lh li lj b">templates</code>文件夹中创建<code class="du lg lh li lj b">404.html</code>文件:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="7947" class="ls jq hi lj b fi lt lu l lv lw"># mkdir templates &amp;&amp; cd templates  <br/># echo "File not found" &gt; 404.html</span></pre><p id="4c93" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行flask应用程序，并在浏览器中键入一个不存在的路径，以便出现404异常。该请求将被上述块拦截，并将抛出一个<em class="ly">名称错误:名称“render_template”未定义</em>。转到Kibana UI，验证错误是否记录在APM服务器的error选项卡下。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/fa19ff24b5b2db90f8e76aa5e5d6c43d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pK9hjBfiCeSgFZHEYJi8ng.png"/></div></div></figure><p id="c033" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">注意:</strong>为了消除上面的错误，用下面一行代码导入<code class="du lg lh li lj b">render_template</code>库。</p><p id="531b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lg lh li lj b">from flask import Flask, render_template</code></p><h2 id="460f" class="ls jq hi bd jr mf mg mh jv mi mj mk jz jb ml mm kd jf mn mo kh jj mp mq kl mr bi translated">生成内部服务器错误</h2><p id="a13f" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">让我们尝试在上面的flask应用程序中生成一个内部服务器错误并处理异常。</p><p id="e055" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先创建一个<code class="du lg lh li lj b">500.html</code>文件，该文件将被发送到浏览器，以防flask应用程序遇到内部服务器错误。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="ea35" class="ls jq hi lj b fi lt lu l lv lw"># cd templates  <br/># echo 'Internal server error !' &gt; 500.html</span></pre><p id="f796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在添加下面的代码块，它将依次处理您的flask应用程序的所有内部服务器错误。</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="26e6" class="ls jq hi lj b fi lt lu l lv lw">...<br/>...<br/><a class="ae jo" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.errorhandler(500)<br/>def internal_error(error):<br/> return render_template('500.html'), 500<br/>...<br/>...</span></pre><p id="95f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">插入代码以生成内部服务器错误:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="e578" class="ls jq hi lj b fi lt lu l lv lw">...<br/>...<br/><a class="ae jo" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/divbyzero')<br/>def divbyzero():<br/>    num = 2 / 0<br/>    return "hello world - " + str(num)<br/>...<br/>...</span></pre><p id="cff9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将浏览器指向<a class="ae jo" href="http://SERVER_IP/divbyzero" rel="noopener ugc nofollow" target="_blank">http://SERVER _ IP/div byzero</a>来调用上面的代码段。一旦请求到达flask应用程序，将生成一个异常，并由errorhandler块通过在浏览器中发送500.html来处理。转到Kibana UI，查看错误选项卡下是否记录了异常。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/50b9209c374271fe493b6c1229b01f80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STThn9o0WvCfFYFudvnUig.png"/></div></div></figure><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/83e09bfbccf1bd8eeb1923072126144d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zW3tQlbyYBcjv6JQuLsGsQ.png"/></div></div></figure><p id="fc55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">至此，来自python flask应用程序的错误数据是如何记录到APM服务器中的就变得很清楚了，这些数据可以在Kibana UI中可视化。</p><h1 id="e393" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="728b" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">弹性APM是监控应用程序以提高性能、修复错误和主动管理应用程序的一个很好的解决方案。这篇文章一定会引导您开始使用弹性APM和从各种应用程序到APM服务器的流性能指标。现在，您可以继续下一步，例如在出现严重的性能差异或错误时发送警报/电子邮件通知。</p><p id="c70d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Github中列出了烧瓶代码:<br/><a class="ae jo" href="https://github.com/DwijadasDey/apm" rel="noopener ugc nofollow" target="_blank">https://github.com/DwijadasDey/apm</a></p></div></div>    
</body>
</html>