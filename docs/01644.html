<html>
<head>
<title>Using NLP to determine the Sentiments of Lagos-tweets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NLP来确定拉各斯的情绪</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/using-nlp-to-determine-the-sentiments-of-tweets-522f1cca381a?source=collection_archive---------12-----------------------#2019-11-05">https://medium.com/analytics-vidhya/using-nlp-to-determine-the-sentiments-of-tweets-522f1cca381a?source=collection_archive---------12-----------------------#2019-11-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5b4a754bc094b20ed36a12256659528c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkW1LUm3zf9qt_XK4FCiug.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">非洲人口最多的城市。尼日利亚拉各斯。</figcaption></figure><p id="850f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">每个人都在谈论拉各斯是一个实现梦想和满足所有愿望的城市。这些想法导致前首都被洪水淹没，其20个地方政府区目前居住着1600多万人。</p><p id="c655" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我使用自然语言处理工具对twitter上来自这座城市的推文进行了情感分析。在本文中，我将向您介绍我的过程。底部有Github上完整代码的链接。</p><p id="74e5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">没有数据就没有数据科学。首先，我们需要得到数据。为此，我们需要通过这个<a class="ae js" href="https://developer.twitter.com/en/account/get-started" rel="noopener ugc nofollow" target="_blank">链接</a>开一个twitter开发者的账户。在创建帐户之前，您可能需要回答一些问题。这个<a class="ae js" href="https://docs.inboundnow.com/guide/create-twitter-application/" rel="noopener ugc nofollow" target="_blank">环节</a>也说明了更多。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/968436482de189b3519f32693dd6f27b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1KjFPpCf5RFYDj4qqbnWwQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Twitter开发者账户主页</figcaption></figure><p id="809c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">帐户创建后，我们将使用我们的访问代码(我建议你永远不要在网上分享)在twitter上流式传输。为了我的工作，我在4天的时间里发布了大约38，500条推文。安装一个tweepy库可以让我们在twitter上流式传输。还要注意，API搜索每15分钟只能访问1000条推文。另一个选择是使用API-stream，它随机生成10%的tweets。在这里阅读更多<a class="ae js" href="https://developer.twitter.com/en/docs/tweets/filter-realtime/guides/connecting" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/a82b4b8bf8747c77a77ef53f5fcaef92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nsszctFW7_FZeide279D-g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">数据生成程序</figcaption></figure><p id="ba82" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上图中的通配符返回所有推文，而地理编码确保我们只直接从拉各斯获取推文。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/eeda21bcbeae910452ea0a75f7e5da35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GWfpASKg0lCLZq4iSBx5aA.png"/></div></div></figure><p id="6a03" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们有了数据，我们下一步做一些分析。这里我们需要TextBlob、newspaper3k和nltk库来进行分析。</p><p id="f89f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，我们需要清理推文。这包括删除网址，将推文转换成小写字母，并将推文拆分成单词。使用nltk，我们可以创建一个计数器。我们也可以包括停用词。<a class="ae js" href="https://en.wikipedia.org/wiki/Stop_words" rel="noopener ugc nofollow" target="_blank">停用词</a>是常用词，我们不感兴趣。在我的例子中，我添加了一些尼日利亚的洋泾浜语停用词，因为一些推文是洋泾浜语。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/5eae065532b4f33b5036645ed834f240.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbDiR4KZsDqZX5e2NB9Yvg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">清理和字数统计</figcaption></figure><p id="f475" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">由此，我们还可以使用单词云库来生成单词云，以显示经常使用的单词。这是我由此生成的图像。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/e25d22cd3545e64bb3046b56c08bf0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q7zHCubeYN42YsOZvMSKDw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">常用词的词云图像</figcaption></figure><p id="341d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，上面的图像揭示了在收集这些数据期间，像<strong class="iw hj"> <em class="kc">、不、知道、一、爱、人</em> </strong>这些词被使用得更多。</p><p id="bdfd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可能还会使用plotly生成一个饼图来可视化推文的情感分析。这里我们使用TextBlob库。这将返回一个介于-1和1之间的浮点数，表示消极对积极的严重程度。图表显示了很多中性情绪。消极或积极的衡量标准是由许多预先训练好的词汇决定的。因此，例如“我很难过”或“我很厌恶”可能是-0.2，“我非常难过和烦恼”可能是-0.6。基本上，该算法通读推文，并试图从使用的单词中确定作者的情绪。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/9814d2b152ae030a9fdaf536528d92af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a2ZB0RbfvZk8r6Isgv-Qfw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">显示情绪分析的饼图</figcaption></figure><p id="ba37" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们还可以使用Textblob返回给我们这些推文的主观或客观程度。举个例子，我得到了这个。表明拉各斯人是非常客观的人。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/265dc1ea123928fb2a400a78407d1d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dce1hJYrzumhhQeHwY9Mtw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Plotly饼图显示拉各斯Twitter主观性的措施</figcaption></figure><p id="cd8a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们也可以尝试plotly直方图来显示我们旁边的计数。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/1796c5b228e8338d6a20952432a8f51f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0dcVhEHcS8yjhb6XWX1etg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Plotly直方图显示拉各斯Twitter主观性的衡量标准</figcaption></figure><p id="b461" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然结果很有趣，但Pidgin停用词的不可用性有点令人头疼，因为这必须手动输入。我真的希望在NLP的发展中，更多的非洲语言会被考虑。github上的完整代码链接是<a class="ae js" href="https://github.com/samsonafo/twitter-lagos" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="86cf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你喜欢这篇文章，你可以考虑给我买☕️.咖啡</p><p id="9fcb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Vielen dank😊</p></div></div>    
</body>
</html>