<html>
<head>
<title>Advanced-Data Structures In R — 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R — 2中的高级数据结构</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/advanced-data-structures-in-r-2-635cbbedbc8c?source=collection_archive---------14-----------------------#2019-11-26">https://medium.com/analytics-vidhya/advanced-data-structures-in-r-2-635cbbedbc8c?source=collection_archive---------14-----------------------#2019-11-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="a392" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">如果您还没有阅读R基础系列的第1部分，请阅读下面的文章，在这篇文章中，我们讨论了从R-1开始。本系列涵盖了R的基础知识，包括数据类型、控制结构、循环、函数和高级数据结构。</p><p id="1c08" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">如果您已经熟悉这些主题，并且正在使用r寻找统计和机器学习中所有重要主题的全面介绍，请从以下系列开始，其中讨论了与数据科学相关的所有必要主题。</p><p id="e5b9" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated"><a class="ae jh" rel="noopener" href="/@viveksrinivasan/many-ways-of-reading-data-into-r-1-52b02825cb27">将数据读入R — 1的多种方式</a></p><p id="e00a" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">这篇文章的内容是我在IIM-B时代得到介绍的几本书的要点。</p><p id="a39b" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">人人为我——贾里德·p·兰德</p><p id="422d" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">实用数据科学与R — Nina Zumel和John Mount</p><p id="bb2f" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">文中讨论的所有代码块都以R markdown的形式出现在<a class="ae jh" href="https://github.com/viveksrinivasanss/Data_Science_Using_R" rel="noopener ugc nofollow" target="_blank"> Github链接</a>中。</p><p id="b9f4" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">要查看我写的所有文章，请使用链接<a class="ae jh" rel="noopener" href="/@viveksrinivasan"> Vivek Srinivasan </a>。</p></blockquote><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ji"><img src="../Images/bf6d9ebaa60bcdf82cf5b304d4d3b32f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CyHSn3MsYw0tsFlNtty2eg.png"/></div></div></figure><p id="1334" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi jx translated">有时数据需要比简单的向量更复杂的存储，幸运的是R提供了大量的数据结构。最常见的是<code class="du kg kh ki kj b">data.frame</code>、<code class="du kg kh ki kj b">matrix </code>和<code class="du kg kh ki kj b">list</code>，其次是<code class="du kg kh ki kj b">array</code>。其中，<code class="du kg kh ki kj b">data.frame</code>对于使用过电子表格的人来说是最熟悉的，而<code class="du kg kh ki kj b">matrix </code>对于熟悉矩阵数学的人来说是最熟悉的，而<code class="du kg kh ki kj b">list </code>对于程序员来说是最熟悉的。</p><h2 id="7c7e" class="kk kl hi bd km kn ko kp kq kr ks kt ku ju kv kw kx jv ky kz la jw lb lc ld le bi translated">数据.框架</h2><p id="0dd0" class="pw-post-body-paragraph ii ij hi il b im lf io ip iq lg is it ju lh iw ix jv li ja jb jw lj je jf jg hb bi translated">也许R最有用的特性之一是<code class="du kg kh ki kj b">data.frame</code>。这是R易于使用的最常被引用的原因之一。</p><p id="2277" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">从表面上看，一个<code class="du kg kh ki kj b">data.frame</code>就像一个Excel电子表格，因为它有列和行。用统计学术语来说，每一列是一个变量，每一行是一个观察值。就R如何组织<code class="du kg kh ki kj b">data.frames</code>来说，每一列其实就是一个<code class="du kg kh ki kj b">vector</code>，每一列的长度都是一样的。这非常重要，因为它允许每一列保存不同类型的数据。这也意味着在一个列中，每个元素必须是相同的类型，就像向量一样。</p><p id="6ab3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">构造<code class="du kg kh ki kj b">data.frame</code>的方法有很多，最简单的是使用<code class="du kg kh ki kj b">data.frame</code>函数。让我们使用一些我们已经介绍过的<code class="du kg kh ki kj b">vectors </code>创建一个基本的<code class="du kg kh ki kj b">data.frame </code>，即<code class="du kg kh ki kj b">x</code>、<code class="du kg kh ki kj b">y</code>和<code class="du kg kh ki kj b">q</code>。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="8cab" class="kk kl hi kj b fi lo lp l lq lr">x &lt;- 10:1<br/>y &lt;- -4:5<br/>q &lt;- c("Hockey", "Football", "Baseball", "Curling", "Rugby",      "Lacrosse", "Basketball", "Tennis", "Cricket", "Soccer")</span><span id="8e9b" class="kk kl hi kj b fi ls lp l lq lr">theDF &lt;- data.frame(x, y, q)<br/>theDF</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lt"><img src="../Images/1fd9be89aea49571b1cd64c37851cbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8VHYEPW_RWdQDHnSgdVwg.png"/></div></div></figure><p id="bd5e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">这就创建了一个由这三个向量组成的10x3 <code class="du kg kh ki kj b">data.frame </code>。注意<code class="du kg kh ki kj b">theDF</code>的名字只是变量。我们可以在创建过程中指定名称，这通常是个好主意。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="248f" class="kk kl hi kj b fi lo lp l lq lr">theDF &lt;- data.frame(First=x, Second=y, Sport=q)<br/>theDF</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lu"><img src="../Images/35aee48739f55e91d2af1d137bf013bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TWjGiOM46w2avRv09C2QcQ.png"/></div></div></figure><p id="b94a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated"><code class="du kg kh ki kj b">data.frames</code>是具有许多属性的复杂对象。最常检查的属性是行数和列数。当然，也有函数为我们做这些:<code class="du kg kh ki kj b">nrow </code>和<code class="du kg kh ki kj b">ncol</code>。如果两者同时需要，还有<code class="du kg kh ki kj b">dim </code>功能。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="c09a" class="kk kl hi kj b fi lo lp l lq lr">nrow(theDF)<br/>ncol(theDF)<br/>dim(theDF)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lv"><img src="../Images/2541571c908db490fe501911df4b1122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBN0n7gETGMDglIdn80cHg.png"/></div></div></figure><p id="f453" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">检查<code class="du kg kh ki kj b">data.frame</code>的列名就像使用<code class="du kg kh ki kj b">names </code>函数一样简单。这将返回一个列出列的字符<code class="du kg kh ki kj b">vector </code>。因为它是一个向量，我们可以像访问任何其他的<code class="du kg kh ki kj b">vector</code>一样访问它的单个元素。我们也可以使用<code class="du kg kh ki kj b">rownames </code>函数检查并分配<code class="du kg kh ki kj b">data.frame</code>的行名。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="d287" class="kk kl hi kj b fi lo lp l lq lr">names(theDF)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lw"><img src="../Images/00cb609609277942e87e7094fdac08c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*og0PSgDn8teKkPw4wetmQg.png"/></div></div></figure><p id="f6a7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">通常情况下，<code class="du kg kh ki kj b">data.frame</code>的行数太多，无法全部打印到屏幕上，所以谢天谢地<code class="du kg kh ki kj b">head </code>函数只打印出了前几行。类似于<code class="du kg kh ki kj b">head</code>，要打印最后几行，使用r中的<code class="du kg kh ki kj b">tail </code>函数</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="1be4" class="kk kl hi kj b fi lo lp l lq lr">head(theDF)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lx"><img src="../Images/f41a1777a320ba29390eebdeddd2d19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7J_bITJAxbEuH5pGuzNIag.png"/></div></div></figure><p id="0e08" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">由于data.frame的每一列都是一个单独的<code class="du kg kh ki kj b">vector</code>，所以可以单独访问，每个列都有自己的类。像<code class="du kg kh ki kj b">R</code>的许多其他方面一样，有多种方法可以访问单个列。有<code class="du kg kh ki kj b">$</code>操作符，也有方括号。运行<code class="du kg kh ki kj b">theDF$Sport </code>将给出<code class="du kg kh ki kj b">theDF</code>中的第三列。这允许我们通过名称指定一个特定的列。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="a2cc" class="kk kl hi kj b fi lo lp l lq lr">theDF$Sport</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ly"><img src="../Images/421c6118d0f0fb1c42c2d16c664002fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQWftjs7et6eCENCwiXWlA.png"/></div></div></figure><p id="b5e4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">类似于vectors，<code class="du kg kh ki kj b">data.frames</code>允许我们使用方括号通过位置访问单个元素，但是不是只有一个位置，而是指定了两个。第一个是行号，第二个是列号。所以为了从第二列得到第三行，我们使用了<code class="du kg kh ki kj b">theDF[3, 2]</code>。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="21bb" class="kk kl hi kj b fi lo lp l lq lr">theDF[3, 2]</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es lz"><img src="../Images/7c0cf7818af8388116f331fa83d782dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z8O03N3ccoxoB1LKuWHtfg.png"/></div></div></figure><p id="1d25" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">要指定多个<code class="du kg kh ki kj b">row </code>或<code class="du kg kh ki kj b">column</code>，请使用索引的<code class="du kg kh ki kj b">vector </code>。以下是访问行<code class="du kg kh ki kj b">3</code>和<code class="du kg kh ki kj b">5</code>，列<code class="du kg kh ki kj b">2</code>到<code class="du kg kh ki kj b">3</code>的方法。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="9bef" class="kk kl hi kj b fi lo lp l lq lr">theDF[c(3, 5), 2:3]</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ma"><img src="../Images/60581c07df2de9d642d46c9eadcfd554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2tWNC9ih9rlcUwio5Hgd8g.png"/></div></div></figure><p id="8ca5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">要访问整个<code class="du kg kh ki kj b">row</code>，请指定<code class="du kg kh ki kj b">row </code>，而不要指定任何<code class="du kg kh ki kj b">column</code>。同样，要访问整个<code class="du kg kh ki kj b">column</code>，请指定该<code class="du kg kh ki kj b">column </code>，而不要指定任何<code class="du kg kh ki kj b">row</code>。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="66c0" class="kk kl hi kj b fi lo lp l lq lr">theDF[2, ]</span></pre><p id="4a74" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">我们看到因子是以一种特殊的方式储存的。要查看它们如何在<code class="du kg kh ki kj b">data.frame</code>中表示，使用<code class="du kg kh ki kj b">model.matrix</code>创建一组指示器(或虚拟)变量。也就是说，一个因子的每个<code class="du kg kh ki kj b">level </code>对应一列，如果一行包含该级别，则对应一个<code class="du kg kh ki kj b">1 </code>，否则对应一个<code class="du kg kh ki kj b">0</code>。相当于为因子列创建<code class="du kg kh ki kj b">dummy </code>变量。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="99d9" class="kk kl hi kj b fi lo lp l lq lr">model.matrix(~ theDF$Sport - 1)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mb"><img src="../Images/570c6f42361108b17cbf04ee3ea62fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bRkvc-ZeKABR0Q-i8wiScw.png"/></div></div></figure><h2 id="89e2" class="kk kl hi bd km kn ko kp kq kr ks kt ku ju kv kw kx jv ky kz la jw lb lc ld le bi translated">列表</h2><p id="8838" class="pw-post-body-paragraph ii ij hi il b im lf io ip iq lg is it ju lh iw ix jv li ja jb jw lj je jf jg hb bi translated">通常需要一个容器来存放相同类型或不同类型的任意对象。r通过<code class="du kg kh ki kj b">lists</code>完成这个任务。它们存储任意数量的任意类型的项目。一个列表可以包含所有的数字或字符，或者两者的混合，或者<code class="du kg kh ki kj b">data.frames</code>，或者递归地，其他的<code class="du kg kh ki kj b">lists</code>。</p><p id="f924" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">列表是用<code class="du kg kh ki kj b">list </code>函数创建的，其中函数的每个参数都成为列表的一个元素。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="9b62" class="kk kl hi kj b fi lo lp l lq lr">list(1, 2, 3)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mc"><img src="../Images/a3d09b5475723d2c29c30314cc5a86a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WK93GZiZbVY78hQdJI__zA.png"/></div></div></figure><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="3fb5" class="kk kl hi kj b fi lo lp l lq lr">list(theDF, 1:10)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es md"><img src="../Images/f1c91fe4a8bfce1147ca4a49224518ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pvst9L5XeTmraTUYfpJ4ng.png"/></div></div></figure><p id="9f7c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">和<code class="du kg kh ki kj b">data.frames</code>一样，<code class="du kg kh ki kj b">lists </code>也可以有名字。每个元素都有一个唯一的名称，可以使用<code class="du kg kh ki kj b">names</code>查看或分配。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="c65a" class="kk kl hi kj b fi lo lp l lq lr">a &lt;- list(TheDataFrame=theDF, TheVector=1:10)<br/>a</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es me"><img src="../Images/40c73b92ce90a76160856517dc27ce9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VPD-6hLW5a8vdkneGKCsJw.png"/></div></div></figure><p id="16e5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">要访问<code class="du kg kh ki kj b">list</code>的单个元素，使用双方括号，指定元素编号或名称。请注意，这允许一次只能访问一个元素。一旦访问了一个元素，就可以将它视为正在使用的实际元素，从而允许嵌套索引元素。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="38e2" class="kk kl hi kj b fi lo lp l lq lr">a[["TheDataFrame"]] or a[[1]]</span></pre><p id="aef2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">可以简单地通过使用一个不存在的索引(数字的或命名的)将元素添加到列表中。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="bc6f" class="kk kl hi kj b fi lo lp l lq lr">length(a)</span><span id="f181" class="kk kl hi kj b fi ls lp l lq lr">## adding new element to list<br/>a[[3]] &lt;- "4"</span><span id="7139" class="kk kl hi kj b fi ls lp l lq lr">length(a)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mf"><img src="../Images/92c3b3271dc3db068efa224296bd5509.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZF30E2kG5xQ62gBU39V4w.png"/></div></div></figure><p id="7279" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">偶尔追加到一个列表——或者vector或data.frame中——是可以的，但是重复这样做在计算上是很昂贵的。因此，最好创建一个与其最终期望大小一样长的<code class="du kg kh ki kj b">list </code>，然后使用适当的索引填充它。</p><h2 id="250e" class="kk kl hi bd km kn ko kp kq kr ks kt ku ju kv kw kx jv ky kz la jw lb lc ld le bi translated">矩阵</h2><p id="97be" class="pw-post-body-paragraph ii ij hi il b im lf io ip iq lg is it ju lh iw ix jv li ja jb jw lj je jf jg hb bi translated">对于统计学来说，一个非常常见的数学结构是<code class="du kg kh ki kj b">matrix</code>。这类似于一个<code class="du kg kh ki kj b">data.frame</code>，它是有行和列的矩形，除了每一个单独的元素，不管<code class="du kg kh ki kj b">column</code>，都必须是相同的<code class="du kg kh ki kj b">type</code>，通常都是<code class="du kg kh ki kj b">numerics</code>。它们也类似于向量，具有逐个元素的加法、乘法、减法、除法和等式。<code class="du kg kh ki kj b">nrow</code>、<code class="du kg kh ki kj b">ncol </code>和<code class="du kg kh ki kj b">dim </code>功能的工作方式与<code class="du kg kh ki kj b">data.frames</code>相同。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="839d" class="kk kl hi kj b fi lo lp l lq lr"># create a 5x2 matrix<br/>A &lt;- matrix(1:10, nrow=5)</span><span id="217d" class="kk kl hi kj b fi ls lp l lq lr"># create another 5x2 matrix<br/>B &lt;- matrix(21:30, nrow=5)</span><span id="9d39" class="kk kl hi kj b fi ls lp l lq lr"># create another 2x5 matrix<br/>C &lt;- matrix(21:40, nrow=2)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mg"><img src="../Images/64555cd7ff7e8ec9296d0c83191008ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SsxsCweuE8xhapZmFnCkxA.png"/></div></div></figure><p id="bb24" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated"><code class="du kg kh ki kj b">Matrix </code>乘法是数学中常用的运算，要求左边矩阵的列数与右边矩阵的行数相同。<code class="du kg kh ki kj b">A</code>和<code class="du kg kh ki kj b">B</code>都是<code class="du kg kh ki kj b">5X2 </code>，所以我们将<code class="du kg kh ki kj b">transposeB </code>用于右侧。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="e689" class="kk kl hi kj b fi lo lp l lq lr">A %*% t(B)</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mh"><img src="../Images/eadd3ab911eaca0991d86b605200e843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rNxIbrRRZDQ0QXhReNhFkg.png"/></div></div></figure><p id="63f0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">与data.frames的另一个相似之处是矩阵也可以有行名和列名。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="4e5b" class="kk kl hi kj b fi lo lp l lq lr">rownames(A) &lt;- c("1st", "2nd", "3rd", "4th", "5th")<br/>colnames(C) &lt;- LETTERS[1:10]</span><span id="0eb8" class="kk kl hi kj b fi ls lp l lq lr">A %*% C</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mi"><img src="../Images/33c2b55548b76d3a067a92aa73f53583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtibonMTJWFHSS896dQlqA.png"/></div></div></figure><p id="4ad3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">注意当<code class="du kg kh ki kj b">transposing </code>矩阵和<code class="du kg kh ki kj b">multiplying </code>矩阵。转置自然会翻转行名和列名。矩阵乘法保留左矩阵的行名和右矩阵的列名。</p><h2 id="5928" class="kk kl hi bd km kn ko kp kq kr ks kt ku ju kv kw kx jv ky kz la jw lb lc ld le bi translated">数组</h2><p id="8b11" class="pw-post-body-paragraph ii ij hi il b im lf io ip iq lg is it ju lh iw ix jv li ja jb jw lj je jf jg hb bi translated">一个<code class="du kg kh ki kj b">array </code>本质上是一个多维向量。它必须都是相同的<code class="du kg kh ki kj b">type</code>，并且使用方括号以相似的方式访问各个元素。第一个元素是<code class="du kg kh ki kj b">row </code>索引，第二个是<code class="du kg kh ki kj b">column </code>索引，其余元素用于外部尺寸。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="6ea0" class="kk kl hi kj b fi lo lp l lq lr">## Creating 3D array<br/>theArray &lt;- array(1:12, dim=c(2, 3, 2))<br/>theArray</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mj"><img src="../Images/025be0ed1343d899881bef881ca667ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GmmUI-ZzH426gOFv6dIB0Q.png"/></div></div></figure><p id="1223" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">一个<code class="du kg kh ki kj b">array </code>和一个<code class="du kg kh ki kj b">matrix </code>之间的主要区别是矩阵被限制在二维空间，而数组可以有任意数量。</p><pre class="jj jk jl jm fd lk kj ll lm aw ln bi"><span id="c677" class="kk kl hi kj b fi lo lp l lq lr">## Accessing different dimension of array<br/>theArray[1, , ]<br/>theArray[1, , 1]<br/>theArray[, , 1]</span></pre><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es mk"><img src="../Images/7e003b0e8293ffba0d683bbc61d2f11b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ibdo5fDmn7rxCYm8Vl8r8Q.png"/></div></div></figure><p id="2245" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">数据有多种类型和结构，这可能会给一些分析环境带来问题，但是<code class="du kg kh ki kj b">R</code>沉着地处理它们。最常见的数据结构是一维的<code class="du kg kh ki kj b">vector</code>，它构成了<code class="du kg kh ki kj b">R</code>中一切的基础。</p><p id="5390" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated">最强大的结构是<code class="du kg kh ki kj b">data.frame</code>—<code class="du kg kh ki kj b">R</code>中大多数其他语言没有的特殊之处——它以类似电子表格的格式处理混合数据类型。<code class="du kg kh ki kj b">Lists </code>对于存放物品很有用，比如<code class="du kg kh ki kj b">Perl</code>里的<code class="du kg kh ki kj b">hash </code>。在下一篇文章中，我们将讨论如何在R中创建定制函数以及与之相关的细微差别。</p><p id="ee26" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it ju iv iw ix jv iz ja jb jw jd je jf jg hb bi translated"><a class="ae jh" rel="noopener" href="/@viveksrinivasan/writing-r-functions-3-2fe03faecfbe"> <em class="ik">编写R函数— 3 </em> </a></p><blockquote class="if ig ih"><p id="dfe7" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">一定要通过评论和在你的同龄人中分享文章来分享你的想法和支持。</p></blockquote></div></div>    
</body>
</html>