<html>
<head>
<title>Donut Pie-Chart using Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Matplotlib 的圆环饼图</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/donut-pie-chart-using-matplotlib-dc60f6606359?source=collection_archive---------13-----------------------#2020-12-09">https://medium.com/analytics-vidhya/donut-pie-chart-using-matplotlib-dc60f6606359?source=collection_archive---------13-----------------------#2020-12-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4d15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数数据分析师和数据科学家使用不同种类的可视化技术进行数据分析和 EDA。但是在浏览了许多 Kaggle 笔记本和项目之后，我找不到以饼状图形式可视化的数据。尽管我知道，比起饼图，人们更喜欢直方图和条形图，因为它们在一个视图中表现出的重要性。但是如果饼状图按照他们的要求精确地使用，它会比大多数条形图和直方图更有意义。</p><p id="d175" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们将把饼图游戏提升到一个新的水平，并创建一个自定义的甜甜圈饼图。听起来很有趣？好吧，去查一查！</p><p id="70e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将导入 matplotlib.pyplot，因为这是生成我们的环形饼图所需的唯一库。</p><p id="5870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在第一个单元格中运行“import matplotlib.pyplot as plt”。</p><p id="2557" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将定义两个列表，即:list_headings 和 list_data。我们将使用自定义数据进行可视化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/0981e90669f49a1234175bb5dd10fdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wb0Go255EgbAwG8ISR7q7Q.png"/></div></div></figure><p id="5d4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们将使用 plt 创建一个实心圆。具有自定义尺寸的圆形将在我们的饼图内部创建一个中空的空间，使其成为一个类似甜甜圈的形状。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/7d842fcf1ff87f56ae50bfa9f27c3c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mi3QGHatuPfYCFNLHE09_g.png"/></div></div></figure><p id="c637" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将使用 plt.pie()创建一个简单的饼图。我们将添加 list_data 和 list_headings 作为数据可视化的初始参数。</p><p id="8a75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们将创建一个 plt.gcf()对象。<strong class="ih hj"> matplotlib </strong>库的<strong class="ih hj"> pyplot </strong>模块中的该函数用于获取当前图形上匹配给定关键字 args 的当前轴实例或创建一个实例。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/e3c19e5bcabba38fdfad35c0866895b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oEKFt1CV8vbeK4yWNNxaug.png"/></div></div></figure><p id="11aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在。我们将使用 gca()函数的 add_artist 方法将实心圆添加到 pyplot 中。</p><p id="84d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将编写这个非常棒的单词组合— plt.show()</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/f2d828c4d43c5c84ca654137b0e33b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBdaHaWIUlshEIJ4Bu9khQ.png"/></div></div></figure><p id="6b25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果将类似于此:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/8ab299068f3cc290fd8ce6bf0bef05f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*KTQvAHw5_vipqZaXj-1Ygw.png"/></div></figure><p id="0248" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整代码:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/3128a0e9f670eec6fa6f00a1b9d5035a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2T9pWyRETP5JBxKn3vLm5w.png"/></div></div></figure><p id="7af8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但这不是我们文章的结尾。我们需要定制这个甜甜圈饼图，使其更具吸引力和视觉吸引力。</p><p id="3060" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在甜甜圈饼图的每个部分之间添加一个空白空间，简称为楔形落差。</p><p id="5373" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在 plt.pie()中再添加一个参数，以获得所需的输出，即 wedgedrops。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/52b16890d1221f8bf9f35e081e636fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fOTwPUJEI_UwWM9V-mbApQ.png"/></div></div></figure><p id="4a42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的输出将与此完全相似:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/8b8bd8055ab76f0822be5fc980c836f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*bGDtPCQ9MrGfD-jZTR-ylA.png"/></div></figure><p id="dcd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整代码:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/f9fc29ba2ae4be4a48adccc46ef09272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O7Lp4BqdrNgIE5TQJ0Y0zQ.png"/></div></div></figure><p id="4a77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您也可以将自定义颜色添加到圆环饼图中。定义要用于可视化的颜色列表。将颜色作为参数添加到 plt.pie()中以实现。完整代码:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/42f2f7e767b704e032fd673b364b07c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Miiwi_JmSh778sVjCUkAKQ.png"/></div></div></figure><p id="db2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一代人对黑色的痴迷完全令人难以置信。每个人都想穿黑色，在黑暗模式下编码，拥有黑色的配饰。所以这是特别为他们准备的。我们将为我们的甜甜圈饼图添加一个黑色背景，这样它看起来比以前的可视化效果更吸引人，可读性更好。我们将使用 fig.patch.set_facecolor()为我们的圆环饼图添加自定义颜色背景。此外，我们将把标签的文本颜色转换为白色，以便在黑色背景下也可以阅读。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/1cceb2ca24fc02f4be7fbf8812abd8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJmMJLy0AbYCgM6TaFgR3Q.png"/></div></div></figure><p id="f652" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的最终结果将如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/37c2f35a4f89aa5a81eb5e01e7bf86ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*lR0rTDOrfPodgiOgglyWFg.png"/></div></figure><p id="5c02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整代码:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/c6c354aebf2b8f9559fffd8e6a1e02a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGTQcikdDjR4F8D4l96KIg.png"/></div></div></figure><p id="bce0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，就是这个。现在，您可以为可视化创建自己定制的圆环饼图。</p><p id="ac48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以查看这个 Kaggle 笔记本，了解如何在多行和多列中绘制多个饼图，并向饼图添加图例。</p><p id="79d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">祝你学习愉快！</p><div class="kb kc ez fb kd ke"><a href="https://www.kaggle.com/dhruvanurag20/cyber-crime-in-india-2018-2019-eda" rel="noopener  ugc nofollow" target="_blank"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hj fi z dy kj ea eb kk ed ef hh bi translated">印度的网络犯罪(2018 年和 2019 年)- EDA</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">使用 Kaggle 笔记本探索和运行机器学习代码|使用来自印度城市网络犯罪的数据(2018 &amp;…</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">www.kaggle.com</p></div></div><div class="kn l"><div class="ko l kp kq kr kn ks jn ke"/></div></div></a></div></div></div>    
</body>
</html>