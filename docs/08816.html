<html>
<head>
<title>Pandas for Data Science -part 02</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学熊猫-第二部分</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/pandas-for-data-science-part-02-22e8dfa48b9?source=collection_archive---------17-----------------------#2020-08-14">https://medium.com/analytics-vidhya/pandas-for-data-science-part-02-22e8dfa48b9?source=collection_archive---------17-----------------------#2020-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f435" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我的部分-02在数据科学与python使用熊猫，检查部分-01 <a class="ae jd" rel="noopener" href="/@ksailakshman2000/introduction-to-pandas-for-data-science-part-01-b368a40439aa">在这里</a>。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/6a7be5ef4f7a8b323bdfabd613cbcea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5QfNVLC3TO6u0ID07DDejw.png"/></div></div></figure><p id="4552" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jq translated">选择一个新的图书馆作为起点是一个非常困难的决定。有很多研究要做，有很多路要走。所以要打败熊猫需要很多时间，但是通过大量的练习，我们可以达到它的极致，不要担心，从这里继续你的阅读，它会对你有很大的帮助。</p><p id="5d90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在开始之前，请确保您的控制台中安装了python，您可以在python的官方网站(python.org)上查看，也可以使用anaconda来运行您的jupyter笔记本。</p><h2 id="b3da" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">进口熊猫</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="7817" class="jz ka hi kv b fi kz la l lb lc">import pandas as pd</span><span id="dcc3" class="jz ka hi kv b fi ld la l lb lc">import numpy as np</span></pre><h2 id="aad6" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated"><strong class="ak">根据字典</strong>创建熊猫的数据框架</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="2f96" class="jz ka hi kv b fi kz la l lb lc">data={‘movie’:[‘titanic’,’kill bill’,’narnia’,’harry potter’],’year’:[1997,2003,2005,2002],’rating’:[4.3,4.5,4.0,4.6]}</span><span id="2df8" class="jz ka hi kv b fi ld la l lb lc">df=pd.DataFrame(data)</span><span id="5c77" class="jz ka hi kv b fi ld la l lb lc">df</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es le"><img src="../Images/9eeea8134919bffc6af10fa11dc98843.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*h98crpSLFrRVhGa1W2DcTg.png"/></div></figure><h2 id="c6a7" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">访问数据帧的最后一行和第一行</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="f5c3" class="jz ka hi kv b fi kz la l lb lc">df.head(2)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lf"><img src="../Images/08ec7382bbaeaf1909a1b6be43764b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*-pUNdyvHY1lYoOEq7nm2OA.png"/></div></figure><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="03bb" class="jz ka hi kv b fi kz la l lb lc">df.tail(2)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lg"><img src="../Images/bd604fae725e9a8ae8c9a9936a696820.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*JJKw2xeHyUU4kSR3xBhPoQ.png"/></div></figure><h2 id="b6e8" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">重命名数据帧的索引/列名(标签)</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="951c" class="jz ka hi kv b fi kz la l lb lc">df_new = df.rename(columns={‘movie’: ‘Title’,’year’:’release year’,’rating’:’stars’}, index={0:’movie one’,1:’movie two’,2:’movie three’,3:’movie four’})</span><span id="3bf1" class="jz ka hi kv b fi ld la l lb lc">df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lh"><img src="../Images/012fe127223548aa72d781f60988c902.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*xfFxdRU3lwnBy7jjdDCw3g.png"/></div></figure><h2 id="684a" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">访问熊猫数据框架中的列</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="ae8e" class="jz ka hi kv b fi kz la l lb lc">df_new[‘Title’]</span><span id="de92" class="jz ka hi kv b fi ld la l lb lc">movie one           titanic<br/>movie two         kill bill<br/>movie three          narnia<br/>movie four     harry potter<br/>Name: Title, dtype: object</span></pre><h2 id="13e0" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">将列作为属性访问</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="7e6a" class="jz ka hi kv b fi kz la l lb lc">df_new.stars</span><span id="0819" class="jz ka hi kv b fi ld la l lb lc">movie one      4.3<br/>movie two      4.5<br/>movie three    4.0<br/>movie four     4.6<br/>Name: stars, dtype: float64</span></pre><h2 id="909b" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">访问数据框中的行</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="21a6" class="jz ka hi kv b fi kz la l lb lc">df_new.loc[‘movie one’]</span><span id="917d" class="jz ka hi kv b fi ld la l lb lc">Title           titanic<br/>release year       1997<br/>stars               4.3<br/>Name: movie one, dtype: object<br/>--------------------------------<br/>df_new.loc['movie four']</span><span id="1c50" class="jz ka hi kv b fi ld la l lb lc">Title           harry potter<br/>release year            2002<br/>stars                    4.6<br/>Name: movie four, dtype: object</span></pre><h2 id="eb2b" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">让我们创建第二个DataFrame，这一次，在column属性中，我们添加一个字典中没有的列。</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="3afc" class="jz ka hi kv b fi kz la l lb lc">df_new[‘My new columns’]=’default’<br/>df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/536c2f03919bf3e4251c24eb5bf61668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*4WU-crjlmf3zhWIbCbRWZA.png"/></div></figure><h2 id="d7b3" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">如果要在某个索引处添加新列</h2><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lj"><img src="../Images/12a60e53da73d605f3c0341c2966ce8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*1h5V2zK6ngr6rVz6IB-jxg.png"/></div></figure><p id="8c72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果要指定列的顺序</p><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="fdd2" class="jz ka hi kv b fi kz la l lb lc">df_new.insert(1, ‘My 2nd new column’, ‘default value 2’)<br/>df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lk"><img src="../Images/8ce4854cf2772b622c5fb8846f59773c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mob_gNX_Ef2XEcI_E_RYXg.png"/></div></div></figure><h2 id="24b5" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">Pandas的一个很酷的特性是，你可以为一个列分配一个常量值。</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="49f8" class="jz ka hi kv b fi kz la l lb lc">df_new[‘My 2nd new column’]=’human’<br/>df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ll"><img src="../Images/7b37303b625fdfc915b885d6c1e55bf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I5aivdUGOonK8h65cyHuGA.png"/></div></div></figure><h2 id="78e9" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">我们还可以将系列映射到数据帧中的列上。</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="13ea" class="jz ka hi kv b fi kz la l lb lc">ser=pd.Series([2,3,],index=[1,3])<br/>df_new[‘My new columns’]=ser<br/>df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lm"><img src="../Images/aa7511095ac80aca6b613b961b8b06d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68bAdYLcJ4hN2Z9oqcYrmA.png"/></div></div></figure><h2 id="9beb" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">删除熊猫数据框架中的列</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="3770" class="jz ka hi kv b fi kz la l lb lc">del df_new[‘My new columns’]<br/>df_new</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ln"><img src="../Images/5ede69129c5883f099cf16ebb37c4606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*8tOzq87gJoaoee4tlOK-fA.png"/></div></figure><h2 id="65da" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">删除熊猫数据框架中的行</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="e39d" class="jz ka hi kv b fi kz la l lb lc">df_new.drop([‘movie one’])</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lo"><img src="../Images/a618a69f5bbf53c2b2104f691d98a5ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*XdwVqKeXauLPkQn2brwArQ.png"/></div></figure><h2 id="52e6" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">具有嵌套字典的数据框架</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="172c" class="jz ka hi kv b fi kz la l lb lc">dicty={‘friends age’:{‘charan’:20,’sri sai’:20,’vijay’:22,’poojitha’:20},’teachers age’:{‘col ranjith sinha’:55,’chandan’:44,’shivangi goel’:25}}</span><span id="5433" class="jz ka hi kv b fi ld la l lb lc">df_n3=pd.DataFrame(dicty)</span><span id="cb60" class="jz ka hi kv b fi ld la l lb lc">df_n3</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lp"><img src="../Images/93f7879132182360e7afc545ed7fda4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*4BOTst092VA3Y_zjmR9WkQ.png"/></div></figure><h2 id="d7f8" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">转置熊猫数据帧</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="c2f0" class="jz ka hi kv b fi kz la l lb lc">df_n3.T</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lq"><img src="../Images/5bca2e5272c9eac0dbdbaaacbc01608c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u8DZhiaq_7EOWs81r13rMg.png"/></div></div></figure><h2 id="cbf1" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">迭代数据帧的行和列</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="6ebb" class="jz ka hi kv b fi kz la l lb lc">dat_new= { ‘fruit’: [“Guava”, “Apple”, “Oranges”], ‘price’:[40, 120, 60]}</span><span id="3f10" class="jz ka hi kv b fi ld la l lb lc">data_df= pd.DataFrame(dat_new)<br/>data_df</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lr"><img src="../Images/0b18b0923157b9140a7981d45fc8e206.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*_wcv30Vgltii7BpLihPvSQ.png"/></div></figure><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="2bf8" class="jz ka hi kv b fi kz la l lb lc">for i,j in data_df.iterrows():<br/> print(i,j)<br/> print()</span><span id="40a7" class="jz ka hi kv b fi ld la l lb lc">0 fruit    Guava<br/>price       40<br/>Name: 0, dtype: object<br/><br/>1 fruit    Apple<br/>price      120<br/>Name: 1, dtype: object<br/><br/>2 fruit    Oranges<br/>price         60<br/>Name: 2, dtype: object</span></pre><h2 id="5f58" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">数据帧的堆叠和拆分</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="ed3f" class="jz ka hi kv b fi kz la l lb lc">data_st=data_df.stack()<br/>data_st</span><span id="8589" class="jz ka hi kv b fi ld la l lb lc">0  fruit      Guava<br/>   price         40<br/>1  fruit      Apple<br/>   price        120<br/>2  fruit    Oranges<br/>   price         60<br/>dtype: object</span><span id="6ed4" class="jz ka hi kv b fi ld la l lb lc">data_unst=data_df.unstack()<br/>data_unst</span><span id="6db7" class="jz ka hi kv b fi ld la l lb lc">fruit  0      Guava<br/>       1      Apple<br/>       2    Oranges<br/>price  0         40<br/>       1        120<br/>       2         60<br/>dtype: object</span></pre><h2 id="c8e2" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">将列表设置为Pandas数据帧中的索引</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="36c8" class="jz ka hi kv b fi kz la l lb lc">data_df</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ls"><img src="../Images/0bea908a53d593785e0cf2db1afcc488.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*VvRwG88iLBbvani9jzxurw.png"/></div></figure><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="31f4" class="jz ka hi kv b fi kz la l lb lc">id=[‘one’,’two’,’three’]<br/>data_df.index=id<br/>data_df</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lt"><img src="../Images/e3ed74da954cc9f91eac7386436921b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*k5iivQCGAQG67CvpGGyptA.png"/></div></figure><h2 id="19d3" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">根据索引从数据帧中选择值</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="cdd3" class="jz ka hi kv b fi kz la l lb lc">data_df.loc[‘two’]</span><span id="b819" class="jz ka hi kv b fi ld la l lb lc">fruit    Apple<br/>price      120<br/>Name: two, dtype: object</span></pre><h2 id="83af" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">使用缺失值</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="5e39" class="jz ka hi kv b fi kz la l lb lc">datamiss_dict={‘Data’:[1, np.nan, 8, 9, np.nan], ‘name’:[“charan”,”mike”,”vj”,”nandy”,”vikram”]}</span><span id="6a54" class="jz ka hi kv b fi ld la l lb lc">datamiss_a= pd.DataFrame(datamiss_dict)</span><span id="903e" class="jz ka hi kv b fi ld la l lb lc">datamiss_a</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lu"><img src="../Images/8b21d0086d5cd8e38c67764aa25c2538.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*rffrEC8jag6tn2aPEfuwFw.png"/></div></figure><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="5e5e" class="jz ka hi kv b fi kz la l lb lc">datamiss_a.isnull()</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lv"><img src="../Images/2745a08c39853d07bc4559b5cdc7fb72.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*lz79ad-YRRRXNYSLF4XHMw.png"/></div></figure><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="f78d" class="jz ka hi kv b fi kz la l lb lc">datamiss_a.fillna(‘Not available’)</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lw"><img src="../Images/a257f8e16dee51cb6543faf9640d124f.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*WHo5myQpw0T7JyU9H-iyAw.png"/></div></figure><h2 id="5b0f" class="jz ka hi bd kb kc kd ke kf kg kh ki kj iq kk kl km iu kn ko kp iy kq kr ks kt bi translated">我们可以丢弃所有丢失的数据。dropna()函数</h2><pre class="jf jg jh ji fd ku kv kw kx aw ky bi"><span id="5c91" class="jz ka hi kv b fi kz la l lb lc">datamiss_a.dropna()</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lv"><img src="../Images/5c6800d7f28c17c66b22a54aa7c60385.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*XP5drH-USf1fPyhZwqbL-w.png"/></div></figure></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><p id="686d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">资源:<a class="ae jd" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">https://pandas.pydata.org/</a></p><p id="48ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于我:大家好，我是拉克什曼·卡托朱，一名本科生，我喜欢探索事物，不断学习新的东西并教授它们。</p></div></div>    
</body>
</html>