<html>
<head>
<title>What You Need To Know About Web Scraping</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于网络抓取你需要知道什么</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/what-you-need-to-know-about-web-scraping-fa626e447343?source=collection_archive---------12-----------------------#2020-07-24">https://medium.com/analytics-vidhya/what-you-need-to-know-about-web-scraping-fa626e447343?source=collection_archive---------12-----------------------#2020-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6f4e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">抓取HTML表格</h2></div><p id="755b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您是否想过如何从没有应用程序编程接口(API)的网站上获取数据？好吧，继续阅读这篇文章，你会了解到如何做到这一点。</p><p id="5450" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本文将涵盖以下子主题:</p><ul class=""><li id="fe3d" class="ju jv hi iz b ja jb jd je jg jw jk jx jo jy js jz ka kb kc bi translated">网页抓取的定义</li><li id="e25b" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">网页抓取工作流程</li><li id="23e6" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">网页抓取要求</li><li id="533e" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">如何获得最佳的网页抓取网址</li><li id="4a60" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">实践经验</li></ul><h2 id="acbf" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">网页抓取的定义</h2><p id="39ad" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">网络抓取是从网站提取数据的过程。</p><p id="3aa8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从一个网站复制和粘贴信息也可以被称为网络抓取，但这是手动的。Web抓取也称为web采集或web数据提取。</p><h2 id="c7af" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">网页抓取工作流程</h2><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es li"><img src="../Images/6dcaf38302a2a6a59c93d07fc349951e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*am3oNELX4aRAq2hJ0q42Mw.jpeg"/></div></div></figure><p id="f944" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请求被发送到该URL。服务器发送数据，并允许scraper读取HTML或XML页面。然后，解析HTML或XML页面，找到数据，提取数据并以某种格式存储。csv，。xslx等。).</p><h2 id="3aa7" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">网页抓取要求</h2><p id="396f" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">计算机、互联网连接、到您想要抓取的网站的链接、Web浏览器、集成开发环境(Anaconda)、Python库。</p><p id="4b57" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Python库；</p><ul class=""><li id="b61a" class="ju jv hi iz b ja jb jd je jg jw jk jx jo jy js jz ka kb kc bi translated">美丽的汤——用于从HTML和XML文件中挖掘数据。</li><li id="b7e8" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">请求——用于在python <strong class="iz hj">中发出HTTP请求。</strong></li><li id="41cc" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">Pandas —用于加载、准备、操作、建模和分析数据。</li></ul><h2 id="1b93" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">如何获得最佳的网页抓取网址</h2><p id="e07b" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">这里有几行由<a class="lu lv ge" href="https://medium.com/u/5be21b6a5212?source=post_page-----fa626e447343--------------------------------" rel="noopener" target="_blank"> Abimbola Smith </a>编写的代码，可以为你的网络抓取获得最好的网址。(<a class="ae lw" href="https://www.linkedin.com/posts/oluwanifemi-o-abimbola_python-dashboards-microsoftpowerbi-activity-6690134048376922112-SiGd" rel="noopener ugc nofollow" target="_blank"> <em class="jt"> Linkedin帖子</em> </a> <em class="jt"> ) </em></p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lx"><img src="../Images/74894718366d610d39025d27a21e8956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l94O0Vex0g9yn0lDPokB0A.jpeg"/></div></div></figure><p id="647a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它利用了python中的Google搜索库，该库可以搜索大量使用某种语言的网站，并返回搜索到的URL。</p><h2 id="1d28" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">实践经验</h2><p id="1325" class="pw-post-body-paragraph ix iy hi iz b ja ld ij jc jd le im jf jg lf ji jj jk lg jm jn jo lh jq jr js hb bi translated">我们将按照以下基本步骤提取数据:</p><p id="975f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1.找到包含要提取的数据的URL。</p><p id="34fe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.查看网站的“robots.txt”。</p><p id="5d17" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.安装并导入必要的库。</p><p id="b15f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.向服务器发送GET请求。</p><p id="c53f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">5.使用漂亮的汤解析html数据。</p><p id="2e7c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">6.编写提取表格的代码。</p><p id="de44" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">7.以某种格式存储数据。</p><p id="43b5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将抓取HTML表以获得用于机器学习研究的数据集列表。</p><p id="07bb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第一步:找到包含您想要提取的数据的URL</strong></p><p id="fb9f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将从“https://en . Wikipedia . org/wiki/List _ of _ datasets _ for _ machine-learning _ research”收集数据</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ly"><img src="../Images/a8d6cac71b54c11108b4e152d2aa8c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJ6NIOh2u6gUdsI2VJF8Vg.jpeg"/></div></div></figure><p id="b57e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第二步:查看网站</strong>的“robots.txt”</p><p id="eef9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在抓取一个网站之前，先看看它的robots.txt，这个告诉我们网站是否允许抓取。要获取robots.txt，请将“/robots.txt”追加到统一资源定位器(URL)中。</p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="489e" class="ki kj hi ma b fi me mf l mg mh">If the robots.txt looks like this, the<!-- -->n you are good to go<!-- -->:</span><span id="313b" class="ki kj hi ma b fi mi mf l mg mh">User-agent: *</span><span id="62a7" class="ki kj hi ma b fi mi mf l mg mh">Disallow:</span><span id="bf4d" class="ki kj hi ma b fi mi mf l mg mh">If the robots.txt blocks all access, it’ll look like this:</span><span id="1d60" class="ki kj hi ma b fi mi mf l mg mh">User-agent: *</span><span id="bca4" class="ki kj hi ma b fi mi mf l mg mh">Disallow: /</span></pre><blockquote class="mj mk ml"><p id="c42e" class="ix iy jt iz b ja jb ij jc jd je im jf mm jh ji jj mn jl jm jn mo jp jq jr js hb bi translated">有趣的事实:Python有一个名为“用户代理”的库</p></blockquote><p id="35c9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第三步:安装并导入必要的库</strong></p><p id="e82a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你没有这些库，pip安装beautifulsoup4，pandas和requests <em class="jt">(一次一个)</em>。然后导入它们。</p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="84af" class="ki kj hi ma b fi me mf l mg mh">import requests</span><span id="5b9e" class="ki kj hi ma b fi mi mf l mg mh">import pandas as pd</span><span id="7fc4" class="ki kj hi ma b fi mi mf l mg mh">from bs4 import BeautifulSoup</span></pre><p id="4239" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">步骤4:向服务器发送一个GET请求</strong></p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="a69e" class="ki kj hi ma b fi me mf l mg mh">URL = ‘https://en.wikipedia.org/wiki/List_of_datasets_for_machine-learning_research'</span><span id="43d8" class="ki kj hi ma b fi mi mf l mg mh">response = requests.get(URL)</span></pre><p id="43b6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第五步:使用美汤解析HTML数据</strong></p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="eab0" class="ki kj hi ma b fi me mf l mg mh">soup = BeautifulSoup(response.text,”html.parser”)</span><span id="9bb9" class="ki kj hi ma b fi mi mf l mg mh">soup.title.text #will display the title of the webpage</span></pre><p id="6742" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第六步:</strong> <strong class="iz hj">写代码提取表</strong></p><p id="0c97" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">检查表格并使用<strong class="iz hj">查找</strong>功能提取用于通过选择类中的文本“sortable”从网页中获取第一个表格。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mp"><img src="../Images/b9e4eda5c8510d26031ce718f874de3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*MoICtwWgXK5Oe_hUiAddaw.jpeg"/></div></div></figure><p id="f2a9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用<tr>标签从表中获取行，使用<th>标签获取标题，使用</th><td>标签获取数据。</td></tr></p><figure class="lj lk ll lm fd ln"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="1b20" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用查看数据帧的前5行；</p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="cec4" class="ki kj hi ma b fi me mf l mg mh">df.head()</span></pre><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ms"><img src="../Images/ab52e252ed20c5928efbc3b4b7efe36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MKZuMLIKBjenimDXgWHWvA.jpeg"/></div></div></figure><p id="7d53" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一行包含空值，因此我们将删除它。</p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="0453" class="ki kj hi ma b fi me mf l mg mh">df = df.dropna()</span></pre><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mt"><img src="../Images/cbb71f7aacfaf93007ced55eb33ac73c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bxfu5GrZfcvfgllPf5XQsw.jpeg"/></div></div></figure><p id="6b6a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">第七步:以某种格式存储数据</strong></p><p id="35d3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以以任何格式存储<strong class="iz hj"> </strong>数据。在本文中，我们将以. csv格式存储数据，命名为“Wikitable.csv”</p><pre class="lj lk ll lm fd lz ma mb mc aw md bi"><span id="d383" class="ki kj hi ma b fi me mf l mg mh">df.to_csv(‘Wikitable.csv’, index=False, encoding=’utf-8')</span></pre><p id="e805" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这样，你成功地抓取了一个网站广告，并以. csv格式存储。恭喜你！！！。</p><h2 id="f411" class="ki kj hi bd kk kl km kn ko kp kq kr ks jg kt ku kv jk kw kx ky jo kz la lb lc bi translated">资源</h2><ol class=""><li id="1b36" class="ju jv hi iz b ja ld jd le jg mu jk mv jo mw js mx ka kb kc bi translated"><a class="ae lw" href="https://www.dataquest.io/blog/web-scraping-beautifulsoup/" rel="noopener ugc nofollow" target="_blank">数据请求</a></li><li id="90fd" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js mx ka kb kc bi translated"><a class="ae lw" href="https://www.edureka.co/blog/web-scraping-with-python/" rel="noopener ugc nofollow" target="_blank">爱德华卡</a></li></ol><p id="1ae9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有一个<a class="ae lw" href="https://github.com/KemmieKemy/Web-Scraping/blob/master/Web%20Scraper%20-%20Wikitable.ipynb" rel="noopener ugc nofollow" target="_blank">链接</a>到Github上的代码。</p><p id="1788" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望你喜欢这篇文章，如果你在遵循这些步骤的过程中遇到任何挑战，你可以在Twitter上直接给我发消息，或者在回复部分发表评论。</p></div></div>    
</body>
</html>