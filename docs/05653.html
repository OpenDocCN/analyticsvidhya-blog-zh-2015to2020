<html>
<head>
<title>How to Make Better Looking Charts in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python制作更好看的图表</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-to-make-better-looking-charts-in-python-81058bd37ac3?source=collection_archive---------3-----------------------#2020-04-28">https://medium.com/analytics-vidhya/how-to-make-better-looking-charts-in-python-81058bd37ac3?source=collection_archive---------3-----------------------#2020-04-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d80c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了<strong class="ih hj"> <em class="jd"> matplotlib </em> </strong>和<strong class="ih hj"> <em class="jd"> seaborn </em> </strong>库，用Python制作图表很容易，但是默认设置会导致图表看起来很难看。如果您只是出于自己的目的需要图表，这可能不是问题，但是如果您打算共享它，您可能希望改进它的外观，使它更容易解释。</p><p id="39ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以通过一些简单的更改来改善图表的外观。然而，对于那些刚接触编码/python的人来说，文档可能会让人不知所措，而且通常不清楚在图表代码中添加各种代码片段的位置。在这篇文章中，我将一步一步地展示一个简单的例子，说明我是如何改进默认条形图的:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/849ad33b954fcce650389dc9efc6227e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*Gv8kFk2wBWq-mtrQ-ekA2Q.png"/></div></figure><p id="b8b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…对此:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/79c949cebbd642a500903dd6a120218c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XMA2rXCj3rBerBTK_-JWhg.png"/></div></div></figure><p id="b09a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们导入库并创建一些虚拟数据来创建图表。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="1328" class="jw jx hi js b fi jy jz l ka kb"># import libraries<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="07c7" class="jw jx hi js b fi kc jz l ka kb"># create and view data<br/>severity = ["High", "Medium", "Low"]<br/>freq = [10, 25, 50]<br/>data = pd.DataFrame(list(zip(severity, freq)), <br/>               columns =['severity', 'freq'])<br/>data</span></pre><p id="9bea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们有一个包含2列3行的数据框，显示每个严重级别(高、中、低)的事故数量:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kd"><img src="../Images/c4b093657611776148469cc0da25ede6.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*8-cygAAhOg42rqKOaC8qqQ.png"/></div></figure><h1 id="ff7c" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">默认图</h1><p id="eb70" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">仅使用matplotlib库，我们就可以用下面一行简单的代码创建一个条形图:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="9510" class="jw jx hi js b fi jy jz l ka kb"># default matplotlib bar plot<br/>data.plot.bar(x="severity", y="freq")</span></pre><p id="e57b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…但是看起来不太好:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lg"><img src="../Images/0e19313917ea0d508beaa7077cf74398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*psRQ6ZhxkGw8W4Styg17Xg.png"/></div></div></figure><p id="cfc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它在图表上方输出我们不想要的文本("<em class="jd">&lt;matplotlib . axes . _ subplots)。AxesSubplot在0x1045f02e8 &gt; </em>"，x轴刻度标签是垂直的，就是看起来不太专业。</p><p id="a9af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">seaborn默认设置看起来稍微好一点:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="5797" class="jw jx hi js b fi jy jz l ka kb"># default seaborn bar plot<br/>sns.barplot(data=data, x="severity", y="freq")</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lh"><img src="../Images/d85209df007c4afdb600d5112bf0683c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cHDQl-aApIBIYW3owkZ-aQ.png"/></div></div></figure><p id="cfb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这也会在绘图上方显示不需要的文本，但至少x轴刻度标签是水平的，因此更容易阅读。尽管如此，还有很多可以改进的地方。</p><h1 id="eb7a" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">删除不需要的文本</h1><p id="e5f8" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">要删除绘图上方不需要的文本，请在代码末尾添加一个分号。这适用于matplotlib和seaborn地块。从这一点上，我们将致力于改善seaborn情节。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="4881" class="jw jx hi js b fi jy jz l ka kb"># without the matplotlib text<br/>sns.barplot(data=data, x="severity", y="freq")<strong class="js hj">;</strong></span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/e8db698b347849a26f47efbc4a29df90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*L-7pGp3VmQRutSQoyahvWQ.png"/></div></figure><h1 id="f10d" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">更改轴标签</h1><p id="f73c" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">接下来，让我们使用<code class="du lj lk ll js b">plt.xlabel()</code>和<code class="du lj lk ll js b">plt.ylabel()</code>将轴标签更改为“事故严重性”和“事故数量”。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="2895" class="jw jx hi js b fi jy jz l ka kb"># change the axis labels<br/>sns.barplot(data=data, x="severity", y="freq")<br/><strong class="js hj">plt.xlabel('Accident Severity')<br/>plt.ylabel('Number of Accidents')</strong>;</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lm"><img src="../Images/d93b41c83c926d3de834f36f20cc846d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*M7-V_pxMrcCeyVdEMKqX3Q.png"/></div></figure><h1 id="75f5" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">添加标题</h1><p id="1812" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">目前还不清楚图表是关于什么的，所以让我们用<code class="du lj lk ll js b">plt.title()</code>添加一个标题。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="a374" class="jw jx hi js b fi jy jz l ka kb"># add a title<br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('Accident Severity')<br/>plt.ylabel('Number of Accidents')<br/><strong class="js hj">plt.title('Number of Accidents By Severity')</strong>;</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lm"><img src="../Images/6ac000634237cdc73b19897b2adcb012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*TA-dLUVec4WM0JH8kJHGbw.png"/></div></figure><h1 id="e121" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">移除X轴标签</h1><p id="d722" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">现在我们有了一个标题，x轴标签实际上并不需要。当混乱减少时，图表看起来更好。因此，让我们通过删除引号中的文本来删除x轴标签。如果我们只是删除了整个<code class="du lj lk ll js b">plt.xlabel()</code>行，那么matplotlib将显示映射到x轴的dataframe列的名称(“severity”)，这不是我们想要的。因此，我们使用<code class="du lj lk ll js b">plt.xlabel(‘’)</code>。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="a91c" class="jw jx hi js b fi jy jz l ka kb"># remove x axis label<br/>sns.barplot(data=data, x="severity", y="freq")<br/><strong class="js hj">plt.xlabel('')</strong><br/>plt.ylabel('Number of Accidents')<br/>plt.title('Number of Accidents By Severity');</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lm"><img src="../Images/d7881d184d12cde673b4604347761b10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*vxp8Y5vSF8xbv4BZ5RGxzg.png"/></div></figure><h1 id="32a7" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">移除顶部和右边框</h1><p id="04fd" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">移除边框的顶部和右侧也有助于减少混乱，并使图表看起来更“干净”和更现代。这可以通过像这样的<code class="du lj lk ll js b">sns.despine()</code>来完成:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="8920" class="jw jx hi js b fi jy jz l ka kb"># remove top and right border<br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents')<br/>plt.title('Number of Accidents By Severity')<br/><strong class="js hj">sns.despine()</strong>;</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ln"><img src="../Images/821079dd1da9ddc28ba31a1df50d02d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*FpBHRYLmOHdhhXFd7SmCvw.png"/></div></figure><h1 id="db47" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">移除左边框</h1><p id="21bc" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">我们可以更进一步，也删除左边的边界(y轴)。这种方法可以使图表看起来更好，目前被许多出版物使用，例如《金融时报》。可以通过在<code class="du lj lk ll js b">sns.despine()</code>中添加<code class="du lj lk ll js b">left=True</code>来移除y轴边框，如下所示:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="290a" class="jw jx hi js b fi jy jz l ka kb"># remove left border<br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents')<br/>plt.title('Number of Accidents By Severity')<br/>sns.despine(<strong class="js hj">left=True</strong>);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/91dfc55107d355021464cb15fb6cb59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*R1fF_eCIuGywfPF4G9JYoA.png"/></div></figure><h1 id="d6ce" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">添加水平网格线</h1><p id="e9ba" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">这看起来不太对，因为我们已经删除了y轴线，因为图表没有任何网格线。让我们添加水平网格线，这样更容易看到每个条形的值。这可以通过像这样添加<code class="du lj lk ll js b">sns.set(style=”whitegrid”)</code>来实现:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="1302" class="jw jx hi js b fi jy jz l ka kb"># add horizontal grid lines to the background<br/><strong class="js hj">sns.set(style="whitegrid")</strong><br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents')<br/>plt.title('Number of Accidents By Severity')<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lm"><img src="../Images/d0f6eb5f9ba156dff6794e15aa047d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*UVENPtjsIAGat1gXxDWuGA.png"/></div></figure><h1 id="ccbd" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">放大标题和轴标签</h1><p id="597c" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">为了使标题和轴标签更容易阅读，让我们通过在<code class="du lj lk ll js b">plt.ylabel()</code>和<code class="du lj lk ll js b">plt.title()</code>中的参数列表中添加<code class="du lj lk ll js b">, size=18</code>来使它们变大:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="bbef" class="jw jx hi js b fi jy jz l ka kb"># Make the title and axis labels bigger<br/>sns.set(style="whitegrid")<br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents'<strong class="js hj">, size=18</strong>)<br/>plt.title('Number of Accidents By Severity'<strong class="js hj">, size=18</strong>)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lo"><img src="../Images/1827d5551b871edf0ac2e6aa0b1953dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*4NcnU87l8e-gPcK7FkD3JQ.png"/></div></figure><h1 id="6f86" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">放大轴刻度标签</h1><p id="cd7c" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">让我们也增加轴刻度标签的大小。这可以通过像这样的<code class="du lj lk ll js b">plt.xticks</code>和<code class="du lj lk ll js b">plt.yticks()</code>来完成:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="a32a" class="jw jx hi js b fi jy jz l ka kb"># Make the axis tick labels bigger<br/>sns.set(style="whitegrid")<br/>sns.barplot(data=data, x="severity", y="freq")<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18)<br/>plt.title('Number of Accidents By Severity', size=18)<br/><strong class="js hj">plt.xticks(size=14)<br/>plt.yticks(size=14)</strong><br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lp"><img src="../Images/2d9625f06917b28ae8efcd3692f44398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*Auc46tUrPJJjU3wr95LGfg.png"/></div></figure><h1 id="2e3f" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">改变条形的颜色</h1><p id="e6da" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">如果条形的颜色有意义，代表严重程度，那就更好了。让我们使用<code class="du lj lk ll js b">sns.barplot()</code>中的<code class="du lj lk ll js b">palette</code>参数将颜色更改为红色、橙色和黄色。</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="9590" class="jw jx hi js b fi jy jz l ka kb"># Change the colours of the bars<br/>sns.set(style="whitegrid")<br/>sns.barplot(data=data, x="severity", y="freq", <strong class="js hj">palette=['red', 'orange', 'yellow']</strong>)<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18)<br/>plt.title('Number of Accidents By Severity', size=18)<br/>plt.xticks(size=14)<br/>plt.yticks(size=14)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lp"><img src="../Images/c3c769cee1a1b1fe92aab8fd108ab6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*oFauxeFW_5kfmtJemOuxMw.png"/></div></figure><p id="e6cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个更好，但是那些颜色的深浅伤了我的眼睛！</p><p id="fa68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我倾向于在使用在线颜色选择器工具选择特定颜色后，使用十六进制值定义颜色(只需谷歌“颜色选择器”，第一个结果会显示一个工具)。您可以将光标滑动到您想要的颜色和阴影，并将十六进制值复制粘贴到您的代码中。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lq"><img src="../Images/834cbcd15dfdf4fbcbde8832e335b0bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPnzJpavJwpTa0SeiEmJNQ.png"/></div></div></figure><p id="33e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是我用我想要的色度的十六进制值替换颜色名称后的更新代码:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="cb2a" class="jw jx hi js b fi jy jz l ka kb"># Change the colours of the bars<br/>sns.set(style="whitegrid")<br/>sns.barplot(data=data, x="severity", y="freq", palette=['<strong class="js hj">#eb3434', '#eb7a34', '#ebae34'</strong>])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18)<br/>plt.title('Number of Accidents By Severity', size=18)<br/>plt.xticks(size=14)<br/>plt.yticks(size=14)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lr"><img src="../Images/a9e1a79494fe62a3c7c0e3b92a3bd1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*BlYWUX7KoYmOASbVV3Pj2g.png"/></div></figure><p id="b099" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">啊…这样看起来更舒服！</p><h1 id="ce2b" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">增加图表的清晰度</h1><p id="eada" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">目前图表的分辨率看起来有点低。为了提高图表的清晰度，我们可以用<code class="du lj lk ll js b">plt.rcParams[‘figure.dpi’] = 360</code>定义图表显示的“每英寸点数”</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="92e9" class="jw jx hi js b fi jy jz l ka kb"># Increase the sharpness of the display<br/><strong class="js hj">plt.rcParams['figure.dpi'] = 360</strong><br/>sns.set(style="whitegrid")<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18)<br/>plt.title('Number of Accidents By Severity', size=18)<br/>plt.xticks(size=14)<br/>plt.yticks(size=14)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ls"><img src="../Images/76599ba77bfb7f3c3056e3268a8cccb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOU_TmG4xhcNzTfDp57_MA.png"/></div></div></figure><p id="7c53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样看起来好多了！不过现在有点太大了。</p><h1 id="9e9c" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">更改图表的大小</h1><p id="6205" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">要改变图表的尺寸，在<code class="du lj lk ll js b">fig, ax = plt.subplots(figsize=())</code>中定义宽度和高度。我将尺寸设置为宽度12，高度4，如下所示:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="09fb" class="jw jx hi js b fi jy jz l ka kb"># change the size of the plot<br/>plt.rcParams['figure.dpi'] = 360<br/>sns.set(style="whitegrid")</span><span id="bada" class="jw jx hi js b fi kc jz l ka kb"><strong class="js hj">fig, ax = plt.subplots(figsize=(12,4))</strong><br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18)<br/>plt.title('Number of Accidents By Severity', size=18)<br/>plt.xticks(size=14)<br/>plt.yticks(size=14)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lt"><img src="../Images/57964804471df2a4e55414b33ef32091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5aksFMtm9qawElEMRy3MIA.png"/></div></div></figure><h1 id="aeef" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">更改标题、轴标签和刻度标签的颜色</h1><p id="1b70" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">比起纯黑色，我更喜欢深灰色的文本，所以我用谷歌的拾色器选择了我喜欢的深灰色，并使用<code class="du lj lk ll js b">plt.ylabel()</code>、<code class="du lj lk ll js b">plt.title(),</code>、<code class="du lj lk ll js b">plt.xticks()</code>和<code class="du lj lk ll js b">plt.yticks()</code>中的<code class="du lj lk ll js b">color</code>参数将颜色改为`#4f4e4e `,如下所示:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="b57b" class="jw jx hi js b fi jy jz l ka kb"># change the colour of the title, axis labels and tick labels<br/>plt.rcParams['figure.dpi'] = 360<br/>sns.set(style="whitegrid")</span><span id="c9cb" class="jw jx hi js b fi kc jz l ka kb">fig, ax = plt.subplots(figsize=(12,4))<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18<strong class="js hj">, color='#4f4e4e'</strong>)<br/>plt.title('Number of Accidents By Severity', size=18<strong class="js hj">, color='#4f4e4e'</strong>)<br/>plt.xticks(size=14<strong class="js hj">, color='#4f4e4e'</strong>)<br/>plt.yticks(size=14<strong class="js hj">, color='#4f4e4e'</strong>)<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lu"><img src="../Images/b987d0a373f4fefc97423253e46d01b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqR85WPcoDaqdf-v8kkYPg.png"/></div></div></figure><h1 id="cfa0" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">添加文本注释</h1><p id="36d2" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">向图表添加文本注释通常有助于读者理解图表所提供的关键见解。或者，当你不在的时候，当人们看着图表时，你需要传达一些关于图表的重要信息。在这个图表中并不真的需要，但是让我们添加一个作为例子，这样你就知道怎么做了。可以像这样使用<code class="du lj lk ll js b">plt.text()</code>来完成:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="a5b5" class="jw jx hi js b fi jy jz l ka kb"># Add a text annotation<br/>plt.rcParams['figure.dpi'] = 360<br/>sns.set(style="whitegrid")</span><span id="9991" class="jw jx hi js b fi kc jz l ka kb">fig, ax = plt.subplots(figsize=(12,4))<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18, color='#4f4e4e')<br/>plt.title('Number of Accidents By Severity', size=18, color='#4f4e4e')<br/>plt.xticks(size=14, color='#4f4e4e')<br/>plt.yticks(size=14, color='#4f4e4e')<br/><strong class="js hj">plt.text(x=1, y=48, s='Most accidents were low severity', <br/>                 color='#4f4e4e', fontsize=12, horizontalalignment='center')</strong><br/>sns.despine(left=True);</span></pre><p id="41b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">知道为你的文本设置什么样的x和y坐标通常是很棘手的。我只是输入一些数字，然后通过反复试验来改变它们，直到文本被放置在我想要的位置。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lu"><img src="../Images/200d38e246beb99b5b2ff8f07d8b02ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMH_uhhCKgUsl-2yrEQP4w.png"/></div></div></figure><h1 id="b14a" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">添加数据标签</h1><p id="914d" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">此时，如果查看图表的人想知道有多少起事故属于中等严重程度，他们必须在横条和y轴之间画一条线，然后猜测数值是多少。这在这张图上相对容易，但在其他图上可能更难。一个好的图表不会让读者努力从中获取信息。让读者更容易理解的一种方法是添加数据标签，这样值是什么就一目了然了。</p><p id="f770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:如果图表上有很多条形，这可能不是一个好主意，因为它可能会看起来太杂乱。在这种情况下，最好只为“标题”条形图添加数据标签，例如最大和最小的条形图，或者您在分析中关注的条形图(例如，如果条形图显示您的团队与其他团队相比的销售额，则您可能希望为代表您的团队的条形图添加数据标签)。</p><p id="d064" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以像这样使用<code class="du lj lk ll js b">plt.text()</code>添加数据标签:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="b0eb" class="jw jx hi js b fi jy jz l ka kb"># Add data labels<br/>plt.rcParams['figure.dpi'] = 360<br/>sns.set(style="whitegrid")</span><span id="6aa2" class="jw jx hi js b fi kc jz l ka kb">fig, ax = plt.subplots(figsize=(12,4))<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('Number of Accidents', size=18, color='#4f4e4e')<br/>plt.title('Number of Accidents By Severity', size=18, color='#4f4e4e')<br/>plt.xticks(size=14, color='#4f4e4e')<br/>plt.yticks(size=14, color='#4f4e4e')<br/>plt.text(x=1, y=48, s='Most accidents were low severity', <br/>                 color='#4f4e4e', fontsize=12, horizontalalignment='center')<br/><strong class="js hj">plt.text(x=0, y=2, s="10", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=1, y=2, s="25", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=2, y=2, s="50", <br/>                 color='white', fontsize=18, horizontalalignment='center')</strong><br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es lu"><img src="../Images/d0df900736a81122a786fc3f1a362274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e95G4hBSi7qi6HhfeNZ3hQ.png"/></div></div></figure><h1 id="1a4c" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">移除Y轴刻度标签</h1><p id="8c64" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">现在我们有了所有3个条形的数据标签，y轴有些多余，所以让我们删除它。我们需要删除y轴标签，y轴刻度标签，以及背景网格线。</p><ul class=""><li id="7619" class="lv lw hi ih b ii ij im in iq lx iu ly iy lz jc ma mb mc md bi translated">通过将<code class="du lj lk ll js b">plt.ylabel()</code>设置为空字符串，可以移除y轴标签</li><li id="1592" class="lv lw hi ih b ii me im mf iq mg iu mh iy mi jc ma mb mc md bi translated">通过将<code class="du lj lk ll js b">plt.yticks()</code>设置为两个空列表，可以移除y轴刻度标签，如下:<code class="du lj lk ll js b">plt.yticks([],[])</code></li><li id="f33e" class="lv lw hi ih b ii me im mf iq mg iu mh iy mi jc ma mb mc md bi translated">如果不再显示y轴，我们将不再需要背景网格线。上述更改将自动删除网格线，但您可能希望删除代码的<code class="du lj lk ll js b">sns.set(style=”whitegrid”)</code>行，以保持代码整洁。我刚刚在这里注释了它。</li></ul><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="71b1" class="jw jx hi js b fi jy jz l ka kb"># Remove y axis tick labels and y axis label<br/>plt.rcParams['figure.dpi'] = 360<br/><strong class="js hj">#sns.set(style="whitegrid")</strong></span><span id="157f" class="jw jx hi js b fi kc jz l ka kb">fig, ax = plt.subplots(figsize=(12,4))<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/><strong class="js hj">plt.ylabel('')</strong><br/>plt.title('Number of Accidents By Severity', size=18, color='#4f4e4e')<br/>plt.xticks(size=14, color='#4f4e4e')<br/><strong class="js hj">plt.yticks([], [])</strong><br/>plt.text(x=1, y=48, s='Most accidents were low severity', <br/>                 color='#4f4e4e', fontsize=12, horizontalalignment='center')<br/>plt.text(x=0, y=2, s="10", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=1, y=2, s="25", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=2, y=2, s="50", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>sns.despine(left=True);</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es mj"><img src="../Images/0895c16f0297fe52fa4ead05fc552bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9i0DEYqZ-SYP_jbJNR_3A.png"/></div></div></figure><h1 id="c65e" class="ke jx hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">将图表保存为图像</h1><p id="3d4a" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">就是这样！我们现在有了一个更专业、更整洁、更易读的图表，可以与他人分享。</p><p id="f748" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您想在另一个应用程序(如Powerpoint)中使用该图表，那么您可能希望使用<code class="du lj lk ll js b">plt.savefig() </code>将其保存为图像，如下所示:</p><pre class="jf jg jh ji fd jr js jt ju aw jv bi"><span id="b8dd" class="jw jx hi js b fi jy jz l ka kb"># save your chart as an image<br/>plt.rcParams['figure.dpi'] = 360<br/>#sns.set(style="whitegrid")</span><span id="1fd9" class="jw jx hi js b fi kc jz l ka kb">fig, ax = plt.subplots(figsize=(12,4))<br/>sns.barplot(data=data, x="severity", y="freq", palette=['#eb3434', '#eb7a34', '#ebae34'])<br/>plt.xlabel('')<br/>plt.ylabel('')<br/>plt.title('Number of Accidents By Severity', size=18, color='#4f4e4e')<br/>plt.xticks(size=14, color='#4f4e4e')<br/>plt.yticks([], [])<br/>plt.text(x=1, y=48, s='Most accidents were low severity', <br/>                 color='#4f4e4e', fontsize=12, horizontalalignment='center')<br/>plt.text(x=0, y=2, s="10", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=1, y=2, s="25", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>plt.text(x=2, y=2, s="50", <br/>                 color='white', fontsize=18, horizontalalignment='center')<br/>sns.despine(left=True)</span><span id="9e1d" class="jw jx hi js b fi kc jz l ka kb"><strong class="js hj">plt.savefig('accidents.png')</strong>;</span></pre><p id="17a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以调整图表的更多方面，当然还有许多不同类型的图表，但希望这足以让你开始。我建议尝试一下图表设置，也可以看看一些经常包含图表的流行专业出版物，以获得一些灵感。下面是一些启发我的地方的链接。</p><ul class=""><li id="f7b8" class="lv lw hi ih b ii ij im in iq lx iu ly iy lz jc ma mb mc md bi translated">金融时报——例如他们的<a class="ae mk" href="https://www.ft.com/coronavirus-latest" rel="noopener ugc nofollow" target="_blank">冠状病毒图表</a></li><li id="f092" class="lv lw hi ih b ii me im mf iq mg iu mh iy mi jc ma mb mc md bi translated">英国广播公司——例如<a class="ae mk" href="https://www.bbc.co.uk/news/election-2019-50770798" rel="noopener ugc nofollow" target="_blank"> 2019年英国大选结果</a></li><li id="83e8" class="lv lw hi ih b ii me im mf iq mg iu mh iy mi jc ma mb mc md bi translated">唐纳德·特朗普有多受欢迎？</li></ul></div></div>    
</body>
</html>