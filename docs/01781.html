<html>
<head>
<title>Olympic Data Dump: Exploring the statistics with MySQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奥运数据转储:用MySQL探索统计数据</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/olympic-data-dump-dde49720e372?source=collection_archive---------8-----------------------#2019-11-13">https://medium.com/analytics-vidhya/olympic-data-dump-dde49720e372?source=collection_archive---------8-----------------------#2019-11-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/7625e9edf9441c566c9c4d410bfb47cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*_fqKW5oA78aW8aAjkI4PTg.jpeg"/></div></figure><p id="6db8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这个博客中，我将展示一些初级的MySQL技巧，我有一个奥运统计的数据集。通常，我会以一个问题开始一篇博文，并试图通过梳理数据来回答这个问题。这一次，主要是因为我想展示如何使用MySQL查询，我将询问几个关于数据的小问题，然后编写一些代码来尝试看看我们是否能回答它。我认为这个奥运数据集很有趣，所以我们应该能够找出一些有趣的分组和聚合。</p><p id="05e1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我在亚马逊的AWS上创建了一个数据库。这是我第一次创建一个，我发现它非常简单。我选择MySQL作为数据库引擎。这里有一些我的计算机利用率的快照，我上传或pic数据库的信息，另一张是我登录数据库的次数。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/3d4cddce2c5076dc64d3e7e3ba59bc36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nQzoEwmOQVvM6XH-CRMCSw.png"/></div></div></figure><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/b910956e99f70b024f01bba23f0c39cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kl3SZQUXo6QcxcZJS4n1Ug.png"/></div></div></figure><p id="5f99" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们来看一下我们将使用的奥林匹克CSV文件的快照:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ju"><img src="../Images/4c7bb539597c61dd74801172c4e7d477.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_yobpEe67PgmO9IT1l2TA.png"/></div></div></figure><p id="ccff" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我将CSV文件添加到服务器，并运行一个查询来显示表格，这样我就知道我成功地传输了它。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jv"><img src="../Images/de1152c8a108955413e50978f19d9d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*enNZJnztHozrSO12HZvDsw.png"/></div></div></figure><p id="cf03" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">成功！</p><p id="3400" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个CSV文件有271，116行数据，我们应该仔细检查服务器上是否还有同样多的数据。我们可以用这个来验证:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jw"><img src="../Images/068024f4eb23ff79dd2110959665eb97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*59FEx4xOxXHpeBBnEp-m3A.png"/></div></div></figure><p id="d11c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">是的，我们已经准备好开始在数据集上运行一些查询了！</p><p id="eab6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，让我们看看“团队”一栏，看看我们有什么样的国家。</p><p id="1521" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这很奇怪，到底什么是海狗-2，为什么它被列为一个国家。这些数据可以追溯到19世纪，所以我打赌有很多数据需要清理。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jx"><img src="../Images/c74f4dfe138d4eef268f4d7785d9a1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*iAC_serfcKmOgNGCcUEMVg.png"/></div></figure><p id="c30a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我将运行一个查询来查看每届奥运会有多少个不同的团队参加。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/79d792c72f0a1dd392cf33abaf1dea7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*stvjCvRB51A4sqZzYvu0aA.png"/></div></figure><p id="3ac2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">看起来只有18支队伍参加了1896年的奥运会，而且随着时间的推移，这个数字还在稳步增长。这些年有一些大的峰值。例如，1932年奥运会有72个国家或“队”,而在1936年这一数字跃升至132个——显著增加！大约在这个时候，世界陷入了很多混乱，导致第二次世界大战，我想知道这是否对奥运会的投票率有任何影响？在谷歌上快速搜索1936年奥运会可以发现，“纳粹德国利用1936年奥运会进行宣传。纳粹宣传了一个新的、强大的、统一的德国的形象。</p><p id="2ec3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在“体育”一栏，我注意到有许多不同的体育实例，其中一些我从未听说过。我将把它放在自己的数据框中，稍后在Tableau中进行可视化，但下面是我为获取此信息而运行的查询:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/01e653d5c31c579c27a8ebd47c1f3662.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*p1khWs1Dq3hLSB0NEeI8WA.png"/></div></figure><p id="2771" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们来看看这些年来运动项目的数量是如何变化的。这是我做的一张快照，展示了1980年后的几年以及那一年举办的活动数量。例如，你可以看到在1984年奥运会上有213场篮球比赛。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/2509128670eeac469de1895eeda6a996.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*35PeBVQICTUn11cEBSe_Gw.png"/></div></figure><p id="fd02" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我只是修改了上面的代码，以返回1900年以来所有奥运会的篮球比赛次数。我们可以插入任何我们想要的运动，看看哪一项运动在奥运会期间最受欢迎。看起来篮球从一开始就没有那么多项目。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/b80c9d880fac23948085b12f071507a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*NgT2OHEEf32AsXSroJtoYA.png"/></div></figure><p id="4a1e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我对性别和年份进行了分组。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/302ea1d1d90f3ce0275102a8080cdb82.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*EcPdfGJ8IsneG3MERU5dRA.png"/></div></figure><p id="a51b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们来分别看男性和女性。我将把这两者放入一个数据框架，并在最后做一些可视化，因为我认为这是一个有趣的视觉效果，尤其是女性参与者的变化。</p><p id="fc6a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">男性:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/8c202e1f9d9bc0b0d8bbf051ff0186d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*HJQ1ABkJKB9FbgyhESRTDA.png"/></div></figure><p id="8a18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">女性:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ke"><img src="../Images/677552752ae00f026555767da7020f42.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*Bet5m5KT_Zpe6pOK9iY3GQ.png"/></div></figure><p id="ca4c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里我们可以看到奥运会在哪一年举行:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/60913d5f72853b7bacb62d38ad26c7bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*2tLunllODOQWYYi-37rMgQ.png"/></div></figure><p id="1f39" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们快速看一下所有参赛者的平均年龄:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/7d3216fc8e947c999929ba6a71dc9b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*6VwDtAJ5QDdFbZoBHAcvRg.png"/></div></figure><p id="b5e3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">平均年龄比我想的要小一点，我想30岁应该是平均年龄。然而，这确实符合谷歌所说的“男女运动员的巅峰运动年龄”，即“一般来说，运动员在26岁左右开始出现体能下降”</p><p id="8369" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">以下是所有参赛者的平均体重:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/69e659261fa118de46f29dca159e8725.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*jVAc8DQA8ZXxXQrhO7jRXg.png"/></div></figure><p id="b00f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是以千克为单位的，所以这意味着一名奥运会选手的平均体重大约是155磅。这听起来可信。</p><p id="d19a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">以下是所有参赛者的平均身高:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/53e2911c2cbf3fb5f9172f24db0e0722.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*YxovM8rvI8g_mZJEp6UFEg.png"/></div></figure><p id="5fbf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个数字的单位是厘米，所以175厘米=大约5英尺7英寸，这听起来也是可信的。</p><p id="3c4d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，我们有每年的平均身高，以及它随时间的变化:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/4f0dda56f5d8855405edfd09e17b8032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*974EasA-E0pzi4DI-4daiA.png"/></div></figure><p id="750b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我想仔细看看每届奥运会的奖牌数。我不得不过滤掉一些“NaN”列，但是我能够使用这个查询得到想要的结果:</p><p id="3d81" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，我想看看身高对金牌、银牌和铜牌数量的影响。我对这些问题进行了研究，直到我找到了中间点，大约50%的参赛者获得的金牌低于X身高，而50%的参赛者获得的奖牌高于X身高。</p><p id="5d34" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我发现178厘米(5英尺8英寸)是所有类别奖牌的中点，略高于所有奥运选手的平均身高。以下是我使用的一个查询示例:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kk"><img src="../Images/c677091df8470bf3477983be1180044d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9dRvIcJhmX8jm5DgB70Vg.png"/></div></div></figure><p id="25ba" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里有一些图表，可以更好地形象化我在这个过程中发现的一些结果:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kl"><img src="../Images/9476c23bb77fdb89fc59790176347802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tDI3EJaL2elgQPSN2ckQag.png"/></div></div></figure><p id="cb31" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这张照片显示了男女奥运选手的变化。注意从1990年开始的之字形效应，这是我的数据集开始跟踪Winer和Summer Olympics的地方。夏季奥运会有更多的竞争对手，这就是如此剧烈波动的原因。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es km"><img src="../Images/c4aa6642d4f65ee41da5790d25c93dcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlC8LLansZJZjhSHeqQG1w.png"/></div></div></figure><p id="51b7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这张图片是一年来的平均身高。它没有我希望的那么有趣，这意味着它的最高和最低高度只有大约4厘米的差异。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kl"><img src="../Images/906f91a877fe2fd51cc67404c51f3e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*00K1HTyiT7I0qbLcvSdiwQ.png"/></div></div></figure><p id="74ad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这张图描绘了奥运会篮球和曲棍球项目随着时间的增加/减少。曲棍球似乎在上升，而篮球在过去几十年里保持相对稳定。</p><p id="d530" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">结论:</strong></p><p id="1719" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">似乎男女运动员在奥运会上的竞争越来越多。与此同时，平均身高似乎也随着时间的推移而增加。我认为这个数据集可以回答更多的问题，尤其是非常有针对性的分组。例如，我们可以将参加游泳项目的女性的平均身高作为目标，并将其与参加滑冰项目的女性身高进行比较。随着我的SQL查询技能的提高，我希望能够解决这样的细节问题。就目前而言，我认为这给了其他SQL初学者一个很好的起点，并且在研究了这个数据集之后，我对SQL感觉更舒服了。</p><p id="efaa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">偏差:</strong></p><p id="b270" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">据我所知，这个数据没有偏见。</p></div></div>    
</body>
</html>