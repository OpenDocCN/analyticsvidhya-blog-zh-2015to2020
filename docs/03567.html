<html>
<head>
<title>Automate Code quality with Pyspark and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Pyspark和Python自动化代码质量</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automate-code-quality-with-pyspark-and-python-1b3948094f01?source=collection_archive---------4-----------------------#2020-02-08">https://medium.com/analytics-vidhya/automate-code-quality-with-pyspark-and-python-1b3948094f01?source=collection_archive---------4-----------------------#2020-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="76c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我在火花深潜系列中的一个故事。</p><p id="18f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/@somanathsankaran">https://medium.com/@somanathsankaran</a></p><p id="fb47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨，这是软件开发中的一个重要模块。<strong class="ih hj">如果你是一名用Jupyter noteboook开发代码并将其保存为python脚本的开发者，我希望你继续写这篇博客。</strong>python开发人员的一个常见问题是维护PEP-8标准。</p><p id="f19b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在本模块中，让我们考虑下载一个Jupyter笔记本并自动清理代码(对于可用的python包，这并不奇怪)。</p><p id="ffdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对此有帮助的工具或模块有</p><ol class=""><li id="5fad" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">皮林特</li><li id="ccda" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">黑色</li></ol><p id="ad17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">皮林特:</p><p id="f15a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据官方文档，Pylint是一个Python静态代码分析工具，它寻找编程错误，帮助执行编码标准，嗅探代码气味，并提供简单的重构建议。</p><p id="1741" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">黑色:</p><p id="db1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个工具是python开发者的繁荣，它执行将代码重新格式化为Pip 8标准的乏味任务。</p><p id="8cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:安装Black和Pylint </strong></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/176b8121c29b45aca31e9aa035a3058d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*1C3dlTRCkDJ0nROAzkC7pg.png"/></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ka"><img src="../Images/ea6d3264c2dcb2b8478dec2fe287e414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KV3ETju9_yVQDqhKyXTiKg.png"/></div></div></figure><p id="8a27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:将ipynb转换为py </strong></p><p id="7981" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用UI将ipynb文件转换为py文件，但是如果我们需要自动完成这一部分，我们也可以使用jupyter-nbocnvert将ipynb文件转换为py文件</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kf"><img src="../Images/151b745a8fc173b1ac1fb57005dc1aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9VMsJO-RYlVbXneQqqrCSQ.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">转换为py文件</figcaption></figure><p id="efd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤3:用pylint检查PEP-8标准</strong></p><p id="f872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用pylint <filename>，它会按照PEP-8标准列出所有警告。</filename></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kk"><img src="../Images/a85a92e07f48fa86f72302c3e57fbac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yF0ex8bkG2hN2KjzDqfjww.png"/></div></div></figure><p id="924b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤4:用黑色重新格式化代码</strong></p><p id="8d17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Black将代码重新格式化并保存在同一个文件中。两者都适用</p><p id="ca74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">样本文件或包含py文件的目录</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kl"><img src="../Images/9ebd39b3a0746691d07ec3bbcbca5760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*moOPIjIlW7PuGvks2EjCBQ.png"/></div></figure><p id="def5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤5:使用pylint检查重新格式化的文件</strong></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es km"><img src="../Images/0291ee5d1f1a54c60f05f82cb12a5514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAhrUnykVZvgpKSrCjVBbA.png"/></div></div></figure><p id="57c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:上述警告是由于其他PEP规则</p><p id="d4d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用</p><p id="c21c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，总结一下，如果你是一个懒惰的编码者，并且摆脱了PEP-8的问题，那么将上面的流程自动化为一个脚本，并且可以在CI/CD管道中使用</p><p id="5e9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天就到这里吧！！:)</p><p id="b127" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Github链接:<a class="ae jd" href="https://github.com/SomanathSankaran/spark_medium/tree/master/spark_csv" rel="noopener ugc nofollow" target="_blank">https://github . com/SomanathSankaran/spark _ medium/tree/master/spark _ CSV</a></p><p id="5130" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"/></p><p id="6f47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">学习并让别人学习！！</strong></p></div></div>    
</body>
</html>