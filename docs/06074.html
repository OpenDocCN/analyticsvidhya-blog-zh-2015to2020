<html>
<head>
<title>How to convert .py to .exe file using pyinstaller ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何转换。py to。使用pyinstaller？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/convert-py-to-exe-file-bc8721e318b8?source=collection_archive---------0-----------------------#2020-05-11">https://medium.com/analytics-vidhya/convert-py-to-exe-file-bc8721e318b8?source=collection_archive---------0-----------------------#2020-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/be87fb0866b9adcbb2b89f2d15bb9640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MOzZBg55curhjMMD5eLC3Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自谷歌。</figcaption></figure><p id="2ba5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">什么是exe文件？</p><p id="546e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">exe文件是一种可执行文件格式。它包含一个程序，并且能够作为一个程序在计算机中运行。它不需要执行任何导入语句。只需双击即可运行exe文件。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="04d8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">希望，python已经安装在你的系统里了。使用pip安装PyInstaller。</p><p id="a135" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> pip安装pyinstaller </strong></p><p id="e858" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们开始吧。</p><ol class=""><li id="0c46" class="jz ka hi iw b ix iy jb jc jf kb jj kc jn kd jr ke kf kg kh bi translated">创建一个python文件。打开命令提示符并运行python文件，检查代码是否成功运行，没有任何错误。</li><li id="e47c" class="jz ka hi iw b ix ki jb kj jf kk jj kl jn km jr ke kf kg kh bi translated">创建一个exe文件。</li></ol><ul class=""><li id="ed22" class="jz ka hi iw b ix iy jb jc jf kb jj kc jn kd jr kn kf kg kh bi translated">转到存放。py文件已保存。打开该文件夹中的命令提示符。type<strong class="iw hj">py installer testing . py</strong></li></ul><p id="ddf4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">示例代码:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="fe3e" class="kx ky hi kt b fi kz la l lb lc">import warnings<br/>warnings.filterwarnings("ignore")<br/># It's always good to import warnings<br/>import pandas as pd<br/>print("****************************** Started Execution ******************************")<br/>n1 = input("Enter Name : ")<br/>print("Hello {0} " .format(n1))<br/>print("****************************** Executed Successfully ******************************")<br/>input( " Close to Exit " )</span></pre><p id="eaf6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果代码运行成功，您将在cmd中看到这一点。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/2b314e1874ecaa3579f288158b22a181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*glKaTaACzUDgtDNsnpJHjQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">*成功完成</figcaption></figure><p id="19e3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在去那个文件夹。py文件被放置。您将看到几个新创建文件夹。分布-&gt;测试-&gt;测试</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es le"><img src="../Images/4c984e426b9df32a928de29022c51cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*6heRnl8XVULh-xVqtN39rA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">***打开分发文件夹***</figcaption></figure><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/98dd38bbfedce02207675217e2dba6c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*VSHIPOKbQ4n1WM7duFYNyw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">***打开测试文件夹***</figcaption></figure><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/09acb306d88a424f93224f796d4155b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*jUfHTBQHssKl875W4LNNHw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">***双击测试应用***</figcaption></figure><p id="0e74" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">单击测试应用程序。它将打开一个命令提示符并执行代码。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/2afd489ba70f8f04b1f28b2aaf9bfd1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vxjNWi0cX818YS6LkUgwbw.png"/></div></div></figure><p id="c241" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">pyinstall命令可能会在dist文件夹中创建大量文件。如果你想有一个单一的应用程序文件。</p><p id="fdf9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">运行<strong class="iw hj">py installer—one file testing . py</strong></p><p id="2501" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du li lj lk kt b">--onefile</code></p><blockquote class="ll lm ln"><p id="8dc5" class="iu iv lo iw b ix iy iz ja jb jc jd je lp jg jh ji lq jk jl jm lr jo jp jq jr hb bi translated"><em class="hi">将整个应用程序打包成一个可执行文件。</em></p></blockquote><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="5a01" class="kx ky hi kt b fi kz la l lb lc"># Build the .exe, .app<br/>pyinstaller hello.py<br/><br/># Create only a single file (slower to run, easier to distribute)<br/>pyinstaller hello.py -F<br/><br/># Tell application not to launch console (e.g. PyQt5, GTK+, tkinter GUIs)<br/>pyinstaller hello.py --noconsole<br/><br/># Specify the icon file to use<br/>pyinstaller hello.py --icon=path/to/icon.ico<!-- --> </span></pre></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/4814aad6b86e8d2bcc3a7d0a78d8c40e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8-3VnInWlg76cGtJaZd4Q.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自谷歌。</figcaption></figure><h1 id="2d3f" class="lt ky hi bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">部署时可能出现的错误:</h1><ol class=""><li id="5d52" class="jz ka hi iw b ix mq jb mr jf ms jj mt jn mu jr ke kf kg kh bi translated">ImportError:无法导入所需的依赖项:numpy: <strong class="iw hj">没有名为“numpy.random.common”的模块</strong></li></ol><p id="f2c4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">解决方案1:在python文件中添加以下代码</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="60b4" class="kx ky hi kt b fi kz la l lb lc">import numpy.random.common<br/>import numpy.random.bounded_integers<br/>import numpy.random.entropy</span></pre><p id="0659" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">解决方案2:在pyinstaller命令中隐藏模块。</p><p id="b262" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">py installer-hidden-import = " numpy . random . common "--hidden-import = " numpy . random . bounded _ integers "--hidden-import = " numpy . random . entropy " testing . py</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="1abe" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2.输出提示立即关闭。</p><p id="72ba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">解决方案1:在代码末尾添加input()。通过添加，它不会关闭提示，直到您退出。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="8d5f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">3.错误如没有名为sklearn.tree的模块，<a class="ae mv" href="https://stackoverflow.com/questions/57108026/pyinstaller-modulenotfounderror-no-module-named-sklearn-utils-cython-blas" rel="noopener ugc nofollow" target="_blank">py installer；ModuleNotFoundError:没有名为“sklearn.utils._cython_blas”的模块</a></p><p id="cdd4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">解决方案1:通过<code class="du li lj lk kt b">pyinstaller -F --hidden-import="sklearn.utils._cython_blas" --hidden-import="sklearn.neighbors.typedefs" --hidden-import="sklearn.neighbors.quad_tree" testing.py</code>隐藏模块</p><p id="4737" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">解决方案2:当您运行pyinstaller命令时，它将创建一个<strong class="iw hj"> <em class="lo"> testing.spec </em> </strong>文件。</p><ul class=""><li id="b622" class="jz ka hi iw b ix iy jb jc jf kb jj kc jn kd jr kn kf kg kh bi translated">打开testing.spec文件</li><li id="2b17" class="jz ka hi iw b ix ki jb kj jf kk jj kl jn km jr kn kf kg kh bi translated">在hiddenimports中添加所有导入。</li></ul><p id="e256" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du li lj lk kt b">hiddenimports=['cython','pymysql','pandas._libs.tslibs.timedeltas','sklearn.neighbors.typedefs','sklearn.utils.typedefs'],</code></p><p id="ee04" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">快跑。<code class="du li lj lk kt b">pyinstaller testing.spec</code></p></div></div>    
</body>
</html>