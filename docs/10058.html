<html>
<head>
<title>NLP using WEKA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用WEKA的NLP</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/nlp-sentiment-analysis-using-weka-hands-on-648af0859797?source=collection_archive---------3-----------------------#2020-10-03">https://medium.com/analytics-vidhya/nlp-sentiment-analysis-using-weka-hands-on-648af0859797?source=collection_archive---------3-----------------------#2020-10-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="20f9" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">新西兰黑秧鸡</h1><p id="1e6b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Weka(怀卡托知识分析环境)是由怀卡托大学开发的开源软件，用于自动化数据挖掘任务。Weka是一种灵活而简单的实现方式，它是可移植的，因此是独立于平台的。它提供了可用于任何选定数据集的各种算法。以下是Weka在其应用程序中提供的应用程序(图1):</p><ul class=""><li id="3f15" class="kb kc hi jf b jg kd jk ke jo kf js kg jw kh ka ki kj kk kl bi translated">Explorer:对原始数据或通过抓取收集的数据执行数据挖掘任务的接口</li><li id="824b" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">实验者:允许用户在数据集上执行不同的实验变化</li><li id="b1bd" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">知识流:具有拖放功能的资源管理器。支持从以前的结果中进行增量学习</li><li id="3f58" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">工作台:将所有GUI界面合并成一个</li><li id="5ea3" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">简单的CLI:命令行界面，用于从终端执行命令</li></ul><figure class="ks kt ku kv fd kw er es paragraph-image"><div class="er es kr"><img src="../Images/8df80360d291a2ec6d024591bd6935c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/0*gSDkWbrbluU6ZbIF"/></div></figure><p id="805d" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图1: Weka GUI </em></p><p id="5170" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">以下是软件中可用于数据处理任务的技术:</p><h2 id="fcd4" class="ld ig hi bd ih le lf lg il lh li lj ip jo lk ll it js lm ln ix jw lo lp jb lq bi translated">方法</h2><ul class=""><li id="63fe" class="kb kc hi jf b jg jh jk jl jo lr js ls jw lt ka ki kj kk kl bi translated">联合</li><li id="dd8c" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">属性选择</li><li id="6bc8" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">分类器</li><li id="206b" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">簇</li><li id="e09e" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">预处理过滤器</li></ul><h2 id="e110" class="ld ig hi bd ih le lf lg il lh li lj ip jo lk ll it js lm ln ix jw lo lp jb lq bi translated">算法</h2><ul class=""><li id="d511" class="kb kc hi jf b jg jh jk jl jo lr js ls jw lt ka ki kj kk kl bi translated">KNN分类</li><li id="3c8d" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">多目标进化算法</li><li id="1081" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">C4.5决策树</li><li id="79b3" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">学习向量，量子化粒子，群优化</li></ul><h1 id="b35d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">自然语言处理</h1><p id="d40c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在当今世界，人们试图为他们的日常工作部署机器，向用户传达结果或正在进行的过程报告非常重要。NLP可以帮助机器学习交流的方式，或者帮助我们理解机器想要传达给我们的信息。</p><p id="b926" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">以下是已经在使用NLP的热门领域:</p><ul class=""><li id="4564" class="kb kc hi jf b jg kd jk ke jo kf js kg jw kh ka ki kj kk kl bi translated">文章(新闻、博客等)</li><li id="3ae0" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">预测您的搜索</li><li id="5199" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">聊天机器人</li><li id="c2d2" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">电子邮件分类</li><li id="967b" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">视频/网站推荐</li><li id="b03c" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">文本到语音转换</li></ul><p id="5475" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">这样的例子不胜枚举。对于实践环节，我尝试进行情感分析，结果可用于分析用户的行为和习惯。</p><h1 id="b92e" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">动手WEKA</h1><p id="6845" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">情感分析是机器学习中非常关键的一部分。这不仅有助于机器知道一个人表现出什么样的情绪或情感，而且还能做出同样的反应。在这里，我试图为Twitter文本数据库实现一个简单的情感分析。</p><p id="8050" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">我们将使用知识流进行以下分析。</p><p id="3827" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><strong class="jf hj">第一步:获取数据集</strong> <br/>我从<a class="ae lu" href="https://data.world/crowdflower/sentiment-analysis-in-text" rel="noopener ugc nofollow" target="_blank">这里</a>获取数据。数据集有四个字段，“tweet_id”、“情绪”、“作者”和“内容”。我们已经使用了来自数据源的CSVLoader。该数据大约有40，000个数据点或实例或数据行。处理如此大的数据集可能是复杂和耗时的，而且我的处理器无法处理这么多的数据和处理，所以我随机删除/修剪了50%的数据。这可以通过使用<em class="lc">filter . unsupervised . instances . remove percentage .</em>来完成，该数据需要存储在另一个CSV文件中，因此，需要添加另一个组件来以CSV格式保存该文件。所以现在我的知识流数据源有三个组件。CSVLoade  r，<em class="lc">滤波器。unsupervised . instances . remove percentage</em>和<em class="lc"> DataSink。CSVSaver </em></p><ol class=""><li id="6f92" class="kb kc hi jf b jg kd jk ke jo kf js kg jw kh ka lv kj kk kl bi translated">右键单击CSVLoader图标并选择配置。您将能够编辑CSVLoader属性并添加文件。</li><li id="9c1e" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka lv kj kk kl bi translated">设置数据后，您现在可以将该数据集输入到下一个组件，即过滤器。</li><li id="24e7" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka lv kj kk kl bi translated">右键单击CSVLoader并选择数据集。它会自动显示一个箭头/线会出来。把它接到过滤器上</li></ol><blockquote class="lw lx ly"><p id="bcdb" class="jd je lc jf b jg kd ji jj jk ke jm jn lz kz jq jr ma la ju jv mb lb jy jz ka hb bi translated"><strong class="jf hj">提示</strong> <br/>用户可以配置和调整组件的属性。<br/>CSV saver组件从过滤器获取数据集输入。</p></blockquote><p id="5de7" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">我们已经完成了数据集的导入。我已经运行了知识流，窗口现在看起来像图2 。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mc"><img src="../Images/0732671fd8464d2d996c39e4697f8a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NUEz9yB_Uf-2EBeW"/></div></div></figure><p id="039d" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图2:步骤1完成</em></p><p id="2f01" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><strong class="jf hj">第二步:数据预处理</strong></p><p id="5a60" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">要实现情感分析，需要大量的预处理，包括:</p><ol class=""><li id="066a" class="kb kc hi jf b jg kd jk ke jo kf js kg jw kh ka lv kj kk kl bi translated">单词解析和标记化</li><li id="322e" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka lv kj kk kl bi translated">停用词删除</li><li id="c344" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka lv kj kk kl bi translated">词汇化或词干化</li><li id="25fe" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka lv kj kk kl bi translated">特征抽出</li></ol><p id="d239" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">这将提高处理后期的效率。这一步骤不仅减小了数据集的大小，还移除了可能在系统/算法中产生偏差的冗余数据。</p><p id="7ff6" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">我从<em class="lc">filters . unsupervised . attribute</em>中选择了StringToWordVector过滤器。通过右击过滤器，过滤器的属性是可编辑的(<em class="lc">图3 </em>)。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mh"><img src="../Images/169f3107562e255881bdd6c07edc0a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eDeVViXn_bEEZTaH"/></div></div></figure><p id="5647" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图3: wordtovec属性</em></p><p id="76e7" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><strong class="jf hj">第三步:分类</strong></p><p id="ec1f" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">对于分类，我们需要首先使用<em class="lc">filter . unsupervised . attribute . class assigner .</em>定义将要预测的类或特征。我们需要将其添加到步骤2，即预处理数据中。</p><p id="d9bf" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">我们需要使用验证折叠创建训练数据和测试数据，我们将需要<em class="lc">evaluation . crossvalidationfoldmaker .</em>这将给我们两个数据集，测试和训练。我们可以将它直接用于我们的分类器。</p><p id="8757" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">分类器，有几个用于情感分析的分类器，包括:</p><ul class=""><li id="9993" class="kb kc hi jf b jg kd jk ke jo kf js kg jw kh ka ki kj kk kl bi translated">朴素贝叶斯</li><li id="30ce" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">随机森林</li><li id="9523" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">物流回归</li><li id="9556" class="kb kc hi jf b jg km jk kn jo ko js kp jw kq ka ki kj kk kl bi translated">XgBoost</li></ul><p id="aa10" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">还有一些。我用过朴素贝叶斯分类器，<em class="lc">classifier . Bayes . naive Bayes .</em></p><p id="6fac" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">经过训练的模型将以批处理格式给出结果，因为我们对10个折叠使用交叉验证，所以我们将得到10个输出。我们需要添加另一个组件来评估分类器的性能，<em class="lc">evaluation . classifierperformanceevaluator .</em>在步骤3之后，知识流图如图4所示。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mi"><img src="../Images/334ea2a1b42a3fa1b489225ac2466273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_CoPWhYDpv22fmdY"/></div></div></figure><p id="a9d6" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图4:第三步完成</em></p><p id="ea3d" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><strong class="jf hj">步骤4:结果</strong> <br/>处理完成，对于可视化部分，我们有<em class="lc">visualization . text viewer .</em>有各种方法可以查看最终结果，但文本看起来更适合任务。</p><p id="fef3" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated">结果如<em class="lc">图6 </em>所示。<br/>最终的知识流程图出现在<em class="lc">图5 </em>中。</p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mj"><img src="../Images/42df6922f4b74bdfe7b6fff9ffe922d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kyv-6859GRjnmziu"/></div></div></figure><p id="4c26" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图5:情感分析的知识流程图</em></p><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mk"><img src="../Images/bdeae18e9d8618ee67041b4ddd2f5177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2lyLUFEPh7GV0Uo6"/></div></div></figure><p id="e297" class="pw-post-body-paragraph jd je hi jf b jg kd ji jj jk ke jm jn jo kz jq jr js la ju jv jw lb jy jz ka hb bi translated"><em class="lc">图6:分类后的结果</em></p><h1 id="312c" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结论</h1><p id="e5b1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Weka是一个神奇的工具，用于机器学习。对于计算和内存利用部分，有几个限制，可以通过稍微调整来克服。我一直在编码并尝试实现这些算法，Weka让我变得非常容易。除了学术项目或任务，我会使用Weka</p></div></div>    
</body>
</html>