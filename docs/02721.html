<html>
<head>
<title>Programming in Haskell exercises (2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Haskell编程练习(2)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/programming-in-haskell-exercises-2-2c2afbc73bc9?source=collection_archive---------10-----------------------#2019-12-30">https://medium.com/analytics-vidhya/programming-in-haskell-exercises-2-2c2afbc73bc9?source=collection_archive---------10-----------------------#2019-12-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b824dc79a0964b225fcd3c6d65f4b380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LOpxtT5L1BprSsYRn7YyHg.png"/></div></div></figure><div class=""/><div class=""><h2 id="0efb" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated">进行第二章第一步的练习</h2></div><figure class="ji jj jk jl fd hk er es paragraph-image"><div class="ab fe cl jm"><img src="../Images/8ef051456ba9926f29860a10c3a25c82.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yTJpX1Fkiz43PXJ-7Z3hbA.png"/></div></figure><figure class="ji jj jk jl fd hk er es paragraph-image"><div class="ab fe cl jm"><img src="../Images/7560a9926f010678464ed9126445a66d.png" data-original-src="https://miro.medium.com/v2/format:webp/0*8S40LGGdLZibSX6k.png"/></div><figcaption class="jn jo et er es jp jq bd b be z dx translated">在这台mac上测试的代码</figcaption></figure><p id="6866" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">更改终端提示符和ghci提示符。让ghci支持多行。</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="9090" class="ks kt ht ko b fi ku kv l kw kx">% export PS1="👍 "<br/>👍 cat ~/.ghci     <br/>:set prompt "λ: "<br/>:set +m<br/>:set prompt-cont " | "<br/>👍 ghci<br/>GHCi, version 8.2.1: <a class="ae ky" href="http://www.haskell.org/ghc/" rel="noopener ugc nofollow" target="_blank">http://www.haskell.org/ghc/</a>  :? for help<br/>Loaded GHCi configuration from /Users/zhijunsheng/.ghci<br/>λ:</span></pre></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><ol class=""><li id="25b2" class="lg lh ht jt b ju jv jx jy ka li ke lj ki lk km ll lm ln lo bi translated">使用GHCi完成本章中的示例。</li></ol><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="51be" class="ks kt ht ko b fi ku kv l kw kx">λ: 2+3*4<br/>14<br/>λ: (2+3)*4<br/>20<br/>λ: sqrt (3^2 + 4^2)<br/>5.0<br/>λ:</span></pre><p id="2fff" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">函数头、尾、取、长、和、积和反:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="bf22" class="ks kt ht ko b fi ku kv l kw kx">λ: head [1,2,3,4,5]<br/>1<br/>λ: tail [1,2,3,4,5]<br/>[2,3,4,5]<br/>λ: [1,2,3,4,5] !! 2<br/>3<br/>λ: take 3 [1,2,3,4,5]<br/>[1,2,3]<br/>λ: drop 3 [1,2,3,4,5]<br/>[4,5]<br/>λ: length [1,2,3,4,5]<br/>5<br/>λ: sum [1,2,3,4,5]<br/>15<br/>λ: product [1,2,3,4,5]<br/>120<br/>λ: [1,2,3] ++ [4,5]<br/>[1,2,3,4,5]<br/>λ: reverse [1,2,3,4,5]<br/>[5,4,3,2,1]</span></pre><p id="9eb8" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">文件test.hs中的Haskell源代码:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="6518" class="ks kt ht ko b fi ku kv l kw kx">👍 vim test.hs<br/>👍 ghci test.hs <br/>GHCi, version 8.2.1: <a class="ae ky" href="http://www.haskell.org/ghc/" rel="noopener ugc nofollow" target="_blank">http://www.haskell.org/ghc/</a>  :? for help<br/>Loaded GHCi configuration from /Users/zhijunsheng/.ghci<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: quadruple 10<br/>40<br/>λ: take (double 2) [1,2,3,4,5]<br/>[1,2,3,4]</span></pre><p id="2be7" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">在另一个终端编辑test.hs。用vim命令更新代码并保存。</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="c5d3" class="ks kt ht ko b fi ku kv l kw kx">double x = x + x</span><span id="1131" class="ks kt ht ko b fi lp kv l kw kx">quadruple x = double (double x)</span><span id="bfd6" class="ks kt ht ko b fi lp kv l kw kx">factorial n = product [1..n]</span><span id="cd70" class="ks kt ht ko b fi lp kv l kw kx">average ns = sum ns `div` length ns</span><span id="e664" class="ks kt ht ko b fi lp kv l kw kx">~                                                   <br/>~                                                   <br/>~                                                   <br/>~                                                   <br/>"test.hs" 8L, 118C written</span></pre><p id="3428" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">使用ghci命令重新加载test . hs:reload或:r。</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="252d" class="ks kt ht ko b fi ku kv l kw kx">λ: :reload<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: factorial 10<br/>3628800<br/>λ: average [1,2,3,4,5]<br/>3</span></pre><p id="1db5" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">带有压痕样本的test.hs:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="71f8" class="ks kt ht ko b fi ku kv l kw kx">double x = x + x</span><span id="abca" class="ks kt ht ko b fi lp kv l kw kx">quadruple x = double (double x)</span><span id="8911" class="ks kt ht ko b fi lp kv l kw kx">factorial n = product [1..n]</span><span id="35f1" class="ks kt ht ko b fi lp kv l kw kx">average ns = sum ns `div` length ns</span><span id="4d5b" class="ks kt ht ko b fi lp kv l kw kx">a = b + c<br/>    where <br/>      b = 1<br/>      c = 2<br/>d = a * 2</span></pre><p id="f191" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">重新加载并尝试:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="5601" class="ks kt ht ko b fi ku kv l kw kx">λ: :reload<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: a<br/>3<br/>λ: d<br/>6</span></pre><p id="88bf" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">使用花括号:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="8ea0" class="ks kt ht ko b fi ku kv l kw kx">a = b + c<br/>    where <br/>      { b = 1;<br/>        c = 2 };<br/>d = a * 2</span></pre><p id="a681" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">重新加载并尝试:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="9fa9" class="ks kt ht ko b fi ku kv l kw kx">λ: :r<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: a<br/>3<br/>λ: d<br/>6</span></pre><p id="58cc" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">将所有内容放在一行中:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="02d0" class="ks kt ht ko b fi ku kv l kw kx">a = b + c where { b = 1; c = 2 }; d = a * 2</span></pre><p id="37d7" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">重新加载并尝试:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="2e30" class="ks kt ht ko b fi ku kv l kw kx">λ: :r<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: a<br/>3<br/>λ: d<br/>6</span></pre><p id="6999" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">单行注释和块注释:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="50de" class="ks kt ht ko b fi ku kv l kw kx">{-<br/>double x = x + x</span><span id="0fcc" class="ks kt ht ko b fi lp kv l kw kx">quadruple x = double (double x)<br/>-}</span><span id="27d9" class="ks kt ht ko b fi lp kv l kw kx">-- Factorial of a positive integer:<br/>factorial n = product [1..n]</span><span id="0727" class="ks kt ht ko b fi lp kv l kw kx">-- Average of a list of integers:<br/>average ns = sum ns `div` length ns</span><span id="b65c" class="ks kt ht ko b fi lp kv l kw kx">a = b + c where { b = 1; c = 2 }; d = a * 2</span></pre><p id="4186" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">函数double被注释掉了:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="0a08" class="ks kt ht ko b fi ku kv l kw kx">λ: :r<br/>[1 of 1] Compiling Main             ( test.hs, interpreted )<br/>Ok, 1 module loaded.<br/>λ: double 3</span><span id="bf4d" class="ks kt ht ko b fi lp kv l kw kx">&lt;interactive&gt;:16:1: error:<br/>    Variable not in scope: double :: Integer -&gt; t<br/>λ: a<br/>3</span></pre><p id="49c2" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">2.给下列数字表达式加上括号:<br/> 2 ^ 3 * 4 <br/> 2 * 3 + 4 * 5 <br/> 2 + 3 * 4 ^ 5</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="066d" class="ks kt ht ko b fi ku kv l kw kx">λ: 2^3*4<br/>32<br/>λ: (2^3)*4<br/>32<br/>λ: 2*3+4*5<br/>26<br/>λ: (2*3)+(4*5)<br/>26<br/>λ: 2+3*4^5<br/>3074<br/>λ: 2+(3*(4^5))<br/>3074</span></pre><p id="e695" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">3.下面的脚本包含三个语法错误。更正这些错误，然后使用GHCi检查您的脚本是否正常工作。<br/> N =一个‘div’长度xs</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="6a36" class="ks kt ht ko b fi ku kv l kw kx">N = a 'div' length xs<br/>    where<br/>       a = 10<br/>      xs = [1,2,3,4,5]</span></pre><p id="a73e" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">n应该是n</p><p id="3980" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">应该是</p><p id="1169" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">x应该与前一行的a对齐</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="87d2" class="ks kt ht ko b fi ku kv l kw kx">λ: let<br/> | N = a 'div' length xs<br/> |     where<br/> |        a = 10<br/> |       xs = [1,2,3,4,5]<br/> |</span><span id="c7fb" class="ks kt ht ko b fi lp kv l kw kx">&lt;interactive&gt;:27:1: error:<br/>    parse error (possibly incorrect indentation or mismatched brackets)<br/>λ:</span></pre><p id="74b9" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">纠正了3个错误:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="cf93" class="ks kt ht ko b fi ku kv l kw kx">λ: let<br/> | n = a `div` length xs<br/> |     where<br/> |        a = 10<br/> |        xs = [1,2,3,4,5]<br/> | <br/>λ: n<br/>2</span></pre><p id="8c9e" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">4.库函数<code class="du lq lr ls ko b">last</code>选择非空列表的最后一个元素；比如<code class="du lq lr ls ko b">last [1,2,3,4,5] = 5</code>。展示如何用本章介绍的其他库函数来定义函数<code class="du lq lr ls ko b">last</code>。你能想到另一个可能的定义吗？</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="93e2" class="ks kt ht ko b fi ku kv l kw kx">λ: let <br/> | last' :: [a] -&gt; a<br/> | last' xs = head $ reverse xs<br/> | <br/>λ: last' [1..20]<br/>20</span></pre><p id="47d9" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">下面是使用索引的一种不同方式:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="a2ce" class="ks kt ht ko b fi ku kv l kw kx">λ: let <br/> | last' :: [a] -&gt; a<br/> | last' xs = xs !! (length xs - 1)<br/> | <br/>λ: last' [1..20]<br/>20</span></pre><p id="291b" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">5.库函数<code class="du lq lr ls ko b">init</code>从非空列表中移除最后一个元素；例如，<code class="du lq lr ls ko b">init [1,2,3,4,5] = [1,2,3,4]</code>。展示如何以两种不同的方式定义init。</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="33b0" class="ks kt ht ko b fi ku kv l kw kx">λ: let <br/> | init' :: [a] -&gt; [a]<br/> | init' xs = take (length xs - 1) xs<br/> | <br/>λ: init' [1..20]<br/>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]</span></pre><p id="6eb2" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">下面是使用reverse和tail的另一种方法:</p><pre class="ji jj jk jl fd kn ko kp kq aw kr bi"><span id="be67" class="ks kt ht ko b fi ku kv l kw kx">λ: let <br/> | init' :: [a] -&gt; [a]<br/> | init' xs = reverse $ tail $ reverse xs<br/> | <br/>λ: init' [1..20]<br/>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]</span></pre></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><p id="da33" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><a class="ae ky" rel="noopener" href="/analytics-vidhya/exercises-of-chapter-1-682ad72d25c8?source=friends_link&amp;sk=548cbffc0d042d36b29c4aa9466cd44e">Haskell编程练习题(1) </a></p><p id="2007" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><a class="ae ky" rel="noopener" href="/@zhijunsheng/programming-in-haskell-exercises-2-2c2afbc73bc9?sk=107d6c9f8fd970b92f6f3ad161b3b3fc">Haskell编程练习(二)</a></p><p id="dd3b" class="pw-post-body-paragraph jr js ht jt b ju jv iu jw jx jy ix jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><a class="ae ky" rel="noopener" href="/@zhijunsheng/programming-in-haskell-exercises-3-9a3255f1e07e?sk=d66930454ef4ae1d5b23af40f85e2593">编程中的Haskell练习(3) </a></p></div></div>    
</body>
</html>