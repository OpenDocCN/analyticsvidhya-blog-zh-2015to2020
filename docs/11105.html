<html>
<head>
<title>A-Frame Changing Environment Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">a帧改变环境教程</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/a-frame-changing-environment-tutorial-a71bc69202d4?source=collection_archive---------4-----------------------#2020-11-18">https://medium.com/analytics-vidhya/a-frame-changing-environment-tutorial-a71bc69202d4?source=collection_archive---------4-----------------------#2020-11-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="40bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">A-Frame是实现WebVR的框架。只需几行代码就可以创建令人惊叹的VR和AR项目。</p><p id="ab9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还将使用Supermedium的环境组件:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1475bcaf2f16dbc245ab6858f9e9e0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nrOgPi4cmOsT-DXG"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:https://github.com/supermedium/aframe-environment-component</figcaption></figure><p id="f011" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的简单项目将包含3个基本体:一个球体，一个盒子和一个圆柱体。我们可以按空格键<strong class="ih hj">改变环境。</strong>该环境将包含上述gif中的一个场景。</p><p id="d0fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们开始吧。</p><p id="ff23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ju">设置</em> </strong></p><p id="19c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在这里包含了所需的javascript文件。</p><p id="bd13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"> <br/> &lt;头&gt; <br/> &lt;脚本src = "<a class="ae jt" href="https://aframe.io/releases/1.0.4/aframe.min.js" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://aframe.io/releases/1.0.4/aframe.min.js</strong></a>"&gt;&lt;/脚本&gt; <br/> &lt;脚本src = "<a class="ae jt" href="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://UNP kg . com/aframe-particle-system-component @ 1.0 . x/dist/aframe-particle-system . component . min . js</strong></a>"&gt;&lt;/t</p><p id="581d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"/><p id="4362" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">设置场景:</strong></p><p id="b06b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><br/>&lt;a-场景&gt;<br/>&lt;a-box id = " cube " class = " clickable " position = "-1 0.66921-3 " rotation = " 0 45 0 " color = " # 4c 3d 9 " visible = " true "&gt;&lt;/a-box&gt;<br/>&lt;a-sphere id = " sphere " position = " 0 1.44508-5 " radius = " 1.22</p><p id="6860" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"/><p id="ef45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们定义了一个盒子、球体和圆柱体，并赋予它们一些预设的属性。你可以在这里详细查看环境组件:<a class="ae jt" href="https://github.com/supermedium/aframe-environment-component" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://github.com/supermedium/aframe-environment-component</strong></a></p><p id="a51d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预设可以设置为森林(森林场景)、火山(火焰场景)等。你也可以改变参数，如地面外观，照明，阴影等。</p><p id="9333" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">改变环境的Javascript函数:</strong></p><p id="67bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><script>&lt;br/&gt;document . body . onkeyup = function(e){&lt;/root&gt;</script></p><p id="2275" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">if(e . keyCode = = 32){//空格键的keycode是32</p><p id="13ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">var环境= ["埃及"、"棋盘"、"森林"、" goaland "、"亚瓦派"、"金矿"、"三塔"、"毒药"、"拱门"、"创"、"日本"、"梦想"、"火山"、"星空"、"奥西里斯"]；//存储在//环境数组中的不同预设(环境样式)</p><p id="55e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">var bool =[真，假]</p><p id="9935" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">var item = environment[math . floor(math . random()* environment . length)]；//从环境数组<br/><br/>document . getelementbyid(' cube ')中选择一个随机预置。setAttribute('visible '，bool[math . floor(math . random()* bool . length)])；<br/>document . getelementbyid(' sphere ')。setAttribute('color '，' pink ')；<br/><br/>var place = ' preset:'+item；<br/>console . log(place)；<br/>document . getelementbyid(' env ')。setAttribute('environment '，place)；<br/> } <br/> }</p><p id="6cd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"/><p id="6c61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果仔细观察代码体，可以看到每个元素都有一个id。document.getElementById()函数用于选择这样一个Id。然后，我们可以使用setAttribute()来更改属性</p><p id="dd11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我们结束了。按下空格键的结果是:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/6139aa76a607695a56b0c6526a7fccee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*7nreqSvbtJi4eA5Dr653hg.gif"/></div></figure><p id="0128" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里找到完整的代码:<a class="ae jt" href="https://github.com/jojo96/AFrame3D/blob/main/A-Frame%20Examples/environmentChanger.html" rel="noopener ugc nofollow" target="_blank">https://github . com/jojo 96/aframe 3d/blob/main/A-Frame % 20 examples/environment changer . html</a></p></div></div>    
</body>
</html>