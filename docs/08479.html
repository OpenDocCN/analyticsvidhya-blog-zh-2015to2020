<html>
<head>
<title>How Anomaly Detection Works ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异常检测是如何工作的？</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-anomaly-detection-works-4651f1786431?source=collection_archive---------6-----------------------#2020-07-31">https://medium.com/analytics-vidhya/how-anomaly-detection-works-4651f1786431?source=collection_archive---------6-----------------------#2020-07-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a97846bc17202347b97ef6fbfff7c657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5HzgB5ekxQ6Nwmx5ggn8Q.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">高斯分布图</figcaption></figure><figure class="iv iw ix iy fd ij er es paragraph-image"><div class="er es iu"><img src="../Images/e0e91773ad4f3f73fc30bcba6bac0d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*sUG0adCdL3E1o-fmQodM5A.png"/></div></figure><h1 id="547f" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">什么是异常？</h1><p id="0b97" class="pw-post-body-paragraph jx jy hi jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku hb bi translated">任何不寻常的和偏离标准“正常”的都被称为<strong class="jz hj">异常</strong>或<strong class="jz hj">异常值。<br/> </strong>检测给定数据中的这些异常称为异常检测。</p><p id="b0ea" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">图中数字1、2、3所指的点是一些明显的异常点</p><h1 id="144e" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">异常检测用在哪里？</h1><p id="994c" class="pw-post-body-paragraph jx jy hi jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku hb bi translated">使用异常检测的一些流行的地方有:<br/> 1。欺诈检测<br/> 2。检测制造缺陷。例如:中央处理器制造，飞机部件制造等</p><h1 id="400d" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">正态分布解释</h1><p id="bd5b" class="pw-post-body-paragraph jx jy hi jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku hb bi translated">最好考虑一个例子来理解正态分布</p><p id="45ad" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">让我们考虑一个单变量的问题，即单变量正态分布</p><p id="fffa" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated"><em class="la">这只是一个示例。在现实世界中，数据要比这复杂得多。</em></p><h2 id="11e8" class="lb ja hi bd jb lc ld le jf lf lg lh jj ki li lj jn km lk ll jr kq lm ln jv lo bi translated">用户任务完成示例:</h2><figure class="iv iw ix iy fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/886cbd236903e0793b106a966b1bb3da.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*SgpMCmq2mUgBvGVr0bq9Cw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">只考虑x轴(用户完成某项任务所花费的时间)</figcaption></figure><p id="d006" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">该图显示了一些用户完成某项任务所需时间的数据。</p><p id="7c3e" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">这里，<strong class="jz hj"> </strong>符号代表数据的平均值，<strong class="jz hj"> σ </strong>代表数据的标准差。</p><p id="7b8d" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">在这里，我们可以观察到，接近整个数据集平均值的数据数量高于远离平均值的数据数量(这个因素借助标准差<strong class="jz hj"> σ </strong>来描述)。<br/>因此，这样一个数据集的概率分布遵循一个称为<strong class="jz hj">正态分布</strong>的特殊分布，形成一个钟形。</p><figure class="iv iw ix iy fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/f9419eed7cf7dffb7822b71d197e6759.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*4v_g-m3MtNNsSJfIRNIzzA.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">概率密度函数</figcaption></figure><p id="fcae" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">我们可以从中解释的主要问题是，接近整个数据集平均值的数据比更远的数据更有可能存在，这种可能性由上述公式给出。即<strong class="jz hj">速度极快的用户数量和速度极慢的用户数量非常少，这样的用户被认为是离群值</strong></p><h1 id="8eca" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">异常检测—原始模型</h1><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/f296f0fc03c14d938e66161fe29b32e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FFilgMeuUP9AVl5wHDe91g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">异常检测的初始模型(不再使用)</figcaption></figure><p id="536b" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">现在，让我们考虑数据中的两个变量。比如说，一个学生每天学习的时间<strong class="jz hj"> (X轴)</strong>与一个学生玩电子游戏的时间<br/> <strong class="jz hj"> (Y轴)</strong>(这只是一个例子。没那么显著)</p><p id="feca" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">给定一个数据点，我们分别找出学生在这段时间学习的概率，也分别找出学生在这段时间玩电子游戏的概率。我们使用<strong class="jz hj">单变量正态分布的密度函数</strong> <br/> <em class="la">找到这些概率。注意:记住，我们分别找到这些概率</em></p><p id="efc3" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">然后，我们检查该概率是大于还是小于特定的阈值。如果更大，那就不是异常现象了。如果少一些，那就是异常。我们如何选择这个阈值超出了本博客的范围。但是，这不是火箭科学。只是一些基本的数据分析。</p><h1 id="570b" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">原始模型面临的问题</h1><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/ea760ecf934377412c78ee7bc719f69f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2V8HUxS0rx2gEy0XZEI5g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">CPU负载与内存使用图</figcaption></figure><p id="987e" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">原模型面临的问题是:<br/> 1。我们人类只要看着上面的图像就可以说绿色地块是异常的<br/> 2。但是，我们的上述模型没有认识到这一点。</p><figure class="iv iw ix iy fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/97552241a8baee0e72ff75ebab23a8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*Gwu-Kg9mbMS_dv2iLmTtOg.png"/></div></figure><p id="2666" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">3.我们先不考虑y轴，只考虑x轴。绿点位于0.5到0.6之间。如果我们把这个点代入正常的密度函数，我们不会得到预期的低概率，因为它离中心不是很远。<br/> 4。y轴也是如此</p><p id="06f5" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">因此，该模型认为出现在上图所示的相同紫色环中的所有数据点具有相同的概率</p><h1 id="da7c" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">使用多元高斯分布的异常检测</h1><p id="69d2" class="pw-post-body-paragraph jx jy hi jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku hb bi translated">为了克服我们的模型所面临的上述问题，使用了<strong class="jz hj">多元高斯分布</strong>，而不是分别寻找<strong class="jz hj">单变量概率密度</strong>并将它们相乘。</p><figure class="iv iw ix iy fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/6e796e33baf36f866fb47e47b9622f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*KNiqtqWdOb2U7AY5grXNCg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">1个以上变量的概率密度函数</figcaption></figure><p id="0b7b" class="pw-post-body-paragraph jx jy hi jz b ka kv kc kd ke kw kg kh ki kx kk kl km ky ko kp kq kz ks kt ku hb bi translated">σ称为协方差矩阵。<br/>使用该模型的优势在于，它使用了协方差矩阵，因此也考虑了数据集所涉及的所有要素之间的协方差<br/>通过利用协方差矩阵的功效，我们可以考虑2个或更多变量之间的关系，从而形成更加准确的正态分布图。</p><h1 id="7d43" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">更多关于这是如何工作的直觉</h1><p id="d771" class="pw-post-body-paragraph jx jy hi jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku hb bi translated">下面是用不同的协方差矩阵值绘制的一些图表。随着一个变量的标准偏差值或多个变量之间的标准偏差值的变化，图形也会呈现不同的形状。</p><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/b906b0c20fe0728fb51a79cb050140df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vUWXrjL4X2u406Et5En0g.png"/></div></div></figure><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/bae3ad6c0824aef5401d25f23a0724c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TUMHGHEjbJM-4kZUoeQWBA.png"/></div></div></figure><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/f9267602fc6f70b0a5d9031b92f9469e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rGy6DmoxANmpgx4gjYdc2g.png"/></div></div></figure><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/9a44fc987ca8bd1de6b8fbecf936379d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*98FM28ZCGwuOq49Y0A1P1A.png"/></div></div></figure><h1 id="4f83" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">结论</h1><ol class=""><li id="32f6" class="lv lw hi jz b ka kb ke kf ki lx km ly kq lz ku ma mb mc md bi translated">正态分布用于检测各种行业中的异常。</li><li id="d7e3" class="lv lw hi jz b ka me ke mf ki mg km mh kq mi ku ma mb mc md bi translated">单变量正态分布用于只有一个变量的简单异常检测</li><li id="f7ff" class="lv lw hi jz b ka me ke mf ki mg km mh kq mi ku ma mb mc md bi translated">当涉及两个变量时，仍然可以使用单变量正态分布，但它不能说明多个变量之间的关系，因此，当涉及多个变量时不推荐使用，有时不能发现异常</li><li id="6ec6" class="lv lw hi jz b ka me ke mf ki mg km mh kq mi ku ma mb mc md bi translated">多元正态分布利用协方差矩阵的幂来说明多个变量之间的关系，并证明是有效的</li></ol><figure class="iv iw ix iy fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/362502616182763fa03ac725bd0203af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPNLqofxb7lGbRfgAy8JZw.jpeg"/></div></div></figure><h1 id="0d26" class="iz ja hi bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">谢谢你</h1></div></div>    
</body>
</html>