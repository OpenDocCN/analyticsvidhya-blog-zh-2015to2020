<html>
<head>
<title>Lambda Functions and importance of Math in Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda 函数和数学在数据科学中的重要性</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/lambda-funtions-and-importance-of-math-in-data-science-ea2cbab5958b?source=collection_archive---------19-----------------------#2020-09-23">https://medium.com/analytics-vidhya/lambda-funtions-and-importance-of-math-in-data-science-ea2cbab5958b?source=collection_archive---------19-----------------------#2020-09-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/ec3b7f88373aa39ccc76c346460a158c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6DqrODLmssJJgTcU.png"/></div></div></figure><div class=""/><p id="3695" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以在这篇博客中，我将使用 python 和一个问题来演示 lambda 函数和数学在 python 和数据科学中的应用</p><p id="13b0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以问题是这样的:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="be0b" class="jx jy ht jt b fi jz ka l kb kc">You have <strong class="jt hu">k</strong> <strong class="jt hu">apple boxes full of apples</strong>. <strong class="jt hu">Each square box of size</strong> <strong class="jt hu">m</strong> <strong class="jt hu">contains</strong> <strong class="jt hu">m × m</strong> apples. You just noticed two interesting properties about the boxes:  <br/>1.<!-- -->The <strong class="jt hu">smallest box is size 1</strong>, <strong class="jt hu">the next one is size 2</strong>,..., <strong class="jt hu">all the way up to size k</strong>.  <br/>2.<strong class="jt hu">Boxes that have an odd size contain only yellow apples</strong>. <strong class="jt hu">Boxes that have an even size contain only red apples</strong>. ‍</span><span id="2cc5" class="jx jy ht jt b fi kd ka l kb kc"><strong class="jt hu">Task:</strong></span><span id="8fd8" class="jx jy ht jt b fi kd ka l kb kc">Your task is to <strong class="jt hu">calculate the difference between the number of red apples and the number of yellow apples</strong>.</span></pre><p id="16b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在试着理解这个问题</p><p id="535a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如:</p><p id="2bce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设有 5 箱苹果，这意味着 k = 5。</p><p id="328d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在给盒子编号</p><p id="525c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">1,2,3,4,5</p><p id="e23e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在盒子的大小是它的编号 m</p><p id="da1a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以 m=1，m=2，…，m=5</p><p id="d8b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在盒子里苹果的数量是 m*m</p><p id="6b7d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以 1*1，2*2，…，5*5，如果 m 是奇数，那么它有黄色的苹果</p><p id="9add" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者如果 m 是偶数，那么它有红苹果。</p><p id="fbbd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以从这个例子中你一定理解了这个问题。</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="7a87" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在有三种方法可以解决这个问题，主要是两种:</p><p id="86ea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先是最简单的解决方案:</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="4bea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是在一个列表中存储所有不同大小的盒子。</p><p id="1e86" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，它将黄色苹果的数量存储在奇数盒中，类似地，将红色苹果的数量存储在偶数盒中</p><p id="9352" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为盒子里的苹果数量=盒子的大小*盒子的大小</p><p id="6595" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后按照要求返回两个苹果总数的差</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="9917" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第二种方法使用相同的逻辑，但我将使用 lambda 函数使它更短</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="657f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这基本上是在做同样的事情</p><p id="563a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在第一种解决方案中</p><p id="101a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尺码表是</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="0b3c" class="jx jy ht jt b fi jz ka l kb kc">[x for x in range(1,k+1)]</span></pre><p id="2dec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于红苹果，我们从第二个位置开始，直到结束，间隔为两个，因为所有的红苹果都在偶数盒中</p><p id="9f88" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">黄苹果也是如此</p><p id="283b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我们可以在 lambda 函数中做同样的事情，我相信你一定知道 lambda 函数是如何工作的。</p></div><div class="ab cl ke kf gp kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hb hc hd he hf"><p id="da8f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是第三个解决方案，也是最难的一个</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="kl km l"/></div></figure><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="kn km l"/></div></figure><p id="d980" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">等等，让我解释一下……我肯定对你们中的许多人来说这没有意义，但是让我们看看:</p><p id="c608" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，对于这个解决方案，我使用了纯数学，我将解释我是如何推导公式的</p><p id="fe3e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以看到这个问题本质上需要的是偶数到 k 的平方和<strong class="is hu">和奇数到 k 的平方和</strong>之间的差异</p><p id="f24e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在在高中，我相信你一定学过这些公式:</p><p id="d816" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">偶数的平方和 s 到 n = <strong class="is hu"> 2n(n+1)(2n+1)/3 <br/> </strong>其中 n 是偶数的个数</p><p id="5502" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">奇数的平方和 s 直到 n = <strong class="is hu"> n(2n+1)(2n-1)/3 <br/> </strong>其中 n 是奇数的个数</p><p id="6b0c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，要应用这些公式，我们必须找到奇数的数量和偶数的数量</p><p id="3247" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了找到它们，我们可以简单地做一些事情</p><p id="3d04" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于偶数:<strong class="is hu">如果总数为 k </strong>，那么<strong class="is hu">偶数的数量</strong>将为<strong class="is hu"> k//2 </strong></p><p id="476d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于奇数:<strong class="is hu">如果总数是 k </strong>那么<strong class="is hu">奇数的数量</strong>将是<strong class="is hu"> k-k//2 </strong></p><p id="f46d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们可以简单地应用这些公式，找出两个公式的不同之处</p><p id="47b0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我向你展示使用这三个公式的区别</p><p id="522b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我将使用 2000 个不同的输入来测试这一点，这是一个很大的数字。</p><p id="e1a2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在这里测试所有三个解决方案，你会发现前两个解决方案可能需要一到两分钟，而使用数学的解决方案几乎是即时的。</p><p id="ec7b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">顺便说一下，请在数学解中小心使用括号，因为它们会导致错误。</p><p id="2ada" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是为什么总是建议在数据科学中使用数学模型和公式，因为解析会导致大问题。</p><p id="ef05" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为，举例来说，你会有一个非常大的熊猫数据框架，你必须解析数百万行数据，以便计算一些东西，如果有一种模式，我们可以使用数学而不是循环…</p><p id="674c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是针对您的解决方案的 repl.it 测试程序，尝试找出另一个并测试所有三个，您就会明白它会产生什么影响…</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="ko km l"/></div></figure><p id="4516" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢，我会很快发布更多这样的博客，如果你对新博客有任何建议，请在评论中发表。</p></div></div>    
</body>
</html>