<html>
<head>
<title>Start-off with Streamlit(Beginner’s Approach)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从 Streamlit 开始(初学者方法)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/start-off-with-streamlit-beginners-approach-94954ff8083a?source=collection_archive---------8-----------------------#2020-08-10">https://medium.com/analytics-vidhya/start-off-with-streamlit-beginners-approach-94954ff8083a?source=collection_archive---------8-----------------------#2020-08-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2c4633a023a3089c8f7f154d2feaea59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*srQdUu5yPUu6msmYr_-eQw.jpeg"/></div></div></figure><p id="0286" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">treamlit 是一个开源的应用程序框架<strong class="is hj">，也就是说</strong>是<strong class="is hj"> </strong>数据科学家和<strong class="is hj">机器学习工程师</strong>在几个小时内创建漂亮、高性能应用程序的最简单方法！</p><p id="54be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇博客结束时，你将会对使用 Streamlit 构建一个基本的 streamlit <strong class="is hj"> web 应用程序</strong>感到舒适。</p><figure class="jy jz ka kb fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/aede0ceb837414ef310b2bfb06d9ee8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CqeT-1riV0_C5KXCRsNW_g.jpeg"/></div></div></figure><p id="d192" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我用我将要处理的数据集向大家介绍一下，如何在 streamlit 上构建一个基本的 web 应用程序。</p><p id="2e18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所考虑的数据集是从<strong class="is hj"> Kaggle </strong>中提取的鸢尾数据集，它包括三种鸢尾，每种有 50 个样本，以及每种花的一些属性。一种花与另外两种花是线性可分的，但是另外两种花彼此不是线性可分的。该数据集的链接如下。</p><div class="kc kd ez fb ke kf"><a href="https://www.kaggle.com/arshid/iris-flower-dataset" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">鸢尾花数据集</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">用于多类分类的鸢尾花数据集。</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">www.kaggle.com</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt io kf"/></div></div></a></div><p id="f8b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将训练这个数据集，使用简单的逻辑回归技术(不太强调训练部分)，并将模型保存为<strong class="is hj"> Pickle </strong>文件。代码请参考博客末尾给出的 GitHub 链接。</p><p id="25d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在开始构建 streamlit 应用程序之前，请确保您已经安装了 streamlit，如果没有，请在各自的终端中输入以下命令。</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="d16c" class="kz la hi kv b fi lb lc l ld le">$ pip install streamlit</span></pre><p id="9a2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们开始吧！</p><p id="adde" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将开始调用重要的库，这些库将用于构建您的第一个 streamlit 应用程序，并导入我们的 Iris 分类模型，之前保存为<strong class="is hj">(。pkl) </strong>文件中的一个名为“模型”的变量，使用<strong class="is hj"> pickle </strong>。</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="8c43" class="kz la hi kv b fi lb lc l ld le">import streamlit as st<br/>import pandas as pd<br/>import pickle<br/>#from PIL import Image</span><span id="a68c" class="kz la hi kv b fi lf lc l ld le">model = pickle.load(open('IRIS-model.pkl', 'rb'))</span></pre><p id="0140" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">导入<strong class="is hj"> PIL </strong>库是可选的，因为它用于在我们的 web 应用程序中导入图像，但是推荐这样导入，只是因为它使我们的应用程序更美观。</p><p id="0a64" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们将为我们的应用程序提供一个标题，并导入一个图像，使我们的应用程序看起来更好:)</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="32d0" class="kz la hi kv b fi lb lc l ld le">st.header("Iris Classification:")</span><span id="bcf9" class="kz la hi kv b fi lf lc l ld le">image = Image.open('image.png')<br/>st.image(image, use_column_width=True,format='PNG')</span><span id="b9a3" class="kz la hi kv b fi lf lc l ld le">st.write("Please insert values, to get Iris class prediction")</span></pre><p id="cbe8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，到了重要的部分，是时候从我们的用户那里获取特征值作为输入，基于这些输入，我们的虹膜分类模型将分别预测虹膜花的类别，Streamlit 为我们提供了接受文本框形式的输入以及滑块选项的精彩选项，在这里，我们将使用滑块选项，这使得用户更容易插入值。</p><p id="daf5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将分别接受每个特征值如<strong class="is hj">萼片长度</strong>和<strong class="is hj">宽度</strong>，以及<strong class="is hj">花瓣长度</strong>和<strong class="is hj">宽度</strong>，使用滑块选项定义用户可以选择的值之间的范围，并将这些值存储在一个名为" data "的变量中，显示为:</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="d280" class="kz la hi kv b fi lb lc l ld le">SepalLengthCm = st.slider('SepalLengthCm:', 2.0, 6.0)<br/>SepalWidthCm = st.slider('SepalWidthCm:', 0.0, 5.0)<br/>PetalLengthCm = st.slider('PetalLengthCm',0.0, 3.0)<br/>PetalWidthCm = st.slider('PetalWidthCm:', 0.0, 2.0)</span><span id="1544" class="kz la hi kv b fi lf lc l ld le">data = {'SepalLengthCm': SepalLengthCm,<br/>        'SepalWidthCm': SepalWidthCm,<br/>        'PetalLengthCm': PetalLengthCm,<br/>        'PetalWidthCm': PetalWidthCm}</span></pre><p id="2621" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们收集的数据需要转换成一个<strong class="is hj">数据帧</strong>，然后使用它进行预测，可以这样做:</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="f282" class="kz la hi kv b fi lb lc l ld le">features = pd.DataFrame(data, index=[0])</span></pre><p id="23e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，是时候向我们的分类器模型提供这些输入了，它将最终预测鸢尾花的<strong class="is hj">类别</strong>，作为输出！</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="5bb8" class="kz la hi kv b fi lb lc l ld le">pred_proba = model.predict_proba(features)<br/>#or<br/>prediction = model.predict(features)</span></pre><p id="5026" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，“<strong class="is hj"> predict_proba </strong>命令，将基本上以我们的模型预测的每个类别的概率百分比的形式给出预测，或者您可以只使用“<strong class="is hj"> predict </strong>”来简单地预测类别。</p><p id="60a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们已经完成了模型预测，除了向我们的用户展示结果，这可以通过，</p><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="a36f" class="kz la hi kv b fi lb lc l ld le">st.subheader('Prediction Percentages:') </span><span id="d72e" class="kz la hi kv b fi lf lc l ld le">st.write('**Probablity of Iris Class being Iris-setosa is ( in % )**:',pred_proba[0][0]*100)</span><span id="414b" class="kz la hi kv b fi lf lc l ld le">st.write('**Probablity of Isis Class being Iris-versicolor is ( in % )**:',pred_proba[0][1]*100)</span><span id="4935" class="kz la hi kv b fi lf lc l ld le">st.write('**Probablity of Isis Class being Iris-virginica ( in % )**:',pred_proba[0][2]*100)</span></pre><p id="36d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们完成了基本 Streamlit <strong class="is hj"> Web 应用程序</strong>的编码，</p><p id="bf94" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在执行以下步骤，打开您的 Web 应用程序，它将在您的本地服务器<strong class="is hj">上呈现。</strong></p><ol class=""><li id="6ac9" class="lg lh hi is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo bi translated">打开您的终端，并激活虚拟环境(如果有)。</li><li id="06c4" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated">更改保存 Web 应用程序 python 文件的目录。</li><li id="c8de" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated">执行命令"<strong class="is hj"> streamlit run app.py </strong>"在本地服务器上呈现您的应用程序！</li></ol><pre class="jy jz ka kb fd ku kv kw kx aw ky bi"><span id="adbe" class="kz la hi kv b fi lb lc l ld le">$ activate YourVirtualenvironment</span><span id="4ad8" class="kz la hi kv b fi lf lc l ld le">$ cd Your/saved/file</span><span id="6cc5" class="kz la hi kv b fi lf lc l ld le">$ streamlit run app.py</span></pre><p id="27a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">恭喜你！</strong>，您已经创建了自己的 Streamlit 应用程序！，您的应用程序可能会像这样，</p><figure class="jy jz ka kb fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/b756e4e93101bf1aac3720c03791ac04.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*ZR3HaGgwwwKhI5zuGAYSrA.jpeg"/></div></figure><p id="551e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">另外</strong>，建议阅读 streamlit 的官方文档，并尝试新事物，以便探索 Streamlit 提供的更多漂亮功能！</p><p id="4fa4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">应用程序的 GitHub 链接</strong>:</p><div class="kc kd ez fb ke kf"><a href="https://github.com/GauravSahani1417/Blog-Starting-off-with-Streamlit-Beginner-s-Approach-" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">gauravsahani 1417/Blog ----以流畅的方式开始----初学者的方法</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">这些内容参考了我的博客——用 streamlit(初学者方法)开始，其中我已经演示了…</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">github.com</p></div></div><div class="ko l"><div class="lv l kq kr ks ko kt io kf"/></div></div></a></div><p id="e2be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请留下一张<strong class="is hj"> Upvote！</strong>，如果你真的喜欢这个解释，以及真诚的评论，请改进！，这促使我想出更多这样的博客:)</p><p id="a047" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">在 Linkedin 上与我联系:</strong></p><div class="kc kd ez fb ke kf"><a href="https://www.linkedin.com/in/gaurav-sahani-6177a7179/" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">印度马哈拉施特拉邦塔那塔那理工学院</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">查看高拉夫·萨哈尼在全球最大的职业社区 LinkedIn 上的个人资料。高拉夫有两个工作列在他们的…</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">www.linkedin.com</p></div></div><div class="ko l"><div class="lw l kq kr ks ko kt io kf"/></div></div></a></div><p id="2a76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">非常感谢！</p></div></div>    
</body>
</html>