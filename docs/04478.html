<html>
<head>
<title>Iterator in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的迭代器</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/iterator-in-python-658e05ecf031?source=collection_archive---------9-----------------------#2020-03-21">https://medium.com/analytics-vidhya/iterator-in-python-658e05ecf031?source=collection_archive---------9-----------------------#2020-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ee7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个博客将帮助你理解下面的概念。</p><ul class=""><li id="eb0e" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">什么是可迭代的</li><li id="8240" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">什么是迭代器</li><li id="9c66" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">for循环下迭代如何工作</li><li id="ffd8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">什么是迭代器协议</li><li id="24da" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">什么是懒评</li><li id="c0ed" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">迭代器的好处</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es jr"><img src="../Images/680ae5958f9fa666a962634e2401b44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*gPRkRqdxZ_lsm4f7DAFxLQ.png"/></div></figure><h1 id="6370" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是可迭代的:</h1><p id="f267" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">Iterable是能够一次返回一个成员的任何Python对象，并且可以在for循环中迭代。列表、字符串、元组都是iterable的例子，因为我们可以一个一个地提取这个元素的成员，也可以循环迭代。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/4b31984377eeed2e97b88b5052f59ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FcZzjZocLAuVu19C9jc2pg.png"/></div></div></figure><p id="cecf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的例子中，我们已经创建了nums形式的列表，然后使用for循环进行迭代。</p><p id="1679" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以现在的问题是，我们如何知道对象是否是可迭代的？</p><p id="3de6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">答:如果对象包含__iter__()方法(也称为dunder或magic方法),那么它是一个可迭代的，我们可以使用内置的“dir”关键字检查对象是否包含__Iter__()方法。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lh"><img src="../Images/df68ab79664d933dc36f07e5f6356670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c8elu2-y7UeEjj1GMJfP_g.png"/></div></div></figure><p id="98a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在很清楚，任何包含__iter__()方法的对象都是可迭代的。</p><h1 id="3df6" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是迭代器:</h1><p id="a1a1" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">迭代器是一个对象，它通过迭代存储当前状态，并在调用next()方法时产生下一个值。因此，任何具有__next__()方法的对象都是迭代器。我们可以通过将iter()内置函数应用于iterable来创建迭代器对象。</p><p id="894c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用next方法从序列中的迭代器获取数据，一旦数据被消耗，它将抛出StopIteration异常。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es li"><img src="../Images/51666c65313738176d29c723d69323de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2iYdsENLxEcLTbrF89vLw.png"/></div></div></figure><p id="37a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，迭代器是包含__next__()方法的对象，让我们使用内置的“dir”关键字来验证这一点。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lj"><img src="../Images/3f35507a4e0e9e5b5f2f7d072ef94397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UExUGFzsJggDTlkG_JeXaA.png"/></div></div></figure><p id="835f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上图我们可以得出结论，迭代器是可迭代的，因为它也包含__iter__()方法。</p><h1 id="10bf" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">在for循环下迭代如何工作:</h1><p id="329d" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">我们可以在python中使用for循环来迭代字符串、列表和元组等可迭代对象。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es lk"><img src="../Images/8e335c472d0fb8b61215fe12197fddbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*AO3pQszEGrvKxf0QlMMxkQ.png"/></div></figure><p id="bbc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是这实际上是如何实现的呢？让我们看一看。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div class="er es ll"><img src="../Images/6f51c6806573c650aa57303fba98ef20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*5J8iAuRXofe8U7C2Q_dDDw.png"/></div></figure><p id="ade4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面的代码我们可以理解，for循环在内部使用while循环和迭代器。</p><h1 id="ad9e" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是迭代器协议:</h1><p id="4912" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">Python迭代器协议包括两个函数，一个是iter()，另一个是next()。iter()函数用于将iterable对象转换为迭代器，next()函数用于获取下一个值。</p><h1 id="1242" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">什么是懒评:</h1><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lm"><img src="../Images/7b35d2b5c4d2957e7944a8aa664241f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fL65QtQnw6P0IzrZ"/></div></div></figure><p id="d286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">迭代器允许我们创建惰性可迭代对象，在我们向它们请求下一项之前，它们不做任何工作。</p><p id="8064" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于它们的懒惰，迭代器可以帮助我们处理无限长的可迭代对象。在某些情况下，我们甚至不能在内存中存储所有的信息，所以我们可以创建迭代器，每当我们请求下一个元素时，它就会给我们。</p><p id="093c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">迭代器帮助我们节省内存和CPU时间，这种方法被称为惰性求值。</p><h1 id="7538" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">迭代器的优点是什么？</h1><ul class=""><li id="9d6a" class="jd je hi ih b ii kx im ky iq ln iu lo iy lp jc ji jj jk jl bi translated">python中的迭代器节省资源。为了得到所有的元素，当时只有一个元素被存储在内存中，不像列表或元组那样所有的值都被一次存储。</li><li id="7e4e" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">对于较小的数据集，迭代器和基于列表的方法具有相似的性能，对于较大的数据集，迭代器节省了时间和空间。</li><li id="9c85" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">更干净的代码。</li><li id="4747" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">迭代器可以处理无限序列。</li></ul></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><p id="4788" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！如果你喜欢这篇文章，留下一些吧👏🏻并分享一下！请在评论中告诉我你的想法。我也很乐意在LinkedIn上联系。再次感谢，继续学习！</p></div></div>    
</body>
</html>