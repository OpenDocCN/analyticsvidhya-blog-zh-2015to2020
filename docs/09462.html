<html>
<head>
<title>Predictive modelling of Singapore Housing Prices — Analyse Singapore’s Property Price (Part III)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新加坡房价预测模型——新加坡房地产价格分析(三)</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/singapore-housing-prices-ml-prediction-analyse-singapores-property-price-part-iii-bd9438077423?source=collection_archive---------5-----------------------#2020-09-07">https://medium.com/analytics-vidhya/singapore-housing-prices-ml-prediction-analyse-singapores-property-price-part-iii-bd9438077423?source=collection_archive---------5-----------------------#2020-09-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1ee3fbe53fdff887e603e5fba1bb8ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epBB_tpieAgBJx4ljVT2lg.png"/></div></div></figure><blockquote class="iq ir is"><p id="7405" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这个关于新加坡房价的系列文章的第一部分中，我将重点放在提取额外的信息，并创造新的与距离相关的变量，这些变量可能会对房价产生影响。在<a class="ae js" rel="noopener" href="/analytics-vidhya/geospatial-data-visualisation-with-plotly-analyse-singapores-property-price-part-ii-eb4f8eb24d05">第二部分</a>中，通过数据可视化，我已经表明公寓与生活设施的接近程度，尤其是交通、食品中心和顶级学校，对房价有重大影响。</p><p id="6cd5" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这最后一部分，我将分享一些流行的机器学习算法来预测房价和我建立的 live 模型。我的目标是基于可用的数据集，找到一个可以生成高精度房价的模型，这样，给定一个新的房产和所需的信息，我们就可以知道该房产是估价过高还是过低。</p></blockquote></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="af53" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">使用的机器学习算法简介</h1><p id="b977" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">我探索了用于预测新加坡房价的 5 种机器学习算法，即多元线性回归、lasso、ridge、决策树和神经网络。</p><p id="750a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">多元线性回归模型，顾名思义，是一种广泛使用的模型，它假设自变量和因变量(价格)之间呈线性关系。这将是我的比较基准模型。</p><p id="c2b4" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">Lasso 和 ridge 是在参数过多时减少模型复杂性和过度拟合的模型。例如，套索模型将有效地缩小一些变量，这样它只考虑一些重要的因素。虽然数据集中只有 17 个变量，而且变量的数量可能不算多，但分析这些模型的有效性仍然是一个很好的练习。</p><p id="81c4" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">决策树是一种易于理解的模型，它使用一组二元规则来实现目标值。这对于决策非常有用，因为可以绘制树形图来帮助理解每个变量的重要性(树中的变量越高，变量越重要)。</p><p id="decf" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">最后，我还探索了一个简单的多层感知器神经网络模型。简而言之，数据输入通过几层“过滤器”(前馈隐藏层)，模型学习如何通过改变“过滤器”矩阵中的值来最小化损失函数。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="5fca" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">数据集概述</h1><p id="f898" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">从数据集中获得了 17 个独立变量，其中近 1/3 的变量与公寓的特征相关，如建筑面积、位置、剩余租赁年数等。其他变量与公寓到公共设施的距离以及附近的犯罪率有关。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/983b3a81a706bd694500bdce5b2547c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q34EccL909E64KazsaJSNQ.png"/></div></div></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/09f7b216f52390c90738dc746d74ffc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gexRCgL0AUhshdyUTmq_Iw.png"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="c0f6" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">数据集探索性聚类可视化</h1><p id="749a" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">我没有运行大量的 pairplots 相关图，而是使用 T-分布式随机邻居嵌入(t-SNE)，一种机器学习算法来进一步可视化自变量和房价之间的相关性。t-SNE 将高维数据降低到低二维空间。17 个独立变量被简化为 x-y 坐标，每个数据点的颜色代表公寓的价格。下图清楚地显示了按统一价格对数据点进行的聚类。因此，如果我们运行回归算法，我们应该获得高度准确的预测模型。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1ee3fbe53fdff887e603e5fba1bb8ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*epBB_tpieAgBJx4ljVT2lg.png"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="591b" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">预测建模的数据集准备</h1><p id="4760" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">训练和测试数据集被 80/20 分割并缩放。独立变量(X_train，X_test)的缩放对于模型收敛和速度都是至关重要的。如果我们不对大特征值进行缩放，优化函数可能不会收敛，因为数据可能会大幅波动，并且大数据点也将主导学习过程，从而导致模型不准确。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="339c" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">机器学习算法</h1><p id="e906" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">Sklearn 是一个流行的库包，它提供了不同机器学习算法的易访问性和应用。我分享了下面的代码来展示使用 sklearn 库包应用各种算法的容易程度，因为它们具有相似的代码语法。</p><p id="a199" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">此外，我还使用 tensorflow 构建了一个多层感知器神经网络。由于数据集相对较小，当运行 500 个批量大小为 128 的 epoches 时，它不会导致任何计算效率低下。我已经尝试在每个隐藏层中使用较少数量的神经元，并且训练损失的收敛要慢得多。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="5a47" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">结果</h1><p id="44a6" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">因此，我们终于看到了这篇文章中令人兴奋的部分。结果。</p><p id="9c93" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">如上所述，我调查了两种情况，其中我只考虑了公寓的特点，另一种情况下，我包括了更多的变量，如离设施的距离。</p><p id="d038" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">结果表明，对于一些算法，额外的变量将模型准确性(使用 sklearn 度量标准“解释 _ 方差 _ 得分”，类似于 R2)提高了 10%。基线模型(多元线性回归)精确度从 73%增加到 84%。这表明了地理距离变量的重要性。lasso 和 ridge 的结果与基线模型差别不大。对于神经网络算法，与两种情况下的基线模型相比，它报告了更高的准确性。</p><p id="2e7b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">决策树算法在这两种情况下都表现最佳。特别是，它实现了 94%的高准确率，而不考虑添加的额外变量。该算法还报告平均绝对误差(“MAE”)为 24，997 美元，是各种预测模型中最低的。与一套公寓的价格相比，这是相当低的。从 15 万美元到 120 万美元不等</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/b0cb9560936c45940d3c11358ce9ebf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxMJ8K8C5Uaz8Eu81AIYnw.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">仅使用平板的特征变量</figcaption></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/38962cd24a2fe66fa40c674abdbedf24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQsT2T4AXh2oBvgQ53CouQ.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">使用更多的变量，包括到公共设施的距离和每个街区的犯罪率</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="992e" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">构建一个实时模型</h1><p id="a44e" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">回到关于新加坡房价的系列文章的目标，目的是生成基于地理距离的变量，确定它们在预测建模中是否有用，如果有用，则创建一个模型来帮助确定房子的价值是过高还是过低。</p><p id="6c61" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">由于我已经将到娱乐设施的距离确定为重要变量，并且决策树算法在所研究的算法中具有最高的准确性，因此我随后基于这些发现构建了一个实时模型(使用决策树算法)。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="d865" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">用户必须输入 3 个信息(“公寓的地址”、“公寓的楼层面积”和“公寓的楼层”)。其余变量从公共住房的<a class="ae js" href="https://data.gov.sg/dataset/hdb-property-information" rel="noopener ugc nofollow" target="_blank">元数据中提取，并使用第一部分</a>中的<a class="ae js" rel="noopener" href="/@michael.wy.ong/web-scrape-geospatial-data-analyse-singapores-property-price-part-i-276caba320b">代码生成地理距离变量。使用僧康地区</a><a class="ae js" href="https://www.propertyguru.com.sg/" rel="noopener ugc nofollow" target="_blank"> propertyguru </a>上的两个最新列表，并假设它们在第 8 层(在属性列表中没有显示该层)，注意到一个属性低于预测值销售，而另一个属性以预测值销售。这可以帮助买家确定他们感兴趣的公寓是否得到了合理的价格；也有助于卖家确定他们是否为其单位设定了合理的挂牌价。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/409bcf4ee741262671eec56441d8030a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xoAjE48IAswITFUtbY5F0A.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">例 1:出售物业的挂牌价格</figcaption></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/fe4c5f49f5e526546cc06ced52b4fd09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9pmtihH04HjpwCX1pSV5hA.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">示例 1:模型显示预测价格高于房产的挂牌价格</figcaption></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/74eae79dd234daaf2aafe83f519c4e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NBj-5BJOtjB3FzKQ_rwKEw.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">例 2:出售物业的挂牌价格</figcaption></figure><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/13d58c0b340644b75336053a982e545f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NaYnIxfMWRe0fgk38sjuKg.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">示例 2:模型显示预测价格与房产的挂牌价格相似</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="c21d" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">结论</h1><p id="b0a3" class="pw-post-body-paragraph it iu hi iw b ix ky iz ja jb kz jd je la lb jh ji lc ld jl jm le lf jp jq jr hb bi translated">在新加坡房价系列的最后一部分，我研究了各种机器学习算法来预测房价，并得出结论，决策树算法(在所研究的 5 种模型中)具有最高的准确性。此外，我建立了一个实时模型，这样它可以获取任何新的公寓列表，生成公寓的预测值，并与房地产的列表价格进行比较。这将表明上市单位是否是一个“好买卖”。</p><p id="5796" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je la jg jh ji lc jk jl jm le jo jp jq jr hb bi translated">模型的准确性可以进一步提高，例如考虑其他时间序列变量，即宏观经济变量。此外，交叉验证总是确保模型一致性的好方法。然而，由于从该模型获得的高准确率，它应该足以用于这项研究。</p></div></div>    
</body>
</html>