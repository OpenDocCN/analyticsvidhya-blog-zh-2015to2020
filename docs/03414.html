<html>
<head>
<title>Human Activity Tracker System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人类活动跟踪系统</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/human-activity-tracker-system-2435b532b05e?source=collection_archive---------8-----------------------#2020-01-30">https://medium.com/analytics-vidhya/human-activity-tracker-system-2435b532b05e?source=collection_archive---------8-----------------------#2020-01-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/74372063e960180076f09c3b18074658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0g1KelH7nfbE72eq"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@chanderr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Chander R </a>拍摄的照片</figcaption></figure><h1 id="d0c2" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak"> <em class="jt">动机</em> </strong></h1><p id="0630" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">随着智能设备(如手机和健身手表)的出现和普遍存在，数据挖掘研究和数据挖掘应用开辟了一个令人兴奋的新领域。这些设备具有强大的传感器，如GPS传感器、音频传感器、方向和加速度传感器，如加速度计和陀螺仪，能够非常准确地实时读取和处理数据。</p><p id="30a9" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">我一直想知道智能手机和健身手表是如何知道我在跑步、散步、骑自行车或只是昏昏欲睡了一段时间。该项目旨在揭开这一神秘面纱，并构建一个系统，该系统可以使用来自加速度计(尤其是陀螺仪)的一些传感器数据来准确检测活动。</p><p id="3571" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">之前在这方面已经做了很多工作，例如在Android上使用LSTMs的<a class="ae iu" rel="noopener" href="/@curiousily/human-activity-recognition-using-lstms-on-android-tensorflow-for-hackers-part-vi-492da5adef64">人类活动识别—黑客TensorFlow(第六部分)</a>和使用手机加速度计的<a class="ae iu" href="http://www.cis.fordham.edu/wisdm/includes/files/sensorKDD-2010.pdf" rel="noopener ugc nofollow" target="_blank">活动识别</a>等等。</p><p id="7c97" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">这有大量的应用。有可能为手机和手表等智能设备提供高度个性化和定制化的体验。还可以确定用户是否遵循健康的锻炼程序。让我们看看我们的模型根据传感器数据预测活动的准确性。兴奋地探索这个！</p><p id="d0d6" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">数据集链接—<a class="ae iu" href="http://With the advent and now ubiquitous presence of smart devices such as cellular phones and fitness watches around us, an exciting new area of data mining research and data mining applications have been opened up. These devices have powerful sensors like GPS sensors, audio sensors, direction and acceleration sensors like accelerometers and gyrometer, which are capable of reading and processing the data quite accurately and in real time. I have always wondered how the smartphones and fitness watches know when I am running, walking, cycling or just have been lethargic for a while . The project is aimed to demystify this and build a system which can accurately detect the activity using some of the sensor data from the accelerometer and gyrometer in particular. A lot of previous work has been done in this regard like Human Activity Recognition using LSTMs on Android — TensorFlow for Hackers (Part VI) and this Activity Recognition using Cell Phone Accelerometers, to quote a few. This has a large number of applications. There is a possibility of providing a highly personalized and customized experience of smart devices like phones and watches. Also it can be determined if the user is following a healthy exercise routine or not. Let’s see how accurately our model is able to predict the activity based on the sensor data.Excited to explore this! Datasetlink - https://archive.ics.uci.edu/ml/machine-learning-databases/00507/" rel="noopener ugc nofollow" target="_blank">https://archive . ics . UCI . edu/ml/machine-learning-databases/00507/</a></p><h1 id="1c0e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak"> <em class="jt">问题陈述</em> </strong></h1><p id="bde5" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">任务是将用户活动分成三组(<strong class="jw hj">非面向手的活动</strong>如跑步、慢跑、<strong class="jw hj">面向手的活动-一般</strong>如拍手、叠衣服、<strong class="jw hj">面向手的活动-吃东西</strong>如吃食物、喝水)，这三组活动由基于传感器数据的18个给定活动组成。在机器学习领域，这是一个多类分类和监督学习问题。该想法是建立一个系统(模型)，该系统从手表和手机中的加速度计和陀螺仪等传感器获取输入，并准确预测用户活动组。</p><h1 id="ba9e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">评估指标</h1><p id="4585" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">将对分类模型的准确性进行评估。在检测人体活动时，准确性是一个重要因素。期望该系统尽可能高精度地预测活动，以便依赖于它的其他系统可以采取适当的动作作为响应。准确度衡量分类器做出正确预测的频率。它是正确预测的数量与预测总数(测试数据点的数量)的比率。在多类分类问题的情况下，可以使用下面的公式从混淆矩阵计算准确度。</p><h2 id="67b8" class="kx iw hi bd ix ky kz la jb lb lc ld jf kf le lf jj kj lg lh jn kn li lj jr lk bi translated"><strong class="ak">精度=总和(对角线(矩阵))/总和(矩阵))</strong></h2><h1 id="0013" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据集特征和描述</h1><p id="1a4a" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">原始加速度计和陀螺仪传感器数据以20Hz的速率从智能手机和智能手表中收集。它是在51名测试对象进行18项活动时收集的，每项活动持续3分钟。传感器数据用10秒的窗口表示。</p><p id="dc00" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">更多信息可参考该文件— <a class="ae iu" href="https://archive.ics.uci.edu/ml/machine-learning-databases/00507/WISDM-dataset-description.pdf" rel="noopener ugc nofollow" target="_blank">交易/常规文件标题</a></p><h1 id="8aa7" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据探索</h1><p id="e0fb" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">这些文件分布在手机和手表文件夹中，并进一步分离为陀螺仪和加速度计文件夹。作为第一步，我必须将这些文件夹中的所有文件组装到一个数据框中。基于初步数据分析，以下是观察到的元信息。</p><p id="675c" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●记录总数:75，099</p><p id="842d" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●特征总数:93</p><p id="eb7c" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●类别总数:18</p><p id="df93" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●空白行数:无</p><p id="85a3" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●数据类型:浮点型、字符串型以及正值和负值的混合</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/55b423833eef16e34d1512168d6cf9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GaqnHMf2uNM5HgztaLCT5w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">活动数据集一瞥</figcaption></figure><h1 id="bf40" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据清理</h1><p id="ea62" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated"><strong class="jw hj"> ACTIVITY </strong>列和class列需要被格式化，以删除不必要的引号和附加在它后面的变量(b)。activity列也有关联的ACTIViTY代码，我们创建一个新列activity_name以更好地可视化数据集。</p><p id="ab42" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">映射是从activity_key.txt文件中读取的。映射是activty _ map = { ' A ':'行走'，' B ':'慢跑'，'楼梯'，' D ':'坐着'，' E ':'站立'，' F ':'打字'，' G ':'牙齿'，' H ':'汤'，' I ':'薯片'，' J ':'意大利面'，' K ':'喝酒'，' L ':'三明治'，' M ':'踢'，' O ':'接住'，' P ':'运球'，'写字'，' R ':'拍手'，' S ':'折叠' }</p><h1 id="113a" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据可视化</h1><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/f268420605db616a697dc280c90bebd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FipgB_8o2TdT3GscMfPUtA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">活动数据分布</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/54644c5f48001df0dd817fce29b47c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DriZVOT7GGe3HFOOgkdLw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">个人活动计数</figcaption></figure><p id="da48" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><em class="ls">受试者id为1610的个人似乎在数据收集阶段非常活跃，而受试者id为1616的个人似乎没有得到足够的报酬来参与。</em></p><h1 id="5417" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">算法和技术</h1><p id="1e5c" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">为任何数据科学任务选择正确的模型都是一项棘手的工作。基于以前的工作和经验，我们可以在决定从数据集获得洞察力的正确技术方面做出明智的决定，从而做出决策。数据集中的要素是数值数据，而标注是分类变量。</p><p id="6dd5" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">为了处理这个分类问题，研究了以下算法。</p><ol class=""><li id="071a" class="lt lu hi jw b jx ks kb kt kf lv kj lw kn lx kr ly lz ma mb bi translated">线性学习者</li><li id="3940" class="lt lu hi jw b jx mc kb md kf me kj mf kn mg kr ly lz ma mb bi translated">线性SVC</li><li id="ef7a" class="lt lu hi jw b jx mc kb md kf me kj mf kn mg kr ly lz ma mb bi translated">近邻分类器</li></ol><p id="7841" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><a class="ae iu" href="https://aws.amazon.com/sagemaker/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw hj">亚马逊sagemaker </strong> </a>用于结果的构建、训练、部署和推断。Scikit-learn库用于实现不同的其他分类器。Amazon sagemaker提供了开箱即用的支持。</p><p id="617d" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">线性学习者的工作原理是一个对所有的原理。这种策略包括为每个类安装一个分类器，因此在计算上是可行的。线性学习器使用softmax损失函数来训练多类分类器。该算法为每个类别学习一组权重，并预测每个类别的概率。该算法相对较快且易于实现。早期它用于二元分类，但现在sagemaker有了超参数，可以指定它用于多类分类器。因此，选择它来创建基础模型就成了一个自然的选择。</p><p id="9317" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">根据过去的经验和研究，已知支持向量机(SVM)在多类分类方面表现良好。进一步研究了线性SVC和KNeighborsClassifier，以提高基本模型的精度。</p><p id="8fca" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">线性SVC再次以一对一原则工作。它类似于参数kernel='linear '的SVC，但根据liblinear而不是libsvm实现，因此它在选择惩罚和损失函数方面具有更大的灵活性，并且可以更好地扩展到大量样本。(在我们的例子中约为75000)与SVC相比。</p><p id="c9f0" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">就分类而言，KNeighborsClassifier似乎是一个极好的选择。KNeighborsClassifier是一种非参数的惰性学习算法。它本质上的意思是，它没有对数据集分布做任何假设，这与真实世界的数据非常相似。此外，它不需要任何训练数据点来生成模型。测试阶段使用的所有训练数据。我们在调优阶段使用超参数<strong class="jw hj"> n_neighbors </strong>来获得良好的精度</p><h1 id="839b" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">基准</h1><p id="3412" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">对于这个问题，基准模型是线性学习者模型。它是用训练数据和将预测器类型的超参数设置为“多类分类器”来训练的。然后探索了比该模型更精确的进一步算法。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/09041fdb6b6271ce8e7c48d08058a675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*samMxbKR4b9QvZhkcanhoA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">萨格马克估计量</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/72ceef9b007b8fc73155b2afec3551ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PS8x6PrA2tSJKIe0gm_9NA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">线性学习者模型的混淆矩阵</figcaption></figure><blockquote class="mi mj mk"><p id="712d" class="ju jv ls jw b jx ks jz ka kb kt kd ke ml ku kh ki mm kv kl km mn kw kp kq kr hb bi translated"><strong class="jw hj">基准准确率得分约为56% </strong></p></blockquote><h1 id="7b7f" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据预处理</h1><p id="18f0" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">这涉及到一些列名清理，从列值中删除不必要的字符，如""、''、b。数据点被分为18个不同的类别或活动数量。</p><p id="bdcd" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">对于本项目，这些类别进一步分为以下三类。</p><p id="dcfe" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><strong class="jw hj"> 0:(非面向手的活动)</strong>{行走、慢跑、爬楼梯、站立、踢腿}</p><p id="7699" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><strong class="jw hj"> 1:(手部为主的活动——一般)</strong>:{运球、玩接球、打字、写字、拍手、刷牙、叠衣服}</p><p id="12e7" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><strong class="jw hj"> 2:(面向手的活动——吃):</strong>{吃面食、喝汤、吃三明治、吃薯片、喝酒}目标变量是活动，其值可以是0、1或2。其被进一步映射到相应的组。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/0f0156cb4b3481671b88baaa6c5cb7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-hswk9zAXM1nUejpwZyew.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">人类活动标签分布</figcaption></figure><h1 id="1106" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">数据标准化</h1><p id="8ef1" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">在探索阶段，我们发现列值或特性的范围很大。值的范围从负数到大正数。对于好的模型，必须缩放特征，使值介于0和1之间。</p><p id="7989" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">来自scikit-learn的MinMaxScaler用于单独缩放和翻译每个特征，使得它在训练集的给定范围内，例如在0和1之间。</p><h1 id="00b4" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">特征选择</h1><p id="e001" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">因为在这种情况下有太多的特征，总共91个，所以需要选择特征。它能够选择对预测类别贡献最大的那些特征。</p><p id="540c" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><strong class="jw hj">单变量选择</strong>用于选择10个最重要的特征。它通过基于单变量统计测试选择最佳特征来工作。它可以被看作是估计器的预处理步骤。SelectKBest算法会删除除10个最高得分特征之外的所有特征。以下是基于分数的10大重要特征。</p><p id="2281" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated"><strong class="jw hj">卡方统计得分</strong>可用于从特征列表中选择测试卡方统计值最高的n_features特征，该列表必须仅包含相对于类的非负特征，例如布尔或频率(例如，文档分类中的术语计数)。该测试测量随机变量之间的相关性，因此使用该函数“剔除”最有可能独立于类别并因此与分类无关的特征。</p><p id="0802" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">以下是功能选择的输出:</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/d532e7a57eba2fbeef44b0dcba0cfaf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WhbTrM7ZR26r4wAWU3yz-Q.png"/></div></div></figure><h1 id="e80f" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">履行</h1><p id="a60d" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">该工作流程在jupyter notebook和amazon sagemaker中实现。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/c3b868fd31772905cddf2427c1174a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-uBuT1QRlZhSHdOqw7yFA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Sagemaker工作流程</figcaption></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/278ca300b7e5c8d296089681fd1c0990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jnUW5T251xb2VNAkWVaMqA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">实施可以分为以上步骤</figcaption></figure><h1 id="c70e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">基本模型实现</h1><p id="06e7" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">首先，我们使用Amazon SageMaker线性学习器实现了实现多类的基本模型</p><p id="40a0" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●拆分训练、验证和测试数据:使用sckit-learn库中的Train_test_split实用程序将数据拆分为80%的训练数据、10%的验证数据和10%的测试数据。</p><p id="e64f" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●为线性学习者创建sagemaker估计器:我们提供执行角色、将用于训练模型的实例类型，将predictor_type指定为multiclass_classifier，以告诉算法这是多类分类的情况，将num_classes指定为3，这是类/标签的数量。</p><p id="e7a1" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●拟合模型(训练)和部署:我们创建用于训练、验证和测试的记录集，并训练模型，最后使用sagemaker进行部署</p><p id="4836" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●检查准确性:模型的准确性为56%。</p><h1 id="9061" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">SKLearn模型实现(线性SVC和KNeighborsClassifier)</h1><p id="1818" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">接下来，我们使用scikit-learn库和该库提供的线性svc和KNeighborsClassifier来实现对当前基本模型的改进。</p><p id="e965" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">流程是:</p><p id="86c5" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●使用create_csv函数将训练和测试数据保存在本地库中。</p><p id="8c9d" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●当sagemaker estimator从s3存储桶读取数据时，将数据上传到S3存储桶。</p><p id="72be" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●创建一个sagemaker估计器，指定训练脚本的入口点，该入口点在这两种算法中都是不同的。</p><p id="101f" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●训练脚本(train.py)具有用于加载已训练模型的model_fn和__name__ == '__main__ '块，其中我们使用超参数进行模型训练。</p><p id="b45b" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●训练数据用于训练模型，并部署到sagemaker端点，进一步用于对测试数据进行预测</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/ec392bd3d08c1142fbb5fc276a25dcfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DCidJUa6hwArL4JO5WWtg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">萨格马克估计量</figcaption></figure><h1 id="01ca" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">精炼</h1><p id="a3fa" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">基本模型线性学习器基于vs rest策略，并以56%的准确度预测该类。然后，我们继续使用线性SVC来检查早期的模型是否可以细化或改进，但没有得到改进。准确率为46%。</p><p id="69e9" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">与基础模型相比，线性SVC得分不好。然后我评估了<strong class="jw hj"> KNeighborsClassifier </strong>。</p><p id="cc59" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">在<strong class="jw hj"> KNeighborsClassifier </strong>的情况下，我们不使用默认的超参数，而是调整像<strong class="jw hj"> n_neighbors </strong>这样的超参数来提高模型性能。</p><p id="ce75" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">这是一个改进，因为n_neighbors 从3变为5，再变为7。</p><h1 id="9854" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结果</h1><p id="0f0f" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">根据存储在测试目录中的测试数据对训练好的模型进行测试。找到每个算法的准确度分数，并制作描述结果的混淆矩阵。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/6ed2f9e1777e687c8dfe6c039e9da8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLvyV0axhiL4OVTkJoGylg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">不同型号的准确度得分</figcaption></figure><h1 id="5e1c" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">混淆矩阵和算法准确度分数</h1><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/f791acdbb51e602df1ad571c386919de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z6kIGB3d4QDYYbTiA4-ODw.png"/></div></div></figure><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/c783886a0c9397c661666de0b24e3587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CtpBKPsZXOtKQvEtBHbGfA.png"/></div></div></figure><h1 id="9f5e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">注意事项:</h1><p id="79ef" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">●使用KNeighborsClassifier(n _ neighbors = 13)制作的最终模型在准确性方面比我们的基准模型表现得更好。我们将把这作为我们的最终模型。</p><p id="acfb" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●该型号在精确度方面比基本型号提高了10%。</p><h1 id="256c" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结论</h1><p id="38c0" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">基于传感器数据跟踪用户活动的想法是一个有趣的领域，因为我们每次都带着手机和手表，让我们能够访问大量的数据。这只是从中做出正确的推论。</p><p id="78d5" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">该过程从收集和细化传感器数据开始。对数据进行预处理以使其具有标准化形式，且进行特征选择以保留最相关的特征。</p><p id="9ca4" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">该模型使用sagemaker估计器进行训练，并部署到端点。终点进一步用于对测试数据进行预测，最终我们验证了模型的准确性。</p><p id="11dc" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">Amazon Sagemaker是一个非常方便的工具，尤其是对于刚开始学习ML的人来说。使用sagemaker，我们可以访问强大的资源、仪表盘、见解等。这使得培训、部署和预测过程变得轻而易举。</p><p id="ee4f" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">在识别正确的特征方面，项目有一些困难的方面。此外，在使用tsne时，2D空间中存在类重叠的问题，因此预测可能不是非常准确。</p><p id="d090" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">最终模型KNeighborsClassifier(n _ neighbors = 13)具有62.2%的精度，随着我们收集更多数据并进行进一步改进，该精度足以用于设备。为了将来的增强，该模型可以被认为是基础模型。</p><h1 id="39a8" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">丰富</h1><p id="db7c" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">●通过使用神经网络进行建模，我看到了当前设置的进一步改进。</p><p id="f77a" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">● Sagemakere超调作业可用于进一步微调模型。</p><p id="674f" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●转换后的数据用于本项目，我们可以使用时间序列数据或原始数据建立一个更好的模型。</p><h1 id="4c6c" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">参考</h1><p id="633f" class="pw-post-body-paragraph ju jv hi jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">●<a class="ae iu" href="https://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank">https://archive.ics.uci.edu/ml/index.php</a></p><p id="588f" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●<a class="ae iu" href="http://www.cis.fordham.edu/wisdm/includes/files/sensorKDD-2010.pdf" rel="noopener ugc nofollow" target="_blank">http://www . cis . Fordham . edu/wisdm/includes/files/sensor KDD-2010 . pdf</a></p><p id="d384" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●<a class="ae iu" href="https://towardsdatascience.com/feature-selection-techniques-in-machine-learning-with-python-f24e7da3f36e" rel="noopener" target="_blank">https://towards data science . com/feature-selection-techniques-in-machine-learning-with-python-f 24 e 7 da 3 f 36 e</a></p><p id="a676" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">●基于智能手机和智能手表的生物识别技术，利用日常生活活动。IEEE访问，2019年9月7日:133190–133202</p><blockquote class="mi mj mk"><p id="f148" class="ju jv ls jw b jx ks jz ka kb kt kd ke ml ku kh ki mm kv kl km mn kw kp kq kr hb bi translated">你可以在Github链接上找到代码:<a class="ae iu" href="https://github.com/anshul2209/Human-Activity-Tracker" rel="noopener ugc nofollow" target="_blank">https://github.com/anshul2209/Human-Activity-Tracker</a></p></blockquote><p id="38ce" class="pw-post-body-paragraph ju jv hi jw b jx ks jz ka kb kt kd ke kf ku kh ki kj kv kl km kn kw kp kq kr hb bi translated">如果你觉得这很有用，别忘了点击👏。</p></div></div>    
</body>
</html>