<html>
<head>
<title>Part 1:Deploy Flask App+Anaconda+Gunicorn+Nginx on Ubuntu</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第1部分:在Ubuntu上部署Flask App+Anaconda+guni corn+Nginx</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/part-1-deploy-flask-app-anaconda-gunicorn-nginx-on-ubuntu-4524014451b?source=collection_archive---------6-----------------------#2020-02-14">https://medium.com/analytics-vidhya/part-1-deploy-flask-app-anaconda-gunicorn-nginx-on-ubuntu-4524014451b?source=collection_archive---------6-----------------------#2020-02-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1a11caa65a6dd2114a00ea29438c7c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xVYJFRIhaCEmgzLg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">萨法尔·萨法罗夫在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a724" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">一个非常热情的机器学习开发者创造了一个非常有趣的ML模型。由于无法控制与他人分享的渴望，他决定创建API并与他人分享。经过不太长时间的寻找，他发现了一个巨大的框架——烧瓶。API是在很短的时间内创建的，并通过运行测试。py文件照常。开发人员非常高兴，他将它部署在服务器上。现在，他的许多同事开始抨击API，只是为了检查他为什么对此如此大惊小怪。迎接他们的是惊喜——“服务器出错”。</em></p><p id="ad57" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Flask提供的内部服务器用于本地测试，而不是生产。我们需要创建客户机-服务器框架来处理用户请求。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="58f8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Flask:用于web应用的python框架</p><p id="affa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Gunicorn:处理客户机请求的应用服务器</p><p id="e24c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Nginx:网络服务器</p><p id="d8d2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我们不会深入讨论flask a或gunicorn或nginx的细节。我们将看到如何部署和运行flask应用程序。请注意，应用程序和web服务器还有其他选项。</p><ol class=""><li id="d297" class="kb kc hi ix b iy iz jc jd jg kd jk ke jo kf js kg kh ki kj bi translated"><strong class="ix hj">蟒蛇安装</strong></li></ol><p id="4a0f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，更新ubuntu包</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="ba0c" class="kt ku hi kp b fi kv kw l kx ky">sudo apt update <br/>sudo apt-get upgrade<br/>sudo apt-get install build-essential</span></pre><p id="4998" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装Anaconda/Miniconda</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="e992" class="kt ku hi kp b fi kv kw l kx ky">cd ~<br/>wget <a class="ae iu" href="https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh</a><br/>bash Anaconda3-2019.10-Linux-x86_64.sh</span></pre><p id="d6df" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建conda环境并安装所需的软件包</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="245d" class="kt ku hi kp b fi kv kw l kx ky">conda create -n myapp python=3.7.3<br/>conda activate myapp</span><span id="f12d" class="kt ku hi kp b fi kz kw l kx ky">conda install flask<br/>conda install pandas<br/>'<br/>'install as per requirements<br/>'</span></pre><p id="4be7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。Gunicorn安装</strong></p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="52a0" class="kt ku hi kp b fi kv kw l kx ky">pip install gunicorn</span></pre><p id="db3c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。应用创建:api_app.py </strong></p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="767b" class="kt ku hi kp b fi kv kw l kx ky">from flask import Flask<br/>app = Flask(__name__)<br/><br/>@app.route("/")<br/>def hello_world():<br/>    return "Hello World"<br/><br/>if __name__ == "__main__":<br/>    app.run(host='0.0.0.0')</span></pre><p id="b192" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要测试应用程序:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="131e" class="kt ku hi kp b fi kv kw l kx ky">python api_app.py</span></pre><p id="e2af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">应用程序将在machine_ip:5000上运行，在上述情况下，请转到url -http://localhost:5000</p><p id="b3f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。应用程序和Gunicorn之间的连接</strong></p><p id="f769" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建连接器文件以映射flask应用程序和gunicorn服务器。</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="0fe9" class="kt ku hi kp b fi kv kw l kx ky">vi connector.py</span><span id="1249" class="kt ku hi kp b fi kz kw l kx ky">from api_app import app<br/>if __name__ == "__main__":<br/>      app.run()</span></pre><p id="5d35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在通过提供连接器文件和应用程序模块名来运行gunicorn服务器</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="b379" class="kt ku hi kp b fi kv kw l kx ky">gunicorn --bind 0.0.0.0:5000 connector:app</span></pre><p id="de7a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，应用程序将运行在相同的地址:http://localhost:5000上，但是客户端请求将由app server -Gunicorn处理。</p><p id="b9c5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在下一篇<a class="ae iu" rel="noopener" href="/@sarang0909.bds/part-2-deploy-flask-app-anaconda-gunicorn-nginx-on-ubuntu-b12fc4199c59">文章</a>中，我们将看到如何配置web服务器-nginx以实现负载平衡等。</p><p id="6ff0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你喜欢这篇文章或有任何建议/意见，请在下面分享！</p><p id="815f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.linkedin.com/in/sarang-mete-6797065a/" rel="noopener ugc nofollow" target="_blank">领英</a></p></div></div>    
</body>
</html>