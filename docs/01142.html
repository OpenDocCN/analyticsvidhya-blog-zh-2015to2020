<html>
<head>
<title>Data Analysis in Data Science with code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学中的数据分析与代码</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/how-a-toss-decision-in-each-city-impact-a-cricket-match-4ac3d6d2d94f?source=collection_archive---------11-----------------------#2019-10-03">https://medium.com/analytics-vidhya/how-a-toss-decision-in-each-city-impact-a-cricket-match-4ac3d6d2d94f?source=collection_archive---------11-----------------------#2019-10-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1e96" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">第2部分:IPL数据分析</h2></div></div><div class="ab cl ix iy gp iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hb hc hd he hf"><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/30aef1edb9620c8458221353196d722b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2mFe4hgcqbZcm6h4.jpg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">IPL硬币</figcaption></figure><h1 id="c1a8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke io kf ip kg ir kh is ki iu kj iv kk kl bi translated">导入必要的包和数据读取</h1><p id="81c7" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku kv kw kx ky kz la lb lc ld le lf lg lh hb bi translated">从所有特征中，我选择了四个主要特征，它们将帮助我分析每个城市的投掷对比赛结果的影响。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es li"><img src="../Images/ef9780104d1ae50373d1e388aa7ebb48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vXSvNnKKYkkCQ-tKtv0yJw.png"/></div></div></figure><p id="a394" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">为了获得唯一的城市，我创建了一个函数，其中使用了groupby()方法。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lo"><img src="../Images/d4534d51aeef6beb0e8e5753e547cda9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nd4GELUDg1QCLPm3UDrhsw.png"/></div></div></figure><p id="5a12" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">假设我想更新数据集中的一个城市名称，或者在数据收集过程中出现了拼写错误，我的第一步是尽可能地清理数据。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lp"><img src="../Images/40d08873d9f9aa2f56c2080594893b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vdtCqjv6941Gzx3QKSrbcw.png"/></div></div></figure><p id="ee22" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">现在我检查更新后的长度，长度应该与我刚刚替换的城市名称相同。之后，我会找到独特的团队。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lq"><img src="../Images/b31723ae4c1276b2b327a2c86712f747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rNZyeQCRNFsadHWOd053w.png"/></div></div></figure><p id="610c" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">在IPL的不同赛季，球队有不同的名字，所以为了简化我的过程和避免混淆，让我们把他们的名字更新为一个名字。</p><p id="1b6c" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">因此，正在崛起的浦那超级巨星变成了浦那勇士，德干充电器变成了太阳升起者海得拉巴。</p><p id="c885" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">在那之后，我找出了唯一的获奖者，并更新了这里的名字，就像以前一样。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lr"><img src="../Images/37ed337c6059fe21664d5300aa9e2af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*broKyKiGb0rj7AKah6wtdw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">独特的团队</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ls"><img src="../Images/dd42e4b9d3a39affe6d18ee8b85e7250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pdUzzYz0ss2zT9ffUgtVUw.png"/></div></div></figure><p id="e1ec" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">现在我需要寻找任何丢失的值并处理它。让我来看看唯一的赢家，我应该这样做，以检查是否有一个平局，因此将在winner中获得NaN值。总共有3场平局比赛。因此，我应该删除这些行进行分析。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lt"><img src="../Images/6e491ed1685af20ec8d323044881004c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gXduiZ5V7YzDUVpC7kQsRg.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">孟买印度人(2018赛季冠军)</figcaption></figure><p id="007a" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">然后我发现city，toss_decision，toss_winner的计数相等。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/4a3314778690895e505c3abb2159eb0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rg5kF_SOSLqY-YW84Zsg0w.png"/></div></div></figure><p id="adf3" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">看起来很完美…！</p><p id="759b" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">现在，如果<em class="lu"> toss_winner </em>是<em class="lu">赢家</em>，那么<em class="lu"> toss_decision </em>为<em class="lu">真</em>，即决策应该与<em class="lu"> toss_decision </em>相同，否则应该相反</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lv"><img src="../Images/61d43bb92dc8b2e835beac3a41989502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ehwzqpReCANTCpeONapcmw.png"/></div></div></figure><p id="8fda" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我发现有一个拼写错误，在一些数据条目中,“field”被写成了“field ”,所以我也需要纠正这个错误。然后我做了孟买市的分析，我发现孟买印度人在他们的家乡赢了45场比赛，这意味着在他们的主场击败他们是非常困难的。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lw"><img src="../Images/8bff1e0207c9fad268eb494cc2a18829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zvdKN2-ctJO7_iBfliTbaw.png"/></div></div></figure><p id="0515" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">然后，我找出孟买的印度人在掷硬币中获胜的次数，并将这两个数据框合并在一起，以便更好地理解。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lx"><img src="../Images/bfcd8b1332fdb2ccf300f6b6458e92d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tGG8hOav8PJ1DvVSTc3Rig.png"/></div></div></figure><p id="a7cc" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">现在，从我的数据集中删除<em class="lu"> toss_decision </em>、<em class="lu"> toss_winner </em>和<em class="lu"> winner </em>或者只取<em class="lu">城市</em>和<em class="lu">决策</em>列。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ly"><img src="../Images/03363247d09da3873bf10cd409bcd0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*KGh5I4vMrs0LX6n5YKyY3w.png"/></div></figure><p id="1051" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我现在必须使用一个热编码器来转换分类变量。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lz"><img src="../Images/a8c4be1eb7b208f12283b1279c935a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgoBmFKyy6FFyZ0iDv9N2A.png"/></div></div></figure><p id="9b47" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">连接这两个数据框并移除决策字段，为了确认对所有要素进行计数，计数必须相等。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ma"><img src="../Images/01eb66b0a024ad8b3cfe8cc77365fa1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DJMuPFOlnZcusBEqikiBcg.png"/></div></div></figure><p id="d40d" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我现在必须按领域<em class="lu">城市</em>分组，并获得所有统计数据，如总数和百分比。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mb"><img src="../Images/48077938f65198adc979bd0de7b7c951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLWiF49xLa2FrdlUUgE3yA.png"/></div></div></figure><p id="d798" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我找出击球率最高的城市，也就是"开普敦",你先击球，有71%的机会赢得比赛。同样，我们也不确定，但是从历史数据来看，我们可以给出这个说法。</p><p id="135c" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我会找出击球率最低的城市，也就是说，如果你先进入“印多尔”球场，你就有100%的机会赢得比赛。同样，我们也不确定，但是从历史数据来看，我们可以给出这个说法。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mc"><img src="../Images/e1e5f64ebe68c5b54aa4ee010f0e54a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oul9TecyVLfLRv3GN5e4zg.png"/></div></div></figure><p id="277c" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我把这些城市从最高命中率到最低命中率进行了排序。</p><p id="3d7e" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我绘制了代表20个城市(最大到最小)的条形图，在这些城市中，击球首先导致赢得更多比赛。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es md"><img src="../Images/0537d4a5162c280cc32556fc95656e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3HGO4iw3FCo4Jx11IpUojA.png"/></div></div></figure><p id="12b6" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我已经把这些城市从最大投入百分比到最小投入百分比进行了排序。</p><p id="813c" class="pw-post-body-paragraph km kn hi ko b kp lj ij kr ks lk im ku kv ll kx ky kz lm lb lc ld ln lf lg lh hb bi translated">我已经绘制了代表20个城市(最大到最小)的条形图，菲尔丁首先在这些城市赢得了更多的比赛。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es me"><img src="../Images/2ee2acdd973df89eada100b6c3865032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5YPUxCXLurrRwUZoeN5CA.png"/></div></div></figure></div></div>    
</body>
</html>