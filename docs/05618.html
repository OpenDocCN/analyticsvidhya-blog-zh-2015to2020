<html>
<head>
<title>Understanding ETL Pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解ETL管道</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/understanding-etl-pipeline-76718d299a08?source=collection_archive---------4-----------------------#2020-04-27">https://medium.com/analytics-vidhya/understanding-etl-pipeline-76718d299a08?source=collection_archive---------4-----------------------#2020-04-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0a6ed91111b8497d4a829e56465b367e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q25w6qRh89gKmKrPaq9osg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">提取-转换-加载(来源:<a class="ae iu" href="https://www.astera.com/wp-content/uploads/2019/07/ETL-e1563879776366.jpg" rel="noopener ugc nofollow" target="_blank"> Astera </a></figcaption></figure><h1 id="92c5" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">概观</h1><p id="90ca" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">通常，流水线是用于在连续步骤中设计或执行计算机指令的专用模块的线性序列。类似地，数据管道是将数据从一个地方移动到另一个地方的通用术语。例如，它可以将数据从一台服务器移动到另一台服务器。</p><p id="5f5d" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">在现有的众多数据管道方法中，本文简要讨论了最常用的ETL管道。</p><p id="9d6b" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">本文概述:</p><ul class=""><li id="acad" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq lb lc ld le bi translated">ETL管道简介</li><li id="922a" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">例子</li><li id="d5c7" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">ETL管道中的阶段</li></ul><p id="de48" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">ETL管道的一个小示例代码可以在我的<a class="ae iu" href="https://github.com/chaitanyakasaraneni/etl_example" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中找到。</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h1 id="60a4" class="iv iw hi bd ix iy lr ja jb jc ls je jf jg lt ji jj jk lu jm jn jo lv jq jr js bi translated">ETL管道简介</h1><p id="9faa" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">ETL是一种特殊的数据管道，使用非常普遍。ETL代表提取、转换、加载。顾名思义，ETL管道由三个不同但相互关联的步骤组成。它用于编排来自多个数据源的数据，不是一次而是多次，以构建数据存储系统，如数据仓库、数据中心或数据湖，以支持企业分析或数据共享。</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h1 id="9cbe" class="iv iw hi bd ix iy lr ja jb jc ls je jf jg lt ji jj jk lu jm jn jo lv jq jr js bi translated">例子</h1><p id="09a5" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">假设有一个包含web日志数据的数据库。数据中的每个条目都包含用户的IP地址、时间戳和用户点击的链接。</p><p id="a5dd" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">设想一个场景，您希望按城市和日期运行链接点击分析。您将需要另一个数据集来将IP地址映射到城市，并且您还需要从时间戳中提取日期。</p><p id="ddfa" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">使用ETL管道，您可以每天运行一次代码，提取前一天的日志数据，将IP地址映射到城市，按城市聚集链接点击，然后将这些结果加载到新的数据库中。这样，数据分析师或科学家就可以按城市和日期访问日志数据表。这比总是在原始web日志数据上运行相同的复杂数据转换更方便。</p><p id="0865" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">使用ETL管道是有意义的，因为在使用云计算之前，公司和企业习惯于将他们的数据存储在昂贵的私有服务器上，并且在巨大的数据集上运行查询在时间和经济方面可能非常昂贵。</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h1 id="e994" class="iv iw hi bd ix iy lr ja jb jc ls je jf jg lt ji jj jk lu jm jn jo lv jq jr js bi translated">ETL中的阶段</h1><p id="a930" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在将数据加载到数据存储系统之前，必须按顺序准备数据。ETL管道中的步骤组合提供了一些功能来确保实现应用程序的业务需求。</p><p id="6e42" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">基本ETL管道可以分为以下几个阶段:</p><ul class=""><li id="0b36" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq lb lc ld le bi translated">从各种来源提取数据</li><li id="a2c4" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">转换数据并为未来运营做好准备</li><li id="2577" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">将数据加载到所需的存储系统中</li></ul><p id="fdde" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">现在，让我们简要地看一下每个步骤。</p><h2 id="c3db" class="lw iw hi bd ix lx ly lz jb ma mb mc jf ke md me jj ki mf mg jn km mh mi jr mj bi translated">数据析取</h2><p id="3d42" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">ETL中提取过程的目标是轻松地从源中检索所有需要的数据。可以从中提取数据的最常见的数据源有:</p><ol class=""><li id="fe63" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq mk lc ld le bi translated">数据库</li><li id="3049" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq mk lc ld le bi translated">文件</li><li id="1ff4" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq mk lc ld le bi translated">网</li><li id="2219" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq mk lc ld le bi translated">其他来源，如用户订阅源(RSS订阅源)</li></ol><p id="1492" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">理解数据是如何从源产生的以及它可以被存储的格式是非常重要的。数据科学中常见的文件格式有:</p><ul class=""><li id="4a29" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq lb lc ld le bi translated">CSV: CSV代表逗号分隔的值。这些类型的文件用逗号分隔值，每个条目在单独的一行上。通常，第一个条目会包含变量名。</li><li id="97ee" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">JSON: JSON是一种带有键/值对的文件格式。它看起来像一本Python字典。数据中的每一行都在波形括号{}内。变量名是键，变量值是值。</li><li id="7a13" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">XML:就格式而言，XML与HTML非常相似。两者的主要区别在于HTML有标准化的预定义标签。在XML中，可以根据数据集定制标签。这是同样的数据看起来像XML的样子。</li><li id="7a8e" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">DB文件(SQL数据库):SQL数据库使用<a class="ae iu" href="https://docs.microsoft.com/en-us/sql/relational-databases/tables/primary-and-foreign-key-constraints?view=sql-server-2017" rel="noopener ugc nofollow" target="_blank">主键和外键</a>在表中存储数据。</li><li id="3c7d" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">文本文件:文本文件(。txt)将只包含文本。</li></ul></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h2 id="fd96" class="lw iw hi bd ix lx ly lz jb ma mb mc jf ke md me jj ki mf mg jn km mh mi jr mj bi translated">数据转换</h2><p id="c4d4" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">提取数据后，需要为下一个任务做好准备，该任务可能是数据分析或作为机器学习的输入。</p><p id="688c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">例如，数据工程师和数据科学家经常处理来自多个来源的数据。他们可能需要从CSV文件中提取一些数据，从SQL数据库中提取其他数据，然后将这两个数据集组合在一起。因此，原始数据集被转换以创建新的数据集。</p><p id="48f0" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">数据的转换包括:</p><ul class=""><li id="f66d" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq lb lc ld le bi translated">清理和组合来自多个来源的数据</li><li id="1ab3" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">使用编码</li><li id="82aa" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">处理数据中的虚拟变量、重复行和异常值</li><li id="8888" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">根据需要对数据进行规范化</li><li id="e305" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">工程新功能</li></ul></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h2 id="d0bd" class="lw iw hi bd ix lx ly lz jb ma mb mc jf ke md me jj ki mf mg jn km mh mi jr mj bi translated">数据加载</h2><p id="b8aa" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">ETL管道的最后一步是“加载”。既然数据被转换了，它必须被存储在某个地方，否则进度将会丢失。存储转换后的数据有许多选择。选择什么选项取决于业务需求。</p><p id="e010" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">举个例子，</p><ul class=""><li id="0b95" class="kw kx hi jv b jw kr ka ks ke ky ki kz km la kq lb lc ld le bi translated">结构化数据可以存储在SQL数据库中</li><li id="9862" class="kw kx hi jv b jw lf ka lg ke lh ki li km lj kq lb lc ld le bi translated">如果数据适合pandas数据框，则可以将其存储在CSV文件中</li></ul><p id="094b" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">除了SQL、CSV或JSON之外，存储转换数据的一些方法可以在链接<a class="ae iu" href="https://db-engines.com/en/ranking" rel="noopener ugc nofollow" target="_blank">中找到。</a></p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h1 id="c004" class="iv iw hi bd ix iy lr ja jb jc ls je jf jg lt ji jj jk lu jm jn jo lv jq jr js bi translated">其他数据管道</h1><p id="5ab1" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">自从云计算出现以来，ELT (提取、加载、转换)管道受到了关注。云计算降低了在大型原始数据集上存储数据和运行查询的成本。许多云服务，如<a class="ae iu" href="https://aws.amazon.com/redshift/" rel="noopener ugc nofollow" target="_blank">亚马逊红移</a>、<a class="ae iu" href="https://cloud.google.com/bigquery/" rel="noopener ugc nofollow" target="_blank">谷歌大查询</a>或<a class="ae iu" href="https://www.ibm.com/cloud/db2-warehouse-on-cloud" rel="noopener ugc nofollow" target="_blank"> IBM Db2 </a>可以使用SQL或类似SQL的语言进行查询。使用这些工具，数据被提取出来，然后直接加载，最后在管道的末端进行转换。</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><h1 id="c503" class="iv iw hi bd ix iy lr ja jb jc ls je jf jg lt ji jj jk lu jm jn jo lv jq jr js bi translated">摘要</h1><p id="8522" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在本文中，我们已经看到了ETL(提取、转换、加载)管道的简要介绍，以及每个步骤的概述。ETL管道的一个小例子可以在我的<a class="ae iu" href="https://github.com/chaitanyakasaraneni/etl_example" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中找到。看一看它，了解ETL管道的工作。</p><p id="3ddd" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">希望你通过阅读这篇文章获得了一些知识。请记住，这篇文章只是一个概述，是我从各种在线资料中读到的对ETL管道的理解。</p></div></div>    
</body>
</html>