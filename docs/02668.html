<html>
<head>
<title>Dealing with date-time of different formats in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python处理不同格式的日期时间</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/dealing-with-date-time-of-different-formats-in-python-f1f973d8cdb?source=collection_archive---------2-----------------------#2019-12-28">https://medium.com/analytics-vidhya/dealing-with-date-time-of-different-formats-in-python-f1f973d8cdb?source=collection_archive---------2-----------------------#2019-12-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4db4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从提取当前日期和时间的基本示例开始。</p><p id="131c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python提供了一个模块<strong class="ih hj"> datetime </strong>，它有一个类datetime，还有一个方法now()</p><p id="84b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">从日期时间导入日期时间</strong></p><p id="5b75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">使用now()获取当前日期时间:</em> </strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="259a" class="jn jo hi jj b fi jp jq l jr js"><em class="jd"># to get current date and time<br/></em>dateTimeObj <strong class="jj hj">=</strong> datetime.now()<br/>print(dateTimeObj)</span><span id="4366" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>2019-12-29 00:57:34.108728</span></pre><p id="5ae9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">提取日期时间对象的不同元素:</em> </strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="5e76" class="jn jo hi jj b fi jp jq l jr js">print(f"day: {dateTimeObj.day}, month:{dateTimeObj.month},\<br/>year:{dateTimeObj.year} hour:{dateTimeObj.hour}, \<br/>minute:{dateTimeObj.minute}, second:{dateTimeObj.second}")</span><span id="7669" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>day: 29, month:12,year:2019 hour:0, minute:41, second:4</span></pre><p id="6cd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">只提取当前日期</em> <br/> </strong>假设我们不想要完整的当前时间戳，我们只对当前日期感兴趣。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="dbb1" class="jn jo hi jj b fi jp jq l jr js">dateObj <strong class="jj hj">=</strong> datetime.now().date()<br/>print(dateObj)<br/><strong class="jj hj">Output:</strong><br/>2019-12-29</span></pre><p id="0b65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">只提取当前时间<br/> </em> </strong>假设我们只需要当前时间，即排除日期部分</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="8013" class="jn jo hi jj b fi jp jq l jr js">timeObj = datetime.now().time()<br/>print(timeObj)<br/><strong class="jj hj">Output:</strong><br/>00:52:02.925910</span></pre><p id="89e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">将datetime对象转换为字符串:<br/> </em> </strong>我们需要使用<strong class="ih hj"> strftime </strong> (datetime，&lt; format &gt;)将Datetime对象转换为字符串</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="3844" class="jn jo hi jj b fi jp jq l jr js">datetime_str = dateTimeObj.strftime("%B %d, %Y %A, %H:%M:%S")<br/>print(datetime_str)</span><span id="2606" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>'December 29, 2019 Sunday, 00:57:34'</span></pre><p id="d281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将字符串转换为日期时间对象:<br/> </strong>我们需要使用<strong class="ih hj"> strptime </strong> (date_string，&lt; format &gt;)将字符串转换为日期时间对象</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="7b8c" class="jn jo hi jj b fi jp jq l jr js">datetime_str = '28/12/2019 22:35:56'<br/>datetime_obj = datetime.strptime(datetime_str, '%d/%m/%Y %H:%M:%S')<br/>print(datetime_obj)</span><span id="fc23" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>2019-12-28 22:35:56</span></pre><p id="a0c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">字符串到目前为止:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="805a" class="jn jo hi jj b fi jp jq l jr js">date_str = '2019-12-28'<br/>dateObj = datetime.strptime(date_str, '%Y-%m-%d').date()<br/>print(dateObj)</span><span id="fbf1" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>2019-12-28</span></pre><p id="f648" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">字符串到时间:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="9c9d" class="jn jo hi jj b fi jp jq l jr js">time_str = '13:55:26'<br/>timeObj = datetime.strptime(time_str, '%H:%M:%S').time()<br/>print(timeObj)</span><span id="bbca" class="jn jo hi jj b fi jt jq l jr js"><strong class="jj hj">Output:</strong><br/>13:55:26</span></pre><p id="8e49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Python日期/时间格式指令</strong> <br/> %a: Weekday作为地区的缩写名。sun，mon <br/> %A : Weekday作为语言环境的全名。星期日，星期一，……<br/>% w:以十进制数表示的工作日，其中0表示星期日，6表示星期六。<br/> %d:以零填充的十进制数表示的一个月中的某一天。<br/> %b:月份作为区域设置的缩写名称。Jan，Feb <br/> %B: Month作为区域设置的全名。一月<br/> %m:作为零填充十进制数的月份。<br/> %y:没有世纪作为零填充十进制数的年份。<br/> %Y:以世纪为小数的年份。<br/> %H:小时(24小时制)，用零填充的十进制数。<br/> %I:小时(12小时制)作为补零的十进制数。<br/> %p:语言环境等同于AM或PM。<br/> %M:以零填充的十进制数表示的分钟。<br/> %S:秒为补零的十进制数。<br/> %f:微秒为十进制数，左边补零。<br/>% z:HHMM[SS]形式的UTC偏移量(如果对象是简单的，则为空字符串)。<br/> %Z:时区名称(如果对象是简单的，则为空字符串)。<br/> %j:用零填充的十进制数表示的一年中的某一天。<br/> %U:一年中的周数(星期日是一周的第一天)，以零填充的十进制数表示。第一个星期日之前的所有日子都被认为是第0周。<br/> %W:以十进制数表示的一年中的周数(星期一为一周的第一天)。新的一年中第一个星期一之前的所有日子都被视为第0周。%c:区域设置的适当日期和时间表示。<br/> %x:区域设置的适当日期表示。<br/> %X:区域设置的适当时间表示。<br/> %%:一个文字“%”字符。</p></div></div>    
</body>
</html>