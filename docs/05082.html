<html>
<head>
<title>Model Versioning done right: Making your Scikit-learn models reproducible with ModelDB 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正确的模型版本化:使用ModelDB 2.0使您的Scikit-learn模型可重现</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/model-versioning-done-right-making-your-scikit-learn-models-reproducible-with-modeldb-2-0-dda163ebd8ce?source=collection_archive---------21-----------------------#2020-04-10">https://medium.com/analytics-vidhya/model-versioning-done-right-making-your-scikit-learn-models-reproducible-with-modeldb-2-0-dda163ebd8ce?source=collection_archive---------21-----------------------#2020-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3f3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Verta，我们上周举办了第一次ModelDB 2.0网络研讨会，非常有趣。这篇博文是对网上研讨会实践指导部分的<strong class="ih hj">回顾。欲了解网上研讨会的完整内容，请查看<a class="ae jd" href="https://youtu.be/U0lyF_lHngo" rel="noopener ugc nofollow" target="_blank"> Verta Youtube频道</a>上的网上研讨会记录和<a class="ae jd" href="https://www.slideshare.net/ManasiVartak1/model-versioning-done-right-a-modeldb-20-walkthrough" rel="noopener ugc nofollow" target="_blank"> Slideshare </a>上的幻灯片。</strong></p><h1 id="5f69" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">什么是ModelDB？</h1><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kc"><img src="../Images/90fbbef624af91afa036b5be1854c0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_DA8CCeeU0rkpTMT551TYQ.png"/></div></div></figure><p id="4f84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://github.com/VertaAI/modeldb" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> ModelDB </strong> </a>是一个开源的模型版本化、元数据和实验管理系统，最初由麻省理工学院计算机科学系开发，现在由<a class="ae jd" href="https://verta.ai" rel="noopener ugc nofollow" target="_blank"> Verta.ai </a>维护。</p><p id="d83e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ModelDB的最新版本ModelDB 2.0为ML模型(以及所有类型的分析产品)带来了类似git的版本控制。通过对ML模型的<em class="ko">成分</em>应用版本控制，特别是<em class="ko">代码、数据、配置和环境，</em> ModelDB捕获了<strong class="ih hj">重现模型</strong>所需的所有组件。最重要的是，ModelDB不需要改变你的数据科学/ML工作流程。它可以集成到Jupyter笔记本中，也可以从命令行使用。</p><p id="feca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里阅读更多关于ModelDB的架构及其设计背后的动机<a class="ae jd" href="https://blog.verta.ai/blog/modeldb-2.0-is-here" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="f755" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">任务:模拟人口普查收入数据集</h1><p id="3983" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">对于我们的第一个ModelDB演练，我们使用了一个简单的表格数据示例。具体来说，我们使用<a class="ae jd" href="http://archive.ics.uci.edu/ml/datasets/Census+Income" rel="noopener ugc nofollow" target="_blank">人口普查收入数据集</a>，该数据集已经过轻微预处理，使建模变得容易。这里的任务是建立一个模型，在给定年龄、性别、教育程度、邮政编码等人口统计信息的情况下，预测一个人的收入水平(&lt; $5万或&gt; $5万)。</p><p id="2ec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将构建几个简单的模型，并通过ModelDB对它们进行版本控制，使我们所有的模型都是可复制的。</p><h1 id="2ad0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">1.无版本控制的基本笔记本</h1><p id="15b3" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">对于本教程，我们将一个简单的笔记本放在一起，在人口普查收入数据集上构建不同的模型。让我们来复习一下这个<a class="ae jd" href="https://github.com/VertaAI/modeldb/blob/master/demos/webinar-2020-4-1/census-s3-oss-versioning.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>的关键部分。</p><h2 id="534d" class="ku jf hi bd jg kv kw kx jk ky kz la jo iq lb lc js iu ld le jw iy lf lg ka lh bi translated">a)我们下载人口普查数据并检查其内容。</h2><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="45d0" class="ku jf hi bd jg kv kw kx jk ky kz la jo iq lb lc js iu ld le jw iy lf lg ka lh bi translated">b)我们构建一些scikit-learn模型，并在超参数网格中循环。</h2><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="ae76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们挑选最好的模型。就是这样——简单明了。</p><h1 id="1ec1" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">2.有什么问题？</h1><p id="ce5a" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">现在，如果你像大多数数据科学家一样(包括我自己！)除了用笨拙的方式命名不同的笔记本，或者至多是一个包含实验细节的电子表格，你没有对你的模型进行版本化。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lk"><img src="../Images/7d350790237dd31c7eec4660ea5cb80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OqLVWsCh_48wgb_W.png"/></div></div></figure><p id="a046" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，当构建数百个模型、回答监管问题或共享工作时，这种解决方案是不够的。这就是像ModelDB这样的专门构建的模型版本化系统真正闪光的地方。</p><h1 id="b46b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">3.设置模型DB</h1><p id="a582" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">ModelDB可以在Apache 2开源许可下获得，并且可以通过这里的<a class="ae jd" href="https://docs.google.com/document/d/1j-wEd44Zdgz8Mwfk1ddiqKEhSAAyjvYpW2uN6wsKUEk/edit" rel="noopener ugc nofollow" target="_blank">和ModelDB </a><a class="ae jd" href="https://github.com/VertaAI/modeldb" rel="noopener ugc nofollow" target="_blank"> Git Repo </a>中描述的多种方式进行设置。</p><p id="9355" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置ModelDB最简单的方法是通过Docker。就是这样！</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><h1 id="a4fb" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">4.用ModelDB版本化我们的模型</h1><p id="774c" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">现在ModelDB已经设置好了，只需几行代码，您就可以使您的模型完全可复制。让我们看看怎么做。</p><h2 id="4303" class="ku jf hi bd jg kv kw kx jk ky kz la jo iq lb lc js iu ld le jw iy lf lg ka lh bi translated">a)首先，安装verta Python库，并通过创建一个项目和一个关联的ModelDB存储库来执行基本的ModelDB设置。</h2><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="6914" class="ku jf hi bd jg kv kw kx jk ky kz la jo iq lb lc js iu ld le jw iy lf lg ka lh bi translated">b)接下来，通过一个库，在笔记本上安装工具，为我们的模型的组成部分版本化，特别是代码、数据、配置和环境。</h2><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="8219" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">我们完成了。</strong></p><h1 id="b690" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">5.这对我有什么好处？</h1><p id="955f" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">有了这几行代码，您的模型现在是可复制的。您可以随时返回到模型的任何版本并重新创建它。您可以看到您所做的更改，与朋友协作，并共享您的模型。</p><p id="cef5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看您的模型经历的不同迭代。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ll"><img src="../Images/61904655c4b23fcb0a560915f52172ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vQDVI4b1KSp2WCsc.gif"/></div></div></figure><p id="68bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">查看对您的模型组件所做的更改，包括代码、数据、配置和环境。</strong></p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ll"><img src="../Images/9b6ce7548eed45d4ddbb9e714dc7915a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b73RX_cpBGNcmRyc.gif"/></div></div></figure><p id="ad6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">以类似Git的流程管理您的工作，包括分支、合并和恢复。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="878f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，与同事分享您的工作，让他们能够完全重现模型！</p><h1 id="bb44" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">好奇吗？</h1><p id="0a36" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">这是对ModelDB 2.0提供的功能以及如何使用它来使模型(或分析)具有可重复性的一个快速浏览。想了解更多信息吗？</p><ul class=""><li id="e074" class="lm ln hi ih b ii ij im in iq lo iu lp iy lq jc lr ls lt lu bi translated">在<a class="ae jd" href="https://github.com/VertaAI/modeldb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查看ModelDB项目——启动它，派生它，并使用它！</li><li id="2eac" class="lm ln hi ih b ii lv im lw iq lx iu ly iy lz jc lr ls lt lu bi translated">请在<a class="ae jd" href="mailto:modeldb@verta.ai" rel="noopener ugc nofollow" target="_blank"> modeldb@verta.ai </a>或我们下面的Slack频道分享您的反馈。</li><li id="3773" class="lm ln hi ih b ii lv im lw iq lx iu ly iy lz jc lr ls lt lu bi translated">点击加入我们Slack上的模型版本社区<a class="ae jd" href="http://bit.ly/modeldb-mlops" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="acd0" class="lm ln hi ih b ii lv im lw iq lx iu ly iy lz jc lr ls lt lu bi translated">请通过我们的<a class="ae jd" href="https://www.verta.ai/newsletter/" rel="noopener ugc nofollow" target="_blank">时事通讯</a>关注更多教程和网络研讨会。</li></ul><h1 id="ed62" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">关于玛纳斯:</h1><p id="28f3" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Manasi Vartak是用于整个模型生命周期的麻省理工学院衍生MLOps软件<a class="ae jd" href="https://conferences.oreilly.com/strata-data-ai/stai-ca/public/schedule/speaker/www.verta.ai" rel="noopener ugc nofollow" target="_blank"> Verta </a>的创始人兼首席执行官。Verta源于Manasi在麻省理工学院从事ModelDB的博士工作，这是第一个广泛用于研究实验室和财富500强公司的开源模型管理系统。此前，Manasi在Twitter从事内容推荐的深度学习，在Google从事动态广告定位。Manasi在一些顶级研究和工业会议上发表过演讲，如O'Reilly AI Conference、SIGMOD、VLDB、Spark + AI Summit和AnacondaCON，并撰写了一门模型管理课程。</p><h1 id="2d7e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">关于Verta:</h1><p id="ee08" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated"><a class="ae jd" href="https://verta.ai/" rel="noopener ugc nofollow" target="_blank"> Verta.ai </a>为整个模型生命周期构建开源MLOps软件。这包括模型版本控制，模型部署发布，到模型监控，所有这些都与企业治理特性联系在一起。我们是麻省理工学院CSAIL的一个分支，在那里我们建立了<a class="ae jd" href="https://github.com/VertaAI/modeldb" rel="noopener ugc nofollow" target="_blank"> ModelDB </a>，第一个开源模型管理系统之一。</p></div></div>    
</body>
</html>