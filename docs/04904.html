<html>
<head>
<title>Embed Jupyter Notebook into static webpages locally</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在本地静态网页中嵌入Jupyter笔记本</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/embed-jupyter-notebook-into-static-webpages-locally-79e8a6f9f987?source=collection_archive---------5-----------------------#2020-04-05">https://medium.com/analytics-vidhya/embed-jupyter-notebook-into-static-webpages-locally-79e8a6f9f987?source=collection_archive---------5-----------------------#2020-04-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ce39" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">嵌入Jupyter笔记本的快速教程</h2></div><p id="dbe6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据科学和机器学习爱好者正在他们自己的博客和文章中发布他们的研究以及主要用Python或R编写的代码。我们中的许多人仍然在努力公开我们的代码，以便在我们的网页上交互运行，而不分散持续阅读我们博客的用户的注意力。一个新的web开发人员无需任何深入的分析就能解答这个难题。</p><p id="4ac7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">&lt;<strong class="iz hj">iframe src = " http://localhost:8888/"</strong>&gt;&lt;/<strong class="iz hj">iframe</strong>&gt;</p><p id="4a6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的HTML标签可以解决这个问题，直到<strong class="iz hj">内容-安全-策略</strong>进入上下文。为什么要使用<strong class="iz hj">内容安全策略</strong>？CSP的主要好处是防止利用跨站点脚本漏洞。这一点很重要，因为XSS的漏洞有两个特点，这两个特点使得它们对web应用程序的安全性构成了特别严重的威胁。</p><ul class=""><li id="3def" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">XSS无处不在。跨站点脚本一直被列为web应用程序中最常见的缺陷之一；过去，几乎所有大型应用程序都遭受过XSS。</li><li id="b557" class="jt ju hi iz b ja kc jd kd jg ke jk kf jo kg js jy jz ka kb bi translated">XSS正在<strong class="iz hj">破坏</strong>。利用这种缺陷并在另一个用户会话的上下文中执行JavaScript的攻击者可以完全访问易受攻击的应用程序以及同一域中托管的所有其他应用程序中的数据。在许多情况下，攻击者可以破坏帐户并保持持久访问，而用户不会意识到有问题。</li></ul><p id="168a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果不考虑CSP，最终会给网站和服务器带来有害的后果。互联网上有很多借助binder和GitHub gist将Jupyter笔记本代码嵌入网页的教程。文章末尾提供了链接。</p><p id="7a9a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们快速地继续我们在这篇文章中探索的内容。</p><p id="139d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，流行的应用程序有基于Java的后端和基于web的前端。这种非凡的方法得到了软件开发人员和技术极客的回报。例如，Jenkins使用Java后端的订书机进行Web UI绑定。在这种情况下，在某些方面，这些应用程序应该通过支持机器学习和数据科学来发展，这可能会吸引大量技术用户使用他们的服务。</p><p id="8a60" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当这些应用程序使用网页时，可能需要集成流行的笔记本、代码编辑器和沙盒。来自web UI的每个请求对于后端来说都应该是安全和健壮的。</p></div><div class="ab cl kh ki gp kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hb hc hd he hf"><p id="dcba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们看看如何在本地将你的Jupyter笔记本嵌入到静态网页中。</p><ol class=""><li id="1e52" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js ko jz ka kb bi translated">确保您的系统中安装了Jupyter笔记本电脑。</li></ol><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="6e93" class="ky kz hi ku b fi la lb l lc ld">jupyter -- version</span></pre><p id="bf9d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.配置<strong class="iz hj">jupyter _ notebook _ config . py</strong></p><ul class=""><li id="77f0" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">如果你没有一个生成它。它将在<code class="du le lf lg ku b">~/.jupyter/jupyter_notebook_config.py</code>中生成文件</li></ul><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="eaac" class="ky kz hi ku b fi la lb l lc ld">jupyter notebook --generate-config</span></pre><ul class=""><li id="f6e5" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">添加您的网关服务器IP和端口</li></ul><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="ecf1" class="ky kz hi ku b fi la lb l lc ld"># These are default configs. You have change if you are using <br/># Enterprise Jupyter Hub or other gateway servers.<br/>c.NotebookApp.ip = ‘localhost’<br/>c.NotebookApp.port = 8888</span></pre><ul class=""><li id="8548" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">由于Jupyter使用tornado进行HTTP服务，您需要将CSP头添加到tornado_settings中。确保您提供了正确的http/https地址以使用CSP头。</li></ul><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="f10a" class="ky kz hi ku b fi la lb l lc ld">c.NotebookApp.tornado_settings = {<br/>    'headers': {<br/>        'Content-Security-Policy': "frame-ancestors http://localhost:8080/jenkins 'self' "<br/>    }<br/>}</span></pre><ul class=""><li id="201f" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">最后，用户将会更喜欢一个标签的笔记本，而不是在一个页面中使用多个标签。您应该在jupyter目录中创建一个custom.js。<code class="du le lf lg ku b">~/.jupyter/custom/custom.js</code></li></ul><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="cb65" class="ky kz hi ku b fi la lb l lc ld">define(['base/js/namespace'], function(Jupyter){<br/>    Jupyter._target = '_self';<br/>});</span></pre><p id="695a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.稍后配置好一切，你就可以使用标签将你的jupyter笔记本成功嵌入到你的网页中了。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="d667" class="ky kz hi ku b fi la lb l lc ld">&lt;<strong class="ku hj">f:entry</strong>&gt;<br/>    &lt;<strong class="ku hj">iframe width = "700" height=" 600" src="http://localhost:8888 </strong>&lt;/<strong class="ku hj">iframe</strong>&gt;<br/>&lt;/<strong class="ku hj">f:entry</strong>&gt;</span></pre><p id="9027" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以根据自己的需要调整<strong class="iz hj"> iframe </strong>的参数:)。</p><figure class="kp kq kr ks fd li er es paragraph-image"><div class="er es lh"><img src="../Images/6cbc77f807a8ecf20e2d7f1635775158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*3FP4Xe7BJH1GLxyUE5MbpA.png"/></div><figcaption class="ll lm et er es ln lo bd b be z dx translated">在config.jelly中嵌入Jupyter笔记本后</figcaption></figure><p id="18ca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.已知问题</p><ul class=""><li id="79b2" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated">如果您的控制台中仍然出现类似“连接失败”的错误。原因可能是在使用wss时，web套接字连接被浏览器拒绝。你可以试试添加<code class="du le lf lg ku b">'unsafe-inline' </code>和<code class="du le lf lg ku b">connect-src https: wss: </code>，肯定能解决你的问题。</li></ul><p id="8932" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望大家都读过一篇关于在网页中嵌入Jupyter笔记本的综合文章。</p><p id="e53b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">和平✌.</p><p id="2a61" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">参考资料:</p><ol class=""><li id="a851" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js ko jz ka kb bi translated"><a class="ae lp" href="https://elc.github.io/posts/embed-interactive-notebooks/" rel="noopener ugc nofollow" target="_blank">https://elc.github.io/posts/embed-interactive-notebooks/</a></li><li id="5782" class="jt ju hi iz b ja kc jd kd jg ke jk kf jo kg js ko jz ka kb bi translated"><a class="ae lp" href="https://www.w3schools.com/tags/tag_iframe.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/tags/tag_iframe.asp</a></li></ol></div></div>    
</body>
</html>