<html>
<head>
<title>How To Automate Web Scraping using BeautifulSoup for Dummies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用BeautifulSoup for Dummies自动抓取网页</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/automated-web-scraping-using-beautifulsoup-for-dummies-free-python-code-41925125774e?source=collection_archive---------5-----------------------#2020-01-05">https://medium.com/analytics-vidhya/automated-web-scraping-using-beautifulsoup-for-dummies-free-python-code-41925125774e?source=collection_archive---------5-----------------------#2020-01-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="e463" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">网络抓取，数据科学</h2><div class=""/><p id="fe46" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">简单的网页抓取教程</p><p id="9e09" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">自己纠结了一下，决定给我这样的假人创建一个教程，用<strong class="iq hs">Jupyter笔记本里的完整Python代码。这里有Jupyter笔记本的粉丝吗？<a class="ae jm" href="https://fsymbols.com/signs/hand/" rel="noopener ugc nofollow" target="_blank">👐</a></strong></p><p id="e3c1" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">本教程受到了<a class="ae jm" href="https://www.dataquest.io/blog/web-scraping-beautifulsoup/" rel="noopener ugc nofollow" target="_blank"> Dataquest </a>的启发，我在其中加入了更多的解释、额外的提取和探索性数据分析(EDA)。</p><p id="9daa" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">以下是您将通过本教程学到的内容:</p><ol class=""><li id="30e6" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl js jt ju jv bi translated">使用请求下载页面</li><li id="c4da" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">使用BeautifulSoup解析HTML内容</li><li id="4057" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">理解HTML结构</li><li id="095d" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">抓取数据</li><li id="dc0e" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">更改URL的参数(自动化开始的地方)</li><li id="7e66" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">控制爬行速率</li><li id="9e46" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">当它还在运行时，监视循环</li><li id="b09a" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">将一切拼凑在一起(循环)<a class="ae jm" href="https://emojipedia.org/party-popper/" rel="noopener ugc nofollow" target="_blank">🎉</a></li><li id="c8ec" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">将抓取的数据转换成CSV格式</li></ol><p id="c150" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">让我们的乐趣开始吧！</p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h2 id="df34" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">1.使用请求下载页面</h2><p id="94e7" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">要开始抓取网页，首先我们需要使用Python <code class="du lh li lj lk b">requests library</code>下载页面。请求库将向web服务器发出一个<code class="du lh li lj lk b">GET</code>请求，它将为我们下载给定网页的HTML内容。我们可以使用请求发出几种不同类型的请求，GET只是其中一种。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ll"><img src="../Images/f9e5207f8a3e309bd1b3af5175a19dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UY3zTPnNo9OZip5FxqK9Jw.png"/></div></div></figure><p id="db88" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">您可以通过运行下面的代码轻松安装该库</p><pre class="lm ln lo lp fd lx lk ly lz aw ma bi"><span id="62b2" class="ki kj hi lk b fi mb mc l md me">pip install requests<!-- --> </span></pre><h2 id="2b4c" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">2.使用BeautifulSoup解析HTML内容</h2><p id="0fc8" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">为了解析我们的HTML文档并提取50个div容器，我们需要安装一个名为BeautifulSoup的Python模块:</p><pre class="lm ln lo lp fd lx lk ly lz aw ma bi"><span id="313e" class="ki kj hi lk b fi mb mc l md me">pip install BeautifulSoup4</span></pre><p id="6e44" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">然后，我们将:</p><ul class=""><li id="a4da" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated">从包bs4中导入BeautifulSoup类创建者。</li><li id="215b" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">通过创建一个BeautifulSoup对象来解析<code class="du lh li lj lk b">response.text</code>，并将该对象分配给<code class="du lh li lj lk b">html_soup</code>。</li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mg"><img src="../Images/37456bd7b48cd8a95cca72a40b7228c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UFtvVY95I1UEBPAJwbyYDw.png"/></div></div></figure><h2 id="3105" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">3.理解HTML结构</h2><p id="c94b" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">在你为网络抓取大肆宣传之前，你需要了解你想要抓取的网站的HTML。请注意，每个网站都有不同的结构。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mh"><img src="../Images/1a830988cce95cd9b7b00c1a389943fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FNw2XjwoKV65Eg90Gpo_mg.jpeg"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">将鼠标悬停在您想要的项目上，以获取其HTML代码</figcaption></figure><ol class=""><li id="b57b" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl js jt ju jv bi translated">右击网站</li><li id="1e27" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">左键点击<code class="du lh li lj lk b">Inspect</code></li><li id="69c4" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">打开左上方的悬停光标按钮。</li></ol><p id="d028" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">每部电影都在一个带有类<code class="du lh li lj lk b">lister-item-mode-advanced</code>的<code class="du lh li lj lk b">div</code>标签中。让我们使用<code class="du lh li lj lk b">find_all()</code>方法提取所有具有<code class="du lh li lj lk b">lister-item mode-advanced</code>类属性的<code class="du lh li lj lk b">div containers</code>:</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mm"><img src="../Images/f47b1439ed0b8c0697a500cb573cecd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TzRbdHzxFSUu21leqSvckg.png"/></div></div></figure><p id="7c63" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">如图所示，有50个容器，也就是说每页列出50部电影。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mn"><img src="../Images/fa69d70b4b6ec0eae3ca8876187a257f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWkZf4-xAFTaAjehXAauJg.jpeg"/></div></div></figure><p id="b2d0" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">现在我们将只选择第一个容器，并依次提取每个感兴趣的项目:</p><ul class=""><li id="316e" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated">电影的名字。</li><li id="f7ac" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">发行年份。</li><li id="dcf3" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">IMDB评级。</li><li id="02d6" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">Metascore。</li><li id="c660" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">董事</li><li id="5bb3" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">票数。</li><li id="36ef" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">总的</li></ul><p id="93cc" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">让我们从<code class="du lh li lj lk b">first_movie</code>开始吧</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mo"><img src="../Images/c046a51b551d7c22b14db441a33b9541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*poG9oEuDMA-op7wz0bUQYQ.png"/></div></div></figure><h2 id="e144" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">4.抓取数据</h2><p id="894e" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">从我们存储的<code class="du lh li lj lk b">first_movie</code> html中，我们将使用<code class="du lh li lj lk b">find</code>和<code class="du lh li lj lk b">find_all</code>以及<code class="du lh li lj lk b">str slicing</code>来施展魔法。</p><ul class=""><li id="514d" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">电影的名字。</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mp"><img src="../Images/0cfd5bfcf6f0b9e81674700a246d3a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ma3XQNZZVrpp2iebVwgPmw.png"/></div></div></figure><ul class=""><li id="f44b" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">发布年份。</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mp"><img src="../Images/afad4b40d157eeed0ed3ee6a227e8a79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pOvlC7dI2qsvGOFkWI0WrA.png"/></div></div></figure><ul class=""><li id="1cc3" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs"> IMDB评级</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mp"><img src="../Images/14750292ecb9b4b6398580c3d68e97ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PaXyM38tBvRuj9TE3Z46Fw.png"/></div></div></figure><ul class=""><li id="b412" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs"> Metascore </strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mq"><img src="../Images/5240aedf720dfdc96fdb020b7320f2c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OrRy2BZlWxt85JyTzJIWAg.png"/></div></div></figure><ul class=""><li id="97f1" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">董事</strong></li></ul><p id="9a33" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">这就更复杂了，因为这个类包含了<strong class="iq hs">导演</strong>和<strong class="iq hs">明星</strong>。所以我用切片和分割的方法只提取导演。你也可以用同样的逻辑来提取星星。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mr"><img src="../Images/a6c2db4e3ccda7f6d4df3893a02b5a35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6P7mv8Ya83gao0kD9b7aw.png"/></div></div></figure><ul class=""><li id="5315" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">票数</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ms"><img src="../Images/bded2c34301da1c2029805c126deb897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LUTDgoByBNspcHuJ0bE7Eg.png"/></div></div></figure><ul class=""><li id="a32f" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">总收入</strong></li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mt"><img src="../Images/15ebd1604dce0731c4d0422283c1f825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lD4VcoV2fSyqeEuHpBfCDw.png"/></div></div></figure><h2 id="cd5e" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">5.更改URL的参数(自动化开始的地方)</h2><p id="4772" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">随着网页的变化，URL遵循一定的逻辑。当我们发出请求时，我们只需改变URL的两个参数的值:</p><ul class=""><li id="acdf" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><code class="du lh li lj lk b">release_date</code>:创建一个名为<strong class="iq hs"> years_url </strong>的列表，并用2000-2017年对应的字符串填充它。</li><li id="e52b" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated"><code class="du lh li lj lk b">page</code>:创建一个名为<strong class="iq hs"> pages </strong>的列表，用前4页对应的字符串填充。</li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mu"><img src="../Images/7bc012fa8793390a323d2b4811fb0c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biN3xN55SXPKINfjy1UzAQ.png"/></div></div></figure><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mv"><img src="../Images/82dce4351adf710975fd56df3c59ce44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BFr1TuDjYyBjrrTUipl6UA.png"/></div></div></figure><h2 id="80c4" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">6.控制爬行速率</h2><p id="75cd" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">我们需要两个函数:</p><ol class=""><li id="c5de" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl js jt ju jv bi translated"><code class="du lh li lj lk b">sleep()</code>:控制循环速率。它将在指定的秒数内暂停循环的执行。</li><li id="4e30" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated"><code class="du lh li lj lk b">randint()</code>:为了模仿人类行为，我们将改变请求之间的等待时间。它在指定的时间间隔内随机生成整数。</li></ol><h2 id="a83f" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">7.当它还在运行时，监视循环</h2><p id="3b13" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">监控在测试和调试过程中非常有用，尤其是当您打算在一次代码运行中抓取数百或数千个网页时。以下是我们要监控的参数:</p><ul class=""><li id="ab45" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated">请求的频率(速度):确保我们的程序没有使服务器超载。</li></ul><p id="c718" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><code class="du lh li lj lk b">Frequency value = the number of requests / the time elapsed since the first request.</code></p><ul class=""><li id="20ee" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated"><strong class="iq hs">请求数</strong>:如果超出预期请求数，可以停止循环。</li><li id="b7ee" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">我们请求的<strong class="iq hs">状态代码</strong>:确保服务器发回正确的响应。</li></ul><p id="af32" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">让我们先在小范围内试验一下这种监控技术。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mw"><img src="../Images/7a415c83c92ada60bd938228776c796c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zsM4r_KuLPDG2hEKSNCoHQ.png"/></div></div></figure><h2 id="4b7e" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">8.拼凑一切(循环)<a class="ae jm" href="https://emojipedia.org/party-popper/" rel="noopener ugc nofollow" target="_blank">🎉</a></h2><p id="69dd" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">唷~艰难的工作完成了，现在让我们把迄今为止所做的一切拼凑起来。</p><ol class=""><li id="bfb3" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl js jt ju jv bi translated"><strong class="iq hs">导入</strong>必要的库</li><li id="2029" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated"><strong class="iq hs">重新声明列表变量</strong>，这样它们又变空了。</li><li id="6e2d" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">准备循环。</li><li id="637c" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated"><strong class="iq hs">在间隔2010–2019中循环遍历years_url列表</strong>，在间隔1–4中循环遍历页面列表<strong class="iq hs">。</strong></li><li id="2291" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">使<strong class="iq hs"> GET请求</strong>进入页面循环</li><li id="f387" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">给<strong class="iq hs"> headers </strong>参数一个正确的值，以确保我们只获得英文内容。</li><li id="8788" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">在8到15秒的时间间隔内暂停循环。</li><li id="59e8" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">对非200状态码抛出<strong class="iq hs">警告。</strong></li><li id="6c13" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">如果<strong class="iq hs">请求数量大于预期数量</strong>，则中断循环。</li><li id="f0d3" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">将响应的HTML内容转换为BeautifulSoup对象。</li><li id="cabb" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">从这个BeautifulSoup对象中提取所有的电影容器。</li><li id="20e9" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated"><strong class="iq hs">循环通过</strong>所有这些容器。</li><li id="85bd" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">如果容器有<strong class="iq hs">元得分</strong>，则提取数据。</li><li id="c625" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl js jt ju jv bi translated">如果一个集装箱有<strong class="iq hs">毛重</strong>，则提取数据，否则追加("-")。</li></ol><figure class="lm ln lo lp fd lq"><div class="bz dy l di"><div class="mx my l"/></div></figure><h2 id="ac00" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">9.将抓取的数据转换成CSV格式</h2><p id="4497" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">在下一个代码块中，我们:</p><ul class=""><li id="b36a" class="jn jo hi iq b ir is iv iw iz jp jd jq jh jr jl mf jt ju jv bi translated">将数据合并到熊猫数据框架中。</li><li id="6875" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">打印一些关于新创建的数据帧的信息。</li><li id="d3c8" class="jn jo hi iq b ir jw iv jx iz jy jd jz jh ka jl mf jt ju jv bi translated">显示最后10个条目。</li></ul><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mz"><img src="../Images/e3cd878b2539c67c62dc5c1b18dfd508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33V93HLlpkrCH3CU3TA-nw.png"/></div></div></figure><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es na"><img src="../Images/b6d5fb90eb54fbe6494dc8d6aaa64cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dO9R6QczJAob61VlGEd4kA.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">数据集的峰值</figcaption></figure><p id="1d13" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">最后但同样重要的是，将数据帧保存到CSV，以便我们稍后进行数据辩论和EDA:</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mr"><img src="../Images/36b6ed915a9aaf14aaca624f2cae077e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sssIFuS4gcCGkTjqTxcKGQ.png"/></div></div></figure><h2 id="b1b0" class="ki kj hi bd kk kl km kn ko kp kq kr ks iz kt ku kv jd kw kx ky jh kz la lb ho bi translated">免费访问所有运行代码</h2><p id="afcc" class="pw-post-body-paragraph io ip hi iq b ir lc it iu iv ld ix iy iz le jb jc jd lf jf jg jh lg jj jk jl hb bi translated">下面是获取Python代码的GitHub <a class="ae jm" href="https://github.com/shanyi1023/Data-Science/blob/master/IMDb%20Movie%20Ratings/BeautifulSoup%20tutorial%20-%20IMDb%20.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="iq hs">链接</strong> </a>。👉</p><p id="361f" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">下一篇:电影评分数据集的数据争论和EDA</p><p id="5799" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">敬请期待！<a class="ae jm" href="https://emojipedia.org/smiling-face-with-smiling-eyes/" rel="noopener ugc nofollow" target="_blank">😊</a></p></div></div>    
</body>
</html>