<html>
<head>
<title>Utilising the full power of Python Pandas Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆ©ç”¨Pythonç†ŠçŒ«åº“çš„å…¨éƒ¨åŠŸèƒ½</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/analytics-vidhya/utilising-the-full-power-of-python-pandas-library-883e474e6641?source=collection_archive---------21-----------------------#2020-06-30">https://medium.com/analytics-vidhya/utilising-the-full-power-of-python-pandas-library-883e474e6641?source=collection_archive---------21-----------------------#2020-06-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="391e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å‡ ä¹æˆ‘ä»¬æ‰€æœ‰äººéƒ½ä½¿ç”¨è¿‡Pandasï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„Pythonåº“ï¼Œç”¨äºå°†æ–‡ä»¶å¯¼å…¥Pythonï¼Œä½†æ˜¯æˆ‘ä»¬ä¸­çš„è®¸å¤šäºº(ç›´åˆ°å‡ å¤©å‰ï¼Œè¿™ä¸ªå›¢é˜Ÿè¿˜åŒ…æ‹¬æˆ‘)å¹¶æ²¡æœ‰çœŸæ­£åˆ©ç”¨Pandasçš„ä»·å€¼ï¼æˆ‘ä»¬å‘ç°ç¼–å†™è‡ªå®šä¹‰å‡½æ•°æ¯”ä½¿ç”¨å·²ç»ä¸ºPandasæ•°æ®æ¡†æ¶å®šä¹‰çš„å‡½æ•°æ›´å®¹æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™æ ·çš„å†…ç½®å‡½æ•°æ˜¯å¦å­˜åœ¨ï¼ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ç›´åˆ°å‡ å¤©å‰æ‰çŸ¥é“ï¼Œæˆ‘å¯ä»¥ç”¨ç†ŠçŒ«ç›´æ¥è¯»å–ä¸€ä¸ªâ€œ<strong class="ih hj"> sqlæŸ¥è¯¢</strong>â€ï¼Œè€Œæˆ‘çŸ¥é“çš„é‚£ä¸€åˆ»ï¼Œé‚£ä¸€åˆ»å°±æ˜¯æˆ‘é¡¿æ‚Ÿäº†(WHaaaaaattttï¼ï¼ï¼ï¼)ğŸ˜‚ã€‚æ‰€ä»¥ï¼Œæˆ‘æƒ³ä¸ºä»€ä¹ˆä¸æŠŠç†ŠçŒ«å›¾ä¹¦é¦†çš„æ‰€æœ‰è¿™äº›å¸¸è§å’Œä¸å¸¸è§çš„åŠŸèƒ½(è‡³å°‘æ˜¯æˆ‘æ‰€çŸ¥é“çš„)åˆ—ä¸€ä¸ªæ¸…å•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸€èµ·äº†è§£å®ƒä»¬äº†ã€‚</p><p id="ac7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»ä½¿ç”¨good Ol' alias 'pd 'å°†good Ol' Pandasåº“å¯¼å…¥Pythonå¼€å§‹ï¼Œå¹¶ä½¿ç”¨å‡½æ•°è¯»å–ä¸€ä¸ª. CSVæ–‡ä»¶ã€‚read_csv()å¹¶ä½¿ç”¨pdè½¬æ¢ä¸ºæ•°æ®å¸§ã€‚DataFrame()å‡½æ•°ã€‚(æˆ‘ä½¿ç”¨Spyderç¼–è¾‘å™¨ã€Python 3å’Œè‡­åæ˜­è‘—çš„æ³°å¦å°¼å…‹å·æ•°æ®é›†)</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="ac8b" class="jm jn hi ji b fi jo jp l jq jr">import pandas as pd</span><span id="5ad9" class="jm jn hi ji b fi js jp l jq jr">titanic_data = pd.read_csv("....//Downloads//train.csv") </span><span id="bbeb" class="jm jn hi ji b fi js jp l jq jr">titanic_data = pd.DataFrame(titanic_data)</span></pre><p id="1e0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨å±æ€§â€œ. columnsâ€æ¥æ˜¾ç¤ºæ•°æ®å¸§çš„åˆ—åã€‚head()'å¹¶è¾“å…¥è¡Œæ•°ä½œä¸ºå‚æ•°ã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="0f5a" class="jm jn hi ji b fi jo jp l jq jr">titanic_data.columns<br/>Out[5]: <br/>Index(['PassengerId', 'Survived', 'Pclass', 'Name', 'Sex', 'Age', 'SibSp',<br/>       'Parch', 'Ticket', 'Fare', 'Cabin', 'Embarked'],<br/>      dtype='object')</span><span id="63de" class="jm jn hi ji b fi js jp l jq jr">titanic_data.columns</span><span id="0a1b" class="jm jn hi ji b fi js jp l jq jr">##### displaying first 10 rows #####<br/>titanic_data.head(10)<br/>Out[6]: <br/>   PassengerId  Survived  Pclass  ...     Fare Cabin  Embarked<br/>0            1         0       3  ...   7.2500   NaN         S<br/>1            2         1       1  ...  71.2833   C85         C<br/>2            3         1       3  ...   7.9250   NaN         S<br/>3            4         1       1  ...  53.1000  C123         S<br/>4            5         0       3  ...   8.0500   NaN         S<br/>5            6         0       3  ...   8.4583   NaN         Q<br/>6            7         0       1  ...  51.8625   E46         S<br/>7            8         0       3  ...  21.0750   NaN         S<br/>8            9         1       3  ...  11.1333   NaN         S<br/>9           10         1       2  ...  30.0708   NaN         C</span><span id="7dcd" class="jm jn hi ji b fi js jp l jq jr">[10 rows x 12 columns]</span></pre><p id="8a71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œæ¯å½“æœ‰äººæåˆ°Pythonä¸­çš„å¯è§†åŒ–ï¼Œä½ ä¼šæƒ³åˆ°ä»€ä¹ˆï¼Ÿæˆ‘æ‰“èµŒâ€œmatplotlib.pyplot as pltâ€..æˆ‘ä¸æ€ªä½ ï¼Œå› ä¸ºmatplotlibæ˜¯ä¸€ä¸ªå¾ˆæ£’çš„åº“ï¼Œå¦‚æœä½ æƒ³è®©ä½ çš„è§†è§‰æ•ˆæœæ›´ç¾è§‚ï¼Œç»å¯¹åº”è¯¥ä½¿ç”¨å®ƒï¼Œä½†æ˜¯å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€äº›ç®€å•çš„è§†è§‰æ•ˆæœï¼Œåªæ˜¯ä¸ºäº†æ›´å¥½åœ°äº†è§£ä½ çš„æ•°æ®ï¼Œæˆ–è€…æ¯”è¾ƒä¸¤ä¸ªä¸åŒçš„åˆ—ï¼Œé‚£ä¹ˆå°±ä¸è¦å†çœ‹äº†..å› ä¸ºç†ŠçŒ«å·²ç»æŠŠä½ åˆ†ç±»äº†ï¼ï¼è®©æˆ‘ä»¬æ¼”ç¤ºä¸€äº›ç†ŠçŒ«çš„ç»˜å›¾åŠŸèƒ½..å¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªç®±çº¿å›¾ï¼Œæ ¹æ®ä¹˜å®¢çš„èµ·è¿æ¸¯(èµ·è¿åˆ—)æ¥è¡¨ç¤ºå¹³å‡ä¹˜å®¢æ•°é‡ã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2b3a" class="jm jn hi ji b fi jo jp l jq jr">box = titanic_data.boxplot(column='PassengerId',by='Survived',grid=False,<br/>patch_artist=True,figsize=(7,7)</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div class="er es jt"><img src="../Images/f4edbd22e5d0e3515f857acb29bedcaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*i4Ure_yfxBYNSah2QdSn6g.png"/></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">å¹¸å­˜/æ­»äº¡çš„ä¹˜å®¢äººæ•°</figcaption></figure><p id="5882" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‰€ä»¥ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹æ¡†å›¾ï¼Œæ˜¾ç¤ºäº†å¹¸å­˜æˆ–æœªå¹¸å­˜çš„ä¹˜å®¢æ•°é‡ï¼Œå‘Šè¯‰æˆ‘ä»¬å¹¸å­˜ä¸æ­»äº¡ä¹˜å®¢çš„ä¸­ä½æ•°å‡ ä¹ç›¸åŒã€‚æˆ‘å·²ç»ç”¨è¿‡äº†ã€‚' boxplot()'å‡½æ•°è¿›è¡Œç»˜åˆ¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨' . plot.box()'ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°éƒ½å°†äº§ç”Ÿä¸€ä¸ªmatplotlibå¯¹è±¡ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨é€šå¸¸åœ¨â€œmatplotlibâ€å›¾ä¸­ä½¿ç”¨çš„å‡½æ•°æ¥æ”¹å˜è§†è§‰æ•ˆæœã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»§ç»­å¯»æ‰¾ä¸€äº›æè¿°æ€§ç»Ÿè®¡æ•°æ®(å¹³å‡å€¼ã€è®¡æ•°ç­‰)ã€‚)å¯¹äºæ•°æ®ä¸­çš„æ•°å­—åˆ—ï¼Œä½¿ç”¨'.â€œdescribe()â€å‡½æ•°ã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="8c4d" class="jm jn hi ji b fi jo jp l jq jr">describe_stats = titanic_data.describe()</span></pre><p id="a49d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¾“å‡ºâ€”</p><figure class="jd je jf jg fd ju er es paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="er es kb"><img src="../Images/c0c59e62562fa7f1a165e413052ddcfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_YNvb9wgMcqO7vJTi6c16g.png"/></div></div></figure><p id="3abb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æè¿°æ€§ç»Ÿè®¡æ•°æ®åŒ…æ‹¬æ¯ä¸ªæ•°å­—åˆ—ä¸­æ²¡æœ‰â€œNanâ€çš„è¡Œæ•°ã€æ¯åˆ—çš„å¹³å‡å€¼ã€æ ‡å‡†åå·®â€œstdâ€ã€æœ€å°(min)å’Œæœ€å¤§(max)å€¼ã€æ¯åˆ—çš„ä¸åŒç™¾åˆ†ä½æ•°(25%ã€50%ã€75%)ã€‚æ‚¨å¯ä»¥ä½¿ç”¨â€œincludeâ€å‚æ•°é€‰æ‹©è¦åŒ…å«çš„ç™¾åˆ†ç‚¹ã€‚</p><p id="a4a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è®©æˆ‘ä»¬å‰è¿›åˆ°ä¸€ä¸ªäººä»¬é€šå¸¸å€¾å‘äºä¸Microsoft Excelè”ç³»åœ¨ä¸€èµ·çš„åŠŸèƒ½â€”â€”â€œæ•°æ®é€è§†è¡¨â€ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯Excelçš„é«˜çº§åŠŸèƒ½ä¹‹ä¸€ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡Pandasåº“éå¸¸ç®€å•åœ°å®Œæˆã€‚ä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ï¼Œä½¿ç”¨ã€‚pivot_table()'å‡½æ•°ï¼ŒçœŸæ­£ç†è§£pivotçš„åŠŸèƒ½ã€‚é‚£ä¹ˆå½“ä¸€å¼ æ¡Œå­æ—‹è½¬æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœæ‚¨çš„æ•°æ®é›†ä¸­æœ‰ä¸€ä¸ªåˆ†ç±»åˆ—ï¼Œä¾‹å¦‚â€œæ€§åˆ«â€ï¼Œå¹¶ä¸”æ‚¨æƒ³æŒ‰æ¯ä¸ªæ€§åˆ«ç±»å‹æŸ¥çœ‹è¡¨ä¸­çš„å€¼ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥æŒ‰æ€§åˆ«åˆ—é€è§†æ•°æ®é›†ï¼Œç§ï¼ï¼æ‚¨å¯ä»¥æ ¹æ®æ€§åˆ«åˆ—ä¸­çš„å€¼æŸ¥çœ‹æ‰€æœ‰å…¶ä»–åˆ—ã€‚æ¢å¥è¯è¯´ï¼Œæ€§åˆ«åˆ—çš„å”¯ä¸€è¡Œç°åœ¨æ˜¯æ•°æ®é€è§†è¡¨çš„åˆ—ã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="5cd7" class="jm jn hi ji b fi jo jp l jq jr">pivoted = titanic_data.pivot_table(columns='Embarked',index='PassengerId',values=['Fare','SibSp'],fill_value=0)</span><span id="ed90" class="jm jn hi ji b fi js jp l jq jr">pivoted.head(10)<br/>Out[74]: <br/>                Fare                  SibSp      <br/>Embarked           C       Q        S     C  Q  S<br/>PassengerId                                      <br/>1             0.0000  0.0000   7.2500     0  0  1<br/>2            71.2833  0.0000   0.0000     1  0  0<br/>3             0.0000  0.0000   7.9250     0  0  0<br/>4             0.0000  0.0000  53.1000     0  0  1<br/>5             0.0000  0.0000   8.0500     0  0  0<br/>6             0.0000  8.4583   0.0000     0  0  0<br/>7             0.0000  0.0000  51.8625     0  0  0<br/>8             0.0000  0.0000  21.0750     0  0  3<br/>9             0.0000  0.0000  11.1333     0  0  0<br/>10           30.0708  0.0000   0.0000     1  0  0</span></pre><p id="f5df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è®©æˆ‘è§£é‡Šä¸€ä¸‹è¯¥å‡½æ•°çš„å‚æ•°â€”â€œåˆ—â€æ˜¯æ‚¨å¸Œæœ›çœ‹åˆ°æ‚¨çš„è¡¨æŒ‰å…¶å”¯ä¸€å€¼æ’åˆ—çš„åˆ—(æ­¤å¤„æˆ‘ä½¿ç”¨â€œä¸Šèˆ¹â€ä½œä¸ºè¯¥åˆ—ï¼Œè¡¨æŒ‰å€¼â€œCâ€ã€â€œQâ€å’Œâ€œSâ€æ’åˆ—)ï¼Œâ€œç´¢å¼•â€æ˜¯ä¸è¨€è‡ªæ˜çš„ï¼Œæˆ‘ä½¿ç”¨åˆ—â€œPassengerIdâ€ä½œä¸ºç´¢å¼•ï¼Œâ€œå€¼â€æ˜¯æ‚¨å¸Œæœ›æ ¹æ®â€œåˆ—â€å‚æ•°å¯¹å…¶å€¼è¿›è¡Œåˆ†ç»„çš„åˆ—(æ­¤å¤„æˆ‘å¯¹â€œç¥¨ä»·â€å’Œâ€œSibSpâ€çš„å€¼è¿›è¡Œåˆ†ç»„)ï¼Œfill_valueæ­£æ˜¯æ‚¨æƒ³è¦çš„å€¼</p><p id="d2e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬ç°åœ¨å°†å‰è¿›åˆ°ä¸€ä¸ªæ›´åƒSQLçš„åŠŸèƒ½ï¼Œâ€œGroupByâ€ã€‚åŒæ ·ï¼Œå¦‚æœç†è§£æ­£ç¡®ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥ç”±Pandasåº“ä»¥éå¸¸ç®€å•çš„æ–¹å¼å®ç°ã€‚å®ƒç”¨äºæŒ‰ç‰¹å®šåˆ—å¯¹æ•°æ®é›†è¿›è¡Œåˆ†ç»„ï¼Œç„¶åå¯¹æ¯ä¸ªç»„ä½¿ç”¨èšåˆå‡½æ•°(å¹³å‡å€¼ã€æ€»å’Œã€è®¡æ•°)ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹â€”â€”a)å¯ä»¥æŒ‰å¤šä¸ªåˆ—å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„b)å¯ä»¥è®¿é—®å¤šä¸ªåˆ†ç»„åˆ—çš„å€¼c)é€šè¿‡å°†â€œas_indexâ€å‚æ•°è®¾ç½®ä¸ºâ€œTrueâ€æˆ–â€œFalse â€,å¯ä»¥å°†åˆ†ç»„æ‰€ä¾æ®çš„åˆ—è§†ä¸ºç´¢å¼•æˆ–ä¸è§†ä¸ºç´¢å¼•d)åœ¨æŒ‰å¤šä¸ªåˆ—åˆ†ç»„çš„æƒ…å†µä¸‹ï¼Œè¿™å°±å˜æˆäº†å¤šé‡ç´¢å¼•çš„æƒ…å†µã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="9728" class="jm jn hi ji b fi jo jp l jq jr">###### Grouping by 'Survived' column and applying the aggregate function count #######</span><span id="b062" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by='Survived').count()<br/>Out[75]: <br/>          PassengerId  Pclass  Name  Sex  ...  Ticket  Fare  Cabin  Embarked<br/>Survived                                  ...                               <br/>0                 549     549   549  549  ...     549   549     68       549<br/>1                 342     342   342  342  ...     342   342    136       340</span><span id="6958" class="jm jn hi ji b fi js jp l jq jr">[2 rows x 11 columns]</span><span id="dc81" class="jm jn hi ji b fi js jp l jq jr"><br/>####### Grouping by 'Survived' column and applying the aggregate function sum() (will consider only continuous fields) #######</span><span id="7fc8" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by='Survived').sum()<br/>Out[76]: <br/>          PassengerId  Pclass       Age  SibSp  Parch        Fare<br/>Survived                                                         <br/>0              245412    1390  12985.50    304    181  12142.7199<br/>1              151974     667   8219.67    162    159  16551.2294</span><span id="ee04" class="jm jn hi ji b fi js jp l jq jr">####### Grouping by 'Survived' column and applying the aggregate function mean() (will consider only continuous fields) #######</span><span id="5dfa" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by='Survived').mean()<br/>Out[77]: <br/>          PassengerId    Pclass        Age     SibSp     Parch       Fare<br/>Survived                                                                 <br/>0          447.016393  2.531876  30.626179  0.553734  0.329690  22.117887<br/>1          444.368421  1.950292  28.343690  0.473684  0.464912  48.395408</span><span id="2b72" class="jm jn hi ji b fi js jp l jq jr">####### Grouping by 'Survived' and 'Embarked' columns and applying the aggregate function mean()#######</span><span id="83fe" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by=['Survived','Embarked']).mean()<br/>Out[78]: <br/>                   PassengerId    Pclass  ...     Parch       Fare<br/>Survived Embarked                         ...                     <br/>0        C          409.853333  2.200000  ...  0.253333  35.443335<br/>         Q          480.404255  2.936170  ...  0.276596  13.335904<br/>         S          449.868852  2.545667  ...  0.348946  20.743987<br/>1        C          473.989247  1.634409  ...  0.451613  79.720926<br/>         Q          319.966667  2.866667  ...  0.000000  13.182227<br/>         S          448.857143  1.967742  ...  0.539171  39.547081</span><span id="13d7" class="jm jn hi ji b fi js jp l jq jr">[6 rows x 6 columns]</span><span id="4bf6" class="jm jn hi ji b fi js jp l jq jr">####### Grouping by 'Survived' and 'Embarked' columns and applying the aggregate function mean() and accessing the grouped column 'PassengerId' #######</span><span id="800f" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by=['Survived','Embarked']).mean()['PassengerId']<br/>Out[79]: <br/>Survived  Embarked<br/>0         C           409.853333<br/>          Q           480.404255<br/>          S           449.868852<br/>1         C           473.989247<br/>          Q           319.966667<br/>          S           448.857143<br/>Name: PassengerId, dtype: float64</span><span id="093a" class="jm jn hi ji b fi js jp l jq jr">####### Grouping by 'Survived' and 'Embarked' columns and applying the aggregate function mean() and accessing the grouped columns 'PassengerId' and ' SibSp' #######</span><span id="22ad" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by=['Survived','Embarked']).mean()[['PassengerId','SibSp']]<br/>Out[80]: <br/>                   PassengerId     SibSp<br/>Survived Embarked                       <br/>0        C          409.853333  0.253333<br/>         Q          480.404255  0.510638<br/>         S          449.868852  0.611241<br/>1        C          473.989247  0.494624<br/>         Q          319.966667  0.300000<br/>         S          448.857143  0.493088</span><span id="509c" class="jm jn hi ji b fi js jp l jq jr">##### Setting the as_index parameter to 'False'</span><span id="ad98" class="jm jn hi ji b fi js jp l jq jr">titanic_data.groupby(by=['Survived','Embarked'], as_index=False ).mean()[['PassengerId','SibSp']]<br/>Out[81]: <br/>   PassengerId     SibSp<br/>0   409.853333  0.253333<br/>1   480.404255  0.510638<br/>2   449.868852  0.611241<br/>3   473.989247  0.494624<br/>4   319.966667  0.300000<br/>5   448.857143  0.493088</span></pre><p id="4a09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¨è®ºå¦‚ä½•æ ¹æ®ä¸€åˆ—æˆ–å¤šåˆ—è½»æ¾è¿‡æ»¤æ•°æ®å¸§ã€‚è™½ç„¶å¼€å§‹æ—¶è¿‡æ»¤æ•°æ®å¸§çš„è¯­æ³•å¯èƒ½æœ‰ç‚¹éš¾è®°ï¼Œä½†æ˜¯è°·æ­Œä¸€ä¸‹ä¸ä¼šä¼¤å®³ä»»ä½•äººï¼ï¼</p><p id="259d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæœ‰äººè®©æˆ‘è¿‡æ»¤æ•°æ®é›†ï¼Œæ‰¾å‡ºé‚£äº›åœ¨æ³°å¦å°¼å…‹å·ç¾éš¾ä¸­å¹¸å­˜çš„ä¹˜å®¢çš„ä¹˜å®¢ç­‰çº§(Pclassåˆ—),æˆ‘ä¼šè¿™ä¹ˆåšã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4598" class="jm jn hi ji b fi jo jp l jq jr"># displaying only the first 10 rows #<br/>titanic_data[titanic_data['Survived']==1]['Pclass'].head(10)<br/>Out[85]: <br/>1     1<br/>2     3<br/>3     1<br/>8     3<br/>9     2<br/>10    3<br/>11    1<br/>15    2<br/>17    2<br/>19    3<br/>Name: Pclass, dtype: int64</span></pre><p id="0383" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œå¦‚ä½•æ‰¾åˆ°å¹¸å­˜ä¹˜å®¢çš„æœ€é«˜å’Œæœ€ä½ç¥¨ä»·ã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="0ee2" class="jm jn hi ji b fi jo jp l jq jr">max(titanic_data[titanic_data['Survived']==1]['Fare'])<br/>Out[87]: 512.3292</span><span id="b89d" class="jm jn hi ji b fi js jp l jq jr">min(titanic_data[titanic_data['Survived']==1]['Fare'])<br/>Out[88]: 0.0</span></pre><p id="1ee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ€å¤§å€¼ä¼¼ä¹æ˜¯å¯ä¿¡çš„ï¼Œä½†è®©æˆ‘æ„Ÿåˆ°å¥‡æ€ªçš„æ˜¯ï¼Œæœ‰äººä¸ºäº†å…è´¹çš„ğŸ§è€Œä¹˜åæ³°å¦å°¼å…‹å·ï¼Œæ‰€ä»¥æ•°æ®å¯èƒ½æ²¡æœ‰å…³äºä¹˜å®¢ç¥¨ä»·çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p id="ba10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œæˆ‘å¸Œæœ›çœ‹åˆ°ç”·æ€§ä¹˜å®¢ä¸å¥³æ€§ä¹˜å®¢çš„æ¯”ä¾‹ï¼Œåœ¨æ¯ä¸ªæ¸¯å£ç™»æœºï¼Œä¹Ÿè®¸æˆ‘ä¼šç»˜åˆ¶ä¸€ä¸ªå †å çš„æ¡å½¢å›¾æ¥æ˜¾ç¤ºç»“æœã€‚</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="b097" class="jm jn hi ji b fi jo jp l jq jr">proportion_male = []<br/>proportion_female = []<br/>for i in port:<br/>    male_pass =  titanic_data[(titanic_data['Sex'] == 'male') &amp; (titanic_data['Embarked'] == i)]['PassengerId'].count()<br/>    female_pass =  titanic_data[(titanic_data['Sex'] == 'female') &amp; (titanic_data['Embarked'] == i)]['PassengerId'].count()<br/>    total_pass = titanic_data[(titanic_data['Embarked'] == i)]['PassengerId'].count()<br/>    proportion_male.append(male_pass/total_pass)<br/>    proportion_female.append(female_pass/total_pass)</span><span id="9f5a" class="jm jn hi ji b fi js jp l jq jr"># creating a new DataFrame with the 'Embarked' values as the indices and the proportion values as columns #</span><span id="cc23" class="jm jn hi ji b fi js jp l jq jr">temp_df= pd.DataFrame()</span><span id="17de" class="jm jn hi ji b fi js jp l jq jr">temp_df= pd.DataFrame(index=port)</span><span id="6472" class="jm jn hi ji b fi js jp l jq jr">temp_df['female_prop'] = proportion_female</span><span id="f928" class="jm jn hi ji b fi js jp l jq jr">temp_df['male_prop'] = proportion_male</span><span id="205b" class="jm jn hi ji b fi js jp l jq jr"># Now plotting a stacked bar #</span><span id="0533" class="jm jn hi ji b fi js jp l jq jr">stacked_bar = temp_df.plot(kind='bar',stacked=True, figsize =(7,20))<br/>stacked_bar.set_ylabel('proportion')<br/>stacked_bar.set_xlabel('Port of Embarkation')</span></pre><figure class="jd je jf jg fd ju er es paragraph-image"><div class="er es kg"><img src="../Images/92e58f2ffda0cbb13be23fba7be447e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*mRwq_L3nKCp4TbHFq-2mzg.png"/></div></figure><p id="ad67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œå¥³æ€§ä¹˜å®¢çš„æ¯”ä¾‹åœ¨æ¸¯å£â€œSâ€ä¸­è¾ƒä½ï¼Œä½†åœ¨æ¸¯å£â€œCâ€ä¸­å‡ ä¹ä¸ç”·æ€§ä¹˜å®¢ç›¸ç­‰ï¼Œè€Œåœ¨æ¸¯å£â€œqâ€ä¸­é«˜äºç”·æ€§ä¹˜å®¢ã€‚</p><p id="5b7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯ä¸€ä¸ªå…³äºç†ŠçŒ«å¦‚ä½•å¸®åŠ©æˆ‘ä»¬è·å¾—æ›´å¹¿æ³›çš„æ•°æ®é›†è§†å›¾ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œä¸€äº›å¿«é€Ÿè€Œæœ‰è¶£çš„åˆ†æçš„ç®€ä»‹ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œå¹¶ç•™ä¸‹ä½ çš„åé¦ˆã€‚å†è§ï¼ğŸ˜€</p></div></div>    
</body>
</html>