<html>
<head>
<title>Central Limit Theorem and Implementation in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中心极限定理及其在Python中的实现</h1>
<blockquote>原文：<a href="https://medium.com/analytics-vidhya/central-limit-theorem-and-implementation-in-python-bd0a3b1b919f?source=collection_archive---------17-----------------------#2020-07-03">https://medium.com/analytics-vidhya/central-limit-theorem-and-implementation-in-python-bd0a3b1b919f?source=collection_archive---------17-----------------------#2020-07-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3c3f0c330c6b06c3047bace3391a5ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U3BbhvwL26qYpHCXp34jLQ.jpeg"/></div></div></figure><p id="f0e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个充满了很少遵循良好理论分布的数据的世界里，中心极限定理是一盏明灯。在执行任何类型的数据分析时，这是一个需要理解的重要概念。这个博客将解释什么是中心极限定理以及它在Python中的实现。</p><h1 id="0fee" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">大数定律</h1><p id="c327" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果我们想知道美国人的平均收入。收集每个美国人的数据是不切实际的，所以我们从中抽取样本。随着人口样本量的增加，样本的平均收入趋于接近收入人口的平均值。这种现象被称为<strong class="is hj">大数定律</strong></p><p id="529e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">随着样本量的增加:</p><p id="f23b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">—样本变得更能代表总体</p><p id="2c1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">—样本平均值更接近总体平均值</p><h1 id="b71a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">中心极限定理</h1><p id="7e4a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我们想算出美国人的平均收入。现在我们取多个样本，取每个样本的平均值，然后我们计算样本的平均收益的平均值。令人惊讶的是，我们发现这个数字非常接近人口的平均收入。如果我们绘制样本的所有这些平均值并形成分布，我们会发现样本的平均值遵循正态分布，平均值接近实际总体平均值。这种现象被称为<strong class="is hj">中心极限定理。</strong></p><ul class=""><li id="7b92" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">如果样本量足够大，样本均值的分布近似于高斯分布</li><li id="3fc8" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">样本的平均值接近总体平均值</li><li id="1575" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">我们需要随机抽样</li><li id="fa39" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">样本的分布可以是非高斯的，但是样本的平均值将遵循高斯分布</li><li id="6ba2" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">我们可以从总体中收集数据的子集，并使用该样本的统计数据来得出关于总体的结论，而不是收集整个总体的数据。</li></ul><h1 id="621c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">中心极限定理的实现</h1><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="f52c" class="lo jp hi lk b fi lp lq l lr ls"># Import packages<br/>import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span><span id="f762" class="lo jp hi lk b fi lt lq l lr ls"># import our data<br/>data = pd.read_csv('churn_prediction.csv')<br/>data.head()</span></pre><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/f38e1daffa197c7598f321a832101f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*fOfUwmLdkOZZLwB7LYohZA.png"/></div></figure><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="54a2" class="lo jp hi lk b fi lp lq l lr ls">population = data['vintage']</span></pre><p id="e55a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑到数据集的vintage特征是人口值，我们将其转换为dataframe。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="167a" class="lo jp hi lk b fi lp lq l lr ls">population.hist(bins=10)</span></pre><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es lv"><img src="../Images/3418ca0ee27b63dcd87f37e2e58d36eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*bHzMCcea24gjGXBTzIf7MA.png"/></div></figure><p id="1c34" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">葡萄酒的分布是左偏的。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="2369" class="lo jp hi lk b fi lp lq l lr ls">population.mean()</span></pre><p id="84e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">vintage特征的平均值在2091左右。</p><h2 id="4c87" class="lo jp hi bd jq lw lx ly ju lz ma mb jy jb mc md kc jf me mf kg jj mg mh kk mi bi translated">然后我们开始从我们的人口中抽取一些样本</h2><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="60a0" class="lo jp hi lk b fi lp lq l lr ls">#Create a list<br/>sampled_means = []</span><span id="3ae6" class="lo jp hi lk b fi lt lq l lr ls"># For 1000 times:<br/>for i in range(1000):<br/>    # Take a random sample of 100 rows from the popoulation, take the mean of these rows,append to sampled_means<br/>    sampled_means.append(population.sample(100).mean())</span><span id="a215" class="lo jp hi lk b fi lt lq l lr ls"># plotting histogram<br/>plt.figure(dpi = 140) #resolution of the figure<br/>plt.hist(sampled_means)<br/>plt.xlabel('Vintage')<br/>plt.ylabel('Frequency')<br/>plt.title("Histogram: Mean of samples of Vintage")<br/>plt.show()</span></pre><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/623546b41351aceaa5d46e088c5206a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*6sE6gZMhmUwXRwXeydUeVA.png"/></div></figure><ul class=""><li id="fa2c" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">采集了100个数据点的100个样本</li><li id="1981" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">随机样本的平均值实际上遵循正态分布</li><li id="a687" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">中心极限定理也可以用KDE来证明</li></ul><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="c060" class="lo jp hi lk b fi lp lq l lr ls"># View the mean of the sampled_means<br/>pd.Series(sampled_means).mean()</span></pre><p id="c480" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">样本均值的均值是2089。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="accc" class="lo jp hi lk b fi lp lq l lr ls"># Subtract Mean Sample Mean from True population mean<br/>error = population.mean()- pd.Series(sampled_means).mean()</span><span id="a6bb" class="lo jp hi lk b fi lt lq l lr ls">#print<br/>print('The Mean Sample Mean is only %f different the True Population mean!' % error)</span></pre><p id="81d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">样本平均值与真实总体平均值仅相差1.232355！</p></div></div>    
</body>
</html>